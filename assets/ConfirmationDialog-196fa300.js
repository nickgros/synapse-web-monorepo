var qC=Object.defineProperty;var FC=(e,t,n)=>t in e?qC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var je=(e,t,n)=>(FC(e,typeof t!="symbol"?t+"":t,n),n);import{j as m,a as L,F as Q}from"./jsx-runtime-095bf462.js";import{r as DC,i as OC,a as LC}from"./jsx-runtime_commonjs-proxy-27924edb.js";import{r as P,R as z}from"./index-8db94870.js";import{g as Nt,c as Yr}from"./_commonjsHelpers-042e6b4d.js";import{b0 as xi,u as ze,b1 as VC,az as da,b2 as MC,b3 as mb,b4 as Ya,b5 as BC,b6 as UC,b7 as bp,b8 as zC,b9 as sr,ba as HC,k as vb,a0 as Mc,bb as WC,S as gb,a as jC,bc as Zh,bd as yb,be as Ni,bf as $s,bg as bb,bh as QC,bi as wb,bj as GC,bk as YC,bl as Ii,bm as Sb,bn as _b,bo as Eb,bp as XC,bq as KC,br as ZC,E as wp,bs as Wn,bt as JC,l as ta,bu as Cb,bv as xb,bw as Nb,bx as Ib,by as Jh,aA as e1,bz as t1,bA as r1,bB as Tb,bC as n1,i as Rb,bD as a1,bE as i1}from"./EntityTypeUtils-80a22eb6.js";import{P as lr,g as o1,B as s1}from"./getEndpoint-ac94413e.js";import{W as fa}from"./WideButton-9612d606.js";import{j as Pb,T as l1,M as u1,S as qo,k as pa,l as ha,m as Sp,V as Xa,n as qs,o as c1,p as d1,q as f1,r as Fs,s as Ds,t as Os,u as Ls,v as ql,w as p1,E as Bc,i as _p,x as h1,y as m1,c as Ab,B as Ep,z as v1,C as kb,O as Uc,H as em,G as g1,F as y1,I as tm}from"./SynapseConstants-667d004c.js";import{S as Vs,l as Cp}from"./LoadingScreen-f2cda167.js";import{u as b1,U as ra,a as $b,g as w1}from"./UserCard-2dc60174.js";import{A as xp}from"./Alert-fbdd8ab9.js";import{p as S1,S as qb,D as _1}from"./RegularExpressions-bc0adf55.js";import{u as ma}from"./react-intersection-observer.modern-64b519d2.js";import{u as Fb}from"./useInfiniteQuery-39fdcb17.js";import{f as Ka}from"./DateFormatter-e14d0acc.js";import{d as ur}from"./dayjs.min-8d4ef725.js";import{S as Np}from"./SkeletonTable-e101c314.js";import{S as mn}from"./Skeleton-3aad52b9.js";import{u as E1,a as Fo,T as Et,t as zc}from"./Tooltip-72c76487.js";import{T as De}from"./Typography-0933b2f6.js";import{E as rm}from"./EntityIcon-7b11d56a.js";import{I as Fe,S as C1,a as x1,t as N1,H as I1}from"./IconSvg-a805d6e5.js";import{c as Ms}from"./_commonjs-dynamic-modules-302442b1.js";import{_ as T1,a as Db,b as R1,c as Ob,k as Bs,d as P1,e as A1,f as k1,g as $1,h as Lb,i as q1,j as F1,l as D1,m as Vb,n as Mb,o as Bb,u as Ub,p as O1}from"./uniq-db6de665.js";import{d as Pn,e as zb,f as va,a as cr,g as Jr,h as L1,j as V1,k as Hb,l as Wb,n as Ip,o as Tp,p as M1,q as Rp,r as en,s as B1,c as U1,t as Pp,u as Ti,v as z1,w as H1,x as W1,b as jb,y as Ap,z as kp,A as j1,B as Qb,C as Gb,D as Q1,E as G1,F as Y1,G as X1,H as Us,I as K1,J as Z1,K as J1,L as Yb,M as Xb,_ as ex}from"./mapValues-e7962af0.js";import{b as tx,c as $p}from"./isPlainObject-c3b03d84.js";import{t as rx,r as nx}from"./now-26f68cf8.js";import"./index-8ce4a492.js";import{d as ax,i as Da,u as ix,a as ox,t as sx}from"./unCamelCase-4e3fb7da.js";import{u as lx,R as ux}from"./RequestDownloadCard-fe4e6d5a.js";import{d as Xr,C as cx}from"./ToastMessage-def67892.js";import{_ as tn}from"./objectWithoutPropertiesLoose-4f48578a.js";import{_ as Ce}from"./extends-98964cd2.js";import{g as ga,a as ya,s as mt,x as Qt,u as ba,b as Vt,e as wa,k as Dn}from"./styled-f64e11ba.js";import{k as Kb,c as Zb}from"./emotion-react.browser.esm-4b1ddfee.js";import{c as Jb,P as ew}from"./factory-837f2467.js";import{p as rn,a as tw,g as qp}from"./sqlFunctions-b8583a57.js";import{u as Ri}from"./useEntity-c1c8e7cc.js";import{T as Do,N as dx,I as nm}from"./SynapseTableConstants-942d2b0b.js";import{u as Oo,a as fx,b as rw}from"./use-deep-compare-effect.esm-08e85271.js";import{u as px,a as hx}from"./useDownloadList-fb5f8676.js";import{a as nw,u as aw,b as mx}from"./useGetQueryResultBundle-59e99c46.js";import{s as vx}from"./NoSearchResults-460db635.js";import{s as gx}from"./NoData-59ea70fa.js";import{C as pe,U as yx}from"./UserCardList-068cc1a6.js";import{P as qe}from"./index-58d3fd43.js";import{_ as bx}from"./pick-614a0d06.js";import{g as wx}from"./sortBy-bad0a035.js";import{B as Gt}from"./Button-891a522f.js";import{i as iw,r as ow,h as sw,a as lw}from"./queryUtils-2f7d763e.js";import{i as Lo,a as Vo,C as Sx,b as _x,c as Ex}from"./QueryFilter-8bc1f9c1.js";import{c as Br}from"./cloneDeep-d72a434f.js";import{a as Cx,b as Fp,c as uw,d as xx,e as Nx,f as Ix,g as Tx,h as Rx,u as cw,i as dw}from"./useAccessRequirements-799d367c.js";import{u as za,S as Px}from"./UserSearchBoxV2-59d7f303.js";import{S as Ax}from"./StandaloneLoginForm-4e001b6e.js";import{D as Za,a as Ja,b as Dp}from"./DialogTitle-b2b86bbe.js";import{S as Pi}from"./Stack-98e16f53.js";import{B as ut}from"./Box-13f1aabd.js";import{I as zs}from"./IconButton-74239a2b.js";import{A as cn}from"./Alert-61691a15.js";import{R as kx}from"./ResearchProjectForm-e1114b3d.js";import{D as $x}from"./DataAccessRequestAccessorsFilesForm-43ca2a8d.js";import{A as qx}from"./AuthenticatedRequirement-2f187ef4.js";import{C as Fx}from"./CertificationRequirement-5426a0de.js";import{V as Dx}from"./ValidationRequirement-9a6de4bd.js";import{T as Ox}from"./TwoFactorAuthEnabledRequirement-cb86722c.js";import{R as Op,a as ar}from"./RequirementItem-476964f5.js";import{L as Xt}from"./Link-2921f78c.js";import{S as Rt}from"./ManagedACTAccessRequirementStatus-9671fe8d.js";import{M as fw}from"./Dialog-f99dbb4e.js";import{A as pw}from"./ActionRequiredCard-a42cc541.js";import{D as dt,E as Cn,C as Lp,a as Lx,S as Vx}from"./ElementWithTooltip-9ee99b1a.js";import"./react-is.production.min-a192e302.js";import{u as Hs}from"./useTheme-14d0ce71.js";import{d as Hc,o as hw}from"./ownerWindow-2c76219e.js";import{c as An}from"./Clear-72bafe95.js";import{B as Vp}from"./ButtonBase-4f599170.js";import{u as Fl}from"./TransitionGroupContext-0df7f063.js";import{o as Mx}from"./isHostComponent-fa76b8d9.js";import{Q as Bx}from"./QueryCount-e213e1e5.js";import{S as Ux}from"./SvgIcon-4c933a0b.js";import{I as Ws}from"./Icon-99dfa689.js";import{u as zx}from"./uniqueId-4d05949d.js";import{R as Hx}from"./RadioGroup-bf0fed90.js";import{R as Wx}from"./RangeSlider-209042a9.js";import{r as jx}from"./react-sizeme-0d7fb727.js";import{g as Qx}from"./ColorGradient-fc5a110b.js";import{S as Gx}from"./SelectionCriteriaPill-d01263ff.js";import{_ as Yx,e as am,f as Dl,v as Xx,b as im,g as Kx,i as Zx,u as Jx,S as eN,d as tN}from"./Select-457c486b.esm-39815c2e.js";import{I as rN}from"./IconList-d5864847.js";import{B as nN}from"./Button-5637ed55.js";import{a as mw,R as aN}from"./RestrictionInformation-4ed2591e.js";import{E as Wc}from"./EntityLink-9f0f9cd7.js";import{e as Gi}from"./_MapCache-cd376e86.js";import{u as iN,U as oN}from"./UserOrTeamBadge-58df9bc4.js";import{S as sN}from"./SynapseVideo-172e7024.js";let On;function vw(){if(On)return On;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),On="reverse",e.scrollLeft>0?On="default":(e.scrollLeft=1,e.scrollLeft===0&&(On="negative")),document.body.removeChild(e),On}function om(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(vw()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function lN(e){return ga("MuiCircularProgress",e)}ya("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const uN=["className","color","disableShrink","size","style","thickness","value","variant"];let js=e=>e,sm,lm,um,cm;const Ar=44,cN=Kb(sm||(sm=js`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),dN=Kb(lm||(lm=js`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),fN=e=>{const{classes:t,variant:n,color:a,disableShrink:r}=e,i={root:["root",n,`color${Qt(a)}`],svg:["svg"],circle:["circle",`circle${Qt(n)}`,r&&"circleDisableShrink"]};return wa(i,lN,t)},pN=mt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Qt(n.color)}`]]}})(({ownerState:e,theme:t})=>Ce({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Zb(um||(um=js`
      animation: ${0} 1.4s linear infinite;
    `),cN)),hN=mt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),mN=mt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Qt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Ce({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Zb(cm||(cm=js`
      animation: ${0} 1.4s ease-in-out infinite;
    `),dN)),vN=P.forwardRef(function(t,n){const a=ba({props:t,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=a,p=tn(a,uN),f=Ce({},a,{color:i,disableShrink:o,size:s,thickness:c,value:u,variant:d}),h=fN(f),v={},g={},b={};if(d==="determinate"){const E=2*Math.PI*((Ar-c)/2);v.strokeDasharray=E.toFixed(3),b["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*E).toFixed(3)}px`,g.transform="rotate(-90deg)"}return m(pN,Ce({className:Vt(h.root,r),style:Ce({width:s,height:s},g,l),ownerState:f,ref:n,role:"progressbar"},b,p,{children:m(hN,{className:h.svg,ownerState:f,viewBox:`${Ar/2} ${Ar/2} ${Ar} ${Ar}`,children:m(mN,{className:h.circle,style:v,ownerState:f,cx:Ar,cy:Ar,r:(Ar-c)/2,fill:"none",strokeWidth:c})})}))}),gN=vN;function yN(e){return ga("MuiPagination",e)}ya("MuiPagination",["root","ul","outlined","text"]);const bN=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function wN(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:a=1,defaultPage:r=1,disabled:i=!1,hideNextButton:o=!1,hidePrevButton:s=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:p=1}=e,f=tn(e,bN),[h,v]=E1({controlled:c,default:r,name:n,state:"page"}),g=(T,R)=>{c||v(R),l&&l(T,R)},b=(T,R)=>{const q=R-T+1;return Array.from({length:q},(k,I)=>T+I)},E=b(1,Math.min(t,a)),y=b(Math.max(a-t+1,t+1),a),_=Math.max(Math.min(h-p,a-t-p*2-1),t+2),w=Math.min(Math.max(h+p,t+p*2+2),y.length>0?y[0]-2:a-1),S=[...u?["first"]:[],...s?[]:["previous"],...E,..._>t+2?["start-ellipsis"]:t+1<a-t?[t+1]:[],...b(_,w),...w<a-t-1?["end-ellipsis"]:a-t>t?[a-t]:[],...y,...o?[]:["next"],...d?["last"]:[]],C=T=>{switch(T){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return a;default:return null}},x=S.map(T=>typeof T=="number"?{onClick:R=>{g(R,T)},type:"page",page:T,selected:T===h,disabled:i,"aria-current":T===h?"true":void 0}:{onClick:R=>{g(R,C(T))},type:T,page:C(T),selected:!1,disabled:i||T.indexOf("ellipsis")===-1&&(T==="next"||T==="last"?h>=a:h<=1)});return Ce({items:x},f)}function SN(e){return ga("MuiPaginationItem",e)}const _N=ya("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),Lt=_N,dm=An(m("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),fm=An(m("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),pm=An(m("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),hm=An(m("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),EN=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],gw=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Qt(n.size)}`],n.variant==="text"&&t[`text${Qt(n.color)}`],n.variant==="outlined"&&t[`outlined${Qt(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},CN=e=>{const{classes:t,color:n,disabled:a,selected:r,size:i,shape:o,type:s,variant:l}=e,c={root:["root",`size${Qt(i)}`,l,o,n!=="standard"&&`${l}${Qt(n)}`,a&&"disabled",r&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return wa(c,SN,t)},xN=mt("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:gw})(({theme:e,ownerState:t})=>Ce({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Lt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),NN=mt(Vp,{name:"MuiPaginationItem",slot:"Root",overridesResolver:gw})(({theme:e,ownerState:t})=>Ce({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Lt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Lt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lt.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Dn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Lt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Dn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${Lt.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>Ce({},t.variant==="text"&&{[`&.${Lt.selected}`]:Ce({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${Lt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${Lt.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Lt.selected}`]:Ce({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Dn(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:Dn(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Dn(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Dn(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${Lt.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),IN=mt("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>Ce({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),TN=P.forwardRef(function(t,n){const a=ba({props:t,name:"MuiPaginationItem"}),{className:r,color:i="standard",component:o,components:s={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:p="medium",slots:f={},type:h="page",variant:v="text"}=a,g=tn(a,EN),b=Ce({},a,{color:i,disabled:l,selected:u,shape:d,size:p,type:h,variant:v}),E=Hs(),y=CN(b),w=(E.direction==="rtl"?{previous:f.next||s.next||hm,next:f.previous||s.previous||pm,last:f.first||s.first||dm,first:f.last||s.last||fm}:{previous:f.previous||s.previous||pm,next:f.next||s.next||hm,first:f.first||s.first||dm,last:f.last||s.last||fm})[h];return h==="start-ellipsis"||h==="end-ellipsis"?m(xN,{ref:n,ownerState:b,className:Vt(y.root,r),children:"…"}):L(NN,Ce({ref:n,ownerState:b,component:o,disabled:l,className:Vt(y.root,r)},g,{children:[h==="page"&&c,w?m(IN,{as:w,ownerState:b,className:y.icon}):null]}))}),RN=TN,PN=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],AN=e=>{const{classes:t,variant:n}=e;return wa({root:["root",n],ul:["ul"]},yN,t)},kN=mt("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),$N=mt("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function qN(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const FN=P.forwardRef(function(t,n){const a=ba({props:t,name:"MuiPagination"}),{boundaryCount:r=1,className:i,color:o="standard",count:s=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=qN,hideNextButton:d=!1,hidePrevButton:p=!1,renderItem:f=x=>m(RN,Ce({},x)),shape:h="circular",showFirstButton:v=!1,showLastButton:g=!1,siblingCount:b=1,size:E="medium",variant:y="text"}=a,_=tn(a,PN),{items:w}=wN(Ce({},a,{componentName:"Pagination"})),S=Ce({},a,{boundaryCount:r,color:o,count:s,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:p,renderItem:f,shape:h,showFirstButton:v,showLastButton:g,siblingCount:b,size:E,variant:y}),C=AN(S);return m(kN,Ce({"aria-label":"pagination navigation",className:Vt(C.root,i),ownerState:S,ref:n},_,{children:m($N,{className:C.ul,ownerState:S,children:w.map((x,T)=>m("li",{children:f(Ce({},x,{color:o,"aria-label":u(x.type,x.page,x.selected),shape:h,size:E,variant:y}))},T))})}))}),DN=FN;function ON(e){return ga("MuiTab",e)}const LN=ya("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ln=LN,VN=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],MN=e=>{const{classes:t,textColor:n,fullWidth:a,wrapped:r,icon:i,label:o,selected:s,disabled:l}=e,c={root:["root",i&&o&&"labelIcon",`textColor${Qt(n)}`,a&&"fullWidth",r&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return wa(c,ON,t)},BN=mt(Vp,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Qt(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>Ce({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ln.iconWrapper}`]:Ce({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ln.selected}`]:{opacity:1},[`&.${ln.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ln.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ln.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ln.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ln.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),UN=P.forwardRef(function(t,n){const a=ba({props:t,name:"MuiTab"}),{className:r,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:p,onClick:f,onFocus:h,selected:v,selectionFollowsFocus:g,textColor:b="inherit",value:E,wrapped:y=!1}=a,_=tn(a,VN),w=Ce({},a,{disabled:i,disableFocusRipple:o,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:s,textColor:b,wrapped:y}),S=MN(w),C=l&&d&&P.isValidElement(l)?P.cloneElement(l,{className:Vt(S.iconWrapper,l.props.className)}):l,x=R=>{!v&&p&&p(R,E),f&&f(R)},T=R=>{g&&!v&&p&&p(R,E),h&&h(R)};return L(BN,Ce({focusRipple:!o,className:Vt(S.root,r),ref:n,role:"tab","aria-selected":v,disabled:i,onClick:x,onFocus:T,ownerState:w,tabIndex:v?0:-1},_,{children:[c==="top"||c==="start"?L(P.Fragment,{children:[C,d]}):L(P.Fragment,{children:[d,C]}),u]}))}),Ol=UN,zN=An(m("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),HN=An(m("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function WN(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function jN(e,t,n,a={},r=()=>{}){const{ease:i=WN,duration:o=300}=a;let s=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=p=>{if(c){r(new Error("Animation cancelled"));return}s===null&&(s=p);const f=Math.min(1,(p-s)/o);if(t[e]=i(f)*(n-l)+l,f>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(d)};return l===n?(r(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const QN=["onChange"],GN={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function YN(e){const{onChange:t}=e,n=tn(e,QN),a=P.useRef(),r=P.useRef(null),i=()=>{a.current=r.current.offsetHeight-r.current.clientHeight};return P.useEffect(()=>{const o=Hc(()=>{const l=a.current;i(),l!==a.current&&t(a.current)}),s=hw(r.current);return s.addEventListener("resize",o),()=>{o.clear(),s.removeEventListener("resize",o)}},[t]),P.useEffect(()=>{i(),t(a.current)},[t]),m("div",Ce({style:GN,ref:r},n))}function XN(e){return ga("MuiTabScrollButton",e)}const KN=ya("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ZN=KN,JN=["className","slots","slotProps","direction","orientation","disabled"],eI=e=>{const{classes:t,orientation:n,disabled:a}=e;return wa({root:["root",n,a&&"disabled"]},XN,t)},tI=mt(Vp,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>Ce({width:40,flexShrink:0,opacity:.8,[`&.${ZN.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),rI=P.forwardRef(function(t,n){var a,r;const i=ba({props:t,name:"MuiTabScrollButton"}),{className:o,slots:s={},slotProps:l={},direction:c}=i,u=tn(i,JN),p=Hs().direction==="rtl",f=Ce({isRtl:p},i),h=eI(f),v=(a=s.StartScrollButtonIcon)!=null?a:zN,g=(r=s.EndScrollButtonIcon)!=null?r:HN,b=Fo({elementType:v,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),E=Fo({elementType:g,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return m(tI,Ce({component:"div",className:Vt(h.root,o),ref:n,role:null,ownerState:f,tabIndex:null},u,{children:c==="left"?m(v,Ce({},b)):m(g,Ce({},E))}))}),nI=rI;function aI(e){return ga("MuiTabs",e)}const iI=ya("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Ll=iI,oI=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],mm=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,vm=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Yi=(e,t,n)=>{let a=!1,r=n(e,t);for(;r;){if(r===e.firstChild){if(a)return;a=!0}const i=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||i)r=n(e,r);else{r.focus();return}}},sI=e=>{const{vertical:t,fixed:n,hideScrollbar:a,scrollableX:r,scrollableY:i,centered:o,scrollButtonsHideMobile:s,classes:l}=e;return wa({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",a&&"hideScrollbar",r&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]},aI,l)},lI=mt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ll.scrollButtons}`]:t.scrollButtons},{[`& .${Ll.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>Ce({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Ll.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),uI=mt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>Ce({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),cI=mt("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>Ce({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),dI=mt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>Ce({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),fI=mt(YN,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),gm={},pI=P.forwardRef(function(t,n){const a=ba({props:t,name:"MuiTabs"}),r=Hs(),i=r.direction==="rtl",{"aria-label":o,"aria-labelledby":s,action:l,centered:c=!1,children:u,className:d,component:p="div",allowScrollButtonsMobile:f=!1,indicatorColor:h="primary",onChange:v,orientation:g="horizontal",ScrollButtonComponent:b=nI,scrollButtons:E="auto",selectionFollowsFocus:y,slots:_={},slotProps:w={},TabIndicatorProps:S={},TabScrollButtonProps:C={},textColor:x="primary",value:T,variant:R="standard",visibleScrollbar:q=!1}=a,k=tn(a,oI),I=R==="scrollable",N=g==="vertical",$=N?"scrollTop":"scrollLeft",F=N?"top":"left",A=N?"bottom":"right",V=N?"clientHeight":"clientWidth",O=N?"height":"width",U=Ce({},a,{component:p,allowScrollButtonsMobile:f,indicatorColor:h,orientation:g,vertical:N,scrollButtons:E,textColor:x,variant:R,visibleScrollbar:q,fixed:!I,hideScrollbar:I&&!q,scrollableX:I&&!N,scrollableY:I&&N,centered:c&&!I,scrollButtonsHideMobile:!f}),H=sI(U),G=Fo({elementType:_.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:U}),X=Fo({elementType:_.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:U}),[Y,K]=P.useState(!1),[J,ne]=P.useState(gm),[fe,ye]=P.useState({start:!1,end:!1}),[ie,ve]=P.useState({overflow:"hidden",scrollbarWidth:0}),Ae=new Map,he=P.useRef(null),te=P.useRef(null),me=()=>{const Z=he.current;let re;if(Z){const Ie=Z.getBoundingClientRect();re={clientWidth:Z.clientWidth,scrollLeft:Z.scrollLeft,scrollTop:Z.scrollTop,scrollLeftNormalized:om(Z,r.direction),scrollWidth:Z.scrollWidth,top:Ie.top,bottom:Ie.bottom,left:Ie.left,right:Ie.right}}let Ee;if(Z&&T!==!1){const Ie=te.current.children;if(Ie.length>0){const Qe=Ie[Ae.get(T)];Ee=Qe?Qe.getBoundingClientRect():null}}return{tabsMeta:re,tabMeta:Ee}},we=Fl(()=>{const{tabsMeta:Z,tabMeta:re}=me();let Ee=0,Ie;if(N)Ie="top",re&&Z&&(Ee=re.top-Z.top+Z.scrollTop);else if(Ie=i?"right":"left",re&&Z){const Xe=i?Z.scrollLeftNormalized+Z.clientWidth-Z.scrollWidth:Z.scrollLeft;Ee=(i?-1:1)*(re[Ie]-Z[Ie]+Xe)}const Qe={[Ie]:Ee,[O]:re?re[O]:0};if(isNaN(J[Ie])||isNaN(J[O]))ne(Qe);else{const Xe=Math.abs(J[Ie]-Qe[Ie]),Ft=Math.abs(J[O]-Qe[O]);(Xe>=1||Ft>=1)&&ne(Qe)}}),ae=(Z,{animation:re=!0}={})=>{re?jN($,he.current,Z,{duration:r.transitions.duration.standard}):he.current[$]=Z},Ye=Z=>{let re=he.current[$];N?re+=Z:(re+=Z*(i?-1:1),re*=i&&vw()==="reverse"?-1:1),ae(re)},ke=()=>{const Z=he.current[V];let re=0;const Ee=Array.from(te.current.children);for(let Ie=0;Ie<Ee.length;Ie+=1){const Qe=Ee[Ie];if(re+Qe[V]>Z){Ie===0&&(re=Z);break}re+=Qe[V]}return re},He=()=>{Ye(-1*ke())},lt=()=>{Ye(ke())},$e=P.useCallback(Z=>{ve({overflow:null,scrollbarWidth:Z})},[]),ee=()=>{const Z={};Z.scrollbarSizeListener=I?m(fI,{onChange:$e,className:Vt(H.scrollableX,H.hideScrollbar)}):null;const re=fe.start||fe.end,Ee=I&&(E==="auto"&&re||E===!0);return Z.scrollButtonStart=Ee?m(b,Ce({slots:{StartScrollButtonIcon:_.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:G},orientation:g,direction:i?"right":"left",onClick:He,disabled:!fe.start},C,{className:Vt(H.scrollButtons,C.className)})):null,Z.scrollButtonEnd=Ee?m(b,Ce({slots:{EndScrollButtonIcon:_.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:X},orientation:g,direction:i?"left":"right",onClick:lt,disabled:!fe.end},C,{className:Vt(H.scrollButtons,C.className)})):null,Z},ue=Fl(Z=>{const{tabsMeta:re,tabMeta:Ee}=me();if(!(!Ee||!re)){if(Ee[F]<re[F]){const Ie=re[$]+(Ee[F]-re[F]);ae(Ie,{animation:Z})}else if(Ee[A]>re[A]){const Ie=re[$]+(Ee[A]-re[A]);ae(Ie,{animation:Z})}}}),de=Fl(()=>{if(I&&E!==!1){const{scrollTop:Z,scrollHeight:re,clientHeight:Ee,scrollWidth:Ie,clientWidth:Qe}=he.current;let Xe,Ft;if(N)Xe=Z>1,Ft=Z<re-Ee-1;else{const Dt=om(he.current,r.direction);Xe=i?Dt<Ie-Qe-1:Dt>1,Ft=i?Dt>1:Dt<Ie-Qe-1}(Xe!==fe.start||Ft!==fe.end)&&ye({start:Xe,end:Ft})}});P.useEffect(()=>{const Z=Hc(()=>{he.current&&(we(),de())}),re=hw(he.current);re.addEventListener("resize",Z);let Ee;return typeof ResizeObserver<"u"&&(Ee=new ResizeObserver(Z),Array.from(te.current.children).forEach(Ie=>{Ee.observe(Ie)})),()=>{Z.clear(),re.removeEventListener("resize",Z),Ee&&Ee.disconnect()}},[we,de]);const Ne=P.useMemo(()=>Hc(()=>{de()}),[de]);P.useEffect(()=>()=>{Ne.clear()},[Ne]),P.useEffect(()=>{K(!0)},[]),P.useEffect(()=>{we(),de()}),P.useEffect(()=>{ue(gm!==J)},[ue,J]),P.useImperativeHandle(l,()=>({updateIndicator:we,updateScrollButtons:de}),[we,de]);const ge=m(dI,Ce({},S,{className:Vt(H.indicator,S.className),ownerState:U,style:Ce({},J,S.style)}));let pt=0;const Se=P.Children.map(u,Z=>{if(!P.isValidElement(Z))return null;const re=Z.props.value===void 0?pt:Z.props.value;Ae.set(re,pt);const Ee=re===T;return pt+=1,P.cloneElement(Z,Ce({fullWidth:R==="fullWidth",indicator:Ee&&!Y&&ge,selected:Ee,selectionFollowsFocus:y,onChange:v,textColor:x,value:re},pt===1&&T===!1&&!Z.props.tabIndex?{tabIndex:0}:{}))}),We=Z=>{const re=te.current,Ee=Mx(re).activeElement;if(Ee.getAttribute("role")!=="tab")return;let Qe=g==="horizontal"?"ArrowLeft":"ArrowUp",Xe=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&i&&(Qe="ArrowRight",Xe="ArrowLeft"),Z.key){case Qe:Z.preventDefault(),Yi(re,Ee,vm);break;case Xe:Z.preventDefault(),Yi(re,Ee,mm);break;case"Home":Z.preventDefault(),Yi(re,null,mm);break;case"End":Z.preventDefault(),Yi(re,null,vm);break}},Me=ee();return L(lI,Ce({className:Vt(H.root,d),ownerState:U,ref:n,as:p},k,{children:[Me.scrollButtonStart,Me.scrollbarSizeListener,L(uI,{className:H.scroller,ownerState:U,style:{overflow:ie.overflow,[N?`margin${i?"Left":"Right"}`:"marginBottom"]:q?void 0:-ie.scrollbarWidth},ref:he,onScroll:Ne,children:[m(cI,{"aria-label":o,"aria-labelledby":s,"aria-orientation":g==="vertical"?"vertical":null,className:H.flexContainer,ownerState:U,onKeyDown:We,ref:te,role:"tablist",children:Se}),Y&&ge]}),Me.scrollButtonEnd]}))}),hI=pI;var yw=(e=>(e.APPROVED="APPROVED",e.REVOKED="REVOKED",e))(yw||{}),mI=(e=>(e.MODIFIED_ON="MODIFIED_ON",e.EXPIRED_ON="EXPIRED_ON",e))(mI||{});const vI=xi("org.sagebionetworks.repo.model.TermsOfUseAccessRequirement"),gI="org.sagebionetworks.repo.model.file.GoogleCloudFileHandle",yI="org.sagebionetworks.repo.model.file.S3FileHandle",Mp=xi(yI,gI),bI="org.sagebionetworks.repo.model.file.ExternalFileHandle",wI="org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle",SI="org.sagebionetworks.repo.model.file.ProxyFileHandle",_I=xi(SI,wI,bI),EI="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",CI="org.sagebionetworks.repo.model.table.FacetColumnRangeRequest",jc=xi(EI),xI=xi(CI),NI=An(m("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"WarningSharp");function II(e,t){const{accessToken:n,keyFactory:a}=ze(),r={accessRequirementId:e};return Fb(a.getApprovedSubmissionInfoQueryKey(r),async i=>await VC({...r,nextPageToken:i.pageParam},n),{...t,getNextPageParam:i=>i.nextPageToken})}function bw(e,t,n=Pb,a){const{accessToken:r,keyFactory:i}=ze();return da(i.getEntityBundleQueryKey(e,t,n),()=>MC(e,n,t,r),a)}function TI(e,t){const{accessToken:n,keyFactory:a}=ze();return da(a.getEntityChildrenQueryKey(e,!1),()=>mb(e,n),t)}function Rj(e,t){const{accessToken:n,keyFactory:a}=ze();return Fb(a.getEntityChildrenQueryKey(e,!0),async r=>await mb({...e,includeTotalChildCount:r.pageParam?!1:e.includeTotalChildCount,nextPageToken:r.pageParam},n,r.signal),{...t,getNextPageParam:r=>r.nextPageToken})}var Bp={},RI=OC;Object.defineProperty(Bp,"__esModule",{value:!0});var ww=Bp.default=void 0,PI=RI(DC()),AI=LC,kI=(0,PI.default)((0,AI.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");ww=Bp.default=kI;var Qc={exports:{}},nt={},Gc={exports:{}},kn={};function Sw(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function $I(e,t,n){}function qI(e,t,n){}var FI=/javascript\s*\:/img;function DI(e,t){return FI.test(t)?"":t}kn.whiteList=Sw();kn.getDefaultWhiteList=Sw;kn.onAttr=$I;kn.onIgnoreAttr=qI;kn.safeAttrValue=DI;var OI={indexOf:function(e,t){var n,a;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var a,r;if(Array.prototype.forEach)return e.forEach(t,n);for(a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ta=OI;function LI(e,t){e=Ta.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,a=!1,r=0,i=0,o="";function s(){if(!a){var u=Ta.trim(e.slice(r,i)),d=u.indexOf(":");if(d!==-1){var p=Ta.trim(u.slice(0,d)),f=Ta.trim(u.slice(d+1));if(p){var h=t(r,o.length,p,f,u);h&&(o+=h+"; ")}}}r=i+1}for(;i<n;i++){var l=e[i];if(l==="/"&&e[i+1]==="*"){var c=e.indexOf("*/",i+2);if(c===-1)break;i=c+1,r=i+1,a=!1}else l==="("?a=!0:l===")"?a=!1:l===";"?a||s():l===`
`&&s()}return Ta.trim(o)}var VI=LI,Xi=kn,MI=VI;function ym(e){return e==null}function BI(e){var t={};for(var n in e)t[n]=e[n];return t}function _w(e){e=BI(e||{}),e.whiteList=e.whiteList||Xi.whiteList,e.onAttr=e.onAttr||Xi.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Xi.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Xi.safeAttrValue,this.options=e}_w.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,r=n.onAttr,i=n.onIgnoreAttr,o=n.safeAttrValue,s=MI(e,function(l,c,u,d,p){var f=a[u],h=!1;if(f===!0?h=f:typeof f=="function"?h=f(d):f instanceof RegExp&&(h=f.test(d)),h!==!0&&(h=!1),d=o(u,d),!!d){var v={position:c,sourcePosition:l,source:p,isWhite:h};if(h){var g=r(u,d,v);return ym(g)?u+":"+d:g}else{var g=i(u,d,v);if(!ym(g))return g}}});return s};var UI=_w;(function(e,t){var n=kn,a=UI;function r(o,s){var l=new a(s);return l.process(o)}t=e.exports=r,t.FilterCSS=a;for(var i in n)t[i]=n[i];typeof window<"u"&&(window.filterCSS=e.exports)})(Gc,Gc.exports);var Up=Gc.exports,zp={indexOf:function(e,t){var n,a;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var a,r;if(Array.prototype.forEach)return e.forEach(t,n);for(a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},zI=Up.FilterCSS,HI=Up.getDefaultWhiteList,Mo=zp;function Ew(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Cw=new zI;function WI(e,t,n){}function jI(e,t,n){}function QI(e,t,n){}function GI(e,t,n){}function xw(e){return e.replace(XI,"&lt;").replace(KI,"&gt;")}function YI(e,t,n,a){if(n=Aw(n),t==="href"||t==="src"){if(n=Mo.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(Ki.lastIndex=0,Ki.test(n))return""}else if(t==="style"){if(bm.lastIndex=0,bm.test(n)||(wm.lastIndex=0,wm.test(n)&&(Ki.lastIndex=0,Ki.test(n))))return"";a!==!1&&(a=a||Cw,n=a.process(n))}return n=kw(n),n}var XI=/</g,KI=/>/g,ZI=/"/g,JI=/&quot;/g,eT=/&#([a-zA-Z0-9]*);?/gim,tT=/&colon;?/gim,rT=/&newline;?/gim,Ki=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,bm=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,wm=/u\s*r\s*l\s*\(.*/gi;function Nw(e){return e.replace(ZI,"&quot;")}function Iw(e){return e.replace(JI,'"')}function Tw(e){return e.replace(eT,function(n,a){return a[0]==="x"||a[0]==="X"?String.fromCharCode(parseInt(a.substr(1),16)):String.fromCharCode(parseInt(a,10))})}function Rw(e){return e.replace(tT,":").replace(rT," ")}function Pw(e){for(var t="",n=0,a=e.length;n<a;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return Mo.trim(t)}function Aw(e){return e=Iw(e),e=Tw(e),e=Rw(e),e=Pw(e),e}function kw(e){return e=Nw(e),e=xw(e),e}function nT(){return""}function aT(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function a(o){return n?!0:Mo.indexOf(e,o)!==-1}var r=[],i=!1;return{onIgnoreTag:function(o,s,l){if(a(o))if(l.isClosing){var c="[/removed]",u=l.position+c.length;return r.push([i!==!1?i:l.position,u]),i=!1,c}else return i||(i=l.position),"[removed]";else return t(o,s,l)},remove:function(o){var s="",l=0;return Mo.forEach(r,function(c){s+=o.slice(l,c[0]),l=c[1]}),s+=o.slice(l),s}}}function iT(e){for(var t="",n=0;n<e.length;){var a=e.indexOf("<!--",n);if(a===-1){t+=e.slice(n);break}t+=e.slice(n,a);var r=e.indexOf("-->",a);if(r===-1)break;n=r+3}return t}function oT(e){var t=e.split("");return t=t.filter(function(n){var a=n.charCodeAt(0);return a===127?!1:a<=31?a===10||a===13:!0}),t.join("")}nt.whiteList=Ew();nt.getDefaultWhiteList=Ew;nt.onTag=WI;nt.onIgnoreTag=jI;nt.onTagAttr=QI;nt.onIgnoreTagAttr=GI;nt.safeAttrValue=YI;nt.escapeHtml=xw;nt.escapeQuote=Nw;nt.unescapeQuote=Iw;nt.escapeHtmlEntities=Tw;nt.escapeDangerHtml5Entities=Rw;nt.clearNonPrintableCharacter=Pw;nt.friendlyAttrValue=Aw;nt.escapeAttrValue=kw;nt.onIgnoreTagStripAll=nT;nt.StripTagBody=aT;nt.stripCommentTag=iT;nt.stripBlankChar=oT;nt.cssFilter=Cw;nt.getDefaultCSSWhiteList=HI;var Qs={},Dr=zp;function sT(e){var t=Dr.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=Dr.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function lT(e){return e.slice(0,2)==="</"}function uT(e,t,n){var a="",r=0,i=!1,o=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(i===!1){if(d==="<"){i=s;continue}}else if(o===!1){if(d==="<"){a+=n(e.slice(r,s)),i=s,r=s;continue}if(d===">"||s===l-1){a+=n(e.slice(r,i)),u=e.slice(i,s+1),c=sT(u),a+=t(i,a.length,c,u,lT(u)),r=s+1,i=!1;continue}if(d==='"'||d==="'")for(var p=1,f=e.charAt(s-p);f.trim()===""||f==="=";){if(f==="="){o=d;continue e}f=e.charAt(s-++p)}}else if(d===o){o=!1;continue}}return r<l&&(a+=n(e.substr(r))),a}var cT=/[^a-zA-Z0-9\\_:.-]/gim;function dT(e,t){var n=0,a=0,r=[],i=!1,o=e.length;function s(p,f){if(p=Dr.trim(p),p=p.replace(cT,"").toLowerCase(),!(p.length<1)){var h=t(p,f||"");h&&r.push(h)}}for(var l=0;l<o;l++){var c=e.charAt(l),u,d;if(i===!1&&c==="="){i=e.slice(n,l),n=l+1,a=e.charAt(n)==='"'||e.charAt(n)==="'"?n:pT(e,l+1);continue}if(i!==!1&&l===a){if(d=e.indexOf(c,l+1),d===-1)break;u=Dr.trim(e.slice(a+1,d)),s(i,u),i=!1,l=d,n=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(d=fT(e,l),d===-1){u=Dr.trim(e.slice(n,l)),s(u),i=!1,n=l+1;continue}else{l=d-1;continue}else if(d=hT(e,l-1),d===-1){u=Dr.trim(e.slice(n,l)),u=Sm(u),s(i,u),i=!1,n=l+1;continue}else continue}return n<e.length&&(i===!1?s(e.slice(n)):s(i,Sm(Dr.trim(e.slice(n))))),Dr.trim(r.join(" "))}function fT(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function pT(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function hT(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function mT(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function Sm(e){return mT(e)?e.substr(1,e.length-2):e}Qs.parseTag=uT;Qs.parseAttr=dT;var vT=Up.FilterCSS,zt=nt,$w=Qs,gT=$w.parseTag,yT=$w.parseAttr,xo=zp;function Zi(e){return e==null}function bT(e){var t=xo.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=xo.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=xo.trim(e.slice(0,-1))),{html:e,closing:n}}function wT(e){var t={};for(var n in e)t[n]=e[n];return t}function ST(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(a){return a.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function qw(e){e=wT(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=zt.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=ST(e.whiteList||e.allowList):e.whiteList=zt.whiteList,e.onTag=e.onTag||zt.onTag,e.onTagAttr=e.onTagAttr||zt.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||zt.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||zt.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||zt.safeAttrValue,e.escapeHtml=e.escapeHtml||zt.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new vT(e.css))}qw.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,r=n.onTag,i=n.onIgnoreTag,o=n.onTagAttr,s=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=zt.stripBlankChar(e)),n.allowCommentTag||(e=zt.stripCommentTag(e));var d=!1;n.stripIgnoreTagBody&&(d=zt.StripTagBody(n.stripIgnoreTagBody,i),i=d.onIgnoreTag);var p=gT(e,function(f,h,v,g,b){var E={sourcePosition:f,position:h,isClosing:b,isWhite:Object.prototype.hasOwnProperty.call(a,v)},y=r(v,g,E);if(!Zi(y))return y;if(E.isWhite){if(E.isClosing)return"</"+v+">";var _=bT(g),w=a[v],S=yT(_.html,function(C,x){var T=xo.indexOf(w,C)!==-1,R=o(v,C,x,T);return Zi(R)?T?(x=l(v,C,x,u),x?C+'="'+x+'"':C):(R=s(v,C,x,T),Zi(R)?void 0:R):R});return g="<"+v,S&&(g+=" "+S),_.closing&&(g+=" /"),g+=">",g}else return y=i(v,g,E),Zi(y)?c(g):y},c);return d&&(p=d.remove(p)),p};var _T=qw;(function(e,t){var n=nt,a=Qs,r=_T;function i(s,l){var c=new r(l);return c.process(s)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=r,function(){for(var s in n)t[s]=n[s];for(var l in a)t[l]=a[l]}(),typeof window<"u"&&(window.filterXSS=e.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(Qc,Qc.exports);var ET=Qc.exports;const Fw=Nt(ET),Dw={whiteList:{a:["target","href","title","ref"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],body:[],br:[],button:["class"],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["class"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],g:[],h1:["toc"],h2:["toc"],h3:["toc"],h4:["toc"],h5:["toc"],h6:["toc"],head:[],header:[],hr:[],html:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:["class"],mark:[],nav:[],noscript:[],ol:["class"],p:[],pre:[],s:[],section:[],small:[],span:["data-widgetparams","class","id"],sub:[],summary:[],sup:[],strong:[],svg:[],table:["width","border","align","valign","class"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign","class"],thead:["class","align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:["class"],video:["autoplay","controls","loop","preload","src","height","width"]},stripIgnoreTagBody:!0,allowCommentTag:!1,css:!1,onIgnoreTag:function(e,t,n){if(e==="!doctype")return t},safeAttrValue:function(e,t,n){return e==="img"&&t==="src"?n&&(n.startsWith("data:image/")||n.startsWith("http"))?n:"":n}};function Yc(e){let t="";const{align:n="",highlight:a=""}=e,r=a==="true",i=n.toLowerCase();i==="left"&&(t+="floatleft "),i==="right"&&(t+="floatright ");const o=i==="center",s=r?"secondary":"neutral",l=m(fa,{href:e.url,className:t,variant:"contained",color:s,sx:{"&:hover":{backgroundColor:r?void 0:"secondary.main",color:"white"},...!o&&e.url&&{margin:"20px 20px 20px 0px"}},children:e.text});return o?m("div",{style:{textAlign:"center"},children:l}):m("span",{children:l})}try{Yc.displayName="MarkdownButton",Yc.__docgenInfo={description:"",displayName:"MarkdownButton",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"string"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}}}}}catch{}async function CT(e,t,n){const a=new Set;try{let r=await Ya(n,e,t);for(;BC(r);){if(a.has(r.id))throw new Error("Link forms a cycle.");a.add(r.id),r=await Ya(n,r.linksTo.targetId,r.linksTo.targetVersionNumber)}return r}catch(r){throw new Error(`${e} could not be resolved.
${r.message}`)}}function xT(e,t,n){const{accessToken:a}=ze();return da(["resolveLinkEntity",e,t],()=>CT(e,t,a),n)}function NT(e,t,n){const{accessToken:a,keyFactory:r}=ze();return da(r.getIsUserMemberOfTeamQueryKey(e,t),()=>UC(e,t,a),n)}function IT(e){const{rawHtml:t,isLoading:n,isTrusted:a}=e;return P.useMemo(()=>{if(!n)return a?t:Fw(t,Dw)},[n,a,t])}function Xc(e){const{createdByUserId:t,rawHtml:n}=e,a=P.useRef(null),[r,i]=P.useState(100),{data:o,isLoading:s}=NT(l1,t),l=()=>{if(a!=null&&a.current&&(a!=null&&a.current.contentWindow)){let d=a.current.contentWindow.document.body.scrollHeight;d<450&&(d=450),(!r||Math.abs(d-r)>70)&&i(d+50)}};P.useEffect(()=>{setInterval(()=>{l()},500)},[n]);const u=IT({rawHtml:n,isLoading:s,isTrusted:!!o});return s?m(Vs,{}):L(Q,{children:[n!==u&&m(xp,{variant:"info",dismissible:!1,show:!0,transition:!1,children:"Limited rendering only."}),m("iframe",{ref:a,srcDoc:u,height:`${r}px`,style:{border:0,width:"100%"}})]})}try{Xc.displayName="HtmlPreview",Xc.__docgenInfo={description:"Renders raw HTML. Uses file handle data to determine if the content should be sanitized.",displayName:"HtmlPreview",props:{createdByUserId:{defaultValue:null,description:"",name:"createdByUserId",required:!0,type:{name:"string"}},rawHtml:{defaultValue:null,description:"",name:"rawHtml",required:!0,type:{name:"string"}}}}}catch{}var rt=(e=>(e.PLAINTEXT="PLAINTEXT",e.CODE="CODE",e.ZIP="ZIP",e.CSV="CSV",e.IMAGE="IMAGE",e.NONE="NONE",e.TAB="TAB",e.HTML="HTML",e.PDF="PDF",e.IPYNB="IPYNB",e.VIDEO="VIDEO",e.MARKDOWN="MARKDOWN",e.TIFF="TIFF",e))(rt||{});const TT=30*u1;function Bo(e){const{fileHandle:t,fileHandleAssociation:n,previewType:a}=e,r={requestedFiles:[n],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1},{data:i,isLoading:o}=b1(t,r,TT,{useErrorBoundary:!0});return o?m(Vs,{}):a===rt.HTML?m(Xc,{rawHtml:i,createdByUserId:t.createdBy}):(a!==rt.NONE&&console.warn(`Rendering a preview of type ${a} is not supported in Portals`),m(Q,{}))}try{Bo.displayName="FileHandleContentRenderer",Bo.__docgenInfo={description:"Fetches the content for and renders the contents of a file handle.",displayName:"FileHandleContentRenderer",props:{fileHandle:{defaultValue:null,description:"The file handle whose contents should be downloaded and rendered",name:"fileHandle",required:!0,type:{name:"FileHandle"}},fileHandleAssociation:{defaultValue:null,description:"The association between the file handle and an object which will give the user permission to access the file data",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},previewType:{defaultValue:null,description:"Informs how to render the file data",name:"previewType",required:!0,type:{name:"enum",value:[{value:'"PLAINTEXT"'},{value:'"CODE"'},{value:'"ZIP"'},{value:'"CSV"'},{value:'"IMAGE"'},{value:'"NONE"'},{value:'"TAB"'},{value:'"HTML"'},{value:'"PDF"'},{value:'"IPYNB"'},{value:'"VIDEO"'},{value:'"MARKDOWN"'},{value:'"TIFF"'}]}}}}}catch{}const Ow=["image/bmp","image/pjpeg","image/jpeg","image/jpg","image/jpe","image/gif","image/png","image/svg+xml"],RT=[".mp4",".m4a",".m4p",".m4b",".m4r",".m4v"],PT=[".ogv",".ogg"],AT=[...RT,...PT,".webm"],kT=[".cwl",".wdl",".json",".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],$T=[".md",".markdown",".rmd"];function qT(e){const t=e.lastIndexOf(".");return t===-1?null:e.substring(t)}function FT(e){if(!Mp(e))return rt.NONE;const t=qT(e.fileName);return t&&AT.includes(t)?rt.VIDEO:t===".ipynb"?rt.IPYNB:Ow.includes(e.contentType)?rt.IMAGE:e.contentType==="text/html"?rt.HTML:e.contentType.toLowerCase().startsWith("application/pdf")?rt.PDF:t&&kT.includes(t)?rt.CODE:t&&$T.includes(t)?rt.MARKDOWN:e.contentType==="image/tiff"?rt.TIFF:rt.NONE}function DT(e,t){const n=e.contentType;return Mp(e)?Ow.includes(e.contentType)?rt.IMAGE:n.toLowerCase().startsWith("text/")?n.toLowerCase()==="text/csv"?t.contentType==="application/zip"?rt.ZIP:rt.CSV:n.toLowerCase()==="text/tab-separated-values"?rt.TAB:rt.PLAINTEXT:n.toLowerCase().startsWith("application/pdf")?rt.PDF:rt.NONE:rt.NONE}function Kc(e){const{bundle:t}=e,{accessToken:n}=ze(),a=!!n;if(!bp(t.entity))throw new Error(`Entity ${t.entity.id} is not a FileEntity`);const r=t.entity.dataFileHandleId,i=t.fileHandles.find(s=>s.id===r);if(!i&&!a)return m(xp,{dismissible:!1,show:!0,variant:"danger",transition:!1,children:m(zC,{})});if(i){const s=FT(i);if(s!==rt.NONE)return m(Bo,{fileHandle:i,fileHandleAssociation:{fileHandleId:r,associateObjectId:t.entity.id,associateObjectType:sr.FileEntity},previewType:s})}const o=t.fileHandles.find(s=>Mp(s)&&s.isPreview);if(o&&i){const s=DT(o,i);if(s!==rt.NONE)return m(Bo,{fileHandle:o,fileHandleAssociation:{fileHandleId:o.id,associateObjectId:t.entity.id,associateObjectType:sr.FileEntity},previewType:s})}throw new Error(`Could not render a preview for entity: ${t.entity.id}`)}try{Kc.displayName="FileEntityPreview",Kc.__docgenInfo={description:`Given an entity bundle that contains a FileEntity, render a preview of the file. The rendered preview will be determined based on the
content type and file name of the file handle(s) associated with the FileEntity.`,displayName:"FileEntityPreview",props:{bundle:{defaultValue:null,description:"An entity bundle containing a FileEntity, and its fileHandles",name:"bundle",required:!0,type:{name:"EntityBundle"}}}}}catch{}function Zc(e){const{entityId:t,versionNumber:n}=e,{data:a,isLoading:r}=xT(t,n),i=a&&bp(a),{data:o,isLoading:s}=bw(a==null?void 0:a.id,a==null?void 0:a.versionNumber,Pb,{enabled:!!i,useErrorBoundary:!0});if(r||s)return m(Vs,{});if(i)return m(Kc,{bundle:o});throw new Error(`${t} is not a File and cannot be previewed.`)}try{Zc.displayName="EntityPreview",Zc.__docgenInfo={description:"Returns a preview of an entity. Currently only works for FileEntities, and Links that resolve to FileEntities.",displayName:"EntityPreview",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function Jc(e){const t=S1(e.entityId);if(t==null)throw new Error(`${e.entityId} is not a valid Synapse ID`);const n=parseInt(e.versionNumber??""),a=t.targetId,r=Number.isNaN(n)?t.targetVersionNumber:n;return m(Zc,{entityId:a,versionNumber:r})}try{Jc.displayName="MarkdownEntityPreview",Jc.__docgenInfo={description:"",displayName:"MarkdownEntityPreview",props:{entityId:{defaultValue:null,description:'A Synapse Entity ID that may optionally contain a "dot" version, e.g. syn123 or syn123.2',name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"An optional Entity version number.",name:"versionNumber",required:!1,type:{name:"string"}}}}}catch{}const ed=({info:e})=>m(Q,{children:e&&L("p",{className:"SubmissionInfoCard",children:[m("strong",{children:" Project Lead: "})," ",m("span",{children:e.projectLead})," ",m("br",{}),m("strong",{children:" Institution: "})," ",m("span",{children:e.institution})," ",m("br",{}),m("strong",{children:" Data Access Request Submitted By: "})," ",m(ra,{ownerId:e.submittedBy,size:qo})," ",m("br",{}),L("strong",{children:[" ","Intended Data Use Statement (accepted on"," ",Ka(ur(e.modifiedOn),"M/D/YYYY"),"):"]}),m(xt,{markdown:e.intendedDataUseStatement}),e.accessorChanges&&e.accessorChanges.map(t=>L("div",{children:[m(ra,{ownerId:t.userId,size:qo})," ",t.type]},`${t.userId}-${t.type}`))]})}),Uo=()=>L("p",{className:"SubmissionInfoCard",children:[m(Np,{numCols:1,numRows:4}),m(mn,{variant:"rectangular",width:"100%",height:80})]});try{ed.displayName="SubmissionInfoCard",ed.__docgenInfo={description:"",displayName:"SubmissionInfoCard",props:{info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"SubmissionInfo"}}}}}catch{}try{Uo.displayName="LoadingSubmissionInfoCard",Uo.__docgenInfo={description:"",displayName:"LoadingSubmissionInfoCard",props:{}}}catch{}const td=e=>{const{accessRequirementId:t}=e,{ref:n,inView:a}=ma(),{data:r,status:i,isLoading:o,hasNextPage:s,isFetchingNextPage:l,fetchNextPage:c}=II(t,{useErrorBoundary:!0});P.useEffect(()=>{i==="success"&&!l&&s&&c&&a&&c()},[i,s,l,c,a]);const u=(r==null?void 0:r.pages.flatMap(d=>d.results))??[];return L(Q,{children:[u.length>0&&L("div",{className:"IDUReport",children:[u.map(d=>L(z.Fragment,{children:[m(ed,{info:d}),m("hr",{})]},JSON.stringify(d))),m("div",{ref:n})]}),(o||l)&&L(Q,{children:[m(Uo,{}),m(Uo,{})]})]})};try{td.displayName="IDUReport",td.__docgenInfo={description:"",displayName:"IDUReport",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"string"}}}}}catch{}function rd(e){const{accessRestrictionId:t}=e;return m(td,{accessRequirementId:t})}try{rd.displayName="MarkdownIDUReport",rd.__docgenInfo={description:"",displayName:"MarkdownIDUReport",props:{accessRestrictionId:{defaultValue:null,description:"",name:"accessRestrictionId",required:!0,type:{name:"string"}}}}}catch{}function It(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,a;n<e.length;n++)(a=It(e[n]))!==""&&(t+=(t&&" ")+a);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const _m=e=>{let t;const n=new Set,a=(l,c)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=c??typeof u!="object"?u:Object.assign({},t,u),n.forEach(p=>p(t,d))}},r=()=>t,s={setState:a,getState:r,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(a,r,s),s},OT=e=>e?_m(e):_m;var Lw={exports:{}},Vw={},Mw={exports:{}},Bw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=P;function LT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VT=typeof Object.is=="function"?Object.is:LT,MT=na.useState,BT=na.useEffect,UT=na.useLayoutEffect,zT=na.useDebugValue;function HT(e,t){var n=t(),a=MT({inst:{value:n,getSnapshot:t}}),r=a[0].inst,i=a[1];return UT(function(){r.value=n,r.getSnapshot=t,Vl(r)&&i({inst:r})},[e,n,t]),BT(function(){return Vl(r)&&i({inst:r}),e(function(){Vl(r)&&i({inst:r})})},[e]),zT(n),n}function Vl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!VT(e,n)}catch{return!0}}function WT(e,t){return t()}var jT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WT:HT;Bw.useSyncExternalStore=na.useSyncExternalStore!==void 0?na.useSyncExternalStore:jT;Mw.exports=Bw;var QT=Mw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=P,GT=QT;function YT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XT=typeof Object.is=="function"?Object.is:YT,KT=GT.useSyncExternalStore,ZT=Gs.useRef,JT=Gs.useEffect,eR=Gs.useMemo,tR=Gs.useDebugValue;Vw.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var i=ZT(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=eR(function(){function l(f){if(!c){if(c=!0,u=f,f=a(f),r!==void 0&&o.hasValue){var h=o.value;if(r(h,f))return d=h}return d=f}if(h=d,XT(u,f))return h;var v=a(f);return r!==void 0&&r(h,v)?h:(u=f,d=v)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,a,r]);var s=KT(e,i[0],i[1]);return JT(function(){o.hasValue=!0,o.value=s},[s]),tR(s),s};Lw.exports=Vw;var rR=Lw.exports;const nR=Nt(rR),{useSyncExternalStoreWithSelector:aR}=nR;function iR(e,t=e.getState,n){const a=aR(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return P.useDebugValue(a),a}function kt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,r]of e)if(!Object.is(r,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Object.is(e[n[a]],t[n[a]]))return!1;return!0}var oR={value:()=>{}};function Ys(){for(var e=0,t=arguments.length,n={},a;e<t;++e){if(!(a=arguments[e]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new No(n)}function No(e){this._=e}function sR(e,t){return e.trim().split(/^|\s+/).map(function(n){var a="",r=n.indexOf(".");if(r>=0&&(a=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}No.prototype=Ys.prototype={constructor:No,on:function(e,t){var n=this._,a=sR(e+"",n),r,i=-1,o=a.length;if(arguments.length<2){for(;++i<o;)if((r=(e=a[i]).type)&&(r=lR(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(r=(e=a[i]).type)n[r]=Em(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Em(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new No(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),a=0,r,i;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};function lR(e,t){for(var n=0,a=e.length,r;n<a;++n)if((r=e[n]).name===t)return r.value}function Em(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=oR,e=e.slice(0,a).concat(e.slice(a+1));break}return n!=null&&e.push({name:t,value:n}),e}var nd="http://www.w3.org/1999/xhtml";const Cm={svg:"http://www.w3.org/2000/svg",xhtml:nd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cm.hasOwnProperty(t)?{space:Cm[t],local:e}:e}function uR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nd&&t.documentElement.namespaceURI===nd?t.createElement(e):t.createElementNS(n,e)}}function cR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uw(e){var t=Xs(e);return(t.local?cR:uR)(t)}function dR(){}function Hp(e){return e==null?dR:function(){return this.querySelector(e)}}function fR(e){typeof e!="function"&&(e=Hp(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new $t(a,this._parents)}function pR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hR(){return[]}function zw(e){return e==null?hR:function(){return this.querySelectorAll(e)}}function mR(e){return function(){return pR(e.apply(this,arguments))}}function vR(e){typeof e=="function"?e=mR(e):e=zw(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i)for(var o=t[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(a.push(e.call(l,l.__data__,c,o)),r.push(l));return new $t(a,r)}function Hw(e){return function(){return this.matches(e)}}function Ww(e){return function(t){return t.matches(e)}}var gR=Array.prototype.find;function yR(e){return function(){return gR.call(this.children,e)}}function bR(){return this.firstElementChild}function wR(e){return this.select(e==null?bR:yR(typeof e=="function"?e:Ww(e)))}var SR=Array.prototype.filter;function _R(){return Array.from(this.children)}function ER(e){return function(){return SR.call(this.children,e)}}function CR(e){return this.selectAll(e==null?_R:ER(typeof e=="function"?e:Ww(e)))}function xR(e){typeof e!="function"&&(e=Hw(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new $t(a,this._parents)}function jw(e){return new Array(e.length)}function NR(){return new $t(this._enter||this._groups.map(jw),this._parents)}function zo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zo.prototype={constructor:zo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function IR(e){return function(){return e}}function TR(e,t,n,a,r,i){for(var o=0,s,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],a[o]=s):n[o]=new zo(e,i[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function RR(e,t,n,a,r,i,o){var s,l,c=new Map,u=t.length,d=i.length,p=new Array(u),f;for(s=0;s<u;++s)(l=t[s])&&(p[s]=f=o.call(l,l.__data__,s,t)+"",c.has(f)?r[s]=l:c.set(f,l));for(s=0;s<d;++s)f=o.call(e,i[s],s,i)+"",(l=c.get(f))?(a[s]=l,l.__data__=i[s],c.delete(f)):n[s]=new zo(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(p[s])===l&&(r[s]=l)}function PR(e){return e.__data__}function AR(e,t){if(!arguments.length)return Array.from(this,PR);var n=t?RR:TR,a=this._parents,r=this._groups;typeof e!="function"&&(e=IR(e));for(var i=r.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=a[c],d=r[c],p=d.length,f=kR(e.call(u,u&&u.__data__,c,a)),h=f.length,v=s[c]=new Array(h),g=o[c]=new Array(h),b=l[c]=new Array(p);n(u,d,v,g,b,f,t);for(var E=0,y=0,_,w;E<h;++E)if(_=v[E]){for(E>=y&&(y=E+1);!(w=g[y])&&++y<h;);_._next=w||null}}return o=new $t(o,a),o._enter=s,o._exit=l,o}function kR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $R(){return new $t(this._exit||this._groups.map(jw),this._parents)}function qR(e,t,n){var a=this.enter(),r=this,i=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),a&&r?a.merge(r).order():r}function FR(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,i=a.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c=n[l],u=a[l],d=c.length,p=s[l]=new Array(d),f,h=0;h<d;++h)(f=c[h]||u[h])&&(p[h]=f);for(;l<r;++l)s[l]=n[l];return new $t(s,this._parents)}function DR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],r=a.length-1,i=a[r],o;--r>=0;)(o=a[r])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function OR(e){e||(e=LR);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var o=n[i],s=o.length,l=r[i]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new $t(r,this._parents).order()}function LR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function VR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function MR(){return Array.from(this)}function BR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}return null}function UR(){let e=0;for(const t of this)++e;return e}function zR(){return!this.node()}function HR(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&e.call(s,s.__data__,i,r);return this}function WR(e){return function(){this.removeAttribute(e)}}function jR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QR(e,t){return function(){this.setAttribute(e,t)}}function GR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function YR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KR(e,t){var n=Xs(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((t==null?n.local?jR:WR:typeof t=="function"?n.local?XR:YR:n.local?GR:QR)(n,t))}function Qw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ZR(e){return function(){this.style.removeProperty(e)}}function JR(e,t,n){return function(){this.style.setProperty(e,t,n)}}function eP(e,t,n){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function tP(e,t,n){return arguments.length>1?this.each((t==null?ZR:typeof t=="function"?eP:JR)(e,t,n??"")):aa(this.node(),e)}function aa(e,t){return e.style.getPropertyValue(t)||Qw(e).getComputedStyle(e,null).getPropertyValue(t)}function rP(e){return function(){delete this[e]}}function nP(e,t){return function(){this[e]=t}}function aP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function iP(e,t){return arguments.length>1?this.each((t==null?rP:typeof t=="function"?aP:nP)(e,t)):this.node()[e]}function Gw(e){return e.trim().split(/^|\s+/)}function Wp(e){return e.classList||new Yw(e)}function Yw(e){this._node=e,this._names=Gw(e.getAttribute("class")||"")}Yw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xw(e,t){for(var n=Wp(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function Kw(e,t){for(var n=Wp(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function oP(e){return function(){Xw(this,e)}}function sP(e){return function(){Kw(this,e)}}function lP(e,t){return function(){(t.apply(this,arguments)?Xw:Kw)(this,e)}}function uP(e,t){var n=Gw(e+"");if(arguments.length<2){for(var a=Wp(this.node()),r=-1,i=n.length;++r<i;)if(!a.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?lP:t?oP:sP)(n,t))}function cP(){this.textContent=""}function dP(e){return function(){this.textContent=e}}function fP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pP(e){return arguments.length?this.each(e==null?cP:(typeof e=="function"?fP:dP)(e)):this.node().textContent}function hP(){this.innerHTML=""}function mP(e){return function(){this.innerHTML=e}}function vP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function gP(e){return arguments.length?this.each(e==null?hP:(typeof e=="function"?vP:mP)(e)):this.node().innerHTML}function yP(){this.nextSibling&&this.parentNode.appendChild(this)}function bP(){return this.each(yP)}function wP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function SP(){return this.each(wP)}function _P(e){var t=typeof e=="function"?e:Uw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function EP(){return null}function CP(e,t){var n=typeof e=="function"?e:Uw(e),a=t==null?EP:typeof t=="function"?t:Hp(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function xP(){var e=this.parentNode;e&&e.removeChild(this)}function NP(){return this.each(xP)}function IP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RP(e){return this.select(e?TP:IP)}function PP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AP(e){return function(t){e.call(this,t,this.__data__)}}function kP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",a=t.indexOf(".");return a>=0&&(n=t.slice(a+1),t=t.slice(0,a)),{type:t,name:n}})}function $P(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++a]=i;++a?t.length=a:delete this.__on}}}function qP(e,t,n){return function(){var a=this.__on,r,i=AP(t);if(a){for(var o=0,s=a.length;o<s;++o)if((r=a[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},a?a.push(r):this.__on=[r]}}function FP(e,t,n){var a=kP(e+""),r,i=a.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(r=0,u=s[l];r<i;++r)if((o=a[r]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?qP:$P,r=0;r<i;++r)this.each(s(a[r],t,n));return this}function Zw(e,t,n){var a=Qw(e),r=a.CustomEvent;typeof r=="function"?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function DP(e,t){return function(){return Zw(this,e,t)}}function OP(e,t){return function(){return Zw(this,e,t.apply(this,arguments))}}function LP(e,t){return this.each((typeof t=="function"?OP:DP)(e,t))}function*VP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length,o;r<i;++r)(o=a[r])&&(yield o)}var Jw=[null];function $t(e,t){this._groups=e,this._parents=t}function Ai(){return new $t([[document.documentElement]],Jw)}function MP(){return this}$t.prototype=Ai.prototype={constructor:$t,select:fR,selectAll:vR,selectChild:wR,selectChildren:CR,filter:xR,data:AR,enter:NR,exit:$R,join:qR,merge:FR,selection:MP,order:DR,sort:OR,call:VR,nodes:MR,node:BR,size:UR,empty:zR,each:HR,attr:KR,style:tP,property:iP,classed:uP,text:pP,html:gP,raise:bP,lower:SP,append:_P,insert:CP,remove:NP,clone:RP,datum:PP,on:FP,dispatch:LP,[Symbol.iterator]:VP};function Wt(e){return typeof e=="string"?new $t([[document.querySelector(e)]],[document.documentElement]):new $t([[e]],Jw)}function BP(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nr(e,t){if(e=BP(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const UP={passive:!1},ei={capture:!0,passive:!1};function Ml(e){e.stopImmediatePropagation()}function Yn(e){e.preventDefault(),e.stopImmediatePropagation()}function e0(e){var t=e.document.documentElement,n=Wt(e).on("dragstart.drag",Yn,ei);"onselectstart"in t?n.on("selectstart.drag",Yn,ei):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function t0(e,t){var n=e.document.documentElement,a=Wt(e).on("dragstart.drag",null);t&&(a.on("click.drag",Yn,ei),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ji=e=>()=>e;function ad(e,{sourceEvent:t,subject:n,target:a,identifier:r,active:i,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}ad.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function zP(e){return!e.ctrlKey&&!e.button}function HP(){return this.parentNode}function WP(e,t){return t??{x:e.x,y:e.y}}function jP(){return navigator.maxTouchPoints||"ontouchstart"in this}function QP(){var e=zP,t=HP,n=WP,a=jP,r={},i=Ys("start","drag","end"),o=0,s,l,c,u,d=0;function p(_){_.on("mousedown.drag",f).filter(a).on("touchstart.drag",g).on("touchmove.drag",b,UP).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(_,w){if(!(u||!e.call(this,_,w))){var S=y(this,t.call(this,_,w),_,w,"mouse");S&&(Wt(_.view).on("mousemove.drag",h,ei).on("mouseup.drag",v,ei),e0(_.view),Ml(_),c=!1,s=_.clientX,l=_.clientY,S("start",_))}}function h(_){if(Yn(_),!c){var w=_.clientX-s,S=_.clientY-l;c=w*w+S*S>d}r.mouse("drag",_)}function v(_){Wt(_.view).on("mousemove.drag mouseup.drag",null),t0(_.view,c),Yn(_),r.mouse("end",_)}function g(_,w){if(e.call(this,_,w)){var S=_.changedTouches,C=t.call(this,_,w),x=S.length,T,R;for(T=0;T<x;++T)(R=y(this,C,_,w,S[T].identifier,S[T]))&&(Ml(_),R("start",_,S[T]))}}function b(_){var w=_.changedTouches,S=w.length,C,x;for(C=0;C<S;++C)(x=r[w[C].identifier])&&(Yn(_),x("drag",_,w[C]))}function E(_){var w=_.changedTouches,S=w.length,C,x;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<S;++C)(x=r[w[C].identifier])&&(Ml(_),x("end",_,w[C]))}function y(_,w,S,C,x,T){var R=i.copy(),q=nr(T||S,w),k,I,N;if((N=n.call(_,new ad("beforestart",{sourceEvent:S,target:p,identifier:x,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:R}),C))!=null)return k=N.x-q[0]||0,I=N.y-q[1]||0,function $(F,A,V){var O=q,U;switch(F){case"start":r[x]=$,U=o++;break;case"end":delete r[x],--o;case"drag":q=nr(V||A,w),U=o;break}R.call(F,_,new ad(F,{sourceEvent:A,subject:N,target:p,identifier:x,active:U,x:q[0]+k,y:q[1]+I,dx:q[0]-O[0],dy:q[1]-O[1],dispatch:R}),C)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ji(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:Ji(_),p):t},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Ji(_),p):n},p.touchable=function(_){return arguments.length?(a=typeof _=="function"?_:Ji(!!_),p):a},p.on=function(){var _=i.on.apply(i,arguments);return _===i?p:_},p.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,p):Math.sqrt(d)},p}function jp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r0(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function ki(){}var ti=.7,Ho=1/ti,Xn="\\s*([+-]?\\d+)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GP=/^#([0-9a-f]{3,8})$/,YP=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),XP=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),KP=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${ri}\\)$`),ZP=new RegExp(`^rgba\\(${or},${or},${or},${ri}\\)$`),JP=new RegExp(`^hsl\\(${ri},${or},${or}\\)$`),eA=new RegExp(`^hsla\\(${ri},${or},${or},${ri}\\)$`),xm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jp(ki,ni,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Nm,formatHex:Nm,formatHex8:tA,formatHsl:rA,formatRgb:Im,toString:Im});function Nm(){return this.rgb().formatHex()}function tA(){return this.rgb().formatHex8()}function rA(){return n0(this).formatHsl()}function Im(){return this.rgb().formatRgb()}function ni(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GP.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tm(t):n===3?new _t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?eo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?eo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YP.exec(e))?new _t(t[1],t[2],t[3],1):(t=XP.exec(e))?new _t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KP.exec(e))?eo(t[1],t[2],t[3],t[4]):(t=ZP.exec(e))?eo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JP.exec(e))?Am(t[1],t[2]/100,t[3]/100,1):(t=eA.exec(e))?Am(t[1],t[2]/100,t[3]/100,t[4]):xm.hasOwnProperty(e)?Tm(xm[e]):e==="transparent"?new _t(NaN,NaN,NaN,0):null}function Tm(e){return new _t(e>>16&255,e>>8&255,e&255,1)}function eo(e,t,n,a){return a<=0&&(e=t=n=NaN),new _t(e,t,n,a)}function nA(e){return e instanceof ki||(e=ni(e)),e?(e=e.rgb(),new _t(e.r,e.g,e.b,e.opacity)):new _t}function id(e,t,n,a){return arguments.length===1?nA(e):new _t(e,t,n,a??1)}function _t(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}jp(_t,id,r0(ki,{brighter(e){return e=e==null?Ho:Math.pow(Ho,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ti:Math.pow(ti,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _t(vn(this.r),vn(this.g),vn(this.b),Wo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rm,formatHex:Rm,formatHex8:aA,formatRgb:Pm,toString:Pm}));function Rm(){return`#${pn(this.r)}${pn(this.g)}${pn(this.b)}`}function aA(){return`#${pn(this.r)}${pn(this.g)}${pn(this.b)}${pn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pm(){const e=Wo(this.opacity);return`${e===1?"rgb(":"rgba("}${vn(this.r)}, ${vn(this.g)}, ${vn(this.b)}${e===1?")":`, ${e})`}`}function Wo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pn(e){return e=vn(e),(e<16?"0":"")+e.toString(16)}function Am(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jt(e,t,n,a)}function n0(e){if(e instanceof jt)return new jt(e.h,e.s,e.l,e.opacity);if(e instanceof ki||(e=ni(e)),!e)return new jt;if(e instanceof jt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,s=i-r,l=(i+r)/2;return s?(t===i?o=(n-a)/s+(n<a)*6:n===i?o=(a-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+r:2-i-r,o*=60):s=l>0&&l<1?0:o,new jt(o,s,l,e.opacity)}function iA(e,t,n,a){return arguments.length===1?n0(e):new jt(e,t,n,a??1)}function jt(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}jp(jt,iA,r0(ki,{brighter(e){return e=e==null?Ho:Math.pow(Ho,e),new jt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ti:Math.pow(ti,e),new jt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new _t(Bl(e>=240?e-240:e+120,r,a),Bl(e,r,a),Bl(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new jt(km(this.h),to(this.s),to(this.l),Wo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wo(this.opacity);return`${e===1?"hsl(":"hsla("}${km(this.h)}, ${to(this.s)*100}%, ${to(this.l)*100}%${e===1?")":`, ${e})`}`}}));function km(e){return e=(e||0)%360,e<0?e+360:e}function to(e){return Math.max(0,Math.min(1,e||0))}function Bl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const a0=e=>()=>e;function oA(e,t){return function(n){return e+n*t}}function sA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function lA(e){return(e=+e)==1?i0:function(t,n){return n-t?sA(t,n,e):a0(isNaN(t)?n:t)}}function i0(e,t){var n=t-e;return n?oA(e,n):a0(isNaN(e)?t:e)}const $m=function e(t){var n=lA(t);function a(r,i){var o=n((r=id(r)).r,(i=id(i)).r),s=n(r.g,i.g),l=n(r.b,i.b),c=i0(r.opacity,i.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return a.gamma=e,a}(1);function Or(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var od=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ul=new RegExp(od.source,"g");function uA(e){return function(){return e}}function cA(e){return function(t){return e(t)+""}}function dA(e,t){var n=od.lastIndex=Ul.lastIndex=0,a,r,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(a=od.exec(e))&&(r=Ul.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(a=a[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Or(a,r)})),n=Ul.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?cA(l[0].x):uA(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var qm=180/Math.PI,sd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function o0(e,t,n,a,r,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*a)&&(n-=e*l,a-=t*l),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,l/=s),e*a<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*qm,skewX:Math.atan(l)*qm,scaleX:o,scaleY:s}}var ro;function fA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?sd:o0(t.a,t.b,t.c,t.d,t.e,t.f)}function pA(e){return e==null||(ro||(ro=document.createElementNS("http://www.w3.org/2000/svg","g")),ro.setAttribute("transform",e),!(e=ro.transform.baseVal.consolidate()))?sd:(e=e.matrix,o0(e.a,e.b,e.c,e.d,e.e,e.f))}function s0(e,t,n,a){function r(c){return c.length?c.pop()+" ":""}function i(c,u,d,p,f,h){if(c!==d||u!==p){var v=f.push("translate(",null,t,null,n);h.push({i:v-4,x:Or(c,d)},{i:v-2,x:Or(u,p)})}else(d||p)&&f.push("translate("+d+t+p+n)}function o(c,u,d,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:d.push(r(d)+"rotate(",null,a)-2,x:Or(c,u)})):u&&d.push(r(d)+"rotate("+u+a)}function s(c,u,d,p){c!==u?p.push({i:d.push(r(d)+"skewX(",null,a)-2,x:Or(c,u)}):u&&d.push(r(d)+"skewX("+u+a)}function l(c,u,d,p,f,h){if(c!==d||u!==p){var v=f.push(r(f)+"scale(",null,",",null,")");h.push({i:v-4,x:Or(c,d)},{i:v-2,x:Or(u,p)})}else(d!==1||p!==1)&&f.push(r(f)+"scale("+d+","+p+")")}return function(c,u){var d=[],p=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,p),o(c.rotate,u.rotate,d,p),s(c.skewX,u.skewX,d,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,p),c=u=null,function(f){for(var h=-1,v=p.length,g;++h<v;)d[(g=p[h]).i]=g.x(f);return d.join("")}}}var hA=s0(fA,"px, ","px)","deg)"),mA=s0(pA,", ",")",")"),vA=1e-12;function Fm(e){return((e=Math.exp(e))+1/e)/2}function gA(e){return((e=Math.exp(e))-1/e)/2}function yA(e){return((e=Math.exp(2*e))-1)/(e+1)}const bA=function e(t,n,a){function r(i,o){var s=i[0],l=i[1],c=i[2],u=o[0],d=o[1],p=o[2],f=u-s,h=d-l,v=f*f+h*h,g,b;if(v<vA)b=Math.log(p/c)/t,g=function(C){return[s+C*f,l+C*h,c*Math.exp(t*C*b)]};else{var E=Math.sqrt(v),y=(p*p-c*c+a*v)/(2*c*n*E),_=(p*p-c*c-a*v)/(2*p*n*E),w=Math.log(Math.sqrt(y*y+1)-y),S=Math.log(Math.sqrt(_*_+1)-_);b=(S-w)/t,g=function(C){var x=C*b,T=Fm(w),R=c/(n*E)*(T*yA(t*x+w)-gA(w));return[s+R*f,l+R*h,c*T/Fm(t*x+w)]}}return g.duration=b*1e3*t/Math.SQRT2,g}return r.rho=function(i){var o=Math.max(.001,+i),s=o*o,l=s*s;return e(o,s,l)},r}(Math.SQRT2,2,4);var ia=0,Oa=0,Ra=0,l0=1e3,jo,La,Qo=0,xn=0,Ks=0,ai=typeof performance=="object"&&performance.now?performance:Date,u0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qp(){return xn||(u0(wA),xn=ai.now()+Ks)}function wA(){xn=0}function Go(){this._call=this._time=this._next=null}Go.prototype=c0.prototype={constructor:Go,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qp():+n)+(t==null?0:+t),!this._next&&La!==this&&(La?La._next=this:jo=this,La=this),this._call=e,this._time=n,ld()},stop:function(){this._call&&(this._call=null,this._time=1/0,ld())}};function c0(e,t,n){var a=new Go;return a.restart(e,t,n),a}function SA(){Qp(),++ia;for(var e=jo,t;e;)(t=xn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ia}function Dm(){xn=(Qo=ai.now())+Ks,ia=Oa=0;try{SA()}finally{ia=0,EA(),xn=0}}function _A(){var e=ai.now(),t=e-Qo;t>l0&&(Ks-=t,Qo=e)}function EA(){for(var e,t=jo,n,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jo=n);La=e,ld(a)}function ld(e){if(!ia){Oa&&(Oa=clearTimeout(Oa));var t=e-xn;t>24?(e<1/0&&(Oa=setTimeout(Dm,e-ai.now()-Ks)),Ra&&(Ra=clearInterval(Ra))):(Ra||(Qo=ai.now(),Ra=setInterval(_A,l0)),ia=1,u0(Dm))}}function Om(e,t,n){var a=new Go;return t=t==null?0:+t,a.restart(r=>{a.stop(),e(r+t)},t,n),a}var CA=Ys("start","end","cancel","interrupt"),xA=[],d0=0,Lm=1,ud=2,Io=3,Vm=4,cd=5,To=6;function Zs(e,t,n,a,r,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;NA(e,n,{name:t,index:a,group:r,on:CA,tween:xA,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:d0})}function Gp(e,t){var n=Zt(e,t);if(n.state>d0)throw new Error("too late; already scheduled");return n}function dr(e,t){var n=Zt(e,t);if(n.state>Io)throw new Error("too late; already running");return n}function Zt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function NA(e,t,n){var a=e.__transition,r;a[t]=n,n.timer=c0(i,0,n.time);function i(c){n.state=Lm,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,p,f;if(n.state!==Lm)return l();for(u in a)if(f=a[u],f.name===n.name){if(f.state===Io)return Om(o);f.state===Vm?(f.state=To,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete a[u]):+u<t&&(f.state=To,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete a[u])}if(Om(function(){n.state===Io&&(n.state=Vm,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ud,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ud){for(n.state=Io,r=new Array(p=n.tween.length),u=0,d=-1;u<p;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=cd,1),d=-1,p=r.length;++d<p;)r[d].call(e,u);n.state===cd&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=To,n.timer.stop(),delete a[t];for(var c in a)return;delete e.__transition}}function Ro(e,t){var n=e.__transition,a,r,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((a=n[o]).name!==t){i=!1;continue}r=a.state>ud&&a.state<cd,a.state=To,a.timer.stop(),a.on.call(r?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete n[o]}i&&delete e.__transition}}function IA(e){return this.each(function(){Ro(this,e)})}function TA(e,t){var n,a;return function(){var r=dr(this,e),i=r.tween;if(i!==n){a=n=i;for(var o=0,s=a.length;o<s;++o)if(a[o].name===t){a=a.slice(),a.splice(o,1);break}}r.tween=a}}function RA(e,t,n){var a,r;if(typeof n!="function")throw new Error;return function(){var i=dr(this,e),o=i.tween;if(o!==a){r=(a=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}i.tween=r}}function PA(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a=Zt(this.node(),n).tween,r=0,i=a.length,o;r<i;++r)if((o=a[r]).name===e)return o.value;return null}return this.each((t==null?TA:RA)(n,e,t))}function Yp(e,t,n){var a=e._id;return e.each(function(){var r=dr(this,a);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Zt(r,a).value[t]}}function f0(e,t){var n;return(typeof t=="number"?Or:t instanceof ni?$m:(n=ni(t))?(t=n,$m):dA)(e,t)}function AA(e){return function(){this.removeAttribute(e)}}function kA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $A(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttribute(e);return o===r?null:o===a?i:i=t(a=o,n)}}function qA(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===a?i:i=t(a=o,n)}}function FA(e,t,n){var a,r,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s)))}}function DA(e,t,n){var a,r,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s)))}}function OA(e,t){var n=Xs(e),a=n==="transform"?mA:f0;return this.attrTween(e,typeof t=="function"?(n.local?DA:FA)(n,a,Yp(this,"attr."+e,t)):t==null?(n.local?kA:AA)(n):(n.local?qA:$A)(n,a,t))}function LA(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function VA(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function MA(e,t){var n,a;function r(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&VA(e,i)),n}return r._value=t,r}function BA(e,t){var n,a;function r(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&LA(e,i)),n}return r._value=t,r}function UA(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var a=Xs(e);return this.tween(n,(a.local?MA:BA)(a,t))}function zA(e,t){return function(){Gp(this,e).delay=+t.apply(this,arguments)}}function HA(e,t){return t=+t,function(){Gp(this,e).delay=t}}function WA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zA:HA)(t,e)):Zt(this.node(),t).delay}function jA(e,t){return function(){dr(this,e).duration=+t.apply(this,arguments)}}function QA(e,t){return t=+t,function(){dr(this,e).duration=t}}function GA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jA:QA)(t,e)):Zt(this.node(),t).duration}function YA(e,t){if(typeof t!="function")throw new Error;return function(){dr(this,e).ease=t}}function XA(e){var t=this._id;return arguments.length?this.each(YA(t,e)):Zt(this.node(),t).ease}function KA(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;dr(this,e).ease=n}}function ZA(e){if(typeof e!="function")throw new Error;return this.each(KA(this._id,e))}function JA(e){typeof e!="function"&&(e=Hw(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new xr(a,this._parents,this._name,this._id)}function ek(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),p,f=0;f<u;++f)(p=l[f]||c[f])&&(d[f]=p);for(;s<a;++s)o[s]=t[s];return new xr(o,this._parents,this._name,this._id)}function tk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function rk(e,t,n){var a,r,i=tk(t)?Gp:dr;return function(){var o=i(this,e),s=o.on;s!==a&&(r=(a=s).copy()).on(t,n),o.on=r}}function nk(e,t){var n=this._id;return arguments.length<2?Zt(this.node(),n).on.on(e):this.each(rk(n,e,t))}function ak(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ik(){return this.on("end.remove",ak(this._id))}function ok(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hp(e));for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o)for(var s=a[o],l=s.length,c=i[o]=new Array(l),u,d,p=0;p<l;++p)(u=s[p])&&(d=e.call(u,u.__data__,p,s))&&("__data__"in u&&(d.__data__=u.__data__),c[p]=d,Zs(c[p],t,n,p,c,Zt(u,n)));return new xr(i,this._parents,t,n)}function sk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zw(e));for(var a=this._groups,r=a.length,i=[],o=[],s=0;s<r;++s)for(var l=a[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var p=e.call(u,u.__data__,d,l),f,h=Zt(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&Zs(f,t,n,v,p,h);i.push(p),o.push(u)}return new xr(i,o,t,n)}var lk=Ai.prototype.constructor;function uk(){return new lk(this._groups,this._parents)}function ck(e,t){var n,a,r;return function(){var i=aa(this,e),o=(this.style.removeProperty(e),aa(this,e));return i===o?null:i===n&&o===a?r:r=t(n=i,a=o)}}function p0(e){return function(){this.style.removeProperty(e)}}function dk(e,t,n){var a,r=n+"",i;return function(){var o=aa(this,e);return o===r?null:o===a?i:i=t(a=o,n)}}function fk(e,t,n){var a,r,i;return function(){var o=aa(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),aa(this,e))),o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}function pk(e,t){var n,a,r,i="style."+t,o="end."+i,s;return function(){var l=dr(this,e),c=l.on,u=l.value[i]==null?s||(s=p0(t)):void 0;(c!==n||r!==u)&&(a=(n=c).copy()).on(o,r=u),l.on=a}}function hk(e,t,n){var a=(e+="")=="transform"?hA:f0;return t==null?this.styleTween(e,ck(e,a)).on("end.style."+e,p0(e)):typeof t=="function"?this.styleTween(e,fk(e,a,Yp(this,"style."+e,t))).each(pk(this._id,e)):this.styleTween(e,dk(e,a,t),n).on("end.style."+e,null)}function mk(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function vk(e,t,n){var a,r;function i(){var o=t.apply(this,arguments);return o!==r&&(a=(r=o)&&mk(e,o,n)),a}return i._value=t,i}function gk(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,vk(e,t,n??""))}function yk(e){return function(){this.textContent=e}}function bk(e){return function(){var t=e(this);this.textContent=t??""}}function wk(e){return this.tween("text",typeof e=="function"?bk(Yp(this,"text",e)):yk(e==null?"":e+""))}function Sk(e){return function(t){this.textContent=e.call(this,t)}}function _k(e){var t,n;function a(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Sk(r)),t}return a._value=e,a}function Ek(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_k(e))}function Ck(){for(var e=this._name,t=this._id,n=h0(),a=this._groups,r=a.length,i=0;i<r;++i)for(var o=a[i],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Zt(l,t);Zs(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xr(a,this._parents,e,n)}function xk(){var e,t,n=this,a=n._id,r=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--r===0&&i()}};n.each(function(){var c=dr(this,a),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&i()})}var Nk=0;function xr(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function h0(){return++Nk}var vr=Ai.prototype;xr.prototype={constructor:xr,select:ok,selectAll:sk,selectChild:vr.selectChild,selectChildren:vr.selectChildren,filter:JA,merge:ek,selection:uk,transition:Ck,call:vr.call,nodes:vr.nodes,node:vr.node,size:vr.size,empty:vr.empty,each:vr.each,on:nk,attr:OA,attrTween:UA,style:hk,styleTween:gk,text:wk,textTween:Ek,remove:ik,tween:PA,delay:WA,duration:GA,ease:XA,easeVarying:ZA,end:xk,[Symbol.iterator]:vr[Symbol.iterator]};function Ik(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Tk={time:null,delay:0,duration:250,ease:Ik};function Rk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Pk(e){var t,n;e instanceof xr?(t=e._id,e=e._name):(t=h0(),(n=Tk).time=Qp(),e=e==null?null:e+"");for(var a=this._groups,r=a.length,i=0;i<r;++i)for(var o=a[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Zs(l,e,t,c,o,n||Rk(l,t));return new xr(a,this._parents,e,t)}Ai.prototype.interrupt=IA;Ai.prototype.transition=Pk;const no=e=>()=>e;function Ak(e,{sourceEvent:t,target:n,transform:a,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function wr(e,t,n){this.k=e,this.x=t,this.y=n}wr.prototype={constructor:wr,scale:function(e){return e===1?this:new wr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hr=new wr(1,0,0);wr.prototype;function zl(e){e.stopImmediatePropagation()}function Pa(e){e.preventDefault(),e.stopImmediatePropagation()}function kk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function $k(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Mm(){return this.__zoom||Hr}function qk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Fk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dk(e,t,n){var a=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Ok(){var e=kk,t=$k,n=Dk,a=qk,r=Fk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=bA,c=Ys("start","zoom","end"),u,d,p,f=500,h=150,v=0,g=10;function b(N){N.property("__zoom",Mm).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",R).filter(r).on("touchstart.zoom",q).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(N,$,F,A){var V=N.selection?N.selection():N;V.property("__zoom",Mm),N!==V?w(N,$,F,A):V.interrupt().each(function(){S(this,arguments).event(A).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(N,$,F,A){b.scaleTo(N,function(){var V=this.__zoom.k,O=typeof $=="function"?$.apply(this,arguments):$;return V*O},F,A)},b.scaleTo=function(N,$,F,A){b.transform(N,function(){var V=t.apply(this,arguments),O=this.__zoom,U=F==null?_(V):typeof F=="function"?F.apply(this,arguments):F,H=O.invert(U),G=typeof $=="function"?$.apply(this,arguments):$;return n(y(E(O,G),U,H),V,o)},F,A)},b.translateBy=function(N,$,F,A){b.transform(N,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),o)},null,A)},b.translateTo=function(N,$,F,A,V){b.transform(N,function(){var O=t.apply(this,arguments),U=this.__zoom,H=A==null?_(O):typeof A=="function"?A.apply(this,arguments):A;return n(Hr.translate(H[0],H[1]).scale(U.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof F=="function"?-F.apply(this,arguments):-F),O,o)},A,V)};function E(N,$){return $=Math.max(i[0],Math.min(i[1],$)),$===N.k?N:new wr($,N.x,N.y)}function y(N,$,F){var A=$[0]-F[0]*N.k,V=$[1]-F[1]*N.k;return A===N.x&&V===N.y?N:new wr(N.k,A,V)}function _(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function w(N,$,F,A){N.on("start.zoom",function(){S(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(A).end()}).tween("zoom",function(){var V=this,O=arguments,U=S(V,O).event(A),H=t.apply(V,O),G=F==null?_(H):typeof F=="function"?F.apply(V,O):F,X=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),Y=V.__zoom,K=typeof $=="function"?$.apply(V,O):$,J=l(Y.invert(G).concat(X/Y.k),K.invert(G).concat(X/K.k));return function(ne){if(ne===1)ne=K;else{var fe=J(ne),ye=X/fe[2];ne=new wr(ye,G[0]-fe[0]*ye,G[1]-fe[1]*ye)}U.zoom(null,ne)}})}function S(N,$,F){return!F&&N.__zooming||new C(N,$)}function C(N,$){this.that=N,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,$),this.taps=0}C.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,$){return this.mouse&&N!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var $=Wt(this.that).datum();c.call(N,this.that,new Ak(N,{sourceEvent:this.sourceEvent,target:b,type:N,transform:this.that.__zoom,dispatch:c}),$)}};function x(N,...$){if(!e.apply(this,arguments))return;var F=S(this,$).event(N),A=this.__zoom,V=Math.max(i[0],Math.min(i[1],A.k*Math.pow(2,a.apply(this,arguments)))),O=nr(N);if(F.wheel)(F.mouse[0][0]!==O[0]||F.mouse[0][1]!==O[1])&&(F.mouse[1]=A.invert(F.mouse[0]=O)),clearTimeout(F.wheel);else{if(A.k===V)return;F.mouse=[O,A.invert(O)],Ro(this),F.start()}Pa(N),F.wheel=setTimeout(U,h),F.zoom("mouse",n(y(E(A,V),F.mouse[0],F.mouse[1]),F.extent,o));function U(){F.wheel=null,F.end()}}function T(N,...$){if(p||!e.apply(this,arguments))return;var F=N.currentTarget,A=S(this,$,!0).event(N),V=Wt(N.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",X,!0),O=nr(N,F),U=N.clientX,H=N.clientY;e0(N.view),zl(N),A.mouse=[O,this.__zoom.invert(O)],Ro(this),A.start();function G(Y){if(Pa(Y),!A.moved){var K=Y.clientX-U,J=Y.clientY-H;A.moved=K*K+J*J>v}A.event(Y).zoom("mouse",n(y(A.that.__zoom,A.mouse[0]=nr(Y,F),A.mouse[1]),A.extent,o))}function X(Y){V.on("mousemove.zoom mouseup.zoom",null),t0(Y.view,A.moved),Pa(Y),A.event(Y).end()}}function R(N,...$){if(e.apply(this,arguments)){var F=this.__zoom,A=nr(N.changedTouches?N.changedTouches[0]:N,this),V=F.invert(A),O=F.k*(N.shiftKey?.5:2),U=n(y(E(F,O),A,V),t.apply(this,$),o);Pa(N),s>0?Wt(this).transition().duration(s).call(w,U,A,N):Wt(this).call(b.transform,U,A,N)}}function q(N,...$){if(e.apply(this,arguments)){var F=N.touches,A=F.length,V=S(this,$,N.changedTouches.length===A).event(N),O,U,H,G;for(zl(N),U=0;U<A;++U)H=F[U],G=nr(H,this),G=[G,this.__zoom.invert(G),H.identifier],V.touch0?!V.touch1&&V.touch0[2]!==G[2]&&(V.touch1=G,V.taps=0):(V.touch0=G,O=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),O&&(V.taps<2&&(d=G[0],u=setTimeout(function(){u=null},f)),Ro(this),V.start())}}function k(N,...$){if(this.__zooming){var F=S(this,$).event(N),A=N.changedTouches,V=A.length,O,U,H,G;for(Pa(N),O=0;O<V;++O)U=A[O],H=nr(U,this),F.touch0&&F.touch0[2]===U.identifier?F.touch0[0]=H:F.touch1&&F.touch1[2]===U.identifier&&(F.touch1[0]=H);if(U=F.that.__zoom,F.touch1){var X=F.touch0[0],Y=F.touch0[1],K=F.touch1[0],J=F.touch1[1],ne=(ne=K[0]-X[0])*ne+(ne=K[1]-X[1])*ne,fe=(fe=J[0]-Y[0])*fe+(fe=J[1]-Y[1])*fe;U=E(U,Math.sqrt(ne/fe)),H=[(X[0]+K[0])/2,(X[1]+K[1])/2],G=[(Y[0]+J[0])/2,(Y[1]+J[1])/2]}else if(F.touch0)H=F.touch0[0],G=F.touch0[1];else return;F.zoom("touch",n(y(U,H,G),F.extent,o))}}function I(N,...$){if(this.__zooming){var F=S(this,$).event(N),A=N.changedTouches,V=A.length,O,U;for(zl(N),p&&clearTimeout(p),p=setTimeout(function(){p=null},f),O=0;O<V;++O)U=A[O],F.touch0&&F.touch0[2]===U.identifier?delete F.touch0:F.touch1&&F.touch1[2]===U.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(U=nr(U,this),Math.hypot(d[0]-U[0],d[1]-U[1])<g)){var H=Wt(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return b.wheelDelta=function(N){return arguments.length?(a=typeof N=="function"?N:no(+N),b):a},b.filter=function(N){return arguments.length?(e=typeof N=="function"?N:no(!!N),b):e},b.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:no(!!N),b):r},b.extent=function(N){return arguments.length?(t=typeof N=="function"?N:no([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),b):t},b.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],b):[i[0],i[1]]},b.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(N){return arguments.length?(n=N,b):n},b.duration=function(N){return arguments.length?(s=+N,b):s},b.interpolate=function(N){return arguments.length?(l=N,b):l},b.on=function(){var N=c.on.apply(c,arguments);return N===c?b:N},b.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,b):Math.sqrt(v)},b.tapDistance=function(N){return arguments.length?(g=+N,b):g},b}const Js=P.createContext(null),Lk=Js.Provider,Kr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},m0=Kr.error001();function it(e,t){const n=P.useContext(Js);if(n===null)throw new Error(m0);return iR(n,e,t)}const vt=()=>{const e=P.useContext(Js);if(e===null)throw new Error(m0);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Vk=e=>e.userSelectionActive?"none":"all";function v0({position:e,children:t,className:n,style:a,...r}){const i=it(Vk),o=`${e}`.split("-");return m("div",{className:It(["react-flow__panel",n,...o]),style:{...a,pointerEvents:i},...r,children:t})}function Mk({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:m(v0,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Bk=({x:e,y:t,label:n,labelStyle:a={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const d=P.useRef(null),[p,f]=P.useState({x:0,y:0,width:0,height:0}),h=It(["react-flow__edge-textwrapper",c]);return P.useEffect(()=>{if(d.current){const v=d.current.getBBox();f({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:L("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:h,visibility:p.width?"visible":"hidden",...u,children:[r&&m("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),m("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:a,children:n}),l]})};var Uk=P.memo(Bk);const Xp=e=>({width:e.offsetWidth,height:e.offsetHeight}),oa=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Kp=(e={x:0,y:0},t)=>({x:oa(e.x,t[0][0],t[1][0]),y:oa(e.y,t[0][1],t[1][1])}),Bm=(e,t,n)=>e<t?oa(Math.abs(e-t),1,50)/50:e>n?-oa(Math.abs(e-n),1,50)/50:0,g0=(e,t)=>{const n=Bm(e.x,35,t.width-35)*20,a=Bm(e.y,35,t.height-35)*20;return[n,a]},y0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},zk=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),b0=({x:e,y:t,width:n,height:a})=>({x:e,y:t,x2:e+n,y2:t+a}),Hk=({x:e,y:t,x2:n,y2:a})=>({x:e,y:t,width:n-e,height:a-t}),Um=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),dd=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*a)},Wk=e=>Mt(e.width)&&Mt(e.height)&&Mt(e.x)&&Mt(e.y),Mt=e=>!isNaN(e)&&isFinite(e),ct=Symbol.for("internals"),w0=["Enter"," ","Escape"],jk=(e,t)=>{},Qk=e=>"nativeEvent"in e;function fd(e){var r,i;const t=Qk(e)?e.nativeEvent:e,n=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const S0=e=>"clientX"in e,Wr=(e,t)=>{var i,o;const n=S0(e),a=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:a-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},$i=({path:e,labelX:t,labelY:n,label:a,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:s,labelBgBorderRadius:l,style:c,markerEnd:u,markerStart:d,interactionWidth:p=20})=>L(Q,{children:[m("path",{style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:d}),p&&m("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&Mt(t)&&Mt(n)?m(Uk,{x:t,y:n,label:a,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:s,labelBgBorderRadius:l}):null]});$i.displayName="BaseEdge";function Aa(e,t,n){return n===void 0?n:a=>{const r=t().edges.find(i=>i.id===e);r&&n(a,{...r})}}function _0({sourceX:e,sourceY:t,targetX:n,targetY:a}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,o=Math.abs(a-t)/2,s=a<t?a+o:a-o;return[i,s,r,o]}function E0({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:r,sourceControlY:i,targetControlX:o,targetControlY:s}){const l=e*.125+r*.375+o*.375+n*.125,c=t*.125+i*.375+s*.375+a*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var Nn;(function(e){e.Strict="strict",e.Loose="loose"})(Nn||(Nn={}));var Kn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kn||(Kn={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));var br;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(br||(br={}));var oi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(oi||(oi={}));var se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(se||(se={}));function zm({pos:e,x1:t,y1:n,x2:a,y2:r}){return e===se.Left||e===se.Right?[.5*(t+a),n]:[t,.5*(n+r)]}function C0({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:a,targetY:r,targetPosition:i=se.Top}){const[o,s]=zm({pos:n,x1:e,y1:t,x2:a,y2:r}),[l,c]=zm({pos:i,x1:a,y1:r,x2:e,y2:t}),[u,d,p,f]=E0({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${o},${s} ${l},${c} ${a},${r}`,u,d,p,f]}const Zp=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=se.Bottom,targetPosition:i=se.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,interactionWidth:v})=>{const[g,b,E]=C0({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i});return m($i,{path:g,labelX:b,labelY:E,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,interactionWidth:v})});Zp.displayName="SimpleBezierEdge";const Hm={[se.Left]:{x:-1,y:0},[se.Right]:{x:1,y:0},[se.Top]:{x:0,y:-1},[se.Bottom]:{x:0,y:1}},Gk=({source:e,sourcePosition:t=se.Bottom,target:n})=>t===se.Left||t===se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Wm=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Yk({source:e,sourcePosition:t=se.Bottom,target:n,targetPosition:a=se.Top,center:r,offset:i}){const o=Hm[t],s=Hm[a],l={x:e.x+o.x*i,y:e.y+o.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=Gk({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",p=u[d];let f=[],h,v;const[g,b,E,y]=_0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*s[d]===-1){h=r.x||g,v=r.y||b;const w=[{x:h,y:l.y},{x:h,y:c.y}],S=[{x:l.x,y:v},{x:c.x,y:v}];o[d]===p?f=d==="x"?w:S:f=d==="x"?S:w}else{const w=[{x:l.x,y:c.y}],S=[{x:c.x,y:l.y}];if(d==="x"?f=o.x===p?S:w:f=o.y===p?w:S,t!==a){const C=d==="x"?"y":"x",x=o[d]===s[C],T=l[C]>c[C],R=l[C]<c[C];(o[d]===1&&(!x&&T||x&&R)||o[d]!==1&&(!x&&R||x&&T))&&(f=d==="x"?w:S)}h=f[0].x,v=f[0].y}return[[e,l,...f,c,n],h,v,E,y]}function Xk(e,t,n,a){const r=Math.min(Wm(e,t)/2,Wm(t,n)/2,a),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+r*c},${o}Q ${i},${o} ${i},${o+r*u}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+r*l}Q ${i},${o} ${i+r*s},${o}`}function pd({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:a,targetY:r,targetPosition:i=se.Top,borderRadius:o=5,centerX:s,centerY:l,offset:c=20}){const[u,d,p,f,h]=Yk({source:{x:e,y:t},sourcePosition:n,target:{x:a,y:r},targetPosition:i,center:{x:s,y:l},offset:c});return[u.reduce((g,b,E)=>{let y="";return E>0&&E<u.length-1?y=Xk(u[E-1],b,u[E+1],o):y=`${E===0?"M":"L"}${b.x} ${b.y}`,g+=y,g},""),d,p,f,h]}const el=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=se.Bottom,targetPosition:p=se.Top,markerEnd:f,markerStart:h,pathOptions:v,interactionWidth:g})=>{const[b,E,y]=pd({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:a,targetPosition:p,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return m($i,{path:b,labelX:E,labelY:y,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:h,interactionWidth:g})});el.displayName="SmoothStepEdge";const Jp=P.memo(e=>{var t;return m(el,{...e,pathOptions:P.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Jp.displayName="StepEdge";function Kk({sourceX:e,sourceY:t,targetX:n,targetY:a}){const[r,i,o,s]=_0({sourceX:e,sourceY:t,targetX:n,targetY:a});return[`M ${e},${t}L ${n},${a}`,r,i,o,s]}const eh=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:f})=>{const[h,v,g]=Kk({sourceX:e,sourceY:t,targetX:n,targetY:a});return m($i,{path:h,labelX:v,labelY:g,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:f})});eh.displayName="StraightEdge";function ao(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function jm({pos:e,x1:t,y1:n,x2:a,y2:r,c:i}){switch(e){case se.Left:return[t-ao(t-a,i),n];case se.Right:return[t+ao(a-t,i),n];case se.Top:return[t,n-ao(n-r,i)];case se.Bottom:return[t,n+ao(r-n,i)]}}function x0({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:a,targetY:r,targetPosition:i=se.Top,curvature:o=.25}){const[s,l]=jm({pos:n,x1:e,y1:t,x2:a,y2:r,c:o}),[c,u]=jm({pos:i,x1:a,y1:r,x2:e,y2:t,c:o}),[d,p,f,h]=E0({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${a},${r}`,d,p,f,h]}const Yo=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=se.Bottom,targetPosition:i=se.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,pathOptions:v,interactionWidth:g})=>{const[b,E,y]=x0({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i,curvature:v==null?void 0:v.curvature});return m($i,{path:b,labelX:E,labelY:y,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,interactionWidth:g})});Yo.displayName="BezierEdge";const th=P.createContext(null),Zk=th.Provider;th.Consumer;const Jk=()=>P.useContext(th),e$=e=>"id"in e&&"source"in e&&"target"in e,t$=({source:e,sourceHandle:t,target:n,targetHandle:a})=>`reactflow__edge-${e}${t||""}-${n}${a||""}`,hd=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`,r$=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),n$=(e,t)=>{if(!e.source||!e.target)return t;let n;return e$(e)?n={...e}:n={...e,id:t$(e)},r$(n,t)?t:t.concat(n)},N0=({x:e,y:t},[n,a,r],i,[o,s])=>{const l={x:(e-n)/r,y:(t-a)/r};return i?{x:o*Math.round(l.x/o),y:s*Math.round(l.y/s)}:l},a$=({x:e,y:t},[n,a,r])=>({x:e*r+n,y:t*r+a}),Zn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],a=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-a};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-a}:r}},I0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((a,r)=>{const{x:i,y:o}=Zn(r,t).positionAbsolute;return zk(a,b0({x:i,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Hk(n)},T0=(e,t,[n,a,r]=[0,0,1],i=!1,o=!1,s=[0,0])=>{const l={x:(t.x-n)/r,y:(t.y-a)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach(u=>{const{width:d,height:p,selectable:f=!0,hidden:h=!1}=u;if(o&&!f||h)return!1;const{positionAbsolute:v}=Zn(u,s),g={x:v.x,y:v.y,width:d||0,height:p||0},b=dd(l,g),E=typeof d>"u"||typeof p>"u"||d===null||p===null,y=i&&b>0,_=(d||0)*(p||0);(E||y||b>=_||u.dragging)&&c.push(u)}),c},rh=(e,t)=>{const n=e.map(a=>a.id);return t.filter(a=>n.includes(a.source)||n.includes(a.target))},R0=(e,t,n,a,r,i=.1)=>{const o=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(o,s),c=oa(l,a,r),u=e.x+e.width/2,d=e.y+e.height/2,p=t/2-u*c,f=n/2-d*c;return[p,f,c]},un=(e,t=0)=>e.transition().duration(t);function Qm(e,t,n,a){return(t[n]||[]).reduce((r,i)=>{var o,s;return`${e.id}-${i.id}-${n}`!==a&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+i.y+i.height/2}),r},[])}function i$(e,t,n){let a=null,r=1/0;return n.forEach(i=>{const o=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));o<=t&&o<r&&(r=o,a=i)}),a}const o$={source:null,target:null,sourceHandle:null,targetHandle:null};function P0(e,t,n,a,r,i,o,s){const l=i==="target",c=s.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:u,y:d}=Wr(e),p=s.elementFromPoint(u,d),f=p!=null&&p.classList.contains("react-flow__handle")?p:c,h={handleDomNode:f,isValid:!1,connection:o$,endHandle:null};if(f){const v=A0(void 0,f),g=f.getAttribute("data-nodeid"),b=f.getAttribute("data-handleid"),E=f.classList.contains("connectable"),y=f.classList.contains("connectableend"),_={source:l?g:a,sourceHandle:l?b:r,target:l?a:g,targetHandle:l?r:b};h.connection=_,E&&y&&(n===Nn.Strict?l&&v==="source"||!l&&v==="target":g!==a||b!==r)&&(h.endHandle={nodeId:g,handleId:b,type:v},h.isValid=o(_))}return h}function s$({nodes:e,nodeId:t,handleId:n,handleType:a}){return e.reduce((r,i)=>{if(i[ct]){const{handleBounds:o}=i[ct];let s=[],l=[];o&&(s=Qm(i,o,"source",`${t}-${n}-${a}`),l=Qm(i,o,"target",`${t}-${n}-${a}`)),r.push(...s,...l)}return r},[])}function A0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Hl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function l$(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function k0({event:e,handleId:t,nodeId:n,onConnect:a,isTarget:r,getState:i,setState:o,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=y0(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:f,connectionRadius:h,onConnectStart:v,panBy:g,getNodes:b,cancelConnection:E}=i();let y=0,_;const{x:w,y:S}=Wr(e),C=u==null?void 0:u.elementFromPoint(w,S),x=A0(l,C),T=p==null?void 0:p.getBoundingClientRect();if(!T||!x)return;let R,q=Wr(e,T),k=!1,I=null,N=!1,$=null;const F=s$({nodes:b(),nodeId:n,handleId:t,handleType:x}),A=()=>{if(!f)return;const[U,H]=g0(q,T);g({x:U,y:H}),y=requestAnimationFrame(A)};o({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:x,connectionStartHandle:{nodeId:n,handleId:t,type:x},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:x});function V(U){const{transform:H}=i();q=Wr(U,T),_=i$(N0(q,H,!1,[1,1]),h,F),k||(A(),k=!0);const G=P0(U,_,d,n,t,r?"target":"source",s,u);if($=G.handleDomNode,I=G.connection,N=G.isValid,o({connectionPosition:_&&N?a$({x:_.x,y:_.y},H):q,connectionStatus:l$(!!_,N),connectionEndHandle:G.endHandle}),!_&&!N&&!$)return Hl(R);I.source!==I.target&&$&&(Hl(R),R=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",N),$.classList.toggle("react-flow__handle-valid",N))}function O(U){var H,G;(_||$)&&I&&N&&(a==null||a(I)),(G=(H=i()).onConnectEnd)==null||G.call(H,U),l&&(c==null||c(U)),Hl(R),E(),cancelAnimationFrame(y),k=!1,N=!1,I=null,$=null,u.removeEventListener("mousemove",V),u.removeEventListener("mouseup",O),u.removeEventListener("touchmove",V),u.removeEventListener("touchend",O)}u.addEventListener("mousemove",V),u.addEventListener("mouseup",O),u.addEventListener("touchmove",V),u.addEventListener("touchend",O)}const Gm=()=>!0,u$=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),c$=(e,t,n)=>a=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:o}=a;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},$0=P.forwardRef(({type:e="source",position:t=se.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:o,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...p},f)=>{var T,R;const h=o||null,v=e==="target",g=vt(),b=Jk(),{connectOnClick:E,noPanClassName:y}=it(u$,kt),{connecting:_,clickConnecting:w}=it(c$(b,h,e));b||(R=(T=g.getState()).onError)==null||R.call(T,"010",Kr.error010());const S=q=>{const{defaultEdgeOptions:k,onConnect:I,hasDefaultEdges:N}=g.getState(),$={...k,...q};if(N){const{edges:F,setEdges:A}=g.getState();A(n$($,F))}I==null||I($),s==null||s($)},C=q=>{if(!b)return;const k=S0(q);r&&(k&&q.button===0||!k)&&k0({event:q,handleId:h,nodeId:b,onConnect:S,isTarget:v,getState:g.getState,setState:g.setState,isValidConnection:n||g.getState().isValidConnection||Gm}),k?u==null||u(q):d==null||d(q)},x=q=>{const{onClickConnectStart:k,onClickConnectEnd:I,connectionClickStartHandle:N,connectionMode:$,isValidConnection:F}=g.getState();if(!b||!N&&!r)return;if(!N){k==null||k(q,{nodeId:b,handleId:h,handleType:e}),g.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:h}});return}const A=y0(q.target),V=n||F||Gm,{connection:O,isValid:U}=P0(q,{nodeId:b,id:h,type:e},$,N.nodeId,N.handleId||null,N.type,V,A);U&&S(O),I==null||I(q),g.setState({connectionClickStartHandle:null})};return m("div",{"data-handleid":h,"data-nodeid":b,"data-handlepos":t,"data-id":`${b}-${h}-${e}`,className:It(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!v,target:v,connectable:a,connectablestart:r,connectableend:i,connecting:w,connectionindicator:a&&(r&&!_||i&&_)}]),onMouseDown:C,onTouchStart:C,onClick:E?x:void 0,ref:f,...p,children:l})});$0.displayName="Handle";var Xo=P.memo($0);const q0=({data:e,isConnectable:t,targetPosition:n=se.Top,sourcePosition:a=se.Bottom})=>L(Q,{children:[m(Xo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,m(Xo,{type:"source",position:a,isConnectable:t})]});q0.displayName="DefaultNode";var md=P.memo(q0);const F0=({data:e,isConnectable:t,sourcePosition:n=se.Bottom})=>L(Q,{children:[e==null?void 0:e.label,m(Xo,{type:"source",position:n,isConnectable:t})]});F0.displayName="InputNode";var D0=P.memo(F0);const O0=({data:e,isConnectable:t,targetPosition:n=se.Top})=>L(Q,{children:[m(Xo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});O0.displayName="OutputNode";var L0=P.memo(O0);const nh=()=>null;nh.displayName="GroupNode";const d$=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),io=e=>e.id;function f$(e,t){return kt(e.selectedNodes.map(io),t.selectedNodes.map(io))&&kt(e.selectedEdges.map(io),t.selectedEdges.map(io))}const V0=P.memo(({onSelectionChange:e})=>{const t=vt(),{selectedNodes:n,selectedEdges:a}=it(d$,f$);return P.useEffect(()=>{var i,o;const r={nodes:n,edges:a};e==null||e(r),(o=(i=t.getState()).onSelectionChange)==null||o.call(i,r)},[n,a,e]),null});V0.displayName="SelectionListener";const p$=e=>!!e.onSelectionChange;function h$({onSelectionChange:e}){const t=it(p$);return e||t?m(V0,{onSelectionChange:e}):null}const m$=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ln(e,t){P.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Re(e,t,n){P.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const v$=({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:r,onConnectStart:i,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:f,elevateNodesOnSelect:h,minZoom:v,maxZoom:g,nodeExtent:b,onNodesChange:E,onEdgesChange:y,elementsSelectable:_,connectionMode:w,snapGrid:S,snapToGrid:C,translateExtent:x,connectOnClick:T,defaultEdgeOptions:R,fitView:q,fitViewOptions:k,onNodesDelete:I,onEdgesDelete:N,onNodeDrag:$,onNodeDragStart:F,onNodeDragStop:A,onSelectionDrag:V,onSelectionDragStart:O,onSelectionDragStop:U,noPanClassName:H,nodeOrigin:G,rfId:X,autoPanOnConnect:Y,autoPanOnNodeDrag:K,onError:J,connectionRadius:ne,isValidConnection:fe})=>{const{setNodes:ye,setEdges:ie,setDefaultNodesAndEdges:ve,setMinZoom:Ae,setMaxZoom:he,setTranslateExtent:te,setNodeExtent:me,reset:we}=it(m$,kt),ae=vt();return P.useEffect(()=>{const Ye=a==null?void 0:a.map(ke=>({...ke,...R}));return ve(n,Ye),()=>{we()}},[]),Re("defaultEdgeOptions",R,ae.setState),Re("connectionMode",w,ae.setState),Re("onConnect",r,ae.setState),Re("onConnectStart",i,ae.setState),Re("onConnectEnd",o,ae.setState),Re("onClickConnectStart",s,ae.setState),Re("onClickConnectEnd",l,ae.setState),Re("nodesDraggable",c,ae.setState),Re("nodesConnectable",u,ae.setState),Re("nodesFocusable",d,ae.setState),Re("edgesFocusable",p,ae.setState),Re("edgesUpdatable",f,ae.setState),Re("elementsSelectable",_,ae.setState),Re("elevateNodesOnSelect",h,ae.setState),Re("snapToGrid",C,ae.setState),Re("snapGrid",S,ae.setState),Re("onNodesChange",E,ae.setState),Re("onEdgesChange",y,ae.setState),Re("connectOnClick",T,ae.setState),Re("fitViewOnInit",q,ae.setState),Re("fitViewOnInitOptions",k,ae.setState),Re("onNodesDelete",I,ae.setState),Re("onEdgesDelete",N,ae.setState),Re("onNodeDrag",$,ae.setState),Re("onNodeDragStart",F,ae.setState),Re("onNodeDragStop",A,ae.setState),Re("onSelectionDrag",V,ae.setState),Re("onSelectionDragStart",O,ae.setState),Re("onSelectionDragStop",U,ae.setState),Re("noPanClassName",H,ae.setState),Re("nodeOrigin",G,ae.setState),Re("rfId",X,ae.setState),Re("autoPanOnConnect",Y,ae.setState),Re("autoPanOnNodeDrag",K,ae.setState),Re("onError",J,ae.setState),Re("connectionRadius",ne,ae.setState),Re("isValidConnection",fe,ae.setState),Ln(e,ye),Ln(t,ie),Ln(v,Ae),Ln(g,he),Ln(x,te),Ln(b,me),null},Ym={display:"none"},g$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},M0="react-flow__node-desc",B0="react-flow__edge-desc",y$="react-flow__aria-live",b$=e=>e.ariaLiveMessage;function w$({rfId:e}){const t=it(b$);return m("div",{id:`${y$}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:g$,children:t})}function S$({rfId:e,disableKeyboardA11y:t}){return L(Q,{children:[L("div",{id:`${M0}-${e}`,style:Ym,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m("div",{id:`${B0}-${e}`,style:Ym,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&m(w$,{rfId:e})]})}const _$=(e,t,n)=>n===se.Left?e-t:n===se.Right?e+t:e,E$=(e,t,n)=>n===se.Top?e-t:n===se.Bottom?e+t:e,Xm="react-flow__edgeupdater",Km=({position:e,centerX:t,centerY:n,radius:a=10,onMouseDown:r,onMouseEnter:i,onMouseOut:o,type:s})=>m("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:o,className:It([Xm,`${Xm}-${s}`]),cx:_$(t,a,e),cy:E$(n,a,e),r:a,stroke:"transparent",fill:"transparent"}),C$=()=>!0;var Vn=e=>{const t=({id:n,className:a,type:r,data:i,onClick:o,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:g,source:b,target:E,sourceX:y,sourceY:_,targetX:w,targetY:S,sourcePosition:C,targetPosition:x,elementsSelectable:T,hidden:R,sourceHandleId:q,targetHandleId:k,onContextMenu:I,onMouseEnter:N,onMouseMove:$,onMouseLeave:F,edgeUpdaterRadius:A,onEdgeUpdate:V,onEdgeUpdateStart:O,onEdgeUpdateEnd:U,markerEnd:H,markerStart:G,rfId:X,ariaLabel:Y,isFocusable:K,isUpdatable:J,pathOptions:ne,interactionWidth:fe})=>{const ye=P.useRef(null),[ie,ve]=P.useState(!1),[Ae,he]=P.useState(!1),te=vt(),me=P.useMemo(()=>`url(#${hd(G,X)})`,[G,X]),we=P.useMemo(()=>`url(#${hd(H,X)})`,[H,X]);if(R)return null;const ae=We=>{const{edges:Me,addSelectedEdges:Z}=te.getState();if(T&&(te.setState({nodesSelectionActive:!1}),Z([n])),o){const re=Me.find(Ee=>Ee.id===n);o(We,re)}},Ye=Aa(n,te.getState,s),ke=Aa(n,te.getState,I),He=Aa(n,te.getState,N),lt=Aa(n,te.getState,$),$e=Aa(n,te.getState,F),ee=(We,Me)=>{if(We.button!==0)return;const{edges:Z,isValidConnection:re}=te.getState(),Ee=Me?E:b,Ie=(Me?k:q)||null,Qe=Me?"target":"source",Xe=re||C$,Ft=Me,Dt=Z.find(pr=>pr.id===n);he(!0),O==null||O(We,Dt,Qe);const Ca=pr=>{he(!1),U==null||U(pr,Dt,Qe)};k0({event:We,handleId:Ie,nodeId:Ee,onConnect:pr=>V==null?void 0:V(Dt,pr),isTarget:Ft,getState:te.getState,setState:te.setState,isValidConnection:Xe,edgeUpdaterType:Qe,onEdgeUpdateEnd:Ca})},ue=We=>ee(We,!0),de=We=>ee(We,!1),Ne=()=>ve(!0),ge=()=>ve(!1),pt=!T&&!o,Se=We=>{var Me;if(w0.includes(We.key)&&T){const{unselectNodesAndEdges:Z,addSelectedEdges:re,edges:Ee}=te.getState();We.key==="Escape"?((Me=ye.current)==null||Me.blur(),Z({edges:[Ee.find(Qe=>Qe.id===n)]})):re([n])}};return L("g",{className:It(["react-flow__edge",`react-flow__edge-${r}`,a,{selected:l,animated:c,inactive:pt,updating:ie}]),onClick:ae,onDoubleClick:Ye,onContextMenu:ke,onMouseEnter:He,onMouseMove:lt,onMouseLeave:$e,onKeyDown:K?Se:void 0,tabIndex:K?0:void 0,role:K?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${b} to ${E}`,"aria-describedby":K?`${B0}-${X}`:void 0,ref:ye,children:[!Ae&&m(e,{id:n,source:b,target:E,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,data:i,style:g,sourceX:y,sourceY:_,targetX:w,targetY:S,sourcePosition:C,targetPosition:x,sourceHandleId:q,targetHandleId:k,markerStart:me,markerEnd:we,pathOptions:ne,interactionWidth:fe}),J&&L(Q,{children:[(J==="source"||J===!0)&&m(Km,{position:C,centerX:y,centerY:_,radius:A,onMouseDown:ue,onMouseEnter:Ne,onMouseOut:ge,type:"source"}),(J==="target"||J===!0)&&m(Km,{position:x,centerX:w,centerY:S,radius:A,onMouseDown:de,onMouseEnter:Ne,onMouseOut:ge,type:"target"})]})]})};return t.displayName="EdgeWrapper",P.memo(t)};function x$(e){const t={default:Vn(e.default||Yo),straight:Vn(e.bezier||eh),step:Vn(e.step||Jp),smoothstep:Vn(e.step||el),simplebezier:Vn(e.simplebezier||Zp)},n={},a=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,i)=>(r[i]=Vn(e[i]||Yo),r),n);return{...t,...a}}function Zm(e,t,n=null){const a=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case se.Top:return{x:a+i/2,y:r};case se.Right:return{x:a+i,y:r+o/2};case se.Bottom:return{x:a+i/2,y:r+o};case se.Left:return{x:a,y:r+o/2}}}function Jm(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const N$=(e,t,n,a,r,i)=>{const o=Zm(n,e,t),s=Zm(i,a,r);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function I$({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:a,targetWidth:r,targetHeight:i,width:o,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+a,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=b0({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),p=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*p)>0}function ev(e){var a,r,i,o,s;const t=((a=e==null?void 0:e[ct])==null?void 0:a.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function U0(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:U0(n,t):!1}function tv(e,t,n){let a=e;do{if(a!=null&&a.matches(t))return!0;if(a===n.current)return!1;a=a.parentElement}while(a);return!1}function T$(e,t,n,a){return Array.from(e.values()).filter(r=>(r.selected||r.id===a)&&(!r.parentNode||!U0(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var i,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=r.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function z0(e,t,n,a,r=[0,0],i){let o=e.extent||a;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const c=n.get(e.parentNode),{x:u,y:d}=Zn(c,r).positionAbsolute;o=c&&Mt(u)&&Mt(d)&&Mt(c.width)&&Mt(c.height)?[[u+e.width*r[0],d+e.height*r[1]],[u+c.width-e.width+e.width*r[0],d+c.height-e.height+e.height*r[1]]]:o}else i==null||i("005",Kr.error005()),o=a;else if(e.extent&&e.parentNode){const c=n.get(e.parentNode),{x:u,y:d}=Zn(c,r).positionAbsolute;o=[[e.extent[0][0]+u,e.extent[0][1]+d],[e.extent[1][0]+u,e.extent[1][1]+d]]}let s={x:0,y:0};if(e.parentNode){const c=n.get(e.parentNode);s=Zn(c,r).positionAbsolute}const l=o?Kp(t,o):t;return{position:{x:l.x-s.x,y:l.y-s.y},positionAbsolute:l}}function Wl({nodeId:e,dragItems:t,nodeInternals:n}){const a=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?a.find(r=>r.id===e):a[0],a]}const rv=(e,t,n,a)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),o=t.getBoundingClientRect(),s={x:o.width*a[0],y:o.height*a[1]};return i.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-s.x)/n,y:(c.top-o.top-s.y)/n,...Xp(l)}})};function ka(e,t,n){return n===void 0?n:a=>{const r=t().nodeInternals.get(e);n(a,{...r})}}function vd({id:e,store:t,unselect:n=!1,nodeRef:a}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&o)&&(i({nodes:[l]}),requestAnimationFrame(()=>{var c;return(c=a==null?void 0:a.current)==null?void 0:c.blur()})):r([e])}function R$(){const e=vt();return P.useCallback(({sourceEvent:n})=>{const{transform:a,snapGrid:r,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-a[0])/a[2],y:(s-a[1])/a[2]};return{xSnapped:i?r[0]*Math.round(l.x/r[0]):l.x,ySnapped:i?r[1]*Math.round(l.y/r[1]):l.y,...l}},[])}function jl(e){return(t,n,a)=>e==null?void 0:e(t,a)}function H0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:a,nodeId:r,isSelectable:i,selectNodesOnDrag:o}){const s=vt(),[l,c]=P.useState(!1),u=P.useRef([]),d=P.useRef({x:null,y:null}),p=P.useRef(0),f=P.useRef(null),h=P.useRef({x:0,y:0}),v=P.useRef(null),g=P.useRef(!1),b=R$();return P.useEffect(()=>{if(e!=null&&e.current){const E=Wt(e.current),y=({x:w,y:S})=>{const{nodeInternals:C,onNodeDrag:x,onSelectionDrag:T,updateNodePositions:R,nodeExtent:q,snapGrid:k,snapToGrid:I,nodeOrigin:N,onError:$}=s.getState();d.current={x:w,y:S};let F=!1;if(u.current=u.current.map(V=>{const O={x:w-V.distance.x,y:S-V.distance.y};I&&(O.x=k[0]*Math.round(O.x/k[0]),O.y=k[1]*Math.round(O.y/k[1]));const U=z0(V,O,C,q,N,$);return F=F||V.position.x!==U.position.x||V.position.y!==U.position.y,V.position=U.position,V.positionAbsolute=U.positionAbsolute,V}),!F)return;R(u.current,!0,!0),c(!0);const A=r?x:jl(T);if(A&&v.current){const[V,O]=Wl({nodeId:r,dragItems:u.current,nodeInternals:C});A(v.current,V,O)}},_=()=>{if(!f.current)return;const[w,S]=g0(h.current,f.current);if(w!==0||S!==0){const{transform:C,panBy:x}=s.getState();d.current.x=(d.current.x??0)-w/C[2],d.current.y=(d.current.y??0)-S/C[2],y(d.current),x({x:w,y:S})}p.current=requestAnimationFrame(_)};if(t)E.on(".drag",null);else{const w=QP().on("start",S=>{var F;const{nodeInternals:C,multiSelectionActive:x,domNode:T,nodesDraggable:R,unselectNodesAndEdges:q,onNodeDragStart:k,onSelectionDragStart:I}=s.getState(),N=r?k:jl(I);!o&&!x&&r&&((F=C.get(r))!=null&&F.selected||q()),r&&i&&o&&vd({id:r,store:s,nodeRef:e});const $=b(S);if(d.current=$,u.current=T$(C,R,$,r),N&&u.current){const[A,V]=Wl({nodeId:r,dragItems:u.current,nodeInternals:C});N(S.sourceEvent,A,V)}f.current=(T==null?void 0:T.getBoundingClientRect())||null,h.current=Wr(S.sourceEvent,f.current)}).on("drag",S=>{const C=b(S),{autoPanOnNodeDrag:x}=s.getState();!g.current&&x&&(g.current=!0,_()),(d.current.x!==C.xSnapped||d.current.y!==C.ySnapped)&&u.current&&(v.current=S.sourceEvent,h.current=Wr(S.sourceEvent,f.current),y(C))}).on("end",S=>{if(c(!1),g.current=!1,cancelAnimationFrame(p.current),u.current){const{updateNodePositions:C,nodeInternals:x,onNodeDragStop:T,onSelectionDragStop:R}=s.getState(),q=r?T:jl(R);if(C(u.current,!1,!1),q){const[k,I]=Wl({nodeId:r,dragItems:u.current,nodeInternals:x});q(S.sourceEvent,k,I)}}}).filter(S=>{const C=S.target;return!S.button&&(!n||!tv(C,`.${n}`,e))&&(!a||tv(C,a,e))});return E.call(w),()=>{E.on(".drag",null)}}}},[e,t,n,a,i,s,r,o,b]),l}function W0(){const e=vt();return P.useCallback(n=>{const{nodeInternals:a,nodeExtent:r,updateNodePositions:i,getNodes:o,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=o().filter(E=>E.selected&&(E.draggable||u&&typeof E.draggable>"u")),p=s?l[0]:5,f=s?l[1]:5,h=n.isShiftPressed?4:1,v=n.x*p*h,g=n.y*f*h,b=d.map(E=>{if(E.positionAbsolute){const y={x:E.positionAbsolute.x+v,y:E.positionAbsolute.y+g};s&&(y.x=l[0]*Math.round(y.x/l[0]),y.y=l[1]*Math.round(y.y/l[1]));const{positionAbsolute:_,position:w}=z0(E,y,a,r,void 0,c);E.position=w,E.positionAbsolute=_}return E});i(b,!0,!1)},[])}const Jn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var $a=e=>{const t=({id:n,type:a,data:r,xPos:i,yPos:o,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:p,onMouseLeave:f,onContextMenu:h,onDoubleClick:v,style:g,className:b,isDraggable:E,isSelectable:y,isConnectable:_,isFocusable:w,selectNodesOnDrag:S,sourcePosition:C,targetPosition:x,hidden:T,resizeObserver:R,dragHandle:q,zIndex:k,isParent:I,noDragClassName:N,noPanClassName:$,initialized:F,disableKeyboardA11y:A,ariaLabel:V,rfId:O})=>{const U=vt(),H=P.useRef(null),G=P.useRef(C),X=P.useRef(x),Y=P.useRef(a),K=y||E||u||d||p||f,J=W0(),ne=ka(n,U.getState,d),fe=ka(n,U.getState,p),ye=ka(n,U.getState,f),ie=ka(n,U.getState,h),ve=ka(n,U.getState,v),Ae=me=>{if(y&&(!S||!E)&&vd({id:n,store:U,nodeRef:H}),u){const we=U.getState().nodeInternals.get(n);u(me,{...we})}},he=me=>{if(!fd(me))if(w0.includes(me.key)&&y){const we=me.key==="Escape";vd({id:n,store:U,unselect:we,nodeRef:H})}else!A&&E&&c&&Object.prototype.hasOwnProperty.call(Jn,me.key)&&(U.setState({ariaLiveMessage:`Moved selected node ${me.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),J({x:Jn[me.key].x,y:Jn[me.key].y,isShiftPressed:me.shiftKey}))};P.useEffect(()=>{if(H.current&&!T){const me=H.current;return R==null||R.observe(me),()=>R==null?void 0:R.unobserve(me)}},[T]),P.useEffect(()=>{const me=Y.current!==a,we=G.current!==C,ae=X.current!==x;H.current&&(me||we||ae)&&(me&&(Y.current=a),we&&(G.current=C),ae&&(X.current=x),U.getState().updateNodeDimensions([{id:n,nodeElement:H.current,forceUpdate:!0}]))},[n,a,C,x]);const te=H0({nodeRef:H,disabled:T||!E,noDragClassName:N,handleSelector:q,nodeId:n,isSelectable:y,selectNodesOnDrag:S});return T?null:m("div",{className:It(["react-flow__node",`react-flow__node-${a}`,{[$]:E},b,{selected:c,selectable:y,parent:I,dragging:te}]),ref:H,style:{zIndex:k,transform:`translate(${s}px,${l}px)`,pointerEvents:K?"all":"none",visibility:F?"visible":"hidden",...g},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ne,onMouseMove:fe,onMouseLeave:ye,onContextMenu:ie,onClick:Ae,onDoubleClick:ve,onKeyDown:w?he:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":A?void 0:`${M0}-${O}`,"aria-label":V,children:m(Zk,{value:n,children:m(e,{id:n,data:r,type:a,xPos:i,yPos:o,selected:c,isConnectable:_,sourcePosition:C,targetPosition:x,dragging:te,dragHandle:q,zIndex:k})})})};return t.displayName="NodeWrapper",P.memo(t)};function P$(e){const t={input:$a(e.input||D0),default:$a(e.default||md),output:$a(e.output||L0),group:$a(e.group||nh)},n={},a=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,i)=>(r[i]=$a(e[i]||md),r),n);return{...t,...a}}const A$=({x:e,y:t,width:n,height:a,origin:r})=>!n||!a?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-a*r[1]},k$=typeof document<"u"?document:null;var si=(e=null,t={target:k$})=>{const[n,a]=P.useState(!1),r=P.useRef(!1),i=P.useRef(new Set([])),[o,s]=P.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,p)=>d.concat(...p),[]);return[c,u]}return[[],[]]},[e]);return P.useEffect(()=>{var l,c;if(e!==null){const u=f=>{if(r.current=f.ctrlKey||f.metaKey||f.shiftKey,!r.current&&fd(f))return!1;const h=av(f.code,s);i.current.add(f[h]),nv(o,i.current,!1)&&(f.preventDefault(),a(!0))},d=f=>{if(!r.current&&fd(f))return!1;const h=av(f.code,s);nv(o,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(f[h]),r.current=!1},p=()=>{i.current.clear(),a(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",u),(c=t==null?void 0:t.target)==null||c.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{var f,h;(f=t==null?void 0:t.target)==null||f.removeEventListener("keydown",u),(h=t==null?void 0:t.target)==null||h.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,a]),n};function nv(e,t,n){return e.filter(a=>n||a.length===t.size).some(a=>a.every(r=>t.has(r)))}function av(e,t){return t.includes(e)?"code":"key"}function j0(e,t,n,a){var o,s;if(!e.parentNode)return n;const r=t.get(e.parentNode),i=Zn(r,a);return j0(r,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((o=r[ct])==null?void 0:o.z)??0)>(n.z??0)?((s=r[ct])==null?void 0:s.z)??0:n.z??0},a)}function Q0(e,t,n){e.forEach(a=>{var r;if(a.parentNode&&!e.has(a.parentNode))throw new Error(`Parent node ${a.parentNode} not found`);if(a.parentNode||n!=null&&n[a.id]){const{x:i,y:o,z:s}=j0(a,e,{...a.position,z:((r=a[ct])==null?void 0:r.z)??0},t);a.positionAbsolute={x:i,y:o},a[ct].z=s,n!=null&&n[a.id]&&(a[ct].isParent=!0)}})}function Ql(e,t,n,a){const r=new Map,i={},o=a?1e3:0;return e.forEach(s=>{var d;const l=(Mt(s.zIndex)?s.zIndex:0)+(s.selected?o:0),c=t.get(s.id),u={width:c==null?void 0:c.width,height:c==null?void 0:c.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(u.parentNode=s.parentNode,i[s.parentNode]=!0),Object.defineProperty(u,ct,{enumerable:!1,value:{handleBounds:(d=c==null?void 0:c[ct])==null?void 0:d.handleBounds,z:l}}),r.set(s.id,u)}),Q0(r,n,i),r}function G0(e,t={}){const{getNodes:n,width:a,height:r,minZoom:i,maxZoom:o,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),p=t.initial&&!c&&u;if(s&&l&&(p||!t.initial)){const h=n().filter(g=>{var E;const b=t.includeHiddenNodes?g.width&&g.height:!g.hidden;return(E=t.nodes)!=null&&E.length?b&&t.nodes.some(y=>y.id===g.id):b}),v=h.every(g=>g.width&&g.height);if(h.length>0&&v){const g=I0(h,d),[b,E,y]=R0(g,a,r,t.minZoom??i,t.maxZoom??o,t.padding??.1),_=Hr.translate(b,E).scale(y);return typeof t.duration=="number"&&t.duration>0?s.transform(un(l,t.duration),_):s.transform(l,_),!0}}return!1}function $$(e,t){return e.forEach(n=>{const a=t.get(n.id);a&&t.set(a.id,{...a,[ct]:a[ct],selected:n.selected})}),new Map(t)}function q$(e,t){return t.map(n=>{const a=e.find(r=>r.id===n.id);return a&&(n.selected=a.selected),n})}function oo({changedNodes:e,changedEdges:t,get:n,set:a}){const{nodeInternals:r,edges:i,onNodesChange:o,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&a({nodeInternals:$$(e,r)}),o==null||o(e)),t!=null&&t.length&&(c&&a({edges:q$(t,i)}),s==null||s(t))}const Mn=()=>{},F$={zoomIn:Mn,zoomOut:Mn,zoomTo:Mn,getZoom:()=>1,setViewport:Mn,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Mn,fitBounds:Mn,project:e=>e,viewportInitialized:!1},D$=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),O$=()=>{const e=vt(),{d3Zoom:t,d3Selection:n}=it(D$,kt);return P.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(un(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(un(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,i)=>t.scaleTo(un(n,i==null?void 0:i.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{const[o,s,l]=e.getState().transform,c=Hr.translate(r.x??o,r.y??s).scale(r.zoom??l);t.transform(un(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[r,i,o]=e.getState().transform;return{x:r,y:i,zoom:o}},fitView:r=>G0(e.getState,r),setCenter:(r,i,o)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,d=s/2-r*u,p=l/2-i*u,f=Hr.translate(d,p).scale(u);t.transform(un(n,o==null?void 0:o.duration),f)},fitBounds:(r,i)=>{const{width:o,height:s,minZoom:l,maxZoom:c}=e.getState(),[u,d,p]=R0(r,o,s,l,c,(i==null?void 0:i.padding)??.1),f=Hr.translate(u,d).scale(p);t.transform(un(n,i==null?void 0:i.duration),f)},project:r=>{const{transform:i,snapToGrid:o,snapGrid:s}=e.getState();return N0(r,i,o,s)},viewportInitialized:!0}:F$,[t,n])};function tl(){const e=O$(),t=vt(),n=P.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),a=P.useCallback(v=>t.getState().nodeInternals.get(v),[]),r=P.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(g=>({...g}))},[]),i=P.useCallback(v=>{const{edges:g=[]}=t.getState();return g.find(b=>b.id===v)},[]),o=P.useCallback(v=>{const{getNodes:g,setNodes:b,hasDefaultNodes:E,onNodesChange:y}=t.getState(),_=g(),w=typeof v=="function"?v(_):v;if(E)b(w);else if(y){const S=w.length===0?_.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));y(S)}},[]),s=P.useCallback(v=>{const{edges:g=[],setEdges:b,hasDefaultEdges:E,onEdgesChange:y}=t.getState(),_=typeof v=="function"?v(g):v;if(E)b(_);else if(y){const w=_.length===0?g.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));y(w)}},[]),l=P.useCallback(v=>{const g=Array.isArray(v)?v:[v],{getNodes:b,setNodes:E,hasDefaultNodes:y,onNodesChange:_}=t.getState();if(y){const S=[...b(),...g];E(S)}else if(_){const w=g.map(S=>({item:S,type:"add"}));_(w)}},[]),c=P.useCallback(v=>{const g=Array.isArray(v)?v:[v],{edges:b=[],setEdges:E,hasDefaultEdges:y,onEdgesChange:_}=t.getState();if(y)E([...b,...g]);else if(_){const w=g.map(S=>({item:S,type:"add"}));_(w)}},[]),u=P.useCallback(()=>{const{getNodes:v,edges:g=[],transform:b}=t.getState(),[E,y,_]=b;return{nodes:v().map(w=>({...w})),edges:g.map(w=>({...w})),viewport:{x:E,y,zoom:_}}},[]),d=P.useCallback(({nodes:v,edges:g})=>{const{nodeInternals:b,getNodes:E,edges:y,hasDefaultNodes:_,hasDefaultEdges:w,onNodesDelete:S,onEdgesDelete:C,onNodesChange:x,onEdgesChange:T}=t.getState(),R=(v||[]).map($=>$.id),q=(g||[]).map($=>$.id),k=E().reduce(($,F)=>{const A=!R.includes(F.id)&&F.parentNode&&$.find(O=>O.id===F.parentNode);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(R.includes(F.id)||A)&&$.push(F),$},[]),I=y.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),N=I.filter($=>q.includes($.id));if(k||N){const $=rh(k,I),F=[...N,...$],A=F.reduce((V,O)=>(V.includes(O.id)||V.push(O.id),V),[]);if((w||_)&&(w&&t.setState({edges:y.filter(V=>!A.includes(V.id))}),_&&(k.forEach(V=>{b.delete(V.id)}),t.setState({nodeInternals:new Map(b)}))),A.length>0&&(C==null||C(F),T&&T(A.map(V=>({id:V,type:"remove"})))),k.length>0&&(S==null||S(k),x)){const V=k.map(O=>({id:O.id,type:"remove"}));x(V)}}},[]),p=P.useCallback(v=>{const g=Wk(v),b=g?null:t.getState().nodeInternals.get(v.id);return[g?v:Um(b),b,g]},[]),f=P.useCallback((v,g=!0,b)=>{const[E,y,_]=p(v);return E?(b||t.getState().getNodes()).filter(w=>{if(!_&&(w.id===y.id||!w.positionAbsolute))return!1;const S=Um(w),C=dd(S,E);return g&&C>0||C>=v.width*v.height}):[]},[]),h=P.useCallback((v,g,b=!0)=>{const[E]=p(v);if(!E)return!1;const y=dd(E,g);return b&&y>0||y>=v.width*v.height},[]);return P.useMemo(()=>({...e,getNodes:n,getNode:a,getEdges:r,getEdge:i,setNodes:o,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:h}),[e,n,a,r,i,o,s,l,c,u,d,f,h])}var L$=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=vt(),{deleteElements:a}=tl(),r=si(e),i=si(t);P.useEffect(()=>{if(r){const{edges:o,getNodes:s}=n.getState(),l=s().filter(u=>u.selected),c=o.filter(u=>u.selected);a({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[r]),P.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function V$(e){const t=vt();P.useEffect(()=>{let n;const a=()=>{var i,o;if(!e.current)return;const r=Xp(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Kr.error004())),t.setState({width:r.width||500,height:r.height||500})};return a(),window.addEventListener("resize",a),e.current&&(n=new ResizeObserver(()=>a()),n.observe(e.current)),()=>{window.removeEventListener("resize",a),n&&e.current&&n.unobserve(e.current)}},[])}const ah={position:"absolute",width:"100%",height:"100%",top:0,left:0},M$=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Gl=e=>({x:e.x,y:e.y,zoom:e.k}),Bn=(e,t)=>e.target.closest(`.${t}`),iv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),B$=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),U$=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:a,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Kn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:p,translateExtent:f,minZoom:h,maxZoom:v,zoomActivationKeyCode:g,preventScrolling:b=!0,children:E,noWheelClassName:y,noPanClassName:_})=>{const w=P.useRef(),S=vt(),C=P.useRef(!1),x=P.useRef(!1),T=P.useRef(null),R=P.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:k,d3ZoomHandler:I,userSelectionActive:N}=it(B$,kt),$=si(g),F=P.useRef(0);return V$(T),P.useEffect(()=>{if(T.current){const A=T.current.getBoundingClientRect(),V=Ok().scaleExtent([h,v]).translateExtent(f),O=Wt(T.current).call(V),U=Hr.translate(p.x,p.y).scale(oa(p.zoom,h,v)),H=[[0,0],[A.width,A.height]],G=V.constrain()(U,H,f);V.transform(O,G),S.setState({d3Zoom:V,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:T.current.closest(".react-flow")})}},[]),P.useEffect(()=>{k&&q&&(o&&!$&&!N?k.on("wheel.zoom",A=>{if(Bn(A,y))return!1;A.preventDefault(),A.stopImmediatePropagation();const V=k.property("__zoom").k||1;if(A.ctrlKey&&i){const G=nr(A),X=-A.deltaY*(A.deltaMode===1?.05:A.deltaMode?1:.002)*10,Y=V*Math.pow(2,X);q.scaleTo(k,Y,G);return}const O=A.deltaMode===1?20:1,U=l===Kn.Vertical?0:A.deltaX*O,H=l===Kn.Horizontal?0:A.deltaY*O;q.translateBy(k,-(U/V)*s,-(H/V)*s)},{passive:!1}):typeof I<"u"&&k.on("wheel.zoom",function(A,V){if(!b||Bn(A,y))return null;A.preventDefault(),I.call(this,A,V)},{passive:!1}))},[N,o,l,k,q,I,$,i,b,y]),P.useEffect(()=>{q&&q.on("start",A=>{var O;if(!A.sourceEvent)return null;F.current=A.sourceEvent.button;const{onViewportChangeStart:V}=S.getState();if(C.current=!0,((O=A.sourceEvent)==null?void 0:O.type)==="mousedown"&&S.setState({paneDragging:!0}),t||V){const U=Gl(A.transform);R.current=U,V==null||V(U),t==null||t(A.sourceEvent,U)}})},[q,t]),P.useEffect(()=>{q&&(N&&!C.current?q.on("zoom",null):N||q.on("zoom",A=>{const{onViewportChange:V}=S.getState();if(S.setState({transform:[A.transform.x,A.transform.y,A.transform.k]}),x.current=!!(a&&iv(d,F.current??0)),e||V){const O=Gl(A.transform);V==null||V(O),e==null||e(A.sourceEvent,O)}}))},[N,q,e,d,a]),P.useEffect(()=>{q&&q.on("end",A=>{if(!A.sourceEvent)return null;const{onViewportChangeEnd:V}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),a&&iv(d,F.current??0)&&!x.current&&a(A.sourceEvent),x.current=!1,(n||V)&&M$(R.current,A.transform)){const O=Gl(A.transform);R.current=O,clearTimeout(w.current),w.current=setTimeout(()=>{V==null||V(O),n==null||n(A.sourceEvent,O)},o?150:0)}})},[q,o,d,n,a]),P.useEffect(()=>{q&&q.filter(A=>{const V=$||r,O=i&&A.ctrlKey;if(A.button===1&&A.type==="mousedown"&&(Bn(A,"react-flow__node")||Bn(A,"react-flow__edge")))return!0;if(!d&&!V&&!o&&!c&&!i||N||!c&&A.type==="dblclick"||Bn(A,y)&&A.type==="wheel"||Bn(A,_)&&A.type!=="wheel"||!i&&A.ctrlKey&&A.type==="wheel"||!V&&!o&&!O&&A.type==="wheel"||!d&&(A.type==="mousedown"||A.type==="touchstart")||Array.isArray(d)&&!d.includes(A.button)&&(A.type==="mousedown"||A.type==="touchstart"))return!1;const U=Array.isArray(d)&&d.includes(A.button)||!A.button||A.button<=1;return(!A.ctrlKey||A.type==="wheel")&&U})},[N,q,r,i,o,c,d,u,$]),m("div",{className:"react-flow__renderer",ref:T,style:ah,children:E})},z$=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function H$(){const{userSelectionActive:e,userSelectionRect:t}=it(z$,kt);return e&&t?m("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ov(e,t){const n=e.find(a=>a.id===t.parentNode);if(n){const a=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(a>0||r>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),r>0&&(n.style.height+=r),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Y0(e,t){if(e.some(a=>a.type==="reset"))return e.filter(a=>a.type==="reset").map(a=>a.item);const n=e.filter(a=>a.type==="add").map(a=>a.item);return t.reduce((a,r)=>{const i=e.filter(s=>s.id===r.id);if(i.length===0)return a.push(r),a;const o={...r};for(const s of i)if(s)switch(s.type){case"select":{o.selected=s.selected;break}case"position":{typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&ov(a,o);break}case"dimensions":{typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),typeof s.updateStyle<"u"&&(o.style={...o.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(o.resizing=s.resizing),o.expandParent&&ov(a,o);break}case"remove":return a}return a.push(o),a},n)}function X0(e,t){return Y0(e,t)}function W$(e,t){return Y0(e,t)}const Lr=(e,t)=>({id:e,type:"select",selected:t});function jn(e,t){return e.reduce((n,a)=>{const r=t.includes(a.id);return!a.selected&&r?(a.selected=!0,n.push(Lr(a.id,!0))):a.selected&&!r&&(a.selected=!1,n.push(Lr(a.id,!1))),n},[])}const Yl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},j$=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),K0=P.memo(({isSelecting:e,selectionMode:t=ii.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const p=P.useRef(null),f=vt(),h=P.useRef(0),v=P.useRef(0),g=P.useRef(),{userSelectionActive:b,elementsSelectable:E,dragging:y}=it(j$,kt),_=()=>{f.setState({userSelectionActive:!1,userSelectionRect:null}),h.current=0,v.current=0},w=I=>{i==null||i(I),f.getState().resetSelectedElements(),f.setState({nodesSelectionActive:!1})},S=I=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){I.preventDefault();return}o==null||o(I)},C=s?I=>s(I):void 0,x=I=>{const{resetSelectedElements:N,domNode:$}=f.getState();if(g.current=$==null?void 0:$.getBoundingClientRect(),!E||!e||I.button!==0||I.target!==p.current||!g.current)return;const{x:F,y:A}=Wr(I,g.current);N(),f.setState({userSelectionRect:{width:0,height:0,startX:F,startY:A,x:F,y:A}}),a==null||a(I)},T=I=>{const{userSelectionRect:N,nodeInternals:$,edges:F,transform:A,onNodesChange:V,onEdgesChange:O,nodeOrigin:U,getNodes:H}=f.getState();if(!e||!g.current||!N)return;f.setState({userSelectionActive:!0,nodesSelectionActive:!1});const G=Wr(I,g.current),X=N.startX??0,Y=N.startY??0,K={...N,x:G.x<X?G.x:X,y:G.y<Y?G.y:Y,width:Math.abs(G.x-X),height:Math.abs(G.y-Y)},J=H(),ne=T0($,K,A,t===ii.Partial,!0,U),fe=rh(ne,F).map(ie=>ie.id),ye=ne.map(ie=>ie.id);if(h.current!==ye.length){h.current=ye.length;const ie=jn(J,ye);ie.length&&(V==null||V(ie))}if(v.current!==fe.length){v.current=fe.length;const ie=jn(F,fe);ie.length&&(O==null||O(ie))}f.setState({userSelectionRect:K})},R=I=>{if(I.button!==0)return;const{userSelectionRect:N}=f.getState();!b&&N&&I.target===p.current&&(w==null||w(I)),f.setState({nodesSelectionActive:h.current>0}),_(),r==null||r(I)},q=I=>{b&&(f.setState({nodesSelectionActive:h.current>0}),r==null||r(I)),_()},k=E&&(e||b);return L("div",{className:It(["react-flow__pane",{dragging:y,selection:e}]),onClick:k?void 0:Yl(w,p),onContextMenu:Yl(S,p),onWheel:Yl(C,p),onMouseEnter:k?void 0:l,onMouseDown:k?x:void 0,onMouseMove:k?T:c,onMouseUp:k?R:void 0,onMouseLeave:k?q:u,ref:p,style:ah,children:[d,m(H$,{})]})});K0.displayName="Pane";const Q$=e=>{const t=e.getNodes().filter(n=>n.selected);return{...I0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function G$({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const a=vt(),{width:r,height:i,x:o,y:s,transformString:l,userSelectionActive:c}=it(Q$,kt),u=W0(),d=P.useRef(null);if(P.useEffect(()=>{var h;n||(h=d.current)==null||h.focus({preventScroll:!0})},[n]),H0({nodeRef:d}),c||!r||!i)return null;const p=e?h=>{const v=a.getState().getNodes().filter(g=>g.selected);e(h,v)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(Jn,h.key)&&u({x:Jn[h.key].x,y:Jn[h.key].y,isShiftPressed:h.shiftKey})};return m("div",{className:It(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:m("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:r,height:i,top:s,left:o}})})}var Y$=P.memo(G$);const X$=e=>e.nodesSelectionActive,Z0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:f,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:g,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:x,zoomOnDoubleClick:T,panOnDrag:R,defaultViewport:q,translateExtent:k,minZoom:I,maxZoom:N,preventScrolling:$,onSelectionContextMenu:F,noWheelClassName:A,noPanClassName:V,disableKeyboardA11y:O})=>{const U=it(X$),H=si(d),X=si(b)||R,Y=H||p&&X!==!0;return L$({deleteKeyCode:s,multiSelectionKeyCode:g}),m(U$,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:x,zoomOnDoubleClick:T,panOnDrag:!H&&X,defaultViewport:q,translateExtent:k,minZoom:I,maxZoom:N,zoomActivationKeyCode:E,preventScrolling:$,noWheelClassName:A,noPanClassName:V,children:L(K0,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:X,isSelecting:!!Y,selectionMode:f,children:[e,U&&m(Y$,{onSelectionContextMenu:F,noPanClassName:V,disableKeyboardA11y:O})]})})};Z0.displayName="FlowRenderer";var K$=P.memo(Z0);function Z$(e){return it(P.useCallback(n=>e?T0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const J$=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),J0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:r,updateNodeDimensions:i,onError:o}=it(J$,kt),s=Z$(e.onlyRenderVisibleElements),l=P.useRef(),c=P.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const p=d.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));i(p)});return l.current=u,u},[]);return P.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),m("div",{className:"react-flow__nodes",style:ah,children:s.map(u=>{var w,S;let d=u.type||"default";e.nodeTypes[d]||(o==null||o("003",Kr.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,f=!!(u.draggable||t&&typeof u.draggable>"u"),h=!!(u.selectable||r&&typeof u.selectable>"u"),v=!!(u.connectable||n&&typeof u.connectable>"u"),g=!!(u.focusable||a&&typeof u.focusable>"u"),b=e.nodeExtent?Kp(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,E=(b==null?void 0:b.x)??0,y=(b==null?void 0:b.y)??0,_=A$({x:E,y,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return m(p,{id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||se.Bottom,targetPosition:u.targetPosition||se.Top,hidden:u.hidden,xPos:E,yPos:y,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:f,isSelectable:h,isConnectable:v,isFocusable:g,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((w=u[ct])==null?void 0:w.z)??0,isParent:!!((S=u[ct])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel},u.id)})})};J0.displayName="NodeRenderer";var eq=P.memo(J0);const tq=[{level:0,isMaxLevel:!0,edges:[]}];function rq(e,t,n=!1){let a=-1;const r=e.reduce((o,s)=>{var u,d,p,f;const l=Mt(s.zIndex);let c=l?s.zIndex:0;return n&&(c=l?s.zIndex:Math.max(((d=(u=t.get(s.source))==null?void 0:u[ct])==null?void 0:d.z)||0,((f=(p=t.get(s.target))==null?void 0:p[ct])==null?void 0:f.z)||0)),o[c]?o[c].push(s):o[c]=[s],a=c>a?c:a,o},{}),i=Object.entries(r).map(([o,s])=>{const l=+o;return{edges:s,level:l,isMaxLevel:l===a}});return i.length===0?tq:i}function nq(e,t,n){const a=it(P.useCallback(r=>e?r.edges.filter(i=>{const o=t.get(i.source),s=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&I$({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:s.width,targetHeight:s.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return rq(a,t,n)}const aq=({color:e="none",strokeWidth:t=1})=>m("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),iq=({color:e="none",strokeWidth:t=1})=>m("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),sv={[oi.Arrow]:aq,[oi.ArrowClosed]:iq};function oq(e){const t=vt();return P.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(sv,e)?sv[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Kr.error009(e)),null)},[e])}const sq=({id:e,type:t,color:n,width:a=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{const l=oq(t);return l?m("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:m(l,{color:n,strokeWidth:o})}):null},lq=({defaultColor:e,rfId:t})=>n=>{const a=[];return n.edges.reduce((r,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const s=hd(o,t);a.includes(s)||(r.push({id:s,color:o.color||e,...o}),a.push(s))}}),r),[]).sort((r,i)=>r.id.localeCompare(i.id))},eS=({defaultColor:e,rfId:t})=>{const n=it(P.useCallback(lq({defaultColor:e,rfId:t}),[e,t]),(a,r)=>!(a.length!==r.length||a.some((i,o)=>i.id!==r[o].id)));return m("defs",{children:n.map(a=>m(sq,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})};eS.displayName="MarkerDefinitions";var uq=P.memo(eS);const cq=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),tS=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:a,edgeTypes:r,noPanClassName:i,onEdgeUpdate:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,edgeUpdaterRadius:p,onEdgeDoubleClick:f,onEdgeUpdateStart:h,onEdgeUpdateEnd:v,children:g})=>{const{edgesFocusable:b,edgesUpdatable:E,elementsSelectable:y,width:_,height:w,connectionMode:S,nodeInternals:C,onError:x}=it(cq,kt),T=nq(t,C,n);return _?L(Q,{children:[T.map(({level:R,edges:q,isMaxLevel:k})=>L("svg",{style:{zIndex:R},width:_,height:w,className:"react-flow__edges react-flow__container",children:[k&&m(uq,{defaultColor:e,rfId:a}),m("g",{children:q.map(I=>{const[N,$,F]=ev(C.get(I.source)),[A,V,O]=ev(C.get(I.target));if(!F||!O)return null;let U=I.type||"default";r[U]||(x==null||x("011",Kr.error011(U)),U="default");const H=r[U]||r.default,G=S===Nn.Strict?V.target:(V.target??[]).concat(V.source??[]),X=Jm($.source,I.sourceHandle),Y=Jm(G,I.targetHandle),K=(X==null?void 0:X.position)||se.Bottom,J=(Y==null?void 0:Y.position)||se.Top,ne=!!(I.focusable||b&&typeof I.focusable>"u"),fe=typeof o<"u"&&(I.updatable||E&&typeof I.updatable>"u");if(!X||!Y)return x==null||x("008",Kr.error008(X,I)),null;const{sourceX:ye,sourceY:ie,targetX:ve,targetY:Ae}=N$(N,X,K,A,Y,J);return m(H,{id:I.id,className:It([I.className,i]),type:U,data:I.data,selected:!!I.selected,animated:!!I.animated,hidden:!!I.hidden,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,style:I.style,source:I.source,target:I.target,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerEnd:I.markerEnd,markerStart:I.markerStart,sourceX:ye,sourceY:ie,targetX:ve,targetY:Ae,sourcePosition:K,targetPosition:J,elementsSelectable:y,onEdgeUpdate:o,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,edgeUpdaterRadius:p,onEdgeDoubleClick:f,onEdgeUpdateStart:h,onEdgeUpdateEnd:v,rfId:a,ariaLabel:I.ariaLabel,isFocusable:ne,isUpdatable:fe,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth},I.id)})})]},R)),g]}):null};tS.displayName="EdgeRenderer";var dq=P.memo(tS);const fq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function pq({children:e}){const t=it(fq);return m("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function hq(e){const t=tl(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const mq={[se.Left]:se.Right,[se.Right]:se.Left,[se.Top]:se.Bottom,[se.Bottom]:se.Top},rS=({nodeId:e,handleType:t,style:n,type:a=br.Bezier,CustomComponent:r,connectionStatus:i})=>{var S,C,x;const{fromNode:o,handleId:s,toX:l,toY:c,connectionMode:u}=it(P.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),kt),d=(S=o==null?void 0:o[ct])==null?void 0:S.handleBounds;let p=d==null?void 0:d[t];if(u===Nn.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!p)return null;const f=s?p.find(T=>T.id===s):p[0],h=f?f.x+f.width/2:(o.width??0)/2,v=f?f.y+f.height/2:o.height??0,g=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+h,b=(((x=o.positionAbsolute)==null?void 0:x.y)??0)+v,E=f==null?void 0:f.position,y=E?mq[E]:null;if(!E||!y)return null;if(r)return m(r,{connectionLineType:a,connectionLineStyle:n,fromNode:o,fromHandle:f,fromX:g,fromY:b,toX:l,toY:c,fromPosition:E,toPosition:y,connectionStatus:i});let _="";const w={sourceX:g,sourceY:b,sourcePosition:E,targetX:l,targetY:c,targetPosition:y};return a===br.Bezier?[_]=x0(w):a===br.Step?[_]=pd({...w,borderRadius:0}):a===br.SmoothStep?[_]=pd(w):a===br.SimpleBezier?[_]=C0(w):_=`M${g},${b} ${l},${c}`,m("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};rS.displayName="ConnectionLine";const vq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function gq({containerStyle:e,style:t,type:n,component:a}){const{nodeId:r,handleType:i,nodesConnectable:o,width:s,height:l,connectionStatus:c}=it(vq,kt);return!(r&&i&&s&&o)?null:m("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:m("g",{className:It(["react-flow__connection",c]),children:m(rS,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:a,connectionStatus:c})})})}const nS=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:a,onMoveEnd:r,onInit:i,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:v,onSelectionEnd:g,connectionLineType:b,connectionLineStyle:E,connectionLineComponent:y,connectionLineContainerStyle:_,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:x,panActivationKeyCode:T,zoomActivationKeyCode:R,deleteKeyCode:q,onlyRenderVisibleElements:k,elementsSelectable:I,selectNodesOnDrag:N,defaultViewport:$,translateExtent:F,minZoom:A,maxZoom:V,preventScrolling:O,defaultMarkerColor:U,zoomOnScroll:H,zoomOnPinch:G,panOnScroll:X,panOnScrollSpeed:Y,panOnScrollMode:K,zoomOnDoubleClick:J,panOnDrag:ne,onPaneClick:fe,onPaneMouseEnter:ye,onPaneMouseMove:ie,onPaneMouseLeave:ve,onPaneScroll:Ae,onPaneContextMenu:he,onEdgeUpdate:te,onEdgeContextMenu:me,onEdgeMouseEnter:we,onEdgeMouseMove:ae,onEdgeMouseLeave:Ye,edgeUpdaterRadius:ke,onEdgeUpdateStart:He,onEdgeUpdateEnd:lt,noDragClassName:$e,noWheelClassName:ee,noPanClassName:ue,elevateEdgesOnSelect:de,disableKeyboardA11y:Ne,nodeOrigin:ge,nodeExtent:pt,rfId:Se})=>(hq(i),m(K$,{onPaneClick:fe,onPaneMouseEnter:ye,onPaneMouseMove:ie,onPaneMouseLeave:ve,onPaneContextMenu:he,onPaneScroll:Ae,deleteKeyCode:q,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:T,zoomActivationKeyCode:R,elementsSelectable:I,onMove:n,onMoveStart:a,onMoveEnd:r,zoomOnScroll:H,zoomOnPinch:G,zoomOnDoubleClick:J,panOnScroll:X,panOnScrollSpeed:Y,panOnScrollMode:K,panOnDrag:ne,defaultViewport:$,translateExtent:F,minZoom:A,maxZoom:V,onSelectionContextMenu:h,preventScrolling:O,noDragClassName:$e,noWheelClassName:ee,noPanClassName:ue,disableKeyboardA11y:Ne,children:L(pq,{children:[m(dq,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:te,onlyRenderVisibleElements:k,onEdgeContextMenu:me,onEdgeMouseEnter:we,onEdgeMouseMove:ae,onEdgeMouseLeave:Ye,onEdgeUpdateStart:He,onEdgeUpdateEnd:lt,edgeUpdaterRadius:ke,defaultMarkerColor:U,noPanClassName:ue,elevateEdgesOnSelect:!!de,disableKeyboardA11y:Ne,rfId:Se,children:m(gq,{style:E,type:b,component:y,containerStyle:_})}),m("div",{className:"react-flow__edgelabel-renderer"}),m(eq,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,selectNodesOnDrag:N,onlyRenderVisibleElements:k,noPanClassName:ue,noDragClassName:$e,disableKeyboardA11y:Ne,nodeOrigin:ge,nodeExtent:pt,rfId:Se})]})}));nS.displayName="GraphView";var yq=P.memo(nS);const gd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],kr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:gd,nodeExtent:gd,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Nn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:jk,isValidConnection:void 0},bq=()=>OT((e,t)=>({...kr,setNodes:n=>{const{nodeInternals:a,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Ql(n,a,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:a={}}=t();e({edges:n.map(r=>({...a,...r}))})},setDefaultNodesAndEdges:(n,a)=>{const r=typeof n<"u",i=typeof a<"u",o=r?Ql(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?a:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:a,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((v,g)=>{const b=r.get(g.id);if(b){const E=Xp(g.nodeElement);!!(E.width&&E.height&&(b.width!==E.width||b.height!==E.height||g.forceUpdate))&&(r.set(b.id,{...b,[ct]:{...b[ct],handleBounds:{source:rv(".source",g.nodeElement,p,c),target:rv(".target",g.nodeElement,p,c)}},...E}),v.push({id:b.id,type:"dimensions",dimensions:E}))}return v},[]);Q0(r,c);const h=o||i&&!o&&G0(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:h}),(f==null?void 0:f.length)>0&&(a==null||a(f))},updateNodePositions:(n,a=!0,r=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(s=>{const l={id:s.id,type:"position",dragging:r};return a&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:a,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(i){const c=X0(n,s()),u=Ql(c,r,o,l);e({nodeInternals:u})}a==null||a(n)}},addSelectedNodes:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let o,s=null;a?o=n.map(l=>Lr(l,!0)):(o=jn(i(),n),s=jn(r,[])),oo({changedNodes:o,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let o,s=null;a?o=n.map(l=>Lr(l,!0)):(o=jn(r,n),s=jn(i(),[])),oo({changedNodes:s,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:a}={})=>{const{edges:r,getNodes:i}=t(),o=n||i(),s=a||r,l=o.map(u=>(u.selected=!1,Lr(u.id,!1))),c=s.map(u=>Lr(u.id,!1));oo({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:a,maxZoom:r}=t();a==null||a.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:a,minZoom:r}=t();a==null||a.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var a;(a=t().d3Zoom)==null||a.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:a}=t(),i=a().filter(s=>s.selected).map(s=>Lr(s.id,!1)),o=n.filter(s=>s.selected).map(s=>Lr(s.id,!1));oo({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:a}=t();a.forEach(r=>{r.positionAbsolute=Kp(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(a)})},panBy:n=>{const{transform:a,width:r,height:i,d3Zoom:o,d3Selection:s,translateExtent:l}=t();if(!o||!s||!n.x&&!n.y)return;const c=Hr.translate(a[0]+n.x,a[1]+n.y).scale(a[2]),u=[[0,0],[r,i]],d=o==null?void 0:o.constrain()(c,u,l);o.transform(s,d)},cancelConnection:()=>e({connectionNodeId:kr.connectionNodeId,connectionHandleId:kr.connectionHandleId,connectionHandleType:kr.connectionHandleType,connectionStatus:kr.connectionStatus,connectionStartHandle:kr.connectionStartHandle,connectionEndHandle:kr.connectionEndHandle}),reset:()=>e({...kr})})),ih=({children:e})=>{const t=P.useRef(null);return t.current||(t.current=bq()),m(Lk,{value:t.current,children:e})};ih.displayName="ReactFlowProvider";const aS=({children:e})=>P.useContext(Js)?m(Q,{children:e}):m(ih,{children:e});aS.displayName="ReactFlowWrapper";function lv(e,t){return P.useRef(null),P.useMemo(()=>t(e),[e])}const wq={input:D0,default:md,output:L0,group:nh},Sq={default:Yo,straight:eh,step:Jp,smoothstep:el,simplebezier:Zp},_q=[0,0],Eq=[15,15],Cq={x:0,y:0,zoom:1},xq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},iS=P.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,className:r,nodeTypes:i=wq,edgeTypes:o=Sq,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onConnect:f,onConnectStart:h,onConnectEnd:v,onClickConnectStart:g,onClickConnectEnd:b,onNodeMouseEnter:E,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:w,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:x,onNodeDragStop:T,onNodesDelete:R,onEdgesDelete:q,onSelectionChange:k,onSelectionDragStart:I,onSelectionDrag:N,onSelectionDragStop:$,onSelectionContextMenu:F,onSelectionStart:A,onSelectionEnd:V,connectionMode:O=Nn.Strict,connectionLineType:U=br.Bezier,connectionLineStyle:H,connectionLineComponent:G,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:J=!1,selectionMode:ne=ii.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ye="Meta",zoomActivationKeyCode:ie="Meta",snapToGrid:ve=!1,snapGrid:Ae=Eq,onlyRenderVisibleElements:he=!1,selectNodesOnDrag:te=!0,nodesDraggable:me,nodesConnectable:we,nodesFocusable:ae,nodeOrigin:Ye=_q,edgesFocusable:ke,edgesUpdatable:He,elementsSelectable:lt,defaultViewport:$e=Cq,minZoom:ee=.5,maxZoom:ue=2,translateExtent:de=gd,preventScrolling:Ne=!0,nodeExtent:ge,defaultMarkerColor:pt="#b1b1b7",zoomOnScroll:Se=!0,zoomOnPinch:We=!0,panOnScroll:Me=!1,panOnScrollSpeed:Z=.5,panOnScrollMode:re=Kn.Free,zoomOnDoubleClick:Ee=!0,panOnDrag:Ie=!0,onPaneClick:Qe,onPaneMouseEnter:Xe,onPaneMouseMove:Ft,onPaneMouseLeave:Dt,onPaneScroll:Ca,onPaneContextMenu:Mi,children:pr,onEdgeUpdate:Rl,onEdgeContextMenu:Rr,onEdgeDoubleClick:Pl,onEdgeMouseEnter:Bi,onEdgeMouseMove:Al,onEdgeMouseLeave:xa,onEdgeUpdateStart:Ui,onEdgeUpdateEnd:kl,edgeUpdaterRadius:zi=10,onNodesChange:$l,onEdgesChange:Hi,noDragClassName:M="nodrag",noWheelClassName:D="nowheel",noPanClassName:B="nopan",fitView:j=!1,fitViewOptions:W,connectOnClick:oe=!0,attributionPosition:ce,proOptions:Pe,defaultEdgeOptions:Ge,elevateNodesOnSelect:et=!0,elevateEdgesOnSelect:Te=!1,disableKeyboardA11y:Be=!1,autoPanOnConnect:tt=!0,autoPanOnNodeDrag:be=!0,connectionRadius:Ke=20,isValidConnection:at,onError:Ze,style:tr,id:Tt,...Ot},Pr)=>{const hr=lv(i,P$),wt=lv(o,x$),St=Tt||"1";return m("div",{...Ot,style:{...tr,...xq},ref:Pr,className:It(["react-flow",r]),"data-testid":"rf__wrapper",id:Tt,children:L(aS,{children:[m(yq,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:w,onNodeDoubleClick:S,nodeTypes:hr,edgeTypes:wt,connectionLineType:U,connectionLineStyle:H,connectionLineComponent:G,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:J,selectionMode:ne,deleteKeyCode:Y,multiSelectionKeyCode:ye,panActivationKeyCode:fe,zoomActivationKeyCode:ie,onlyRenderVisibleElements:he,selectNodesOnDrag:te,defaultViewport:$e,translateExtent:de,minZoom:ee,maxZoom:ue,preventScrolling:Ne,zoomOnScroll:Se,zoomOnPinch:We,zoomOnDoubleClick:Ee,panOnScroll:Me,panOnScrollSpeed:Z,panOnScrollMode:re,panOnDrag:Ie,onPaneClick:Qe,onPaneMouseEnter:Xe,onPaneMouseMove:Ft,onPaneMouseLeave:Dt,onPaneScroll:Ca,onPaneContextMenu:Mi,onSelectionContextMenu:F,onSelectionStart:A,onSelectionEnd:V,onEdgeUpdate:Rl,onEdgeContextMenu:Rr,onEdgeDoubleClick:Pl,onEdgeMouseEnter:Bi,onEdgeMouseMove:Al,onEdgeMouseLeave:xa,onEdgeUpdateStart:Ui,onEdgeUpdateEnd:kl,edgeUpdaterRadius:zi,defaultMarkerColor:pt,noDragClassName:M,noWheelClassName:D,noPanClassName:B,elevateEdgesOnSelect:Te,rfId:St,disableKeyboardA11y:Be,nodeOrigin:Ye,nodeExtent:ge}),m(v$,{nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:f,onConnectStart:h,onConnectEnd:v,onClickConnectStart:g,onClickConnectEnd:b,nodesDraggable:me,nodesConnectable:we,nodesFocusable:ae,edgesFocusable:ke,edgesUpdatable:He,elementsSelectable:lt,elevateNodesOnSelect:et,minZoom:ee,maxZoom:ue,nodeExtent:ge,onNodesChange:$l,onEdgesChange:Hi,snapToGrid:ve,snapGrid:Ae,connectionMode:O,translateExtent:de,connectOnClick:oe,defaultEdgeOptions:Ge,fitView:j,fitViewOptions:W,onNodesDelete:R,onEdgesDelete:q,onNodeDragStart:C,onNodeDrag:x,onNodeDragStop:T,onSelectionDrag:N,onSelectionDragStart:I,onSelectionDragStop:$,noPanClassName:B,nodeOrigin:Ye,rfId:St,autoPanOnConnect:tt,autoPanOnNodeDrag:be,onError:Ze,connectionRadius:Ke,isValidConnection:at}),m(h$,{onSelectionChange:k}),pr,m(Mk,{proOptions:Pe,position:ce}),m(S$,{rfId:St,disableKeyboardA11y:Be})]})})});iS.displayName="ReactFlow";function oS(e){return t=>{const[n,a]=P.useState(t),r=P.useCallback(i=>a(o=>e(i,o)),[]);return[n,a,r]}}const Nq=oS(X0),Iq=oS(W$);function Tq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Rq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m("path",{d:"M0 0h32v4.2H0z"})})}function Pq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Aq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function kq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const Va=({children:e,className:t,...n})=>m("button",{type:"button",className:It(["react-flow__controls-button",t]),...n,children:e});Va.displayName="ControlButton";const $q=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,sS=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:a=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:o,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const p=vt(),[f,h]=P.useState(!1),v=it($q),{zoomIn:g,zoomOut:b,fitView:E}=tl();if(P.useEffect(()=>{h(!0)},[]),!f)return null;const y=()=>{g(),i==null||i()},_=()=>{b(),o==null||o()},w=()=>{E(r),s==null||s()},S=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)};return L(v0,{className:It(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls",children:[t&&L(Q,{children:[m(Va,{onClick:y,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:m(Tq,{})}),m(Va,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:m(Rq,{})})]}),n&&m(Va,{className:"react-flow__controls-fitview",onClick:w,title:"fit view","aria-label":"fit view",children:m(Pq,{})}),a&&m(Va,{className:"react-flow__controls-interactive",onClick:S,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?m(kq,{}):m(Aq,{})}),u]})};sS.displayName="Controls";var qq=P.memo(sS);const yd=e=>{const{data:t}=HC(e.modifiedBy),n=Ka(ur(e.modifiedOn)),{name:a,description:r}=e;return P.useMemo(()=>L(Q,{children:[a&&m(Et,{title:a,placement:"top",enterNextDelay:200,children:m("span",{children:m(De,{variant:"smallText1",className:"name",children:a})})}),r&&m(Et,{title:r,placement:"top",enterNextDelay:200,children:m("span",{children:m(De,{variant:"smallText1",className:"description",children:r})})}),t&&m($b,{userProfile:t}),m("div",{children:n})]}),[a,r,t,n])};try{yd.displayName="ActivityNodeLabel",yd.__docgenInfo={description:"",displayName:"ActivityNodeLabel",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},etag:{defaultValue:null,description:"",name:"etag",required:!0,type:{name:"string"}},createdOn:{defaultValue:null,description:"",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"string"}},used:{defaultValue:null,description:"",name:"used",required:!1,type:{name:"(UsedURL | UsedEntity)[]"}}}}}catch{}const Fq=new Set([".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx",".cwl",".wdl",".json"]),bd=e=>{const{entityHeader:t}=e;if(t){const n=vb(t==null?void 0:t.type);if(n==Mc.FILE){const a=t.name.lastIndexOf(".");if(a>-1){const r=t.name.slice(a);if(Fq.has(r.toLowerCase()))return m(Fe,{icon:"code"})}}else return m(rm,{type:n,includeTooltip:!1})}return m(rm,{type:Mc.FILE,includeTooltip:!1})};try{bd.displayName="ProvenanceEntityIcon",bd.__docgenInfo={description:"",displayName:"ProvenanceEntityIcon",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!1,type:{name:"EntityHeader"}}}}}catch{}const wd=e=>{const t=e.versionNumber?`.${e.versionNumber}`:"",n=`${e.id}${t}`;return P.useMemo(()=>L(Q,{children:[m("div",{children:m(bd,{entityHeader:e})}),L(Q,{children:[m("div",{children:m(Et,{title:e.name,placement:"top",enterNextDelay:300,children:m("a",{href:`${lr.PORTAL}#!Synapse:${n}`,children:e.name})})}),WC(vb(e.type))&&L("div",{children:[L("div",{children:["v.",e.versionNumber]}),!e.isLatestVersion&&m("div",{children:"(old version)"})]})]})]}),[e,n])};try{wd.displayName="EntityNodeLabel",wd.__docgenInfo={description:"",displayName:"EntityNodeLabel",props:{name:{defaultValue:null,description:"The name of the entity",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"The id of the entity",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of the entity",name:"type",required:!0,type:{name:"enum",value:[{value:'"org.sagebionetworks.repo.model.table.EntityView"'},{value:'"org.sagebionetworks.repo.model.table.SubmissionView"'},{value:'"org.sagebionetworks.repo.model.table.Dataset"'},{value:'"org.sagebionetworks.repo.model.table.DatasetCollection"'},{value:'"org.sagebionetworks.repo.model.Link"'},{value:'"org.sagebionetworks.repo.model.docker.DockerRepository"'},{value:'"org.sagebionetworks.repo.model.FileEntity"'},{value:'"org.sagebionetworks.repo.model.table.TableEntity"'},{value:'"org.sagebionetworks.repo.model.table.MaterializedView"'},{value:'"org.sagebionetworks.repo.model.Folder"'},{value:'"org.sagebionetworks.repo.model.Project"'}]}},versionNumber:{defaultValue:null,description:"The version number of the entity",name:"versionNumber",required:!1,type:{name:"number"}},versionLabel:{defaultValue:null,description:"The user defined version label of the entity",name:"versionLabel",required:!1,type:{name:"string"}},benefactorId:{defaultValue:null,description:"The ID of the entity that this Entity's ACL is inherited from.",name:"benefactorId",required:!0,type:{name:"number"}},createdOn:{defaultValue:null,description:"The date this entity was created.",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"The date this entity was last modified.",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"The ID of the user that created this entity.",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"The ID of the user that last modified this entity.",name:"modifiedBy",required:!0,type:{name:"string"}},isLatestVersion:{defaultValue:null,description:"If this version is the latest version of the entity",name:"isLatestVersion",required:!0,type:{name:"boolean"}}}}}catch{}var lS={exports:{}};(function(e,t){(function(n,a){typeof Ms=="function"?e.exports=a():n.pluralize=a()})(Yr,function(){var n=[],a=[],r={},i={},o={};function s(v){return typeof v=="string"?new RegExp("^"+v+"$","i"):v}function l(v,g){return v===g?g:v===v.toLowerCase()?g.toLowerCase():v===v.toUpperCase()?g.toUpperCase():v[0]===v[0].toUpperCase()?g.charAt(0).toUpperCase()+g.substr(1).toLowerCase():g.toLowerCase()}function c(v,g){return v.replace(/\$(\d{1,2})/g,function(b,E){return g[E]||""})}function u(v,g){return v.replace(g[0],function(b,E){var y=c(g[1],arguments);return l(b===""?v[E-1]:b,y)})}function d(v,g,b){if(!v.length||r.hasOwnProperty(v))return g;for(var E=b.length;E--;){var y=b[E];if(y[0].test(g))return u(g,y)}return g}function p(v,g,b){return function(E){var y=E.toLowerCase();return g.hasOwnProperty(y)?l(E,y):v.hasOwnProperty(y)?l(E,v[y]):d(y,E,b)}}function f(v,g,b,E){return function(y){var _=y.toLowerCase();return g.hasOwnProperty(_)?!0:v.hasOwnProperty(_)?!1:d(_,_,b)===_}}function h(v,g,b){var E=g===1?h.singular(v):h.plural(v);return(b?g+" ":"")+E}return h.plural=p(o,i,n),h.isPlural=f(o,i,n),h.singular=p(i,o,a),h.isSingular=f(i,o,a),h.addPluralRule=function(v,g){n.push([s(v),g])},h.addSingularRule=function(v,g){a.push([s(v),g])},h.addUncountableRule=function(v){if(typeof v=="string"){r[v.toLowerCase()]=!0;return}h.addPluralRule(v,"$0"),h.addSingularRule(v,"$0")},h.addIrregularRule=function(v,g){g=g.toLowerCase(),v=v.toLowerCase(),o[v]=g,i[g]=v},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(v){return h.addIrregularRule(v[0],v[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(v){return h.addPluralRule(v[0],v[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(v){return h.addSingularRule(v[0],v[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h})})(lS);var Dq=lS.exports;const Oq=Nt(Dq),Sd=e=>{const{itemCount:t}=e;return P.useMemo(()=>m(Q,{children:L("a",{children:["Show ",t," ",Oq("item",t),"…"]})}),[t])};try{Sd.displayName="ExpandGraphNodeLabel",Sd.__docgenInfo={description:"",displayName:"ExpandGraphNodeLabel",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!0,type:{name:"EntityHeader"}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}}}}}catch{}const Lq=/^(.+?\.)?github\.com$/,Vq=/^(.+?\.)?githubusercontent\.com$/,_d=e=>{const{url:t}=e;let n="link";const a=new URL(t),{hostname:r}=a;return(r.match(Lq)||r.match(Vq))&&(n="github"),m(Fe,{icon:n})};try{_d.displayName="ProvenanceExternalIcon",_d.__docgenInfo={description:"",displayName:"ProvenanceExternalIcon",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}}}catch{}const Ed=e=>P.useMemo(()=>L(Q,{children:[m("div",{children:m(_d,{url:e.url})}),m(Et,{title:e.name,placement:"top",enterNextDelay:300,children:m("a",{href:e.url,rel:"noopener noreferrer",children:e.name})})]}),[e.name,e.url]);try{Ed.displayName="ExternalGraphNodeLabel",Ed.__docgenInfo={description:"",displayName:"ExternalGraphNodeLabel",props:{concreteType:{defaultValue:null,description:"",name:"concreteType",required:!0,type:{name:'"org.sagebionetworks.repo.model.provenance.UsedURL"'}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},wasExecuted:{defaultValue:null,description:"",name:"wasExecuted",required:!0,type:{name:"boolean"}}}}}catch{}var Xl,uv;function Mq(){if(uv)return Xl;uv=1;var e=T1,t=4;function n(a){return e(a,t)}return Xl=n,Xl}var Kl,cv;function oh(){if(cv)return Kl;cv=1;function e(t){return function(){return t}}return Kl=e,Kl}var Bq=Pn;function Uq(e,t){return function(n,a){if(n==null)return n;if(!Bq(n))return e(n,a);for(var r=n.length,i=t?r:-1,o=Object(n);(t?i--:++i<r)&&a(o[i],i,o)!==!1;);return n}}var zq=Uq,Hq=zb,Wq=zq,jq=Wq(Hq),rl=jq,Qq=va;function Gq(e){return typeof e=="function"?e:Qq}var uS=Gq,Yq=Db,Xq=rl,Kq=uS,Zq=cr;function Jq(e,t){var n=Zq(e)?Yq:Xq;return n(e,Kq(t))}var sh=Jq,Zl,dv;function cS(){return dv||(dv=1,Zl=sh),Zl}var Jl,fv;function eF(){if(fv)return Jl;fv=1;var e=rl;function t(n,a){var r=[];return e(n,function(i,o,s){a(i,o,s)&&r.push(i)}),r}return Jl=t,Jl}var eu,pv;function dS(){if(pv)return eu;pv=1;var e=L1,t=eF(),n=Jr,a=cr;function r(i,o){var s=a(i)?e:t;return s(i,n(o))}return eu=r,eu}var tu,hv;function tF(){if(hv)return tu;hv=1;var e=Object.prototype,t=e.hasOwnProperty;function n(a,r){return a!=null&&t.call(a,r)}return tu=n,tu}var ru,mv;function fS(){if(mv)return ru;mv=1;var e=tF(),t=V1;function n(a,r){return a!=null&&t(a,r,e)}return ru=n,ru}var rF=Hb,nF=Wb,aF=Ip,iF=cr,oF=Pn,sF=Tp,lF=M1,uF=Rp,cF="[object Map]",dF="[object Set]",fF=Object.prototype,pF=fF.hasOwnProperty;function hF(e){if(e==null)return!0;if(oF(e)&&(iF(e)||typeof e=="string"||typeof e.splice=="function"||sF(e)||uF(e)||aF(e)))return!e.length;var t=nF(e);if(t==cF||t==dF)return!e.size;if(lF(e))return!rF(e).length;for(var n in e)if(pF.call(e,n))return!1;return!0}var pS=hF;const Pj=Nt(pS);var nu,vv;function hS(){if(vv)return nu;vv=1;function e(t){return t===void 0}return nu=e,nu}var mF=rl,vF=Pn;function gF(e,t){var n=-1,a=vF(e)?Array(e.length):[];return mF(e,function(r,i,o){a[++n]=t(r,i,o)}),a}var mS=gF,au,gv;function vS(){if(gv)return au;gv=1;var e=en,t=Jr,n=mS,a=cr;function r(i,o){var s=a(i)?e:n;return s(i,t(o))}return au=r,au}var iu,yv;function yF(){if(yv)return iu;yv=1;function e(t,n,a,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(a=t[++i]);++i<o;)a=n(a,t[i],i,t);return a}return iu=e,iu}var ou,bv;function bF(){if(bv)return ou;bv=1;function e(t,n,a,r,i){return i(t,function(o,s,l){a=r?(r=!1,o):n(a,o,s,l)}),a}return ou=e,ou}var su,wv;function gS(){if(wv)return su;wv=1;var e=yF(),t=rl,n=Jr,a=bF(),r=cr;function i(o,s,l){var c=r(o)?e:a,u=arguments.length<3;return c(o,n(s),l,u,t)}return su=i,su}var lu,Sv;function wF(){if(Sv)return lu;Sv=1;var e=B1,t=e("length");return lu=t,lu}var uu,_v;function SF(){if(_v)return uu;_v=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+n+a,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+r+i+"]");function l(c){return s.test(c)}return uu=l,uu}var cu,Ev;function _F(){if(Ev)return cu;Ev=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+n+a,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+r+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",h=c+"?",v="["+i+"]?",g="(?:"+f+"(?:"+[u,d,p].join("|")+")"+v+h+")*",b=v+h+g,E="(?:"+[u+s+"?",s,d,p,o].join("|")+")",y=RegExp(l+"(?="+l+")|"+E+b,"g");function _(w){for(var S=y.lastIndex=0;y.test(w);)++S;return S}return cu=_,cu}var du,Cv;function EF(){if(Cv)return du;Cv=1;var e=wF(),t=SF(),n=_F();function a(r){return t(r)?n(r):e(r)}return du=a,du}var fu,xv;function CF(){if(xv)return fu;xv=1;var e=Hb,t=Wb,n=Pn,a=tx,r=EF(),i="[object Map]",o="[object Set]";function s(l){if(l==null)return 0;if(n(l))return a(l)?r(l):l.length;var c=t(l);return c==i||c==o?l.size:e(l).length}return fu=s,fu}var pu,Nv;function xF(){if(Nv)return pu;Nv=1;var e=Db,t=R1,n=zb,a=Jr,r=U1,i=cr,o=Tp,s=Pp,l=Ti,c=Rp;function u(d,p,f){var h=i(d),v=h||o(d)||c(d);if(p=a(p),f==null){var g=d&&d.constructor;v?f=h?new g:[]:l(d)?f=s(g)?t(r(d)):{}:f={}}return(v?e:n)(d,function(b,E,y){return p(f,b,E,y)}),f}return pu=u,pu}var Iv=z1,NF=Ip,IF=cr,Tv=Iv?Iv.isConcatSpreadable:void 0;function TF(e){return IF(e)||NF(e)||!!(Tv&&e&&e[Tv])}var RF=TF,PF=H1,AF=RF;function yS(e,t,n,a,r){var i=-1,o=e.length;for(n||(n=AF),r||(r=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?yS(s,t-1,n,a,r):PF(r,s):a||(r[r.length]=s)}return r}var nl=yS;function kF(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var bS=kF,$F=bS,Rv=Math.max;function qF(e,t,n){return t=Rv(t===void 0?e.length-1:t,0),function(){for(var a=arguments,r=-1,i=Rv(a.length-t,0),o=Array(i);++r<i;)o[r]=a[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=a[r];return s[t]=n(o),$F(e,this,s)}}var wS=qF,FF=oh(),Pv=W1,DF=va,OF=Pv?function(e,t){return Pv(e,"toString",{configurable:!0,enumerable:!1,value:FF(t),writable:!0})}:DF,LF=OF,VF=800,MF=16,BF=Date.now;function UF(e){var t=0,n=0;return function(){var a=BF(),r=MF-(a-n);if(n=a,r>0){if(++t>=VF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zF=UF,HF=LF,WF=zF,jF=WF(HF),SS=jF,QF=va,GF=wS,YF=SS;function XF(e,t){return YF(GF(e,t,QF),e+"")}var nn=XF,KF=Pn,ZF=jb;function JF(e){return ZF(e)&&KF(e)}var al=JF,eD=nl,tD=nn,rD=Ob,nD=al,aD=tD(function(e){return rD(eD(e,1,nD,!0))}),_S=aD;const Aj=Nt(_S);var hu,Av;function iD(){if(Av)return hu;Av=1;var e=en;function t(n,a){return e(a,function(r){return n[r]})}return hu=t,hu}var mu,kv;function ES(){if(kv)return mu;kv=1;var e=iD(),t=Ap;function n(a){return a==null?[]:e(a,t(a))}return mu=n,mu}var vu,$v;function Ut(){if($v)return vu;$v=1;var e;if(typeof Ms=="function")try{e={clone:Mq(),constant:oh(),each:cS(),filter:dS(),has:fS(),isArray:cr,isEmpty:pS,isFunction:Pp,isUndefined:hS(),keys:Ap,map:vS(),reduce:gS(),size:CF(),transform:xF(),union:_S,values:ES()}}catch{}return e||(e=window._),vu=e,vu}var gu,qv;function lh(){if(qv)return gu;qv=1;var e=Ut();gu=r;var t="\0",n="\0",a="";function r(u){this._isDirected=e.has(u,"directed")?u.directed:!0,this._isMultigraph=e.has(u,"multigraph")?u.multigraph:!1,this._isCompound=e.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(u){return this._label=u,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultNodeLabelFn=u,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return e.keys(this._nodes)},r.prototype.sources=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._in[d])})},r.prototype.sinks=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._out[d])})},r.prototype.setNodes=function(u,d){var p=arguments,f=this;return e.each(u,function(h){p.length>1?f.setNode(h,d):f.setNode(h)}),this},r.prototype.setNode=function(u,d){return e.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},r.prototype.node=function(u){return this._nodes[u]},r.prototype.hasNode=function(u){return e.has(this._nodes,u)},r.prototype.removeNode=function(u){var d=this;if(e.has(this._nodes,u)){var p=function(f){d.removeEdge(d._edgeObjs[f])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],e.each(this.children(u),function(f){d.setParent(f)}),delete this._children[u]),e.each(e.keys(this._in[u]),p),delete this._in[u],delete this._preds[u],e.each(e.keys(this._out[u]),p),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},r.prototype.setParent=function(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var p=d;!e.isUndefined(p);p=this.parent(p))if(p===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this},r.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},r.prototype.parent=function(u){if(this._isCompound){var d=this._parent[u];if(d!==n)return d}},r.prototype.children=function(u){if(e.isUndefined(u)&&(u=n),this._isCompound){var d=this._children[u];if(d)return e.keys(d)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}},r.prototype.predecessors=function(u){var d=this._preds[u];if(d)return e.keys(d)},r.prototype.successors=function(u){var d=this._sucs[u];if(d)return e.keys(d)},r.prototype.neighbors=function(u){var d=this.predecessors(u);if(d)return e.union(d,this.successors(u))},r.prototype.isLeaf=function(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0},r.prototype.filterNodes=function(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var p=this;e.each(this._nodes,function(v,g){u(g)&&d.setNode(g,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,p.edge(v))});var f={};function h(v){var g=p.parent(v);return g===void 0||d.hasNode(g)?(f[v]=g,g):g in f?f[g]:h(g)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,h(v))}),d},r.prototype.setDefaultEdgeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultEdgeLabelFn=u,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return e.values(this._edgeObjs)},r.prototype.setPath=function(u,d){var p=this,f=arguments;return e.reduce(u,function(h,v){return f.length>1?p.setEdge(h,v,d):p.setEdge(h,v),v}),this},r.prototype.setEdge=function(){var u,d,p,f,h=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(u=v.v,d=v.w,p=v.name,arguments.length===2&&(f=arguments[1],h=!0)):(u=v,d=arguments[1],p=arguments[3],arguments.length>2&&(f=arguments[2],h=!0)),u=""+u,d=""+d,e.isUndefined(p)||(p=""+p);var g=s(this._isDirected,u,d,p);if(e.has(this._edgeLabels,g))return h&&(this._edgeLabels[g]=f),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[g]=h?f:this._defaultEdgeLabelFn(u,d,p);var b=l(this._isDirected,u,d,p);return u=b.v,d=b.w,Object.freeze(b),this._edgeObjs[g]=b,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][g]=b,this._out[u][g]=b,this._edgeCount++,this},r.prototype.edge=function(u,d,p){var f=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p);return this._edgeLabels[f]},r.prototype.hasEdge=function(u,d,p){var f=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p);return e.has(this._edgeLabels,f)},r.prototype.removeEdge=function(u,d,p){var f=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p),h=this._edgeObjs[f];return h&&(u=h.v,d=h.w,delete this._edgeLabels[f],delete this._edgeObjs[f],o(this._preds[d],u),o(this._sucs[u],d),delete this._in[d][f],delete this._out[u][f],this._edgeCount--),this},r.prototype.inEdges=function(u,d){var p=this._in[u];if(p){var f=e.values(p);return d?e.filter(f,function(h){return h.v===d}):f}},r.prototype.outEdges=function(u,d){var p=this._out[u];if(p){var f=e.values(p);return d?e.filter(f,function(h){return h.w===d}):f}},r.prototype.nodeEdges=function(u,d){var p=this.inEdges(u,d);if(p)return p.concat(this.outEdges(u,d))};function i(u,d){u[d]?u[d]++:u[d]=1}function o(u,d){--u[d]||delete u[d]}function s(u,d,p,f){var h=""+d,v=""+p;if(!u&&h>v){var g=h;h=v,v=g}return h+a+v+a+(e.isUndefined(f)?t:f)}function l(u,d,p,f){var h=""+d,v=""+p;if(!u&&h>v){var g=h;h=v,v=g}var b={v:h,w:v};return f&&(b.name=f),b}function c(u,d){return s(u,d.v,d.w,d.name)}return gu}var yu,Fv;function oD(){return Fv||(Fv=1,yu="2.1.8"),yu}var bu,Dv;function sD(){return Dv||(Dv=1,bu={Graph:lh(),version:oD()}),bu}var wu,Ov;function lD(){if(Ov)return wu;Ov=1;var e=Ut(),t=lh();wu={write:n,read:i};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:a(o),edges:r(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function a(o){return e.map(o.nodes(),function(s){var l=o.node(s),c=o.parent(s),u={v:s};return e.isUndefined(l)||(u.value=l),e.isUndefined(c)||(u.parent=c),u})}function r(o){return e.map(o.edges(),function(s){var l=o.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(l)||(c.value=l),c})}function i(o){var s=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(o.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return wu}var Su,Lv;function uD(){if(Lv)return Su;Lv=1;var e=Ut();Su=t;function t(n){var a={},r=[],i;function o(s){e.has(a,s)||(a[s]=!0,i.push(s),e.each(n.successors(s),o),e.each(n.predecessors(s),o))}return e.each(n.nodes(),function(s){i=[],o(s),i.length&&r.push(i)}),r}return Su}var _u,Vv;function CS(){if(Vv)return _u;Vv=1;var e=Ut();_u=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var a=this._keyIndices[n];if(a!==void 0)return this._arr[a].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,a){var r=this._keyIndices;if(n=String(n),!e.has(r,n)){var i=this._arr,o=i.length;return r[n]=o,i.push({key:n,priority:a}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,a){var r=this._keyIndices[n];if(a>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[r].priority+" New: "+a);this._arr[r].priority=a,this._decrease(r)},t.prototype._heapify=function(n){var a=this._arr,r=2*n,i=r+1,o=n;r<a.length&&(o=a[r].priority<a[o].priority?r:o,i<a.length&&(o=a[i].priority<a[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var a=this._arr,r=a[n].priority,i;n!==0&&(i=n>>1,!(a[i].priority<r));)this._swap(n,i),n=i},t.prototype._swap=function(n,a){var r=this._arr,i=this._keyIndices,o=r[n],s=r[a];r[n]=s,r[a]=o,i[s.key]=n,i[o.key]=a},_u}var Eu,Mv;function xS(){if(Mv)return Eu;Mv=1;var e=Ut(),t=CS();Eu=a;var n=e.constant(1);function a(i,o,s,l){return r(i,String(o),s||n,l||function(c){return i.outEdges(c)})}function r(i,o,s,l){var c={},u=new t,d,p,f=function(h){var v=h.v!==d?h.v:h.w,g=c[v],b=s(h),E=p.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+b);E<g.distance&&(g.distance=E,g.predecessor=d,u.decrease(v,E))};for(i.nodes().forEach(function(h){var v=h===o?0:Number.POSITIVE_INFINITY;c[h]={distance:v},u.add(h,v)});u.size()>0&&(d=u.removeMin(),p=c[d],p.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(f);return c}return Eu}var Cu,Bv;function cD(){if(Bv)return Cu;Bv=1;var e=xS(),t=Ut();Cu=n;function n(a,r,i){return t.transform(a.nodes(),function(o,s){o[s]=e(a,s,r,i)},{})}return Cu}var xu,Uv;function NS(){if(Uv)return xu;Uv=1;var e=Ut();xu=t;function t(n){var a=0,r=[],i={},o=[];function s(l){var c=i[l]={onStack:!0,lowlink:a,index:a++};if(r.push(l),n.successors(l).forEach(function(p){e.has(i,p)?i[p].onStack&&(c.lowlink=Math.min(c.lowlink,i[p].index)):(s(p),c.lowlink=Math.min(c.lowlink,i[p].lowlink))}),c.lowlink===c.index){var u=[],d;do d=r.pop(),i[d].onStack=!1,u.push(d);while(l!==d);o.push(u)}}return n.nodes().forEach(function(l){e.has(i,l)||s(l)}),o}return xu}var Nu,zv;function dD(){if(zv)return Nu;zv=1;var e=Ut(),t=NS();Nu=n;function n(a){return e.filter(t(a),function(r){return r.length>1||r.length===1&&a.hasEdge(r[0],r[0])})}return Nu}var Iu,Hv;function fD(){if(Hv)return Iu;Hv=1;var e=Ut();Iu=n;var t=e.constant(1);function n(r,i,o){return a(r,i||t,o||function(s){return r.outEdges(s)})}function a(r,i,o){var s={},l=r.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(u){c!==u&&(s[c][u]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(u){var d=u.v===c?u.w:u.v,p=i(u);s[c][d]={distance:p,predecessor:c}})}),l.forEach(function(c){var u=s[c];l.forEach(function(d){var p=s[d];l.forEach(function(f){var h=p[c],v=u[f],g=p[f],b=h.distance+v.distance;b<g.distance&&(g.distance=b,g.predecessor=v.predecessor)})})}),s}return Iu}var Tu,Wv;function IS(){if(Wv)return Tu;Wv=1;var e=Ut();Tu=t,t.CycleException=n;function t(a){var r={},i={},o=[];function s(l){if(e.has(i,l))throw new n;e.has(r,l)||(i[l]=!0,r[l]=!0,e.each(a.predecessors(l),s),delete i[l],o.push(l))}if(e.each(a.sinks(),s),e.size(r)!==a.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,Tu}var Ru,jv;function pD(){if(jv)return Ru;jv=1;var e=IS();Ru=t;function t(n){try{e(n)}catch(a){if(a instanceof e.CycleException)return!1;throw a}return!0}return Ru}var Pu,Qv;function TS(){if(Qv)return Pu;Qv=1;var e=Ut();Pu=t;function t(a,r,i){e.isArray(r)||(r=[r]);var o=(a.isDirected()?a.successors:a.neighbors).bind(a),s=[],l={};return e.each(r,function(c){if(!a.hasNode(c))throw new Error("Graph does not have node: "+c);n(a,c,i==="post",l,o,s)}),s}function n(a,r,i,o,s,l){e.has(o,r)||(o[r]=!0,i||l.push(r),e.each(s(r),function(c){n(a,c,i,o,s,l)}),i&&l.push(r))}return Pu}var Au,Gv;function hD(){if(Gv)return Au;Gv=1;var e=TS();Au=t;function t(n,a){return e(n,a,"post")}return Au}var ku,Yv;function mD(){if(Yv)return ku;Yv=1;var e=TS();ku=t;function t(n,a){return e(n,a,"pre")}return ku}var $u,Xv;function vD(){if(Xv)return $u;Xv=1;var e=Ut(),t=lh(),n=CS();$u=a;function a(r,i){var o=new t,s={},l=new n,c;function u(p){var f=p.v===c?p.w:p.v,h=l.priority(f);if(h!==void 0){var v=i(p);v<h&&(s[f]=c,l.decrease(f,v))}}if(r.nodeCount()===0)return o;e.each(r.nodes(),function(p){l.add(p,Number.POSITIVE_INFINITY),o.setNode(p)}),l.decrease(r.nodes()[0],0);for(var d=!1;l.size()>0;){if(c=l.removeMin(),e.has(s,c))o.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+r);d=!0}r.nodeEdges(c).forEach(u)}return o}return $u}var qu,Kv;function gD(){return Kv||(Kv=1,qu={components:uD(),dijkstra:xS(),dijkstraAll:cD(),findCycles:dD(),floydWarshall:fD(),isAcyclic:pD(),postorder:hD(),preorder:mD(),prim:vD(),tarjan:NS(),topsort:IS()}),qu}var Fu,Zv;function yD(){if(Zv)return Fu;Zv=1;var e=sD();return Fu={Graph:e.Graph,json:lD(),alg:gD(),version:e.version},Fu}var Ko;if(typeof Ms=="function")try{Ko=yD()}catch{}Ko||(Ko=window.graphlib);var Jt=Ko,bD=kp,wD=Pn,SD=j1,_D=Ti;function ED(e,t,n){if(!_D(n))return!1;var a=typeof t;return(a=="number"?wD(n)&&SD(t,n.length):a=="string"&&t in n)?bD(n[t],e):!1}var il=ED,CD=nn,xD=kp,ND=il,ID=Bs,RS=Object.prototype,TD=RS.hasOwnProperty,RD=CD(function(e,t){e=Object(e);var n=-1,a=t.length,r=a>2?t[2]:void 0;for(r&&ND(t[0],t[1],r)&&(a=1);++n<a;)for(var i=t[n],o=ID(i),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(u===void 0||xD(u,RS[c])&&!TD.call(e,c))&&(e[c]=i[c])}return e}),PS=RD,Du,Jv;function PD(){if(Jv)return Du;Jv=1;var e=Jr,t=Pn,n=Ap;function a(r){return function(i,o,s){var l=Object(i);if(!t(i)){var c=e(o);i=n(i),o=function(d){return c(l[d],d,l)}}var u=r(i,o,s);return u>-1?l[c?i[u]:u]:void 0}}return Du=a,Du}var Ou,eg;function AS(){if(eg)return Ou;eg=1;var e=rx,t=1/0,n=17976931348623157e292;function a(r){if(!r)return r===0?r:0;if(r=e(r),r===t||r===-t){var i=r<0?-1:1;return i*n}return r===r?r:0}return Ou=a,Ou}var Lu,tg;function AD(){if(tg)return Lu;tg=1;var e=AS();function t(n){var a=e(n),r=a%1;return a===a?r?a-r:a:0}return Lu=t,Lu}var Vu,rg;function kD(){if(rg)return Vu;rg=1;var e=P1,t=Jr,n=AD(),a=Math.max;function r(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=a(l+c,0)),e(i,t(o),c)}return Vu=r,Vu}var Mu,ng;function $D(){if(ng)return Mu;ng=1;var e=PD(),t=kD(),n=e(t);return Mu=n,Mu}var qD=nl;function FD(e){var t=e==null?0:e.length;return t?qD(e,1):[]}var uh=FD,Bu,ag;function DD(){if(ag)return Bu;ag=1;var e=Qb,t=uS,n=Bs;function a(r,i){return r==null?r:e(r,t(i),n)}return Bu=a,Bu}function OD(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var kS=OD,Uu,ig;function ch(){if(ig)return Uu;ig=1;var e=Gb;function t(n,a,r){for(var i=-1,o=n.length;++i<o;){var s=n[i],l=a(s);if(l!=null&&(c===void 0?l===l&&!e(l):r(l,c)))var c=l,u=s}return u}return Uu=t,Uu}var zu,og;function LD(){if(og)return zu;og=1;function e(t,n){return t>n}return zu=e,zu}var Hu,sg;function VD(){if(sg)return Hu;sg=1;var e=ch(),t=LD(),n=va;function a(r){return r&&r.length?e(r,n,t):void 0}return Hu=a,Hu}var MD=Q1,BD=kp;function UD(e,t,n){(n!==void 0&&!BD(e[t],n)||n===void 0&&!(t in e))&&MD(e,t,n)}var $S=UD;function zD(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var qS=zD,HD=A1,WD=Bs;function jD(e){return HD(e,WD(e))}var QD=jD,lg=$S,GD=k1,YD=$1,XD=Lb,KD=q1,ug=Ip,cg=cr,ZD=al,JD=Tp,eO=Pp,tO=Ti,rO=$p,nO=Rp,dg=qS,aO=QD;function iO(e,t,n,a,r,i,o){var s=dg(e,n),l=dg(t,n),c=o.get(l);if(c){lg(e,n,c);return}var u=i?i(s,l,n+"",e,t,o):void 0,d=u===void 0;if(d){var p=cg(l),f=!p&&JD(l),h=!p&&!f&&nO(l);u=l,p||f||h?cg(s)?u=s:ZD(s)?u=XD(s):f?(d=!1,u=GD(l,!0)):h?(d=!1,u=YD(l,!0)):u=[]:rO(l)||ug(l)?(u=s,ug(s)?u=aO(s):(!tO(s)||eO(s))&&(u=KD(l))):d=!1}d&&(o.set(l,u),r(u,l,a,i,o),o.delete(l)),lg(e,n,u)}var oO=iO,sO=G1,lO=$S,uO=Qb,cO=oO,dO=Ti,fO=Bs,pO=qS;function FS(e,t,n,a,r){e!==t&&uO(t,function(i,o){if(r||(r=new sO),dO(i))cO(e,t,o,n,FS,a,r);else{var s=a?a(pO(e,o),i,o+"",e,t,r):void 0;s===void 0&&(s=i),lO(e,o,s)}},fO)}var dh=FS,hO=nn,mO=il;function vO(e){return hO(function(t,n){var a=-1,r=n.length,i=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,o&&mO(n[0],n[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++a<r;){var s=n[a];s&&e(t,s,a,i)}return t})}var DS=vO,Wu,fg;function gO(){if(fg)return Wu;fg=1;var e=dh,t=DS,n=t(function(a,r,i){e(a,r,i)});return Wu=n,Wu}var ju,pg;function OS(){if(pg)return ju;pg=1;function e(t,n){return t<n}return ju=e,ju}var Qu,hg;function yO(){if(hg)return Qu;hg=1;var e=ch(),t=OS(),n=va;function a(r){return r&&r.length?e(r,n,t):void 0}return Qu=a,Qu}var Gu,mg;function bO(){if(mg)return Gu;mg=1;var e=ch(),t=Jr,n=OS();function a(r,i){return r&&r.length?e(r,t(i),n):void 0}return Gu=a,Gu}var wO=F1,SO=Y1;function _O(e,t){return wO(e,t,function(n,a){return SO(e,a)})}var EO=_O,CO=uh,xO=wS,NO=SS;function IO(e){return NO(xO(e,void 0,CO),e+"")}var TO=IO,RO=EO,PO=TO,AO=PO(function(e,t){return e==null?{}:RO(e,t)}),LS=AO;const kj=Nt(LS);var Yu,vg;function kO(){if(vg)return Yu;vg=1;var e=Math.ceil,t=Math.max;function n(a,r,i,o){for(var s=-1,l=t(e((r-a)/(i||1)),0),c=Array(l);l--;)c[o?l:++s]=a,a+=i;return c}return Yu=n,Yu}var Xu,gg;function $O(){if(gg)return Xu;gg=1;var e=kO(),t=il,n=AS();function a(r){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),s=s===void 0?i<o?1:-1:n(s),e(i,o,s,r)}}return Xu=a,Xu}var Ku,yg;function qO(){if(yg)return Ku;yg=1;var e=$O(),t=e();return Ku=t,Ku}function FO(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var DO=FO,bg=Gb;function OO(e,t){if(e!==t){var n=e!==void 0,a=e===null,r=e===e,i=bg(e),o=t!==void 0,s=t===null,l=t===t,c=bg(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||a&&o&&l||!n&&l||!r)return 1;if(!a&&!i&&!c&&e<t||c&&n&&r&&!a&&!i||s&&n&&r||!o&&r||!l)return-1}return 0}var LO=OO,VO=LO;function MO(e,t,n){for(var a=-1,r=e.criteria,i=t.criteria,o=r.length,s=n.length;++a<o;){var l=VO(r[a],i[a]);if(l){if(a>=s)return l;var c=n[a];return l*(c=="desc"?-1:1)}}return e.index-t.index}var BO=MO,Zu=en,UO=X1,zO=Jr,HO=mS,WO=DO,jO=Us,QO=BO,GO=va,YO=cr;function XO(e,t,n){t.length?t=Zu(t,function(i){return YO(i)?function(o){return UO(o,i.length===1?i[0]:i)}:i}):t=[GO];var a=-1;t=Zu(t,jO(zO));var r=HO(e,function(i,o,s){var l=Zu(t,function(c){return c(i)});return{criteria:l,index:++a,value:i}});return WO(r,function(i,o){return QO(i,o,n)})}var KO=XO,ZO=nl,JO=KO,eL=nn,wg=il,tL=eL(function(e,t){if(e==null)return[];var n=t.length;return n>1&&wg(e,t[0],t[1])?t=[]:n>2&&wg(t[0],t[1],t[2])&&(t=[t[0]]),JO(e,ZO(t,1),[])}),fh=tL,Ju,Sg;function rL(){if(Sg)return Ju;Sg=1;var e=K1,t=0;function n(a){var r=++t;return e(a)+r}return Ju=n,Ju}var ec,_g;function nL(){if(_g)return ec;_g=1;function e(t,n,a){for(var r=-1,i=t.length,o=n.length,s={};++r<i;){var l=r<o?n[r]:void 0;a(s,t[r],l)}return s}return ec=e,ec}var tc,Eg;function aL(){if(Eg)return tc;Eg=1;var e=D1,t=nL();function n(a,r){return t(a||[],r||[],e)}return tc=n,tc}var Zo;if(typeof Ms=="function")try{Zo={cloneDeep:Vb,constant:oh(),defaults:PS,each:cS(),filter:dS(),find:$D(),flatten:uh,forEach:sh,forIn:DD(),has:fS(),isUndefined:hS(),last:kS,map:vS(),mapValues:Z1,max:VD(),merge:gO(),min:yO(),minBy:bO(),now:nx(),pick:LS,range:qO(),reduce:gS(),sortBy:fh,uniqueId:rL(),values:ES(),zipObject:aL()}}catch{}Zo||(Zo=window._);var Je=Zo,iL=ol;function ol(){var e={};e._next=e._prev=e,this._sentinel=e}ol.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return VS(t),t};ol.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&VS(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ol.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,oL)),n=n._prev;return"["+e.join(", ")+"]"};function VS(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function oL(e,t){if(e!=="_next"&&e!=="_prev")return t}var Sr=Je,sL=Jt.Graph,lL=iL,uL=dL,cL=Sr.constant(1);function dL(e,t){if(e.nodeCount()<=1)return[];var n=pL(e,t||cL),a=fL(n.graph,n.buckets,n.zeroIdx);return Sr.flatten(Sr.map(a,function(r){return e.outEdges(r.v,r.w)}),!0)}function fL(e,t,n){for(var a=[],r=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)rc(e,t,n,o);for(;o=r.dequeue();)rc(e,t,n,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){a=a.concat(rc(e,t,n,o,!0));break}}}return a}function rc(e,t,n,a,r){var i=r?[]:void 0;return Sr.forEach(e.inEdges(a.v),function(o){var s=e.edge(o),l=e.node(o.v);r&&i.push({v:o.v,w:o.w}),l.out-=s,Cd(t,n,l)}),Sr.forEach(e.outEdges(a.v),function(o){var s=e.edge(o),l=o.w,c=e.node(l);c.in-=s,Cd(t,n,c)}),e.removeNode(a.v),i}function pL(e,t){var n=new sL,a=0,r=0;Sr.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Sr.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,c=t(s),u=l+c;n.setEdge(s.v,s.w,u),r=Math.max(r,n.node(s.v).out+=c),a=Math.max(a,n.node(s.w).in+=c)});var i=Sr.range(r+a+3).map(function(){return new lL}),o=a+1;return Sr.forEach(n.nodes(),function(s){Cd(i,o,n.node(s))}),{graph:n,buckets:i,zeroIdx:o}}function Cd(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var hn=Je,hL=uL,mL={run:vL,undo:yL};function vL(e){var t=e.graph().acyclicer==="greedy"?hL(e,n(e)):gL(e);hn.forEach(t,function(a){var r=e.edge(a);e.removeEdge(a),r.forwardName=a.name,r.reversed=!0,e.setEdge(a.w,a.v,r,hn.uniqueId("rev"))});function n(a){return function(r){return a.edge(r).weight}}}function gL(e){var t=[],n={},a={};function r(i){hn.has(a,i)||(a[i]=!0,n[i]=!0,hn.forEach(e.outEdges(i),function(o){hn.has(n,o.w)?t.push(o):r(o.w)}),delete n[i])}return hn.forEach(e.nodes(),r),t}function yL(e){hn.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var a=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,a)}})}var Oe=Je,MS=Jt.Graph,Ct={addDummyNode:BS,simplify:bL,asNonCompoundGraph:wL,successorWeights:SL,predecessorWeights:_L,intersectRect:EL,buildLayerMatrix:CL,normalizeRanks:xL,removeEmptyRanks:NL,addBorderNode:IL,maxRank:US,partition:TL,time:RL,notime:PL};function BS(e,t,n,a){var r;do r=Oe.uniqueId(a);while(e.hasNode(r));return n.dummy=t,e.setNode(r,n),r}function bL(e){var t=new MS().setGraph(e.graph());return Oe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),Oe.forEach(e.edges(),function(n){var a=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:a.weight+r.weight,minlen:Math.max(a.minlen,r.minlen)})}),t}function wL(e){var t=new MS({multigraph:e.isMultigraph()}).setGraph(e.graph());return Oe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Oe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function SL(e){var t=Oe.map(e.nodes(),function(n){var a={};return Oe.forEach(e.outEdges(n),function(r){a[r.w]=(a[r.w]||0)+e.edge(r).weight}),a});return Oe.zipObject(e.nodes(),t)}function _L(e){var t=Oe.map(e.nodes(),function(n){var a={};return Oe.forEach(e.inEdges(n),function(r){a[r.v]=(a[r.v]||0)+e.edge(r).weight}),a});return Oe.zipObject(e.nodes(),t)}function EL(e,t){var n=e.x,a=e.y,r=t.x-n,i=t.y-a,o=e.width/2,s=e.height/2;if(!r&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(i)*o>Math.abs(r)*s?(i<0&&(s=-s),l=s*r/i,c=s):(r<0&&(o=-o),l=o,c=o*i/r),{x:n+l,y:a+c}}function CL(e){var t=Oe.map(Oe.range(US(e)+1),function(){return[]});return Oe.forEach(e.nodes(),function(n){var a=e.node(n),r=a.rank;Oe.isUndefined(r)||(t[r][a.order]=n)}),t}function xL(e){var t=Oe.min(Oe.map(e.nodes(),function(n){return e.node(n).rank}));Oe.forEach(e.nodes(),function(n){var a=e.node(n);Oe.has(a,"rank")&&(a.rank-=t)})}function NL(e){var t=Oe.min(Oe.map(e.nodes(),function(i){return e.node(i).rank})),n=[];Oe.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;n[o]||(n[o]=[]),n[o].push(i)});var a=0,r=e.graph().nodeRankFactor;Oe.forEach(n,function(i,o){Oe.isUndefined(i)&&o%r!==0?--a:a&&Oe.forEach(i,function(s){e.node(s).rank+=a})})}function IL(e,t,n,a){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=a),BS(e,"border",r,t)}function US(e){return Oe.max(Oe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!Oe.isUndefined(n))return n}))}function TL(e,t){var n={lhs:[],rhs:[]};return Oe.forEach(e,function(a){t(a)?n.lhs.push(a):n.rhs.push(a)}),n}function RL(e,t){var n=Oe.now();try{return t()}finally{console.log(e+" time: "+(Oe.now()-n)+"ms")}}function PL(e,t){return t()}var zS=Je,AL=Ct,kL={run:$L,undo:FL};function $L(e){e.graph().dummyChains=[],zS.forEach(e.edges(),function(t){qL(e,t)})}function qL(e,t){var n=t.v,a=e.node(n).rank,r=t.w,i=e.node(r).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(i!==a+1){e.removeEdge(t);var c,u,d;for(d=0,++a;a<i;++d,++a)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:t,rank:a},c=AL.addDummyNode(e,"edge",u,"_d"),a===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,r,{weight:s.weight},o)}}function FL(e){zS.forEach(e.graph().dummyChains,function(t){var n=e.node(t),a=n.edgeLabel,r;for(e.setEdge(n.edgeObj,a);n.dummy;)r=e.successors(t)[0],e.removeNode(t),a.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),t=r,n=e.node(t)})}var so=Je,sl={longestPath:DL,slack:OL};function DL(e){var t={};function n(a){var r=e.node(a);if(so.has(t,a))return r.rank;t[a]=!0;var i=so.min(so.map(e.outEdges(a),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),r.rank=i}so.forEach(e.sources(),n)}function OL(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Jo=Je,LL=Jt.Graph,es=sl.slack,HS=VL;function VL(e){var t=new LL({directed:!1}),n=e.nodes()[0],a=e.nodeCount();t.setNode(n,{});for(var r,i;ML(t,e)<a;)r=BL(t,e),i=t.hasNode(r.v)?es(e,r):-es(e,r),UL(t,e,i);return t}function ML(e,t){function n(a){Jo.forEach(t.nodeEdges(a),function(r){var i=r.v,o=a===i?r.w:i;!e.hasNode(o)&&!es(t,r)&&(e.setNode(o,{}),e.setEdge(a,o,{}),n(o))})}return Jo.forEach(e.nodes(),n),e.nodeCount()}function BL(e,t){return Jo.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return es(t,n)})}function UL(e,t,n){Jo.forEach(e.nodes(),function(a){t.node(a).rank+=n})}var Nr=Je,zL=HS,HL=sl.slack,WL=sl.longestPath,jL=Jt.alg.preorder,QL=Jt.alg.postorder,GL=Ct.simplify,YL=$n;$n.initLowLimValues=hh;$n.initCutValues=ph;$n.calcCutValue=WS;$n.leaveEdge=QS;$n.enterEdge=GS;$n.exchangeEdges=YS;function $n(e){e=GL(e),WL(e);var t=zL(e);hh(t),ph(t,e);for(var n,a;n=QS(t);)a=GS(t,e,n),YS(t,e,n,a)}function ph(e,t){var n=QL(e,e.nodes());n=n.slice(0,n.length-1),Nr.forEach(n,function(a){XL(e,t,a)})}function XL(e,t,n){var a=e.node(n),r=a.parent;e.edge(n,r).cutvalue=WS(e,t,n)}function WS(e,t,n){var a=e.node(n),r=a.parent,i=!0,o=t.edge(n,r),s=0;return o||(i=!1,o=t.edge(r,n)),s=o.weight,Nr.forEach(t.nodeEdges(n),function(l){var c=l.v===n,u=c?l.w:l.v;if(u!==r){var d=c===i,p=t.edge(l).weight;if(s+=d?p:-p,ZL(e,n,u)){var f=e.edge(n,u).cutvalue;s+=d?-f:f}}}),s}function hh(e,t){arguments.length<2&&(t=e.nodes()[0]),jS(e,{},1,t)}function jS(e,t,n,a,r){var i=n,o=e.node(a);return t[a]=!0,Nr.forEach(e.neighbors(a),function(s){Nr.has(t,s)||(n=jS(e,t,n,s,a))}),o.low=i,o.lim=n++,r?o.parent=r:delete o.parent,n}function QS(e){return Nr.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function GS(e,t,n){var a=n.v,r=n.w;t.hasEdge(a,r)||(a=n.w,r=n.v);var i=e.node(a),o=e.node(r),s=i,l=!1;i.lim>o.lim&&(s=o,l=!0);var c=Nr.filter(t.edges(),function(u){return l===Cg(e,e.node(u.v),s)&&l!==Cg(e,e.node(u.w),s)});return Nr.minBy(c,function(u){return HL(t,u)})}function YS(e,t,n,a){var r=n.v,i=n.w;e.removeEdge(r,i),e.setEdge(a.v,a.w,{}),hh(e),ph(e,t),KL(e,t)}function KL(e,t){var n=Nr.find(e.nodes(),function(r){return!t.node(r).parent}),a=jL(e,n);a=a.slice(1),Nr.forEach(a,function(r){var i=e.node(r).parent,o=t.edge(r,i),s=!1;o||(o=t.edge(i,r),s=!0),t.node(r).rank=t.node(i).rank+(s?o.minlen:-o.minlen)})}function ZL(e,t,n){return e.hasEdge(t,n)}function Cg(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var JL=sl,XS=JL.longestPath,e2=HS,t2=YL,r2=n2;function n2(e){switch(e.graph().ranker){case"network-simplex":xg(e);break;case"tight-tree":i2(e);break;case"longest-path":a2(e);break;default:xg(e)}}var a2=XS;function i2(e){XS(e),e2(e)}function xg(e){t2(e)}var xd=Je,o2=s2;function s2(e){var t=u2(e);xd.forEach(e.graph().dummyChains,function(n){for(var a=e.node(n),r=a.edgeObj,i=l2(e,t,r.v,r.w),o=i.path,s=i.lca,l=0,c=o[l],u=!0;n!==r.w;){if(a=e.node(n),u){for(;(c=o[l])!==s&&e.node(c).maxRank<a.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<o.length-1&&e.node(c=o[l+1]).minRank<=a.rank;)l++;c=o[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function l2(e,t,n,a){var r=[],i=[],o=Math.min(t[n].low,t[a].low),s=Math.max(t[n].lim,t[a].lim),l,c;l=n;do l=e.parent(l),r.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(c=l,l=a;(l=e.parent(l))!==c;)i.push(l);return{path:r.concat(i.reverse()),lca:c}}function u2(e){var t={},n=0;function a(r){var i=n;xd.forEach(e.children(r),a),t[r]={low:i,lim:n++}}return xd.forEach(e.children(),a),t}var _r=Je,Nd=Ct,c2={run:d2,cleanup:h2};function d2(e){var t=Nd.addDummyNode(e,"root",{},"_root"),n=f2(e),a=_r.max(_r.values(n))-1,r=2*a+1;e.graph().nestingRoot=t,_r.forEach(e.edges(),function(o){e.edge(o).minlen*=r});var i=p2(e)+1;_r.forEach(e.children(),function(o){KS(e,t,r,i,a,n,o)}),e.graph().nodeRankFactor=r}function KS(e,t,n,a,r,i,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=Nd.addBorderNode(e,"_bt"),c=Nd.addBorderNode(e,"_bb"),u=e.node(o);e.setParent(l,o),u.borderTop=l,e.setParent(c,o),u.borderBottom=c,_r.forEach(s,function(d){KS(e,t,n,a,r,i,d);var p=e.node(d),f=p.borderTop?p.borderTop:d,h=p.borderBottom?p.borderBottom:d,v=p.borderTop?a:2*a,g=f!==h?1:r-i[o]+1;e.setEdge(l,f,{weight:v,minlen:g,nestingEdge:!0}),e.setEdge(h,c,{weight:v,minlen:g,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:r+i[o]})}function f2(e){var t={};function n(a,r){var i=e.children(a);i&&i.length&&_r.forEach(i,function(o){n(o,r+1)}),t[a]=r}return _r.forEach(e.children(),function(a){n(a,1)}),t}function p2(e){return _r.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function h2(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,_r.forEach(e.edges(),function(n){var a=e.edge(n);a.nestingEdge&&e.removeEdge(n)})}var nc=Je,m2=Ct,v2=g2;function g2(e){function t(n){var a=e.children(n),r=e.node(n);if(a.length&&nc.forEach(a,t),nc.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,o=r.maxRank+1;i<o;++i)Ng(e,"borderLeft","_bl",n,r,i),Ng(e,"borderRight","_br",n,r,i)}}nc.forEach(e.children(),t)}function Ng(e,t,n,a,r,i){var o={width:0,height:0,rank:i,borderType:t},s=r[t][i-1],l=m2.addDummyNode(e,"border",o,n);r[t][i]=l,e.setParent(l,a),s&&e.setEdge(s,l,{weight:1})}var ir=Je,y2={adjust:b2,undo:w2};function b2(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&ZS(e)}function w2(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&S2(e),(t==="lr"||t==="rl")&&(_2(e),ZS(e))}function ZS(e){ir.forEach(e.nodes(),function(t){Ig(e.node(t))}),ir.forEach(e.edges(),function(t){Ig(e.edge(t))})}function Ig(e){var t=e.width;e.width=e.height,e.height=t}function S2(e){ir.forEach(e.nodes(),function(t){ac(e.node(t))}),ir.forEach(e.edges(),function(t){var n=e.edge(t);ir.forEach(n.points,ac),ir.has(n,"y")&&ac(n)})}function ac(e){e.y=-e.y}function _2(e){ir.forEach(e.nodes(),function(t){ic(e.node(t))}),ir.forEach(e.edges(),function(t){var n=e.edge(t);ir.forEach(n.points,ic),ir.has(n,"x")&&ic(n)})}function ic(e){var t=e.x;e.x=e.y,e.y=t}var gr=Je,E2=C2;function C2(e){var t={},n=gr.filter(e.nodes(),function(s){return!e.children(s).length}),a=gr.max(gr.map(n,function(s){return e.node(s).rank})),r=gr.map(gr.range(a+1),function(){return[]});function i(s){if(!gr.has(t,s)){t[s]=!0;var l=e.node(s);r[l.rank].push(s),gr.forEach(e.successors(s),i)}}var o=gr.sortBy(n,function(s){return e.node(s).rank});return gr.forEach(o,i),r}var $r=Je,x2=N2;function N2(e,t){for(var n=0,a=1;a<t.length;++a)n+=I2(e,t[a-1],t[a]);return n}function I2(e,t,n){for(var a=$r.zipObject(n,$r.map(n,function(c,u){return u})),r=$r.flatten($r.map(t,function(c){return $r.sortBy($r.map(e.outEdges(c),function(u){return{pos:a[u.w],weight:e.edge(u).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var s=$r.map(new Array(o),function(){return 0}),l=0;return $r.forEach(r.forEach(function(c){var u=c.pos+i;s[u]+=c.weight;for(var d=0;u>0;)u%2&&(d+=s[u+1]),u=u-1>>1,s[u]+=c.weight;l+=c.weight*d})),l}var Tg=Je,T2=R2;function R2(e,t){return Tg.map(t,function(n){var a=e.inEdges(n);if(a.length){var r=Tg.reduce(a,function(i,o){var s=e.edge(o),l=e.node(o.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:n}})}var Pt=Je,P2=A2;function A2(e,t){var n={};Pt.forEach(e,function(r,i){var o=n[r.v]={indegree:0,in:[],out:[],vs:[r.v],i};Pt.isUndefined(r.barycenter)||(o.barycenter=r.barycenter,o.weight=r.weight)}),Pt.forEach(t.edges(),function(r){var i=n[r.v],o=n[r.w];!Pt.isUndefined(i)&&!Pt.isUndefined(o)&&(o.indegree++,i.out.push(n[r.w]))});var a=Pt.filter(n,function(r){return!r.indegree});return k2(a)}function k2(e){var t=[];function n(i){return function(o){o.merged||(Pt.isUndefined(o.barycenter)||Pt.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&$2(i,o)}}function a(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var r=e.pop();t.push(r),Pt.forEach(r.in.reverse(),n(r)),Pt.forEach(r.out,a(r))}return Pt.map(Pt.filter(t,function(i){return!i.merged}),function(i){return Pt.pick(i,["vs","i","barycenter","weight"])})}function $2(e,t){var n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0}var Ma=Je,q2=Ct,F2=D2;function D2(e,t){var n=q2.partition(e,function(u){return Ma.has(u,"barycenter")}),a=n.lhs,r=Ma.sortBy(n.rhs,function(u){return-u.i}),i=[],o=0,s=0,l=0;a.sort(O2(!!t)),l=Rg(i,r,l),Ma.forEach(a,function(u){l+=u.vs.length,i.push(u.vs),o+=u.barycenter*u.weight,s+=u.weight,l=Rg(i,r,l)});var c={vs:Ma.flatten(i,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function Rg(e,t,n){for(var a;t.length&&(a=Ma.last(t)).i<=n;)t.pop(),e.push(a.vs),n++;return n}function O2(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Mr=Je,L2=T2,V2=P2,M2=F2,B2=JS;function JS(e,t,n,a){var r=e.children(t),i=e.node(t),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,l={};o&&(r=Mr.filter(r,function(h){return h!==o&&h!==s}));var c=L2(e,r);Mr.forEach(c,function(h){if(e.children(h.v).length){var v=JS(e,h.v,n,a);l[h.v]=v,Mr.has(v,"barycenter")&&z2(h,v)}});var u=V2(c,n);U2(u,l);var d=M2(u,a);if(o&&(d.vs=Mr.flatten([o,d.vs,s],!0),e.predecessors(o).length)){var p=e.node(e.predecessors(o)[0]),f=e.node(e.predecessors(s)[0]);Mr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+f.order)/(d.weight+2),d.weight+=2}return d}function U2(e,t){Mr.forEach(e,function(n){n.vs=Mr.flatten(n.vs.map(function(a){return t[a]?t[a].vs:a}),!0)})}function z2(e,t){Mr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ba=Je,H2=Jt.Graph,W2=j2;function j2(e,t,n){var a=Q2(e),r=new H2({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(i){return e.node(i)});return Ba.forEach(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(r.setNode(i),r.setParent(i,s||a),Ba.forEach(e[n](i),function(l){var c=l.v===i?l.w:l.v,u=r.edge(c,i),d=Ba.isUndefined(u)?0:u.weight;r.setEdge(c,i,{weight:e.edge(l).weight+d})}),Ba.has(o,"minRank")&&r.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),r}function Q2(e){for(var t;e.hasNode(t=Ba.uniqueId("_root")););return t}var G2=Je,Y2=X2;function X2(e,t,n){var a={},r;G2.forEach(n,function(i){for(var o=e.parent(i),s,l;o;){if(s=e.parent(o),s?(l=a[s],a[s]=o):(l=r,r=o),l&&l!==o){t.setEdge(l,o);return}o=s}})}var jr=Je,K2=E2,Z2=x2,J2=B2,eV=W2,tV=Y2,rV=Jt.Graph,Pg=Ct,nV=aV;function aV(e){var t=Pg.maxRank(e),n=Ag(e,jr.range(1,t+1),"inEdges"),a=Ag(e,jr.range(t-1,-1,-1),"outEdges"),r=K2(e);kg(e,r);for(var i=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){iV(s%2?n:a,s%4>=2),r=Pg.buildLayerMatrix(e);var c=Z2(e,r);c<i&&(l=0,o=jr.cloneDeep(r),i=c)}kg(e,o)}function Ag(e,t,n){return jr.map(t,function(a){return eV(e,a,n)})}function iV(e,t){var n=new rV;jr.forEach(e,function(a){var r=a.graph().root,i=J2(a,r,n,t);jr.forEach(i.vs,function(o,s){a.node(o).order=s}),tV(a,n,i.vs)})}function kg(e,t){jr.forEach(t,function(n){jr.forEach(n,function(a,r){e.node(a).order=r})})}var _e=Je,oV=Jt.Graph,sV=Ct,lV={positionX:dV,findType1Conflicts:e_,findType2Conflicts:t_,addConflict:mh,hasConflict:r_,verticalAlignment:n_,horizontalCompaction:a_,alignCoordinates:o_,findSmallestWidthAlignment:i_,balance:s_};function e_(e,t){var n={};function a(r,i){var o=0,s=0,l=r.length,c=_e.last(i);return _e.forEach(i,function(u,d){var p=uV(e,u),f=p?e.node(p).order:l;(p||u===c)&&(_e.forEach(i.slice(s,d+1),function(h){_e.forEach(e.predecessors(h),function(v){var g=e.node(v),b=g.order;(b<o||f<b)&&!(g.dummy&&e.node(h).dummy)&&mh(n,v,h)})}),s=d+1,o=f)}),i}return _e.reduce(t,a),n}function t_(e,t){var n={};function a(i,o,s,l,c){var u;_e.forEach(_e.range(o,s),function(d){u=i[d],e.node(u).dummy&&_e.forEach(e.predecessors(u),function(p){var f=e.node(p);f.dummy&&(f.order<l||f.order>c)&&mh(n,p,u)})})}function r(i,o){var s=-1,l,c=0;return _e.forEach(o,function(u,d){if(e.node(u).dummy==="border"){var p=e.predecessors(u);p.length&&(l=e.node(p[0]).order,a(o,c,d,s,l),c=d,s=l)}a(o,c,o.length,l,i.length)}),o}return _e.reduce(t,r),n}function uV(e,t){if(e.node(t).dummy)return _e.find(e.predecessors(t),function(n){return e.node(n).dummy})}function mh(e,t,n){if(t>n){var a=t;t=n,n=a}var r=e[t];r||(e[t]=r={}),r[n]=!0}function r_(e,t,n){if(t>n){var a=t;t=n,n=a}return _e.has(e[t],n)}function n_(e,t,n,a){var r={},i={},o={};return _e.forEach(t,function(s){_e.forEach(s,function(l,c){r[l]=l,i[l]=l,o[l]=c})}),_e.forEach(t,function(s){var l=-1;_e.forEach(s,function(c){var u=a(c);if(u.length){u=_e.sortBy(u,function(v){return o[v]});for(var d=(u.length-1)/2,p=Math.floor(d),f=Math.ceil(d);p<=f;++p){var h=u[p];i[c]===c&&l<o[h]&&!r_(n,c,h)&&(i[h]=c,i[c]=r[c]=r[h],l=o[h])}}})}),{root:r,align:i}}function a_(e,t,n,a,r){var i={},o=cV(e,t,n,r),s=r?"borderLeft":"borderRight";function l(d,p){for(var f=o.nodes(),h=f.pop(),v={};h;)v[h]?d(h):(v[h]=!0,f.push(h),f=f.concat(p(h))),h=f.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(p,f){return Math.max(p,i[f.v]+o.edge(f))},0)}function u(d){var p=o.outEdges(d).reduce(function(h,v){return Math.min(h,i[v.w]-o.edge(v))},Number.POSITIVE_INFINITY),f=e.node(d);p!==Number.POSITIVE_INFINITY&&f.borderType!==s&&(i[d]=Math.max(i[d],p))}return l(c,o.predecessors.bind(o)),l(u,o.successors.bind(o)),_e.forEach(a,function(d){i[d]=i[n[d]]}),i}function cV(e,t,n,a){var r=new oV,i=e.graph(),o=fV(i.nodesep,i.edgesep,a);return _e.forEach(t,function(s){var l;_e.forEach(s,function(c){var u=n[c];if(r.setNode(u),l){var d=n[l],p=r.edge(d,u);r.setEdge(d,u,Math.max(o(e,c,l),p||0))}l=c})}),r}function i_(e,t){return _e.minBy(_e.values(t),function(n){var a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return _e.forIn(n,function(i,o){var s=pV(e,o)/2;a=Math.max(i+s,a),r=Math.min(i-s,r)}),a-r})}function o_(e,t){var n=_e.values(t),a=_e.min(n),r=_e.max(n);_e.forEach(["u","d"],function(i){_e.forEach(["l","r"],function(o){var s=i+o,l=e[s],c;if(l!==t){var u=_e.values(l);c=o==="l"?a-_e.min(u):r-_e.max(u),c&&(e[s]=_e.mapValues(l,function(d){return d+c}))}})})}function s_(e,t){return _e.mapValues(e.ul,function(n,a){if(t)return e[t.toLowerCase()][a];var r=_e.sortBy(_e.map(e,a));return(r[1]+r[2])/2})}function dV(e){var t=sV.buildLayerMatrix(e),n=_e.merge(e_(e,t),t_(e,t)),a={},r;_e.forEach(["u","d"],function(o){r=o==="u"?t:_e.values(t).reverse(),_e.forEach(["l","r"],function(s){s==="r"&&(r=_e.map(r,function(d){return _e.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),c=n_(e,r,n,l),u=a_(e,r,c.root,c.align,s==="r");s==="r"&&(u=_e.mapValues(u,function(d){return-d})),a[o+s]=u})});var i=i_(e,a);return o_(a,i),s_(a,e.graph().align)}function fV(e,t,n){return function(a,r,i){var o=a.node(r),s=a.node(i),l=0,c;if(l+=o.width/2,_e.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(o.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,_e.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function pV(e,t){return e.node(t).width}var Ua=Je,l_=Ct,hV=lV.positionX,mV=vV;function vV(e){e=l_.asNonCompoundGraph(e),gV(e),Ua.forEach(hV(e),function(t,n){e.node(n).x=t})}function gV(e){var t=l_.buildLayerMatrix(e),n=e.graph().ranksep,a=0;Ua.forEach(t,function(r){var i=Ua.max(Ua.map(r,function(o){return e.node(o).height}));Ua.forEach(r,function(o){e.node(o).y=a+i/2}),a+=i+n})}var xe=Je,$g=mL,qg=kL,yV=r2,bV=Ct.normalizeRanks,wV=o2,SV=Ct.removeEmptyRanks,Fg=c2,_V=v2,Dg=y2,EV=nV,CV=mV,Zr=Ct,xV=Jt.Graph,NV=IV;function IV(e,t){var n=t&&t.debugTiming?Zr.time:Zr.notime;n("layout",function(){var a=n("  buildLayoutGraph",function(){return LV(e)});n("  runLayout",function(){TV(a,n)}),n("  updateInputGraph",function(){RV(e,a)})})}function TV(e,t){t("    makeSpaceForEdgeLabels",function(){VV(e)}),t("    removeSelfEdges",function(){GV(e)}),t("    acyclic",function(){$g.run(e)}),t("    nestingGraph.run",function(){Fg.run(e)}),t("    rank",function(){yV(Zr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){MV(e)}),t("    removeEmptyRanks",function(){SV(e)}),t("    nestingGraph.cleanup",function(){Fg.cleanup(e)}),t("    normalizeRanks",function(){bV(e)}),t("    assignRankMinMax",function(){BV(e)}),t("    removeEdgeLabelProxies",function(){UV(e)}),t("    normalize.run",function(){qg.run(e)}),t("    parentDummyChains",function(){wV(e)}),t("    addBorderSegments",function(){_V(e)}),t("    order",function(){EV(e)}),t("    insertSelfEdges",function(){YV(e)}),t("    adjustCoordinateSystem",function(){Dg.adjust(e)}),t("    position",function(){CV(e)}),t("    positionSelfEdges",function(){XV(e)}),t("    removeBorderNodes",function(){QV(e)}),t("    normalize.undo",function(){qg.undo(e)}),t("    fixupEdgeLabelCoords",function(){WV(e)}),t("    undoCoordinateSystem",function(){Dg.undo(e)}),t("    translateGraph",function(){zV(e)}),t("    assignNodeIntersects",function(){HV(e)}),t("    reversePoints",function(){jV(e)}),t("    acyclic.undo",function(){$g.undo(e)})}function RV(e,t){xe.forEach(e.nodes(),function(n){var a=e.node(n),r=t.node(n);a&&(a.x=r.x,a.y=r.y,t.children(n).length&&(a.width=r.width,a.height=r.height))}),xe.forEach(e.edges(),function(n){var a=e.edge(n),r=t.edge(n);a.points=r.points,xe.has(r,"x")&&(a.x=r.x,a.y=r.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var PV=["nodesep","edgesep","ranksep","marginx","marginy"],AV={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},kV=["acyclicer","ranker","rankdir","align"],$V=["width","height"],qV={width:0,height:0},FV=["minlen","weight","width","height","labeloffset"],DV={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},OV=["labelpos"];function LV(e){var t=new xV({multigraph:!0,compound:!0}),n=sc(e.graph());return t.setGraph(xe.merge({},AV,oc(n,PV),xe.pick(n,kV))),xe.forEach(e.nodes(),function(a){var r=sc(e.node(a));t.setNode(a,xe.defaults(oc(r,$V),qV)),t.setParent(a,e.parent(a))}),xe.forEach(e.edges(),function(a){var r=sc(e.edge(a));t.setEdge(a,xe.merge({},DV,oc(r,FV),xe.pick(r,OV)))}),t}function VV(e){var t=e.graph();t.ranksep/=2,xe.forEach(e.edges(),function(n){var a=e.edge(n);a.minlen*=2,a.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?a.width+=a.labeloffset:a.height+=a.labeloffset)})}function MV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var a=e.node(t.v),r=e.node(t.w),i={rank:(r.rank-a.rank)/2+a.rank,e:t};Zr.addDummyNode(e,"edge-proxy",i,"_ep")}})}function BV(e){var t=0;xe.forEach(e.nodes(),function(n){var a=e.node(n);a.borderTop&&(a.minRank=e.node(a.borderTop).rank,a.maxRank=e.node(a.borderBottom).rank,t=xe.max(t,a.maxRank))}),e.graph().maxRank=t}function UV(e){xe.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function zV(e){var t=Number.POSITIVE_INFINITY,n=0,a=Number.POSITIVE_INFINITY,r=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0;function l(c){var u=c.x,d=c.y,p=c.width,f=c.height;t=Math.min(t,u-p/2),n=Math.max(n,u+p/2),a=Math.min(a,d-f/2),r=Math.max(r,d+f/2)}xe.forEach(e.nodes(),function(c){l(e.node(c))}),xe.forEach(e.edges(),function(c){var u=e.edge(c);xe.has(u,"x")&&l(u)}),t-=o,a-=s,xe.forEach(e.nodes(),function(c){var u=e.node(c);u.x-=t,u.y-=a}),xe.forEach(e.edges(),function(c){var u=e.edge(c);xe.forEach(u.points,function(d){d.x-=t,d.y-=a}),xe.has(u,"x")&&(u.x-=t),xe.has(u,"y")&&(u.y-=a)}),i.width=n-t+o,i.height=r-a+s}function HV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t),a=e.node(t.v),r=e.node(t.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=r,o=a),n.points.unshift(Zr.intersectRect(a,i)),n.points.push(Zr.intersectRect(r,o))})}function WV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t);if(xe.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function jV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function QV(e){xe.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),a=e.node(n.borderTop),r=e.node(n.borderBottom),i=e.node(xe.last(n.borderLeft)),o=e.node(xe.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(r.y-a.y),n.x=i.x+n.width/2,n.y=a.y+n.height/2}}),xe.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function GV(e){xe.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function YV(e){var t=Zr.buildLayerMatrix(e);xe.forEach(t,function(n){var a=0;xe.forEach(n,function(r,i){var o=e.node(r);o.order=i+a,xe.forEach(o.selfEdges,function(s){Zr.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:i+ ++a,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function XV(e){xe.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var a=e.node(n.e.v),r=a.x+a.width/2,i=a.y,o=n.x-r,s=a.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*o/3,y:i-s},{x:r+5*o/6,y:i-s},{x:r+o,y:i},{x:r+5*o/6,y:i+s},{x:r+2*o/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function oc(e,t){return xe.mapValues(xe.pick(e,t),Number)}function sc(e){var t={};return xe.forEach(e,function(n,a){t[a.toLowerCase()]=n}),t}var lo=Je,KV=Ct,ZV=Jt.Graph,JV={debugOrdering:eM};function eM(e){var t=KV.buildLayerMatrix(e),n=new ZV({compound:!0,multigraph:!0}).setGraph({});return lo.forEach(e.nodes(),function(a){n.setNode(a,{label:a}),n.setParent(a,"layer"+e.node(a).rank)}),lo.forEach(e.edges(),function(a){n.setEdge(a.v,a.w,{},a.name)}),lo.forEach(t,function(a,r){var i="layer"+r;n.setNode(i,{rank:"same"}),lo.reduce(a,function(o,s){return n.setEdge(o,s,{style:"invis"}),s})}),n}var tM="0.8.5",rM={graphlib:Jt,layout:NV,debug:JV,util:{time:Ct.time,notime:Ct.notime},version:tM};const u_=Nt(rM),nM=()=>L(Q,{children:[m(De,{variant:"smallText1",className:"description",children:"Undefined"}),m(Rn,{placement:"top",markdownText:`Provenance tracks the relationship 
          between data, code and analytical results.`,helpUrl:"https://help.synapse.org/docs/Provenance.1972470373.html"})]}),Id=e=>{const t=e.targetVersionNumber?`.${e.targetVersionNumber}`:"",n=`${e.targetId}${t}`;return P.useMemo(()=>L(Q,{children:[m("div",{children:m(Fe,{icon:"fileOutlined"})}),m("span",{children:n})]}),[n])};try{Id.displayName="EntityPlaceholderNodeLabel",Id.__docgenInfo={description:"This node type is used if the user cannot access the entity for some reason",displayName:"EntityPlaceholderNodeLabel",props:{targetId:{defaultValue:null,description:"",name:"targetId",required:!0,type:{name:"string"}},targetVersionNumber:{defaultValue:null,description:"",name:"targetVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var bt=(e=>(e.ENTITY="EntityNode",e.ENTITY_PLACEHOLDER="EntityPlaceholderNode",e.EXTERNAL="ExternalNode",e.ACTIVITY="ActivityNode",e.EXPAND="ExpandNode",e.UNDEFINED="UndefinedNode",e))(bt||{});const ts=e=>{const{type:t,data:n}=e;let a;switch(t){case"EntityNode":a=m(wd,{...n});break;case"EntityPlaceholderNode":a=m(Id,{...n});break;case"ExternalNode":a=m(Ed,{...n});break;case"ActivityNode":a=m(yd,{...n});break;case"ExpandNode":a=m(Sd,{...n});break;case"UndefinedNode":a=m(nM,{});break;default:a=L("p",{children:["Unrecognized node type: ",t]});break}const r={label:a,props:n,type:t};return{id:Ir(e),position:{x:100,y:100},data:r,connectable:!1,draggable:!1,className:`${t}`}},c_=(e,t)=>{const n=Ir(e),a=Ir(t);return{id:`${n}-${a}`,source:n,target:a,animated:!0,type:br.SimpleBezier,markerEnd:{type:oi.ArrowClosed}}},Ir=e=>{const{type:t,data:n}=e;switch(t){case"EntityNode":return`${n.id}.${n.versionNumber??"latest"}`;case"EntityPlaceholderNode":return`${n.targetId}.${n.targetVersionNumber??"latest"}`;case"ExternalNode":return`${n.url}`;case"ActivityNode":return`${n.id}`;case"ExpandNode":return`expand.node.${n.entityHeader.id}.${n.entityHeader.versionNumber??"latest"}`;case"UndefinedNode":return`undefined.dummy.node.${n.id}.${n.versionNumber??"latest"}`}},Hn=new u_.graphlib.Graph;Hn.setDefaultEdgeLabel(()=>({}));const Og=e=>e.data.type=="ExpandNode"?30:100,Lg=e=>e.data.type=="ExpandNode"?30:172,aM=(e,t,n)=>{const a=n==="LR";return Hn.setGraph({rankdir:n}),e.forEach(r=>{Hn.setNode(r.id,{width:Lg(r),height:Og(r)})}),t.forEach(r=>{Hn.setEdge(r.source,r.target)}),u_.layout(Hn),e.forEach(r=>{const i=Hn.node(r.id);return r.targetPosition=a?se.Left:se.Top,r.sourcePosition=a?se.Right:se.Bottom,r.position={x:i.x-Lg(r)/2,y:i.y-Og(r)/2},r}),{nodes:e,edges:t}},Vg=(e,t)=>ax(e,t,Da).length==0;try{ts.displayName="getProvenanceNode",ts.__docgenInfo={description:"",displayName:"getProvenanceNode",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}try{Ir.displayName="getNodeId",Ir.__docgenInfo={description:"",displayName:"getNodeId",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}const iM="org.sagebionetworks.repo.model.provenance.UsedEntity",Mg=e=>{const{entityHeader:t,rootEntityHeaders:n}=e;return(n==null?void 0:n.find(r=>t.id==r.id&&t.versionNumber==r.versionNumber))!==void 0},d_=(e,t)=>t.find(a=>a.id===Ir(e))===void 0,oM=(e,t)=>{const n={type:bt.ENTITY,data:e};return t.find(a=>a.id===Ir(n))},sM=(e,t,n)=>n.find(r=>r.source===Ir(e)&&r.target===Ir(t))===void 0,qi=e=>{const{newNodeProps:t,existingNodeProps:n,nodesCopy:a,edgesCopy:r}=e;d_(t,a)&&a.push(ts(t)),sM(t,n,r)&&r.push(c_(t,n))},lM=e=>{const{activity:t,entityHeader:n,nodesCopy:a,edgesCopy:r}=e,i={type:bt.ACTIVITY,data:t},o={type:bt.ENTITY,data:n};qi({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},uM=e=>{const{entityHeader:t,itemCount:n=0,nodesCopy:a,edgesCopy:r}=e,i={type:bt.EXPAND,data:{itemCount:n,entityHeader:t}},o={type:bt.ENTITY,data:t};qi({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},cM=e=>{const{ref:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:bt.ENTITY_PLACEHOLDER,data:t},o={type:bt.ACTIVITY,data:n};qi({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},dM=e=>{const{entityHeader:t,nodesCopy:n,edgesCopy:a}=e,r={type:bt.UNDEFINED,data:t},i={type:bt.ENTITY,data:t};qi({newNodeProps:r,existingNodeProps:i,nodesCopy:n,edgesCopy:a})},fM=e=>{const{usedURL:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:bt.ACTIVITY,data:n},o={type:bt.EXTERNAL,data:t};qi({newNodeProps:o,existingNodeProps:i,nodesCopy:a,edgesCopy:r})},pM=e=>{const{entityHeader:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:bt.ENTITY,data:t};if(d_(i,a)&&(a.push(ts(i)),n)){const o={type:bt.ACTIVITY,data:n};r.push(c_(i,o))}};const lc=400,uc=.85,hM=e=>{const{entityRefs:t,containerHeight:n="200px",initialNodes:a=[],initialEdges:r=[],onNodesChangedListener:i,onEdgesChangedListener:o}=e,{accessToken:s}=ze(),[l,c]=z.useState(a),[u,d]=z.useState(r),[p,f,h]=Nq([]),[v,g,b]=Iq([]),[E,y]=P.useState(),_=jC(),{data:w,isSuccess:S}=lx(t,{useErrorBoundary:!0});if(S&&w&&w.totalNumberOfResults==0){const $=t.map(F=>F.targetId).join(",");_(`Unable to load provenance for the given Synapse IDs: ${$}`)}const C=w==null?void 0:w.results,[x,T]=z.useState(!1),R=tl(),q=P.useCallback(($,F)=>{y(F)},[]),k=P.useCallback(async $=>{var U;const{entityHeader:F,nodesCopy:A,edgesCopy:V,usedInActivity:O}=$;pM({entityHeader:F,activity:O,nodesCopy:A,edgesCopy:V});try{const H=await Zh(F.id,F.versionNumber,s);(!Mg({entityHeader:F,rootEntityHeaders:C})||H.used&&H.used.length>=lc)&&uM({entityHeader:F,itemCount:(U=H.used)==null?void 0:U.length,nodesCopy:A,edgesCopy:V})}catch(H){console.error(H),Mg({entityHeader:F,rootEntityHeaders:C})&&dM({entityHeader:F,nodesCopy:A,edgesCopy:V})}},[s,C]);P.useEffect(()=>{!x&&p.length>0&&setTimeout(()=>{if(C){const $=oM(C[0],p);if($){const F=R.getZoom(),A=F>uc?uc:F;R==null||R.setCenter($.position.x+150,$.position.y-30,{zoom:A,duration:0})}T(!0)}})},[x,p,R,C]);const I=P.useCallback(async $=>{const{entityHeader:F,nodesCopy:A,edgesCopy:V}=$;try{const O=await Zh(F.id,F.versionNumber,s);if(lM({activity:O,entityHeader:F,nodesCopy:A,edgesCopy:V}),O.used&&O.used.length<lc){const U=[];O.used.forEach(K=>{K.concreteType==iM?U.push(K.reference):fM({usedURL:K,activity:O,nodesCopy:A,edgesCopy:V})});const H=await yb(U,s),{results:G}=H;U.filter(K=>G.find(J=>J.id==K.targetId)==null).forEach(K=>{cM({ref:K,activity:O,nodesCopy:A,edgesCopy:V})});const Y=[];G.forEach(K=>{Y.push(k({entityHeader:K,nodesCopy:A,edgesCopy:V,usedInActivity:O}))}),await Promise.allSettled(Y)}}catch(O){console.error(O)}},[s,k]);P.useEffect(()=>{if(C&&l.length==0){const $=[...l],F=[...u],A=[];C.forEach(V=>{const O=k({entityHeader:V,nodesCopy:$,edgesCopy:F});A.push(O);const U=I({entityHeader:V,nodesCopy:$,edgesCopy:F});A.push(U)}),Promise.allSettled(A).finally(()=>{c($),d(F)})}},[k,_,I,C,t,u,l]),P.useEffect(()=>{const $=E==null?void 0:E.data;if(E&&($==null?void 0:$.type)==bt.EXPAND){const F=$.props;if(F.itemCount>lc){Xr("Web visualization does not support expanding this many items at this time.","danger");return}else{$.label=m(gN,{size:30});const A=l.filter(U=>U.id!=E.id),V=rh([E],u)[0],O=u.filter(U=>U!=V);I({entityHeader:F.entityHeader,nodesCopy:A,edgesCopy:O}).finally(()=>{c(A),d(O)})}y(void 0)}},[E,l,u,I]),P.useEffect(()=>{const{nodes:$,edges:F}=aM(l,u,"TB");Vg($,p)||(f($),i&&i($)),Vg(F,v)||(g(F),o&&o(F))},[l,u,p,v,f,g,x,R,t,i,o]);const N=P.useCallback($=>{$&&typeof $.deltaX<"u"&&typeof $.deltaY<"u"&&window.scrollTo(window.scrollX+$.deltaX,window.scrollY+$.deltaY)},[]);return m("div",{className:"bootstrap-4-backport ProvenanceWidget",role:"graphics-doc",style:{width:"100%",height:n},children:m(iS,{defaultViewport:{x:0,y:0,zoom:uc},nodes:p,edges:v,onNodeClick:q,onNodesChange:h,onEdgesChange:b,attributionPosition:"bottom-right",onConnect:void 0,zoomOnScroll:!1,onPaneScroll:N,children:m(qq,{})})})},Td=e=>m(gb,{children:m(ih,{children:m(hM,{...e})})});try{Td.displayName="ProvenanceGraph",Td.__docgenInfo={description:"",displayName:"ProvenanceGraph",props:{entityRefs:{defaultValue:null,description:"",name:"entityRefs",required:!0,type:{name:"ReferenceList"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!1,type:{name:"string"}},initialNodes:{defaultValue:null,description:"",name:"initialNodes",required:!1,type:{name:"Node[]"}},initialEdges:{defaultValue:null,description:"",name:"initialEdges",required:!1,type:{name:"Edge[]"}},onNodesChangedListener:{defaultValue:null,description:"",name:"onNodesChangedListener",required:!1,type:{name:"((nodes: Node[]) => void)"}},onEdgesChangedListener:{defaultValue:null,description:"",name:"onEdgesChangedListener",required:!1,type:{name:"((edges: Edge[]) => void)"}}}}}catch{}function Rd(e){const{entityList:t,displayHeightPx:n}=e,a=t.split(",").map(i=>{const o=i.split("/version/");return{targetId:o[0],targetVersionNumber:o.length>1?parseInt(o[1]):void 0}}),r=n?`${n}px`:void 0;return m(Td,{entityRefs:a,containerHeight:r})}try{Rd.displayName="MarkdownProvenanceGraph",Rd.__docgenInfo={description:"",displayName:"MarkdownProvenanceGraph",props:{entityList:{defaultValue:null,description:"",name:"entityList",required:!0,type:{name:"string"}},displayHeightPx:{defaultValue:null,description:"",name:"displayHeightPx",required:!0,type:{name:"string"}}}}}catch{}class li extends P.Component{constructor(t){super(t),this.getEntity=this.getEntity.bind(this),this.getSynapseFiles=this.getSynapseFiles.bind(this),this.state={preSignedURL:""}}getEntity(){const{synapseId:t}=this.props;t&&Ya(this.context.accessToken,t).then(n=>{const a=[{associateObjectId:t,associateObjectType:sr.FileEntity,fileHandleId:n.dataFileHandleId}];this.getSynapseFiles(a,n.dataFileHandleId)})}getSynapseFiles(t,n){$s({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:t},this.context.accessToken).then(r=>{const{preSignedURL:i}=r.requestedFiles.filter(o=>o.fileHandleId===n)[0];this.setState({preSignedURL:i})}).catch(r=>{console.error("Error on getting image ",r)})}componentDidMount(){if(!this.props.wikiId)this.getEntity();else{const{fileName:t,fileResults:n=[]}=this.props,{id:a}=n.filter(i=>i.fileName===t)[0],r=[{associateObjectId:this.props.wikiId,associateObjectType:sr.WikiAttachment,fileHandleId:a}];this.getSynapseFiles(r,a)}}render(){const{params:t}=this.props,{align:n="",altText:a="synapse image"}=t;let r="auto";t.scale&&t.scale!=="100"&&(r=`${Number(t.scale)}%`);const i=n.toLowerCase();let o="";i==="left"&&(o="floatLeft"),i==="right"&&(o="floatright"),i==="center"&&(o="align-center");const s={width:r,height:r};return this.state.preSignedURL?m(P.Fragment,{children:m("img",{alt:a,className:"img-fluid  "+o,src:this.state.preSignedURL,style:s})}):null}}je(li,"contextType",Ni);try{li.displayName="SynapseImage",li.__docgenInfo={description:"",displayName:"SynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},fileResults:{defaultValue:null,description:"",name:"fileResults",required:!1,type:{name:"FileHandle[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ align: string; scale: string; responsive: string; altText: string; }"}}}}}catch{}const ui=z.createContext(void 0),Pd=({children:e,wikiContext:t})=>m(ui.Provider,{value:t,children:e}),Bg=ui.Consumer;function f_(){return P.useContext(ui)??{}}try{ui.displayName="SynapseWikiContext",ui.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseWikiContext",props:{}}}catch{}try{Pd.displayName="SynapseWikiContextProvider",Pd.__docgenInfo={description:"Provides context related to Synapse Wikis",displayName:"SynapseWikiContextProvider",props:{wikiContext:{defaultValue:null,description:"",name:"wikiContext",required:!1,type:{name:"SynapseWikiContextType"}}}}}catch{}try{Bg.displayName="SynapseWikiContextConsumer",Bg.__docgenInfo={description:"",displayName:"SynapseWikiContextConsumer",props:{}}}catch{}function Ad(e){const{wikiId:t,wikiPage:n,fileHandles:a}=f_();return e.fileName?a?m(li,{params:e,fileName:e.fileName,wikiId:t||(n==null?void 0:n.id),fileResults:a.list}):m(Q,{}):e.synapseId?m(li,{params:e,synapseId:e.synapseId}):m(Q,{})}try{Ad.displayName="MarkdownSynapseImage",Ad.__docgenInfo={description:"",displayName:"MarkdownSynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},align:{defaultValue:null,description:"",name:"align",required:!0,type:{name:"string"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"string"}},responsive:{defaultValue:null,description:"",name:"responsive",required:!0,type:{name:"string"}},altText:{defaultValue:null,description:"",name:"altText",required:!0,type:{name:"string"}}}}}catch{}const mM=Jb(ew);class rs extends P.Component{constructor(t){super(t),this.state={isLoaded:!1,queryData:{}},this.fetchPlotlyData=this.fetchPlotlyData.bind(this),this.showPlot=this.showPlot.bind(this)}componentDidMount(){this.fetchPlotlyData()}fetchPlotlyData(){const{query:t}=this.props.widgetparamsMapped,n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:pa,entityId:rn(t),query:{sql:t}};bb(n,this.context.accessToken).then(a=>{this.setState({isLoaded:!0,queryData:a})}).catch(a=>{console.log("Error on full table query ",a)})}showPlot(){var f,h;if(!this.state.isLoaded)return;const{title:t,xtitle:n,ytitle:a,type:r,xaxistype:i,showlegend:o}=this.props.widgetparamsMapped,s=this.state,l=this.props.widgetparamsMapped.horizontal.toLowerCase(),c={showlegend:o,title:t};n&&(c.xaxis={title:n}),i&&(c.xaxis={...c.xaxis,xaxistype:i.toLowerCase()}),a&&(c.yaxis={title:a});const u=[],d=l?"v":"h",p=((f=s.queryData.queryResult)==null?void 0:f.queryResults.headers)??[];for(let v=0;v<p.length-1;v+=1)u[v]={orientation:d,name:p[v+1].name,type:r.toLowerCase(),x:[],y:[]};for(const v of((h=s.queryData.queryResult)==null?void 0:h.queryResults.rows)??[])for(let g=1;g<v.values.length;g+=1){const b=v.values;u[g-1].x.push(b[0]),u[g-1].y.push(b[g])}return m(mM,{layout:c,data:u})}render(){return this.state.isLoaded?this.showPlot():null}}je(rs,"contextType",Ni);try{rs.displayName="SynapsePlot",rs.__docgenInfo={description:"",displayName:"SynapsePlot",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},widgetparamsMapped:{defaultValue:null,description:"",name:"widgetparamsMapped",required:!1,type:{name:"any"}}}}}catch{}function kd(e){const{ownerId:t,wikiId:n,wikiPage:a}=f_();return m(rs,{ownerId:t,wikiId:n||(a==null?void 0:a.id),widgetparamsMapped:e})}try{kd.displayName="MarkdownSynapsePlot",kd.__docgenInfo={description:"",displayName:"MarkdownSynapsePlot",props:{}}}catch{}const vM=200,Ug="ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME",zg="ESTIMATED_DOWNLOAD_SPEED",gM="syn12600511",yM=e=>new Promise((t,n)=>{const a=localStorage.getItem(Ug),r=localStorage.getItem(zg);if(a&&r&&new Date().getTime()<Number(a)){t(Number(r));return}Ya(e,gM).then(i=>{const o=i,l={includeFileHandles:!0,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:o.id,associateObjectType:sr.FileEntity,fileHandleId:o.dataFileHandleId}]};$s(l,e).then(c=>{const u=c.requestedFiles[0].preSignedURL,d=c.requestedFiles[0].fileHandle,p=new Date().getTime();return QC(d,u).then(()=>{const f=d.contentSize/((new Date().getTime()-p-vM)/1e3),h=new Date().getTime();localStorage.setItem(Ug,(h+1e3*60*5).toString()),localStorage.setItem(zg,f.toString()),t(f)})})}).catch(i=>n(i))}),gn=e=>m(mn,{style:{...e.style,display:"inline-block"},...e});try{gn.displayName="SkeletonInlineBlock",gn.__docgenInfo={description:"Skeleton with a display value of `inline-block`. MUI applies `display: block` with high specificity, so it's easiest to just apply the style to the component.",displayName:"SkeletonInlineBlock",props:{animation:{defaultValue:{value:"'pulse'"},description:"The animation.\nIf `false` the animation effect is disabled.",name:"animation",required:!1,type:{name:'false | "pulse" | "wave"'}},children:{defaultValue:null,description:"Optional children to infer width and height from.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SkeletonClasses> & Partial<ClassNameMap<never>>)"}},height:{defaultValue:null,description:`Height of the skeleton.
Useful when you don't want to adapt the skeleton to a text element but for instance a card.`,name:"height",required:!1,type:{name:"string | number"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},variant:{defaultValue:{value:"'text'"},description:"The type of content that will be rendered.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"rounded"'},{value:'"rectangular"'},{value:'"circular"'}]}},width:{defaultValue:null,description:`Width of the skeleton.
Useful when the skeleton is inside an inline element with no width of its own.`,name:"width",required:!1,type:{name:"string | number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}}}}}catch{}var p_={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Yr,function(){var n,a,r=1e3,i=6e4,o=36e5,s=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,p={years:c,months:u,days:s,hours:o,minutes:i,seconds:r,milliseconds:1,weeks:6048e5},f=function(w){return w instanceof _},h=function(w,S,C){return new _(w,C,S.$l)},v=function(w){return a.p(w)+"s"},g=function(w){return w<0},b=function(w){return g(w)?Math.ceil(w):Math.floor(w)},E=function(w){return Math.abs(w)},y=function(w,S){return w?g(w)?{negative:!0,format:""+E(w)+S}:{negative:!1,format:""+w+S}:{negative:!1,format:""}},_=function(){function w(C,x,T){var R=this;if(this.$d={},this.$l=T,C===void 0&&(this.$ms=0,this.parseFromMilliseconds()),x)return h(C*p[v(x)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function(I){R.$d[v(I)]=C[I]}),this.calMilliseconds(),this;if(typeof C=="string"){var q=C.match(d);if(q){var k=q.slice(2).map(function(I){return I!=null?Number(I):0});return this.$d.years=k[0],this.$d.months=k[1],this.$d.weeks=k[2],this.$d.days=k[3],this.$d.hours=k[4],this.$d.minutes=k[5],this.$d.seconds=k[6],this.calMilliseconds(),this}}return this}var S=w.prototype;return S.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(x,T){return x+(C.$d[T]||0)*p[T]},0)},S.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=b(C/c),C%=c,this.$d.months=b(C/u),C%=u,this.$d.days=b(C/s),C%=s,this.$d.hours=b(C/o),C%=o,this.$d.minutes=b(C/i),C%=i,this.$d.seconds=b(C/r),C%=r,this.$d.milliseconds=C},S.toISOString=function(){var C=y(this.$d.years,"Y"),x=y(this.$d.months,"M"),T=+this.$d.days||0;this.$d.weeks&&(T+=7*this.$d.weeks);var R=y(T,"D"),q=y(this.$d.hours,"H"),k=y(this.$d.minutes,"M"),I=this.$d.seconds||0;this.$d.milliseconds&&(I+=this.$d.milliseconds/1e3);var N=y(I,"S"),$=C.negative||x.negative||R.negative||q.negative||k.negative||N.negative,F=q.format||k.format||N.format?"T":"",A=($?"-":"")+"P"+C.format+x.format+R.format+F+q.format+k.format+N.format;return A==="P"||A==="-P"?"P0D":A},S.toJSON=function(){return this.toISOString()},S.format=function(C){var x=C||"YYYY-MM-DDTHH:mm:ss",T={Y:this.$d.years,YY:a.s(this.$d.years,2,"0"),YYYY:a.s(this.$d.years,4,"0"),M:this.$d.months,MM:a.s(this.$d.months,2,"0"),D:this.$d.days,DD:a.s(this.$d.days,2,"0"),H:this.$d.hours,HH:a.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:a.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:a.s(this.$d.seconds,2,"0"),SSS:a.s(this.$d.milliseconds,3,"0")};return x.replace(l,function(R,q){return q||String(T[R])})},S.as=function(C){return this.$ms/p[v(C)]},S.get=function(C){var x=this.$ms,T=v(C);return T==="milliseconds"?x%=1e3:x=T==="weeks"?b(x/p[T]):this.$d[T],x===0?0:x},S.add=function(C,x,T){var R;return R=x?C*p[v(x)]:f(C)?C.$ms:h(C,this).$ms,h(this.$ms+R*(T?-1:1),this)},S.subtract=function(C,x){return this.add(C,x,!0)},S.locale=function(C){var x=this.clone();return x.$l=C,x},S.clone=function(){return h(this.$ms,this)},S.humanize=function(C){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},S.milliseconds=function(){return this.get("milliseconds")},S.asMilliseconds=function(){return this.as("milliseconds")},S.seconds=function(){return this.get("seconds")},S.asSeconds=function(){return this.as("seconds")},S.minutes=function(){return this.get("minutes")},S.asMinutes=function(){return this.as("minutes")},S.hours=function(){return this.get("hours")},S.asHours=function(){return this.as("hours")},S.days=function(){return this.get("days")},S.asDays=function(){return this.as("days")},S.weeks=function(){return this.get("weeks")},S.asWeeks=function(){return this.as("weeks")},S.months=function(){return this.get("months")},S.asMonths=function(){return this.as("months")},S.years=function(){return this.get("years")},S.asYears=function(){return this.as("years")},w}();return function(w,S,C){n=C,a=C().$utils(),C.duration=function(R,q){var k=C.locale();return h(R,{$l:k},q)},C.isDuration=f;var x=S.prototype.add,T=S.prototype.subtract;S.prototype.add=function(R,q){return f(R)&&(R=R.asMilliseconds()),x.bind(this)(R,q)},S.prototype.subtract=function(R,q){return f(R)&&(R=R.asMilliseconds()),T.bind(this)(R,q)}}})})(p_);var bM=p_.exports;const wM=Nt(bM);var h_={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Yr,function(){return function(n,a,r){n=n||{};var i=a.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,u,d,p){return i.fromToBase(c,u,d,p)}r.en.relativeTime=o,i.fromToBase=function(c,u,d,p,f){for(var h,v,g,b=d.$locale().relativeTime||o,E=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],y=E.length,_=0;_<y;_+=1){var w=E[_];w.d&&(h=p?r(c).diff(d,w.d,!0):d.diff(c,w.d,!0));var S=(n.rounding||Math.round)(Math.abs(h));if(g=h>0,S<=w.r||!w.r){S<=1&&_>0&&(w=E[_-1]);var C=b[w.l];f&&(S=f(""+S)),v=typeof C=="string"?C.replace("%d",S):C(S,u,w.l,g);break}}if(u)return v;var x=g?b.future:b.past;return typeof x=="function"?x(v):x.replace("%s",v)},i.to=function(c,u){return s(c,u,this,!0)},i.from=function(c,u){return s(c,u,this)};var l=function(c){return c.$u?r.utc():r()};i.toNow=function(c){return this.to(l(this),c)},i.fromNow=function(c){return this.from(l(this),c)}}})})(h_);var SM=h_.exports;const _M=Nt(SM);ur.extend(wM);ur.extend(_M);function $d(e){const{numFiles:t,numBytes:n}=e,{accessToken:a}=ze(),[r,i]=P.useState({isLoading:!!n,downloadSpeed:0}),{isLoading:o,downloadSpeed:s}=r;P.useEffect(()=>{a&&yM(a).then(h=>{i({isLoading:!1,downloadSpeed:h})})},[a]);const l=o||s===0||!n?0:n/s,c=l===0,u=c?"":ur.duration({seconds:l}).humanize(),d=t===0,p=d?"SRC-inactive":"SRC-primary-text-color",f=c?"SRC-inactive":"SRC-primary-text-color";return L("span",{className:"download-details-container",children:[L("span",{children:[m("span",{className:p,children:m(Fe,{icon:"file"})}),d?m(gn,{width:50}):L(Q,{children:[" ",t," files "]})]}),n&&m(Et,{title:"This is the total size of all files. Zipped package(s) will likely be smaller.",enterNextDelay:Do,placement:"top",children:L("span",{"data-testid":"numBytesUI",children:[m("span",{className:f,children:m(Fe,{icon:"database"})}),c?m(gn,{width:50}):wb(n)]})}),n&&m(Et,{title:"This is an estimate of how long package download will take.",enterNextDelay:Do,placement:"top",children:L("span",{"data-testid":"downloadTimeEstimateUI",children:[m("span",{className:f,children:m(Fe,{icon:"clock"})}),o&&t>0?m(gn,{width:50}):u]})})]})}try{$d.displayName="DownloadDetails",$d.__docgenInfo={description:`Displays download information including number of files, size of download, and time to download.
Prefer to use {@link download_list_v2 /DownloadDetails} instead, particularly when you have information about file packaging in/eligibility`,displayName:"DownloadDetails",props:{numFiles:{defaultValue:null,description:"",name:"numFiles",required:!0,type:{name:"number"}},numBytes:{defaultValue:null,description:"",name:"numBytes",required:!1,type:{name:"number"}}}}}catch{}const fr="isShowingFacetFilters",er="isHidingFacetFilters",In=P.createContext(void 0),ns=({children:e,queryContext:t})=>m(In.Provider,{value:t,children:e});function gt(){const e=P.useContext(In);if(e===void 0)throw new Error("useQueryContext must be used within a QueryWrapper");return e}function EM(){const e=P.useContext(In);if(e===void 0)throw new Error("usePaginatedQueryContext must be used within a QueryWrapper");return e}function CM(){const e=P.useContext(In);if(e===void 0)throw new Error("useInfiniteQueryContext must be used within a QueryWrapper");return e}const ci=In.Consumer;try{In.displayName="QueryContext",In.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryContext",props:{}}}catch{}try{ns.displayName="QueryContextProvider",ns.__docgenInfo={description:"Provides data related to a Synapse table query, and functions for iterating through pages of the data.",displayName:"QueryContextProvider",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}}}}}catch{}try{ci.displayName="QueryContextConsumer",ci.__docgenInfo={description:"",displayName:"QueryContextConsumer",props:{}}}catch{}async function xM(e,t,n,a,r){try{const i={query:n==null?void 0:n.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:a};return await YC(i,e),Xr("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:r}}),t(),[0,""]}catch(i){return Xr(i.reason,"danger"),t(),[0,""]}}const Ha={[2]:{className:"alert-info",infoText:"Would you like to add all files to the download cart?",closeText:"Cancel"},[3]:{className:"alert-info",infoText:L(Q,{children:["Note: Files that you add will be mixed in with the files already in your download cart.",m("br",{}),"If you don’t want to mix these files, clear your download cart before continuing."]}),closeText:"Cancel"},[1]:{className:"alert-info",infoText:"Adding Files To List",closeText:"Cancel"},[0]:{className:"alert-info",infoText:"Calculating File Size",closeText:"Cancel"},[4]:{className:"alert-danger",closeText:"Close",infoText:L(Q,{children:["Please ",m(GC,{style:{color:"#337ab7"}})," to add files to your download cart."]})}},NM=e=>{switch(e.status){case 0:case 1:return L("div",{children:[m("span",{className:"spinner white"}),m("span",{className:"spinner__text",children:Ha[e.status].infoText})]});case 4:return m(Q,{children:Ha[e.status].infoText});case 2:case 3:return L(Q,{children:[m($d,{numFiles:e.fileCount,numBytes:e.fileSize}),m("span",{className:"download-confirmation-infoText",children:Ha[e.status].infoText})]});default:return m(Q,{})}},qd=({getLastQueryRequest:e,folderId:t,fnClose:n,setTopLevelControlsState:a,topLevelControlsState:r})=>{const{accessToken:i,downloadCartPageUrl:o}=ze(),{showDownloadConfirmation:s=!0}=r??{},[l,c]=P.useState(i?0:4),[u,d]=P.useState(0),[p,f]=P.useState(),{data:h,refetch:v}=px(),g=e(),[b,E]=P.useState(!1),y=P.useCallback((k,I,N)=>{if(i&&N){const $=N.totalNumberOfFiles>0,F=k??0;c($?3:2),d(F),f(I)}},[i]),{data:_,isSuccess:w}=TI({parentId:t,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[Mc.FILE]});Oo(()=>{w&&_&&h&&y(_.totalChildCount,_.sumFileSizesBytes,h)},[y,t,w,_,h]);const S=ha|Sp,C={...g,partMask:S},{data:x}=nw(C);Oo(()=>{var k,I;if(x&&h){const N=(k=x.sumFileSizes)==null?void 0:k.greaterThan;y(x.queryCount,N||(I=x.sumFileSizes)==null?void 0:I.sumFileSizesBytes,h)}},[y,g,x,h]);const T=n?()=>n():()=>{a&&a(k=>({...k,showDownloadConfirmation:!1}))},R=async()=>{if(!i)c(4);else{c(1);const N=(await xM(i,T,g,t,()=>E(!0)))[0];c(N),v()}};b&&(window.location.href=o);const q=r==null?void 0:r.showFacetFilter;return m(Q,{children:L(xp,{dismissible:!1,show:!0,variant:"info",transition:!1,className:`download-confirmation ${Ha[l].className} ${s?"":"hidden"}
          ${q?fr:er}
        `,children:[m(NM,{status:l,fileCount:u,fileSize:p}),L("div",{className:"download-confirmation-action",children:[l!==1&&m("button",{className:"btn btn-link",onClick:T,children:Ha[l].closeText}),(l===2||l===3)&&m("button",{type:"button",className:"btn btn-primary",onClick:()=>{R()},children:"Add"})]})]})})};try{qd.displayName="DownloadConfirmation",qd.__docgenInfo={description:"",displayName:"DownloadConfirmation",props:{fnClose:{defaultValue:null,description:"",name:"fnClose",required:!1,type:{name:"(() => void)"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},folderId:{defaultValue:null,description:"",name:"folderId",required:!1,type:{name:"string"}},topLevelControlsState:{defaultValue:null,description:"",name:"topLevelControlsState",required:!1,type:{name:"TopLevelControlsState"}},setTopLevelControlsState:{defaultValue:null,description:"",name:"setTopLevelControlsState",required:!1,type:{name:"Dispatch<SetStateAction<TopLevelControlsState>>"}}}}}catch{}function IM(){return L(Q,{children:[m("p",{className:"SRC-no-results-title",children:"There is currently no content here."}),m("p",{className:"SRC-no-results-description",children:"Information is always being updated, so check back later to see if content has been added."})]})}var Qr=(e=>(e.INTERACTIVE="INTERACTIVE",e.STATIC="STATIC",e))(Qr||{});function TM(){return L("div",{className:"text-center",children:[vx,m("h4",{children:"No Matching Results"}),m("p",{children:"Try checking the spelling or removing filters."})]})}function RM(){return L("div",{className:"text-center SRCBorderedPanel SRCBorderedPanel--padded2x",children:[gx,m("div",{style:{marginTop:"20px",fontStyle:"italic"},children:"This table is currently empty"})]})}const PM=()=>{try{return JSON.parse(sessionStorage.getItem(c1)||"")}catch{return[]}},AM=()=>{try{return JSON.parse(sessionStorage.getItem(d1)||"")}catch{return[]}},kM=()=>{try{return JSON.parse(sessionStorage.getItem(f1)||"")}catch{return[]}},$M=e=>{const t=PM().find(n=>n.id===e);return(t==null?void 0:t.name)??e},qM=e=>{const t=kM().find(n=>n.id===e);return(t==null?void 0:t.name)||e},FM=e=>{const t=AM().find(n=>n.ownerId===e);return(t==null?void 0:t.userName)||e},DM=(e,t)=>{if(e===Xa)return qs;switch(t){case pe.ENTITYID:case pe.ENTITYID_LIST:return $M(e);case pe.USERID:case pe.USERID_LIST:return FM(e);case pe.EVALUATIONID:return qM(e);default:return e}},di=P.createContext(void 0),Fd=({children:e,queryVisualizationContext:t})=>m(di.Provider,{value:t,children:e});function ht(){const e=P.useContext(di);if(e===void 0)throw new Error("useQueryVisualizationContext must be used within a QueryWrapper");return e}const as=di.Consumer;function fi(e){const{noContentPlaceholderType:t=Qr.INTERACTIVE}=e,{data:n,getLastQueryRequest:a,isFacetsAvailable:r,isLoadingNewBundle:i,hasResettableFilters:o}=gt(),{columnAliases:s={}}=e,[l,c]=P.useState({showColumnFilter:!0,showFacetFilter:!0,showFacetVisualization:e.defaultShowFacetVisualization??!0,showSearchBar:e.defaultShowSearchBar??!1,showDownloadConfirmation:!1,showColumnSelectDropdown:!1,showSqlEditor:!1});P.useEffect(()=>{r||c(_=>({..._,showFacetFilter:!1,showFacetVisualization:!1}))},[r]),P.useEffect(()=>{i&&f([])},[i]);const[u,d]=P.useState([]),[p,f]=P.useState([]),h=a(),v=fx(n==null?void 0:n.selectColumns);P.useEffect(()=>{d((v==null?void 0:v.slice(0,e.visibleColumnCount??1/0).map(_=>_.name))??[])},[v,h.query.sql,e.visibleColumnCount]);const g=P.useCallback(_=>{const w=localStorage.getItem("force-display-original-column-names")==="true";return!_||w?_:s[_]?s[_]:ix(_)},[s]),b=P.useCallback(()=>{switch(t){case Qr.INTERACTIVE:return o?m(TM,{}):m(RM,{});case Qr.STATIC:default:return m(IM,{})}},[t,o]),E={topLevelControlsState:l,setTopLevelControlsState:c,columnsToShowInTable:u,setColumnsToShowInTable:d,selectedRowIndices:p,setSelectedRowIndices:f,rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,showLastUpdatedOn:e.showLastUpdatedOn,getColumnDisplayName:g,getDisplayValue:DM,NoContentPlaceholder:b},{children:y}=e;return m(Fd,{queryVisualizationContext:E,children:y})}try{fi.displayName="QueryVisualizationWrapper",fi.__docgenInfo={description:`QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed
or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.`,displayName:"QueryVisualizationWrapper",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},hiddenColumns:{defaultValue:null,description:"",name:"hiddenColumns",required:!1,type:{name:"string[]"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},defaultShowSearchBar:{defaultValue:null,description:"",name:"defaultShowSearchBar",required:!1,type:{name:"boolean"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}}}}}catch{}try{di.displayName="QueryVisualizationContext",di.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryVisualizationContext",props:{}}}catch{}try{Fd.displayName="QueryVisualizationContextProvider",Fd.__docgenInfo={description:"Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.",displayName:"QueryVisualizationContextProvider",props:{queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{as.displayName="QueryVisualizationContextConsumer",as.__docgenInfo={description:"",displayName:"QueryVisualizationContextConsumer",props:{}}}catch{}const cc=3,is=({helpMessage:e="This search bar is powered by MySQL Full Text Search.",helpUrl:t})=>{const{executeQueryRequest:n,getLastQueryRequest:a}=gt(),{topLevelControlsState:{showSearchBar:r,showFacetFilter:i}}=ht(),[o,s]=P.useState(""),l=P.useRef(null),c=d=>{var p;if(d.preventDefault(),o.trim().length<cc)(p=l.current)==null||p.setCustomValidity(`Search term must have a minimum of ${cc} characters`);else{const f=a(),{additionalFilters:h=[]}=f.query,v={concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:o};if(h.find(b=>b.concreteType==v.concreteType&&b.searchExpression==v.searchExpression))return;h.push(v),f.query.additionalFilters=h,n(f),s("")}},u=d=>{var p;(p=l.current)==null||p.setCustomValidity(""),s(d.currentTarget.value)};return m("div",{className:`QueryWrapperSearchInput ${i?fr:er}`,children:m(Ii,{in:r,timeout:{enter:300,exit:300},children:L("div",{className:"QueryWrapperSearchInput__helppopoverwrapper",children:[L("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:c,children:[m("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:m(Fe,{icon:"search"})}),m("input",{ref:l,minLength:cc,onChange:u,placeholder:"Enter Search Terms",value:o,type:"text"}),o.length>0&&m("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{s("")},children:m(Fe,{icon:"close"})})]}),m("div",{className:"QueryWrapperSearchInput__helppopover",children:m(Rn,{markdownText:e,helpUrl:t,placement:"left"})})]})})})};try{is.displayName="FullTextSearch",is.__docgenInfo={description:"",displayName:"FullTextSearch",props:{helpMessage:{defaultValue:{value:"This search bar is powered by MySQL Full Text Search."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}var uo=function(e){return e&&e.Math==Math&&e},qn=uo(typeof globalThis=="object"&&globalThis)||uo(typeof window=="object"&&window)||uo(typeof self=="object"&&self)||uo(typeof Yr=="object"&&Yr)||function(){return this}()||Function("return this")(),an=function(e){try{return!!e()}catch{return!0}},OM=an,ll=!OM(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),LM=ll,m_=Function.prototype,Hg=m_.apply,Wg=m_.call,VM=typeof Reflect=="object"&&Reflect.apply||(LM?Wg.bind(Hg):function(){return Wg.apply(Hg,arguments)}),v_=ll,g_=Function.prototype,Dd=g_.call,MM=v_&&g_.bind.bind(Dd,Dd),Sa=v_?MM:function(e){return function(){return Dd.apply(e,arguments)}},y_=Sa,BM=y_({}.toString),UM=y_("".slice),b_=function(e){return UM(BM(e),8,-1)},zM=b_,HM=Sa,w_=function(e){if(zM(e)==="Function")return HM(e)},Od=typeof document=="object"&&document.all,WM=typeof Od>"u"&&Od!==void 0,S_={all:Od,IS_HTMLDDA:WM},__=S_,jM=__.all,Fn=__.IS_HTMLDDA?function(e){return typeof e=="function"||e===jM}:function(e){return typeof e=="function"},E_={},QM=an,Fi=!QM(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),GM=ll,co=Function.prototype.call,vh=GM?co.bind(co):function(){return co.apply(co,arguments)},C_={},x_={}.propertyIsEnumerable,N_=Object.getOwnPropertyDescriptor,YM=N_&&!x_.call({1:2},1);C_.f=YM?function(t){var n=N_(this,t);return!!n&&n.enumerable}:x_;var I_=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},XM=Sa,KM=an,ZM=b_,dc=Object,JM=XM("".split),e3=KM(function(){return!dc("z").propertyIsEnumerable(0)})?function(e){return ZM(e)=="String"?JM(e,""):dc(e)}:dc,T_=function(e){return e==null},t3=T_,r3=TypeError,R_=function(e){if(t3(e))throw r3("Can't call method on "+e);return e},n3=e3,a3=R_,P_=function(e){return n3(a3(e))},jg=Fn,A_=S_,i3=A_.all,ul=A_.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:jg(e)||e===i3}:function(e){return typeof e=="object"?e!==null:jg(e)},k_={},fc=k_,pc=qn,o3=Fn,Qg=function(e){return o3(e)?e:void 0},$_=function(e,t){return arguments.length<2?Qg(fc[e])||Qg(pc[e]):fc[e]&&fc[e][t]||pc[e]&&pc[e][t]},s3=Sa,l3=s3({}.isPrototypeOf),u3=typeof navigator<"u"&&String(navigator.userAgent)||"",q_=qn,hc=u3,Gg=q_.process,Yg=q_.Deno,Xg=Gg&&Gg.versions||Yg&&Yg.version,Kg=Xg&&Xg.v8,Ht,os;Kg&&(Ht=Kg.split("."),os=Ht[0]>0&&Ht[0]<4?1:+(Ht[0]+Ht[1]));!os&&hc&&(Ht=hc.match(/Edge\/(\d+)/),(!Ht||Ht[1]>=74)&&(Ht=hc.match(/Chrome\/(\d+)/),Ht&&(os=+Ht[1])));var c3=os,Zg=c3,d3=an,F_=!!Object.getOwnPropertySymbols&&!d3(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Zg&&Zg<41}),f3=F_,D_=f3&&!Symbol.sham&&typeof Symbol.iterator=="symbol",p3=$_,h3=Fn,m3=l3,v3=D_,g3=Object,O_=v3?function(e){return typeof e=="symbol"}:function(e){var t=p3("Symbol");return h3(t)&&m3(t.prototype,g3(e))},y3=String,b3=function(e){try{return y3(e)}catch{return"Object"}},w3=Fn,S3=b3,_3=TypeError,L_=function(e){if(w3(e))return e;throw _3(S3(e)+" is not a function")},E3=L_,C3=T_,x3=function(e,t){var n=e[t];return C3(n)?void 0:E3(n)},mc=vh,vc=Fn,gc=ul,N3=TypeError,I3=function(e,t){var n,a;if(t==="string"&&vc(n=e.toString)&&!gc(a=mc(n,e))||vc(n=e.valueOf)&&!gc(a=mc(n,e))||t!=="string"&&vc(n=e.toString)&&!gc(a=mc(n,e)))return a;throw N3("Can't convert object to primitive value")},V_={exports:{}},Jg=qn,T3=Object.defineProperty,R3=function(e,t){try{T3(Jg,e,{value:t,configurable:!0,writable:!0})}catch{Jg[e]=t}return t},P3=qn,A3=R3,ey="__core-js_shared__",k3=P3[ey]||A3(ey,{}),$3=k3,ty=$3;(V_.exports=function(e,t){return ty[e]||(ty[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.27.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var q3=V_.exports,F3=R_,D3=Object,M_=function(e){return D3(F3(e))},O3=Sa,L3=M_,V3=O3({}.hasOwnProperty),gh=Object.hasOwn||function(t,n){return V3(L3(t),n)},M3=Sa,B3=0,U3=Math.random(),z3=M3(1 .toString),H3=function(e){return"Symbol("+(e===void 0?"":e)+")_"+z3(++B3+U3,36)},W3=qn,j3=q3,ry=gh,Q3=H3,G3=F_,Y3=D_,Qn=W3.Symbol,yc=j3("wks"),X3=Y3?Qn.for||Qn:Qn&&Qn.withoutSetter||Q3,K3=function(e){return ry(yc,e)||(yc[e]=G3&&ry(Qn,e)?Qn[e]:X3("Symbol."+e)),yc[e]},Z3=vh,ny=ul,ay=O_,J3=x3,e4=I3,t4=K3,r4=TypeError,n4=t4("toPrimitive"),a4=function(e,t){if(!ny(e)||ay(e))return e;var n=J3(e,n4),a;if(n){if(t===void 0&&(t="default"),a=Z3(n,e,t),!ny(a)||ay(a))return a;throw r4("Can't convert object to primitive value")}return t===void 0&&(t="number"),e4(e,t)},i4=a4,o4=O_,B_=function(e){var t=i4(e,"string");return o4(t)?t:t+""},s4=qn,iy=ul,Ld=s4.document,l4=iy(Ld)&&iy(Ld.createElement),u4=function(e){return l4?Ld.createElement(e):{}},c4=Fi,d4=an,f4=u4,U_=!c4&&!d4(function(){return Object.defineProperty(f4("div"),"a",{get:function(){return 7}}).a!=7}),p4=Fi,h4=vh,m4=C_,v4=I_,g4=P_,y4=B_,b4=gh,w4=U_,oy=Object.getOwnPropertyDescriptor;E_.f=p4?oy:function(t,n){if(t=g4(t),n=y4(n),w4)try{return oy(t,n)}catch{}if(b4(t,n))return v4(!h4(m4.f,t,n),t[n])};var S4=an,_4=Fn,E4=/#|\.prototype\./,Di=function(e,t){var n=x4[C4(e)];return n==I4?!0:n==N4?!1:_4(t)?S4(t):!!t},C4=Di.normalize=function(e){return String(e).replace(E4,".").toLowerCase()},x4=Di.data={},N4=Di.NATIVE="N",I4=Di.POLYFILL="P",T4=Di,sy=w_,R4=L_,P4=ll,A4=sy(sy.bind),k4=function(e,t){return R4(e),t===void 0?e:P4?A4(e,t):function(){return e.apply(t,arguments)}},z_={},$4=Fi,q4=an,F4=$4&&q4(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),D4=ul,O4=String,L4=TypeError,V4=function(e){if(D4(e))return e;throw L4(O4(e)+" is not an object")},M4=Fi,B4=U_,U4=F4,fo=V4,ly=B_,z4=TypeError,bc=Object.defineProperty,H4=Object.getOwnPropertyDescriptor,wc="enumerable",Sc="configurable",_c="writable";z_.f=M4?U4?function(t,n,a){if(fo(t),n=ly(n),fo(a),typeof t=="function"&&n==="prototype"&&"value"in a&&_c in a&&!a[_c]){var r=H4(t,n);r&&r[_c]&&(t[n]=a.value,a={configurable:Sc in a?a[Sc]:r[Sc],enumerable:wc in a?a[wc]:r[wc],writable:!1})}return bc(t,n,a)}:bc:function(t,n,a){if(fo(t),n=ly(n),fo(a),B4)try{return bc(t,n,a)}catch{}if("get"in a||"set"in a)throw z4("Accessors not supported");return"value"in a&&(t[n]=a.value),t};var W4=Fi,j4=z_,Q4=I_,G4=W4?function(e,t,n){return j4.f(e,t,Q4(1,n))}:function(e,t,n){return e[t]=n,e},po=qn,Y4=VM,X4=w_,K4=Fn,Z4=E_.f,J4=T4,Un=k_,e5=k4,zn=G4,uy=gh,t5=function(e){var t=function(n,a,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,a)}return new e(n,a,r)}return Y4(e,this,arguments)};return t.prototype=e.prototype,t},H_=function(e,t){var n=e.target,a=e.global,r=e.stat,i=e.proto,o=a?po:r?po[n]:(po[n]||{}).prototype,s=a?Un:Un[n]||zn(Un,n,{})[n],l=s.prototype,c,u,d,p,f,h,v,g,b;for(p in t)c=J4(a?p:n+(r?".":"#")+p,e.forced),u=!c&&o&&uy(o,p),h=s[p],u&&(e.dontCallGetSet?(b=Z4(o,p),v=b&&b.value):v=o[p]),f=u&&v?v:t[p],!(u&&typeof h==typeof f)&&(e.bind&&u?g=e5(f,po):e.wrap&&u?g=t5(f):i&&K4(f)?g=X4(f):g=f,(e.sham||f&&f.sham||h&&h.sham)&&zn(g,"sham",!0),zn(s,p,g),i&&(d=n+"Prototype",uy(Un,d)||zn(Un,d,{}),zn(Un[d],p,f),e.real&&l&&(c||!l[p])&&zn(l,p,f)))},r5=Math.ceil,n5=Math.floor,a5=Math.trunc||function(t){var n=+t;return(n>0?n5:r5)(n)},i5=a5,W_=function(e){var t=+e;return t!==t||t===0?0:i5(t)},o5=W_,s5=Math.max,l5=Math.min,j_=function(e,t){var n=o5(e);return n<0?s5(n+t,0):l5(n,t)},u5=W_,c5=Math.min,d5=function(e){return e>0?c5(u5(e),9007199254740991):0},f5=d5,Q_=function(e){return f5(e.length)},p5=P_,h5=j_,m5=Q_,cy=function(e){return function(t,n,a){var r=p5(t),i=m5(r),o=h5(a,i),s;if(e&&n!=n){for(;i>o;)if(s=r[o++],s!=s)return!0}else for(;i>o;o++)if((e||o in r)&&r[o]===n)return e||o||0;return!e&&-1}},v5={includes:cy(!0),indexOf:cy(!1)},g5=H_,y5=v5.includes,b5=an,w5=b5(function(){return!Array(1).includes()});g5({target:"Array",proto:!0,forced:w5},{includes:function(t){return y5(this,t,arguments.length>1?arguments[1]:void 0)}});var S5=$_,G_=S5,_5=G_,E5=_5("Array","includes");const C5=Nt(E5);var Y_={exports:{}},Ve={};/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(Ve,"__esModule",{value:!0});var yt=typeof Symbol=="function"&&Symbol.for,yh=yt?Symbol.for("react.element"):60103,bh=yt?Symbol.for("react.portal"):60106,cl=yt?Symbol.for("react.fragment"):60107,dl=yt?Symbol.for("react.strict_mode"):60108,fl=yt?Symbol.for("react.profiler"):60114,pl=yt?Symbol.for("react.provider"):60109,hl=yt?Symbol.for("react.context"):60110,wh=yt?Symbol.for("react.async_mode"):60111,ml=yt?Symbol.for("react.concurrent_mode"):60111,vl=yt?Symbol.for("react.forward_ref"):60112,gl=yt?Symbol.for("react.suspense"):60113,x5=yt?Symbol.for("react.suspense_list"):60120,yl=yt?Symbol.for("react.memo"):60115,bl=yt?Symbol.for("react.lazy"):60116,N5=yt?Symbol.for("react.fundamental"):60117,I5=yt?Symbol.for("react.responder"):60118;function qt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yh:switch(e=e.type,e){case wh:case ml:case cl:case fl:case dl:case gl:return e;default:switch(e=e&&e.$$typeof,e){case hl:case vl:case pl:return e;default:return t}}case bl:case yl:case bh:return t}}}function X_(e){return qt(e)===ml}Ve.typeOf=qt;Ve.AsyncMode=wh;Ve.ConcurrentMode=ml;Ve.ContextConsumer=hl;Ve.ContextProvider=pl;Ve.Element=yh;Ve.ForwardRef=vl;Ve.Fragment=cl;Ve.Lazy=bl;Ve.Memo=yl;Ve.Portal=bh;Ve.Profiler=fl;Ve.StrictMode=dl;Ve.Suspense=gl;Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cl||e===ml||e===fl||e===dl||e===gl||e===x5||typeof e=="object"&&e!==null&&(e.$$typeof===bl||e.$$typeof===yl||e.$$typeof===pl||e.$$typeof===hl||e.$$typeof===vl||e.$$typeof===N5||e.$$typeof===I5)};Ve.isAsyncMode=function(e){return X_(e)||qt(e)===wh};Ve.isConcurrentMode=X_;Ve.isContextConsumer=function(e){return qt(e)===hl};Ve.isContextProvider=function(e){return qt(e)===pl};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yh};Ve.isForwardRef=function(e){return qt(e)===vl};Ve.isFragment=function(e){return qt(e)===cl};Ve.isLazy=function(e){return qt(e)===bl};Ve.isMemo=function(e){return qt(e)===yl};Ve.isPortal=function(e){return qt(e)===bh};Ve.isProfiler=function(e){return qt(e)===fl};Ve.isStrictMode=function(e){return qt(e)===dl};Ve.isSuspense=function(e){return qt(e)===gl};Y_.exports=Ve;var dy=Y_.exports,T5=J1;function R5(e,t){return T5(e,t)}var K_=R5,P5=Ob;function A5(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?P5(e,void 0,t):[]}var Z_=A5,k5=Yb,$5=Mb,q5=Bb,F5=en,D5=Us,fy=Xb,O5=Math.min;function L5(e,t,n){for(var a=n?q5:$5,r=e[0].length,i=e.length,o=i,s=Array(i),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=F5(u,D5(t))),l=O5(u.length,l),s[o]=!n&&(t||r>=120&&u.length>=120)?new k5(o&&u):void 0}u=e[0];var d=-1,p=s[0];e:for(;++d<r&&c.length<l;){var f=u[d],h=t?t(f):f;if(f=n||f!==0?f:0,!(p?fy(p,h):a(c,h,n))){for(o=i;--o;){var v=s[o];if(!(v?fy(v,h):a(e[o],h,n)))continue e}p&&p.push(h),c.push(f)}}return c}var J_=L5,V5=al;function M5(e){return V5(e)?e:[]}var eE=M5,B5=en,U5=J_,z5=nn,H5=eE,W5=kS,j5=z5(function(e){var t=W5(e),n=B5(e,H5);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?U5(n,void 0,t):[]}),tE=j5,Q5=ex,G5=jb,Y5="[object Boolean]";function X5(e){return e===!0||e===!1||G5(e)&&Q5(e)==Y5}var K5=X5,Kt=K_,Z5=fh,Sh=Ub,py=Z_,J5=PS,e6=tE,ss=$p,Ec=K5,hy=e=>Array.isArray(e)?e:[e],Bt=e=>e===void 0,ho=e=>ss(e)||Array.isArray(e)?Object.keys(e):[],Gn=(e,t)=>e.hasOwnProperty(t),sa=e=>Z5(Sh(e)),my=e=>Bt(e)||Array.isArray(e)&&e.length===0,t6=(e,t,n,a)=>t&&Gn(t,n)&&e&&Gn(e,n)&&a(e[n],t[n]),Cc=(e,t)=>Bt(e)&&t===0||Bt(t)&&e===0||Kt(e,t),r6=(e,t)=>Bt(e)&&t===!1||Bt(t)&&e===!1||Kt(e,t),vy=e=>Bt(e)||Kt(e,{})||e===!0,mo=e=>Bt(e)||Kt(e,{}),gy=e=>Bt(e)||ss(e)||e===!0||e===!1;function yy(e,t){return my(e)&&my(t)?!0:Kt(sa(e),sa(t))}function n6(e,t){return e=hy(e),t=hy(t),Kt(sa(e),sa(t))}function Po(e,t,n,a){var r=Sh(ho(e).concat(ho(t)));return mo(e)&&mo(t)?!0:mo(e)&&ho(t).length||mo(t)&&ho(e).length?!1:r.every(function(i){var o=e[i],s=t[i];return Array.isArray(o)&&Array.isArray(s)?Kt(sa(e),sa(t)):Array.isArray(o)&&!Array.isArray(s)||Array.isArray(s)&&!Array.isArray(o)?!1:t6(e,t,i,a)})}function a6(e,t,n,a){return ss(e)&&ss(t)?a(e,t):Array.isArray(e)&&Array.isArray(t)?Po(e,t,n,a):Kt(e,t)}function xc(e,t,n,a){var r=py(e,a),i=py(t,a),o=e6(r,i,a);return o.length===Math.max(r.length,i.length)}var i6={title:Kt,uniqueItems:r6,minLength:Cc,minItems:Cc,minProperties:Cc,required:yy,enum:yy,type:n6,items:a6,anyOf:xc,allOf:xc,oneOf:xc,properties:Po,patternProperties:Po,dependencies:Po},o6=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],s6=["additionalProperties","additionalItems","contains","propertyNames","not"];function Vd(e,t,n){if(n=J5(n,{ignore:[]}),vy(e)&&vy(t))return!0;if(!gy(e)||!gy(t))throw new Error("Either of the values are not a JSON schema.");if(e===t)return!0;if(Ec(e)&&Ec(t))return e===t;if(e===void 0&&t===!1||t===void 0&&e===!1||Bt(e)&&!Bt(t)||!Bt(e)&&Bt(t))return!1;var a=Sh(Object.keys(e).concat(Object.keys(t)));if(n.ignore.length&&(a=a.filter(i=>n.ignore.indexOf(i)===-1)),!a.length)return!0;function r(i,o){return Vd(i,o,n)}return a.every(function(i){var o=e[i],s=t[i];if(s6.indexOf(i)!==-1)return Vd(o,s,n);var l=i6[i];if(l||(l=Kt),Kt(o,s))return!0;if(o6.indexOf(i)===-1&&(!Gn(e,i)&&Gn(t,i)||Gn(e,i)&&!Gn(t,i)))return o===s;var c=l(o,s,i,r);if(!Ec(c))throw new Error("Comparer must return true or false");return c})}var l6=Vd;function u6(e){return Object.prototype.toString.call(e)==="[object Array]"}var _h=Array.isArray||u6;function c6(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var d6=c6,f6=d6;function p6(e){return f6(e)&&e%1===0}var h6=p6,m6=_h,v6=h6;function g6(e){var t;if(!m6(e)||(t=e.length,!t))return!1;for(var n=0;n<t;n++)if(!v6(e[n]))return!1;return!0}var rE=g6;function y6(e){return typeof e=="function"}var nE=y6,b6=_h,by=rE,w6=nE,vo=Math.pow(2,31)-1;function wy(e,t){var n=1,a;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e=e/2,t=t/2,n=n*2;for(;e%2===0;)e=e/2;for(;t;){for(;t%2===0;)t=t/2;e>t&&(a=t,t=e,e=a),t=t-e}return n*e}function Sy(e,t){var n=0,a;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,n++;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(a=t,t=e,e=a),t=t-e}return e<<n}function S6(){var e=arguments.length,t,n,a,r,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(by(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i<=vo&&o<=vo?Sy(i,o):wy(i,o);a=t}else if(b6(t[0]))if(e>1){if(a=t[0],n=t[1],!w6(n))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else a=t[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(r=a.length,r<2)return null;if(n){for(i=new Array(r),s=0;s<r;s++)i[s]=n(a[s],s);a=i}if(e<3&&!by(a))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+a+"`.");for(s=0;s<r;s++)i=a[s],i<0&&(a[s]=-i);for(i=a[0],s=1;s<r;s++)o=a[s],o<=vo&&i<=vo?i=Sy(i,o):i=wy(i,o);return i}var _6=S6,_y=_6,E6=_h,Ey=rE,C6=nE;function x6(){var e=arguments.length,t,n,a,r,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(Ey(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i===0||o===0?0:i/_y(i,o)*o;a=t}else if(E6(t[0]))if(e>1){if(a=t[0],n=t[1],!C6(n))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else a=t[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(r=a.length,r<2)return null;if(n){for(i=new Array(r),s=0;s<r;s++)i[s]=n(a[s],s);a=i}if(e<3&&!Ey(a))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+a+"`.");for(s=0;s<r;s++)i=a[s],i<0&&(a[s]=-i);for(i=a[0],s=1;s<r;s++){if(o=a[s],i===0||o===0)return 0;i=i/_y(i,o)*o}return i}var N6=x6,I6=dh,Cy=Ti;function aE(e,t,n,a,r,i){return Cy(e)&&Cy(t)&&(i.set(t,e),I6(e,t,void 0,aE,i),i.delete(t)),e}var T6=aE,R6=dh,P6=DS,A6=P6(function(e,t,n,a){R6(e,t,n,a)}),k6=A6,$6=bS,q6=nn,F6=T6,D6=k6,O6=q6(function(e){return e.push(void 0,F6),$6(D6,void 0,e)}),L6=O6,V6=nl,M6=1/0;function B6(e){var t=e==null?0:e.length;return t?V6(e,M6):[]}var U6=B6,z6=en,H6=J_,W6=nn,j6=eE,Q6=W6(function(e){var t=z6(e,j6);return t.length&&t[0]===e[0]?H6(t):[]}),G6=Q6;function Y6(e,t,n,a){for(var r=n-1,i=e.length;++r<i;)if(a(e[r],t))return r;return-1}var X6=Y6,K6=en,Z6=O1,J6=X6,eB=Us,tB=Lb,rB=Array.prototype,xy=rB.splice;function nB(e,t,n,a){var r=a?J6:Z6,i=-1,o=t.length,s=e;for(e===t&&(t=tB(t)),n&&(s=K6(e,eB(n)));++i<o;)for(var l=0,c=t[i],u=n?n(c):c;(l=r(s,u,l,a))>-1;)s!==e&&xy.call(s,l,1),xy.call(e,l,1);return e}var aB=nB,iB=aB;function oB(e,t){return e&&e.length&&t&&t.length?iB(e,t):e}var sB=oB,lB=Yb,uB=Mb,cB=Bb,dB=en,fB=Us,pB=Xb,hB=200;function mB(e,t,n,a){var r=-1,i=uB,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=dB(t,fB(n))),a?(i=cB,o=!1):t.length>=hB&&(i=pB,o=!1,t=new lB(t));e:for(;++r<s;){var u=e[r],d=n==null?u:n(u);if(u=a||u!==0?u:0,o&&d===d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else i(t,d,a)||l.push(u)}return l}var vB=mB,gB=vB,yB=nn,bB=al,wB=yB(function(e,t){return bB(e)?gB(e,t):[]}),SB=wB,iE=Vb,pi=l6,_B=N6,EB=L6,Eh=uh,Ch=U6,CB=G6,xB=tE,Md=K_,hi=$p,Ny=sB,oE=fh,sE=sh,xh=Ub,yn=Z_,NB=SB,Iy=(e,...t)=>NB.apply(null,[e].concat(Eh(t))),IB=e=>yr(fE,e),TB=e=>yr(pE,e),yr=(e,t)=>e.indexOf(t)!==-1,RB=e=>!dn(e).length&&e!==!1&&e!==!0,Bd=e=>hi(e)||e===!0||e===!1,PB=e=>e===!1,lE=e=>e===!0,wl=(e,t,n)=>n(e),uE=e=>oE(xh(Ch(e))),Tn=e=>e!==void 0,Nh=e=>xh(Ch(e.map(dn))),_a=e=>e[0],AB=e=>uE(e),Oi=e=>Math.max.apply(Math,e),Li=e=>Math.min.apply(Math,e),kB=e=>e.some(lE),$B=e=>yn(Eh(e),Md);function qB(e){return function(t,n){return pi({[e]:t},{[e]:n})}}function cE(e){if(Array.isArray(e.allOf)){var t=e.allOf;return delete e.allOf,[e].concat(t.map(function(n){return cE(n)}))}else return[e]}function Ih(e,t){return e.map(function(n){return n&&n[t]})}function FB(e,t){return e.map(function(n){if(n)if(Array.isArray(n.items)){var a=n.items[t];if(Bd(a))return a;if(n.hasOwnProperty("additionalItems"))return n.additionalItems}else return n.items})}function DB(e,t){return e.map(function(n,a){try{return t(n,a)}catch{return}}).filter(Tn)}function OB(e){return e.map(function(t){if(t)return Array.isArray(t.items)?t.additionalItems:t.items})}function dn(e){return hi(e)||Array.isArray(e)?Object.keys(e):[]}function Ud(e,t){if(t=t||[],!e.length)return t;var n=e.slice(0).shift(),a=e.slice(1);return t.length?Ud(a,Eh(t.map(r=>n.map(i=>[i].concat(r))))):Ud(a,n.map(r=>r))}function LB(e,t){return Array.isArray(e)?(e.splice.apply(e,[0,0].concat(t)),e):t}function dE(e,t){var n;try{n=e.map(function(a){return JSON.stringify(a,null,2)}).join(`
`)}catch{n=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+`". They are probably incompatible. Values: 
`+n)}function VB(e){for(var t in e)e.hasOwnProperty(t)&&RB(e[t])&&delete e[t];return e}function zd(e,t,n){return function(a,r){if(r===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return r=String(r),e(a,null,n.concat(t,r))}}function Ty(e,t,n,a,r,i){if(e.length){var o=r.resolvers[t];if(!o)throw new Error("No resolver found for "+t);var s=yn(n.map(function(d){return e.reduce(function(p,f){return d[f]!==void 0&&(p[f]=d[f]),p},{})}).filter(Tn),pi),l=t==="properties"?fE:pE,c=l.reduce(function(d,p){return yr(Hd,p)?d[p]=zd(a,p,i):d[p]=function(f){return a(f,null,i.concat(p))},d},{});t==="items"&&(c.itemsArray=zd(a,"items",i),c.items=function(d){return a(d,null,i.concat("items"))});var u=o(s,i.concat(t),c,r);return hi(u)||dE(s,i.concat(t)),VB(u)}}function Nc(e,t,n){var a=Nh(n||e),r=n?FB:Ih;return a.reduce(function(i,o){var s=r(e,o),l=yn(s.filter(Tn),pi);return i[o]=t(l,o),i},n?[]:{})}function MB(e){sE(e,function(t,n){t===!1&&delete e[n]})}function BB(e){sE(e,function(t,n){t===!1&&e.splice(n,1)})}function UB(e){return{required:e}}var fE=["properties","patternProperties","additionalProperties"],pE=["items","additionalItems"],Hd=["properties","patternProperties","definitions","dependencies"],Ry=["anyOf","oneOf"],zB=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Ue={type(e){if(e.some(Array.isArray)){var t=e.map(function(a){return Array.isArray(a)?a:[a]}),n=CB.apply(null,t);if(n.length===1)return n[0];if(n.length>1)return xh(n)}},properties(e,t,n,a){a.ignoreAdditionalProperties||(e.forEach(function(i){var o=e.filter(u=>u!==i),s=dn(i.properties),l=dn(i.patternProperties),c=l.map(u=>new RegExp(u));o.forEach(function(u){var d=dn(u.properties),p=d.filter(h=>c.some(v=>v.test(h))),f=Iy(d,s,p);f.forEach(function(h){u.properties[h]=n.properties([u.properties[h],i.additionalProperties],h)})})}),e.forEach(function(i){var o=e.filter(l=>l!==i),s=dn(i.patternProperties);i.additionalProperties===!1&&o.forEach(function(l){var c=dn(l.patternProperties),u=Iy(c,s);u.forEach(d=>delete l.patternProperties[d])})}));var r={additionalProperties:n.additionalProperties(e.map(i=>i.additionalProperties)),patternProperties:Nc(e.map(i=>i.patternProperties),n.patternProperties),properties:Nc(e.map(i=>i.properties),n.properties)};return r.additionalProperties===!1&&MB(r.properties),r},dependencies(e,t,n){var a=Nh(e);return a.reduce(function(r,i){var o=Ih(e,i),s=yn(o.filter(Tn),Md),l=s.filter(Array.isArray);if(l.length){if(l.length===s.length)r[i]=uE(s);else{var c=s.filter(Bd),u=l.map(UB);r[i]=n(c.concat(u),i)}return r}return s=yn(s,pi),r[i]=n(s,i),r},{})},items(e,t,n){var a=e.map(s=>s.items),r=a.filter(Tn),i={};r.every(Bd)?i.items=n.items(a):i.items=Nc(e,n.itemsArray,a);var o;return r.every(Array.isArray)?o=e.map(s=>s.additionalItems):r.some(Array.isArray)&&(o=OB(e)),o&&(i.additionalItems=n.additionalItems(o)),i.additionalItems===!1&&Array.isArray(i.items)&&BB(i.items),i},oneOf(e,t,n){var a=Ud(iE(e)),r=DB(a,n),i=yn(r,pi);if(i.length)return i},not(e){return{anyOf:e}},pattern(e,t,n,a,r){var i=t.pop();r(e.map(function(o){return{[i]:o}}))},multipleOf(e){for(var t=e.slice(0),n=1;t.some(a=>!Number.isInteger(a));)t=t.map(a=>a*10),n=n*10;return _B(t)/n},enum(e){var t=xB.apply(null,e.concat(Md));if(t.length)return oE(t)}};Ue.$id=_a;Ue.$ref=_a;Ue.$schema=_a;Ue.additionalItems=wl;Ue.additionalProperties=wl;Ue.anyOf=Ue.oneOf;Ue.contains=wl;Ue.default=_a;Ue.definitions=Ue.dependencies;Ue.description=_a;Ue.examples=$B;Ue.exclusiveMaximum=Li;Ue.exclusiveMinimum=Oi;Ue.maximum=Li;Ue.maxItems=Li;Ue.maxLength=Li;Ue.maxProperties=Li;Ue.minimum=Oi;Ue.minItems=Oi;Ue.minLength=Oi;Ue.minProperties=Oi;Ue.propertyNames=wl;Ue.required=AB;Ue.title=_a;Ue.uniqueItems=kB;function Th(e,t,n){t=EB(t,{ignoreAdditionalProperties:!1,resolvers:Ue});function a(o,s,l){o=iE(o.filter(Tn)),l=l||[];var c=hi(s)?s:{};if(!o.length)return;if(o.some(PB))return!1;if(o.every(lE))return!0;o=o.filter(hi);var u=Nh(o);if(yr(u,"allOf"))return Th({allOf:o},t);var d=u.filter(IB);Ny(u,d);var p=u.filter(TB);Ny(u,p),u.forEach(function(h){var v=Ih(o,h),g=yn(v.filter(Tn),qB(h));if(g.length===1&&yr(Ry,h))c[h]=g[0].map(function(_){return a([_],_)});else if(g.length===1&&!yr(Hd,h)&&!yr(zB,h))c[h]=g[0];else{var b=t.resolvers[h]||t.resolvers.defaultResolver;if(!b)throw new Error("No resolver found for key "+h+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var E;yr(Hd,h)||yr(Ry,h)?E=zd(a,h,l):E=function(_){return a(_,null,l.concat(h))};var y=!1;c[h]=b(g,l.concat(h),E,t,function(_){return y=Array.isArray(_),f(_)}),c[h]===void 0&&!y?dE(g,l.concat(h)):c[h]===void 0&&delete c[h]}}),Object.assign(c,Ty(d,"properties",o,a,t,l)),Object.assign(c,Ty(p,"items",o,a,t,l));function f(h){c.allOf=LB(c.allOf,h)}return c}var r=Ch(cE(e)),i=a(r,e);return i}Th.options={resolvers:Ue};var HB=Th;const WB=Nt(HB);var jB=M_,Py=j_,QB=Q_,GB=function(t){for(var n=jB(this),a=QB(n),r=arguments.length,i=Py(r>1?arguments[1]:void 0,a),o=r>2?arguments[2]:void 0,s=o===void 0?a:Py(o,a);s>i;)n[i++]=t;return n},YB=H_,XB=GB;YB({target:"Array",proto:!0},{fill:XB});var KB=G_,ZB=KB("Array","fill"),JB=ZB,e9=JB,t9=e9,r9=t9,n9=r9,a9=n9,i9=a9;const o9=Nt(i9);var Sl={},s9=/~/,l9=/~[01]/g;function u9(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function hE(e){return s9.test(e)?e.replace(l9,u9):e}function c9(e,t,n){for(var a,r,i=1,o=t.length;i<o;){if(t[i]==="constructor"||t[i]==="prototype"||t[i]==="__proto__")return e;if(a=hE(t[i++]),r=o>i,typeof e[a]>"u"&&(Array.isArray(e)&&a==="-"&&(a=e.length),r&&(t[i]!==""&&t[i]<1/0||t[i]==="-"?e[a]=[]:e[a]={})),!r)break;e=e[a]}var s=e[a];return n===void 0?delete e[a]:e[a]=n,s}function Rh(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function mE(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=Rh(t);var n=t.length;if(n===1)return e;for(var a=1;a<n;){if(e=e[hE(t[a++])],n===a)return e;if(typeof e!="object"||e===null)return}}function vE(e,t,n){if(typeof e!="object")throw new Error("Invalid input object.");if(t=Rh(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return c9(e,t,n)}function d9(e){var t=Rh(e);return{get:function(n){return mE(n,t)},set:function(n,a){return vE(n,t,a)}}}Sl.get=mE;Sl.set=vE;Sl.compile=d9;var Wd={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,a){a(t)})(Yr,function(n){function a(){for(var M=arguments.length,D=Array(M),B=0;B<M;B++)D[B]=arguments[B];if(D.length>1){D[0]=D[0].slice(0,-1);for(var j=D.length-1,W=1;W<j;++W)D[W]=D[W].slice(1,-1);return D[j]=D[j].slice(1),D.join("")}else return D[0]}function r(M){return"(?:"+M+")"}function i(M){return M===void 0?"undefined":M===null?"null":Object.prototype.toString.call(M).split(" ").pop().split("]").shift().toLowerCase()}function o(M){return M.toUpperCase()}function s(M){return M!=null?M instanceof Array?M:typeof M.length!="number"||M.split||M.setInterval||M.call?[M]:Array.prototype.slice.call(M):[]}function l(M,D){var B=M;if(D)for(var j in D)B[j]=D[j];return B}function c(M){var D="[A-Za-z]",B="[0-9]",j=a(B,"[A-Fa-f]"),W=r(r("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+r("%[89A-Fa-f]"+j+"%"+j+j)+"|"+r("%"+j+j)),oe="[\\:\\/\\?\\#\\[\\]\\@]",ce="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pe=a(oe,ce),Ge=M?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",et=M?"[\\uE000-\\uF8FF]":"[]",Te=a(D,B,"[\\-\\.\\_\\~]",Ge);r(D+a(D,B,"[\\+\\-\\.]")+"*"),r(r(W+"|"+a(Te,ce,"[\\:]"))+"*");var Be=r(r("25[0-5]")+"|"+r("2[0-4]"+B)+"|"+r("1"+B+B)+"|"+r("0?[1-9]"+B)+"|0?0?"+B),tt=r(Be+"\\."+Be+"\\."+Be+"\\."+Be),be=r(j+"{1,4}"),Ke=r(r(be+"\\:"+be)+"|"+tt),at=r(r(be+"\\:")+"{6}"+Ke),Ze=r("\\:\\:"+r(be+"\\:")+"{5}"+Ke),tr=r(r(be)+"?\\:\\:"+r(be+"\\:")+"{4}"+Ke),Tt=r(r(r(be+"\\:")+"{0,1}"+be)+"?\\:\\:"+r(be+"\\:")+"{3}"+Ke),Ot=r(r(r(be+"\\:")+"{0,2}"+be)+"?\\:\\:"+r(be+"\\:")+"{2}"+Ke),Pr=r(r(r(be+"\\:")+"{0,3}"+be)+"?\\:\\:"+be+"\\:"+Ke),hr=r(r(r(be+"\\:")+"{0,4}"+be)+"?\\:\\:"+Ke),wt=r(r(r(be+"\\:")+"{0,5}"+be)+"?\\:\\:"+be),St=r(r(r(be+"\\:")+"{0,6}"+be)+"?\\:\\:"),sn=r([at,Ze,tr,Tt,Ot,Pr,hr,wt,St].join("|")),mr=r(r(Te+"|"+W)+"+");r("[vV]"+j+"+\\."+a(Te,ce,"[\\:]")+"+"),r(r(W+"|"+a(Te,ce))+"*");var Na=r(W+"|"+a(Te,ce,"[\\:\\@]"));return r(r(W+"|"+a(Te,ce,"[\\@]"))+"+"),r(r(Na+"|"+a("[\\/\\?]",et))+"*"),{NOT_SCHEME:new RegExp(a("[^]",D,B,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Te,ce),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Te,ce),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Te,ce),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Te,ce),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Te,ce,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Te,ce,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Te,ce),"g"),UNRESERVED:new RegExp(Te,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Te,Pe),"g"),PCT_ENCODED:new RegExp(W,"g"),IPV4ADDRESS:new RegExp("^("+tt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+sn+")"+r(r("\\%25|\\%(?!"+j+"{2})")+"("+mr+")")+"?\\]?$")}}var u=c(!1),d=c(!0),p=function(){function M(D,B){var j=[],W=!0,oe=!1,ce=void 0;try{for(var Pe=D[Symbol.iterator](),Ge;!(W=(Ge=Pe.next()).done)&&(j.push(Ge.value),!(B&&j.length===B));W=!0);}catch(et){oe=!0,ce=et}finally{try{!W&&Pe.return&&Pe.return()}finally{if(oe)throw ce}}return j}return function(D,B){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return M(D,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(M){if(Array.isArray(M)){for(var D=0,B=Array(M.length);D<M.length;D++)B[D]=M[D];return B}else return Array.from(M)},h=2147483647,v=36,g=1,b=26,E=38,y=700,_=72,w=128,S="-",C=/^xn--/,x=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=v-g,k=Math.floor,I=String.fromCharCode;function N(M){throw new RangeError(R[M])}function $(M,D){for(var B=[],j=M.length;j--;)B[j]=D(M[j]);return B}function F(M,D){var B=M.split("@"),j="";B.length>1&&(j=B[0]+"@",M=B[1]),M=M.replace(T,".");var W=M.split("."),oe=$(W,D).join(".");return j+oe}function A(M){for(var D=[],B=0,j=M.length;B<j;){var W=M.charCodeAt(B++);if(W>=55296&&W<=56319&&B<j){var oe=M.charCodeAt(B++);(oe&64512)==56320?D.push(((W&1023)<<10)+(oe&1023)+65536):(D.push(W),B--)}else D.push(W)}return D}var V=function(D){return String.fromCodePoint.apply(String,f(D))},O=function(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:v},U=function(D,B){return D+22+75*(D<26)-((B!=0)<<5)},H=function(D,B,j){var W=0;for(D=j?k(D/y):D>>1,D+=k(D/B);D>q*b>>1;W+=v)D=k(D/q);return k(W+(q+1)*D/(D+E))},G=function(D){var B=[],j=D.length,W=0,oe=w,ce=_,Pe=D.lastIndexOf(S);Pe<0&&(Pe=0);for(var Ge=0;Ge<Pe;++Ge)D.charCodeAt(Ge)>=128&&N("not-basic"),B.push(D.charCodeAt(Ge));for(var et=Pe>0?Pe+1:0;et<j;){for(var Te=W,Be=1,tt=v;;tt+=v){et>=j&&N("invalid-input");var be=O(D.charCodeAt(et++));(be>=v||be>k((h-W)/Be))&&N("overflow"),W+=be*Be;var Ke=tt<=ce?g:tt>=ce+b?b:tt-ce;if(be<Ke)break;var at=v-Ke;Be>k(h/at)&&N("overflow"),Be*=at}var Ze=B.length+1;ce=H(W-Te,Ze,Te==0),k(W/Ze)>h-oe&&N("overflow"),oe+=k(W/Ze),W%=Ze,B.splice(W++,0,oe)}return String.fromCodePoint.apply(String,B)},X=function(D){var B=[];D=A(D);var j=D.length,W=w,oe=0,ce=_,Pe=!0,Ge=!1,et=void 0;try{for(var Te=D[Symbol.iterator](),Be;!(Pe=(Be=Te.next()).done);Pe=!0){var tt=Be.value;tt<128&&B.push(I(tt))}}catch(Ia){Ge=!0,et=Ia}finally{try{!Pe&&Te.return&&Te.return()}finally{if(Ge)throw et}}var be=B.length,Ke=be;for(be&&B.push(S);Ke<j;){var at=h,Ze=!0,tr=!1,Tt=void 0;try{for(var Ot=D[Symbol.iterator](),Pr;!(Ze=(Pr=Ot.next()).done);Ze=!0){var hr=Pr.value;hr>=W&&hr<at&&(at=hr)}}catch(Ia){tr=!0,Tt=Ia}finally{try{!Ze&&Ot.return&&Ot.return()}finally{if(tr)throw Tt}}var wt=Ke+1;at-W>k((h-oe)/wt)&&N("overflow"),oe+=(at-W)*wt,W=at;var St=!0,sn=!1,mr=void 0;try{for(var Na=D[Symbol.iterator](),Gh;!(St=(Gh=Na.next()).done);St=!0){var Yh=Gh.value;if(Yh<W&&++oe>h&&N("overflow"),Yh==W){for(var Wi=oe,ji=v;;ji+=v){var Qi=ji<=ce?g:ji>=ce+b?b:ji-ce;if(Wi<Qi)break;var Xh=Wi-Qi,Kh=v-Qi;B.push(I(U(Qi+Xh%Kh,0))),Wi=k(Xh/Kh)}B.push(I(U(Wi,0))),ce=H(oe,wt,Ke==be),oe=0,++Ke}}}catch(Ia){sn=!0,mr=Ia}finally{try{!St&&Na.return&&Na.return()}finally{if(sn)throw mr}}++oe,++W}return B.join("")},Y=function(D){return F(D,function(B){return C.test(B)?G(B.slice(4).toLowerCase()):B})},K=function(D){return F(D,function(B){return x.test(B)?"xn--"+X(B):B})},J={version:"2.1.0",ucs2:{decode:A,encode:V},decode:G,encode:X,toASCII:K,toUnicode:Y},ne={};function fe(M){var D=M.charCodeAt(0),B=void 0;return D<16?B="%0"+D.toString(16).toUpperCase():D<128?B="%"+D.toString(16).toUpperCase():D<2048?B="%"+(D>>6|192).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase():B="%"+(D>>12|224).toString(16).toUpperCase()+"%"+(D>>6&63|128).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase(),B}function ye(M){for(var D="",B=0,j=M.length;B<j;){var W=parseInt(M.substr(B+1,2),16);if(W<128)D+=String.fromCharCode(W),B+=3;else if(W>=194&&W<224){if(j-B>=6){var oe=parseInt(M.substr(B+4,2),16);D+=String.fromCharCode((W&31)<<6|oe&63)}else D+=M.substr(B,6);B+=6}else if(W>=224){if(j-B>=9){var ce=parseInt(M.substr(B+4,2),16),Pe=parseInt(M.substr(B+7,2),16);D+=String.fromCharCode((W&15)<<12|(ce&63)<<6|Pe&63)}else D+=M.substr(B,9);B+=9}else D+=M.substr(B,3),B+=3}return D}function ie(M,D){function B(j){var W=ye(j);return W.match(D.UNRESERVED)?W:j}return M.scheme&&(M.scheme=String(M.scheme).replace(D.PCT_ENCODED,B).toLowerCase().replace(D.NOT_SCHEME,"")),M.userinfo!==void 0&&(M.userinfo=String(M.userinfo).replace(D.PCT_ENCODED,B).replace(D.NOT_USERINFO,fe).replace(D.PCT_ENCODED,o)),M.host!==void 0&&(M.host=String(M.host).replace(D.PCT_ENCODED,B).toLowerCase().replace(D.NOT_HOST,fe).replace(D.PCT_ENCODED,o)),M.path!==void 0&&(M.path=String(M.path).replace(D.PCT_ENCODED,B).replace(M.scheme?D.NOT_PATH:D.NOT_PATH_NOSCHEME,fe).replace(D.PCT_ENCODED,o)),M.query!==void 0&&(M.query=String(M.query).replace(D.PCT_ENCODED,B).replace(D.NOT_QUERY,fe).replace(D.PCT_ENCODED,o)),M.fragment!==void 0&&(M.fragment=String(M.fragment).replace(D.PCT_ENCODED,B).replace(D.NOT_FRAGMENT,fe).replace(D.PCT_ENCODED,o)),M}function ve(M){return M.replace(/^0*(.*)/,"$1")||"0"}function Ae(M,D){var B=M.match(D.IPV4ADDRESS)||[],j=p(B,2),W=j[1];return W?W.split(".").map(ve).join("."):M}function he(M,D){var B=M.match(D.IPV6ADDRESS)||[],j=p(B,3),W=j[1],oe=j[2];if(W){for(var ce=W.toLowerCase().split("::").reverse(),Pe=p(ce,2),Ge=Pe[0],et=Pe[1],Te=et?et.split(":").map(ve):[],Be=Ge.split(":").map(ve),tt=D.IPV4ADDRESS.test(Be[Be.length-1]),be=tt?7:8,Ke=Be.length-be,at=Array(be),Ze=0;Ze<be;++Ze)at[Ze]=Te[Ze]||Be[Ke+Ze]||"";tt&&(at[be-1]=Ae(at[be-1],D));var tr=at.reduce(function(wt,St,sn){if(!St||St==="0"){var mr=wt[wt.length-1];mr&&mr.index+mr.length===sn?mr.length++:wt.push({index:sn,length:1})}return wt},[]),Tt=tr.sort(function(wt,St){return St.length-wt.length})[0],Ot=void 0;if(Tt&&Tt.length>1){var Pr=at.slice(0,Tt.index),hr=at.slice(Tt.index+Tt.length);Ot=Pr.join(":")+"::"+hr.join(":")}else Ot=at.join(":");return oe&&(Ot+="%"+oe),Ot}else return M}var te=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,me="".match(/(){0}/)[1]===void 0;function we(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B={},j=D.iri!==!1?d:u;D.reference==="suffix"&&(M=(D.scheme?D.scheme+":":"")+"//"+M);var W=M.match(te);if(W){me?(B.scheme=W[1],B.userinfo=W[3],B.host=W[4],B.port=parseInt(W[5],10),B.path=W[6]||"",B.query=W[7],B.fragment=W[8],isNaN(B.port)&&(B.port=W[5])):(B.scheme=W[1]||void 0,B.userinfo=M.indexOf("@")!==-1?W[3]:void 0,B.host=M.indexOf("//")!==-1?W[4]:void 0,B.port=parseInt(W[5],10),B.path=W[6]||"",B.query=M.indexOf("?")!==-1?W[7]:void 0,B.fragment=M.indexOf("#")!==-1?W[8]:void 0,isNaN(B.port)&&(B.port=M.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?W[4]:void 0)),B.host&&(B.host=he(Ae(B.host,j),j)),B.scheme===void 0&&B.userinfo===void 0&&B.host===void 0&&B.port===void 0&&!B.path&&B.query===void 0?B.reference="same-document":B.scheme===void 0?B.reference="relative":B.fragment===void 0?B.reference="absolute":B.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==B.reference&&(B.error=B.error||"URI is not a "+D.reference+" reference.");var oe=ne[(D.scheme||B.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!oe||!oe.unicodeSupport)){if(B.host&&(D.domainHost||oe&&oe.domainHost))try{B.host=J.toASCII(B.host.replace(j.PCT_ENCODED,ye).toLowerCase())}catch(ce){B.error=B.error||"Host's domain name can not be converted to ASCII via punycode: "+ce}ie(B,u)}else ie(B,j);oe&&oe.parse&&oe.parse(B,D)}else B.error=B.error||"URI can not be parsed.";return B}function ae(M,D){var B=D.iri!==!1?d:u,j=[];return M.userinfo!==void 0&&(j.push(M.userinfo),j.push("@")),M.host!==void 0&&j.push(he(Ae(String(M.host),B),B).replace(B.IPV6ADDRESS,function(W,oe,ce){return"["+oe+(ce?"%25"+ce:"")+"]"})),(typeof M.port=="number"||typeof M.port=="string")&&(j.push(":"),j.push(String(M.port))),j.length?j.join(""):void 0}var Ye=/^\.\.?\//,ke=/^\/\.(\/|$)/,He=/^\/\.\.(\/|$)/,lt=/^\/?(?:.|\n)*?(?=\/|$)/;function $e(M){for(var D=[];M.length;)if(M.match(Ye))M=M.replace(Ye,"");else if(M.match(ke))M=M.replace(ke,"/");else if(M.match(He))M=M.replace(He,"/"),D.pop();else if(M==="."||M==="..")M="";else{var B=M.match(lt);if(B){var j=B[0];M=M.slice(j.length),D.push(j)}else throw new Error("Unexpected dot segment condition")}return D.join("")}function ee(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=D.iri?d:u,j=[],W=ne[(D.scheme||M.scheme||"").toLowerCase()];if(W&&W.serialize&&W.serialize(M,D),M.host&&!B.IPV6ADDRESS.test(M.host)){if(D.domainHost||W&&W.domainHost)try{M.host=D.iri?J.toUnicode(M.host):J.toASCII(M.host.replace(B.PCT_ENCODED,ye).toLowerCase())}catch(Pe){M.error=M.error||"Host's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+Pe}}ie(M,B),D.reference!=="suffix"&&M.scheme&&(j.push(M.scheme),j.push(":"));var oe=ae(M,D);if(oe!==void 0&&(D.reference!=="suffix"&&j.push("//"),j.push(oe),M.path&&M.path.charAt(0)!=="/"&&j.push("/")),M.path!==void 0){var ce=M.path;!D.absolutePath&&(!W||!W.absolutePath)&&(ce=$e(ce)),oe===void 0&&(ce=ce.replace(/^\/\//,"/%2F")),j.push(ce)}return M.query!==void 0&&(j.push("?"),j.push(M.query)),M.fragment!==void 0&&(j.push("#"),j.push(M.fragment)),j.join("")}function ue(M,D){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],W={};return j||(M=we(ee(M,B),B),D=we(ee(D,B),B)),B=B||{},!B.tolerant&&D.scheme?(W.scheme=D.scheme,W.userinfo=D.userinfo,W.host=D.host,W.port=D.port,W.path=$e(D.path||""),W.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(W.userinfo=D.userinfo,W.host=D.host,W.port=D.port,W.path=$e(D.path||""),W.query=D.query):(D.path?(D.path.charAt(0)==="/"?W.path=$e(D.path):((M.userinfo!==void 0||M.host!==void 0||M.port!==void 0)&&!M.path?W.path="/"+D.path:M.path?W.path=M.path.slice(0,M.path.lastIndexOf("/")+1)+D.path:W.path=D.path,W.path=$e(W.path)),W.query=D.query):(W.path=M.path,D.query!==void 0?W.query=D.query:W.query=M.query),W.userinfo=M.userinfo,W.host=M.host,W.port=M.port),W.scheme=M.scheme),W.fragment=D.fragment,W}function de(M,D,B){var j=l({scheme:"null"},B);return ee(ue(we(M,j),we(D,j),j,!0),j)}function Ne(M,D){return typeof M=="string"?M=ee(we(M,D),D):i(M)==="object"&&(M=we(ee(M,D),D)),M}function ge(M,D,B){return typeof M=="string"?M=ee(we(M,B),B):i(M)==="object"&&(M=ee(M,B)),typeof D=="string"?D=ee(we(D,B),B):i(D)==="object"&&(D=ee(D,B)),M===D}function pt(M,D){return M&&M.toString().replace(!D||!D.iri?u.ESCAPE:d.ESCAPE,fe)}function Se(M,D){return M&&M.toString().replace(!D||!D.iri?u.PCT_ENCODED:d.PCT_ENCODED,ye)}var We={scheme:"http",domainHost:!0,parse:function(D,B){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D},serialize:function(D,B){var j=String(D.scheme).toLowerCase()==="https";return(D.port===(j?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}},Me={scheme:"https",domainHost:We.domainHost,parse:We.parse,serialize:We.serialize};function Z(M){return typeof M.secure=="boolean"?M.secure:String(M.scheme).toLowerCase()==="wss"}var re={scheme:"ws",domainHost:!0,parse:function(D,B){var j=D;return j.secure=Z(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(D,B){if((D.port===(Z(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){var j=D.resourceName.split("?"),W=p(j,2),oe=W[0],ce=W[1];D.path=oe&&oe!=="/"?oe:void 0,D.query=ce,D.resourceName=void 0}return D.fragment=void 0,D}},Ee={scheme:"wss",domainHost:re.domainHost,parse:re.parse,serialize:re.serialize},Ie={},Qe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Xe="[0-9A-Fa-f]",Ft=r(r("%[EFef]"+Xe+"%"+Xe+Xe+"%"+Xe+Xe)+"|"+r("%[89A-Fa-f]"+Xe+"%"+Xe+Xe)+"|"+r("%"+Xe+Xe)),Dt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ca="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Mi=a(Ca,'[\\"\\\\]'),pr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Rl=new RegExp(Qe,"g"),Rr=new RegExp(Ft,"g"),Pl=new RegExp(a("[^]",Dt,"[\\.]",'[\\"]',Mi),"g"),Bi=new RegExp(a("[^]",Qe,pr),"g"),Al=Bi;function xa(M){var D=ye(M);return D.match(Rl)?D:M}var Ui={scheme:"mailto",parse:function(D,B){var j=D,W=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var oe=!1,ce={},Pe=j.query.split("&"),Ge=0,et=Pe.length;Ge<et;++Ge){var Te=Pe[Ge].split("=");switch(Te[0]){case"to":for(var Be=Te[1].split(","),tt=0,be=Be.length;tt<be;++tt)W.push(Be[tt]);break;case"subject":j.subject=Se(Te[1],B);break;case"body":j.body=Se(Te[1],B);break;default:oe=!0,ce[Se(Te[0],B)]=Se(Te[1],B);break}}oe&&(j.headers=ce)}j.query=void 0;for(var Ke=0,at=W.length;Ke<at;++Ke){var Ze=W[Ke].split("@");if(Ze[0]=Se(Ze[0]),B.unicodeSupport)Ze[1]=Se(Ze[1],B).toLowerCase();else try{Ze[1]=J.toASCII(Se(Ze[1],B).toLowerCase())}catch(tr){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+tr}W[Ke]=Ze.join("@")}return j},serialize:function(D,B){var j=D,W=s(D.to);if(W){for(var oe=0,ce=W.length;oe<ce;++oe){var Pe=String(W[oe]),Ge=Pe.lastIndexOf("@"),et=Pe.slice(0,Ge).replace(Rr,xa).replace(Rr,o).replace(Pl,fe),Te=Pe.slice(Ge+1);try{Te=B.iri?J.toUnicode(Te):J.toASCII(Se(Te,B).toLowerCase())}catch(Ke){j.error=j.error||"Email address's domain name can not be converted to "+(B.iri?"Unicode":"ASCII")+" via punycode: "+Ke}W[oe]=et+"@"+Te}j.path=W.join(",")}var Be=D.headers=D.headers||{};D.subject&&(Be.subject=D.subject),D.body&&(Be.body=D.body);var tt=[];for(var be in Be)Be[be]!==Ie[be]&&tt.push(be.replace(Rr,xa).replace(Rr,o).replace(Bi,fe)+"="+Be[be].replace(Rr,xa).replace(Rr,o).replace(Al,fe));return tt.length&&(j.query=tt.join("&")),j}},kl=/^([^\:]+)\:(.*)/,zi={scheme:"urn",parse:function(D,B){var j=D.path&&D.path.match(kl),W=D;if(j){var oe=B.scheme||W.scheme||"urn",ce=j[1].toLowerCase(),Pe=j[2],Ge=oe+":"+(B.nid||ce),et=ne[Ge];W.nid=ce,W.nss=Pe,W.path=void 0,et&&(W=et.parse(W,B))}else W.error=W.error||"URN can not be parsed.";return W},serialize:function(D,B){var j=B.scheme||D.scheme||"urn",W=D.nid,oe=j+":"+(B.nid||W),ce=ne[oe];ce&&(D=ce.serialize(D,B));var Pe=D,Ge=D.nss;return Pe.path=(W||B.nid)+":"+Ge,Pe}},$l=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Hi={scheme:"urn:uuid",parse:function(D,B){var j=D;return j.uuid=j.nss,j.nss=void 0,!B.tolerant&&(!j.uuid||!j.uuid.match($l))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(D,B){var j=D;return j.nss=(D.uuid||"").toLowerCase(),j}};ne[We.scheme]=We,ne[Me.scheme]=Me,ne[re.scheme]=re,ne[Ee.scheme]=Ee,ne[Ui.scheme]=Ui,ne[zi.scheme]=zi,ne[Hi.scheme]=Hi,n.SCHEMES=ne,n.pctEncChar=fe,n.pctDecChars=ye,n.parse=we,n.removeDotSegments=$e,n.serialize=ee,n.resolveComponents=ue,n.resolve=de,n.normalize=Ne,n.equal=ge,n.escapeComponent=pt,n.unescapeComponent=Se,Object.defineProperty(n,"__esModule",{value:!0})})})(Wd,Wd.exports);var f9=Wd.exports,Ph=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,i;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=a;r--!==0;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},p9=function(t){for(var n=0,a=t.length,r=0,i;r<a;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<a&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return n},Ea={copy:h9,checkDataType:jd,checkDataTypes:m9,coerceToTypes:v9,toHash:Ah,getProperty:kh,escapeQuotes:$h,equal:Ph,ucs2length:p9,varOccurences:b9,varReplace:w9,schemaHasRules:S9,schemaHasRulesExcept:_9,schemaUnknownRules:E9,toQuotedString:Qd,getPathExpr:C9,getPath:x9,getData:T9,unescapeFragment:R9,unescapeJsonPointer:Fh,escapeFragment:P9,escapeJsonPointer:qh};function h9(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function jd(e,t,n,a){var r=a?" !== ":" === ",i=a?" || ":" && ",o=a?"!":"",s=a?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+s+"("+t+" % 1)"+i+t+r+t+(n?i+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+r+'"'+e+'"'+(n?i+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+r+'"'+e+'"'}}function m9(e,t,n){switch(e.length){case 1:return jd(e[0],t,n,!0);default:var a="",r=Ah(e);r.array&&r.object&&(a=r.null?"(":"(!"+t+" || ",a+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var i in r)a+=(a?" && ":"")+jd(i,t,n,!0);return a}}var Ay=Ah(["string","number","integer","boolean","null"]);function v9(e,t){if(Array.isArray(t)){for(var n=[],a=0;a<t.length;a++){var r=t[a];(Ay[r]||e==="array"&&r==="array")&&(n[n.length]=r)}if(n.length)return n}else{if(Ay[t])return[t];if(e==="array"&&t==="array")return["array"]}}function Ah(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var g9=/^[a-z$_][a-z$_0-9]*$/i,y9=/'|\\/g;function kh(e){return typeof e=="number"?"["+e+"]":g9.test(e)?"."+e:"['"+$h(e)+"']"}function $h(e){return e.replace(y9,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function b9(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function w9(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function S9(e,t){if(typeof e=="boolean")return!e;for(var n in e)if(t[n])return!0}function _9(e,t,n){if(typeof e=="boolean")return!e&&n!="not";for(var a in e)if(a!=n&&t[a])return!0}function E9(e,t){if(typeof e!="boolean"){for(var n in e)if(!t[n])return n}}function Qd(e){return"'"+$h(e)+"'"}function C9(e,t,n,a){var r=n?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return gE(e,r)}function x9(e,t,n){var a=Qd(n?"/"+qh(t):kh(t));return gE(e,a)}var N9=/^\/(?:[^~]|~0|~1)*$/,I9=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function T9(e,t,n){var a,r,i,o;if(e==="")return"rootData";if(e[0]=="/"){if(!N9.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,i="rootData"}else{if(o=e.match(I9),!o)throw new Error("Invalid JSON-pointer: "+e);if(a=+o[1],r=o[2],r=="#"){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return n[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(i="data"+(t-a||""),!r)return i}for(var s=i,l=r.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=kh(Fh(u)),s+=" && "+i)}return s}function gE(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function R9(e){return Fh(decodeURIComponent(e))}function P9(e){return encodeURIComponent(qh(e))}function qh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Fh(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var A9=Ea,yE=k9;function k9(e){A9.copy(e,this)}var bE={exports:{}},Ur=bE.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var a=typeof n=="function"?n:n.pre||function(){},r=n.post||function(){};Ao(t,a,r,e,"",e)};Ur.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Ur.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ur.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ur.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ao(e,t,n,a,r,i,o,s,l,c){if(a&&typeof a=="object"&&!Array.isArray(a)){t(a,r,i,o,s,l,c);for(var u in a){var d=a[u];if(Array.isArray(d)){if(u in Ur.arrayKeywords)for(var p=0;p<d.length;p++)Ao(e,t,n,d[p],r+"/"+u+"/"+p,i,r,u,a,p)}else if(u in Ur.propsKeywords){if(d&&typeof d=="object")for(var f in d)Ao(e,t,n,d[f],r+"/"+u+"/"+$9(f),i,r,u,a,f)}else(u in Ur.keywords||e.allKeys&&!(u in Ur.skipKeywords))&&Ao(e,t,n,d,r+"/"+u,i,r,u,a)}n(a,r,i,o,s,l,c)}}function $9(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var q9=bE.exports,Vi=f9,ky=Ph,_l=Ea,ls=yE,F9=q9,Dh=on;on.normalizeId=Gr;on.fullPath=us;on.url=cs;on.ids=M9;on.inlineRef=Gd;on.schema=El;function on(e,t,n){var a=this._refs[n];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return on.call(this,e,t,a);if(a=a||this._schemas[n],a instanceof ls)return Gd(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var r=El.call(this,t,n),i,o,s;return r&&(i=r.schema,t=r.root,s=r.baseId),i instanceof ls?o=i.validate||e.call(this,i.schema,t,void 0,s):i!==void 0&&(o=Gd(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function El(e,t){var n=Vi.parse(t),a=SE(n),r=us(this._getId(e.schema));if(Object.keys(e.schema).length===0||a!==r){var i=Gr(a),o=this._refs[i];if(typeof o=="string")return D9.call(this,e,o,n);if(o instanceof ls)o.validate||this._compile(o),e=o;else if(o=this._schemas[i],o instanceof ls){if(o.validate||this._compile(o),i==Gr(t))return{schema:o,root:e,baseId:r};e=o}else return;if(!e.schema)return;r=us(this._getId(e.schema))}return wE.call(this,n,r,e.schema,e)}function D9(e,t,n){var a=El.call(this,e,t);if(a){var r=a.schema,i=a.baseId;e=a.root;var o=this._getId(r);return o&&(i=cs(i,o)),wE.call(this,n,i,r,e)}}var O9=_l.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function wE(e,t,n,a){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var r=e.fragment.split("/"),i=1;i<r.length;i++){var o=r[i];if(o){if(o=_l.unescapeFragment(o),n=n[o],n===void 0)break;var s;if(!O9[o]&&(s=this._getId(n),s&&(t=cs(t,s)),n.$ref)){var l=cs(t,n.$ref),c=El.call(this,a,l);c&&(n=c.schema,a=c.root,t=c.baseId)}}}if(n!==void 0&&n!==a.schema)return{schema:n,root:a,baseId:t}}}var L9=_l.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Gd(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return Yd(e);if(t)return Xd(e)<=t}function Yd(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],typeof t=="object"&&!Yd(t))return!1}else for(var a in e)if(a=="$ref"||(t=e[a],typeof t=="object"&&!Yd(t)))return!1;return!0}function Xd(e){var t=0,n;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if(n=e[a],typeof n=="object"&&(t+=Xd(n)),t==1/0)return 1/0}else for(var r in e){if(r=="$ref")return 1/0;if(L9[r])t++;else if(n=e[r],typeof n=="object"&&(t+=Xd(n)+1),t==1/0)return 1/0}return t}function us(e,t){t!==!1&&(e=Gr(e));var n=Vi.parse(e);return SE(n)}function SE(e){return Vi.serialize(e).split("#")[0]+"#"}var V9=/#\/?$/;function Gr(e){return e?e.replace(V9,""):""}function cs(e,t){return t=Gr(t),Vi.resolve(e,t)}function M9(e){var t=Gr(this._getId(e)),n={"":t},a={"":us(t,!1)},r={},i=this;return F9(e,{allKeys:!0},function(o,s,l,c,u,d,p){if(s!==""){var f=i._getId(o),h=n[c],v=a[c]+"/"+u;if(p!==void 0&&(v+="/"+(typeof p=="number"?p:_l.escapeFragment(p))),typeof f=="string"){f=h=Gr(h?Vi.resolve(h,f):f);var g=i._refs[f];if(typeof g=="string"&&(g=i._refs[g]),g&&g.schema){if(!ky(o,g.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=Gr(v))if(f[0]=="#"){if(r[f]&&!ky(o,r[f]))throw new Error('id "'+f+'" resolves to more than one schema');r[f]=o}else i._refs[f]=v}n[s]=h,a[s]=v}}),r}var Ic=Dh,Oh={Validation:$y(B9),MissingRef:$y(Lh)};function B9(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}Lh.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function Lh(e,t,n){this.message=n||Lh.message(e,t),this.missingRef=Ic.url(e,t),this.missingSchema=Ic.normalizeId(Ic.fullPath(this.missingRef))}function $y(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var _E=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,a=t.cmp&&function(i){return function(o){return function(s,l){var c={key:s,value:o[s]},u={key:l,value:o[l]};return i(c,u)}}}(t.cmp),r=[];return function i(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var s,l;if(Array.isArray(o)){for(l="[",s=0;s<o.length;s++)s&&(l+=","),l+=i(o[s])||"null";return l+"]"}if(o===null)return"null";if(r.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=r.push(o)-1,u=Object.keys(o).sort(a&&a(o));for(l="",s=0;s<u.length;s++){var d=u[s],p=i(o[d]);p&&(l&&(l+=","),l+=JSON.stringify(d)+":"+p)}return r.splice(c,1),"{"+l+"}"}}(e)},EE=function(t,n,a){var r="",i=t.schema.$async===!0,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),s=t.self._getId(t.schema);if(t.opts.strictKeywords){var l=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(l){var c="unknown keyword: "+l;if(t.opts.strictKeywords==="log")t.logger.warn(c);else throw new Error(c)}}if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" "+("/*# sourceURL="+s+" */")+" ")),typeof t.schema=="boolean"||!(o||t.schema.$ref)){var n="false schema",u=t.level,d=t.dataLevel,p=t.schema[n],f=t.schemaPath+t.util.getProperty(n),h=t.errSchemaPath+"/"+n,w=!t.opts.allErrors,x,v="data"+(d||""),_="valid"+u;if(t.schema===!1){t.isTop?w=!0:r+=" var "+_+" = false; ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?i?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+_+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var E=t.isTop,u=t.level=0,d=t.dataLevel=0,v="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var y="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var u=t.level,d=t.dataLevel,v="data"+(d||"");if(s&&(t.baseId=t.resolve.url(t.baseId,s)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}var _="valid"+u,w=!t.opts.allErrors,S="",C="",x,T=t.schema.type,R=Array.isArray(T);if(T&&t.opts.nullable&&t.schema.nullable===!0&&(R?T.indexOf("null")==-1&&(T=T.concat("null")):T!="null"&&(T=[T,"null"],R=!0)),R&&T.length==1&&(T=T[0],R=!1),t.schema.$ref&&o){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),T){if(t.opts.coerceTypes)var q=t.util.coerceToTypes(t.opts.coerceTypes,T);var k=t.RULES.types[T];if(q||R||k===!0||k&&!ke(k)){var f=t.schemaPath+".type",h=t.errSchemaPath+"/type",f=t.schemaPath+".type",h=t.errSchemaPath+"/type",I=R?"checkDataTypes":"checkDataType";if(r+=" if ("+t.util[I](T,v,t.opts.strictNumbers,!0)+") { ",q){var N="dataType"+u,$="coerced"+u;r+=" var "+N+" = typeof "+v+"; var "+$+" = undefined; ",t.opts.coerceTypes=="array"&&(r+=" if ("+N+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+N+" = typeof "+v+"; if ("+t.util.checkDataType(t.schema.type,v,t.opts.strictNumbers)+") "+$+" = "+v+"; } "),r+=" if ("+$+" !== undefined) ; ";var F=q;if(F)for(var A,V=-1,O=F.length-1;V<O;)A=F[V+=1],A=="string"?r+=" else if ("+N+" == 'number' || "+N+" == 'boolean') "+$+" = '' + "+v+"; else if ("+v+" === null) "+$+" = ''; ":A=="number"||A=="integer"?(r+=" else if ("+N+" == 'boolean' || "+v+" === null || ("+N+" == 'string' && "+v+" && "+v+" == +"+v+" ",A=="integer"&&(r+=" && !("+v+" % 1)"),r+=")) "+$+" = +"+v+"; "):A=="boolean"?r+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+$+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+$+" = true; ":A=="null"?r+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+$+" = null; ":t.opts.coerceTypes=="array"&&A=="array"&&(r+=" else if ("+N+" == 'string' || "+N+" == 'number' || "+N+" == 'boolean' || "+v+" == null) "+$+" = ["+v+"]; ");r+=" else {   ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+$+" !== undefined) {  ";var U=d?"data"+(d-1||""):"parentData",H=d?t.dataPathArr[d]:"parentDataProperty";r+=" "+v+" = "+$+"; ",d||(r+="if ("+U+" !== undefined)"),r+=" "+U+"["+H+"] = "+$+"; } "}else{var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(t.schema.$ref&&!o)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",w&&(r+=" } if (errors === ",E?r+="0":r+="errs_"+u,r+=") { ",C+="}");else{var G=t.RULES;if(G){for(var k,X=-1,Y=G.length-1;X<Y;)if(k=G[X+=1],ke(k)){if(k.type&&(r+=" if ("+t.util.checkDataType(k.type,v,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(k.type=="object"&&t.schema.properties){var p=t.schema.properties,K=Object.keys(p),J=K;if(J)for(var ne,fe=-1,ye=J.length-1;fe<ye;){ne=J[fe+=1];var ie=p[ne];if(ie.default!==void 0){var ve=v+t.util.getProperty(ne);if(t.compositeRule){if(t.opts.strictDefaults){var y="default is ignored for: "+ve;if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}}else r+=" if ("+ve+" === undefined ",t.opts.useDefaults=="empty"&&(r+=" || "+ve+" === null || "+ve+" === '' "),r+=" ) "+ve+" = ",t.opts.useDefaults=="shared"?r+=" "+t.useDefault(ie.default)+" ":r+=" "+JSON.stringify(ie.default)+" ",r+="; "}}}else if(k.type=="array"&&Array.isArray(t.schema.items)){var Ae=t.schema.items;if(Ae){for(var ie,V=-1,he=Ae.length-1;V<he;)if(ie=Ae[V+=1],ie.default!==void 0){var ve=v+"["+V+"]";if(t.compositeRule){if(t.opts.strictDefaults){var y="default is ignored for: "+ve;if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}}else r+=" if ("+ve+" === undefined ",t.opts.useDefaults=="empty"&&(r+=" || "+ve+" === null || "+ve+" === '' "),r+=" ) "+ve+" = ",t.opts.useDefaults=="shared"?r+=" "+t.useDefault(ie.default)+" ":r+=" "+JSON.stringify(ie.default)+" ",r+="; "}}}}var te=k.rules;if(te){for(var me,we=-1,ae=te.length-1;we<ae;)if(me=te[we+=1],He(me)){var Ye=me.code(t,me.keyword,k.type);Ye&&(r+=" "+Ye+" ",w&&(S+="}"))}}if(w&&(r+=" "+S+" ",S=""),k.type&&(r+=" } ",T&&T===k.type&&!q)){r+=" else { ";var f=t.schemaPath+".type",h=t.errSchemaPath+"/type",g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}w&&(r+=" if (errors === ",E?r+="0":r+="errs_"+u,r+=") { ",C+="}")}}}w&&(r+=" "+C+" "),E?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+_+" = errors === errs_"+u+";";function ke($e){for(var ee=$e.rules,ue=0;ue<ee.length;ue++)if(He(ee[ue]))return!0}function He($e){return t.schema[$e.keyword]!==void 0||$e.implements&&lt($e)}function lt($e){for(var ee=$e.implements,ue=0;ue<ee.length;ue++)if(t.schema[ee[ue]]!==void 0)return!0}return r},go=Dh,ds=Ea,CE=Oh,U9=_E,qy=EE,z9=ds.ucs2length,H9=Ph,W9=CE.Validation,j9=Kd;function Kd(e,t,n,a){var r=this,i=this._opts,o=[void 0],s={},l=[],c={},u=[],d={},p=[];t=t||{schema:e,refVal:o,refs:s};var f=Q9.call(this,e,t,a),h=this._compilations[f.index];if(f.compiling)return h.callValidate=y;var v=this._formats,g=this.RULES;try{var b=_(e,t,n,a);h.validate=b;var E=h.callValidate;return E&&(E.schema=b.schema,E.errors=null,E.refs=b.refs,E.refVal=b.refVal,E.root=b.root,E.$async=b.$async,i.sourceCode&&(E.source=b.source)),b}finally{G9.call(this,e,t,a)}function y(){var I=h.validate,N=I.apply(this,arguments);return y.errors=I.errors,N}function _(I,N,$,F){var A=!N||N&&N.schema==I;if(N.schema!=t.schema)return Kd.call(r,I,N,$,F);var V=I.$async===!0,O=qy({isTop:!0,schema:I,isRoot:A,baseId:F,root:N,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:CE.MissingRef,RULES:g,validate:qy,util:ds,resolve:go,resolveRef:w,usePattern:R,useDefault:q,useCustomRule:k,opts:i,formats:v,logger:r.logger,self:r});O=yo(o,K9)+yo(l,Y9)+yo(u,X9)+yo(p,Z9)+O,i.processCode&&(O=i.processCode(O,I));var U;try{var H=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O);U=H(r,g,v,t,o,u,p,H9,z9,W9),o[0]=U}catch(G){throw r.logger.error("Error compiling schema, function code:",O),G}return U.schema=I,U.errors=null,U.refs=s,U.refVal=o,U.root=A?U:N,V&&(U.$async=!0),i.sourceCode===!0&&(U.source={code:O,patterns:l,defaults:u}),U}function w(I,N,$){N=go.url(I,N);var F=s[N],A,V;if(F!==void 0)return A=o[F],V="refVal["+F+"]",T(A,V);if(!$&&t.refs){var O=t.refs[N];if(O!==void 0)return A=t.refVal[O],V=S(N,A),T(A,V)}V=S(N);var U=go.call(r,_,t,N);if(U===void 0){var H=n&&n[N];H&&(U=go.inlineRef(H,i.inlineRefs)?H:Kd.call(r,H,t,n,I))}if(U===void 0)C(N);else return x(N,U),T(U,V)}function S(I,N){var $=o.length;return o[$]=N,s[I]=$,"refVal"+$}function C(I){delete s[I]}function x(I,N){var $=s[I];o[$]=N}function T(I,N){return typeof I=="object"||typeof I=="boolean"?{code:N,schema:I,inline:!0}:{code:N,$async:I&&!!I.$async}}function R(I){var N=c[I];return N===void 0&&(N=c[I]=l.length,l[N]=I),"pattern"+N}function q(I){switch(typeof I){case"boolean":case"number":return""+I;case"string":return ds.toQuotedString(I);case"object":if(I===null)return"null";var N=U9(I),$=d[N];return $===void 0&&($=d[N]=u.length,u[$]=I),"default"+$}}function k(I,N,$,F){if(r._opts.validateSchema!==!1){var A=I.definition.dependencies;if(A&&!A.every(function(J){return Object.prototype.hasOwnProperty.call($,J)}))throw new Error("parent schema must have all required keywords: "+A.join(","));var V=I.definition.validateSchema;if(V){var O=V(N);if(!O){var U="keyword schema is invalid: "+r.errorsText(V.errors);if(r._opts.validateSchema=="log")r.logger.error(U);else throw new Error(U)}}}var H=I.definition.compile,G=I.definition.inline,X=I.definition.macro,Y;if(H)Y=H.call(r,N,$,F);else if(X)Y=X.call(r,N,$,F),i.validateSchema!==!1&&r.validateSchema(Y,!0);else if(G)Y=G.call(r,F,I.keyword,N,$);else if(Y=I.definition.validate,!Y)return;if(Y===void 0)throw new Error('custom keyword "'+I.keyword+'"failed to compile');var K=p.length;return p[K]=Y,{code:"customRule"+K,validate:Y}}}function Q9(e,t,n){var a=xE.call(this,e,t,n);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:n},{index:a,compiling:!1})}function G9(e,t,n){var a=xE.call(this,e,t,n);a>=0&&this._compilations.splice(a,1)}function xE(e,t,n){for(var a=0;a<this._compilations.length;a++){var r=this._compilations[a];if(r.schema==e&&r.root==t&&r.baseId==n)return a}return-1}function Y9(e,t){return"var pattern"+e+" = new RegExp("+ds.toQuotedString(t[e])+");"}function X9(e){return"var default"+e+" = defaults["+e+"];"}function K9(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function Z9(e){return"var customRule"+e+" = customRules["+e+"];"}function yo(e,t){if(!e.length)return"";for(var n="",a=0;a<e.length;a++)n+=t(a,e);return n}var NE={exports:{}},Cl=NE.exports=function(){this._cache={}};Cl.prototype.put=function(t,n){this._cache[t]=n};Cl.prototype.get=function(t){return this._cache[t]};Cl.prototype.del=function(t){delete this._cache[t]};Cl.prototype.clear=function(){this._cache={}};var J9=NE.exports,eU=Ea,tU=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,rU=[0,31,28,31,30,31,30,31,31,30,31,30,31],nU=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,IE=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,aU=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,iU=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,TE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,RE=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,PE=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,AE=/^(?:\/(?:[^~/]|~0|~1)*)*$/,kE=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,$E=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,oU=xl;function xl(e){return e=e=="full"?"full":"fast",eU.copy(xl[e])}xl.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":TE,url:RE,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:IE,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:DE,uuid:PE,"json-pointer":AE,"json-pointer-uri-fragment":kE,"relative-json-pointer":$E};xl.full={date:qE,time:FE,"date-time":uU,uri:dU,"uri-reference":iU,"uri-template":TE,url:RE,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:IE,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:DE,uuid:PE,"json-pointer":AE,"json-pointer-uri-fragment":kE,"relative-json-pointer":$E};function sU(e){return e%4===0&&(e%100!==0||e%400===0)}function qE(e){var t=e.match(tU);if(!t)return!1;var n=+t[1],a=+t[2],r=+t[3];return a>=1&&a<=12&&r>=1&&r<=(a==2&&sU(n)?29:rU[a])}function FE(e,t){var n=e.match(nU);if(!n)return!1;var a=n[1],r=n[2],i=n[3],o=n[5];return(a<=23&&r<=59&&i<=59||a==23&&r==59&&i==60)&&(!t||o)}var lU=/t|\s/i;function uU(e){var t=e.split(lU);return t.length==2&&qE(t[0])&&FE(t[1],!0)}var cU=/\/|:/;function dU(e){return cU.test(e)&&aU.test(e)}var fU=/[^\\]\\Z/;function DE(e){if(fU.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}var pU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.errSchemaPath+"/"+n,c=!t.opts.allErrors,u="data"+(o||""),d="valid"+i,p,f;if(s=="#"||s=="#/")t.isRoot?(p=t.async,f="validate"):(p=t.root.schema.$async===!0,f="root.refVal[0]");else{var h=t.resolveRef(t.baseId,s,t.isRoot);if(h===void 0){var v=t.MissingRefError.message(t.baseId,s);if(t.opts.missingRefs=="fail"){t.logger.error(v);var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { ref: '"+t.util.escapeQuotes(s)+"' } ",t.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(s)+"' "),t.opts.verbose&&(r+=" , schema: "+t.util.toQuotedString(s)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(v),c&&(r+=" if (true) { ");else throw new t.MissingRefError(t.baseId,s,v)}else if(h.inline){var E=t.util.copy(t);E.level++;var y="valid"+E.level;E.schema=h.schema,E.schemaPath="",E.errSchemaPath=s;var _=t.validate(E).replace(/validate\.schema/g,h.code);r+=" "+_+" ",c&&(r+=" if ("+y+") { ")}else p=h.$async===!0||t.async&&h.$async!==!1,f=h.code}if(f){var g=g||[];g.push(r),r="",t.opts.passContext?r+=" "+f+".call(this, ":r+=" "+f+"( ",r+=" "+u+", (dataPath || '')",t.errorPath!='""'&&(r+=" + "+t.errorPath);var w=o?"data"+(o-1||""):"parentData",S=o?t.dataPathArr[o]:"parentDataProperty";r+=" , "+w+" , "+S+", rootData)  ";var C=r;if(r=g.pop(),p){if(!t.async)throw new Error("async schema referenced by sync schema");c&&(r+=" var "+d+"; "),r+=" try { await "+C+"; ",c&&(r+=" "+d+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(r+=" "+d+" = false; "),r+=" } ",c&&(r+=" if ("+d+") { ")}else r+=" if (!"+C+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",c&&(r+=" else { ")}return r},hU=function(t,n,a){var r=" ",i=t.schema[n],o=t.schemaPath+t.util.getProperty(n),s=t.errSchemaPath+"/"+n,l=!t.opts.allErrors,c=t.util.copy(t),u="";c.level++;var d="valid"+c.level,p=c.baseId,f=!0,h=i;if(h)for(var v,g=-1,b=h.length-1;g<b;)v=h[g+=1],(t.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:t.util.schemaHasRules(v,t.RULES.all))&&(f=!1,c.schema=v,c.schemaPath=o+"["+g+"]",c.errSchemaPath=s+"/"+g,r+="  "+t.validate(c)+" ",c.baseId=p,l&&(r+=" if ("+d+") { ",u+="}"));return l&&(f?r+=" if (true) { ":r+=" "+u.slice(0,-1)+" "),r},mU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b=s.every(function(x){return t.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:t.util.schemaHasRules(x,t.RULES.all)});if(b){var E=h.baseId;r+=" var "+f+" = errors; var "+p+" = false;  ";var y=t.compositeRule;t.compositeRule=h.compositeRule=!0;var _=s;if(_)for(var w,S=-1,C=_.length-1;S<C;)w=_[S+=1],h.schema=w,h.schemaPath=l+"["+S+"]",h.errSchemaPath=c+"/"+S,r+="  "+t.validate(h)+" ",h.baseId=E,r+=" "+p+" = "+p+" || "+g+"; if (!"+p+") { ",v+="}";t.compositeRule=h.compositeRule=y,r+=" "+v+" if (!"+p+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else u&&(r+=" if (true) { ");return r},vU=function(t,n,a){var r=" ",i=t.schema[n],o=t.errSchemaPath+"/"+n;t.opts.allErrors;var s=t.util.toQuotedString(i);return t.opts.$comment===!0?r+=" console.log("+s+");":typeof t.opts.$comment=="function"&&(r+=" self._opts.$comment("+s+", "+t.util.toQuotedString(o)+", validate.root.schema);"),r},gU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+l+";"),r+="var "+p+" = equal("+d+", schema"+i+"); if (!"+p+") {   ";var h=h||[];h.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=h.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},yU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b="i"+i,E=h.dataLevel=t.dataLevel+1,y="data"+E,_=t.baseId,w=t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all);if(r+="var "+f+" = errors;var "+p+";",w){var S=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+=" var "+g+" = false; for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var C=d+"["+b+"]";h.dataPathArr[E]=b;var x=t.validate(h);h.baseId=_,t.util.varOccurences(x,y)<2?r+=" "+t.util.varReplace(x,y,C)+" ":r+=" var "+y+" = "+C+"; "+x+" ",r+=" if ("+g+") break; }  ",t.compositeRule=h.compositeRule=S,r+=" "+v+" if (!"+g+") {"}else r+=" if ("+d+".length == 0) {";var T=T||[];T.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var R=r;return r=T.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",w&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),r},bU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t),h="";f.level++;var v="valid"+f.level,g={},b={},E=t.opts.ownProperties;for(S in s)if(S!="__proto__"){var y=s[S],_=Array.isArray(y)?b:g;_[S]=y}r+="var "+p+" = errors;";var w=t.errorPath;r+="var missing"+i+";";for(var S in b)if(_=b[S],_.length){if(r+=" if ( "+d+t.util.getProperty(S)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(S)+"') "),u){r+=" && ( ";var C=_;if(C)for(var x,T=-1,R=C.length-1;T<R;){x=C[T+=1],T&&(r+=" || ");var q=t.util.getProperty(x),k=d+q;r+=" ( ( "+k+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(x)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?x:q)+") ) "}r+=")) {  ";var I="missing"+i,N="' + "+I+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,I,!0):w+" + "+I);var $=$||[];$.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(S)+"', missingProperty: '"+N+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",t.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(S)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var F=r;r=$.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var A=_;if(A)for(var x,V=-1,O=A.length-1;V<O;){x=A[V+=1];var q=t.util.getProperty(x),N=t.util.escapeQuotes(x),k=d+q;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,x,t.opts.jsonPointers)),r+=" if ( "+k+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(x)+"') "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(S)+"', missingProperty: '"+N+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",t.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(S)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(h+="}",r+=" else { ")}t.errorPath=w;var U=f.baseId;for(var S in g){var y=g[S];(t.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:t.util.schemaHasRules(y,t.RULES.all))&&(r+=" "+v+" = true; if ( "+d+t.util.getProperty(S)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(S)+"') "),r+=") { ",f.schema=y,f.schemaPath=l+t.util.getProperty(S),f.errSchemaPath=c+"/"+t.util.escapeFragment(S),r+="  "+t.validate(f)+" ",f.baseId=U,r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}"))}return u&&(r+="   "+h+" if ("+p+" == errors) {"),r},wU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var h="i"+i,v="schema"+i;f||(r+=" var "+v+" = validate.schema"+l+";"),r+="var "+p+";",f&&(r+=" if (schema"+i+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+i+")) "+p+" = false; else {"),r+=""+p+" = false;for (var "+h+"=0; "+h+"<"+v+".length; "+h+"++) if (equal("+d+", "+v+"["+h+"])) { "+p+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+p+") {   ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},SU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||"");if(t.opts.format===!1)return u&&(r+=" if (true) { "),r;var p=t.opts.$data&&s&&s.$data,f;p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s;var h=t.opts.unknownFormats,v=Array.isArray(h);if(p){var g="format"+i,b="isObject"+i,E="formatType"+i;r+=" var "+g+" = formats["+f+"]; var "+b+" = typeof "+g+" == 'object' && !("+g+" instanceof RegExp) && "+g+".validate; var "+E+" = "+b+" && "+g+".type || 'string'; if ("+b+") { ",t.async&&(r+=" var async"+i+" = "+g+".async; "),r+=" "+g+" = "+g+".validate; } if (  ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (",h!="ignore"&&(r+=" ("+f+" && !"+g+" ",v&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+g+" && "+E+" == '"+a+"' && !(typeof "+g+" == 'function' ? ",t.async?r+=" (async"+i+" ? await "+g+"("+d+") : "+g+"("+d+")) ":r+=" "+g+"("+d+") ",r+=" : "+g+".test("+d+"))))) {"}else{var g=t.formats[s];if(!g){if(h=="ignore")return t.logger.warn('unknown format "'+s+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(v&&h.indexOf(s)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+s+'" is used in schema at path "'+t.errSchemaPath+'"')}var b=typeof g=="object"&&!(g instanceof RegExp)&&g.validate,E=b&&g.type||"string";if(b){var y=g.async===!0;g=g.validate}if(E!=a)return u&&(r+=" if (true) { "),r;if(y){if(!t.async)throw new Error("async format in sync schema");var _="formats"+t.util.getProperty(s)+".validate";r+=" if (!(await "+_+"("+d+"))) { "}else{r+=" if (! ";var _="formats"+t.util.getProperty(s);b&&(_+=".validate"),typeof g=="function"?r+=" "+_+"("+d+") ":r+=" "+_+".test("+d+") ",r+=") { "}}var w=w||[];w.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { format:  ",p?r+=""+f:r+=""+t.util.toQuotedString(s),r+="  } ",t.opts.messages!==!1&&(r+=` , message: 'should match format "`,p?r+="' + "+f+" + '":r+=""+t.util.escapeQuotes(s),r+=`"' `),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=w.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},_U=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t);h.level++;var v="valid"+h.level,g=t.schema.then,b=t.schema.else,E=g!==void 0&&(t.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:t.util.schemaHasRules(g,t.RULES.all)),y=b!==void 0&&(t.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:t.util.schemaHasRules(b,t.RULES.all)),_=h.baseId;if(E||y){var w;h.createErrors=!1,h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+=" var "+f+" = errors; var "+p+" = true;  ";var S=t.compositeRule;t.compositeRule=h.compositeRule=!0,r+="  "+t.validate(h)+" ",h.baseId=_,h.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=h.compositeRule=S,E?(r+=" if ("+v+") {  ",h.schema=t.schema.then,h.schemaPath=t.schemaPath+".then",h.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(h)+" ",h.baseId=_,r+=" "+p+" = "+v+"; ",E&&y?(w="ifClause"+i,r+=" var "+w+" = 'then'; "):w="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+v+") { ",y&&(h.schema=t.schema.else,h.schemaPath=t.schemaPath+".else",h.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(h)+" ",h.baseId=_,r+=" "+p+" = "+v+"; ",E&&y?(w="ifClause"+i,r+=" var "+w+" = 'else'; "):w="'else'",r+=" } "),r+=" if (!"+p+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { failingKeyword: "+w+" } ",t.opts.messages!==!1&&(r+=` , message: 'should match "' + `+w+` + '" schema' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},EU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b="i"+i,E=h.dataLevel=t.dataLevel+1,y="data"+E,_=t.baseId;if(r+="var "+f+" = errors;var "+p+";",Array.isArray(s)){var w=t.schema.additionalItems;if(w===!1){r+=" "+p+" = "+d+".length <= "+s.length+"; ";var S=c;c=t.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var C=C||[];C.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+s.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=C.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c=S,u&&(v+="}",r+=" else { ")}var T=s;if(T){for(var R,q=-1,k=T.length-1;q<k;)if(R=T[q+=1],t.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:t.util.schemaHasRules(R,t.RULES.all)){r+=" "+g+" = true; if ("+d+".length > "+q+") { ";var I=d+"["+q+"]";h.schema=R,h.schemaPath=l+"["+q+"]",h.errSchemaPath=c+"/"+q,h.errorPath=t.util.getPathExpr(t.errorPath,q,t.opts.jsonPointers,!0),h.dataPathArr[E]=q;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",r+=" }  ",u&&(r+=" if ("+g+") { ",v+="}")}}if(typeof w=="object"&&(t.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:t.util.schemaHasRules(w,t.RULES.all))){h.schema=w,h.schemaPath=t.schemaPath+".additionalItems",h.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+g+" = true; if ("+d+".length > "+s.length+") {  for (var "+b+" = "+s.length+"; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var I=d+"["+b+"]";h.dataPathArr[E]=b;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",u&&(r+=" if (!"+g+") break; "),r+=" } }  ",u&&(r+=" if ("+g+") { ",v+="}")}}else if(t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+="  for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var I=d+"["+b+"]";h.dataPathArr[E]=b;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",u&&(r+=" if (!"+g+") break; "),r+=" }"}return u&&(r+=" "+v+" if ("+f+" == errors) {"),r},Fy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,_,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s;var h=n=="maximum",v=h?"exclusiveMaximum":"exclusiveMinimum",g=t.schema[v],b=t.opts.$data&&g&&g.$data,E=h?"<":">",y=h?">":"<",_=void 0;if(!(p||typeof s=="number"||s===void 0))throw new Error(n+" must be number");if(!(b||g===void 0||typeof g=="number"||typeof g=="boolean"))throw new Error(v+" must be number or boolean");if(b){var w=t.util.getData(g.$data,o,t.dataPathArr),S="exclusive"+i,C="exclType"+i,x="exclIsNumber"+i,T="op"+i,R="' + "+T+" + '";r+=" var schemaExcl"+i+" = "+w+"; ",w="schemaExcl"+i,r+=" var "+S+"; var "+C+" = typeof "+w+"; if ("+C+" != 'boolean' && "+C+" != 'undefined' && "+C+" != 'number') { ";var _=v,q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: '"+v+" should be boolean' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+C+" == 'number' ? ( ("+S+" = "+f+" === undefined || "+w+" "+E+"= "+f+") ? "+d+" "+y+"= "+w+" : "+d+" "+y+" "+f+" ) : ( ("+S+" = "+w+" === true) ? "+d+" "+y+"= "+f+" : "+d+" "+y+" "+f+" ) || "+d+" !== "+d+") { var op"+i+" = "+S+" ? '"+E+"' : '"+E+"='; ",s===void 0&&(_=v,c=t.errSchemaPath+"/"+v,f=w,p=b)}else{var x=typeof g=="number",R=E;if(x&&p){var T="'"+R+"'";r+=" if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" ( "+f+" === undefined || "+g+" "+E+"= "+f+" ? "+d+" "+y+"= "+g+" : "+d+" "+y+" "+f+" ) || "+d+" !== "+d+") { "}else{x&&s===void 0?(S=!0,_=v,c=t.errSchemaPath+"/"+v,f=g,y+="="):(x&&(f=Math[h?"min":"max"](g,s)),g===(x?f:!0)?(S=!0,_=v,c=t.errSchemaPath+"/"+v,y+="="):(S=!1,R+="="));var T="'"+R+"'";r+=" if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+d+" "+y+" "+f+" || "+d+" !== "+d+") { "}}_=_||n;var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+T+", limit: "+f+", exclusive: "+S+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be "+R+" ",p?r+="' + "+f:r+=""+f+"'"),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;return r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},Dy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxItems"?">":"<";r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+d+".length "+h+" "+f+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have ",n=="maxItems"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+f+" + '":r+=""+s,r+=" items' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},Oy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxLength"?">":"<";r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),t.opts.unicode===!1?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+h+" "+f+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be ",n=="maxLength"?r+="longer":r+="shorter",r+=" than ",p?r+="' + "+f+" + '":r+=""+s,r+=" characters' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},Ly=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxProperties"?">":"<";r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" Object.keys("+d+").length "+h+" "+f+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have ",n=="maxProperties"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+f+" + '":r+=""+s,r+=" properties' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},CU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");r+="var division"+i+";if (",p&&(r+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),r+=" (division"+i+" = "+d+" / "+f+", ",t.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+t.opts.multipleOfPrecision+" ":r+=" division"+i+" !== parseInt(division"+i+") ",r+=" ) ",p&&(r+="  )  "),r+=" ) {   ";var h=h||[];h.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",p?r+="' + "+f:r+=""+f+"'"),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=h.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},xU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t);f.level++;var h="valid"+f.level;if(t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=l,f.errSchemaPath=c,r+=" var "+p+" = errors;  ";var v=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1;var g;f.opts.allErrors&&(g=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+t.validate(f)+" ",f.createErrors=!0,g&&(f.opts.allErrors=g),t.compositeRule=f.compositeRule=v,r+=" if ("+h+") {   ";var b=b||[];b.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var E=r;r=b.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r},NU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b=h.baseId,E="prevValid"+i,y="passingSchemas"+i;r+="var "+f+" = errors , "+E+" = false , "+p+" = false , "+y+" = null; ";var _=t.compositeRule;t.compositeRule=h.compositeRule=!0;var w=s;if(w)for(var S,C=-1,x=w.length-1;C<x;)S=w[C+=1],(t.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:t.util.schemaHasRules(S,t.RULES.all))?(h.schema=S,h.schemaPath=l+"["+C+"]",h.errSchemaPath=c+"/"+C,r+="  "+t.validate(h)+" ",h.baseId=b):r+=" var "+g+" = true; ",C&&(r+=" if ("+g+" && "+E+") { "+p+" = false; "+y+" = ["+y+", "+C+"]; } else { ",v+="}"),r+=" if ("+g+") { "+p+" = "+E+" = true; "+y+" = "+C+"; }";return t.compositeRule=h.compositeRule=_,r+=""+v+"if (!"+p+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",t.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r},IU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s;var h=p?"(new RegExp("+f+"))":t.usePattern(s);r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" !"+h+".test("+d+") ) {   ";var v=v||[];v.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",p?r+=""+f:r+=""+t.util.toQuotedString(s),r+="  } ",t.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,p?r+="' + "+f+" + '":r+=""+t.util.escapeQuotes(s),r+=`"' `),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;return r=v.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},TU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t),h="";f.level++;var v="valid"+f.level,g="key"+i,b="idx"+i,E=f.dataLevel=t.dataLevel+1,y="data"+E,_="dataProperties"+i,w=Object.keys(s||{}).filter(V),S=t.schema.patternProperties||{},C=Object.keys(S).filter(V),x=t.schema.additionalProperties,T=w.length||C.length,R=x===!1,q=typeof x=="object"&&Object.keys(x).length,k=t.opts.removeAdditional,I=R||q||k,N=t.opts.ownProperties,$=t.baseId,F=t.schema.required;if(F&&!(t.opts.$data&&F.$data)&&F.length<t.opts.loopRequired)var A=t.util.toHash(F);function V(ge){return ge!=="__proto__"}if(r+="var "+p+" = errors;var "+v+" = true;",N&&(r+=" var "+_+" = undefined;"),I){if(N?r+=" "+_+" = "+_+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+_+".length; "+b+"++) { var "+g+" = "+_+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)r+=" || validate.schema"+l+".hasOwnProperty("+g+") ";else{var O=w;if(O)for(var U,H=-1,G=O.length-1;H<G;)U=O[H+=1],r+=" || "+g+" == "+t.util.toQuotedString(U)+" "}if(C.length){var X=C;if(X)for(var Y,K=-1,J=X.length-1;K<J;)Y=X[K+=1],r+=" || "+t.usePattern(Y)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if(k=="all")r+=" delete "+d+"["+g+"]; ";else{var ne=t.errorPath,fe="' + "+g+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers)),R)if(k)r+=" delete "+d+"["+g+"]; ";else{r+=" "+v+" = false; ";var ye=c;c=t.errSchemaPath+"/additionalProperties";var ie=ie||[];ie.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { additionalProperty: '"+fe+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var ve=r;r=ie.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+ve+"]); ":r+=" validate.errors = ["+ve+"]; return false; ":r+=" var err = "+ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=ye,u&&(r+=" break; ")}else if(q)if(k=="failing"){r+=" var "+p+" = errors;  ";var Ae=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=x,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var he=d+"["+g+"]";f.dataPathArr[E]=g;var te=t.validate(f);f.baseId=$,t.util.varOccurences(te,y)<2?r+=" "+t.util.varReplace(te,y,he)+" ":r+=" var "+y+" = "+he+"; "+te+" ",r+=" if (!"+v+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+g+"]; }  ",t.compositeRule=f.compositeRule=Ae}else{f.schema=x,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var he=d+"["+g+"]";f.dataPathArr[E]=g;var te=t.validate(f);f.baseId=$,t.util.varOccurences(te,y)<2?r+=" "+t.util.varReplace(te,y,he)+" ":r+=" var "+y+" = "+he+"; "+te+" ",u&&(r+=" if (!"+v+") break; ")}t.errorPath=ne}T&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}")}var me=t.opts.useDefaults&&!t.compositeRule;if(w.length){var we=w;if(we)for(var U,ae=-1,Ye=we.length-1;ae<Ye;){U=we[ae+=1];var ke=s[U];if(t.opts.strictKeywords?typeof ke=="object"&&Object.keys(ke).length>0||ke===!1:t.util.schemaHasRules(ke,t.RULES.all)){var He=t.util.getProperty(U),he=d+He,lt=me&&ke.default!==void 0;f.schema=ke,f.schemaPath=l+He,f.errSchemaPath=c+"/"+t.util.escapeFragment(U),f.errorPath=t.util.getPath(t.errorPath,U,t.opts.jsonPointers),f.dataPathArr[E]=t.util.toQuotedString(U);var te=t.validate(f);if(f.baseId=$,t.util.varOccurences(te,y)<2){te=t.util.varReplace(te,y,he);var $e=he}else{var $e=y;r+=" var "+y+" = "+he+"; "}if(lt)r+=" "+te+" ";else{if(A&&A[U]){r+=" if ( "+$e+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(U)+"') "),r+=") { "+v+" = false; ";var ne=t.errorPath,ye=c,ee=t.util.escapeQuotes(U);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(ne,U,t.opts.jsonPointers)),c=t.errSchemaPath+"/required";var ie=ie||[];ie.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+ee+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ee+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var ve=r;r=ie.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+ve+"]); ":r+=" validate.errors = ["+ve+"]; return false; ":r+=" var err = "+ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=ye,t.errorPath=ne,r+=" } else { "}else u?(r+=" if ( "+$e+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(U)+"') "),r+=") { "+v+" = true; } else { "):(r+=" if ("+$e+" !== undefined ",N&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(U)+"') "),r+=" ) { ");r+=" "+te+" } "}}u&&(r+=" if ("+v+") { ",h+="}")}}if(C.length){var ue=C;if(ue)for(var Y,de=-1,Ne=ue.length-1;de<Ne;){Y=ue[de+=1];var ke=S[Y];if(t.opts.strictKeywords?typeof ke=="object"&&Object.keys(ke).length>0||ke===!1:t.util.schemaHasRules(ke,t.RULES.all)){f.schema=ke,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(Y),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(Y),N?r+=" "+_+" = "+_+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+_+".length; "+b+"++) { var "+g+" = "+_+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",r+=" if ("+t.usePattern(Y)+".test("+g+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var he=d+"["+g+"]";f.dataPathArr[E]=g;var te=t.validate(f);f.baseId=$,t.util.varOccurences(te,y)<2?r+=" "+t.util.varReplace(te,y,he)+" ":r+=" var "+y+" = "+he+"; "+te+" ",u&&(r+=" if (!"+v+") break; "),r+=" } ",u&&(r+=" else "+v+" = true; "),r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}")}}}return u&&(r+=" "+h+" if ("+p+" == errors) {"),r},RU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t),h="";f.level++;var v="valid"+f.level;if(r+="var "+p+" = errors;",t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=l,f.errSchemaPath=c;var g="key"+i,b="idx"+i,E="i"+i,y="' + "+g+" + '",_=f.dataLevel=t.dataLevel+1,w="data"+_,S="dataProperties"+i,C=t.opts.ownProperties,x=t.baseId;C&&(r+=" var "+S+" = undefined; "),C?r+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+S+".length; "+b+"++) { var "+g+" = "+S+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",r+=" var startErrs"+i+" = errors; ";var T=g,R=t.compositeRule;t.compositeRule=f.compositeRule=!0;var q=t.validate(f);f.baseId=x,t.util.varOccurences(q,w)<2?r+=" "+t.util.varReplace(q,w,T)+" ":r+=" var "+w+" = "+T+"; "+q+" ",t.compositeRule=f.compositeRule=R,r+=" if (!"+v+") { for (var "+E+"=startErrs"+i+"; "+E+"<errors; "+E+"++) { vErrors["+E+"].propertyName = "+g+"; }   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",t.opts.messages!==!1&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+h+" if ("+p+" == errors) {"),r},PU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var h="schema"+i;if(!f)if(s.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var v=[],g=s;if(g)for(var b,E=-1,y=g.length-1;E<y;){b=g[E+=1];var _=t.schema.properties[b];_&&(t.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:t.util.schemaHasRules(_,t.RULES.all))||(v[v.length]=b)}}else var v=s;if(f||v.length){var w=t.errorPath,S=f||v.length>=t.opts.loopRequired,C=t.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",S){f||(r+=" var "+h+" = validate.schema"+l+"; ");var x="i"+i,T="schema"+i+"["+x+"]",R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,T,t.opts.jsonPointers)),r+=" var "+p+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+i+")) "+p+" = false; else {"),r+=" for (var "+x+" = 0; "+x+" < "+h+".length; "+x+"++) { "+p+" = "+d+"["+h+"["+x+"]] !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+h+"["+x+"]) "),r+="; if (!"+p+") break; } ",f&&(r+="  }  "),r+="  if (!"+p+") {   ";var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var I=v;if(I)for(var N,x=-1,$=I.length-1;x<$;){N=I[x+=1],x&&(r+=" || ");var F=t.util.getProperty(N),A=d+F;r+=" ( ( "+A+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?N:F)+") ) "}r+=") {  ";var T="missing"+i,R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,T,!0):w+" + "+T);var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(S){f||(r+=" var "+h+" = validate.schema"+l+"; ");var x="i"+i,T="schema"+i+"["+x+"]",R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,T,t.opts.jsonPointers)),f&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+x+" = 0; "+x+" < "+h+".length; "+x+"++) { if ("+d+"["+h+"["+x+"]] === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+h+"["+x+"]) "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var V=v;if(V)for(var N,O=-1,U=V.length-1;O<U;){N=V[O+=1];var F=t.util.getProperty(N),R=t.util.escapeQuotes(N),A=d+F;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,N,t.opts.jsonPointers)),r+=" if ( "+A+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=w}else u&&(r+=" if (true) {");return r},AU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data,h;if(f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=s,(s||f)&&t.opts.uniqueItems!==!1){f&&(r+=" var "+p+"; if ("+h+" === false || "+h+" === undefined) "+p+" = true; else if (typeof "+h+" != 'boolean') "+p+" = false; else { "),r+=" var i = "+d+".length , "+p+" = true , j; if (i > 1) { ";var v=t.schema.items&&t.schema.items.type,g=Array.isArray(v);if(!v||v=="object"||v=="array"||g&&(v.indexOf("object")>=0||v.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+p+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var b="checkDataType"+(g?"s":"");r+=" if ("+t.util[b](v,"item",t.opts.strictNumbers,!0)+") continue; ",g&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",f&&(r+="  }  "),r+=" if (!"+p+") {   ";var E=E||[];E.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var y=r;r=E.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},kU={$ref:pU,allOf:hU,anyOf:mU,$comment:vU,const:gU,contains:yU,dependencies:bU,enum:wU,format:SU,if:_U,items:EU,maximum:Fy,minimum:Fy,maxItems:Dy,minItems:Dy,maxLength:Oy,minLength:Oy,maxProperties:Ly,minProperties:Ly,multipleOf:CU,not:xU,oneOf:NU,pattern:IU,properties:TU,propertyNames:RU,required:PU,uniqueItems:AU,validate:EE},Vy=kU,Tc=Ea.toHash,$U=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return t.all=Tc(n),t.types=Tc(r),t.forEach(function(i){i.rules=i.rules.map(function(o){var s;if(typeof o=="object"){var l=Object.keys(o)[0];s=o[l],o=l,s.forEach(function(u){n.push(u),t.all[u]=!0})}n.push(o);var c=t.all[o]={keyword:o,code:Vy[o],implements:s};return c}),t.all.$comment={keyword:"$comment",code:Vy.$comment},i.type&&(t.types[i.type]=i)}),t.keywords=Tc(n.concat(a)),t.custom={},t},My=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],qU=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var a=t[n].split("/"),r=e,i;for(i=1;i<a.length;i++)r=r[a[i]];for(i=0;i<My.length;i++){var o=My[i],s=r[o];s&&(r[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},FU=Oh.MissingRef,DU=OE;function OE(e,t,n){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(n=t,t=void 0);var r=i(e).then(function(){var s=a._addSchema(e,void 0,t);return s.validate||o(s)});return n&&r.then(function(s){n(null,s)},n),r;function i(s){var l=s.$schema;return l&&!a.getSchema(l)?OE.call(a,{$ref:l},!0):Promise.resolve()}function o(s){try{return a._compile(s)}catch(c){if(c instanceof FU)return l(c);throw c}function l(c){var u=c.missingSchema;if(f(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=a._loadingSchemas[u];return d||(d=a._loadingSchemas[u]=a._opts.loadSchema(u),d.then(p,p)),d.then(function(h){if(!f(u))return i(h).then(function(){f(u)||a.addSchema(h,u,void 0,t)})}).then(function(){return o(s)});function p(){delete a._loadingSchemas[u]}function f(h){return a._refs[h]||a._schemas[h]}}}}var OU=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d,p="data"+(o||""),f="valid"+i,h="errs__"+i,v=t.opts.$data&&s&&s.$data,g;v?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",g="schema"+i):g=s;var b=this,E="definition"+i,y=b.definition,_="",w,S,C,x,T;if(v&&y.$data){T="keywordValidate"+i;var R=y.validateSchema;r+=" var "+E+" = RULES.custom['"+n+"'].definition; var "+T+" = "+E+".validate;"}else{if(x=t.useCustomRule(b,s,t.schema,t),!x)return;g="validate.schema"+l,T=x.code,w=y.compile,S=y.inline,C=y.macro}var q=T+".errors",k="i"+i,I="ruleErr"+i,N=y.async;if(N&&!t.async)throw new Error("async keyword in sync schema");if(S||C||(r+=""+q+" = null;"),r+="var "+h+" = errors;var "+f+";",v&&y.$data&&(_+="}",r+=" if ("+g+" === undefined) { "+f+" = true; } else { ",R&&(_+="}",r+=" "+f+" = "+E+".validateSchema("+g+"); if ("+f+") { ")),S)y.statements?r+=" "+x.validate+" ":r+=" "+f+" = "+x.validate+"; ";else if(C){var $=t.util.copy(t),_="";$.level++;var F="valid"+$.level;$.schema=x.validate,$.schemaPath="";var A=t.compositeRule;t.compositeRule=$.compositeRule=!0;var V=t.validate($).replace(/validate\.schema/g,T);t.compositeRule=$.compositeRule=A,r+=" "+V}else{var O=O||[];O.push(r),r="",r+="  "+T+".call( ",t.opts.passContext?r+="this":r+="self",w||y.schema===!1?r+=" , "+p+" ":r+=" , "+g+" , "+p+" , validate.schema"+t.schemaPath+" ",r+=" , (dataPath || '')",t.errorPath!='""'&&(r+=" + "+t.errorPath);var U=o?"data"+(o-1||""):"parentData",H=o?t.dataPathArr[o]:"parentDataProperty";r+=" , "+U+" , "+H+" , rootData )  ";var G=r;r=O.pop(),y.errors===!1?(r+=" "+f+" = ",N&&(r+="await "),r+=""+G+"; "):N?(q="customErrors"+i,r+=" var "+q+" = null; try { "+f+" = await "+G+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+q+" = e.errors; else throw e; } "):r+=" "+q+" = null; "+f+" = "+G+"; "}if(y.modifying&&(r+=" if ("+U+") "+p+" = "+U+"["+H+"];"),r+=""+_,y.valid)u&&(r+=" if (true) { ");else{r+=" if ( ",y.valid===void 0?(r+=" !",C?r+=""+F:r+=""+f):r+=" "+!y.valid+" ",r+=") { ",d=b.keyword;var O=O||[];O.push(r),r="";var O=O||[];O.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ",t.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var X=r;r=O.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+X+"]); ":r+=" validate.errors = ["+X+"]; return false; ":r+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Y=r;r=O.pop(),S?y.errors?y.errors!="full"&&(r+="  for (var "+k+"="+h+"; "+k+"<errors; "+k+"++) { var "+I+" = vErrors["+k+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+p+"; "),r+=" } "):y.errors===!1?r+=" "+Y+" ":(r+=" if ("+h+" == errors) { "+Y+" } else {  for (var "+k+"="+h+"; "+k+"<errors; "+k+"++) { var "+I+" = vErrors["+k+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+p+"; "),r+=" } } "):C?(r+="   var err =   ",t.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ",t.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):y.errors===!1?r+=" "+Y+" ":(r+=" if (Array.isArray("+q+")) { if (vErrors === null) vErrors = "+q+"; else vErrors = vErrors.concat("+q+"); errors = vErrors.length;  for (var "+k+"="+h+"; "+k+"<errors; "+k+"++) { var "+I+" = vErrors["+k+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+";  "+I+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+p+"; "),r+=" } } else { "+Y+" } "),r+=" } ",u&&(r+=" else { ")}return r};const LU="http://json-schema.org/draft-07/schema#",VU="http://json-schema.org/draft-07/schema#",MU="Core schema meta-schema",BU={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},UU=["object","boolean"],zU={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},LE={$schema:LU,$id:VU,title:MU,definitions:BU,type:UU,properties:zU,default:!0};var By=LE,HU={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:By.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:By.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},WU=/^[a-z_$][a-z0-9_$-]*$/i,jU=OU,QU=HU,GU={add:YU,get:XU,remove:KU,validate:Zd};function YU(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!WU.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var a=t.type;if(Array.isArray(a))for(var r=0;r<a.length;r++)o(e,a[r],t);else o(e,a,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}n.keywords[e]=n.all[e]=!0;function o(s,l,c){for(var u,d=0;d<n.length;d++){var p=n[d];if(p.type==l){u=p;break}}u||(u={type:l,rules:[]},n.push(u));var f={keyword:s,definition:c,custom:!0,code:jU,implements:c.implements};u.rules.push(f),n.custom[s]=f}return this}function XU(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function KU(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var a=t[n].rules,r=0;r<a.length;r++)if(a[r].keyword==e){a.splice(r,1);break}return this}function Zd(e,t){Zd.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(QU,!0);if(n(e))return!0;if(Zd.errors=n.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}const ZU="http://json-schema.org/draft-07/schema#",JU="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ez="Meta-schema for $data reference (JSON Schema extension proposal)",tz="object",rz=["$data"],nz={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},az=!1,iz={$schema:ZU,$id:JU,description:ez,type:tz,required:rz,properties:nz,additionalProperties:az};var VE=j9,bn=Dh,oz=J9,ME=yE,sz=_E,lz=oU,uz=$U,BE=qU,UE=Ea,cz=ot;ot.prototype.validate=fz;ot.prototype.compile=pz;ot.prototype.addSchema=hz;ot.prototype.addMetaSchema=mz;ot.prototype.validateSchema=vz;ot.prototype.getSchema=yz;ot.prototype.removeSchema=wz;ot.prototype.addFormat=Tz;ot.prototype.errorsText=Iz;ot.prototype._addSchema=Sz;ot.prototype._compile=_z;ot.prototype.compileAsync=DU;var Nl=GU;ot.prototype.addKeyword=Nl.add;ot.prototype.getKeyword=Nl.get;ot.prototype.removeKeyword=Nl.remove;ot.prototype.validateKeyword=Nl.validate;var zE=Oh;ot.ValidationError=zE.Validation;ot.MissingRefError=zE.MissingRef;ot.$dataMetaSchema=BE;var fs="http://json-schema.org/draft-07/schema",Uy=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],dz=["/properties"];function ot(e){if(!(this instanceof ot))return new ot(e);e=this._opts=UE.copy(e)||{},qz(this),this._schemas={},this._refs={},this._fragments={},this._formats=lz(e.format),this._cache=e.cache||new oz,this._loadingSchemas={},this._compilations=[],this.RULES=uz(),this._getId=Ez(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=sz),this._metaOpts=$z(this),e.formats&&Az(this),e.keywords&&kz(this),Rz(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),Pz(this)}function fz(e,t){var n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);n=a.validate||this._compile(a)}var r=n(t);return n.$async!==!0&&(this.errors=n.errors),r}function pz(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function hz(e,t,n,a){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.addSchema(e[r],void 0,n,a);return this}var i=this._getId(e);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return t=bn.normalizeId(t||i),WE(this,t),this._schemas[t]=this._addSchema(e,n,a,!0),this}function mz(e,t,n){return this.addSchema(e,t,n,!0),this}function vz(e,t){var n=e.$schema;if(n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||gz(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(n,e);if(!a&&t){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return a}function gz(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(fs)?fs:void 0,e._opts.defaultMeta}function yz(e){var t=HE(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return bz(this,e)}}function bz(e,t){var n=bn.schema.call(e,{schema:{}},t);if(n){var a=n.schema,r=n.root,i=n.baseId,o=VE.call(e,a,r,void 0,i);return e._fragments[t]=new ME({ref:t,fragment:!0,schema:a,root:r,baseId:i,validate:o}),o}}function HE(e,t){return t=bn.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function wz(e){if(e instanceof RegExp)return bo(this,this._schemas,e),bo(this,this._refs,e),this;switch(typeof e){case"undefined":return bo(this,this._schemas),bo(this,this._refs),this._cache.clear(),this;case"string":var t=HE(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,a=n?n(e):e;this._cache.del(a);var r=this._getId(e);r&&(r=bn.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function bo(e,t,n){for(var a in t){var r=t[a];!r.meta&&(!n||n.test(a))&&(e._cache.del(r.cacheKey),delete t[a])}}function Sz(e,t,n,a){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,i=r?r(e):e,o=this._cache.get(i);if(o)return o;a=a||this._opts.addUsedSchema!==!1;var s=bn.normalizeId(this._getId(e));s&&a&&WE(this,s);var l=this._opts.validateSchema!==!1&&!t,c;l&&!(c=s&&s==bn.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=bn.ids.call(this,e),d=new ME({id:s,schema:e,localRefs:u,cacheKey:i,meta:n});return s[0]!="#"&&a&&(this._refs[s]=d),this._cache.put(i,d),l&&c&&this.validateSchema(e,!0),d}function _z(e,t){if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,e.schema.$async===!0&&(r.$async=!0),r;e.compiling=!0;var n;e.meta&&(n=this._opts,this._opts=this._metaOpts);var a;try{a=VE.call(this,e.schema,t,e.localRefs)}catch(i){throw delete e.validate,i}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function r(){var i=e.validate,o=i.apply(this,arguments);return r.errors=i.errors,o}}function Ez(e){switch(e.schemaId){case"auto":return Nz;case"id":return Cz;default:return xz}}function Cz(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function xz(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Nz(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function Iz(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=t.separator===void 0?", ":t.separator,a=t.dataVar===void 0?"data":t.dataVar,r="",i=0;i<e.length;i++){var o=e[i];o&&(r+=a+o.dataPath+" "+o.message+n)}return r.slice(0,-n.length)}function Tz(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function Rz(e){var t;if(e._opts.$data&&(t=iz,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var n=LE;e._opts.$data&&(n=BE(n,dz)),e.addMetaSchema(n,fs,!0),e._refs["http://json-schema.org/schema"]=fs}}function Pz(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function Az(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function kz(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}function WE(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function $z(e){for(var t=UE.copy(e._opts),n=0;n<Uy.length;n++)delete t[Uy[n]];return t}function qz(e){var t=e._opts.logger;if(t===!1)e.logger={log:Rc,warn:Rc,error:Rc};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function Rc(){}const Fz=Nt(cz);let Dz=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function zy(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jE(e,t,n){return t&&zy(e.prototype,t),n&&zy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},le.apply(this,arguments)}function Tr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jd(e,t)}function Jd(e,t){return Jd=Object.setPrototypeOf||function(a,r){return a.__proto__=r,a},Jd(e,t)}function ft(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Oz(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QE(e){var t=Oz(e,"string");return typeof t=="symbol"?t:String(t)}function Wa(e){var t=e.type,n=t===void 0?"default":t,a=e.icon,r=e.className,i=ft(e,["type","icon","className"]);return z.createElement("button",le({type:"button",className:"btn btn-"+n+" "+r},i),z.createElement("i",{className:"glyphicon glyphicon-"+a}))}function Vh(e){var t=e.className,n=e.onClick,a=e.disabled;return z.createElement("div",{className:"row"},z.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right "+t},z.createElement(Wa,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:n,disabled:a})))}var Lz=qe.shape({ArrayFieldTemplate:qe.elementType,FieldTemplate:qe.elementType,ObjectFieldTemplate:qe.elementType,definitions:qe.object.isRequired,rootSchema:qe.object,fields:qe.objectOf(qe.elementType).isRequired,formContext:qe.object.isRequired,widgets:qe.objectOf(qe.oneOfType([qe.func,qe.object])).isRequired});qe.bool,qe.bool,qe.object,qe.any,qe.object,qe.func,qe.func.isRequired,qe.func,qe.string,qe.bool,Lz.isRequired,qe.bool,qe.object.isRequired,qe.bool,qe.bool,qe.bool;var Vr=GE(),Hy=null,Wy=null,ef="__rjsf_rootSchema";function GE(){var e=new Fz({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return e.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),e.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),e}function Vz(e){return e.length?e.reduce(function(t,n){var a=n.property,r=n.message,i=sx(a),o=t;i.length>0&&i[0]===""&&i.splice(0,1);for(var c=i.slice(0),s=Array.isArray(c),l=0,c=s?c:c[Symbol.iterator]();;){var u;if(s){if(l>=c.length)break;u=c[l++]}else{if(l=c.next(),l.done)break;u=l.value}var d=u;d in o||(o[d]={}),o=o[d]}return Array.isArray(o.__errors)?o.__errors=o.__errors.concat(r):r&&(o.__errors=[r]),t},{}):{}}function fn(e,t){t===void 0&&(t="root");var n=[];return"__errors"in e&&(n=n.concat(e.__errors.map(function(a){return{stack:t+": "+a}}))),Object.keys(e).reduce(function(a,r){return r!=="__errors"&&(a=a.concat(fn(e[r],r))),a},n)}function tf(e){var t={__errors:[],addError:function(a){this.__errors.push(a)}};return st(e)?Object.keys(e).reduce(function(n,a){var r;return le({},n,(r={},r[a]=tf(e[a]),r))},t):Array.isArray(e)?e.reduce(function(n,a,r){var i;return le({},n,(i={},i[r]=tf(a),i))},t):t}function YE(e){return Object.keys(e).reduce(function(t,n){var a;if(n==="addError")return t;if(n==="__errors"){var r;return le({},t,(r={},r[n]=e[n],r))}return le({},t,(a={},a[n]=YE(e[n]),a))},{})}function Mz(e){return e===void 0&&(e=[]),e===null?[]:e.map(function(t){var n=t.dataPath,a=t.keyword,r=t.message,i=t.params,o=t.schemaPath,s=""+n;return{name:a,property:s,message:r,params:i,stack:(s+" "+r).trim(),schemaPath:o}})}function XE(e,t,n,a,r,i){r===void 0&&(r=[]),i===void 0&&(i={});var o=t;e=Il(t,e,o,!0);var s=!Yt(Wy,r),l=!Yt(Hy,i);(s||l)&&(Vr=GE()),r&&s&&Array.isArray(r)&&(Vr.addMetaSchema(r),Wy=r),i&&l&&st(i)&&(Object.keys(i).forEach(function(b){Vr.addFormat(b,i[b])}),Hy=i);var c=null;try{Vr.validate(t,e)}catch(b){c=b}var u=Mz(Vr.errors);Vr.errors=null;var d=c&&c.message&&typeof c.message=="string"&&c.message.includes("no schema with key or ref ");d&&(u=[].concat(u,[{stack:c.message}])),typeof a=="function"&&(u=a(u));var p=Vz(u);if(d&&(p=le({},p,{$schema:{__errors:[c.message]}})),typeof n!="function")return{errors:u,errorSchema:p};var f=n(e,tf(e)),h=YE(f),v=zr(p,h,!0),g=fn(v);return{errors:g,errorSchema:v}}function rf(e){var t=e;if(e.constructor===Object){t=le({},e);for(var n in t){var a=t[n];n==="$ref"&&typeof a=="string"&&a.startsWith("#")?t[n]=ef+a:t[n]=rf(a)}}else if(Array.isArray(e)){t=[].concat(e);for(var r=0;r<t.length;r++)t[r]=rf(t[r])}return t}function nf(e,t,n){try{return Vr.addSchema(n,ef).validate(rf(e),t)}catch{return!1}finally{Vr.removeSchema(ef)}}var Mh="__additional_property",Pc={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Bz(e,t,n){if(!e.additionalProperties)return!1;var a=At(t),r=a.expandable;return r===!1?r:e.maxProperties!==void 0?Object.keys(n).length<e.maxProperties:!0}function la(e){var t=e.type;return!t&&e.const?mi(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":t instanceof Array&&t.length===2&&t.includes("null")?t.find(function(n){return n!=="null"}):t}function Cr(e,t,n){n===void 0&&(n={});var a=la(e);function r(s){if(!s.MergedWidget){var l=s.defaultProps&&s.defaultProps.options||{};s.MergedWidget=function(c){var u=c.options,d=u===void 0?{}:u,p=ft(c,["options"]);return z.createElement(s,le({options:le({},l,d)},p))}}return s.MergedWidget}if(typeof t=="function"||dy.isForwardRef(z.createElement(t))||dy.isMemo(t))return r(t);if(typeof t!="string")throw new Error("Unsupported widget definition: "+typeof t);if(n.hasOwnProperty(t)){var i=n[t];return Cr(e,i,n)}if(!Pc.hasOwnProperty(a))throw new Error('No widget for type "'+a+'"');if(Pc[a].hasOwnProperty(t)){var o=n[Pc[a][t]];return Cr(e,o,n)}throw new Error('No widget "'+t+'" for type "'+a+'"')}function Uz(e,t,n){n===void 0&&(n={});try{return Cr(e,t,n),!0}catch(a){if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw a}}function qr(e,t,n,a,r){a===void 0&&(a={}),r===void 0&&(r=!1);var i=st(e)?e:{},o=st(a)?a:{},s=t;if(st(s)&&st(i.default))s=zr(s,i.default);else if("default"in i)s=i.default;else if("$ref"in i){var l=Uh(i.$ref,n);return qr(l,s,n,o,r)}else if("dependencies"in i){var c=eC(i,n,o);return qr(c,s,n,o,r)}else of(i)?s=i.items.map(function(h,v){return qr(h,Array.isArray(t)?t[v]:void 0,n,o,r)}):"oneOf"in i?i=i.oneOf[vi(void 0,i.oneOf,n)]:"anyOf"in i&&(i=i.anyOf[vi(void 0,i.anyOf,n)]);switch(typeof s>"u"&&(s=i.default),la(i)){case"object":return Object.keys(i.properties||{}).reduce(function(h,v){var g=qr(i.properties[v],(s||{})[v],n,(o||{})[v],r);return(r||g!==void 0)&&(h[v]=g),h},{});case"array":if(Array.isArray(s)&&(s=s.map(function(h,v){return qr(i.items[v]||i.additionalItems||{},h,n)})),Array.isArray(a)&&(s=a.map(function(h,v){return qr(i.items,(s||{})[v],n,h)})),i.minItems){if(Bh(i,n))return s||[];var u=s?s.length:0;if(i.minItems>u){var d=s||[],p=Array.isArray(i.items)?i.additionalItems:i.items,f=o9(new Array(i.minItems-u),qr(p,p.defaults,n));return d.concat(f)}}}return s}function Il(e,t,n,a){if(n===void 0&&(n={}),a===void 0&&(a=!1),!st(e))throw new Error("Invalid schema: "+e);var r=Le(e,n,t),i=qr(r,e.default,n,t,a);return typeof t>"u"?i:st(t)||Array.isArray(t)?af(i,t):t===0||t===!1||t===""?t:t||i}function af(e,t){if(Array.isArray(t))return Array.isArray(e)||(e=[]),t.map(function(a,r){return e[r]?af(e[r],a):a});if(st(t)){var n=Object.assign({},e);return Object.keys(t).reduce(function(a,r){return a[r]=af(e?e[r]:{},t[r]),a},n)}else return t}function At(e){return Object.keys(e).filter(function(t){return t.indexOf("ui:")===0}).reduce(function(t,n){var a,r=e[n];return n==="ui:widget"&&st(r)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),le({},t,r.options||{},{widget:r.component})):n==="ui:options"&&st(r)?le({},t,r):le({},t,(a={},a[n.substring(3)]=r,a))},{})}function zz(e){var t=At(e),n={props:{disabled:!1},submitText:"Submit",norender:!1};return t&&t.submitButtonOptions?Object.assign({},n,t.submitButtonOptions):n}function Hz(e,t,n){var a=At(t),r=a.label,i=r===void 0?!0:r,o=la(e);return o==="array"&&(i=Bh(e,n)||KE(e,t,n)||ZE(t)),o==="object"&&(i=!1),o==="boolean"&&!t["ui:widget"]&&(i=!1),t["ui:field"]&&(i=!1),i}function st(e){return typeof File<"u"&&e instanceof File?!1:typeof e=="object"&&e!==null&&!Array.isArray(e)}function zr(e,t,n){n===void 0&&(n=!1);var a=Object.assign({},e);return Object.keys(t).reduce(function(r,i){var o=e?e[i]:{},s=t[i];return e&&e.hasOwnProperty(i)&&st(s)?r[i]=zr(o,s,n):n&&Array.isArray(o)&&Array.isArray(s)?r[i]=o.concat(s):r[i]=s,r},a)}function ja(e){if(e!==""){if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e))return e;var t=Number(e),n=typeof t=="number"&&!Number.isNaN(t);return/\.\d*0$/.test(e)?e:n?t:e}}function Wz(e,t){if(!Array.isArray(t))return e;var n=function(d){return d.reduce(function(p,f){return p[f]=!0,p},{})},a=function(d){return d.length>1?"properties '"+d.join("', '")+"'":"property '"+d[0]+"'"},r=n(e),i=t.filter(function(u){return u==="*"||r[u]}),o=n(i),s=e.filter(function(u){return!o[u]}),l=i.indexOf("*");if(l===-1){if(s.length)throw new Error("uiSchema order list does not contain "+a(s));return i}if(l!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var c=[].concat(i);return c.splice.apply(c,[l,1].concat(s)),c}function jz(e){return Array.isArray(e.enum)&&e.enum.length===1||e.hasOwnProperty("const")}function Qz(e){if(Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(e.hasOwnProperty("const"))return e.const;throw new Error("schema cannot be inferred as a constant")}function ps(e,t){t===void 0&&(t={});var n=Le(e,t),a=n.oneOf||n.anyOf;return Array.isArray(n.enum)?!0:Array.isArray(a)?a.every(function(r){return jz(r)}):!1}function Bh(e,t){return t===void 0&&(t={}),!e.uniqueItems||!e.items?!1:ps(e.items,t)}function KE(e,t,n){if(n===void 0&&(n={}),t["ui:widget"]==="files")return!0;if(e.items){var a=Le(e.items,n);return a.type==="string"&&a.format==="data-url"}return!1}function of(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(function(t){return st(t)})}function ZE(e){return"widget"in At(e)&&At(e).widget!=="hidden"}function jy(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),st(e.additionalItems)}function hs(e){if(e.enum)return e.enum.map(function(n,a){var r=e.enumNames&&e.enumNames[a]||String(n);return{label:r,value:n}});var t=e.oneOf||e.anyOf;return t.map(function(n){var a=Qz(n),r=n.title||String(a);return{schema:n,label:r,value:a}})}function Uh(e,t){t===void 0&&(t={});var n=e;if(e.startsWith("#"))e=decodeURIComponent(e.substring(1));else throw new Error("Could not find a definition for "+n+".");var a=Sl.get(t,e);if(a===void 0)throw new Error("Could not find a definition for "+n+".");return a.hasOwnProperty("$ref")?Uh(a.$ref,t):a}var mi=function(t){if(Array.isArray(t))return"array";if(typeof t=="string")return"string";if(t==null)return"null";if(typeof t=="boolean")return"boolean";if(isNaN(t)){if(typeof t=="object")return"object"}else return"number";return"string"};function Gz(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),e=le({},e,{properties:le({},e.properties)}),n=st(n)?n:{},Object.keys(n).forEach(function(a){if(!e.properties.hasOwnProperty(a)){var r;e.additionalProperties.hasOwnProperty("$ref")?r=Le({$ref:e.additionalProperties.$ref},t,n):e.additionalProperties.hasOwnProperty("type")?r=le({},e.additionalProperties):r={type:mi(n[a])},e.properties[a]=r,e.properties[a][Mh]=!0}}),e}var Yz=function(t,n,a){var r=t.if,i=t.then,o=t.else,s=ft(t,["if","then","else"]),l=nf(r,a,n)?i:o;return Le(l?Tl(s,Le(l,n,a)):s,n,a)};function Xz(e,t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),e.hasOwnProperty("$ref"))return JE(e,t,n);if(e.hasOwnProperty("dependencies")){var a=eC(e,t,n);return Le(a,t,n)}else return e.hasOwnProperty("allOf")?le({},e,{allOf:e.allOf.map(function(r){return Le(r,t,n)})}):e}function JE(e,t,n){var a=Uh(e.$ref,t),r=ft(e,["$ref"]);return Le(le({},a,r),t,n)}function Le(e,t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),!st(e))return{};var a=Xz(e,t,n);if(e.hasOwnProperty("if"))return Yz(e,t,n);if(a.properties){var r={};Object.entries(a.properties).forEach(function(l){var c=l[0],u=l[1],d=n&&n[c],p=st(d)?d:{},f=Le(u,t,p);r[c]=f,u!==f&&a.properties!==r&&(a=le({},a,{properties:r}))})}if("allOf"in e)try{a=WB(le({},a,{allOf:a.allOf}))}catch(l){console.warn(`could not merge subschemas in allOf:
`+l);var i=a,o=ft(i,["allOf"]);return o}var s=a.hasOwnProperty("additionalProperties")&&a.additionalProperties!==!1;return s?Gz(a,t,n):a}function eC(e,t,n){var a=e.dependencies,r=a===void 0?{}:a,i=ft(e,["dependencies"]);return"oneOf"in i?i=i.oneOf[vi(n,i.oneOf,t)]:"anyOf"in i&&(i=i.anyOf[vi(n,i.anyOf,t)]),tC(r,i,t,n)}function tC(e,t,n,a){for(var r in e)if(a[r]!==void 0&&!(t.properties&&!(r in t.properties))){var i=e[r],o=ft(e,[r].map(QE));return Array.isArray(i)?t=Kz(t,i):st(i)&&(t=Zz(t,n,a,r,i)),tC(o,t,n,a)}return t}function Kz(e,t){if(!t)return e;var n=Array.isArray(e.required)?Array.from(new Set([].concat(e.required,t))):t;return le({},e,{required:n})}function Zz(e,t,n,a,r){var i=Le(r,t,n),o=i.oneOf,s=ft(i,["oneOf"]);if(e=Tl(e,s),o===void 0)return e;if(!Array.isArray(o))throw new Error("invalid: it is some "+typeof o+" instead of an array");var l=o.map(function(c){return c.hasOwnProperty("$ref")?JE(c,t,n):c});return Jz(e,t,n,a,l)}function Jz(e,t,n,a,r){var i=r.filter(function(u){if(!u.properties)return!1;var d=u.properties[a];if(d){var p,f={type:"object",properties:(p={},p[a]=d,p)},h=XE(n,f),v=h.errors;return v.length===0}});if(i.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),e;var o=i[0],s=o.properties,l=ft(s,[a].map(QE)),c=le({},o,{properties:l});return Tl(e,Le(c,t,n))}function Tl(e,t){var n=Object.assign({},e);return Object.keys(t).reduce(function(a,r){var i=e?e[r]:{},o=t[r];return e&&e.hasOwnProperty(r)&&st(o)?a[r]=Tl(i,o):e&&t&&(la(e)==="object"||la(t)==="object")&&r==="required"&&Array.isArray(i)&&Array.isArray(o)?a[r]=ox(i,o):a[r]=o,a},n)}function wo(e){return Object.prototype.toString.call(e)==="[object Arguments]"}function Yt(e,t,n,a){if(n===void 0&&(n=[]),a===void 0&&(a=[]),e===t)return!0;if(typeof e=="function"||typeof t=="function")return!0;if(typeof e!="object"||typeof t!="object")return!1;if(e===null||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(wo(e)||wo(t)){if(!(wo(e)&&wo(t)))return!1;var r=Array.prototype.slice;return Yt(r.call(e),r.call(t),n,a)}else{if(e.constructor!==t.constructor)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length===0&&o.length===0)return!0;if(i.length!==o.length)return!1;for(var s=n.length;s--;)if(n[s]===e)return a[s]===t;n.push(e),a.push(t),i.sort(),o.sort();for(var l=i.length-1;l>=0;l--)if(i[l]!==o[l])return!1;for(var c,u=i.length-1;u>=0;u--)if(c=i[u],!Yt(e[c],t[c],n,a))return!1;return n.pop(),a.pop(),!0}}function zh(e,t,n){var a=e.props,r=e.state;return!Yt(a,t)||!Yt(r,n)}function wn(e,t,n,a,r,i){a===void 0&&(a={}),r===void 0&&(r="root"),i===void 0&&(i="_");var o={$id:t||r};if("$ref"in e||"dependencies"in e||"allOf"in e){var s=Le(e,n,a);return wn(s,t,n,a,r,i)}if("items"in e&&!e.items.$ref)return wn(e.items,t,n,a,r,i);if(e.type!=="object")return o;for(var l in e.properties||{}){var c=e.properties[l],u=o.$id+i+l;o[l]=wn(st(c)?c:{},u,n,(a||{})[l],r,i)}return o}function Qa(e,t,n,a){t===void 0&&(t=""),a===void 0&&(a={});var r={$name:t.replace(/^\./,"")};if("$ref"in e||"dependencies"in e||"allOf"in e){var i=Le(e,n,a);return Qa(i,t,n,a)}if(e.hasOwnProperty("additionalProperties")&&(r.__rjsf_additionalProperties=!0),e.hasOwnProperty("items")&&Array.isArray(a))a.forEach(function(s,l){r[l]=Qa(e.items,t+"."+l,n,s)});else if(e.hasOwnProperty("properties"))for(var o in e.properties)r[o]=Qa(e.properties[o],t+"."+o,n,(a||{})[o]);return r}function qa(e,t){if(t===void 0&&(t=!0),!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:t?n.getUTCHours():0,minute:t?n.getUTCMinutes():0,second:t?n.getUTCSeconds():0}}function Qy(e,t){var n=e.year,a=e.month,r=e.day,i=e.hour,o=i===void 0?0:i,s=e.minute,l=s===void 0?0:s,c=e.second,u=c===void 0?0:c;t===void 0&&(t=!0);var d=Date.UTC(n,a-1,r,o,l,u),p=new Date(d).toJSON();return t?p:p.slice(0,10)}function eH(e){if(!e)return"";var t=new Date(e),n=Fr(t.getFullYear(),4),a=Fr(t.getMonth()+1,2),r=Fr(t.getDate(),2),i=Fr(t.getHours(),2),o=Fr(t.getMinutes(),2),s=Fr(t.getSeconds(),2),l=Fr(t.getMilliseconds(),3);return n+"-"+a+"-"+r+"T"+i+":"+o+":"+s+"."+l}function tH(e){if(e)return new Date(e).toJSON()}function Fr(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}function rH(e){var t=e.split(","),n=t[0].split(";"),a=n[0].replace("data:",""),r=n.filter(function(u){return u.split("=")[0]==="name"}),i;r.length!==1?i="unknown":i=r[0].split("=")[1];for(var o=atob(t[1]),s=[],l=0;l<o.length;l++)s.push(o.charCodeAt(l));var c=new window.Blob([new Uint8Array(s)],{type:a});return{blob:c,name:i}}function rC(e){var t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function vi(e,t,n){if(e===void 0)return 0;for(var a=0;a<t.length;a++){var r=t[a];if(r.properties){var i={anyOf:Object.keys(r.properties).map(function(l){return{required:[l]}})},o=void 0;if(r.anyOf){var s=le({},r);s.allOf?s.allOf=s.allOf.slice():s.allOf=[],s.allOf.push(i),o=s}else o=Object.assign({},r,i);if(delete o.required,nf(o,e,n))return a}else if(nf(r,e,n))return a}return 0}function ko(e){return e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0?!0:e.anyOf&&e.anyOf.length===1?ko(e.anyOf[0]):e.oneOf&&e.oneOf.length===1?ko(e.oneOf[0]):e.allOf?e.allOf.some(ko):!1}function nC(e){var t=e.TitleField,n=e.idSchema,a=e.title,r=e.required;if(!a)return null;var i=n.$id+"__title";return z.createElement(t,{id:i,title:a,required:r})}function nH(e){var t=e.DescriptionField,n=e.idSchema,a=e.description;if(!a)return null;var r=n.$id+"__description";return z.createElement(t,{id:r,description:a})}function aC(e){var t={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return z.createElement("div",{key:e.key,className:e.className},z.createElement("div",{className:e.hasToolbar?"col-xs-9":"col-xs-12"},e.children),e.hasToolbar&&z.createElement("div",{className:"col-xs-3 array-item-toolbox"},z.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(e.hasMoveUp||e.hasMoveDown)&&z.createElement(Wa,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveUp,onClick:e.onReorderClick(e.index,e.index-1)}),(e.hasMoveUp||e.hasMoveDown)&&z.createElement(Wa,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveDown,onClick:e.onReorderClick(e.index,e.index+1)}),e.hasRemove&&z.createElement(Wa,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly,onClick:e.onDropIndexClick(e.index)}))))}function aH(e){return z.createElement("fieldset",{className:e.className,id:e.idSchema.$id},z.createElement(nC,{key:"array-field-title-"+e.idSchema.$id,TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&z.createElement("div",{className:"field-description",key:"field-description-"+e.idSchema.$id},e.uiSchema["ui:description"]||e.schema.description),z.createElement("div",{className:"row array-item-list",key:"array-item-list-"+e.idSchema.$id},e.items&&e.items.map(aC)),e.canAdd&&z.createElement(Vh,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function iH(e){return z.createElement("fieldset",{className:e.className,id:e.idSchema.$id},z.createElement(nC,{key:"array-field-title-"+e.idSchema.$id,TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&z.createElement(nH,{key:"array-field-description-"+e.idSchema.$id,DescriptionField:e.DescriptionField,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description}),z.createElement("div",{className:"row array-item-list",key:"array-item-list-"+e.idSchema.$id},e.items&&e.items.map(function(t){return aC(t)})),e.canAdd&&z.createElement(Vh,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function sf(){return Dz()}function Gy(e){return Array.isArray(e)?e.map(function(t){return{key:sf(),item:t}}):[]}function Fa(e){return e.map(function(t){return t.item})}var iC=function(e){Tr(t,e);function t(a){var r;r=e.call(this,a)||this,r._getNewFormDataRow=function(){var s=r.props,l=s.schema,c=s.registry,u=c.rootSchema,d=l.items;return of(l)&&jy(l)&&(d=l.additionalItems),Il(d,void 0,u)},r.onAddClick=function(s){s&&s.preventDefault();var l=r.props.onChange,c={key:sf(),item:r._getNewFormDataRow()},u=[].concat(r.state.keyedFormData,[c]);r.setState({keyedFormData:u,updatedKeyedFormData:!0},function(){return l(Fa(u))})},r.onAddIndexClick=function(s){return function(l){l&&l.preventDefault();var c=r.props.onChange,u={key:sf(),item:r._getNewFormDataRow()},d=[].concat(r.state.keyedFormData);d.splice(s,0,u),r.setState({keyedFormData:d,updatedKeyedFormData:!0},function(){return c(Fa(d))})}},r.onDropIndexClick=function(s){return function(l){l&&l.preventDefault();var c=r.props.onChange,u=r.state.keyedFormData,d;if(r.props.errorSchema){d={};var p=r.props.errorSchema;for(var f in p)f=parseInt(f),f<s?d[f]=p[f]:f>s&&(d[f-1]=p[f])}var h=u.filter(function(v,g){return g!==s});r.setState({keyedFormData:h,updatedKeyedFormData:!0},function(){return c(Fa(h),d)})}},r.onReorderClick=function(s,l){return function(c){c&&(c.preventDefault(),c.target.blur());var u=r.props.onChange,d;if(r.props.errorSchema){d={};var p=r.props.errorSchema;for(var f in p)f==s?d[l]=p[s]:f==l?d[s]=p[l]:d[f]=p[f]}var h=r.state.keyedFormData;function v(){var b=h.slice();return b.splice(s,1),b.splice(l,0,h[s]),b}var g=v();r.setState({keyedFormData:g},function(){return u(Fa(g),d)})}},r.onChangeForIndex=function(s){return function(l,c){var u,d=r.props,p=d.formData,f=d.onChange,h=p.map(function(v,g){var b=typeof l>"u"?null:l;return s===g?b:v});f(h,c&&r.props.errorSchema&&le({},r.props.errorSchema,(u={},u[s]=c,u)))}},r.onSelectChange=function(s){r.props.onChange(s)};var i=a.formData,o=Gy(i);return r.state={keyedFormData:o,updatedKeyedFormData:!1},r}t.getDerivedStateFromProps=function(r,i){if(i.updatedKeyedFormData)return{updatedKeyedFormData:!1};var o=r.formData||[],s=i.keyedFormData||[],l=o.length===s.length?s.map(function(c,u){return{key:c.key,item:o[u]}}):Gy(o);return{keyedFormData:l}};var n=t.prototype;return n.isItemRequired=function(r){return Array.isArray(r.type)?!C5(r.type,"null"):r.type!=="null"},n.canAddItem=function(r){var i=this.props,o=i.schema,s=i.uiSchema,l=At(s),c=l.addable;return c!==!1&&(o.maxItems!==void 0?c=r.length<o.maxItems:c=!0),c},n.render=function(){var r=this.props,i=r.schema,o=r.uiSchema,s=r.idSchema,l=r.registry,c=l.rootSchema;if(!i.hasOwnProperty("items")){var u=l.fields,d=u.UnsupportedField;return z.createElement(d,{schema:i,idSchema:s,reason:"Missing items definition"})}return Bh(i,c)?this.renderMultiSelect():ZE(o)?this.renderCustomWidget():of(i)?this.renderFixedArray():KE(i,o,c)?this.renderFiles():this.renderNormalArray()},n.renderNormalArray=function(){var r=this,i=this.props,o=i.schema,s=i.uiSchema,l=i.errorSchema,c=i.idSchema,u=i.name,d=i.required,p=i.disabled,f=i.readonly,h=i.hideError,v=i.autofocus,g=i.registry,b=i.onBlur,E=i.onFocus,y=i.idPrefix,_=i.idSeparator,w=_===void 0?"_":_,S=i.rawErrors,C=o.title===void 0?u:o.title,x=g.ArrayFieldTemplate,T=g.rootSchema,R=g.fields,q=g.formContext,k=R.TitleField,I=R.DescriptionField,N=Le(o.items,T),$=Fa(this.state.keyedFormData),F={canAdd:this.canAddItem($),items:this.state.keyedFormData.map(function(V,O){var U=V.key,H=V.item,G=Le(o.items,T,H),X=l?l[O]:void 0,Y=c.$id+w+O,K=wn(G,Y,T,H,y,w);return r.renderArrayFieldItem({key:U,index:O,canMoveUp:O>0,canMoveDown:O<$.length-1,itemSchema:G,itemIdSchema:K,itemErrorSchema:X,itemData:H,itemUiSchema:s.items,autofocus:v&&O===0,onBlur:b,onFocus:E})}),className:"field field-array field-array-of-"+N.type,DescriptionField:I,disabled:p,idSchema:c,uiSchema:s,onAddClick:this.onAddClick,readonly:f,hideError:h,required:d,schema:o,title:C,TitleField:k,formContext:q,formData:$,rawErrors:S,registry:g},A=s["ui:ArrayFieldTemplate"]||x||iH;return z.createElement(A,F)},n.renderCustomWidget=function(){var r=this.props,i=r.schema,o=r.idSchema,s=r.uiSchema,l=r.disabled,c=r.readonly,u=r.hideError,d=r.required,p=r.placeholder,f=r.autofocus,h=r.onBlur,v=r.onFocus,g=r.formData,b=r.registry,E=r.rawErrors,y=r.name,_=b.widgets,w=b.formContext,S=i.title||y,C=le({},At(s)),x=C.widget,T=ft(C,["widget"]),R=Cr(i,x,_);return z.createElement(R,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:v,options:T,schema:i,uiSchema:s,registry:b,value:g,disabled:l,readonly:c,hideError:u,required:d,label:S,placeholder:p,formContext:w,autofocus:f,rawErrors:E})},n.renderMultiSelect=function(){var r=this.props,i=r.schema,o=r.idSchema,s=r.uiSchema,l=r.formData,c=r.disabled,u=r.readonly,d=r.required,p=r.placeholder,f=r.autofocus,h=r.onBlur,v=r.onFocus,g=r.registry,b=r.rawErrors,E=r.name,y=this.props.formData,_=g.widgets,w=g.rootSchema,S=g.formContext,C=Le(i.items,w,l),x=i.title||E,T=hs(C),R=le({},At(s),{enumOptions:T}),q=R.widget,k=q===void 0?"select":q,I=ft(R,["widget"]),N=Cr(i,k,_);return z.createElement(N,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:v,options:I,schema:i,uiSchema:s,registry:g,value:y,disabled:c,readonly:u,required:d,label:x,placeholder:p,formContext:S,autofocus:f,rawErrors:b})},n.renderFiles=function(){var r=this.props,i=r.schema,o=r.uiSchema,s=r.idSchema,l=r.name,c=r.disabled,u=r.readonly,d=r.autofocus,p=r.onBlur,f=r.onFocus,h=r.registry,v=r.rawErrors,g=i.title||l,b=this.props.formData,E=h.widgets,y=h.formContext,_=At(o),w=_.widget,S=w===void 0?"files":w,C=ft(_,["widget"]),x=Cr(i,S,E);return z.createElement(x,{options:C,id:s&&s.$id,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:f,schema:i,uiSchema:o,title:g,value:b,disabled:c,readonly:u,registry:h,formContext:y,autofocus:d,rawErrors:v})},n.renderFixedArray=function(){var r=this,i=this.props,o=i.schema,s=i.uiSchema,l=i.formData,c=i.errorSchema,u=i.idPrefix,d=i.idSeparator,p=d===void 0?"_":d,f=i.idSchema,h=i.name,v=i.required,g=i.disabled,b=i.readonly,E=i.autofocus,y=i.registry,_=i.onBlur,w=i.onFocus,S=i.rawErrors,C=o.title||h,x=this.props.formData,T=y.ArrayFieldTemplate,R=y.rootSchema,q=y.fields,k=y.formContext,I=q.TitleField,N=o.items.map(function(V,O){return Le(V,R,l[O])}),$=jy(o)?Le(o.additionalItems,R,l):null;(!x||x.length<N.length)&&(x=x||[],x=x.concat(new Array(N.length-x.length)));var F={canAdd:this.canAddItem(x)&&$,className:"field field-array field-array-fixed-items",disabled:g,idSchema:f,formData:l,items:this.state.keyedFormData.map(function(V,O){var U=V.key,H=V.item,G=O>=N.length,X=G?Le(o.additionalItems,R,H):N[O],Y=f.$id+p+O,K=wn(X,Y,R,H,u,p),J=G?s.additionalItems||{}:Array.isArray(s.items)?s.items[O]:s.items||{},ne=c?c[O]:void 0;return r.renderArrayFieldItem({key:U,index:O,canRemove:G,canMoveUp:O>=N.length+1,canMoveDown:G&&O<x.length-1,itemSchema:X,itemData:H,itemUiSchema:J,itemIdSchema:K,itemErrorSchema:ne,autofocus:E&&O===0,onBlur:_,onFocus:w})}),onAddClick:this.onAddClick,readonly:b,required:v,registry:y,schema:o,uiSchema:s,title:C,TitleField:I,formContext:k,rawErrors:S},A=s["ui:ArrayFieldTemplate"]||T||aH;return z.createElement(A,F)},n.renderArrayFieldItem=function(r){var i=r.key,o=r.index,s=r.canRemove,l=s===void 0?!0:s,c=r.canMoveUp,u=c===void 0?!0:c,d=r.canMoveDown,p=d===void 0?!0:d,f=r.itemSchema,h=r.itemData,v=r.itemUiSchema,g=r.itemIdSchema,b=r.itemErrorSchema,E=r.autofocus,y=r.onBlur,_=r.onFocus,w=r.rawErrors,S=this.props,C=S.disabled,x=S.readonly,T=S.uiSchema,R=S.registry,q=R.fields.SchemaField,k=At(T),I=k.orderable,N=I===void 0?!0:I,$=k.removable,F=$===void 0?!0:$,A={moveUp:N&&u,moveDown:N&&p,remove:F&&l};return A.toolbar=Object.keys(A).some(function(V){return A[V]}),{children:z.createElement(q,{index:o,schema:f,uiSchema:v,formData:h,errorSchema:b,idPrefix:this.props.idPrefix,idSeparator:this.props.idSeparator,idSchema:g,required:this.isItemRequired(f),onChange:this.onChangeForIndex(o),onBlur:y,onFocus:_,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,hideError:this.props.hideError,autofocus:E,rawErrors:w}),className:"array-item",disabled:C,hasToolbar:A.toolbar,hasMoveUp:A.moveUp,hasMoveDown:A.moveDown,hasRemove:A.remove,index:o,key:i,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:x}},jE(t,[{key:"itemTitle",get:function(){var r=this.props.schema;return r.items.title||r.items.description||"Item"}}]),t}(P.Component);iC.defaultProps={uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1};function oC(e){var t=e.schema,n=e.name,a=e.uiSchema,r=e.idSchema,i=e.formData,o=e.registry,s=e.required,l=e.disabled,c=e.readonly,u=e.autofocus,d=e.onChange,p=e.onFocus,f=e.onBlur,h=e.rawErrors,v=t.title,g=o.widgets,b=o.formContext,E=o.fields,y=At(a),_=y.widget,w=_===void 0?"checkbox":_,S=ft(y,["widget"]),C=Cr(t,w,g),x;return Array.isArray(t.oneOf)?x=hs({oneOf:t.oneOf.map(function(T){return le({},T,{title:T.title||(T.const===!0?"Yes":"No")})})}):x=hs({enum:t.enum||[!0,!1],enumNames:t.enumNames||(t.enum&&t.enum[0]===!1?["No","Yes"]:["Yes","No"])}),z.createElement(C,{options:le({},S,{enumOptions:x}),schema:t,uiSchema:a,id:r&&r.$id,onChange:d,onFocus:p,onBlur:f,label:v===void 0?n:v,value:i,required:s,disabled:l,readonly:c,registry:o,formContext:b,autofocus:u,rawErrors:h,DescriptionField:E.DescriptionField})}oC.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};function oH(e){var t=e.id,n=e.description;return n?typeof n=="string"?z.createElement("p",{id:t,className:"field-description"},n):z.createElement("div",{id:t,className:"field-description"},n):null}var lf=function(e){Tr(t,e);function t(a){var r;r=e.call(this,a)||this,r.onOptionChange=function(l){var c=parseInt(l,10),u=r.props,d=u.formData,p=u.onChange,f=u.options,h=u.registry,v=h.rootSchema,g=Le(f[c],v,d),b=void 0;if(mi(d)==="object"&&(g.type==="object"||g.properties)){b=Object.assign({},d);var E=f.slice();E.splice(c,1);for(var w=E,y=Array.isArray(w),_=0,w=y?w:w[Symbol.iterator]();;){var S;if(y){if(_>=w.length)break;S=w[_++]}else{if(_=w.next(),_.done)break;S=_.value}var C=S;if(C.properties)for(var x in C.properties)b.hasOwnProperty(x)&&delete b[x]}}p(Il(f[c],b,v)),r.setState({selectedOption:parseInt(l,10)})};var i=r.props,o=i.formData,s=i.options;return r.state={selectedOption:r.getMatchingOption(o,s)},r}var n=t.prototype;return n.componentDidUpdate=function(r,i){if(!Yt(this.props.formData,r.formData)&&this.props.idSchema.$id===r.idSchema.$id){var o=this.getMatchingOption(this.props.formData,this.props.options);if(!i||o===this.state.selectedOption)return;this.setState({selectedOption:o})}},n.getMatchingOption=function(r,i){var o=this.props.registry.rootSchema,s=vi(r,i,o);return s!==0?s:this&&this.state?this.state.selectedOption:0},n.render=function(){var r=this.props,i=r.baseType,o=r.disabled,s=r.readonly,l=r.hideError,c=r.errorSchema,u=r.formData,d=r.idPrefix,p=r.idSeparator,f=r.idSchema,h=r.onBlur,v=r.onChange,g=r.onFocus,b=r.options,E=r.registry,y=r.uiSchema,_=r.schema,w=E.fields.SchemaField,S=E.widgets,C=this.state.selectedOption,x=At(y),T=x.widget,R=T===void 0?"select":T,q=ft(x,["widget"]),k=Cr({type:"number"},R,S),I=b[C]||null,N;I&&(N=I.type?I:Object.assign({},I,{type:i}));var $=b.map(function(F,A){return{label:F.title||"Option "+(A+1),value:A}});return z.createElement("div",{className:"panel panel-default panel-body"},z.createElement("div",{className:"form-group"},z.createElement(k,le({id:""+f.$id+(_.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:h,onFocus:g,value:C,options:{enumOptions:$},registry:E},q))),I!==null&&z.createElement(w,{schema:N,uiSchema:y,errorSchema:c,idSchema:f,idPrefix:d,idSeparator:p,formData:u,onChange:v,onBlur:h,onFocus:g,registry:E,disabled:o,readonly:s,hideError:l}))},t}(P.Component);lf.defaultProps={disabled:!1,readonly:!1,hideError:!1,errorSchema:{},idSchema:{},uiSchema:{}};var sH=/\.([0-9]*0)*$/,lH=/[0.]0*$/,sC=function(e){Tr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.handleChange=function(i){r.setState({lastValue:i}),(""+i).charAt(0)==="."&&(i="0"+i);var o=typeof i=="string"&&i.match(sH)?ja(i.replace(lH,"")):ja(i);r.props.onChange(o)},r.state={lastValue:a.value},r}var n=t.prototype;return n.render=function(){var r=this.props.registry.fields.StringField,i=this.props,o=i.formData,s=ft(i,["formData"]),l=this.state.lastValue,c=o;if(typeof l=="string"&&typeof c=="number"){var u=new RegExp((""+c).replace(".","\\.")+"\\.?0*$");l.match(u)&&(c=l)}return z.createElement(r,le({},s,{formData:c,onChange:this.handleChange}))},t}(z.Component);sC.defaultProps={uiSchema:{}};function uH(e){var t=e.TitleField,n=e.DescriptionField;return z.createElement("fieldset",{id:e.idSchema.$id},(e.uiSchema["ui:title"]||e.title)&&z.createElement(t,{id:e.idSchema.$id+"__title",title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&z.createElement(n,{id:e.idSchema.$id+"__description",description:e.description,formContext:e.formContext}),e.properties.map(function(a){return a.content}),Bz(e.schema,e.uiSchema,e.formData)&&z.createElement(Vh,{className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly}))}var lC=function(e){Tr(t,e);function t(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.state={wasPropertyKeyModified:!1,additionalProperties:{}},a.onPropertyChange=function(s,l){return l===void 0&&(l=!1),function(c,u){var d,p;c===void 0&&l&&(c="");var f=le({},a.props.formData,(d={},d[s]=c,d));a.props.onChange(f,u&&a.props.errorSchema&&le({},a.props.errorSchema,(p={},p[s]=u,p)))}},a.onDropPropertyClick=function(s){return function(l){l.preventDefault();var c=a.props,u=c.onChange,d=c.formData,p=le({},d);delete p[s],u(p)}},a.getAvailableKey=function(s,l){for(var c=0,u=s;l.hasOwnProperty(u);)u=s+"-"+ ++c;return u},a.onKeyChange=function(s){return function(l,c){var u,d;if(s!==l){l=a.getAvailableKey(l,a.props.formData);var p=le({},a.props.formData),f=(u={},u[s]=l,u),h=Object.keys(p).map(function(g){var b,E=f[g]||g;return b={},b[E]=p[g],b}),v=Object.assign.apply(Object,[{}].concat(h));a.setState({wasPropertyKeyModified:!0}),a.props.onChange(v,c&&a.props.errorSchema&&le({},a.props.errorSchema,(d={},d[l]=c,d)))}}},a.handleAddClick=function(s){return function(){var l=s.additionalProperties.type,c=le({},a.props.formData);if(s.additionalProperties.hasOwnProperty("$ref")){var u=a.props.registry,d=Le({$ref:s.additionalProperties.$ref},u.rootSchema,a.props.formData);l=d.type}c[a.getAvailableKey("newKey",c)]=a.getDefaultValue(l),a.props.onChange(c)}},a}var n=t.prototype;return n.isRequired=function(r){var i=this.props.schema;return Array.isArray(i.required)&&i.required.indexOf(r)!==-1},n.getDefaultValue=function(r){switch(r){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}},n.render=function(){var r=this,i=this.props,o=i.uiSchema,s=i.formData,l=i.errorSchema,c=i.idSchema,u=i.name,d=i.required,p=i.disabled,f=i.readonly,h=i.hideError,v=i.idPrefix,g=i.idSeparator,b=i.onBlur,E=i.onFocus,y=i.registry,_=y.rootSchema,w=y.fields,S=y.formContext,C=w.SchemaField,x=w.TitleField,T=w.DescriptionField,R=Le(this.props.schema,_,s),q=R.title===void 0?u:R.title,k=o["ui:description"]||R.description,I;try{var N=Object.keys(R.properties||{});I=Wz(N,o["ui:order"])}catch(A){return z.createElement("div",null,z.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",u||"root"," object field configuration:",z.createElement("em",null,A.message),"."),z.createElement("pre",null,JSON.stringify(R)))}var $=o["ui:ObjectFieldTemplate"]||y.ObjectFieldTemplate||uH,F={title:o["ui:title"]||q,description:k,TitleField:x,DescriptionField:T,properties:I.map(function(A){var V=R.properties[A].hasOwnProperty(Mh),O=V?o.additionalProperties:o[A],U=O&&O["ui:widget"]==="hidden";return{content:z.createElement(C,{key:A,name:A,required:r.isRequired(A),schema:R.properties[A],uiSchema:O,errorSchema:l[A],idSchema:c[A],idPrefix:v,idSeparator:g,formData:(s||{})[A],wasPropertyKeyModified:r.state.wasPropertyKeyModified,onKeyChange:r.onKeyChange(A),onChange:r.onPropertyChange(A,V),onBlur:b,onFocus:E,registry:y,disabled:p,readonly:f,hideError:h,onDropPropertyClick:r.onDropPropertyClick}),name:A,readonly:f,disabled:p,required:d,hidden:U}}),readonly:f,disabled:p,required:d,idSchema:c,uiSchema:o,schema:R,formData:s,formContext:S,registry:y};return z.createElement($,le({},F,{onAddClick:this.handleAddClick}))},t}(P.Component);lC.defaultProps={uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1};var cH="*",dH={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function fH(e,t,n,a){var r=t["ui:field"];if(typeof r=="function")return r;if(typeof r=="string"&&r in a)return a[r];var i=dH[la(e)];return!i&&(e.anyOf||e.oneOf)?function(){return null}:i in a?a[i]:function(){var o=a.UnsupportedField;return z.createElement(o,{schema:e,idSchema:n,reason:"Unknown field type "+e.type})}}function uC(e){var t=e.label,n=e.required,a=e.id;return t?z.createElement("label",{className:"control-label",htmlFor:a},t,n&&z.createElement("span",{className:"required"},cH)):null}function pH(e){var t=e.id,n=e.label,a=e.onChange;return z.createElement("input",{className:"form-control",type:"text",id:t,onBlur:function(i){return a(i.target.value)},defaultValue:n})}function hH(e){var t=e.id,n=e.help;return n?typeof n=="string"?z.createElement("p",{id:t,className:"help-block"},n):z.createElement("div",{id:t,className:"help-block"},n):null}function mH(e){var t=e.errors,n=t===void 0?[]:t;return n.length===0?null:z.createElement("div",null,z.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},n.filter(function(a){return!!a}).map(function(a,r){return z.createElement("li",{className:"text-danger",key:r},a)})))}function cC(e){var t=e.id,n=e.label,a=e.children,r=e.errors,i=e.help,o=e.description,s=e.hidden,l=e.required,c=e.displayLabel;return s?z.createElement("div",{className:"hidden"},a):z.createElement(vH,e,c&&z.createElement(uC,{label:n,required:l,id:t}),c&&o?o:null,a,r,i)}cC.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function vH(e){var t=e.id,n=e.classNames,a=e.disabled,r=e.label,i=e.onKeyChange,o=e.onDropPropertyClick,s=e.readonly,l=e.required,c=e.schema,u=r+" Key",d=c.hasOwnProperty(Mh);return d?z.createElement("div",{className:n},z.createElement("div",{className:"row"},z.createElement("div",{className:"col-xs-5 form-additional"},z.createElement("div",{className:"form-group"},z.createElement(uC,{label:u,required:l,id:t+"-key"}),z.createElement(pH,{label:r,required:l,id:t+"-key",onChange:i}))),z.createElement("div",{className:"form-additional form-group col-xs-5"},e.children),z.createElement("div",{className:"col-xs-2"},z.createElement(Wa,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:a||s,onClick:o(r)})))):z.createElement("div",{className:n},e.children)}function gH(e){var t=e.uiSchema,n=e.formData,a=e.errorSchema,r=e.idPrefix,i=e.idSeparator,o=e.name,s=e.onChange,l=e.onKeyChange,c=e.onDropPropertyClick,u=e.required,d=e.registry,p=e.wasPropertyKeyModified,f=p===void 0?!1:p,h=d.rootSchema,v=d.fields,g=d.formContext,b=t["ui:FieldTemplate"]||d.FieldTemplate||cC,E=e.idSchema,y=Le(e.schema,h,n);E=zr(wn(y,null,h,n,r,i),E);var _=fH(y,t,E,v),w=v.DescriptionField,S=!!(e.disabled||t["ui:disabled"]),C=!!(e.readonly||t["ui:readonly"]||e.schema.readOnly||y.readOnly),x=t["ui:hideError"],T=x===void 0?e.hideError:!!x,R=!!(e.autofocus||t["ui:autofocus"]);if(Object.keys(y).length===0)return null;var q=Hz(y,t,h),k=a.__errors,I=ft(a,["__errors"]),N=z.createElement(_,le({},e,{idSchema:E,schema:y,uiSchema:le({},t,{classNames:void 0}),disabled:S,readonly:C,hideError:T,autofocus:R,errorSchema:I,formContext:g,rawErrors:k})),$=E.$id,F;f?F=o:F=t["ui:title"]||e.schema.title||y.title||o;var A=t["ui:description"]||e.schema.description||y.description,V=k,O=t["ui:help"],U=t["ui:widget"]==="hidden",H=["form-group","field","field-"+y.type];!T&&V&&V.length>0&&H.push("field-error has-error has-danger"),H.push(t.classNames),H=H.join(" ").trim();var G={description:z.createElement(w,{id:$+"__description",description:A,formContext:g}),rawDescription:A,help:z.createElement(hH,{id:$+"__help",help:O}),rawHelp:typeof O=="string"?O:void 0,errors:T?void 0:z.createElement(mH,{errors:V}),rawErrors:T?void 0:V,id:$,label:F,hidden:U,onChange:s,onKeyChange:l,onDropPropertyClick:c,required:u,disabled:S,readonly:C,hideError:T,displayLabel:q,classNames:H,formContext:g,formData:n,fields:v,schema:y,uiSchema:t,registry:d},X=d.fields.AnyOfField,Y=d.fields.OneOfField;return z.createElement(b,G,z.createElement(z.Fragment,null,N,y.anyOf&&!ps(y)&&z.createElement(X,{disabled:S,readonly:C,hideError:T,errorSchema:a,formData:n,idPrefix:r,idSchema:E,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:y.anyOf.map(function(K){return Le(K,h,n)}),baseType:y.type,registry:d,schema:y,uiSchema:t}),y.oneOf&&!ps(y)&&z.createElement(Y,{disabled:S,readonly:C,hideError:T,errorSchema:a,formData:n,idPrefix:r,idSchema:E,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:y.oneOf.map(function(K){return Le(K,h,n)}),baseType:y.type,registry:d,schema:y,uiSchema:t})))}var dC=function(e){Tr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return!Yt(this.props,r)},n.render=function(){return gH(this.props)},t}(z.Component);dC.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1,hideError:!1};function fC(e){var t=e.schema,n=e.name,a=e.uiSchema,r=e.idSchema,i=e.formData,o=e.required,s=e.disabled,l=e.readonly,c=e.autofocus,u=e.onChange,d=e.onBlur,p=e.onFocus,f=e.registry,h=e.rawErrors,v=t.title,g=t.format,b=f.widgets,E=f.formContext,y=ps(t)&&hs(t),_=y?"select":"text";g&&Uz(t,g,b)&&(_=g);var w=At(a),S=w.widget,C=S===void 0?_:S,x=w.placeholder,T=x===void 0?"":x,R=ft(w,["widget","placeholder"]),q=Cr(t,C,b);return z.createElement(q,{options:le({},R,{enumOptions:y}),schema:t,uiSchema:a,id:r&&r.$id,label:v===void 0?n:v,value:i,onChange:u,onBlur:d,onFocus:p,required:o,disabled:s,readonly:l,formContext:E,autofocus:c,registry:f,placeholder:T,rawErrors:h})}fC.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var yH="*";function bH(e){var t=e.id,n=e.title,a=e.required;return z.createElement("legend",{id:t},n,a&&z.createElement("span",{className:"required"},yH))}var wH=function(e){Tr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.formData===void 0&&this.props.onChange(null)},n.render=function(){return null},t}(P.Component);function SH(e){var t=e.schema,n=e.idSchema,a=e.reason;return z.createElement("div",{className:"unsupported-field"},z.createElement("p",null,"Unsupported field schema",n&&n.$id&&z.createElement("span",null," for"," field ",z.createElement("code",null,n.$id)),a&&z.createElement("em",null,": ",a),"."),t&&z.createElement("pre",null,JSON.stringify(t,null,2)))}var _H={AnyOfField:lf,ArrayField:iC,BooleanField:oC,DescriptionField:oH,NumberField:sC,ObjectField:lC,OneOfField:lf,SchemaField:dC,StringField:fC,TitleField:bH,NullField:wH,UnsupportedField:SH};function EH(e,t){for(var n=[],a=e;a<=t;a++)n.push({value:a,label:Fr(a,2)});return n}function CH(e){return Object.keys(e).every(function(t){return e[t]!==-1})}function xH(e){var t=e.type,n=e.range,a=e.value,r=e.select,i=e.rootId,o=e.disabled,s=e.readonly,l=e.autofocus,c=e.registry,u=e.onBlur,d=i+"_"+t,p=c.widgets.SelectWidget;return z.createElement(p,{schema:{type:"integer"},id:d,className:"form-control",options:{enumOptions:EH(n[0],n[1])},placeholder:t,value:a,disabled:o,readonly:s,autofocus:l,onChange:function(h){return r(t,h)},onBlur:u})}var Hh=function(e){Tr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.onChange=function(i,o){var s;r.setState((s={},s[i]=typeof o>"u"?-1:o,s),function(){CH(r.state)&&r.props.onChange(Qy(r.state,r.props.time))})},r.setNow=function(i){i.preventDefault();var o=r.props,s=o.time,l=o.disabled,c=o.readonly,u=o.onChange;if(!(l||c)){var d=qa(new Date().toJSON(),s);r.setState(d,function(){return u(Qy(r.state,s))})}},r.clear=function(i){i.preventDefault();var o=r.props,s=o.time,l=o.disabled,c=o.readonly,u=o.onChange;l||c||r.setState(qa("",s),function(){return u(void 0)})},r.state=qa(a.value,a.time),r}var n=t.prototype;return n.componentDidUpdate=function(r,i){r.value&&r.value!==qa(this.props.value,this.props.time)&&this.setState(qa(this.props.value,this.props.time))},n.shouldComponentUpdate=function(r,i){return zh(this,r,i)},n.render=function(){var r=this,i=this.props,o=i.id,s=i.disabled,l=i.readonly,c=i.autofocus,u=i.registry,d=i.onBlur,p=i.options;return z.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(f,h){return z.createElement("li",{key:h},z.createElement(xH,le({rootId:o,select:r.onChange},f,{disabled:s,readonly:l,registry:u,onBlur:d,autofocus:c&&h===0})))}),(p.hideNowButton!=="undefined"?!p.hideNowButton:!0)&&z.createElement("li",null,z.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(p.hideClearButton!=="undefined"?!p.hideClearButton:!0)&&z.createElement("li",null,z.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))},jE(t,[{key:"dateElementProps",get:function(){var r=this.props,i=r.time,o=r.options,s=this.state,l=s.year,c=s.month,u=s.day,d=s.hour,p=s.minute,f=s.second,h=[{type:"year",range:o.yearsRange,value:l},{type:"month",range:[1,12],value:c},{type:"day",range:[1,31],value:u}];return i&&h.push({type:"hour",range:[0,23],value:d},{type:"minute",range:[0,59],value:p},{type:"second",range:[0,59],value:f}),h}}]),t}(P.Component);Hh.defaultProps={time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}};function pC(e){var t=e.registry.widgets.AltDateWidget;return z.createElement(t,le({time:!0},e))}pC.defaultProps=le({},Hh.defaultProps,{time:!0});function hC(e){if(!e.id)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var t=e.value,n=e.readonly,a=e.disabled,r=e.autofocus,i=e.onBlur,o=e.onFocus,s=e.options,l=e.schema,c=ft(e,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);s.inputType?c.type=s.inputType:c.type||(l.type==="number"?(c.type="number",c.step="any"):l.type==="integer"?(c.type="number",c.step="1"):c.type="text"),s.autocomplete&&(c.autoComplete=s.autocomplete),l.multipleOf&&(c.step=l.multipleOf),typeof l.minimum<"u"&&(c.min=l.minimum),typeof l.maximum<"u"&&(c.max=l.maximum);var u=function(p){var f=p.target.value;return e.onChange(f===""?s.emptyValue:f)};return[z.createElement("input",le({key:c.id,className:"form-control",readOnly:n,disabled:a,autoFocus:r,value:t??""},c,{list:l.examples?"examples_"+c.id:null,onChange:u,onBlur:i&&function(d){return i(c.id,d.target.value)},onFocus:o&&function(d){return o(c.id,d.target.value)}})),l.examples?z.createElement("datalist",{key:"datalist_"+c.id,id:"examples_"+c.id},[].concat(new Set(l.examples.concat(l.default?[l.default]:[]))).map(function(d){return z.createElement("option",{key:d,value:d})})):null]}hC.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};function mC(e){var t=e.schema,n=e.id,a=e.value,r=e.disabled,i=e.readonly,o=e.label,s=e.autofocus,l=e.onBlur,c=e.onFocus,u=e.onChange,d=e.DescriptionField,p=ko(t);return z.createElement("div",{className:"checkbox "+(r||i?"disabled":"")},t.description&&z.createElement(d,{description:t.description}),z.createElement("label",null,z.createElement("input",{type:"checkbox",id:n,checked:typeof a>"u"?!1:a,required:p,disabled:r||i,autoFocus:s,onChange:function(h){return u(h.target.checked)},onBlur:l&&function(f){return l(n,f.target.checked)},onFocus:c&&function(f){return c(n,f.target.checked)}}),z.createElement("span",null,o)))}mC.defaultProps={autofocus:!1};function NH(e,t,n){var a=n.indexOf(e),r=t.slice(0,a).concat(e,t.slice(a));return r.sort(function(i,o){return n.indexOf(i)>n.indexOf(o)})}function IH(e,t){return t.filter(function(n){return n!==e})}function vC(e){var t=e.id,n=e.disabled,a=e.options,r=e.value,i=e.autofocus,o=e.readonly,s=e.onChange,l=a.enumOptions,c=a.enumDisabled,u=a.inline;return z.createElement("div",{className:"checkboxes",id:t},l.map(function(d,p){var f=r.indexOf(d.value)!==-1,h=c&&c.indexOf(d.value)!=-1,v=n||h||o?"disabled":"",g=z.createElement("span",null,z.createElement("input",{type:"checkbox",id:t+"_"+p,checked:f,disabled:n||h||o,autoFocus:i&&p===0,onChange:function(E){var y=l.map(function(_){var w=_.value;return w});E.target.checked?s(NH(d.value,r,y)):s(IH(d.value,r))}}),z.createElement("span",null,d.label));return u?z.createElement("label",{key:p,className:"checkbox-inline "+v},g):z.createElement("div",{key:p,className:"checkbox "+v},z.createElement("label",null,g))}))}vC.defaultProps={autofocus:!1,options:{inline:!1}};function TH(e){var t=e.disabled,n=e.readonly,a=e.registry.widgets.BaseInput;return z.createElement(a,le({type:"color"},e,{disabled:t||n}))}function RH(e){var t=e.onChange,n=e.registry.widgets.BaseInput;return z.createElement(n,le({type:"date"},e,{onChange:function(r){return t(r||void 0)}}))}function PH(e){var t=e.value,n=e.onChange,a=e.registry.widgets.BaseInput;return z.createElement(a,le({type:"datetime-local"},e,{value:eH(t),onChange:function(i){return n(tH(i))}}))}function AH(e){var t=e.registry.widgets.BaseInput;return z.createElement(t,le({type:"email"},e))}function kH(e,t){return e.replace(";base64",";name="+encodeURIComponent(t)+";base64")}function $H(e){var t=e.name,n=e.size,a=e.type;return new Promise(function(r,i){var o=new window.FileReader;o.onerror=i,o.onload=function(s){r({dataURL:kH(s.target.result,t),name:t,size:n,type:a})},o.readAsDataURL(e)})}function qH(e){return Promise.all([].map.call(e,$H))}function FH(e){var t=e.filesInfo;return t.length===0?null:z.createElement("ul",{className:"file-info"},t.map(function(n,a){var r=n.name,i=n.size,o=n.type;return z.createElement("li",{key:a},z.createElement("strong",null,r)," (",o,", ",i," bytes)")}))}function DH(e){return e.filter(function(t){return typeof t<"u"}).map(function(t){var n=rH(t),a=n.blob,r=n.name;return{name:r,size:a.size,type:a.type}})}var gC=function(e){Tr(t,e);function t(a){var r;r=e.call(this,a)||this,r.onChange=function(s){var l=r.props,c=l.multiple,u=l.onChange;qH(s.target.files).then(function(d){var p={values:d.map(function(f){return f.dataURL}),filesInfo:d};r.setState(p,function(){u(c?p.values:p.values[0])})})};var i=a.value,o=Array.isArray(i)?i:[i];return r.state={values:o,filesInfo:DH(o)},r}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return zh(this,r,i)},n.render=function(){var r=this,i=this.props,o=i.multiple,s=i.id,l=i.readonly,c=i.disabled,u=i.autofocus,d=i.options,p=this.state.filesInfo;return z.createElement("div",null,z.createElement("p",null,z.createElement("input",{ref:function(h){return r.inputRef=h},id:s,type:"file",disabled:l||c,onChange:this.onChange,defaultValue:"",autoFocus:u,multiple:o,accept:d.accept})),z.createElement(FH,{filesInfo:p}))},t}(P.Component);gC.defaultProps={autofocus:!1};function OH(e){var t=e.id,n=e.value;return z.createElement("input",{type:"hidden",id:t,value:typeof n>"u"?"":n})}function LH(e){var t=e.registry.widgets.BaseInput;return z.createElement(t,le({type:"password"},e))}function yC(e){var t=e.options,n=e.value,a=e.required,r=e.disabled,i=e.readonly,o=e.autofocus,s=e.onBlur,l=e.onFocus,c=e.onChange,u=e.id,d=Math.random().toString(),p=t.enumOptions,f=t.enumDisabled,h=t.inline;return z.createElement("div",{className:"field-radio-group",id:u},p.map(function(v,g){var b=v.value===n,E=f&&f.indexOf(v.value)!=-1,y=r||E||i?"disabled":"",_=z.createElement("span",null,z.createElement("input",{type:"radio",checked:b,name:d,required:a,value:v.value,disabled:r||E||i,autoFocus:o&&g===0,onChange:function(S){return c(v.value)},onBlur:s&&function(w){return s(u,w.target.value)},onFocus:l&&function(w){return l(u,w.target.value)}}),z.createElement("span",null,v.label));return h?z.createElement("label",{key:g,className:"radio-inline "+y},_):z.createElement("div",{key:g,className:"radio "+y},z.createElement("label",null,_))}))}yC.defaultProps={autofocus:!1};function VH(e){var t=e.schema,n=e.value,a=e.registry.widgets.BaseInput;return z.createElement("div",{className:"field-range-wrapper"},z.createElement(a,le({type:"range"},e,rC(t))),z.createElement("span",{className:"range-view"},n))}var MH=new Set(["number","integer"]);function Ac(e,t){var n=e.type,a=e.items;if(t!==""){{if(n==="array"&&a&&MH.has(a.type))return t.map(ja);if(n==="boolean")return t==="true";if(n==="number")return ja(t)}if(e.enum){if(e.enum.every(function(r){return mi(r)==="number"}))return ja(t);if(e.enum.every(function(r){return mi(r)==="boolean"}))return t==="true"}return t}}function kc(e,t){return t?[].slice.call(e.target.options).filter(function(n){return n.selected}).map(function(n){return n.value}):e.target.value}function bC(e){var t=e.schema,n=e.id,a=e.options,r=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.multiple,c=e.autofocus,u=e.onChange,d=e.onBlur,p=e.onFocus,f=e.placeholder,h=a.enumOptions,v=a.enumDisabled,g=l?[]:"";return z.createElement("select",{id:n,multiple:l,className:"form-control",value:typeof r>"u"?g:r,required:i,disabled:o||s,autoFocus:c,onBlur:d&&function(b){var E=kc(b,l);d(n,Ac(t,E))},onFocus:p&&function(b){var E=kc(b,l);p(n,Ac(t,E))},onChange:function(E){var y=kc(E,l);u(Ac(t,y))}},!l&&t.default===void 0&&z.createElement("option",{value:""},f),h.map(function(b,E){var y=b.value,_=b.label,w=v&&v.indexOf(y)!=-1;return z.createElement("option",{key:E,value:y,disabled:w},_)}))}bC.defaultProps={autofocus:!1};function wC(e){var t=e.id,n=e.options,a=e.placeholder,r=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.autofocus,c=e.onChange,u=e.onBlur,d=e.onFocus,p=function(h){var v=h.target.value;return c(v===""?n.emptyValue:v)};return z.createElement("textarea",{id:t,className:"form-control",value:r||"",placeholder:a,required:i,disabled:o,readOnly:s,autoFocus:l,rows:n.rows,onBlur:u&&function(f){return u(t,f.target.value)},onFocus:d&&function(f){return d(t,f.target.value)},onChange:p})}wC.defaultProps={autofocus:!1,options:{}};function BH(e){var t=e.registry.widgets.BaseInput;return z.createElement(t,e)}function UH(e){var t=e.registry.widgets.BaseInput;return z.createElement(t,le({type:"url"},e))}function zH(e){var t=e.registry.widgets.BaseInput;return z.createElement(t,le({type:"number"},e,rC(e.schema)))}function HH(e){var t=e.uiSchema,n=zz(t),a=n.submitText,r=n.norender,i=n.props;return z.createElement("div",null,!r&&z.createElement("button",le({type:"submit"},i,{className:"btn btn-info"}),a))}var WH={BaseInput:hC,PasswordWidget:LH,RadioWidget:yC,UpDownWidget:zH,RangeWidget:VH,SelectWidget:bC,TextWidget:BH,DateWidget:RH,DateTimeWidget:PH,AltDateWidget:Hh,AltDateTimeWidget:pC,EmailWidget:AH,URLWidget:UH,TextareaWidget:wC,HiddenWidget:OH,ColorWidget:TH,FileWidget:gC,CheckboxWidget:mC,CheckboxesWidget:vC,SubmitButton:HH};function jH(){return{fields:_H,widgets:WH,definitions:{},rootSchema:{},formContext:{}}}function QH(e){var t=e.errors;return z.createElement("div",{className:"panel panel-danger errors"},z.createElement("div",{className:"panel-heading"},z.createElement("h3",{className:"panel-title"},"Errors")),z.createElement("ul",{className:"list-group"},t.map(function(n,a){return z.createElement("li",{key:a,className:"list-group-item text-danger"},n.stack)})))}var SC=function(e){Tr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.getUsedFormData=function(i,o){if(o.length===0&&typeof i!="object")return i;var s=bx(i,o);return Array.isArray(i)?Object.keys(s).map(function(l){return s[l]}):s},r.getFieldNames=function(i,o){var s=function l(c,u,d){return u===void 0&&(u=[]),d===void 0&&(d=[""]),Object.keys(c).forEach(function(p){if(typeof c[p]=="object"){var f=d.map(function(h){return h+"."+p});c[p].__rjsf_additionalProperties&&c[p].$name!==""?u.push(c[p].$name):l(c[p],u,f)}else p==="$name"&&c[p]!==""&&d.forEach(function(h){h=h.replace(/^\./,"");var v=wx(o,h);(typeof v!="object"||Sb(v))&&u.push(h)})}),u};return s(i)},r.onChange=function(i,o){if(st(i)||Array.isArray(i)){var s=r.getStateFromProps(r.props,i);i=s.formData}var l=!r.props.noValidate&&r.props.liveValidate,c={formData:i},u=i;if(r.props.omitExtraData===!0&&r.props.liveOmit===!0){var d=Le(r.state.schema,r.state.schema,i),p=Qa(d,"",r.state.schema,i),f=r.getFieldNames(p,i);u=r.getUsedFormData(i,f),c={formData:u}}if(l){var h=r.validate(u),v=h.errors,g=h.errorSchema,b=v,E=g;r.props.extraErrors&&(g=zr(g,r.props.extraErrors,!0),v=fn(g)),c={formData:u,errors:v,errorSchema:g,schemaValidationErrors:b,schemaValidationErrorSchema:E}}else if(!r.props.noValidate&&o){var y=r.props.extraErrors?zr(o,r.props.extraErrors,!0):o;c={formData:u,errorSchema:y,errors:fn(y)}}r.setState(c,function(){return r.props.onChange&&r.props.onChange(r.state)})},r.onBlur=function(){if(r.props.onBlur){var i;(i=r.props).onBlur.apply(i,arguments)}},r.onFocus=function(){if(r.props.onFocus){var i;(i=r.props).onFocus.apply(i,arguments)}},r.onSubmit=function(i){if(i.preventDefault(),i.target===i.currentTarget){i.persist();var o=r.state.formData;if(r.props.omitExtraData===!0){var s=Le(r.state.schema,r.state.schema,o),l=Qa(s,"",r.state.schema,o),c=r.getFieldNames(l,o);o=r.getUsedFormData(o,c)}if(!r.props.noValidate){var u=r.validate(o),d=u.errors,p=u.errorSchema,f=d,h=p;if(Object.keys(d).length>0){r.props.extraErrors&&(p=zr(p,r.props.extraErrors,!0),d=fn(p)),r.setState({errors:d,errorSchema:p,schemaValidationErrors:f,schemaValidationErrorSchema:h},function(){r.props.onError?r.props.onError(d):console.error("Form validation failed",d)});return}}var v,g;r.props.extraErrors?(v=r.props.extraErrors,g=fn(v)):(v={},g=[]),r.setState({formData:o,errors:g,errorSchema:v,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){r.props.onSubmit&&r.props.onSubmit(le({},r.state,{formData:o,status:"submitted"}),i)})}},r.state=r.getStateFromProps(a,a.formData),r.props.onChange&&!Yt(r.state.formData,r.props.formData)&&r.props.onChange(r.state),r.formElement=null,r}var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(r){var i=this.getStateFromProps(r,r.formData);!Yt(i.formData,r.formData)&&!Yt(i.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)},n.getStateFromProps=function(r,i){var o=this.state||{},s="schema"in r?r.schema:this.props.schema,l="uiSchema"in r?r.uiSchema:this.props.uiSchema,c=typeof i<"u",u="liveValidate"in r?r.liveValidate:this.props.liveValidate,d=c&&!r.noValidate&&u,p=s,f=Il(s,i,p),h=Le(s,p,f),v=r.customFormats,g=r.additionalMetaSchemas,b=function(){return r.noValidate?{errors:[],errorSchema:{}}:r.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}}},E,y,_,w;if(d){var S=this.validate(f,s,g,v);E=S.errors,y=S.errorSchema,_=E,w=y}else{var C=b();E=C.errors,y=C.errorSchema,_=o.schemaValidationErrors,w=o.schemaValidationErrorSchema}r.extraErrors&&(y=zr(y,r.extraErrors,!0),E=fn(y));var x=wn(h,l["ui:rootFieldId"],p,f,r.idPrefix,r.idSeparator),T={schema:s,uiSchema:l,idSchema:x,formData:f,edit:c,errors:E,errorSchema:y,additionalMetaSchemas:g};return _&&(T.schemaValidationErrors=_,T.schemaValidationErrorSchema=w),T},n.shouldComponentUpdate=function(r,i){return zh(this,r,i)},n.validate=function(r,i,o,s){i===void 0&&(i=this.props.schema),o===void 0&&(o=this.props.additionalMetaSchemas),s===void 0&&(s=this.props.customFormats);var l=this.props,c=l.validate,u=l.transformErrors,d=this.getRegistry(),p=d.rootSchema,f=Le(i,p,r);return XE(r,f,c,u,o,s)},n.renderErrors=function(){var r=this.state,i=r.errors,o=r.errorSchema,s=r.schema,l=r.uiSchema,c=this.props,u=c.ErrorList,d=c.showErrorList,p=c.formContext;return i.length&&d!=!1?z.createElement(u,{errors:i,errorSchema:o,schema:s,uiSchema:l,formContext:p}):null},n.getRegistry=function(){var r=jH(),i=r.fields,o=r.widgets;return{fields:le({},i,this.props.fields),widgets:le({},o,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}},n.submit=function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))},n.render=function(){var r=this,i=this.props,o=i.children,s=i.id,l=i.idPrefix,c=i.idSeparator,u=i.className,d=i.tagName,p=i.name,f=i.method,h=i.target,v=i.action,g=i.autocomplete,b=i.autoComplete,E=i.enctype,y=i.acceptcharset,_=i.noHtml5Validate,w=i.disabled,S=i.readonly,C=i.formContext,x=i._internalFormWrapper,T=this.state,R=T.schema,q=T.uiSchema,k=T.formData,I=T.errorSchema,N=T.idSchema,$=this.getRegistry(),F=$.fields.SchemaField,A=x?d:void 0,V=x||d||"form",O=$.widgets.SubmitButton;g&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var U=b||g;return z.createElement(V,{className:u||"rjsf",id:s,name:p,method:f,target:h,action:v,autoComplete:U,encType:E,acceptCharset:y,noValidate:_,onSubmit:this.onSubmit,as:A,ref:function(G){r.formElement=G}},this.renderErrors(),z.createElement(F,{schema:R,uiSchema:q,errorSchema:I,idSchema:N,idPrefix:l,idSeparator:c,formContext:C,formData:k,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:$,disabled:w,readonly:S}),o||z.createElement(O,{uiSchema:q}))},t}(P.Component);SC.defaultProps={uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:QH,omitExtraData:!1};qe.object,qe.object;const uf="First line is the columns names.",cf="Include row metadata (Row Id and Row Version).",ms="Comma Separated Values (CSV)",Yy="Tab Separated Values (TSV)",GH={type:"object",properties:{"File Type":{type:"string",oneOf:[{const:ms,title:ms},{const:Yy,title:Yy}]},Contents:{type:"array",title:"Contents",items:{type:"string",enum:[uf,cf]},uniqueItems:!0}}},YH={"File Type":{"ui:widget":"radio"},Contents:{"ui:widget":"checkboxes"}},XH={description:"File is ready for download. Select the download button to download the file.",type:"object"},KH={},ZH=[GH,XH],JH=[YH,KH];class ua extends P.Component{constructor(n){super(n);je(this,"handleSubmit",n=>{this.state.step===0?this.handleDownloadSetup(n):this.onDownload()});je(this,"handleDownloadSetup",n=>{this.setState({isLoading:!0});const{formData:a}=n,r=a["File Type"],i=a.Contents,{queryBundleRequest:o,getLastQueryRequest:s}=this.props,l=r===ms?",":"	",c=i.includes(uf),u=i.includes(cf),d=o??s(),p=d.query.sql,f={sql:p,entityId:rn(p),selectedFacets:d.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:c,includeRowIdAndRowVersion:u,csvTableDescriptor:{separator:l},additionalFilters:d.query.additionalFilters};_b(f,this.context.accessToken).then(h=>{this.setState({isLoading:!1,step:1,data:h})}).catch(h=>{console.log("Error getDownloadFromTableRequest: ",h)})});je(this,"onDownload",()=>{const{data:n}=this.state;Eb(n.resultsFileHandleId,this.context.accessToken).then(a=>{window.location.href=a,this.props.onClose()})});je(this,"handleChange",n=>{const{formData:a}=n;this.setState({formData:a})});this.state={isLoading:!1,step:0,formData:{"File Type":ms,Contents:[uf,cf]}}}render(){const n={height:50,width:50,backgroundSize:50};return m(Ei,{open:!0,onCancel:this.props.onClose,title:"Download query results",content:m(Q,{children:L(SC,{id:"modal-download-form",schema:ZH[this.state.step],uiSchema:JH[this.state.step],onChange:this.handleChange,formData:this.state.formData,onSubmit:this.handleSubmit,children:[this.state.isLoading&&m("div",{className:"SRC-centerAndJustifyContent",children:L("div",{className:"SRC-center-text",children:[m("p",{children:" Creating the File "}),m("div",{style:n,className:"spinner"}),m("p",{children:" Loading... "})]})}),m(P.Fragment,{})]})}),actions:L(Q,{children:[m(Gt,{variant:"outlined",color:"primary",onClick:this.props.onClose,children:"Cancel"}),m(Gt,{form:"modal-download-form",type:"submit",variant:"contained",color:"primary",children:this.state.step===0?"Next":"Download"})]})})}}je(ua,"contextType",Ni);try{ua.displayName="ModalDownload",ua.__docgenInfo={description:"",displayName:"ModalDownload",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(...args: any[]) => void"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!1,type:{name:"QueryBundleRequest"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}}}}}catch{}function _C(e,t){return`${e}${t}`}function e8(e,t){const n=window.location.search,a=`${e}=${t}`;return n?n.includes(`${e}=`)?window.location.search.slice(n.indexOf("?")+1).split("&").map(o=>o.split("=")[0]===e?`${a}`:o).join("&"):`${n.substr(1)}&${a}`:a}function t8(e,t){if(!window.location.search)return;const n=_C(e,t),r=window.location.search.slice(window.location.search.indexOf("?")+1).split("&").filter(i=>i.split("=")[0]===n).map(i=>i.split("=")[1])[0];return r?decodeURIComponent(r):void 0}function r8(e,t,n){const a=t!==void 0?_C(e,t):e,r=e8(a,n),i=window.location,o=`${i.protocol}//${i.hostname}${i.port?":"+i.port:""}${i.pathname}?${r}`;window.history.replaceState("object or string","Title",o)}function n8(e,t){const n=t8(e,t);let a;if(n){const r=JSON.parse(n);r.sql&&(a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Fs|Ds|Os|pa|ha,entityId:rn(r.sql),query:r})}return a}function EC(e){const{initQueryRequest:t,componentIndex:n=0,shouldDeepLink:a=!1,onQueryChange:r}=e,[i,o]=P.useState(t);P.useEffect(()=>{const w=n8("QueryWrapper",n);w&&o(w)},[n]);const s=P.useCallback(()=>Br(i),[i]),l=P.useCallback(()=>Br(t),[t]),c=P.useCallback(w=>{let S;typeof w=="function"?S=w(s()):S=w;const C=Br(S);if(o(C),C.query){const x=JSON.stringify(C.query);if(a){const T=encodeURIComponent(x);r8("QueryWrapper",n,T)}r&&r(x)}},[n,s,r,a]),{entityId:u,versionNumber:d}=P.useMemo(()=>tw(i.query.sql),[i.query.sql]),p=i.query.limit??Ls,f=Math.ceil(((i.query.offset??0)+Number(p))/p),h=P.useCallback(w=>{c(S=>(S.query.limit=w,S))},[c]),v=P.useCallback(w=>{c(S=>(S.query.offset=(w-1)*p,S))},[p,c]),g=P.useCallback(()=>{c(t)},[t,c]);Oo(()=>{i!=t&&g()},[t]);const b=P.useCallback(w=>{c(S=>(S.query.selectedFacets=(S.query.selectedFacets??[]).filter(C=>!Da(C,w)),S))},[c]),E=P.useCallback((w,S)=>{c(C=>(C.query.selectedFacets=(C.query.selectedFacets??[]).map(x=>(jc(x)&&Da(x,w)&&(x.facetValues=x.facetValues.filter(T=>T!==S)),x)).filter(x=>jc(x)?Array.isArray(x.facetValues)&&x.facetValues.length>0:!0),C))},[c]),y=P.useCallback(w=>{c(S=>(S.query.additionalFilters=(S.query.additionalFilters??[]).filter(C=>!Da(C,w)),S))},[c]),_=P.useCallback((w,S)=>{c(C=>(C.query.additionalFilters=(C.query.additionalFilters??[]).map(x=>((Lo(x)||Vo(x))&&Da(x,w)&&(x.values=x.values.filter(T=>T!==S)),x)).filter(x=>Lo(x)||Vo(x)?Array.isArray(x.values)&&x.values.length>0:!0),C))},[c]);return{entityId:u,versionNumber:d,getInitQueryRequest:l,getLastQueryRequest:s,setQuery:c,pageSize:p,currentPage:f,setPageSize:h,goToPage:v,resetQuery:g,removeSelectedFacet:b,removeValueFromSelectedFacet:E,removeQueryFilter:y,removeValueFromQueryFilter:_}}function vs(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:a,lockedColumn:r,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s}=e,[l,c]=P.useState(void 0),{entityId:u,versionNumber:d,getInitQueryRequest:p,getLastQueryRequest:f,setQuery:h,currentPage:v,pageSize:g,goToPage:b,setPageSize:E,resetQuery:y,removeSelectedFacet:_,removeValueFromSelectedFacet:w,removeQueryFilter:S,removeValueFromQueryFilter:C}=EC({initQueryRequest:t,shouldDeepLink:o,componentIndex:i,onQueryChange:n}),x=P.useMemo(()=>f(),[f]),{data:T,isLoading:R,error:q,isPreviousData:k}=aw(x,{keepPreviousData:!0},c),I=T==null?void 0:T.responseBody,N=R||k,{data:$}=Ri(u,d);rw(()=>{I&&a&&a(JSON.stringify(I))},[I,a]);const F=I?iw(I.facets,I.selectColumns):!0,A=P.useMemo(()=>ow(I,r),[I,r]),V=P.useMemo(()=>{const X=f();return sw(X.query,r)},[f,r]),O=P.useCallback(X=>{var Y;return((Y=I==null?void 0:I.columnModels)==null?void 0:Y.find(K=>K.name===X))??null},[I==null?void 0:I.columnModels]),U={data:A,currentPage:v,pageSize:g,setPageSize:E,isLoadingNewBundle:N,getLastQueryRequest:f,getInitQueryRequest:p,error:q,entity:$,executeQueryRequest:h,isFacetsAvailable:F,asyncJobStatus:l,goToPage:b,hasResettableFilters:V,removeSelectedFacet:_,removeValueFromSelectedFacet:w,resetQuery:y,removeQueryFilter:S,removeValueFromQueryFilter:C,lockedColumn:r,getColumnModel:O,onViewSharingSettingsClicked:s},{children:H}=e;return m(ns,{queryContext:U,children:m("div",{className:`SRC-wrapper ${N?"SRC-logo-cursor":""} ${F?"has-facets":""}`,children:H})})}try{vs.displayName="QueryWrapper",vs.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"QueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}function gs(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:a,lockedColumn:r,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s}=e,[l,c]=P.useState(void 0),{entityId:u,versionNumber:d,getInitQueryRequest:p,getLastQueryRequest:f,setQuery:h,resetQuery:v,removeQueryFilter:g,removeValueFromQueryFilter:b,removeSelectedFacet:E,removeValueFromSelectedFacet:y}=EC({initQueryRequest:t,componentIndex:i,shouldDeepLink:o,onQueryChange:n}),_=P.useMemo(()=>f(),[f]),{data:w,hasNextPage:S,fetchPreviousPage:C,fetchNextPage:x,isFetchingNextPage:T,isLoading:R,error:q,isPreviousData:k}=mx(_,{keepPreviousData:!0},c),I=R||k,{data:N}=Ri(u,d),[$,F]=P.useState(0);async function A(){if(!S)throw new Error("Called appendNextPageToResults when there is no next page");await x(),F("ALL")}async function V(){if(!S)throw new Error("Called goToNextPage when there is no next page");if($==="ALL")throw new Error("Cannot go to next page when all pages are displayed");await x(),F($+1)}const O=$!=="ALL"&&$>0;async function U(){if($==="ALL")throw new Error("Cannot go to previous page when all pages are displayed");if(!O)throw new Error("Called goToNextPage when there is no next page");await C(),F($-1)}const H=P.useMemo(()=>{var ye,ie,ve;if(!(w==null||w.pages.length===0||w.pages[0].responseBody==null))return $==="ALL"?{...w==null?void 0:w.pages[0].responseBody,queryResult:{...(ye=w==null?void 0:w.pages[0].responseBody)==null?void 0:ye.queryResult,queryResults:{...(ve=(ie=w==null?void 0:w.pages[0].responseBody)==null?void 0:ie.queryResult)==null?void 0:ve.queryResults,rows:w.pages.flatMap(Ae=>{var he;return(he=Ae.responseBody.queryResult)==null?void 0:he.queryResults.rows})??[]}}}:w==null?void 0:w.pages[$].responseBody},[$,w]);P.useEffect(()=>{H&&a&&a(JSON.stringify(H))},[H,a]);const G=H?iw(H.facets,H.selectColumns):!0,X=P.useMemo(()=>ow(H,r),[H,r]),Y=P.useMemo(()=>{const ye=f();return sw(ye.query,r)},[f,r]),K=P.useCallback(ye=>{var ie;return((ie=H==null?void 0:H.columnModels)==null?void 0:ie.find(ve=>ve.name===ye))??null},[H==null?void 0:H.columnModels]),J={data:X,isLoadingNewPage:T,hasNextPage:!!S,hasPreviousPage:O,isLoadingNewBundle:I,getLastQueryRequest:f,getInitQueryRequest:p,error:q,entity:N,executeQueryRequest:h,isFacetsAvailable:G,asyncJobStatus:l,appendNextPageToResults:A,goToNextPage:V,goToPreviousPage:U,hasResettableFilters:Y,resetQuery:v,removeQueryFilter:g,removeValueFromQueryFilter:b,removeSelectedFacet:E,removeValueFromSelectedFacet:y,lockedColumn:r,getColumnModel:K,onViewSharingSettingsClicked:s},{children:ne}=e;return m(ns,{queryContext:J,children:m("div",{className:`SRC-wrapper ${I||T?"SRC-logo-cursor":""} ${G?"has-facets":""}`,children:ne})})}try{gs.displayName="InfiniteQueryWrapper",gs.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"InfiniteQueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}function a8(e,t){const{accessToken:n,keyFactory:a}=ze();return da(a.getEntityActionsRequiredQueryKey(e),()=>XC(e,n),t)}function df(e){const{modifiedDataAccessRequest:t,onHide:n}=e,[a,r]=P.useState(),[i,o]=P.useState(!1),{mutate:s}=Cx({onSuccess:()=>{n()},onError:c=>{r({key:"error",message:`Sorry, there is an error in submitting your request. ${c.reason?c.reason+".":" "}Please close this dialog and try again later.`}),o(!0)}});function l(){t&&s(t)}return L(Q,{children:[m(Za,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:["Save Changes",m(ut,{sx:{flexGrow:1}}),m(zs,{onClick:n,children:m(Fe,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),L(Ja,{children:[m(De,{variant:"body1",children:"Would you like to save your recent changes?"}),a&&m(cn,{severity:a.key,children:a.message})]}),L(Dp,{children:[!i&&L(Q,{children:[m(Gt,{variant:"outlined",onClick:n,children:"Cancel"}),m(Gt,{variant:"contained",onClick:()=>{l()},children:"Save changes"})]}),i&&m(Gt,{variant:"contained",onClick:n,children:"Close"})]})]})}try{df.displayName="CancelRequestDataAccess",df.__docgenInfo={description:"",displayName:"CancelRequestDataAccess",props:{modifiedDataAccessRequest:{defaultValue:null,description:"",name:"modifiedDataAccessRequest",required:!0,type:{name:"Request | Renewal | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function ff(e){const{onHide:t}=e;return L(Q,{children:[m(Za,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:["Your Data Access Request Has Been Submitted",m(ut,{sx:{flexGrow:1}}),m(zs,{onClick:t,children:m(Fe,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),m(Ja,{children:m(De,{variant:"body1",children:"Your data access request been submitted and is currently being reviewed. Please allow for up to 2 weeks for your request to be reviewed and approved."})}),m(Dp,{children:m(Gt,{variant:"contained",onClick:t,children:"Finish"})})]})}try{ff.displayName="RequestDataAccessSuccess",ff.__docgenInfo={description:"",displayName:"RequestDataAccessSuccess",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function pf(e){const{accessRequirement:t,entityId:n,onHide:a}=e,{accessToken:r}=ze(),{data:i,isLoading:o}=Fp(String(t.id)),s=i==null?void 0:i.isApproved,[l,c]=P.useState(!1);let u="";window.location.hostname==="www.synapse.org"||window.location.hostname==="staging.synapse.org"?u="Request access":u="Request access via Synapse.org";const d=()=>{window.open(`${lr.PORTAL}#!AccessRequirement:AR_ID=${t.id}&TYPE=ENTITY&ID=${n}`)},p=()=>{d(),a&&a()},f=t.actContactInfo;let h;return r&&!s&&(h=[{variant:"outlined",onClick:p,children:u},{variant:"text",onClick:a,children:"I do not accept"}]),m(Op,{"data-testid":"UnmanagedACTAccessRequirementItem",status:o?ar.LOADING:s?ar.COMPLETE:ar.LOCKED,actions:h,children:s?L(Q,{children:[L(De,{variant:"body1",children:["Your data access request has been approved."," ",m(Xt,{role:"button",onClick:()=>c(!l),children:l?"Hide Instructions":"View Instructions"})]}),l&&m(ut,{sx:{my:1},children:m(xt,{markdown:f})})]}):m(xt,{markdown:f})})}try{pf.displayName="UnmanagedACTAccessRequirementItem",pf.__docgenInfo={description:`Renders a {@link RequirementItem} for the deprecated {@link ACTAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link ManagedACTAccessRequirementItem }

For {@link SelfSignAccessRequirement } and {@link TermsOfUseAccessRequirement }, see {@link SelfSignAccessRequirementItem }`,displayName:"UnmanagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function hf(e){var g,b,E,y,_,w;const{accessRequirement:t,onHide:n,onRequestAccess:a}=e,{data:r}=uw(t.id.toString()),{data:i,isLoading:o}=Fp(String(t.id)),{mutate:s}=xx({onError:S=>{console.error("Error cancelling data access request",S),d({key:"error",message:L(Q,{children:[m("strong",{children:"Error canceling your data access request."}),m("br",{}),"Please try again later."]})})}}),[l,c]=P.useState(!0),[u,d]=P.useState(),p=((g=i==null?void 0:i.currentSubmissionStatus)==null?void 0:g.state)===Rt.APPROVED;let f=m(Q,{});r&&(f=L("div",{children:[m(xt,{wikiId:r.wikiPageId,ownerId:r.ownerObjectId,objectType:r.ownerObjectType}),u&&m(cn,{className:"access-requirement-list-alert",severity:u.key,children:u.message}),((b=i==null?void 0:i.currentSubmissionStatus)==null?void 0:b.state)===Rt.SUBMITTED&&m(cn,{className:"access-requirement-list-alert",severity:"info",children:m("strong",{children:"You have submitted a data access request."})}),((E=i==null?void 0:i.currentSubmissionStatus)==null?void 0:E.state)===Rt.APPROVED&&m(cn,{className:"access-requirement-list-alert",severity:"success",children:m("strong",{children:"Your data access request has been approved."})}),((y=i==null?void 0:i.currentSubmissionStatus)==null?void 0:y.state)===Rt.REJECTED&&m(cn,{className:"access-requirement-list-alert",severity:"error",children:L(Q,{children:[m("strong",{children:"Your data access request has been rejected."}),m("br",{}),(i==null?void 0:i.currentSubmissionStatus.rejectedReason)||""]})}),((_=i==null?void 0:i.currentSubmissionStatus)==null?void 0:_.state)===Rt.CANCELLED&&m(cn,{className:"access-requirement-list-alert",severity:"success",children:m("strong",{children:"Your data access request has been canceled."})})]}));const h=[];i&&(i.currentSubmissionStatus==null?(h.push({variant:"outlined",onClick:a,children:"Request access"}),h.push({variant:"text",onClick:n,children:"I do not accept"})):[Rt.APPROVED,Rt.REJECTED,Rt.CANCELLED].includes(i.currentSubmissionStatus.state)?h.push({variant:"outlined",onClick:a,children:"Update Request"}):i.currentSubmissionStatus.state===Rt.SUBMITTED&&h.push({variant:"outlined",onClick:()=>{s({submissionId:i.currentSubmissionStatus.submissionId,accessRequirementId:String(t.id)})},children:"Cancel Request"}));let v=ar.LOADING;if(!o)switch((w=i==null?void 0:i.currentSubmissionStatus)==null?void 0:w.state){case Rt.APPROVED:v=ar.COMPLETE;break;case Rt.SUBMITTED:v=ar.PENDING;break;case Rt.REJECTED:case Rt.CANCELLED:default:v=ar.LOCKED}return L(Op,{"data-testid":"ManagedACTAccessRequirementItem",status:v,actions:h,children:[!p&&m(Q,{children:f}),p&&L(Q,{children:[L(De,{variant:"body1",children:["Your data access request has been approved."," ",m(Xt,{role:"button",onClick:()=>{c(!l)},children:l?"View Terms":"Hide Terms"})]}),!l&&m(ut,{sx:{my:1},children:f})]})]})}try{hf.displayName="ManagedACTAccessRequirementItem",hf.__docgenInfo={description:`Renders a {@link RequirementItem} for a ManagedACTAccessRequirement, which allows a user to see if they have met the
requirement, and if not, complete a data access request to apply for access.`,displayName:"ManagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"() => void"}}}}}catch{}function mf(e){const{accessRequirement:t,onHide:n}=e,{accessToken:a}=ze(),r=!!a,i=vI(t),{data:o}=KC(),{data:s}=ZC(),l=r&&s&&!i&&t.isCertifiedUserRequired&&!s.isCertified,c=r&&s&&!i&&t.isValidatedProfileRequired&&!s.isVerified,{data:u,isLoading:d}=Fp(String(t.id)),p=u==null?void 0:u.isApproved,{data:f}=uw(t.id.toString(),{enabled:!i}),[h,v]=P.useState(!1),{mutate:g,isLoading:b,error:E}=Nx({onError:S=>{console.error("Error creating access approval: ",S)}}),y=()=>{const S={requirementId:t==null?void 0:t.id,submitterId:o==null?void 0:o.ownerId,accessorId:o==null?void 0:o.ownerId,state:yw.APPROVED};g(S)};let _=m(Q,{});i?_=m(xt,{markdown:t.termsOfUse}):f&&(_=m(xt,{wikiId:f==null?void 0:f.wikiPageId,ownerId:f==null?void 0:f.ownerObjectId,objectType:f==null?void 0:f.ownerObjectType}));let w;if(a&&!p){let S="I Accept Terms of Use",C=!1;(l||c)&&(C=!0,S=`You must ${l?"be certified":""}${l&&c?" and ":""}${c?"have a validated user profile":""} to accept`),w=[{variant:"outlined",onClick:y,children:S,disabled:b||C},{variant:"text",onClick:n,children:"I do not accept"}]}return L(Op,{"data-testid":"SelfSignAccessRequirementItem",status:d?ar.LOADING:p?ar.COMPLETE:ar.LOCKED,actions:w,children:[p?L(Q,{children:[L(De,{variant:"body1",children:["You have accepted the terms of use."," ",m(Xt,{role:"button",onClick:()=>v(!h),children:h?"Hide Terms":"View Terms"})]}),h&&m(ut,{sx:{my:1},children:_})]}):_,E&&m(cn,{severity:"error",children:E.reason})]})}try{mf.displayName="SelfSignAccessRequirementItem",mf.__docgenInfo={description:`Renders a {@link RequirementItem} for an self-sign Access Requirement, including {@link SelfSignAccessRequirement} or
{@link TermsOfUseAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link RequestDataAccess }`,displayName:"SelfSignAccessRequirementItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function vf(e){const{accessRequirement:t,entityId:n,onHide:a,onRequestAccess:r}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":return m(mf,{accessRequirement:t,onHide:a});case"org.sagebionetworks.repo.model.ACTAccessRequirement":return m(pf,{accessRequirement:t,onHide:a,entityId:n});case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":return m(hf,{accessRequirement:t,onHide:a,entityId:n,onRequestAccess:()=>{r(t)}});default:return console.warn("Unsupported access requirement type:",t.concreteType),m(Q,{})}}try{vf.displayName="AccessRequirementListItem",vf.__docgenInfo={description:"Renders an individual AR item for the AccessRequirementList",displayName:"AccessRequirementListItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"(accessRequirement: ManagedACTAccessRequirement) => void"}}}}}catch{}const i8=new Set(["org.sagebionetworks.repo.model.SelfSignAccessRequirement","org.sagebionetworks.repo.model.TermsOfUseAccessRequirement","org.sagebionetworks.repo.model.ManagedACTAccessRequirement","org.sagebionetworks.repo.model.ACTAccessRequirement"]),ys=mt(De,{label:"DialogSubsectionHeader"})(({theme:e})=>({marginTop:e.spacing(4),marginBottom:e.spacing(2),paddingBottom:e.spacing(1),fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid",borderColor:e.palette.grey[200]}));ys.defaultProps={...ys.defaultProps,variant:"h4"};const gf=e=>e.filter(o8).length>0,o8=e=>!i8.has(e.concreteType);function gi(e){var F;const{entityId:t,teamId:n,onHide:a,accessRequirementFromProps:r,renderAsModal:i,numberOfFilesAffected:o,requestObjectName:s}=e,{accessToken:l}=ze(),c=!!l,[u,d]=P.useState(0),[p,f]=P.useState(),[h,v]=P.useState(""),[g,b]=P.useState(),y=za({ids:[t],type:"ENTITY_HEADER"}),{data:_}=Ix(n,{enabled:!!(!r&&n)}),{data:w}=Tx(t,{enabled:!!(!r&&t&&!n)}),C=r??(n?_:w),{data:x}=Rx((C??[]).map(A=>String(A.id)),{enabled:!!C,staleTime:1/0}),T=A=>{const{managedACTAccessRequirement:V,step:O,researchProjectId:U,dataAccessRequest:H}=A;V&&f(V),U&&v(U),H&&b(H),d(O)},R=C==null?void 0:C.some(A=>A.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"&&A.isTwoFaRequired),q=C==null?void 0:C.some(A=>(A.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||A.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&A.isCertifiedUserRequired),k=C==null?void 0:C.some(A=>(A.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||A.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&A.isValidatedProfileRequired),I=P.useMemo(()=>{var A;return s||(o?L(Q,{children:[m(Fe,{icon:"file",sx:{width:"30px"}})," ",o," ","File(s)"]}):L(Q,{children:[m(Fe,{icon:"file",sx:{width:"30px"}})," ",m(Xt,{href:`${lr.PORTAL}#!Synapse:${t}`,children:(A=y[0])==null?void 0:A.name})]}))},[t,y,o,s]),N=L(Q,{children:[m(Za,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:["Data Access Request",m(ut,{sx:{flexGrow:1}}),m(zs,{onClick:a,children:m(Fe,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),L(Ja,{children:[m(ys,{sx:{mt:0},children:"What is this request for?"}),m(De,{variant:"body1",component:"span",children:I}),m(ys,{children:"What do I need to do?"}),m(qx,{}),q&&m(Fx,{}),k&&m(Dx,{}),R&&m(Ox,{}),(F=x==null?void 0:x.map(A=>C.find(V=>A===String(V.id))))==null?void 0:F.map(A=>m(vf,{accessRequirement:A,entityId:t,onHide:a,onRequestAccess:V=>{T({managedACTAccessRequirement:V,step:c?1:4})}},A.id))]})]});let $=N;if(i){switch(u){case 1:$=m(kx,{managedACTAccessRequirement:p,onSave:A=>{T({managedACTAccessRequirement:p,step:2,researchProjectId:A.id})},onHide:a});break;case 2:$=m($x,{researchProjectId:h,managedACTAccessRequirement:p,entityId:t,onHide:a,onCancel:A=>{T({step:3,dataAccessRequest:A})},onSubmissionCreated:()=>{T({step:5})}});break;case 3:$=m(df,{modifiedDataAccessRequest:g,onHide:a});break;case 4:$=L(Q,{children:[m(Za,{children:"Please Log In"}),m(Ja,{className:"AccessRequirementList login-modal ",children:m(Ax,{sessionCallback:()=>{window.location.reload()}})})]});break;case 5:$=m(ff,{onHide:a});break;case 0:$=N;break;default:$=N}return m(fw,{maxWidth:"md",fullWidth:!0,open:!0,onClose:a,children:$})}return m(ut,{children:$})}try{gi.displayName="AccessRequirementList",gi.__docgenInfo={description:`The AccessRequirementListV2 component renders a set of {@link AccessRequirement}s (either pre-defined, or those applied
to an entity, based on provided props).

The component shows the user the approval status of each AR and provides a workflow for accepting the terms of or
creating a submission for any of the Access Requirements.`,displayName:"AccessRequirementList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},teamId:{defaultValue:null,description:"",name:"teamId",required:!1,type:{name:"string"}},accessRequirementFromProps:{defaultValue:null,description:"",name:"accessRequirementFromProps",required:!1,type:{name:"AccessRequirement[]"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},renderAsModal:{defaultValue:null,description:"",name:"renderAsModal",required:!1,type:{name:"boolean"}},numberOfFilesAffected:{defaultValue:null,description:"",name:"numberOfFilesAffected",required:!1,type:{name:"number"}},requestObjectName:{defaultValue:null,description:"",name:"requestObjectName",required:!1,type:{name:"string"}}}}}catch{}try{gf.displayName="checkHasUnsupportedRequirement",gf.__docgenInfo={description:"",displayName:"checkHasUnsupportedRequirement",props:{}}}catch{}const s8="Requires Acceptance of Data-Specific Terms of Use",l8="Requires Acceptance of Data-Specific Terms of Use",u8="Requires Approval of Data-Specific Access Requirements",c8="Access Restricted",yf=({accessRequirementId:e,count:t})=>{const{data:n,isLoading:a}=cw(e,{useErrorBoundary:!0}),[r,i]=P.useState(!1);let o,s="",l="";if(!a&&n)switch(n.concreteType){case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":o=s8,s=Bc,l=n.name??"";break;case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":{o=l8;const c=n;c.isValidatedProfileRequired?s=ql:c.isCertifiedUserRequired?s=p1:s=Bc,l=n.name??"";break}case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":case"org.sagebionetworks.repo.model.ACTAccessRequirement":o=u8,s=ql,l=n.name??"";break;case"org.sagebionetworks.repo.model.LockAccessRequirement":o=c8,s=ql,l="Access restricted pending review by Synapse Access and Compliance Team.";break}return L(Q,{children:[m(pw,{isLoading:a,title:o,description:l,iconType:s,count:t,actionNode:m(fa,{variant:"contained",onClick:()=>i(!0),children:"Start"})}),r&&n&&m(gi,{entityId:n.subjectIds[0].id,accessRequirementFromProps:[n],renderAsModal:!0,numberOfFilesAffected:t,onHide:()=>i(!1)})]})};try{yf.displayName="MeetAccessRequirementCard",yf.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}const d8="Requires Two-Factor Authentication";function bf(e){const{accessRequirementId:t,count:n}=e,{data:a,isLoading:r}=cw(t,{useErrorBoundary:!0}),[i,o]=P.useState(!1);return L(Q,{children:[m(pw,{isLoading:r,title:d8,iconType:Bc,description:(a==null?void 0:a.name)??"",count:n,actionNode:m(fa,{variant:"contained",onClick:()=>o(!0),children:"Start"})}),i&&a&&m(gi,{entityId:a.subjectIds[0].id,accessRequirementFromProps:[a],renderAsModal:!0,numberOfFilesAffected:n,onHide:()=>o(!1)})]})}try{bf.displayName="EnableTwoFaRequirementCard",bf.__docgenInfo={description:"",displayName:"EnableTwoFaRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}function wf(e){const{action:t,count:n,onViewSharingSettingsClicked:a}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.download.MeetAccessRequirement":return m(yf,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);case"org.sagebionetworks.repo.model.download.RequestDownload":return m(ux,{entityId:`syn${t.benefactorId}`,count:n,onViewSharingSettingsClicked:a},t.benefactorId);case"org.sagebionetworks.repo.model.download.EnableTwoFa":return m(bf,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);default:return m(Q,{})}}try{wf.displayName="ActionRequiredListItem",wf.__docgenInfo={description:"",displayName:"ActionRequiredListItem",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"Action"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const Sf=e=>{const{entityId:t,onViewSharingSettingsClicked:n}=e,{data:a}=a8(t),r=a==null?void 0:a.actions;return m(Q,{children:r&&r.length>0&&m("div",{className:"EntityActionsRequired",children:r.map((i,o)=>i?m(wf,{action:i,onViewSharingSettingsClicked:n},o):!1)})})};try{Sf.displayName="EntityActionsRequired",Sf.__docgenInfo={description:"",displayName:"EntityActionsRequired",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const _f=()=>{const{error:e,getLastQueryRequest:t,onViewSharingSettingsClicked:n}=gt(),{entityId:a}=t();return(e==null?void 0:e.status)==403?m(Sf,{entityId:a,onViewSharingSettingsClicked:n}):m(wp,{error:e})};try{_f.displayName="QueryWrapperErrorBanner",_f.__docgenInfo={description:"Error banner that automatically pulls the error from QueryContext.  If 403, shows entity actions required",displayName:"QueryWrapperErrorBanner",props:{}}}catch{}class bs extends z.Component{constructor(n){super(n);je(this,"searchFormRef");je(this,"radioFormRef");je(this,"handleClickOutsideForm",n=>{var a,r;!((a=this.searchFormRef.current)!=null&&a.contains(n==null?void 0:n.target))&&!((r=this.radioFormRef.current)!=null&&r.contains(n==null?void 0:n.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});je(this,"search",n=>{var p,f,h,v,g,b;n.preventDefault();const{searchText:a}=this.state;let{columnName:r}=this.state;const{searchable:i,lockedColumn:o}=this.props;if(r==="")if(i)r=i.filter(E=>E!==(o==null?void 0:o.columnName))[0];else{const E=(h=(f=(p=this.props.queryContext)==null?void 0:p.data)==null?void 0:f.columnModels)==null?void 0:h.filter(y=>y.name!==(o==null?void 0:o.columnName)).filter(y=>this.isSupportedColumn(y));r=(E==null?void 0:E[0].name)??""}this.setState({show:!1});const{executeQueryRequest:s,getLastQueryRequest:l}=this.props.queryContext,c=l(),{additionalFilters:u=[]}=c.query,d=u.findIndex(E=>!!(Lo(E)||Vo(E)&&E.columnName===r));if(d===-1){const E=(b=(g=(v=this.props.queryContext)==null?void 0:v.data)==null?void 0:g.columnModels)==null?void 0:b.filter(y=>y.name===r)[0];if(E!=null&&E.columnType.endsWith("_LIST")){const y={columnName:r,function:Sx.HAS_LIKE,values:[`%${a}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};u.push(y)}else{const y={columnName:r,operator:_x.LIKE,values:[`%${a}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};u.push(y)}}else u[d].values.push(`%${a}%`);c.query.additionalFilters=u,s(c)});je(this,"handleChange",n=>{this.setState({searchText:n.currentTarget.value})});je(this,"isSupportedColumn",n=>{switch(n==null?void 0:n.columnType){case pe.FILEHANDLEID:case pe.ENTITYID:case pe.DATE:case pe.DATE_LIST:case pe.USERID:return!1;default:return!0}});je(this,"isSupportedColumnAndInProps",n=>{if(this.isSupportedColumn(n)){const{searchable:a}=this.props;return a==null?void 0:a.some(r=>r===(n==null?void 0:n.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=z.createRef(),this.radioFormRef=z.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(n){var a,r,i,o,s;!((a=n.queryVisualizationContext)!=null&&a.topLevelControlsState.showSearchBar)&&((r=this.props.queryVisualizationContext)!=null&&r.topLevelControlsState.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(s=(o=(i=this.searchFormRef)==null?void 0:i.current)==null?void 0:o.querySelector("input"))==null||s.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){var p;const{searchable:n,lockedColumn:a,queryContext:{data:r},queryVisualizationContext:{topLevelControlsState:i,getColumnDisplayName:o}}=this.props,{searchText:s,show:l,columnName:c}=this.state;let u=[];n?u=n.map(f=>{var h;return(h=r==null?void 0:r.columnModels)==null?void 0:h.find(v=>v.name===f)}).filter(this.isSupportedColumnAndInProps).map(f=>f.name):r!=null&&r.columnModels&&(u=(p=r.columnModels)==null?void 0:p.filter(this.isSupportedColumn).map(f=>f.name)),u.length&&(a!=null&&a.columnName)&&(u=u.filter(f=>f!==(a==null?void 0:a.columnName)));const d=i==null?void 0:i.showFacetFilter;return L("div",{className:`QueryWrapperSearchInput ${d?fr:er}`,children:[m(Ii,{in:i==null?void 0:i.showSearchBar,children:L("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[m("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:m(Fe,{icon:"search"})}),m("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:s,type:"text"}),this.state.searchText.length>0&&m("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:m(Fe,{icon:"close"})})]})}),m("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:m(cx,{in:l,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:L("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[m("p",{className:"deemphasized",children:m("i",{children:" Search In Field: "})}),u.map((f,h)=>{const v=o(f);return m("div",{className:"radio",children:m("label",{children:L("span",{children:[m("input",{id:f,type:"radio",value:f,checked:c===""&&h===0||c===f,onClick:()=>{var b,E,y;(y=(E=(b=this.searchFormRef)==null?void 0:b.current)==null?void 0:E.querySelector("input"))==null||y.focus(),this.setState({columnName:f})}}),m("span",{children:v})]})})},`search-field-${f}-${h}`)})]})})})]})}}try{bs.displayName="Search",bs.__docgenInfo={description:"",displayName:"Search",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},fullTextSearchHelpURL:{defaultValue:null,description:"",name:"fullTextSearchHelpURL",required:!1,type:{name:"string"}}}}}catch{}const f8="The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.",p8="https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries",ws=({helpMessage:e=f8,helpUrl:t=p8})=>{const{executeQueryRequest:n,getLastQueryRequest:a}=gt(),{topLevelControlsState:{showSqlEditor:r,showFacetFilter:i}}=ht(),[o,s]=P.useState(""),l=P.useRef(null);P.useEffect(()=>{var d;if(r){const p=a().query.sql;s(p),(d=l.current)==null||d.focus()}},[r,a]);const c=d=>{d.preventDefault();const p=a();p.query.sql=o,p.query.offset=0,p.query.additionalFilters=[],p.query.selectedFacets=[],n(p)},u=d=>{var p;(p=l.current)==null||p.setCustomValidity(""),s(d.currentTarget.value)};return m("div",{className:`QueryWrapperSqlEditorInput ${i?fr:er}`,children:m(Ii,{in:r,timeout:{enter:300,exit:300},children:L("div",{className:"QueryWrapperSqlEditorInput__helppopoverwrapper",children:[L("form",{className:"QueryWrapperSqlEditorInput__searchbar",onSubmit:c,children:[m(C1,{className:"QueryWrapperSqlEditorInput__searchbar__searchicon"}),m("input",{ref:l,onChange:u,placeholder:"Enter Query",value:o,type:"text"})]}),m("div",{className:"QueryWrapperSqlEditorInput__helppopover",children:m(Rn,{markdownText:e,helpUrl:t,placement:"right"})})]})})})};try{ws.displayName="SqlEditor",ws.__docgenInfo={description:"",displayName:"SqlEditor",props:{helpMessage:{defaultValue:{value:"The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:{value:"https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries"},description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}const h8="Sign in",m8=L(Q,{children:[m(De,{variant:"smallText1",marginBottom:"10px",children:"Anyone can browse public content on the Synapse website, but in order to download and create content you will need to register for an account using an email address."}),L(De,{variant:"smallText1",children:["To find out more see ",m(Xt,{href:"https://help.synapse.org/docs/Managing-your-account.2055405596.html",target:"_blank",rel:"noopener noreferrer",children:"User Accounts"}),m("span",{children:" and "}),m(Xt,{href:"https://help.synapse.org/docs/Synapse-Governance.2004255211.html",rel:"noopener noreferrer",target:"_blank",children:"Governance Overview"}),"."]})]}),Ef=e=>m(Ci,{open:!0,title:"Sign In Required",content:m8,onCancel:()=>e.onHide(),onConfirm:()=>e.onHide(),confirmButtonText:h8,confirmButtonClassName:_p});try{Ef.displayName="DownloadLoginModal",Ef.__docgenInfo={description:"",displayName:"DownloadLoginModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const Cf=({show:e,title:t,onClose:n,pythonNotes:a,pythonCode:r,rNotes:i,rCode:o,cliNotes:s,cliCode:l,helpMarkdown:c,helpUrl:u})=>{let d;l?d="Command Line":r?d="Python":d="R";const[p,f]=P.useState(d),h=L(De,{variant:"body1",children:["Installation instructions are available at our"," ",m(Xt,{href:"https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html",target:"_blank",rel:"noopener noreferrer",children:"Synapse API Documentation Site"}),"."]});return m(Ci,{open:e,title:t,onCancel:n,onConfirm:n,maxWidth:"md",helpMarkdown:c,helpUrl:u,content:L(Q,{children:[m(ut,{sx:{borderBottom:1,borderColor:"divider",marginBottom:4},children:L(hI,{value:p,onChange:(g,b)=>{g.stopPropagation(),f(b)},textColor:"secondary",indicatorColor:"secondary",children:[l&&m(Ol,{value:"Command Line",label:"Command Line"}),o&&m(Ol,{value:"R",label:"R"}),r&&m(Ol,{value:"Python",label:"Python"})]})}),L(ut,{sx:{"& > p":{marginBottom:3}},children:[p==="Command Line"&&L(Q,{children:[m(De,{variant:"body1",children:s}),h,L("pre",{children:[" ",l," "]})]}),p==="R"&&L(Q,{children:[m(De,{variant:"body1",children:i}),h,m("pre",{children:o})]}),p==="Python"&&L(Q,{children:[m(De,{variant:"body1",children:a}),h,m("pre",{children:r})]})]})]})})};try{Cf.displayName="ProgrammaticInstructionsModal",Cf.__docgenInfo={description:"Modal used to show programmatic instructions",displayName:"ProgrammaticInstructionsModal",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},pythonNotes:{defaultValue:null,description:"",name:"pythonNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},pythonCode:{defaultValue:null,description:"",name:"pythonCode",required:!1,type:{name:"string"}},rNotes:{defaultValue:null,description:"",name:"rNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rCode:{defaultValue:null,description:"",name:"rCode",required:!1,type:{name:"string"}},cliNotes:{defaultValue:null,description:"",name:"cliNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},cliCode:{defaultValue:null,description:"",name:"cliCode",required:!1,type:{name:"string"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}function xf({queryBundleRequest:e,onHide:t}){var d;const[n,a]=P.useState("..."),{data:r,isLoading:i,isPreviousData:o}=aw({...e,partMask:h1},{keepPreviousData:!0,useErrorBoundary:!0}),s=(d=r==null?void 0:r.responseBody)==null?void 0:d.combinedSql,l=i||o;P.useEffect(()=>{if(s&&!l){const p=s.toUpperCase().indexOf("FROM SYN"),f=`SELECT * ${s.substring(p)}`;a(f)}},[s,l]);const c=P.useMemo(()=>n.replace(/(["`])/g,"\\$1"),[n]),u=P.useMemo(()=>n.replace(/"/g,'\\"'),[n]);return m(Cf,{show:!0,onClose:t,title:"Download Programmatically",cliNotes:m(Q,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${c}"`,rNotes:L(Q,{children:["This R code will download file annotations only. Use"," ",L(Xt,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`query <- synTableQuery("${u}")
read.table(query$filepath, sep = ",")`,pythonNotes:L(Q,{children:["This Python code will download file annotations only. Use"," ",m(Xt,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`query = syn.tableQuery("${u}")
query.asDataFrame()`})}try{xf.displayName="ProgrammaticOptions",xf.__docgenInfo={description:"",displayName:"ProgrammaticOptions",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const v8="Add To Download Cart",Nf=e=>{const{accessToken:t}=ze(),{entity:n,data:a,getLastQueryRequest:r}=gt(),i=r(),[o,s]=P.useState(!1),[l,c]=P.useState(!1),[u,d]=P.useState(!1),{onDownloadFiles:p,darkTheme:f=!0}=e,h=n&&(Wn(n)&&JC(n)||ta(n)),v=n&&ta(n)&&n.isLatestVersion;return L(P.Fragment,{children:[L(dt,{as:"span",children:[m(Cn,{tooltipText:"Download Options",size:"lg",darkTheme:f,icon:"download"}),L(dt.Menu,{className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:[m(dt.Item,{onClick:()=>{c(!0)},children:"Export Table"}),h&&m(Et,{title:v?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:m(dt.Item,{role:"button",className:v?"ignoreLink":void 0,disabled:v,style:v?{pointerEvents:"auto"}:{},onClick:()=>t?p():s(!0),children:v8})}),m(Et,{title:v?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:m(dt.Item,{className:v?"ignoreLink":void 0,disabled:v,style:v?{pointerEvents:"auto"}:{},onClick:()=>d(!0),children:"Programmatic Options"})})]})]}),o&&m(Ef,{showModal:o,onHide:()=>s(!1)}),l&&m(ua,{onClose:()=>c(!1),queryBundleRequest:i}),u&&a&&m(xf,{onHide:()=>d(!1),queryBundleRequest:i})]})};try{Nf.displayName="DownloadOptions",Nf.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const g8="addAndRemoveColumns",If=e=>{const{headers:t,isColumnSelected:n,toggleColumnSelection:a,darkTheme:r}=e,{getColumnDisplayName:i}=ht(),[o,s]=P.useState(!1),l=(c,u,d)=>{d.source==="rootClose"?s(!1):s(!0)};return L(dt,{as:"span",onToggle:(c,u,d)=>l(c,u,d),show:o,drop:"down",children:[m(Cn,{tooltipText:"Show/Hide Columns",icon:r?"columnsdark":"columns",darkTheme:r}),m(dt.Menu,{id:`${g8}-dropdown`,className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:t==null?void 0:t.map(c=>{const{name:u}=c,d=n.includes(u),p={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},f=d?"SRC-primary-text-color":"";return L(dt.Item,{onClick:()=>a(u),children:[m("span",{className:f,style:p,children:m(Fe,{icon:"check",sx:{width:"14px"}})}),i(u)]},u)})})]})};try{If.displayName="ColumnSelection",If.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(() => void)"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const y8="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",b8="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.",Tf=({entity:e})=>{var r;const t=e&&ta(e),n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:ha},{data:a}=nw(n,{enabled:t});if(t&&a&&e){const i=a.queryCount,o=((r=e.items)==null?void 0:r.length)??0;if(i===o)return m(Q,{});const s=o-i;let l="";return e.isLatestVersion?l=y8:l=b8,L(De,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[m(NI,{className:"SRC-color-warning",style:{fontSize:"16px"}}),s.toLocaleString()+" Unavailable",m(Rn,{className:"SRC-margin-left-5",markdownText:l,placement:"right"})]})}else return m(Q,{})};try{Tf.displayName="MissingQueryResultsWarning",Tf.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function w8(e,t){const{accessToken:n}=ze(),a=",",r=!0,i=!1,o=e.query.sql;return async()=>{try{const l=`SELECT CONCAT('drs://repo-prod.prod.sagebase.org/syn', id, '.', currentVersion) AS drs_uri, name as file_name, ${t==null?void 0:t.map(f=>f.name).join(",")} FROM ${o.slice(o.toLowerCase().indexOf("from")+4+1)}`,c={sql:l,entityId:rn(l),selectedFacets:e.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:r,includeRowIdAndRowVersion:i,csvTableDescriptor:{separator:a},additionalFilters:e.query.additionalFilters},u=await _b(c,n),d=await Eb(u.resultsFileHandleId,n),p=`https://synapse-vayu.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(d)}`;window.open(p,"_blank")}catch(s){Xr(s.reason,"danger")}}}const Rf=e=>L(Ux,{...e,height:20,viewBox:"0 0 828 828",children:[m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M431.861 124.107C429.221 125.451 426.3 126.325 423.211 126.618L415.557 269.363C425.193 272.363 432.244 281.226 432.538 291.777L546.545 306.978C547.637 304.478 549.14 302.198 550.968 300.223L431.861 124.107ZM440.166 117.167L559.852 294.141C562.599 293.058 565.591 292.463 568.722 292.463C570.453 292.463 572.141 292.645 573.769 292.99L610.725 206.16C604.806 201.75 600.973 194.698 600.973 186.75C600.973 185.26 601.107 183.801 601.365 182.386L441.299 115.545C440.943 116.102 440.565 116.643 440.166 117.167ZM592.91 316.651C592.91 308.875 589.241 301.955 583.538 297.53L620.577 210.504C622.062 210.789 623.594 210.938 625.161 210.938C626.63 210.938 628.069 210.807 629.466 210.556L731.473 433.838C730.391 434.8 729.396 435.857 728.5 436.997L590.583 327.017C592.076 323.875 592.91 320.361 592.91 316.651ZM583.917 335.473C581.689 337.273 579.135 338.687 576.358 339.61L583.089 517.099C590.244 517.108 596.671 520.225 601.094 525.171L724.074 457.849C723.597 455.954 723.344 453.97 723.344 451.927C723.344 450.256 723.513 448.625 723.836 447.049L583.917 335.473ZM728.974 467.442L606.306 534.593C606.917 536.719 607.244 538.965 607.244 541.287C607.244 548.415 604.161 554.822 599.256 559.249L641.245 621.527C643.538 620.712 645.991 620.232 648.544 620.149L730.593 469.194C730.025 468.637 729.485 468.052 728.974 467.442ZM583.056 565.476C585.404 565.476 587.675 565.141 589.822 564.517L632.158 627.31C631.966 627.503 631.778 627.699 631.594 627.899L410.195 538.521L559.218 545.414C561.176 556.807 571.104 565.476 583.056 565.476ZM398.804 545.534C396.287 548.348 393.122 550.569 389.543 551.963L409.137 701.286C417.873 701.562 425.441 706.471 429.464 713.637L625.468 648.181C625.267 646.925 625.162 645.637 625.162 644.324C625.162 641.892 625.521 639.543 626.189 637.329L398.804 545.534ZM562.043 339.906C563.203 340.239 564.398 340.487 565.622 340.643L572.407 519.563C566.319 522.552 561.672 528.026 559.786 534.662L404.882 527.497C404.474 522.293 402.419 517.552 399.238 513.794L562.043 339.906ZM410.775 316.532C419.563 315.66 426.967 310.086 430.436 302.36L544.551 317.575C544.802 324.26 547.766 330.252 552.374 334.479L390.572 507.295C390.475 507.252 390.377 507.209 390.279 507.167C390.238 507.15 390.198 507.133 390.158 507.116L390.076 507.082C390.033 507.064 389.99 507.046 389.947 507.028L389.865 506.995L389.777 506.959L410.775 316.532ZM379.129 505.281L400.089 315.201C392.761 312.535 387.086 306.428 385.018 298.835L257.588 294.164C256.151 297.414 254.02 300.287 251.382 302.596L371.2 507.193C373.659 506.132 376.329 505.468 379.129 505.281ZM259.627 283.465L384.573 288.044C386.438 277.936 394.588 270.031 404.819 268.531L412.502 125.228C410.883 124.629 409.345 123.86 407.91 122.945L256.526 272.5C258.369 275.76 259.478 279.489 259.627 283.465ZM362.471 513.594L241.899 307.711C240.201 308.179 238.428 308.466 236.602 308.551L212.287 436.373C220.668 440.173 226.498 448.613 226.498 458.415C226.498 459.246 226.456 460.068 226.374 460.879L359.809 517.332C360.578 516.001 361.471 514.75 362.471 513.594ZM398.548 703.346L378.889 553.531C372.829 553.065 367.395 550.367 363.407 546.257L210.476 626.279C210.993 628.246 211.268 630.31 211.268 632.439C211.268 633.973 211.125 635.474 210.852 636.929L387.408 713.365C389.959 708.957 393.861 705.428 398.548 703.346ZM205.482 616.74L357.805 537.036C357.01 534.64 356.58 532.077 356.58 529.415C356.58 528.832 356.601 528.255 356.641 527.683L222.907 471.103C219.186 477.13 212.894 481.402 205.56 482.387L197.048 610.394C200.309 611.871 203.185 614.051 205.482 616.74ZM178.121 458.415C178.121 469.164 185.133 478.276 194.832 481.425L186.398 608.26C184.797 608.304 183.234 608.504 181.725 608.845L94.2764 412.358C95.9686 411.18 97.5031 409.79 98.8419 408.229L179.06 451.717C178.449 453.844 178.121 456.091 178.121 458.415ZM184.274 442.296C188.584 437.476 194.798 434.395 201.734 434.233L226.002 306.661C217.341 302.979 211.268 294.394 211.268 284.389C211.268 275.81 215.734 268.274 222.469 263.98L194.346 201.663C193.431 201.768 192.501 201.822 191.558 201.822C189.935 201.822 188.349 201.662 186.816 201.357L94.3034 372.649C100.563 377.021 104.658 384.279 104.658 392.494C104.658 394.639 104.379 396.719 103.855 398.699L184.274 442.296ZM235.456 260.201C234.505 260.201 233.567 260.256 232.644 260.363L204.526 198.055C211.271 193.763 215.746 186.221 215.746 177.633C215.746 177.057 215.726 176.486 215.687 175.92L399.494 113.808C399.759 114.312 400.042 114.805 400.341 115.286L249.271 264.532C245.355 261.802 240.592 260.201 235.456 260.201ZM172.016 613.512C166.455 617.944 162.891 624.775 162.891 632.439C162.891 645.798 173.72 656.628 187.079 656.628C195.062 656.628 202.141 652.761 206.547 646.798L384.232 723.723C384.191 724.297 384.17 724.877 384.17 725.462C384.17 738.821 395 749.651 408.359 749.651C421.718 749.651 432.547 738.821 432.547 725.462C432.547 724.963 432.532 724.466 432.502 723.974L629.521 658.179C633.894 664.427 641.145 668.513 649.351 668.513C662.71 668.513 673.539 657.683 673.539 644.324C673.539 634.62 667.825 626.25 659.577 622.397L739.776 474.845C742.211 475.669 744.82 476.115 747.533 476.115C760.891 476.115 771.721 465.286 771.721 451.927C771.721 438.568 760.891 427.738 747.533 427.738C745.247 427.738 743.036 428.055 740.94 428.648L639.371 206.326C645.418 201.929 649.35 194.799 649.35 186.75C649.35 173.391 638.52 162.561 625.161 162.561C617.133 162.561 610.018 166.472 605.618 172.493L444.924 105.391C445.034 104.455 445.09 103.503 445.09 102.538C445.09 89.179 434.26 78.3494 420.901 78.3494C407.543 78.3494 396.713 89.179 396.713 102.538C396.713 102.819 396.718 103.099 396.727 103.378L212.553 165.614C208.382 158.343 200.542 153.445 191.558 153.445C178.199 153.445 167.369 164.274 167.369 177.633C167.369 185.513 171.137 192.513 176.97 196.93L84.2531 368.6C83.0204 368.406 81.7569 368.306 80.4698 368.306C67.1108 368.306 56.2812 379.135 56.2812 392.494C56.2812 405.853 67.1108 416.683 80.4698 416.683C81.7672 416.683 83.0407 416.581 84.2827 416.384L172.016 613.512Z",fill:"url(#paint0_linear_271_30503)"}),m("defs",{children:L("linearGradient",{id:"paint0_linear_271_30503",x1:"163.941",y1:"159.14",x2:"682.43",y2:"676.053",gradientUnits:"userSpaceOnUse",children:[m("stop",{stopColor:"#9E5AA4"}),m("stop",{offset:"0.526649",stopColor:"#7387C2"}),m("stop",{offset:"1",stopColor:"#11AADE"})]})})]});try{Rf.displayName="Cavatica",Rf.__docgenInfo={description:"",displayName:"Cavatica",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).
You can use the \`htmlColor\` prop to apply a color attribute to the SVG element.`,name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"disabled"'},{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"medium"'},{value:'"large"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:`The shape-rendering attribute. The behavior of the different options is described on the
[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).
If you are having issues with blurry icons you should investigate this prop.`,name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:`Provides a human-readable title for the element that contains it.
https://www.w3.org/TR/SVG-access/#Equivalent`,name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:`Allows you to redefine what the coordinates without units mean inside an SVG element.
For example, if the SVG element is 500 (width) by 200 (height),
and you pass viewBox="0 0 50 20",
this means that the coordinates inside the SVG will go from the top left corner (0,0)
to bottom right (50,20) and each unit will be worth 10px.`,name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}}}catch{}const S8=[{icon:"search",key:"showSearchBar",tooltipText:"Show / Hide Search Bar"},{icon:"chart",key:"showFacetVisualization",tooltipText:"Show / Hide Visualizations"},{icon:"download",key:"showDownloadConfirmation",tooltipText:"Show options for download"},{icon:m1,key:"showSqlEditor",tooltipText:"Show / Hide the Advanced Query Editor"}],Ss=e=>{var q;const{name:t,showColumnSelection:n=!1,hideDownload:a=!1,hideVisualizationsControl:r=!1,hideFacetFilterControl:i=!1,hideQueryCount:o=!1,hideSqlEditorControl:s=!0,customControls:l,showExportToCavatica:c=!1}=e,{data:u,entity:d,executeQueryRequest:p,getLastQueryRequest:f,getInitQueryRequest:h,lockedColumn:v}=gt(),g=w8(f(),(q=u==null?void 0:u.queryResult)==null?void 0:q.queryResults.headers),{topLevelControlsState:b,setTopLevelControlsState:E,columnsToShowInTable:y,selectedRowIndices:_,setColumnsToShowInTable:w}=ht(),S=k=>{const I={[k]:!b[k]};k==="showSearchBar"&&(I.showDownloadConfirmation=!1),k==="showDownloadConfirmation"&&(I.showSearchBar=!1),E(N=>({...N,...I}))},C=()=>{p(f())},x=P.useMemo(()=>{const k=h();return{sql:k.query.sql,selectedFacets:(k.query.selectedFacets??[]).filter(I=>I.columnName===(v==null?void 0:v.columnName)),additionalFilters:(k.query.additionalFilters??[]).filter(I=>"columnName"in I?I.columnName===(v==null?void 0:v.columnName):!0)}},[h,v==null?void 0:v.columnName]),T=k=>{let I=Br(y);I.includes(k)?I=I.filter(N=>N!==k):I.push(k),w(I)},R=b==null?void 0:b.showFacetFilter;return m("div",{className:`TopLevelControls ${R?fr:er}`,"data-testid":"TopLevelControls",children:L("div",{children:[L("div",{className:"TopLevelControls__querycount",children:[t&&L(Q,{children:[L(De,{variant:"sectionTitle",role:"heading",children:[t," ",!o&&m(Bx,{query:x,parens:!0})]}),!o&&d&&m(Tf,{entity:d})]}),!i&&L("a",{onClick:()=>S("showFacetFilter"),className:"TopLevelControls__querycount__facetFilterLink SRC-no-underline-on-hover",children:[m(Ws,{type:b.showFacetFilter?"close":"filter"}),L("span",{className:"TopLevelControls__querycount__facetFilterLink__text",children:[b.showFacetFilter?"Hide":"Show"," ","filters"]})]})]}),L("div",{className:"TopLevelControls__actions",children:[l&&l.map(k=>L("button",{className:`btn SRC-roundBorder SRC-primary-background-color SRC-whiteText ${k.classNames??""}`,style:{marginRight:"5px"},type:"button",onClick:()=>k.onClick({data:u,selectedRowIndices:_,refresh:C}),children:[k.icon," ",k.buttonText]},k.buttonText)),c&&L(Gt,{variant:"text",onClick:()=>{g()},children:[m(Rf,{sx:{mr:1}})," Send to Cavatica"]}),S8.map(k=>{const{key:I,icon:N,tooltipText:$}=k;return I==="showDownloadConfirmation"&&a||I==="showFacetVisualization"&&r||I==="showSqlEditor"&&s?m(z.Fragment,{},I):I==="showDownloadConfirmation"?m(Nf,{darkTheme:!0,onDownloadFiles:()=>S(I)},I):m(Cn,{tooltipText:$,callbackFn:()=>S(I),darkTheme:!0,icon:N},I)}),n&&m(If,{headers:u==null?void 0:u.selectColumns,isColumnSelected:y,toggleColumnSelection:T,darkTheme:!0})]})]})})};try{Ss.displayName="TopLevelControls",Ss.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}}}}}catch{}const yi=e=>{const{checked:t=!1,hideLabel:n=!1,isSelectAll:a=!1,disabled:r=!1}=e,[i,o]=P.useState(t),[s]=P.useState(zx("src-checkbox-"));P.useEffect(()=>{o(t)},[t]);const l=u=>{e.onChange(u.target.checked),a&&u.target.checked===!1?o(!0):o(u.target.checked)};let c="checkbox";return e.className&&(c+=` ${e.className}`),L("div",{className:c,onClick:e.onClick,children:[m("input",{"aria-label":e.label,type:"checkbox",checked:i,id:s,onChange:l,disabled:r,"data-testid":e["data-testid"]}),m("label",{htmlFor:s,children:n?m(Q,{}):e.label}),e.children??m(Q,{})]})};try{yi.displayName="Checkbox",yi.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValue: boolean) => void"}},isSelectAll:{defaultValue:null,description:"",name:"isSelectAll",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: SyntheticEvent<HTMLDivElement, Event>) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const Pf=e=>L("svg",{...e,className:`Icon-Plus ${e.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&m("title",{children:e.title}),m("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{Pf.displayName="IconPlus",Pf.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const Af=e=>L("svg",{...e,className:`Icon-Minus ${e.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&m("title",{children:e.title}),m("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{Af.displayName="IconMinus",Af.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const _s=({label:e,isCollapsed:t,onClick:n})=>{const{getColumnDisplayName:a}=ht();return L("div",{className:"FacetFilterHeader",children:[m("label",{className:"FacetFilterHeader__label",children:a(e)}),m("button",{className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>n(!t),children:t?m(Pf,{className:"icon-plus",title:"Expand Menu"}):m(Af,{className:"icon-minus",title:"Collapse Menu"})})]})};try{_s.displayName="FacetFilterHeader",_s.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function _8(e){return e.replace(/\s/g,"").toLowerCase()}function Xy(e,t=[],n=[],a=[]){const{value:r}=e;let i=r;r===Xa&&(i=qs);const o=t.find(c=>c.ownerId===r);o&&(i=o?o.userName:`unknown (${r})`);const s=n.find(c=>c.id===r);s&&(i=s?s.name:`unknown (${r})`);const l=a.find(c=>c.id===r);return l!=null&&l.name&&(i=l.name),`${i}`}function E8(e,t,n){const a=[...e.sort((r,i)=>i.count-r.count)];return t||a.length<=n||a.slice(n).find(r=>r.isSelected)?a:a.splice(0,n)}const ca=({facetValues:e,columnModel:t,onClear:n,onChange:a,containerAs:r="Collapsible",dropdownType:i="Icon",collapsed:o=!1})=>{const[s,l]=P.useState(!1),[c,u]=P.useState(o),[d,p]=P.useState(!1),[f,h]=P.useState(!1),[v,g]=P.useState(""),[b,E]=P.useState(e);Oo(()=>{E(e)},[e]);const y=5,_=1500,w=z.createRef(),S={};let C;const x=e.filter(O=>O.isSelected).length===0,T=(t==null?void 0:t.columnType)===pe.USERID||(t==null?void 0:t.columnType)===pe.USERID_LIST?e.map(O=>O.value):[],R=za({ids:T,type:"USER_PROFILE"}),q=(t==null?void 0:t.columnType)===pe.ENTITYID||(t==null?void 0:t.columnType)===pe.ENTITYID_LIST?e.map(O=>O.value):[],k=za({ids:q,type:"ENTITY_HEADER"}),I=(t==null?void 0:t.columnType)===pe.EVALUATIONID?e.map(O=>O.value):[],N=za({ids:I,type:"EVALUATION_QUEUE"}),$=O=>{const U=O.target.value;if(g(U),l(!0),!U)e.forEach(H=>{H.isSelected=!1}),E(e);else{const H=e.filter(G=>Xy(G,R,k,N).toLowerCase().indexOf(U.trim().toLowerCase())>-1?G:null);E(H)}};if(!t)return m(Q,{});const F=r==="Dropdown",A=L("div",{className:F?"EnumFacetFilter__dropdown_menu":"",children:[L("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[L("div",{className:f?"EnumFacetFilter__search active":"EnumFacetFilter__search",children:[m("button",{className:"EnumFacetFilter__closeSearch",onClick:()=>{E(e),h(!1),l(!1)},children:m("span",{className:"EnumFacetFilter__previous",children:m(Fe,{icon:"arrowBack"})})}),v.length>0&&m("button",{className:"EnumFacetFilter__resetSearch",onClick:()=>{var O;g(""),(O=w.current)==null||O.focus()},children:m("span",{className:"EnumFacetFilter__reset",children:m(Fe,{icon:"close"})})}),m("input",{type:"text",placeholder:"Find values",value:v,ref:w,onChange:O=>{$(O)}})]}),!f&&L("div",{className:"EnumFacetFilter__checkAll",children:[m(yi,{className:"EnumFacetFilter__checkbox",onChange:()=>{n()},checked:x,label:"All",isSelectAll:!0},"select_all"),m("button",{className:"EnumFacetFilter__searchbtn",onClick:()=>{var O;g(""),h(!0),(O=w.current)==null||O.focus()},children:m("span",{className:"EnumFacetFilter__searchicon",children:m(Fe,{icon:"search"})})})]})]}),L("div",{children:[b.length>0&&E8(b,s||F,y).map((O,U)=>m(C8,{id:_8(O.value),index:U,label:Xy(O,R,k,N),count:O.count,isDropdown:F,initialIsSelected:O.isSelected,onChange:H=>{S[O.value]=H,clearTimeout(C),C=setTimeout(()=>{a(S),p(!1)},_)}},`checkLabel${U}`)),!F&&L(Q,{children:[!s&&b.length>y&&m("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>l(!0),children:m("div",{className:"EnumFacetFilter__checkboxContainer",children:L("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",b.length,")"]})})}),s&&b.length>y&&m("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>l(!1),children:m("div",{className:"EnumFacetFilter__checkboxContainer",children:m("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),b.length<=0&&m("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),V=()=>p(!d);return F?i==="SelectBox"?L(dt,{className:"EnumFacetFilter EnumFacetFilterSelect",show:d,onToggle:V,children:[L(dt.Toggle,{className:"secondary-caret",variant:"gray-select",children:[x&&"All",!x&&e.filter(O=>O.isSelected).length===1&&e.filter(O=>O.isSelected)[0].value,!x&&e.filter(O=>O.isSelected).length>1&&"Multiple Values Selected"]}),m(dt.Menu,{children:A})]}):L(dt,{className:"EnumFacetFilter",show:d,onToggle:V,children:[m(Cn,{tooltipText:"Filter by specific facet",darkTheme:!1,icon:"filter"},"facetFilterTooltip"),m(dt.Menu,{children:A})]}):L(Q,{children:[m(_s,{isCollapsed:c,label:t.name,onClick:O=>u(O)}),m(Ii,{className:"EnumFacetFilter",in:!c,children:A})]})};function C8({id:e,index:t,label:n,count:a,isDropdown:r,initialIsSelected:i,onChange:o}){const[s,l]=P.useState(i);return z.useEffect(()=>{l(i)},[i]),L("div",{className:"EnumFacetFilter__checkboxContainer",onClick:()=>{r&&(l(!s),o(!s))},children:[m(yi,{className:"EnumFacetFilter__checkbox",onClick:c=>c.stopPropagation(),onChange:c=>{l(c),o(c)},checked:s,label:n},`${e}-${t}`),r&&L("span",{className:"EnumFacetFilter__count",children:["(",a,")"]}),!r&&m("div",{className:"EnumFacetFilter__count",children:a})]})}try{ca.displayName="EnumFacetFilter",ca.__docgenInfo={description:"*********** QUERY ENUM CONMPONENT  ************",displayName:"EnumFacetFilter",props:{facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"FacetColumnResultValueCount[]"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(facetNamesMap: Record<string, string>) => void"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!0,type:{name:"() => void"}},containerAs:{defaultValue:{value:"Collapsible"},description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:{value:"Icon"},description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const kf=({facet:e,isChecked:t,onClick:n})=>{const{getColumnDisplayName:a}=ht();return L("button",{className:`Chip ${t?"Checked":""}`,onClick:n,children:[a(e.columnName),m(Fe,{icon:t?"check":"add",sx:{width:"14px",paddingLeft:"0.2rem"}})]})};try{kf.displayName="FacetChip",kf.__docgenInfo={description:"",displayName:"FacetChip",props:{facet:{defaultValue:null,description:"",name:"facet",required:!0,type:{name:"FacetColumnResult"}},isChecked:{defaultValue:null,description:"",name:"isChecked",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const $f=e=>{const t="Min value should be less then max value",[n,a]=P.useState(!1),[r,i]=P.useState(()=>e.type==="number"&&e.initialValues?e.initialValues:e.initialValues&&{min:ur(e.initialValues.min).format("YYYY-MM-DD"),max:ur(e.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),o=e.className?`range ${e.className}`:"range",s=({min:c,max:u},d="number")=>{if(c==null||u===null||u===void 0)return a(!1),!0;if(d==="number"){if(Number(c)>Number(u))return a(!0),!1}else if(Date.parse(c)>Date.parse(u))return a(!0),!1;return a(!1),!0},l=(c,u,d="number")=>{s(c,d)&&u(c)};return L("div",{className:o,style:{display:"flex",flexWrap:"wrap"},children:[L("div",{style:{marginRight:"10px"},children:[m("input",{"aria-label":"min",type:e.type,value:r.min,onChange:({target:c})=>i({min:c.value,max:r.max})},"range_min"),m("div",{children:"to"}),m("input",{"aria-label":"max",type:e.type,value:r.max,onChange:({target:c})=>i({min:r.min,max:c.value})},"range_max")]}),m("button",{className:"btn btn-link SRC-noPadding",onClick:()=>l(r,e.onChange,e.type),children:"Apply"}),n&&m("div",{className:"SRC-danger-color",children:e.errorText||t})]})};try{$f.displayName="Range",$f.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const qf=({facetResult:e,columnModel:t,onChange:n,collapsed:a=!1})=>{const[r,i]=P.useState(a),o=[{label:qs,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}];let{columnMin:s,columnMax:l,selectedMin:c,selectedMax:u}=e;const d=!c&&!u;c=c||s,u=u||l;const p=t.columnType==="DOUBLE"?"number":"date",f=(E,y)=>y?"":E===Xa?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE",h=(E,y)=>{g(E),E!=="RANGE"&&y([E,E])},[v,g]=P.useState(f(c,d));return L("div",{children:[m(_s,{isCollapsed:r,label:t.name,onClick:E=>i(E)}),L(Ii,{in:!r,children:[m(Hx,{value:v,id:"rangeSelector",options:o,onChange:E=>h(E,n)}),v==="RANGE"&&(s===l?m("label",{children:l}):L(Q,{children:[t.columnType==="INTEGER"&&L(Wx,{domain:[s,l],initialValues:{min:c,max:u},step:1,doUpdateOnApply:!0,onChange:E=>n([E.min,E.max]),children:[") ",">"]},"RangeSlider"),(t.columnType==="DATE"||t.columnType==="DOUBLE")&&m($f,{initialValues:{min:c,max:u},type:p,onChange:E=>n([E.min,E.max])},"Range")]}))]})]})};try{qf.displayName="RangeFacetFilter",qf.__docgenInfo={description:"",displayName:"RangeFacetFilter",props:{facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:"FacetColumnResultRange"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(range: (string | number | undefined)[]) => void"}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const CC=e=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:e.columnName,facetValues:e.facetValues.filter(t=>t.isSelected).map(t=>t.value)}),x8=e=>{let t={concreteType:"org.sagebionetworks.repo.model.table.FacetColumnRangeRequest",columnName:e.columnName};return e.columnMin&&(t={...t,min:e.columnMin,max:e.columnMax}),t},Wh=(e,t)=>{var i;const n=((i=t==null?void 0:t.query)==null?void 0:i.selectedFacets)??[],a=n.findIndex(o=>o.columnName===e.columnName),r=e.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&(!e.facetValues||!e.facetValues.length);return a>-1?r?n.splice(a,1):n[a]=e:n.push(e),n};function bi(e,t,n,a,r=!1){a?t.facetValues.forEach(s=>{s.value===a&&(s.isSelected=r)}):t.facetValues.forEach(s=>{s.isSelected=!1});const i=CC(t),o=Wh(i,e);n(o)}const Es=(e,t,n,a)=>{const r=a&&Object.keys(a)||[];r.length&&t.facetValues.forEach(s=>{r.includes(s.value)&&(s.isSelected=a?!!a[s.value]:!1)});const i=CC(t),o=Wh(i,e);n(o)},N8=(e,t,n,a)=>{t.columnMin=a[0],t.columnMax=a[1];const r=x8(t),i=Wh(r,e);n(i)};function Cs(e,t){const n=(t??[]).map(a=>a.columnName);return new Set([...e.slice(0,3).map(a=>a.columnName),...n])}function So(){const e=L(Pi,{direction:"row",gap:"10px",sx:{my:1},children:[m(mn,{width:"15px"}),m(mn,{width:"40%"})]});return L(ut,{className:"FacetFilterControls__facet",children:[m(ut,{className:"FacetFilterHeader",children:m(mn,{width:"100%"})}),L(ut,{children:[e,e,e]})]})}function I8(){const{topLevelControlsState:e}=ht(),{showFacetFilter:t}=e;return L("div",{className:`FacetFilterControls ${t?fr:er}`,children:[m(So,{}),m(So,{}),m(So,{}),m(So,{})]})}function Ff(e){const{availableFacets:t}=e,{data:n,getLastQueryRequest:a,executeQueryRequest:r}=gt(),i=a(),o=n.facets.filter(h=>t==null||t.includes(h.columnName)).filter(h=>!lw(h)),[s,l]=z.useState(Cs(o,i.query.selectedFacets)),{topLevelControlsState:c}=ht(),{showFacetFilter:u}=c;rw(()=>{l(Cs(o,i.query.selectedFacets))},[o]);const d=n.selectColumns,p=h=>{const v=a();v.query.selectedFacets=h,v.query.offset=0,r(v)},f=h=>{const v=new Set(s);v.has(h.columnName)?v.delete(h.columnName):v.add(h.columnName),l(v)};return L("div",{className:`FacetFilterControls ${u?fr:er}`,children:[(o??[]).filter(h=>s.has(h.columnName)).map(h=>{const v=d.find(g=>g.name===h.columnName);return L("div",{className:"FacetFilterControls__facet",children:[h.facetType==="enumeration"&&v&&m(ca,{containerAs:"Collapsible",collapsed:!1,facetValues:h.facetValues,columnModel:v,onChange:g=>Es(i,h,p,g),onClear:()=>bi(i,h,p)}),h.facetType==="range"&&v&&m(qf,{facetResult:h,columnModel:v,collapsed:!1,onChange:g=>N8(i,h,p,g)})]},h.columnName)}),L("div",{children:[m("div",{className:"AvailableFacet",children:m("label",{className:"AvailableFacet__label",children:"Available Facets"})}),o.map(h=>m(kf,{facet:h,onClick:()=>f(h),isChecked:s.has(h.columnName)},h.columnName))]})]})}function T8(e){const{data:t,isLoadingNewBundle:n}=gt();return n?m(I8,{}):t==null||t.facets==null?m(Q,{}):m(Ff,{...e})}try{Cs.displayName="getDefaultShownFacetFilters",Cs.__docgenInfo={description:`Determines which facet filters should be shown after loading a new bundle. The shown facets will be the first
three available facets, plus any other facets that have a filter applied.`,displayName:"getDefaultShownFacetFilters",props:{}}}catch{}try{Ff.displayName="FacetFilterControls",Ff.__docgenInfo={description:"",displayName:"FacetFilterControls",props:{availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}}}}}catch{}const R8=Jb(ew),P8=19,A8=30,k8={showlegend:!1,annotations:[],margin:{l:0,r:0,b:0,t:0,pad:0},yaxis:{visible:!1,showgrid:!1},xaxis:{visible:!1,showgrid:!1}};function xC(e,t){if(!e)return e;const n=e.trim();return n.length>t?n.substr(0,t-1)+"…":e}async function $8(e,t,n,a,r){var h,v;const{colorPalette:i}=Qx(n,e.facetValues.length),o=async(g,b,E)=>{const y=new Map;y.set(Xa,qs);const _=g.map(w=>w.value).filter(w=>w!==Xa);if(b===pe.ENTITYID||b===pe.ENTITYID_LIST){const w=await Cb(_,E);for(const S of w.results)y.set(S.id,S.name)}else if(b===pe.USERID||b===pe.USERID_LIST){const w=await xb(_,E);for(const S of w.children)y.set(S.ownerId,S.userName)}return g.map(w=>({facet:w,label:s(w,!1,y),truncatedLabel:s(w,!0,y),count:w.count}))},s=(g,b,E)=>{let y=E.get(g.value)??g.value;return b&&(y=xC(y,P8)),y},l=await o(e.facetValues,t,r),c=l.map(g=>g.truncatedLabel),d=e.facetValues.some(g=>g.isSelected)?e.facetValues.map((g,b)=>g.isSelected?i[b]:i[b].replace("rgb(","rgba(").replace(")",", 0.25)")):i,p={values:a==="PIE"?e.facetValues.map(g=>g.count):void 0,labels:l.map(g=>g.label),text:c,x:a==="BAR"?e.facetValues.map(g=>{var b;return((b=l.find(E=>E.facet===g))==null?void 0:b.label)??g.value}):void 0,y:a==="BAR"?e.facetValues.map(g=>g.count):void 0,facetEnumerationValues:e.facetValues.map(g=>g.value),name:e.columnName,hovertemplate:a==="PIE"?"<b>%{text}</b><br>%{value} (%{percent})<br><extra></extra>":"<b>%{text}: </b><br>%{value} <br><extra></extra>",textinfo:"none",type:a==="PIE"?"pie":"bar",pull:a==="PIE"?e.facetValues.map(g=>g.isSelected?.1:0):void 0,marker:{colors:a==="PIE"?d:void 0,color:a==="BAR"?d:void 0}};return{data:[p],labels:l,colors:a==="PIE"?(h=p.marker)==null?void 0:h.colors:(v=p.marker)==null?void 0:v.color}}const q8=(e,t,n)=>{if(e.points&&e.points[0]){const a=e.points[0],r=a.data.facetEnumerationValues[a.pointNumber],i=t.facetValues.find(o=>o.value===r);n(t,i,!i.isSelected)}};function F8(e,t,n){const r=e?e*(t==="BAR"?.8:.6):200;let i=t==="PIE"?r:r/3;return i>n&&(i=n),{width:`${r}px`,height:`${i}px`}}function Df(e){const{labels:t,colors:n=[],isExpanded:a}=e;if(!t)return m(Q,{});const r=a?Math.min(t.length,9):Math.min(t.length,4);return r===0?m(Q,{}):m("div",{className:`FacetNavPanel__body__legend${a?"--expanded":""}`,children:t.slice(0,r).map((i,o)=>{const s=xC(i.label,A8);return m(Cn,{tooltipText:i.label,children:L(ut,{sx:{display:"flex",alignItems:"center",gap:"10px"},children:[m(ut,{sx:{width:"14px",height:"14px",cursor:"default",backgroundColor:n[o]},style:{cursor:"default"}},`legendLabel_${o}`),m(De,{variant:"body2",children:s}),m(De,{variant:"body2",sx:{color:"grey.600"},children:i.count})]})},i.label)})})}const D8=(e,t)=>e?`FacetNavPanel__body__plot--expanded${t==="BAR"?"Bar":"Pie"}`:"FacetNavPanel__body__plot",xs=e=>{const{onHide:t,isModalView:n,applyChangesToFacetFilter:a,applyChangesToGraphSlice:r,index:i,facetToPlot:o,plotType:s,onSetPlotType:l}=e,{accessToken:c}=ze(),{data:u,isLoadingNewBundle:d,getLastQueryRequest:p}=gt(),{getColumnDisplayName:f}=ht(),[h,v]=P.useState(!1),g=f(o.columnName),b=P.useCallback(()=>{var _,w;return(w=(_=u==null?void 0:u.columnModels)==null?void 0:_.find(S=>S.name===o.columnName))==null?void 0:w.columnType},[u,o.columnName]),{data:E}=da(["extractPlotDataArray",o,b(),i,s,c],()=>$8(o,b(),i,s,c),{enabled:!!o}),y=()=>L("div",{onClick:_=>{_.stopPropagation()},className:"bootstrap-4-backport SRC-labeled-dropdown",children:[m("span",{className:"SRC-labeled-dropdown__label",children:"Chart Type"}),L(dt,{children:[m(dt.Toggle,{className:"secondary-caret",variant:"gray-select",children:s==="PIE"?"Pie Chart":"Bar Chart"}),L(dt.Menu,{className:"chart-tools",children:[m(dt.Item,{as:"button",onClick:()=>l("BAR"),children:"Bar Chart"}),m(dt.Item,{as:"button",onClick:()=>l("PIE"),children:"Pie Chart"})]})]})]});return!u&&d||!o?m("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:Cp}):L(Q,{children:[m(Ci,{open:h,onCancel:()=>v(!1),title:g??"",content:m(xs,{...e,isModalView:!0}),hasCancelButton:!1,confirmButtonText:"Apply Filters",onConfirm:()=>v(!1)}),L("div",{role:"graphics-document",className:`FacetNavPanel${n?"--expanded":""}`,children:[!n&&L("div",{className:"FacetNavPanel__title",children:[!u&&d?m(gn,{width:100}):m("span",{className:"FacetNavPanel__title__name",children:g}),L("div",{className:"FacetNavPanel__title__tools",children:[m(ca,{facetValues:o.facetValues,columnModel:u==null?void 0:u.columnModels.find(_=>_.name===o.columnName),onChange:_=>{Es(p(),o,a,_)},onClear:()=>{bi(p(),o,a)},containerAs:"Dropdown"}),m(Cn,{tooltipText:"Expand to large graph",callbackFn:()=>v(!0),className:"SRC-primary-color",darkTheme:!1,icon:"expand"},"expandGraph"),m(Cn,{tooltipText:"Hide graph under Show More",callbackFn:()=>t(),className:"SRC-primary-color",darkTheme:!1,icon:"close"},"hideGraph")]})]}),n&&L(Q,{children:[L("div",{className:"bootstrap-4-backport SRC-labeled-dropdown",children:[m("span",{className:"SRC-labeled-dropdown__label",children:"Filter All Data By"}),m(ca,{facetValues:o.facetValues,columnModel:u==null?void 0:u.columnModels.find(_=>_.name===o.columnName),onChange:_=>{Es(p(),o,a,_)},onClear:()=>{bi(p(),o,a)},containerAs:"Dropdown",dropdownType:"SelectBox"}),m(Et,{title:"Selecting items in this dropdown will affect all facets on the Explore page.",children:m(x1,{className:"SRC-hand-cursor SRC-secondary-text-color"})})]}),m(y,{})]}),L("div",{className:`FacetNavPanel__body${n?"--expanded":""}`,role:"graphics-object",children:[m(jx.SizeMe,{monitorHeight:!0,children:({size:_})=>m("div",{className:D8(n,s),children:m(R8,{layout:k8,data:(E==null?void 0:E.data)??[],style:F8(_.width,s,n?300:150),config:{displayModeBar:!1},onClick:w=>q8(w,o,r)},`${o.columnName}-${s}-${_.width}`)})}),m(Df,{labels:E==null?void 0:E.labels,colors:E==null?void 0:E.colors,isExpanded:n})]})]})]})};try{Df.displayName="FacetPlotLegend",Df.__docgenInfo={description:"",displayName:"FacetPlotLegend",props:{labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"FacetWithLabel[]"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}}}}}catch{}try{xs.displayName="FacetNavPanel",xs.__docgenInfo={description:"",displayName:"FacetNavPanel",props:{applyChangesToGraphSlice:{defaultValue:null,description:"",name:"applyChangesToGraphSlice",required:!0,type:{name:"(facet: FacetColumnResultValues, value: FacetColumnResultValueCount | undefined, isSelected: boolean) => void"}},applyChangesToFacetFilter:{defaultValue:null,description:"",name:"applyChangesToFacetFilter",required:!0,type:{name:"(facets: FacetColumnRequest[]) => void"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},facetToPlot:{defaultValue:null,description:"",name:"facetToPlot",required:!0,type:{name:"FacetColumnResultValues"}},plotType:{defaultValue:null,description:"",name:"plotType",required:!0,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'}]}},onSetPlotType:{defaultValue:null,description:"",name:"onSetPlotType",required:!0,type:{name:"(plotType: PlotType) => void"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},isModalView:{defaultValue:null,description:"",name:"isModalView",required:!0,type:{name:"boolean"}},onCloseModal:{defaultValue:null,description:"",name:"onCloseModal",required:!1,type:{name:"(() => void)"}}}}}catch{}function O8(e,t,n){const a=t.getColumnModel(e.columnName);return e.values.map(r=>{let i=r;r!=null&&r.startsWith("%")&&(r!=null&&r.endsWith("%"))&&(i=i.substring(1,i.length-1)),i=n.getDisplayValue(i,a.columnType);const o=`${e.columnName}: ${i}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${r}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{t.removeValueFromQueryFilter(e,r)}}})}function L8(e,t){return{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:e.searchExpression,tooltipText:`Text matches: "${e.searchExpression}"`,onRemoveFilter:()=>{t.removeQueryFilter(e)}}}function V8(e,t,n){var a;return Lo(e)||Vo(e)?e.columnName===((a=t.lockedColumn)==null?void 0:a.columnName)?[]:O8(e,t,n):Ex(e)?[L8(e,t)]:(console.log("Unknown query filter type",e.concreteType),[])}function M8(e,t,n){var o;if(e.columnName===((o=t.lockedColumn)==null?void 0:o.columnName))return[];const a=t.getColumnModel(e.columnName),{getColumnDisplayName:r,getDisplayValue:i}=n;if(jc(e))return e.facetValues.map(s=>{const l=i(s,a.columnType);return{key:`facet-${e.concreteType}-${e.columnName}-${s}`,innerText:l,tooltipText:`${r(e.columnName)}: ${l}`,onRemoveFilter:()=>{t.removeValueFromSelectedFacet(e,s)}}});if(xI(e)){const s=`${e.min} - ${e.max}`;return[{key:`facet-${e.concreteType}-${e.columnName}-${e.min}-${e.max}`,innerText:s,tooltipText:`${r(e.columnName)}: ${s}`,onRemoveFilter:()=>{t.removeSelectedFacet(e)}}]}else return console.log("Unknown facet type",e.concreteType),[]}function B8(){var s;const e=gt(),t=ht(),{getLastQueryRequest:n}=e,a=n(),r=(((s=a.query)==null?void 0:s.additionalFilters)??[]).flatMap(l=>V8(l,e,t)),i=(a.query.selectedFacets??[]).flatMap(l=>M8(l,e,t)),o=[...r,...i];return m(Q,{children:o.map(l=>{const c=encodeURIComponent(l.key);return P.createElement(Gx,{...l,key:c})})})}function wi(e){const{style:t,frontText:n,endText:a="",hideIfUnfiltered:r=!1}=e,{data:i,isLoadingNewBundle:o,resetQuery:s,error:l,hasResettableFilters:c}=gt(),{topLevelControlsState:u,unitDescription:d}=ht(),p=i==null?void 0:i.queryCount,f=u==null?void 0:u.showFacetFilter,h=c;return l?m(Q,{}):m("div",{className:`TotalQueryResults ${f?fr:er} ${c?"hasFilters":""}`,style:t,children:o?m(gn,{width:100}):L(Q,{children:[(c||!r)&&L("div",{className:"TotalQueryResults__topbar",children:[L("span",{className:"SRC-boldText",children:[n," ",p==null?void 0:p.toLocaleString()," ",d," ",a]}),h&&L("a",{onClick:s,className:"TotalQueryResults__topbar__clearall",children:[m(Fe,{icon:"deleteSweep"}),"Clear all filters"]})]}),m("div",{className:"TotalQueryResults__selections",children:m(B8,{})})]})})}try{wi.displayName="TotalQueryResults",wi.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"((newFacets: FacetColumnRequest[]) => void)"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}const $c=2;function qc(e,t){var a;return((a=e==null?void 0:e.facets)==null?void 0:a.filter(r=>r.facetType==="enumeration"&&(!(t!=null&&t.length)||t.indexOf(r.columnName)>-1)&&r.facetValues.length>0&&!lw(r)))??[]}const Of=({facetsToPlot:e})=>{const{data:t,getLastQueryRequest:n,isLoadingNewBundle:a,executeQueryRequest:r,error:i,asyncJobStatus:o}=gt(),{topLevelControlsState:s}=ht(),[l,c]=P.useState([]),[u,d]=P.useState(!0),{showFacetVisualization:p,showFacetFilter:f}=s,h=n();P.useEffect(()=>{const R=qc(t,e);R.length!==0&&u&&(c(R.map((q,k)=>({name:q.columnName,isHidden:k>=$c,plotType:"PIE"}))),d(!1))},[t,u,e]);const v=R=>{c(q=>q.map((k,I)=>R?{...k,isHidden:!1}:{...k,isHidden:I>=$c}))},g=R=>{h.query.selectedFacets=R,h.query.offset=0,r(h)},b=R=>l.find(I=>I.name===R&&I.isHidden===!0)!==void 0,E=P.useMemo(()=>l.find(R=>R.isHidden===!0)?"MORE":l.length<=$c?"NONE":"LESS",[l]),y=R=>{S(R,"isHidden",!0)},_=(R,q)=>{S(R,"plotType",q)},w=R=>{var k;return((k=l.find(I=>I.name===R))==null?void 0:k.plotType)??"PIE"},S=(R,q,k)=>{c(I=>I.map(N=>N.name===R?{...N,[q]:k}:N))},C=qc(t,e),x=qc(t,e).map((R,q)=>({columnName:R.columnName,colorIndex:q})),T=(h==null?void 0:h.query.selectedFacets)!==void 0&&h.query.selectedFacets.length>0||(h==null?void 0:h.query.additionalFilters)!==void 0&&(h==null?void 0:h.query.additionalFilters.length)>0;return i?m(Q,{}):!t&&a?m("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:(o==null?void 0:o.progressMessage)&&L("div",{children:[m("span",{className:"spinner"}),o.progressMessage]})}):L(Q,{children:[m(wi,{frontText:"",endText:T?"filtered by":"",hideIfUnfiltered:!0}),C.length>0&&L("div",{className:`FacetNav ${p?"":"hidden"} ${f?fr:er} ${E==="LESS"?"less":""}`,children:[m("div",{className:"FacetNav__row",role:"list",children:C.map(R=>{var q;return m("div",{className:"col-sm-12 col-md-4",style:{display:b(R.columnName)?"none":"block"},children:m(xs,{index:(q=x.find(k=>k.columnName===R.columnName))==null?void 0:q.colorIndex,onHide:()=>y(R.columnName),plotType:w(R.columnName),onSetPlotType:k=>_(R.columnName,k),facetToPlot:R,applyChangesToFacetFilter:g,applyChangesToGraphSlice:(k,I,N)=>bi(h,k,g,I==null?void 0:I.value,N),isModalView:!1})},R.columnName)})}),E!=="NONE"&&m("div",{className:"FacetNav__showMoreContainer",children:m(fa,{variant:"contained",color:"secondary",onClick:()=>v(E==="MORE"),sx:{width:"250px"},children:E==="LESS"?"Hide Charts":"View All Charts"})})]})]})};try{Of.displayName="FacetNav",Of.__docgenInfo={description:"",displayName:"FacetNav",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}}}}}catch{}var U8=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Ky=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),i=String(a.getOptionValue(n)).toLowerCase(),o=String(a.getOptionLabel(n)).toLowerCase();return i===r||o===r},Fc={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,a,r){return!(!t||n.some(function(i){return Ky(t,i,r)})||a.some(function(i){return Ky(t,i,r)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function z8(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,a=e.createOptionPosition,r=a===void 0?"last":a,i=e.formatCreateLabel,o=i===void 0?Fc.formatCreateLabel:i,s=e.isValidNewOption,l=s===void 0?Fc.isValidNewOption:s,c=e.getNewOptionData,u=c===void 0?Fc.getNewOptionData:c,d=e.onCreateOption,p=e.options,f=p===void 0?[]:p,h=e.onChange,v=Yx(e,U8),g=v.getOptionValue,b=g===void 0?Kx:g,E=v.getOptionLabel,y=E===void 0?Zx:E,_=v.inputValue,w=v.isLoading,S=v.isMulti,C=v.value,x=v.name,T=P.useMemo(function(){return l(_,am(C),f,{getOptionValue:b,getOptionLabel:y})?u(_,o(_)):void 0},[o,u,y,b,_,l,f,C]),R=P.useMemo(function(){return(n||!w)&&T?r==="first"?[T].concat(Dl(f)):[].concat(Dl(f),[T]):f},[n,r,w,T,f]),q=P.useCallback(function(k,I){if(I.action!=="select-option")return h(k,I);var N=Array.isArray(k)?k:[k];if(N[N.length-1]===T){if(d)d(_);else{var $=u(_,_),F={action:"create-option",name:x,option:$};h(Xx(S,[].concat(Dl(am(C)),[$]),$),F)}return}h(k,I)},[u,_,S,x,T,d,h,C]);return im(im({},v),{},{options:R,onChange:q})}var H8=P.forwardRef(function(e,t){var n=Jx(e),a=z8(n);return P.createElement(eN,Ce({ref:t},a))});const W8=H8,Ns=({children:e,...t})=>m(tN.Control,{...t,className:"form-control",children:e});function Is(e,t){if(e==null)return;const n=t.filter(a=>a.value===e);return n.length>0?n[0]:{value:e,label:e}}const Zy=e=>{const{id:t,options:n,value:a,required:r,disabled:i,readonly:o,multiple:s,autofocus:l,onChange:c,onBlur:u,onFocus:d,placeholder:p}=e,{enumOptions:f}=n;return m(W8,{className:"react-select-container",inputId:t,isMulti:s,placeholder:p,value:Is(a,f),"aria-required":r,isDisabled:i||o,autoFocus:l,onBlur:u&&(()=>u(t,a==null?void 0:a.value)),options:f,onFocus:d&&(()=>d(t,a==null?void 0:a.value)),onChange:h=>c(h==null?void 0:h.value),isClearable:!0,components:{Control:Ns},formatCreateLabel:h=>`Set to custom value "${h}"`,styles:{control:h=>({...h,border:"unset",borderColor:"unset",boxShadow:"unset","&:hover":{}}),valueContainer:h=>({...h,padding:"0px"})}})};try{Is.displayName="findValueOption",Is.__docgenInfo={description:`react-select's value prop should be an EnumOption (see custom type defined above)

This function finds the enum option that has the corresponding value and returns it.

If value is nullish, this fn returns undefined. If there is no corresponding option, then a new object is returned
where the label and value are set to the provided value.`,displayName:"findValueOption",props:{}}}catch{}try{Ns.displayName="Control",Ns.__docgenInfo={description:"We want to apply the 'form-control' bootstrap class to react-select's Control component, and the easiest way to do that is to make a custom version",displayName:"Control",props:{}}}catch{}try{Zy.displayName="CustomSelectWidget",Zy.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"CustomSelectWidget",props:{}}}catch{}const Lf=({sortConfig:e})=>{const{defaultColumn:t,defaultDirection:n,sortableColumns:a}=e,r=gt(),{getLastQueryRequest:i,executeQueryRequest:o}=r,{getColumnDisplayName:s}=ht(),[l,c]=P.useState(t),[u,d]=P.useState(n),p=a.map(h=>({value:h,label:s(h)})),f=h=>{const v=i();let g="ASC";h===l&&(g=u==="ASC"?"DESC":"ASC");const b=h?[{column:h,direction:g}]:void 0;v.query.sort=b,o(v),c(h),d(g)};return L("div",{className:"QuerySortSelector bootstrap-4-backport",children:[m(De,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),m(Px,{className:"react-select-container SRC-inlineBlock",value:Is(l,p),options:p,onChange:h=>f(h==null?void 0:h.value),components:{Control:Ns},styles:{control:h=>({...h,marginLeft:"15px"})}})]})};try{Lf.displayName="QuerySortSelector",Lf.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}var Er=(e=>(e.CURRENT_WINDOW="_self",e.NEW_WINDOW="_blank",e.PARENT_FRAME="_parent",e.FULL_WINDOW_BODY="_top",e))(Er||{});const Jy=e=>{const t=rn(e.sql),n=qp(e.searchParams,e.sqlOperator),{sortConfig:a,columnAliases:r}=e,i=a?[{column:a.defaultColumn,direction:a.defaultDirection}]:void 0,o={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,query:{sql:e.sql,limit:e.limit??Ls,sort:i,additionalFilters:n},partMask:pa|ha|Os|Ab|Fs|Ds|Sp|Ep};return m(gs,{...e,initQueryRequest:o,children:L(fi,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:r,noContentPlaceholderType:e.noContentPlaceholderType??Qr.STATIC,children:[a&&m(Lf,{sortConfig:a}),m(Ps,{...e}),m(ci,{children:s=>m(wp,{error:s==null?void 0:s.error})})]})})};try{Jy.displayName="CardContainerLogic",Jy.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}}}}}catch{}const Vf=({type:e,title:t,subTitle:n="",description:a,values:r,secondaryLabelLimit:i,isAlignToLeftNav:o,descriptionConfig:s,href:l,target:c,rgbIndex:u,icon:d})=>{const p=document.querySelector('meta[name="description"]'),[f]=P.useState(document.title),[h]=P.useState(p?p.getAttribute("content"):"");return P.useEffect(()=>(t&&document.title!==t&&(document.title=t),(a||n)&&(p==null||p.setAttribute("content",a||n)),function(){document.title=f,p==null||p.setAttribute("content",h)})),m("div",{className:`SRC-portalCard SRC-portalCardHeader ${o?"isAlignToLeftNav":""}`,children:m("div",{className:"container-fluid container-full-width",children:m("div",{className:"row",children:m("div",{className:"col-md-offset-1 col-md-10",children:L("div",{className:"SRC-portalCardMain",children:[d,L("div",{style:{width:"100%"},children:[L("div",{className:"SRC-cardContent",style:{marginLeft:"15px"},children:[m("div",{className:"SRC-type",children:e}),m("div",{children:m("h3",{className:"SRC-boldText",style:{margin:"none"},children:l?m("a",{target:c,href:l,className:"highlight-link",children:t}):L("span",{children:[" ",t," "]})})}),n&&L("div",{className:"SRC-author",children:[" ",n," "]}),a&&m("span",{className:"SRC-font-size-base",children:s!=null&&s.isMarkdown?m(xt,{markdown:a}):a})]}),m("div",{style:{borderTop:"1px solid rgba(26, 28, 41, 0.2)",marginTop:"15px",paddingTop:"5px"}}),m("div",{className:"SRC-cardContent",children:r&&m(Lp,{isHeader:!0,secondaryLabelLimit:i,values:r})})]})]})})})})})};try{Vf.displayName="HeaderCard",Vf.__docgenInfo={description:"",displayName:"HeaderCard",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:{value:""},description:"",name:"subTitle",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[][]"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Element"}}}}}catch{}const Mf=e=>{var c;const{fileHandleAssociation:t,showDownloadIcon:n,redirect:a=!1,displayValue:r}=e,{accessToken:i}=ze(),[o,s]=P.useState();P.useEffect(()=>{r===void 0&&(async()=>s(await $s({requestedFiles:[t],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},i)))()},[i,r,t]);let l;return o&&(l=(c=o.requestedFiles[0].fileHandle)==null?void 0:c.fileName),L("button",{onClick:()=>{i&&t&&Nb(t.fileHandleId,i,t.associateObjectType,t.associateObjectId,a).then(u=>{window.open(u,"_blank")}).catch(u=>{console.error("Error on retrieving file handle url ",u)})},className:`SRC-primary-text-color ${_p}`,type:"button",style:{padding:0},children:[r??l??t.fileHandleId,n&&m(Fe,{icon:"download"})]})};try{Mf.displayName="FileHandleLink",Mf.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}}}catch{}const Bf=e=>{const{fileHandleAssociation:{fileHandleId:t,associateObjectId:n,associateObjectType:a}}=e,{accessToken:r}=ze(),[i,o]=P.useState(),{ref:s,inView:l}=ma({triggerOnce:!0,rootMargin:"500px 0px"});return P.useEffect(()=>{(()=>{t&&n&&a&&l&&Nb(t,r,a,n,!1).then(u=>{o(u)}).catch(u=>{console.error("Error on retrieving file handle url ",u)})})()},[l,t,n,r,a]),m("span",{ref:s,children:i&&m("img",{src:i,alt:"",className:"ImageFileHandle",loading:"lazy"})})};try{Bf.displayName="ImageFileHandle",Bf.__docgenInfo={description:"",displayName:"ImageFileHandle",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}}}}}catch{}const jh=400,j8="SRC-short-description",Q8="SRC-long-description",Uf=e=>{let t="";const n=e.split(" ");let a=0;for(;t.length<jh&&a<n.length;)t+=`${n[a]} `,a+=1;return t=t.trim(),{previewText:t}},G8=(e,t,n)=>{let a;return e&&t&&(Ib(e)?a={fileHandleId:t,associateObjectId:(e==null?void 0:e.id)??"",associateObjectType:sr.TableEntity}:n&&(a={fileHandleId:t,associateObjectId:n,associateObjectType:sr.FileEntity})),a},Sn=({columnName:e,value:t,selectColumns:n,columnModels:a})=>{if(!t)return{str:"",strList:void 0,columnModelType:void 0};const r=(n==null?void 0:n.find(o=>o.name===e))||(a==null?void 0:a.find(o=>o.name===e));if(r==null?void 0:r.columnType.endsWith("_LIST")){let o=t,s;try{return s=JSON.parse(o),o=s.join(", "),{strList:s,str:o,columnModelType:r==null?void 0:r.columnType}}catch(l){console.error("Could not parse multivalue string ",o," caught err ",l)}}return{str:t,columnModelType:r==null?void 0:r.columnType}},Y8=(e,t,n)=>(t==null?void 0:t.findIndex(a=>a.name===e))||(n==null?void 0:n.findIndex(a=>a.name===e)),zf=e=>{const{synapseId:t,version:n}=e;return L("span",{children:[n,"  ",m("a",{target:Er.NEW_WINDOW,rel:"noopener noreferrer",href:`${lr.PORTAL}#!Synapse:${t}.${n}`,children:"(Show Version History on Synapse)"})]})},Ts=e=>{const{value:t,columnName:n,labelLink:a,selectColumns:r,columnModels:i,isHeader:o,className:s,rowData:l,rowId:c}=e;if(!t)return m("p",{children:t});const{strList:u,str:d,columnModelType:p}=Sn({columnName:n,value:t,selectColumns:r,columnModels:i});if(!d)return m("p",{children:d});let f=s;const h={};if(o&&(f=s==null?void 0:s.concat(" ","SRC-lightLink")),p===pe.USERID_LIST&&u)return m("p",{children:u.map((g,b)=>L(z.Fragment,{children:[m(ra,{ownerId:g,size:qo,className:f}),b<u.length-1&&",  "]},g))});if(p===pe.USERID&&d)return m(ra,{ownerId:d,size:qo,className:f});if(!a)return d.match(qb)?m("a",{target:Er.NEW_WINDOW,rel:"noopener noreferrer",href:`${lr.PORTAL}#!Synapse:${d}`,className:f,children:d}):m("p",{children:d});let v;if(a.isMarkdown)u?v=m("p",{children:u.map((g,b)=>L(z.Fragment,{children:[m(xt,{renderInline:!0,markdown:g},g),b<u.length-1&&",  "]},g))}):v=m(xt,{renderInline:!0,markdown:t});else{const g=u||d.split(",");let b;if("target"in a&&(b=a.target),"linkColumnName"in a){const E=Y8(a.linkColumnName,r,i);if(E==null)console.warn(`Could not determine column index of ${a.linkColumnName}`),v=m(Q,{children:t});else{const y=l[E];Sb(y)?v=m(Q,{children:t}):v=m("p",{children:g.map((_,w)=>L(z.Fragment,{children:[m("a",{href:y??void 0,target:b??Er.NEW_WINDOW,rel:"noopener noreferrer",className:f,style:h,children:_},_),w<g.length-1&&m("span",{style:{marginRight:4},children:", "})]},_))})}}else v=m("p",{children:g.map((E,y)=>{const{baseURL:_,URLColumnName:w,wrapValueWithParens:S}=a,C=a.overrideValueWithRowID?`syn${c}`:E,x=S?`(${C})`:C,T=`/${_}?${w}=${x}`;return L(z.Fragment,{children:[m("a",{href:T,className:f,style:h,target:b??Er.CURRENT_WINDOW,children:E},E),y<g.length-1&&m("span",{style:{marginRight:4},children:", "})]},E)})})}return a.tooltipText?m(Et,{title:a.tooltipText,enterNextDelay:300,children:m("span",{children:v})}):v};function X8(e,t,n,a){if(e){if(!t||!n)throw Error("Must specify CardLink and data for linking to work");const{matchColumnName:r,URLColumnName:i,overrideLinkURLColumnName:o,overrideValueWithRowID:s}=e;if(o&&n[o]){const c=n[o],u=t[c];if(u)return u}const l=n[r];if(l===void 0)console.error(`Could not find match for data: ${t} with columnName ${r}`);else{const c=s?`syn${a}`:t[l];if(c)return`/${e.baseURL}?${i}=${c}`}}}function eb(e,t,n,a,r){e=e.trim();let i=e,o=Er.CURRENT_WINDOW;e.match(qb)?i=`${lr.PORTAL}#!Synapse:${e}`:e.match(_1)?(o=Er.NEW_WINDOW,i=`https://dx.doi.org/${e}`):t?t&&(i=X8(t,n,a,r)??"",i.includes("/DetailsPage")&&(o=Er.NEW_WINDOW)):o=Er.NEW_WINDOW;const s=(t==null?void 0:t.target)??o;return{href:i,target:s}}function Hf(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:a,descriptionConfig:r}=e;let i=t;r!=null&&r.isMarkdown&&(i=m(xt,{markdown:i}));const o=n||(r==null?void 0:r.showFullDescriptionByDefault);return m("div",{className:o?"":"SRC-hidden",children:m("span",{"data-search-handle":a,className:`SRC-font-size-base ${Q8}`,children:i})})}function Wf(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:a,descriptionConfig:r,toggleShowMore:i}=e;return r!=null&&r.showFullDescriptionByDefault?m(Q,{}):L("div",{className:n?"SRC-hidden":"",children:[m("span",{"data-search-handle":a,className:`SRC-font-size-base ${j8} SRC-short-description`,children:Uf(t).previewText}),t.length>=jh&&m("a",{style:{fontSize:"16px",cursor:"pointer",marginLeft:"5px"},className:"highlight-link",onClick:i,children:"...Show More"})]})}class Rs extends z.Component{constructor(n){super(n);je(this,"getCutoff",n=>{let a="";const r=n.split(" ");let i=0;for(;a.length<jh&&i<r.length;)a+=`${r[i]} `,i+=1;return a=a.trim(),{previewText:a}});je(this,"toggleShowMore",()=>{this.setState({hasClickedShowMore:!0})});je(this,"renderTitle",({href:n,target:a,titleSearchHandle:r,title:i})=>n?m("a",{"data-search-handle":r,target:a,href:n,className:"highlight-link",children:i}):L("span",{"data-search-handle":r,children:[" ",i," "]}));this.state={hasClickedShowMore:!1}}render(){var Ae;const{schema:n,data:a,rowId:r,genericCardSchema:i,secondaryLabelLimit:o,selectColumns:s,columnModels:l,iconOptions:c,useTypeColumnForIcon:u=!1,isHeader:d=!1,titleLinkConfig:p,ctaLinkConfig:f,labelLinkConfig:h,descriptionConfig:v,rgbIndex:g,columnIconOptions:b,queryContext:{entity:E},queryVisualizationContext:{getColumnDisplayName:y}}=this.props,_=i,{hasClickedShowMore:w}=this.state,{link:S="",type:C}=_,x=a[n[_.title]];let T=_.subTitle&&a[n[_.subTitle]];T=(_==null?void 0:_.subTitle)&&Sn({value:T,columnName:_==null?void 0:_.subTitle,selectColumns:s,columnModels:l}).str;const R=a[n[_.description||""]],q=a[n[_.icon||""]],k=a[n[_.dataTypeIconNames||""]],I=a[n[_.imageFileHandleColumnName||""]],N=l==null?void 0:l.find(he=>_.link===he.name),$=N==null?void 0:N.columnType,F=a[n[S]]||"",{href:A,target:V}=eb(F,p,a,n,r),O=[],{secondaryLabels:U=[]}=_,H=E&&!Ib(E);for(let he=0;he<U.length;he+=1){const te=U[he];let me=a[n[te]],we;if(me){if(H&&te==="currentVersion"){const Ye=a[n.id];me=zf({synapseId:Ye,version:me}),we="Version"}else{const Ye=h==null?void 0:h.find(ke=>ke.matchColumnName===te);me=m(Ts,{value:me,columnName:te,labelLink:Ye,isHeader:d,selectColumns:s,columnModels:l,rowData:a}),we=y(te)}const ae=[we,me,te];O.push(ae)}}const X=G8(E,I||F,a[n.id]),Y=O.length>0,K={marginTop:d?"0px":void 0,marginBottom:d?"0px":void 0,paddingBottom:Y||I?void 0:"15px"},J=L(Q,{children:[!u&&I&&m("div",{className:"SRC-imageThumbnail",style:{padding:_.thumbnailRequiresPadding?"21px":void 0},children:X&&m(Bf,{fileHandleAssociation:X})}),!u&&!I&&m("div",{className:"SRC-cardThumbnail",children:m(Ws,{iconOptions:c,value:q,type:C})}),u&&m("div",{className:"SRC-cardThumbnail",children:m(Fe,{icon:N1[a[n.type]]})})]});if(d)return m(Vf,{descriptionConfig:v,title:x,subTitle:T,description:R,type:C,icon:J,values:O,href:A,target:V,isAlignToLeftNav:!0,secondaryLabelLimit:o,rgbIndex:g});const ne=y(_.title),fe=y(_.subTitle),ye=y(_.description);let ie,ve;if(f){const he=a[n[f.link]]||"",{href:te,target:me}=eb(he,void 0,a,n,r);ie=te,ve=me}return L("div",{style:K,className:"SRC-portalCard",children:[L("div",{className:"SRC-portalCardMain",children:[J,L("div",{className:"SRC-cardContent",children:[m("div",{className:"SRC-type",children:C}),((Ae=b==null?void 0:b.columns)==null?void 0:Ae.dataType)&&(k==null?void 0:k.length)&&m("div",{style:{marginTop:"20px"},children:m(rN,{iconConfigs:b.columns.dataType,iconNames:JSON.parse(k),useBackground:!0,useTheme:!0})}),m("div",{children:m("h3",{className:"SRC-boldText SRC-blackText",style:{margin:"none"},children:!p&&$===pe.FILEHANDLEID&&X?m(Mf,{fileHandleAssociation:X,showDownloadIcon:C!==v1,displayValue:x}):this.renderTitle({href:A,target:V,titleSearchHandle:ne,title:x})})}),T&&m("div",{"data-search-handle":fe,className:"SRC-author",children:T}),R&&m(Wf,{description:R,hasClickedShowMore:w,descriptionSubTitle:ye,descriptionConfig:v,toggleShowMore:this.toggleShowMore}),R&&m(Hf,{description:R,hasClickedShowMore:w,descriptionSubTitle:ye,descriptionConfig:v}),f&&ie&&ve&&m("div",{className:"SRC-portalCardCTALink bootstrap-4-backport",children:m("a",{target:ve,rel:"noopener noreferrer",href:ie,children:f.text})})]})]}),Y&&m(Lp,{isHeader:!1,secondaryLabelLimit:o,values:O,columnIconOptions:b,className:`${I?"hasImage":"hasIcon"}`})]})}}je(Rs,"contextType",Ni);try{Hf.displayName="LongDescription",Hf.__docgenInfo={description:"",displayName:"LongDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}}}}}catch{}try{Wf.displayName="ShortDescription",Wf.__docgenInfo={description:"",displayName:"ShortDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},toggleShowMore:{defaultValue:null,description:"",name:"toggleShowMore",required:!0,type:{name:"() => void"}}}}}catch{}try{Uf.displayName="getCutoff",Uf.__docgenInfo={description:"",displayName:"getCutoff",props:{}}}catch{}try{Sn.displayName="getValueOrMultiValue",Sn.__docgenInfo={description:"",displayName:"getValueOrMultiValue",props:{columnName:{defaultValue:null,description:"",name:"columnName",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}}}catch{}try{zf.displayName="VersionLabel",zf.__docgenInfo={description:"",displayName:"VersionLabel",props:{synapseId:{defaultValue:null,description:"",name:"synapseId",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}}}catch{}try{Ts.displayName="SynapseCardLabel",Ts.__docgenInfo={description:"",displayName:"SynapseCardLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},labelLink:{defaultValue:null,description:"",name:"labelLink",required:!0,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink | undefined"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!0,type:{name:"SelectColumn[] | undefined"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!0,type:{name:"ColumnModel[] | undefined"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}}}}}catch{}try{Rs.displayName="GenericCard",Rs.__docgenInfo={description:"Renders a card from a table query",displayName:"GenericCard",props:{selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},useTypeColumnForIcon:{defaultValue:null,description:"",name:"useTypeColumnForIcon",required:!1,type:{name:"boolean"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"Record<string, number>"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},tableId:{defaultValue:null,description:"",name:"tableId",required:!0,type:{name:"string | undefined"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}}}}}catch{}class Si extends P.Component{constructor(n){super(n);je(this,"handleLinkClick",n=>a=>{a.preventDefault(),window.open(`${lr.PORTAL}#!Synapse:${n}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:a,selectColumns:r,columnModels:i,genericCardSchema:o,queryVisualizationContext:{getColumnDisplayName:s}}=this.props,l=n[a.datasetName],c=n[a.summary],u=Sn({columnName:"tumorType",value:n[a.tumorType],selectColumns:r,columnModels:i}).str,d=Sn({columnName:"diseaseFocus",value:n[a.diseaseFocus],selectColumns:r,columnModels:i}).str,p=n[a.id],f=n[a.fundingAgency],h=n[a.fileCount],v=wb(n[a.fileSize]),g=[["FUNDER",Sn({columnName:"fundingAgency",value:f,selectColumns:r,columnModels:i}).str],["SIZE",v],["FILES",h]];if(o&&o.secondaryLabels){const{secondaryLabels:b}=o;for(let E=0;E<b.length;E++){const y=b[E],_=n[a[y]];let w;if(_){w=s(y);const S=[w,_,y];g.push(S)}}}return L("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[L("div",{className:"SRC-cardThumbnail",children:[m(Ws,{type:kb}),m("div",{children:v})]}),L("div",{className:"SRC-cardContent SRC-dataset",children:[m("div",{className:"SRC-type",children:"Dataset "}),m("div",{children:m("h3",{children:m("a",{target:"_self",href:`${lr.PORTAL}#!Synapse:${p}`,children:l})})}),L("div",{className:"SRC-description-dataset",children:[m("p",{className:"SRC-description-text",children:c}),m("div",{className:"SRC-cardAction bootstrap-4-backport",children:m(nN,{className:"SRC-datasetButton",onClick:this.handleLinkClick(p),variant:"secondary",children:"Download Dataset"})})]}),m("div",{className:"SRC-cardAnnotations",children:m(Lx,{chips:[u,d]})})]}),m(Lp,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:g})]})}}try{Si.displayName="Dataset",Si.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class jf extends P.Component{constructor(n){super(n);je(this,"handleLinkClick",n=>a=>{a.preventDefault(),window.open(n,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:a}=this.props,r=n[a.organizationName],i=n[a.organizationPath],o=n[a.summary],s=n[a.website],l=n[a.logo];let c=s.replace("https://","");c=c.replace("http://",""),c.charAt(c.length-1)==="/"&&(c=c.substring(0,c.length-1));const u=window.location.hash.substring(1)===i,d={};let p;return u?d.paddingBottom="42px":p=m("div",{className:"SRC-marginAuto SRC-cardAction",children:m(fa,{href:i,variant:"contained",color:"secondary",sx:{"&:hover":{color:"common.white"}},children:"View Funded Research"})}),L("div",{className:"SRC-portalCard SRC-typeFunder ",style:d,children:[L("div",{className:"SRC-cardContent",children:[m("div",{className:"SRC-type",children:"Organization"}),l&&m("div",{className:"SRC-cardThumbnail",children:m("img",{alt:"funder logo",className:"SRC-logo",src:l})}),m("div",{children:L("h3",{children:[u&&r,!u&&m("a",{href:i,children:r})]})}),m("div",{className:"SRC-website",children:m("a",{rel:"noopener noreferrer",target:"_blank",href:s,children:c})}),m("div",{className:"SRC-description",children:o})]}),p]})}}try{jf.displayName="Funder",jf.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{Si.displayName="Dataset",Si.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}const Qf=({data:e,schema:t})=>{const n=e[t.submitterName],a=e[t.submitterUserId],r=e[t.time],i=e[t.timeUnits],o=e[t.text],s=e[t.tag];return L("div",{className:"SRC-portalCard ObservationCard",children:[L("div",{className:"ObservationCard__submitter",children:[!a&&m("div",{children:n}),a&&m(ra,{size:"SMALL USER CARD",ownerId:a})]}),r&&L("div",{className:"ObservationCard__time",children:[m(Fe,{icon:"time"}),L("span",{children:[`${r} ${i}`,Number(r)>1?"s":""]})]}),m("div",{className:"ObservationCard__text",children:m(Vx,{summary:o})}),m("div",{className:"ObservationCard__tags",children:s&&m("span",{className:"SRC-tag",children:s})})]})},Gf=()=>L("div",{className:"SRC-portalCard ObservationCard",children:[m("div",{className:"ObservationCard__submitter",children:m("span",{children:m(mn,{width:"100px"})})}),m("div",{className:"ObservationCard__time",children:m(Fe,{icon:"time"})}),m("div",{className:"ObservationCard__text",children:m(Np,{numCols:1,numRows:4})}),m("div",{className:"ObservationCard__tags",children:m(mn,{width:"80px"})})]});try{Qf.displayName="ObservationCard",Qf.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, string>"}}}}}catch{}try{Gf.displayName="LoadingObservationCard",Gf.__docgenInfo={description:"",displayName:"LoadingObservationCard",props:{}}}catch{}function K8(e){const{propsToPass:t,type:n}=e;switch(n){case kb:return m(Si,{...t});case y1:return m(jf,{...t});case g1:return m(Rs,{...t});case Uc:return m(Qf,{...t});default:return m("div",{})}}const Ps=e=>{const{isHeader:t=!1,unitDescription:n,type:a,isLoading:r,secondaryLabelLimit:i=3,title:o,...s}=e,l=CM(),{NoContentPlaceholder:c}=ht(),{data:u,appendNextPageToResults:d,hasNextPage:p}=l,f=ht(),h=u!=null&&u.queryResult.queryResults.tableId?[u==null?void 0:u.queryResult.queryResults.tableId]:[],v=za({ids:h,type:"ENTITY_HEADER"});if(u){if(u&&u.queryResult.queryResults.rows.length===0)return m(c,{})}else return L("div",{children:[r&&a===Uc&&m(Gf,{}),r&&a!==Uc&&Cp]});const g={};u.queryResult.queryResults.headers.forEach((y,_)=>{g[y.name]=_});const b=p&&m(ut,{display:"flex",justifyContent:"flex-end",children:m(fa,{variant:"contained",color:"secondary",size:"large",onClick:()=>{d()},children:"View More"})});let E;if(a===em){const y=u.queryResult.queryResults.headers.findIndex(w=>w.columnType===pe.USERID);if(y===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const _=u.queryResult.queryResults.rows.map(w=>w.values[y]);E=m(yx,{data:u,list:_,size:em})}else{const y=u.queryResult.queryResults.rows;E=y.length?y.map((_,w)=>{const C={key:JSON.stringify(_.values),type:a,schema:g,isHeader:t,secondaryLabelLimit:i,rowId:_.rowId,data:_.values,selectColumns:u.selectColumns,columnModels:u.columnModels,tableEntityConcreteType:v[0]&&v[0].type,tableId:u==null?void 0:u.queryResult.queryResults.tableId,queryContext:l,queryVisualizationContext:f,...s};return m(K8,{propsToPass:C,type:a},_.rowId??w)}):m(Q,{})}return L("div",{role:"list",children:[o&&m("h2",{className:"SRC-card-overview-title",children:o}),!o&&n&&m(wi,{frontText:"Displaying"}),E,b]})};try{Ps.displayName="CardContainer",Ps.__docgenInfo={description:"",displayName:"CardContainer",props:{isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}}}}}catch{}var NC={exports:{}};(function(e,t){(function(a,r){e.exports=r()})(Yr,()=>(()=>{var n={887:o=>{o.exports=function(l){for(var c=5381,u=l.length;u;)c=33*c^l.charCodeAt(--u);return c>>>0}}},a={};function r(o){var s=a[o];if(s!==void 0)return s.exports;var l=a[o]={exports:{}};return n[o](l,l.exports,r),l.exports}r.n=o=>{var s=o&&o.__esModule?()=>o.default:()=>o;return r.d(s,{a:s}),s},r.d=(o,s)=>{for(var l in s)r.o(s,l)&&!r.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},r.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var i={};return(()=>{r.r(i),r.d(i,{default:()=>g});var o=r(887),s=r.n(o);function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(b)}function c(b,E){for(var y=0;y<E.length;y++){var _=E[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,f(_.key),_)}}function u(b,E,y){return E&&c(b.prototype,E),y&&c(b,y),Object.defineProperty(b,"prototype",{writable:!1}),b}function d(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function p(b,E,y){return(E=f(E))in b?Object.defineProperty(b,E,{value:y,enumerable:!0,configurable:!0,writable:!0}):b[E]=y,b}function f(b){var E=function(_,w){if(l(_)!=="object"||_===null)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var C=S.call(_,w||"default");if(l(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(_)}(b,"string");return l(E)==="symbol"?E:String(E)}var h,v=(h=0,function(){return h++}),g=u(function b(E){var y=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d(this,b),p(this,"ID","id"),p(this,"PX","px"),p(this,"RESIZABLE","grip-resizable"),p(this,"FLEX","grip-flex"),p(this,"legacyIE",navigator.userAgent.indexOf("Trident/4.0")>0),p(this,"reset",function(w){return y.init(w)}),p(this,"onResize",function(){var w=y.tb;if(w.classList.remove(y.RESIZABLE),w.opt.fixed){w.tableWidth=Number(window.getComputedStyle(w).width.replace(/px/,"")).valueOf();for(var S=0,C=0;C<w.columnCnt;C++)S+=w.columns[C].w;for(var x=0;x<w.columnCnt;x++)w.columns[x].style.width=Math.round(1e3*w.columns[x].w/S)/10+"%",w.columns[x].locked=!0,w.opt.currentWidths[x]=Number(window.getComputedStyle(w.columns[x]).width.replace(/px/,"")).valueOf()}else y.applyBounds(),w.opt.resizeMode==="flex"&&w.opt.serialize&&y.serializeStore();w.classList.add(y.RESIZABLE),y.syncGrips()}),p(this,"onGripMouseDown",function(w){var S=w.target.parentNode.data,C=y.tb,x=C.grips[S.i],T=w.touches;if(x.ox=T?T[0].pageX:w.pageX,x.l=x.offsetLeft,x.x=x.l,y.createStyle(document.querySelector("head"),"*{cursor:"+C.opt.dragCursor+"!important}"),document.addEventListener("touchmove",y.onGripDrag),document.addEventListener("mousemove",y.onGripDrag),document.addEventListener("touchend",y.onGripDragOver),document.addEventListener("mouseup",y.onGripDragOver),x.classList.add(C.opt.draggingClass),y.grip=x,C.columns[S.i].locked)for(var R,q=0;q<C.columnCnt;q++)(R=C.columns[q]).locked=!1,R.w=Number(window.getComputedStyle(R).width.replace(/px/,"")).valueOf();w.preventDefault()}),p(this,"onGripDrag",function(w){var S=y.grip;if(S){var C=S.t,x=w.touches,T=(x?x[0].pageX:w.pageX)-S.ox+S.l,R=C.opt.minWidth,q=S.i,k=1.5*C.cellSpace+R+C.borderSpace,I=q===C.columnCnt-1,N=q?C.grips[q-1].offsetLeft+C.cellSpace+R:k,$=C.opt.fixed?q===C.columnCnt-1?C.tableWidth-k:C.grips[q+1].offsetLeft-C.cellSpace-R:1/0;if(T=Math.max(N,Math.min($,T)),S.x=T,S.style.left=T+y.PX,I&&(S.w=C.columns[q].w+T-S.l),C.opt.liveDrag){I?(C.columns[q].style.width=S.w+y.PX,!C.opt.fixed&&C.opt.overflow?C.style.minWidth=C.tableWidth+T-S.l+y.PX:C.tableWidth=Number(window.getComputedStyle(C).width.replace(/px/,"")).valueOf()):y.syncCols(C,q,!1,C.opt),y.syncGrips();var F=C.opt.onDrag;F&&F(w)}w.preventDefault()}}),p(this,"onGripDragOver",function(w){var S=y.grip;document.removeEventListener("touchend",y.onGripDragOver),document.removeEventListener("mouseup",y.onGripDragOver),document.removeEventListener("touchmove",y.onGripDrag),document.removeEventListener("mousemove",y.onGripDrag);var C=document.querySelector("head").lastChild;if(C.parentNode.removeChild(C),S){if(S.classList.remove(S.t.opt.draggingClass),S.x-S.l!=0){var x=S.t,T=x.opt.onResize,R=S.i;if(R===x.columnCnt-1){var q=x.columns[R];q.style.width=S.w+y.PX,q.w=S.w}else y.syncCols(x,R,!0,x.opt);x.opt.fixed||y.applyBounds(),y.syncGrips(),T&&T(w),x.opt.serialize&&y.serializeStore()}y.grip=null}}),p(this,"init",function(w){if(w.disable)return y.destroy();var S=y.tb,C=S.getAttribute(y.ID)||y.RESIZABLE+v();if(!S.matches("table")||S.extended&&!w.partialRefresh)return null;var x=document.querySelector("head");if(y.createStyle(x," .grip-resizable{table-layout:fixed;} .grip-resizable > tbody > tr > td, .grip-resizable > tbody > tr > th{overflow:hidden} .grip-padding > tbody > tr > td, .grip-padding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .grip-container{ height:0px; position:relative;} .grip-handle{margin-left:-5px; position:absolute; z-index:5; } .grip-handle .grip-resizable{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .grip-lastgrip{position:absolute; width:1px; } .grip-drag{ border-left:1px dotted black;	} .grip-flex{width:auto!important;} .grip-handle.grip-disabledgrip .grip-resizable{cursor:default; display:none;}"),w.hoverCursor&&w.hoverCursor!=="col-resize"){var T=".grip-handle .grip-resizable:hover{cursor:"+w.hoverCursor+"!important}";y.createStyle(x,T)}S.setAttribute(y.ID,C);var R=S.opt;S.opt=y.extendOptions(w);var q=y.getTableHeaders(S);if(y.extendTable(q),w.remoteTable&&w.remoteTable.matches("table")){var k=y.getTableHeaders(S.opt.remoteTable);q.length===k.length?y.extendRemoteTable(S.opt.remoteTable,k,S):console.warn("column count for remote table did not match")}return R}),p(this,"applyBounds",function(){var w=y.tb,S=w.columns.map(function(C){return window.getComputedStyle(C).width});w.style.width=window.getComputedStyle(w).width,w.tableWidth=Number(w.style.width.replace(/px/,"")).valueOf(),w.classList.remove(y.FLEX),w.columns.forEach(function(C,x){C.style.width=S[x];var T=Number(S[x].replace(/px/,"")).valueOf();C.w=T,w.opt.currentWidths[x]=T}),w.classList.add(y.FLEX)}),p(this,"serializeStore",function(){var w=y.store,S=y.tb;w[S.getAttribute(y.ID)]="";for(var C=0,x=0;x<S.columns.length;x++){var T=window.getComputedStyle(S.columns[x]).width.replace(/px/,"");w[S.getAttribute(y.ID)]+=T+";",C+=Number(T).valueOf()}w[S.getAttribute(y.ID)]+=C.toString(),S.opt.fixed||(w[S.getAttribute(y.ID)]+=";"+window.getComputedStyle(S).width.replace(/px/,""))}),p(this,"syncGrips",function(){var w=y.tb;w.gripContainer.style.width=w.tableWidth+y.PX;for(var S=0;S<w.columnCnt;S++){var C=w.columns[S],x=C.getBoundingClientRect(),T=w.getBoundingClientRect();w.grips[S].style.left=x.left-T.left+C.offsetWidth+w.cellSpace/2+y.PX,w.grips[S].style.height=(w.opt.headerOnly?w.columns[0].offsetHeight:w.offsetHeight)+y.PX}}),p(this,"destroy",function(){var w=y.tb,S=w.getAttribute(y.ID);return S?(y.store[S]="",w.classList.remove(y.RESIZABLE),w.classList.remove(y.FLEX),w.remote&&(w.remote.classList.remove(y.RESIZABLE),w.remote.classList.remove(y.FLEX)),w.gripContainer&&w.gripContainer.parentNode&&w.gripContainer.parentNode.removeChild(w.gripContainer),delete w.extended,w.opt):null}),p(this,"createStyle",function(w,S){var C=s()(S).toString(),x=w.querySelectorAll("style"),T=Array.from(x).filter(function(q){return q.gripid===C});if(!T.length){var R=document.createElement("style");R.type="text/css",R.gripid=C,R.styleSheet?R.styleSheet.cssText=S:R.appendChild(document.createTextNode(S)),w.appendChild(R)}}),p(this,"extendOptions",function(w){var S=Object.assign({},b.DEFAULTS,w);switch(S.fixed=!0,S.overflow=!1,S.resizeMode){case"flex":S.fixed=!1;break;case"overflow":S.fixed=!1,S.overflow=!0}return S}),p(this,"getTableHeaders",function(w){var S="#"+w.id,C=Array.from(w.querySelectorAll(S+">thead>tr:nth-of-type(1)>th"));return(C=C.concat(Array.from(w.querySelectorAll(S+">thead>tr:nth-of-type(1)>td")))).length||(C=(C=(C=(C=Array.from(w.querySelectorAll(S+">tbody>tr:nth-of-type(1)>th"))).concat(Array.from(w.querySelectorAll(S+">tr:nth-of-type(1)>th")))).concat(Array.from(w.querySelectorAll(S+">tbody>tr:nth-of-type(1)>td")))).concat(Array.from(w.querySelectorAll(S+">tr:nth-of-type(1)>td")))),y.filterInvisible(C,!1)}),p(this,"filterInvisible",function(w,S){return w.filter(function(C){var x=S?-1:C.offsetWidth,T=S?-1:C.offsetHeight;return!(x===0&&T===0||C.style&&C.style.display&&window.getComputedStyle(C).display==="none")})}),p(this,"extendTable",function(w){var S=y.tb;S.opt.removePadding&&S.classList.add("grip-padding"),S.classList.add(y.RESIZABLE),S.insertAdjacentHTML("beforebegin",'<div class="grip-container"/>'),S.grips=[],S.columns=[],S.tableWidth=Number(window.getComputedStyle(S).width.replace(/px/,"")).valueOf(),S.gripContainer=S.previousElementSibling,S.opt.marginLeft&&(S.gripContainer.style.marginLeft=S.opt.marginLeft),S.opt.marginRight&&(S.gripContainer.style.marginRight=S.opt.marginRight),S.cellSpace=parseInt(y.legacyIE?S.cellSpacing||S.currentStyle.borderSpacing:window.getComputedStyle(S).borderSpacing.split(" ")[0].replace(/px/,""))||2,S.borderSpace=parseInt(y.legacyIE?S.border||S.currentStyle.borderLeftWidth:window.getComputedStyle(S).borderLeftWidth.replace(/px/,""))||1,S.extended=!0,y.createGrips(w)}),p(this,"extendRemoteTable",function(w,S,C){C.opt.removePadding&&w.classList.add("grip-padding"),w.classList.add(y.RESIZABLE),w.getAttribute(y.ID)||w.setAttribute(y.ID,C.getAttribute(y.ID)+"remote"),w.columns=[],S.forEach(function(T,R){var q=S[R];q.w=C.columns[R].w,q.style.width=q.w+y.PX,q.removeAttribute("width"),w.columns.push(q)}),w.tableWidth=C.tableWidth,w.cellSpace=C.cellSpace,w.borderSpace=C.borderSpace;var x=Array.from(w.querySelectorAll("col"));w.columnGrp=y.filterInvisible(x,!0),w.columnGrp.forEach(function(T,R){T.removeAttribute("width"),T.style.width=C.columnGrp[R].style.width}),C.remote=w}),p(this,"createGrips",function(w){var S=y.tb;S.columnGrp=y.filterInvisible(Array.from(S.querySelectorAll("col")),!0),S.columnGrp.forEach(function(T){T.removeAttribute("width")}),S.columnCnt=w.length;var C=!1;y.store[S.getAttribute(y.ID)]&&(y.deserializeStore(w),C=!0),w.forEach(function(T,R){var q=w[R],k=S.opt.disabledColumns.indexOf(R)!==-1;y.createDiv(S.gripContainer,"grip-handle");var I=S.gripContainer.lastChild;!k&&S.opt.gripInnerHtml&&(I.innerHTML=S.opt.gripInnerHtml),y.createDiv(I,y.RESIZABLE),R===S.columnCnt-1&&(I.classList.add("grip-lastgrip"),S.opt.fixed&&(I.innerHTML="")),I.addEventListener("touchstart",y.onGripMouseDown,{capture:!0,passive:!0}),I.addEventListener("mousedown",y.onGripMouseDown,!0),k?I.classList.add("grip-disabledgrip"):(I.classList.remove("grip-disabledgrip"),I.addEventListener("touchstart",y.onGripMouseDown,{capture:!0,passive:!0}),I.addEventListener("mousedown",y.onGripMouseDown,!0)),I.t=S,I.i=R,S.opt.widths[R]?q.w=S.opt.widths[R]:q.w=C?Number(q.style.width.replace(/px/,"")).valueOf():Number(window.getComputedStyle(q).width.replace(/px/,"")).valueOf(),S.opt.currentWidths[R]=q.w,q.style.width=q.w+y.PX,q.removeAttribute("width"),I.data={i:R,t:S.getAttribute(y.ID),last:R===S.columnCnt-1},S.grips.push(I),S.columns.push(q)});var x=Array.from(S.querySelectorAll("td"));x.concat(Array.from(S.querySelectorAll("th"))),(x=(x=x.filter(function(T){for(var R=0;R<w.length;R++)if(w[R]===T)return!1;return!0})).filter(function(T){return!(T.querySelectorAll("table th").length||T.querySelectorAll("table td").length)})).forEach(function(T){T.removeAttribute("width")}),S.opt.fixed||(S.removeAttribute("width"),S.classList.add(y.FLEX)),y.syncGrips()}),p(this,"deserializeStore",function(w){var S=y.tb;if(S.columnGrp.forEach(function(R){R.removeAttribute("width")}),S.opt.flush)y.store[S.getAttribute(y.ID)]="";else{var C=y.store[S.getAttribute(y.ID)].split(";"),x=C[S.columnCnt+1];!S.opt.fixed&&x&&(S.style.width=x+y.PX,S.opt.overflow&&(S.style.minWidth=x+y.PX,S.tableWidth=Number(x).valueOf()));for(var T=0;T<S.columnCnt;T++)w[T].style.width=C[T]+y.PX,S.columnGrp[T]&&(S.columnGrp[T].style.width=100*Number(C[T]).valueOf()/Number(C[S.columnCnt]).valueOf()+"%")}}),p(this,"createDiv",function(w,S,C){var x=document.createElement("div");x.classList.add(S),C&&(x.innerHTML=C),w.appendChild(x)}),p(this,"syncCols",function(w,S,C,x){var T=w.remote,R=y.grip.x-y.grip.l,q=w.columns[S],k=w.columns[S+1];if(q&&k){var I=q.w+R,N=k.w-R,$=I+y.PX;if(q.style.width=$,w.columnGrp[S]&&w.columnGrp[S].style.width&&(w.columnGrp[S].style.width=$),T&&(T.columns[S].style.width=$,T.columnGrp[S]&&T.columnGrp[S].style.width&&(T.columnGrp[S].style.width=$)),x.fixed){var F=N+y.PX;k.style.width=F,w.columnGrp[S+1]&&w.columnGrp[S+1].style.width&&(w.columnGrp[S+1].style.width=F),T&&(T.columns[S+1].style.width=F,T.columnGrp[S+1]&&T.columnGrp[S+1].style.width&&(T.columnGrp[S+1].style.width=F))}else x.overflow&&(w.style.minWidth=w.tableWidth+R+y.PX);C&&(q.w=I,k.w=x.fixed?N:k.w,T&&(T.columns[S].w=I,T.columns[S+1].w=x.fixed?N:k.w))}});try{this.store=sessionStorage}catch{this.store={}}this.grip=null,this.tb=E,window.addEventListener("resize",this.onResize),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),this.init(_)});g.DEFAULTS={resizeMode:"fit",draggingClass:"grip-drag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"col-resize",dragCursor:"col-resize",flush:!1,marginLeft:null,marginRight:null,remoteTable:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,widths:[],currentWidths:[],serialize:!0,onDrag:null,onResize:null}})(),i})())})(NC);var Z8=NC.exports;const J8=Nt(Z8),Yf=e=>{const{entityId:t,entityVersionNumber:n}=e,{accessToken:a}=ze(),r=!!a,{data:i}=Ri(t,n),{mutate:o}=hx({onSuccess:()=>{Xr(`${(i==null?void 0:i.name)??t} was successfully added to your Download Cart.`,"success")},onError:s=>{Xr(`Unable to add the file to your Download Cart. ${s.reason}`,"danger")}});return r?m(Q,{children:m(Et,{title:"Add this file to your Download Cart",placement:"right",enterNextDelay:300,children:m(Xt,{"data-testid":"AddToDownloadListV2",onClick:()=>{o({entityId:t,entityVersionNumber:n})},className:"ignoreLink",children:m(Fe,{icon:"addToCart"})})})}):m(Q,{})};try{Yf.displayName="AddToDownloadListV2",Yf.__docgenInfo={description:"",displayName:"AddToDownloadListV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var Xf={exports:{}};(function(e,t){(function(n,a){var r="1.0.33",i="",o="?",s="function",l="undefined",c="object",u="string",d="major",p="model",f="name",h="type",v="vendor",g="version",b="architecture",E="console",y="mobile",_="tablet",w="smarttv",S="wearable",C="embedded",x=350,T="Amazon",R="Apple",q="ASUS",k="BlackBerry",I="Browser",N="Chrome",$="Edge",F="Firefox",A="Google",V="Huawei",O="LG",U="Microsoft",H="Motorola",G="Opera",X="Samsung",Y="Sharp",K="Sony",J="Xiaomi",ne="Zebra",fe="Facebook",ye=function(ee,ue){var de={};for(var Ne in ee)ue[Ne]&&ue[Ne].length%2===0?de[Ne]=ue[Ne].concat(ee[Ne]):de[Ne]=ee[Ne];return de},ie=function(ee){for(var ue={},de=0;de<ee.length;de++)ue[ee[de].toUpperCase()]=ee[de];return ue},ve=function(ee,ue){return typeof ee===u?Ae(ue).indexOf(Ae(ee))!==-1:!1},Ae=function(ee){return ee.toLowerCase()},he=function(ee){return typeof ee===u?ee.replace(/[^\d\.]/g,i).split(".")[0]:a},te=function(ee,ue){if(typeof ee===u)return ee=ee.replace(/^\s\s*/,i),typeof ue===l?ee:ee.substring(0,x)},me=function(ee,ue){for(var de=0,Ne,ge,pt,Se,We,Me;de<ue.length&&!We;){var Z=ue[de],re=ue[de+1];for(Ne=ge=0;Ne<Z.length&&!We;)if(We=Z[Ne++].exec(ee),We)for(pt=0;pt<re.length;pt++)Me=We[++ge],Se=re[pt],typeof Se===c&&Se.length>0?Se.length===2?typeof Se[1]==s?this[Se[0]]=Se[1].call(this,Me):this[Se[0]]=Se[1]:Se.length===3?typeof Se[1]===s&&!(Se[1].exec&&Se[1].test)?this[Se[0]]=Me?Se[1].call(this,Me,Se[2]):a:this[Se[0]]=Me?Me.replace(Se[1],Se[2]):a:Se.length===4&&(this[Se[0]]=Me?Se[3].call(this,Me.replace(Se[1],Se[2])):a):this[Se]=Me||a;de+=2}},we=function(ee,ue){for(var de in ue)if(typeof ue[de]===c&&ue[de].length>0){for(var Ne=0;Ne<ue[de].length;Ne++)if(ve(ue[de][Ne],ee))return de===o?a:de}else if(ve(ue[de],ee))return de===o?a:de;return ee},ae={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ye={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ke={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,G+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,G]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[f,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[f,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+I],g],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,fe],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,N+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,we,ae]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Ae]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,i,Ae]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[v,X],[h,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[v,X],[h,y]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[v,R],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[v,R],[h,_]],[/(macintosh);/i],[p,[v,R]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[v,V],[h,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[v,V],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[v,J],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[v,J],[h,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[v,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[v,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[v,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[v,H],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[v,H],[h,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[v,O],[h,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[v,O],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[v,"Lenovo"],[h,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[v,"Nokia"],[h,y]],[/(pixel c)\b/i],[p,[v,A],[h,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[v,A],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,K],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[v,K],[h,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[v,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[v,T],[h,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[v,T],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[p,v,[h,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[v,k],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[v,q],[h,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[v,q],[h,y]],[/(nexus 9)/i],[p,[v,"HTC"],[h,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[p,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[v,"Acer"],[h,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[v,"Meizu"],[h,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[v,Y],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,p,[h,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,p,[h,_]],[/(surface duo)/i],[p,[v,U],[h,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[v,"Fairphone"],[h,y]],[/(u304aa)/i],[p,[v,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[p,[v,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[p,[v,"RCA"],[h,_]],[/\b(venue[\d ]{2,7}) b/i],[p,[v,"Dell"],[h,_]],[/\b(q(?:mv|ta)\w+) b/i],[p,[v,"Verizon"],[h,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[v,"Barnes & Noble"],[h,_]],[/\b(tm\d{3}\w+) b/i],[p,[v,"NuVision"],[h,_]],[/\b(k88) b/i],[p,[v,"ZTE"],[h,_]],[/\b(nx\d{3}j) b/i],[p,[v,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[p,[v,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[p,[v,"Swiss"],[h,_]],[/\b((zeki)?tb.*\b) b/i],[p,[v,"Zeki"],[h,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],p,[h,_]],[/\b(ns-?\w{0,9}) b/i],[p,[v,"Insignia"],[h,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[v,"NextBook"],[h,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],p,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],p,[h,y]],[/\b(ph-1) /i],[p,[v,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[v,"Envizen"],[h,_]],[/\b(trio[-\w\. ]+) b/i],[p,[v,"MachSpeed"],[h,_]],[/\btu_(1491) b/i],[p,[v,"Rotor"],[h,_]],[/(shield[\w ]+) b/i],[p,[v,"Nvidia"],[h,_]],[/(sprint) (\w+)/i],[v,p,[h,y]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,U],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[v,ne],[h,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[v,ne],[h,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,p,[h,E]],[/droid.+; (shield) bui/i],[p,[v,"Nvidia"],[h,E]],[/(playstation [345portablevi]+)/i],[p,[v,K],[h,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[v,U],[h,E]],[/smart-tv.+(samsung)/i],[v,[h,w]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,X],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,O],[h,w]],[/(apple) ?tv/i],[v,[p,R+" TV"],[h,w]],[/crkey/i],[[p,N+"cast"],[v,A],[h,w]],[/droid.+aft(\w)( bui|\))/i],[p,[v,T],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[v,Y],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[p,[v,K],[h,w]],[/(mitv-\w{5}) bui/i],[p,[v,J],[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,te],[p,te],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/((pebble))app/i],[v,p,[h,S]],[/droid.+; (glass) \d/i],[p,[v,A],[h,S]],[/droid.+; (wt63?0{2,3})\)/i],[p,[v,ne],[h,S]],[/(quest( 2)?)/i],[p,[v,fe],[h,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[h,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,$+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[g,we,Ye]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[g,we,Ye]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[f,N+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,g]]},He=function(ee,ue){if(typeof ee===c&&(ue=ee,ee=a),!(this instanceof He))return new He(ee,ue).getResult();var de=ee||(typeof n!==l&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:i),Ne=ue?ye(ke,ue):ke;return this.getBrowser=function(){var ge={};return ge[f]=a,ge[g]=a,me.call(ge,de,Ne.browser),ge.major=he(ge.version),ge},this.getCPU=function(){var ge={};return ge[b]=a,me.call(ge,de,Ne.cpu),ge},this.getDevice=function(){var ge={};return ge[v]=a,ge[p]=a,ge[h]=a,me.call(ge,de,Ne.device),ge},this.getEngine=function(){var ge={};return ge[f]=a,ge[g]=a,me.call(ge,de,Ne.engine),ge},this.getOS=function(){var ge={};return ge[f]=a,ge[g]=a,me.call(ge,de,Ne.os),ge},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return de},this.setUA=function(ge){return de=typeof ge===u&&ge.length>x?te(ge,x):ge,this},this.setUA(de),this};He.VERSION=r,He.BROWSER=ie([f,g,d]),He.CPU=ie([b]),He.DEVICE=ie([p,v,h,E,y,w,_,S,C]),He.ENGINE=He.OS=ie([f,g]),e.exports&&(t=e.exports=He),t.UAParser=He;var lt=typeof n!==l&&(n.jQuery||n.Zepto);if(lt&&!lt.ua){var $e=new He;lt.ua=$e.getResult(),lt.ua.get=function(){return $e.getUA()},lt.ua.set=function(ee){$e.setUA(ee);var ue=$e.getResult();for(var de in ue)lt.ua[de]=ue[de]}}})(typeof window=="object"?window:Yr)})(Xf,Xf.exports);var e7=Xf.exports;const As=e=>{const{accessToken:t}=ze(),{associatedObjectId:n,entityVersionNumber:a,associatedObjectType:r,fileHandleId:i,displayFileName:o,onClickCallback:s}=e,{ref:l,inView:c}=ma(),[u,d]=P.useState(!1),[p,f]=P.useState(!1),[h,v]=P.useState(),[g,b]=P.useState(),[E,y]=P.useState("");let _=!0;P.useEffect(()=>(_&&c&&x(),()=>{_=!1}),[t,c]);const w=async()=>{let R;const k=new e7.UAParser().getBrowser().name=="Safari";let I=null;k&&(I=window.open("","Safari Download","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200"),I.document.body.innerHTML="Downloading file on Safari...");try{r===sr.TableEntity?R=(await C(!0)).requestedFiles[0].preSignedURL:R=(await Jh(h,t,!1,!0)).preSignedURL}catch(N){console.log("Fail to get file download link: ",N)}R?(k&&I?(I.location=R,setTimeout(()=>{I&&I.close()},1e4)):window.open(R),s&&s(u)):(I==null||I.close(),console.log("Fail to get file download link"))},S=R=>R&&!R.isPreview?(f(!0),!0):(f(!1),!1),C=(R=!1)=>$s({includeFileHandles:!0,includePreSignedURLs:R,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:n,associateObjectType:r,fileHandleId:i}]},t),x=()=>Ya(t,n,a).then(async R=>{if(Object.hasOwn(R,"dataFileHandleId"))return v(R),Jh(R,t,!0).then(q=>{const k=q.fileHandle;k&&S(k)&&_I(k)&&(d(!0),b(k.externalURL))}).catch(q=>{console.log("Error on getFileEntityFileHandle = ",q)});if(r===sr.TableEntity){const k=(await C()).requestedFiles[0].fileHandle;o&&k&&S(k)&&y(k.fileName)}return Promise.resolve()}).catch(R=>{console.log("Error on getEntity = ",R)});return m(Et,{title:u?"Navigate to external link":"Download this file individually",enterNextDelay:Do,placement:"left",children:m("span",{ref:l,children:(()=>u?m("button",{className:"btn-download-icon",onClick:()=>{s&&s(u)},children:m("a",{className:"ignoreLink",rel:"noreferrer",href:g,target:"_blank",children:m(Fe,{icon:"openInNewWindow"})})}):p?L("button",{className:"btn-download-icon",onClick:()=>{w()},children:[m(Fe,{icon:"download"}),o&&E?E:""]}):m(Q,{}))()})})};try{As.displayName="DirectDownload",As.__docgenInfo={description:"",displayName:"DirectDownload",props:{associatedObjectId:{defaultValue:null,description:"",name:"associatedObjectId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},associatedObjectType:{defaultValue:null,description:"",name:"associatedObjectType",required:!1,type:{name:"enum",value:[{value:'"FileEntity"'},{value:'"TableEntity"'},{value:'"WikiAttachment"'},{value:'"WikiMarkdown"'},{value:'"UserProfileAttachment"'},{value:'"MessageAttachment"'},{value:'"TeamAttachment"'},{value:'"SubmissionAttachment"'},{value:'"VerificationSubmission"'},{value:'"AccessRequirementAttachment"'},{value:'"DataAccessRequestAttachment"'},{value:'"DataAccessSubmissionAttachment"'}]}},fileHandleId:{defaultValue:null,description:"",name:"fileHandleId",required:!1,type:{name:"string"}},displayFileName:{defaultValue:null,description:"",name:"displayFileName",required:!1,type:{name:"boolean"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"((isExternalLink: boolean) => void)"}}}}}catch{}const t7={AccessBlockedToAnonymous:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must sign in to access this file."},AccessBlockedByRestriction:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must request access to this restricted file."},AccessBlockedByACL:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You do not have download access for this item."},Accessible:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""},NoFileHandle:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""}};function tb(e){const{downloadType:t}=e,n=Hs();if(t){const a=t7[t];return m(Fe,{icon:a.icon,label:a.tooltipText,sx:{color:a.color(n),height:"16px",verticalAlign:"text-top"}})}return m(Q,{})}function Kf(e,t){const[n,a]=z.useState(),{accessToken:r}=ze(),i=parseInt(t??""),{data:o,error:s}=bw(e,Number.isNaN(i)?void 0:i,{includeEntity:!0,includePermissions:!0}),l=z.useMemo(()=>({restrictableObjectType:mw.ENTITY,objectId:e}),[e]),{data:c}=dw(l),u=o==null?void 0:o.entity,d=o==null?void 0:o.permissions;return z.useEffect(()=>{c&&c.hasUnmetAccessRequirement?a("AccessBlockedByRestriction"):u&&(d!=null&&d.canDownload)?bp(u)&&u.dataFileHandleId?a("Accessible"):a("NoFileHandle"):d&&!d.canDownload&&a(r?"AccessBlockedByACL":"AccessBlockedToAnonymous")},[r,u,s,d,c]),n}function Zf(e){const[t,n]=z.useState(!1),[a,r]=z.useState([]),{entityId:i,entityVersionNumber:o}=e,s=Kf(i,o),{accessToken:l}=ze(),c=z.useMemo(()=>({restrictableObjectType:mw.ENTITY,objectId:i}),[i]),{data:u}=dw(c),d=()=>{e1(l,i).then(h=>{gf(h)?window.open(`${o1(s1.PORTAL_ENDPOINT)}#!AccessRequirements:ID=${i}&TYPE=ENTITY`,"_blank"):(r(h),n(!0))})},p=P.useMemo(()=>{if(!u)return m(Q,{});const h=u==null?void 0:u.hasUnmetAccessRequirement,v=u==null?void 0:u.restrictionLevel;let g="";if(h)g="Request Access";else{if(aN.OPEN===v)return m(Q,{});g="View Terms"}return L(Q,{children:[m("a",{style:{fontSize:"14px",cursor:"pointer",marginLeft:"5px",verticalAlign:"top"},className:e.className,onClick:d,children:g}),t&&m(gi,{entityId:i,accessRequirementFromProps:a,renderAsModal:!0,onHide:()=>{n(!1)}})]})},[i,u,a,t]);return s===void 0?m(Q,{}):L("span",{style:{whiteSpace:"nowrap"},children:[s==="AccessBlockedToAnonymous"?m("button",{type:"button",className:_p,onClick:h=>{if(h.isTrusted){const v=new MouseEvent("click",{bubbles:!0});h.currentTarget.dispatchEvent(v)}},children:m(tb,{downloadType:s})}):m(tb,{downloadType:s}),p]})}try{Kf.displayName="useGetFileHandleDownloadType",Kf.__docgenInfo={description:`Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.

To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx }`,displayName:"useGetFileHandleDownloadType",props:{}}}catch{}try{Zf.displayName="HasAccessV2",Zf.__docgenInfo={description:`HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,
then a link will be shown that opens a modal with steps to request access.`,displayName:"HasAccessV2",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Jf=e=>{const{accessToken:t}=ze(),{entityIdList:n}=e,[a,r]=P.useState([m(Q,{})]),{ref:i,inView:o}=ma();let s=!0;P.useEffect(()=>(o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n.length&&Cb(n,t).then(c=>{if(s){const u=c.results.map(d=>m("p",{children:m(Wc,{entity:d,displayTextField:"name"})},d.id));r(u)}}).catch(c=>{console.log("EntityIdList: Error getting entity headers",c)})};return m("span",{ref:i,children:a})};try{Jf.displayName="EntityIdList",Jf.__docgenInfo={description:"",displayName:"EntityIdList",props:{entityIdList:{defaultValue:null,description:"",name:"entityIdList",required:!0,type:{name:"string[]"}}}}}catch{}const ep=e=>{const{accessToken:t}=ze(),{evaluationId:n}=e,[a,r]=P.useState(),{ref:i,inView:o}=ma();let s=!0;P.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n&&t1(n,t).then(c=>{r(c.name)}).catch(c=>{console.log("EvaluationIdListRenderer: Error getting evaluation queue names",c)})};return m("span",{ref:i,children:a})};try{ep.displayName="EvaluationIdRenderer",ep.__docgenInfo={description:"",displayName:"EvaluationIdRenderer",props:{evaluationId:{defaultValue:null,description:"",name:"evaluationId",required:!0,type:{name:"string"}}}}}catch{}const tp=e=>{const{accessToken:t}=ze(),{userIds:n}=e,[a,r]=P.useState(),{ref:i,inView:o}=ma();let s=!0;P.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n.length&&r1(n,t).then(c=>{const u=c.list.map(d=>m($b,{userProfile:d,className:"SRC-marginFifteen"},d.ownerId));r(u)}).catch(c=>{console.log("UserIdList: Error getting user profiles",c)})};return m("span",{ref:i,children:a})};try{tp.displayName="UserIdList",tp.__docgenInfo={description:"",displayName:"UserIdList",props:{userIds:{defaultValue:null,description:"",name:"userIds",required:!0,type:{name:"string[]"}}}}}catch{}const rp=({columnType:e,columnValue:t,isBold:n,mapEntityIdToHeader:a,mapUserIdToHeader:r,columnLinkConfig:i,columnName:o,selectColumns:s,columnModels:l,rowData:c,rowId:u,rowVersionNumber:d})=>{const{entity:p}=gt();if(!t)return L("p",{className:"SRC-inactive",children:[" ",dx]});if(i)return m(Ts,{value:t,columnName:o,selectColumns:s,columnModels:l,isHeader:!1,labelLink:i,rowData:c,rowId:u});if(p&&(Wn(p)||ta(p)||Tb(p))&&(o==="id"||o==="name")&&u&&d){const f=`syn${u.toString()}`,h=a[f]??f;return m("p",{children:m(Wc,{entity:h,versionNumber:d,className:`${n}`,showIcon:!1,displayTextField:o})})}switch(e){case pe.ENTITYID:return m("p",{children:m(Wc,{entity:a[t]??t,className:`${n}`,displayTextField:"name"})});case pe.DATE_LIST:{const f=JSON.parse(t);return L("p",{children:[f.map((h,v)=>L("span",{className:n,children:[Ka(ur(Number(h))),v!==f.length-1?", ":""]},v))," "]})}case pe.BOOLEAN_LIST:{const f=JSON.parse(t);return m("p",{children:f.map((h,v)=>L("span",{className:n,children:[h?"true":"false",v!==f.length-1?", ":""]},v))})}case pe.FILEHANDLEID:return m(Q,{children:p&&m(As,{associatedObjectId:p.id,associatedObjectType:sr.TableEntity,fileHandleId:t,displayFileName:!0})});case pe.ENTITYID_LIST:{const f=JSON.parse(t);return m("p",{children:m(Jf,{entityIdList:f})})}case pe.USERID_LIST:{const f=JSON.parse(t);return m(tp,{userIds:f})}case pe.STRING_LIST:case pe.INTEGER_LIST:{const f=JSON.parse(t);return m("p",{className:n,children:f.map((h,v)=>L(z.Fragment,{children:[h,v!==f.length-1?", ":""]},h))})}case pe.EVALUATIONID:return m(ep,{evaluationId:t});case pe.DATE:return m("p",{className:n,children:Ka(ur(Number(t)))});case pe.USERID:if(Object.prototype.hasOwnProperty.call(r,t)){const{ownerId:f,userName:h}=r[t];if(r[t].isIndividual===!1){const v=h===tm?"public":"people";return h===tm?L("span",{children:[m(Fe,{icon:v})," All registered Synapse users"]}):L("a",{target:"_blank",rel:"noopener noreferrer",href:`${lr.PORTAL}#!Team:${f}`,children:[m(Fe,{icon:v})," ",h]})}else return m(ra,{userProfile:r[t],preSignedURL:r[t].clientPreSignedURL,size:"SMALL USER CARD"})}break;case pe.LINK:return m("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:t});case pe.STRING:case pe.DOUBLE:case pe.INTEGER:case pe.BOOLEAN:case pe.MEDIUMTEXT:case pe.LARGETEXT:return m("p",{className:n,children:t});default:return console.warn(`ColumnType ${e} has unspecified handler. Rendering the column value.`),m("p",{className:n,children:t})}return m("p",{className:n,children:t})};try{rp.displayName="SynapseTableCell",rp.__docgenInfo={description:"",displayName:"SynapseTableCell",props:{columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'}]}},columnValue:{defaultValue:null,description:"",name:"columnValue",required:!0,type:{name:"string | null"}},isBold:{defaultValue:null,description:"",name:"isBold",required:!0,type:{name:"string"}},columnLinkConfig:{defaultValue:null,description:"",name:"columnLinkConfig",required:!1,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink"}},mapEntityIdToHeader:{defaultValue:null,description:"",name:"mapEntityIdToHeader",required:!0,type:{name:"Record<string, EntityHeader>"}},mapUserIdToHeader:{defaultValue:null,description:"",name:"mapUserIdToHeader",required:!0,type:{name:"Partial<UserGroupHeader & UserProfile>"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},rowVersionNumber:{defaultValue:null,description:"",name:"rowVersionNumber",required:!1,type:{name:"number"}}}}}catch{}const rb=(e,...t)=>{var a;const n=[];return(a=e==null?void 0:e.selectColumns)==null||a.forEach((r,i)=>{t.includes(r.columnType)&&n.push(i)}),n},nb=(e,t,n)=>{var r;const a=new Set;return(r=e.queryResult)==null||r.queryResults.rows.forEach(i=>{i.values.forEach((o,s)=>{o!=null&&n.includes(s)&&!Object.prototype.hasOwnProperty.call(t,o)&&o&&a.add(o)})}),a},r7=()=>{const{data:e,goToPage:t,pageSize:n,setPageSize:a,currentPage:r}=EM(),i=e==null?void 0:e.queryCount,o=(l,c)=>{t(c)},s=l=>{const c=l.target.value;a(c)};return r==1&&i&&i<10?m(Q,{}):L("div",{children:[m(DN,{page:r,count:Math.ceil(i/n),color:"secondary",onChange:o,style:{display:"inline-block",float:"left"}}),m(De,{variant:"body1",style:{display:"inline-block"},children:`${i==null?void 0:i.toLocaleString()} total rows /`}),L("select",{name:"page size",onChange:s,style:{padding:"4px",marginLeft:"4px"},value:n,children:[m("option",{value:10,children:"10 per page"}),m("option",{value:25,children:"25 per page"}),m("option",{value:100,children:"100 per page"}),m("option",{value:500,children:"500 per page"})]})]})},np=e=>{const{onCopy:t}=e;return m(Et,{title:"Copy IDs to the clipboard",enterNextDelay:Do,placement:"right",children:m("span",{children:m("button",{"data-testid":"copySynIdsButton",onClick:t,children:m("span",{style:{height:15,marginTop:-1},children:m(Fe,{icon:"contentCopy"})})})})})};try{np.displayName="InteractiveCopyIdsIcon",np.__docgenInfo={description:"",displayName:"InteractiveCopyIdsIcon",props:{onCopy:{defaultValue:null,description:"",name:"onCopy",required:!0,type:{name:"() => void"}}}}}catch{}const n7=()=>{const e=ze(),t=gt(),[n,a]=P.useState(!1),[r,i]=P.useState(),[o,s]=P.useState();P.useEffect(()=>(o||s(new AbortController),()=>{o&&o.abort()}),[o]);const l=()=>{a(!0);const{getLastQueryRequest:c}=t,u=c(),{sql:d}=u.query,{entityId:p,versionNumber:f}=tw(d),h=f?`.${f}`:"";u.partMask=pa;const v=`${p}${h}`,g=d.indexOf(v);u.query.sql=`select id from ${v}${d.substring(g+v.length)}`,bb(u,e.accessToken,o==null?void 0:o.signal).then(b=>{i(b)}).catch(b=>{console.error(b),Xr("Unable to query for all Synapse IDs to copy","danger")}).finally(()=>{a(!1)})};return P.useEffect(()=>{if(r){const{rows:c}=r.queryResult.queryResults,u=c.map(d=>`${d.values[0]}`).join(`
`);navigator.clipboard.writeText(u).then(()=>{Xr("Successfully copied to clipboard"),i(void 0)})}},[r]),n?m(Vs,{size:25}):m(np,{onCopy:()=>{l()}})};var _n=[],a7=function(){return _n.some(function(e){return e.activeTargets.length>0})},i7=function(){return _n.some(function(e){return e.skippedTargets.length>0})},ab="ResizeObserver loop completed with undelivered notifications.",o7=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:ab}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=ab),window.dispatchEvent(e)},_i;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(_i||(_i={}));var En=function(e){return Object.freeze(e)},s7=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,En(this)}return e}(),IC=function(){function e(t,n,a,r){return this.x=t,this.y=n,this.width=a,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,En(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,a=t.y,r=t.top,i=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:a,top:r,right:i,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Qh=function(e){return e instanceof SVGElement&&"getBBox"in e},TC=function(e){if(Qh(e)){var t=e.getBBox(),n=t.width,a=t.height;return!n&&!a}var r=e,i=r.offsetWidth,o=r.offsetHeight;return!(i||o||e.getClientRects().length)},ib=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},l7=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ga=typeof window<"u"?window:{},_o=new WeakMap,ob=/auto|scroll/,u7=/^tb|vertical/,c7=/msie|trident/i.test(Ga.navigator&&Ga.navigator.userAgent),rr=function(e){return parseFloat(e||"0")},ea=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new s7((n?t:e)||0,(n?e:t)||0)},sb=En({devicePixelContentBoxSize:ea(),borderBoxSize:ea(),contentBoxSize:ea(),contentRect:new IC(0,0,0,0)}),RC=function(e,t){if(t===void 0&&(t=!1),_o.has(e)&&!t)return _o.get(e);if(TC(e))return _o.set(e,sb),sb;var n=getComputedStyle(e),a=Qh(e)&&e.ownerSVGElement&&e.getBBox(),r=!c7&&n.boxSizing==="border-box",i=u7.test(n.writingMode||""),o=!a&&ob.test(n.overflowY||""),s=!a&&ob.test(n.overflowX||""),l=a?0:rr(n.paddingTop),c=a?0:rr(n.paddingRight),u=a?0:rr(n.paddingBottom),d=a?0:rr(n.paddingLeft),p=a?0:rr(n.borderTopWidth),f=a?0:rr(n.borderRightWidth),h=a?0:rr(n.borderBottomWidth),v=a?0:rr(n.borderLeftWidth),g=d+c,b=l+u,E=v+f,y=p+h,_=s?e.offsetHeight-y-e.clientHeight:0,w=o?e.offsetWidth-E-e.clientWidth:0,S=r?g+E:0,C=r?b+y:0,x=a?a.width:rr(n.width)-S-w,T=a?a.height:rr(n.height)-C-_,R=x+g+w+E,q=T+b+_+y,k=En({devicePixelContentBoxSize:ea(Math.round(x*devicePixelRatio),Math.round(T*devicePixelRatio),i),borderBoxSize:ea(R,q,i),contentBoxSize:ea(x,T,i),contentRect:new IC(d,l,x,T)});return _o.set(e,k),k},PC=function(e,t,n){var a=RC(e,n),r=a.borderBoxSize,i=a.contentBoxSize,o=a.devicePixelContentBoxSize;switch(t){case _i.DEVICE_PIXEL_CONTENT_BOX:return o;case _i.BORDER_BOX:return r;default:return i}},d7=function(){function e(t){var n=RC(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=En([n.borderBoxSize]),this.contentBoxSize=En([n.contentBoxSize]),this.devicePixelContentBoxSize=En([n.devicePixelContentBoxSize])}return e}(),AC=function(e){if(TC(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},f7=function(){var e=1/0,t=[];_n.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var u=new d7(c.target),d=AC(c.target);s.push(u),c.lastReportedSize=PC(c.target,c.observedBox),d<e&&(e=d)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,a=t;n<a.length;n++){var r=a[n];r()}return e},lb=function(e){_n.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(r){r.isActive()&&(AC(r.target)>e?n.activeTargets.push(r):n.skippedTargets.push(r))})})},p7=function(){var e=0;for(lb(e);a7();)e=f7(),lb(e);return i7()&&o7(),e>0},Dc,kC=[],h7=function(){return kC.splice(0).forEach(function(e){return e()})},m7=function(e){if(!Dc){var t=0,n=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return h7()}).observe(n,a),Dc=function(){n.textContent="".concat(t?t--:t++)}}kC.push(e),Dc()},v7=function(e){m7(function(){requestAnimationFrame(e)})},$o=0,g7=function(){return!!$o},y7=250,b7={attributes:!0,characterData:!0,childList:!0,subtree:!0},ub=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],cb=function(e){return e===void 0&&(e=0),Date.now()+e},Oc=!1,w7=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=y7),!Oc){Oc=!0;var a=cb(t);v7(function(){var r=!1;try{r=p7()}finally{if(Oc=!1,t=a-cb(),!g7())return;r?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,b7)};document.body?n():Ga.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ub.forEach(function(n){return Ga.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),ub.forEach(function(n){return Ga.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),ap=new w7,db=function(e){!$o&&e>0&&ap.start(),$o+=e,!$o&&ap.stop()},S7=function(e){return!Qh(e)&&!l7(e)&&getComputedStyle(e).display==="inline"},_7=function(){function e(t,n){this.target=t,this.observedBox=n||_i.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=PC(this.target,this.observedBox,!0);return S7(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),E7=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Eo=new WeakMap,fb=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Co=function(){function e(){}return e.connect=function(t,n){var a=new E7(t,n);Eo.set(t,a)},e.observe=function(t,n,a){var r=Eo.get(t),i=r.observationTargets.length===0;fb(r.observationTargets,n)<0&&(i&&_n.push(r),r.observationTargets.push(new _7(n,a&&a.box)),db(1),ap.schedule())},e.unobserve=function(t,n){var a=Eo.get(t),r=fb(a.observationTargets,n),i=a.observationTargets.length===1;r>=0&&(i&&_n.splice(_n.indexOf(a),1),a.observationTargets.splice(r,1),db(-1))},e.disconnect=function(t){var n=this,a=Eo.get(t);a.observationTargets.slice().forEach(function(r){return n.unobserve(t,r.target)}),a.activeTargets.splice(0,a.activeTargets.length)},e}(),C7=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Co.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ib(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Co.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ib(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Co.unobserve(this,t)},e.prototype.disconnect=function(){Co.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const x7=z[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],N7=x7,I7=e=>{const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),t},T7=I7,R7=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:C7;function P7(){}function A7(e,t){const n=$7(),a=T7(t);return N7(()=>{let r=!1;const i=e&&"current"in e?e.current:e;if(!i)return P7;function o(s,l){r||a.current(s,l)}return n.subscribe(i,o),()=>{r=!0,n.unsubscribe(i,o)}},[e,n,a]),n.observer}function k7(){let e=!1,t=[];const n=new Map,a=new R7((r,i)=>{t=t.concat(r);function o(){const s=new Set;for(let l=0;l<t.length;l++){if(s.has(t[l].target))continue;s.add(t[l].target);const c=n.get(t[l].target);c==null||c.forEach(u=>u(t[l],i))}t=[],e=!1}e||window.requestAnimationFrame(o),e=!0});return{observer:a,subscribe(r,i){var o;a.observe(r);const s=(o=n.get(r))!==null&&o!==void 0?o:[];s.push(i),n.set(r,s)},unsubscribe(r,i){var o;const s=(o=n.get(r))!==null&&o!==void 0?o:[];if(s.length===1){a.unobserve(r),n.delete(r);return}const l=s.indexOf(i);l!==-1&&s.splice(l,1),n.set(r,s)}}}let Lc;const $7=()=>Lc||(Lc=k7());function ip(e){const[t,n]=P.useState(!1),[a,r]=P.useState(!1),i=P.useRef(null);return A7(i,({target:o})=>{if(!t&&o){const s=o.getElementsByTagName("p")[0];s&&r(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)}}),L("td",{...e,className:`ExpandableTableData ${e.className?e.className:""}`,"aria-expanded":t,ref:i,children:[a&&m("button",{className:"ExpandableTableData__expandButton",onClick:()=>n(!t),children:m(Fe,{icon:t?"minusBoxOutline":"addBoxOutline",sx:{color:"grey.600",height:"16px",verticalAlign:"top"}})}),e.children]})}try{ip.displayName="ExpandableTableDataCell",ip.__docgenInfo={description:"",displayName:"ExpandableTableDataCell",props:{}}}catch{}const q7=["","DESC","ASC"],pb={resizeMode:"overflow",partialRefresh:"true",liveDrag:!0,headerOnly:"true"};class ks extends P.Component{constructor(n){super(n);je(this,"resizer");je(this,"tableElement");je(this,"renderTable",(n,a,r,i)=>{var b,E;const o=(E=(b=this.props.queryContext).getLastQueryRequest)==null?void 0:E.call(b),{queryContext:{entity:s},showAccessColumn:l,showDownloadColumn:c,isRowSelectionVisible:u}=this.props,d=s&&(Wn(s)&&n1(s)||ta(s)),p=l&&s&&this.isEntityViewOrDataset()&&this.allRowsHaveId(),f=!!this.props.synapseContext.accessToken,h=s&&d&&f&&this.allRowsHaveId(),v=!!(h&&!this.props.hideDownload),g=h&&c;return L("div",{className:"SynapseTable SRC-overflowAuto","data-testid":"SynapseTable",children:[L("table",{ref:y=>this.tableElement=y,className:"table table-striped table-condensed",children:[m("thead",{className:"SRC_bordered",children:m("tr",{children:this.createTableHeader(n,a,r,p,g,v,u,o)})}),m("tbody",{children:this.createTableRows(i,n,p,g,v,u)})]}),m("div",{className:"bootstrap-4-backport",style:{textAlign:"right"},children:m(r7,{})})]})});je(this,"handleColumnSortPress",n=>a=>{let r=Br(this.state.columnIconSortState);r.length===0&&(r=Array(this.getLengthOfPropsData()).fill(0));const i=Br(this.state.sortedColumnSelection),o=this.findSelectionIndex(i,n.name);o!==-1&&i.splice(o,1),r[n.index]=(r[n.index]+1)%nm.length,r[n.index]>0&&i.unshift({column:n.name,direction:q7[r[n.index]]});const s=this.props.queryContext.getLastQueryRequest();s.query.sort=i,s.query.offset=0,this.props.queryContext.executeQueryRequest(s),this.setState({columnIconSortState:r,sortedColumnSelection:i})});je(this,"applyChangesFromQueryFilter",n=>{const a=this.props.queryContext.getLastQueryRequest();a.query.selectedFacets=n,a.query.offset=0,this.props.queryContext.executeQueryRequest(a)});this.componentDidMount=this.componentDidMount.bind(this),this.componentWillUnmount=this.componentWillUnmount.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.shouldComponentUpdate=this.shouldComponentUpdate.bind(this),this.handleColumnSortPress=this.handleColumnSortPress.bind(this),this.findSelectionIndex=this.findSelectionIndex.bind(this),this.advancedSearch=this.advancedSearch.bind(this),this.getLengthOfPropsData=this.getLengthOfPropsData.bind(this),this.configureFacetDropdown=this.configureFacetDropdown.bind(this),this.enableResize=this.enableResize.bind(this),this.disableResize=this.disableResize.bind(this),this.isEntityViewOrDataset=this.isEntityViewOrDataset.bind(this),this.allRowsHaveId=this.allRowsHaveId.bind(this),this.state={columnIconSortState:[],isExportTableDownloadOpen:!1,isExpanded:!1,isColumnSelectionOpen:!1,sortedColumnSelection:[],mapEntityIdToHeader:{},mapUserIdToHeader:{},isFetchingEntityHeaders:!1},this.getEntityHeadersInData=this.getEntityHeadersInData.bind(this)}componentWillUnmount(){this.disableResize()}componentDidMount(){this.getEntityHeadersInData(!0),this.enableResize()}shouldComponentUpdate(n,a){const{isFetchingEntityHeaders:r,...i}=this.state,{isFetchingEntityHeaders:o,...s}=a,l=!Gi(this.props,n),c=!Gi(i,s),u=l||c;return u&&this.disableResize(),u}componentDidUpdate(n,a){Gi(n.queryContext.data,this.props.queryContext.data)?n.queryContext.entity&&this.props.queryContext.entity&&!Gi(Wn(n.queryContext.entity),Wn(this.props.queryContext.entity))&&this.getEntityHeadersInData(!0):this.getEntityHeadersInData(!1),this.enableResize()}enableResize(){this.resizer?setTimeout(()=>{this.resizer.reset(pb)},1e3):this.tableElement&&this.getLengthOfPropsData()>1&&(this.resizer=new J8(this.tableElement,pb))}disableResize(){this.resizer&&this.resizer.reset({disable:!0})}async getEntityHeadersInData(n){var p,f;const{data:a,entity:r}=this.props.queryContext;if(!a||!r)return;if(this.state.isFetchingEntityHeaders&&!n)return;const i=Br(this.state.mapEntityIdToHeader),o=Br(this.state.mapUserIdToHeader),s=rb(a,pe.ENTITYID),l=rb(a,pe.USERID),c=nb(a,i,s);(this.isEntityViewOrDataset()||r&&Tb(r))&&this.allRowsHaveId()&&(((f=(p=a.queryResult)==null?void 0:p.queryResults)==null?void 0:f.rows)??[]).forEach(v=>{const g=`syn${v.rowId}`;c.add(g)});const u=nb(a,o,l);if(c.size===0&&u.size===0)return;if(this.setState({isFetchingEntityHeaders:!0}),c.size>0){const h=Array.from(c).map(v=>({targetId:v}));try{const v=await yb(h,this.props.synapseContext.accessToken),{results:g}=v;g.forEach(b=>{i[b.id]=b})}catch(v){console.error("Error on retrieving entity header list , ",v)}}const d=[];if(u.size>0){const h=Array.from(u);try{(await xb(h,this.props.synapseContext.accessToken)).children.forEach(g=>{g.isIndividual?d.push(g.ownerId):o[g.ownerId]=g})}catch(v){console.error("Error on getGroupHeaders batch: ",v)}}if(d.length>0)try{(await w1(d)).list.forEach(v=>{o[v.ownerId]=v})}catch(h){console.error("Error on getUserProfile : ",h)}this.setState({mapEntityIdToHeader:i,mapUserIdToHeader:o,isFetchingEntityHeaders:!1})}render(){var g;if(!this.props.queryContext.data&&this.props.queryContext.isLoadingNewBundle)return Cp;if(!this.props.queryContext.data)return m(Q,{});const{queryContext:{data:n},queryVisualizationContext:{NoContentPlaceholder:a}}=this.props,{queryResult:r,columnModels:i=[]}=n,{facets:o=[]}=n,{isExpanded:s,isExportTableDownloadOpen:l}=this.state,c=this.props.queryContext.getLastQueryRequest(),u="";if(!((((g=n.queryResult)==null?void 0:g.queryResults.rows.length)??0)>0)&&c.query.offset===0)return m(a,{});const{rows:p,headers:f}=r.queryResults,h=m("div",{children:this.renderTable(f,i,o,p)}),v=m(Q,{children:L("div",{className:u,children:[l&&m(ua,{onClose:()=>{this.setState({isExportTableDownloadOpen:!1})},queryBundleRequest:c}),m("div",{children:h})]})});return L(P.Fragment,{children:[s&&m(Ei,{open:!0,onCancel:()=>this.setState({isExpanded:!1}),content:v,title:void 0,maxWidth:"xl",fullWidth:!0,sx:{".MuiDialogTitle-root":{padding:0},".MuiDialogContent-root":{border:"transparent"}}}),!s&&v]})}allRowsHaveId(){var a;const{queryContext:{data:n}}=this.props;return((a=n==null?void 0:n.queryResult)==null?void 0:a.queryResults.rows.every(r=>!!r.rowId))??!1}isEntityViewOrDataset(){const{queryContext:{entity:n}}=this.props;return(n&&(Wn(n)||ta(n)))??!1}createTableRows(n,a,r,i,o,s){const l=[],{queryContext:{data:c},queryVisualizationContext:{columnsToShowInTable:u,selectedRowIndices:d,setSelectedRowIndices:p},columnLinks:f=[]}=this.props,{selectColumns:h=[],columnModels:v=[]}=c,{mapEntityIdToHeader:g,mapUserIdToHeader:b}=this.state;return n.forEach((E,y)=>{var T,R;const _=(T=E.versionNumber)==null?void 0:T.toString(),w=`syn${E.rowId}`,S=E.values.map((q,k)=>{const I=a[k].name,N=u.includes(I),$=f.find(V=>V.matchColumnName===I),A=this.findSelectionIndex(this.state.sortedColumnSelection,I)===-1?"":"SRC-boldText";return N?m(ip,{className:"SRC_noBorderTop",children:m(rp,{columnType:a[k].columnType,columnValue:q,isBold:A,mapEntityIdToHeader:g,mapUserIdToHeader:b,columnLinkConfig:$,columnName:I,rowData:E.values,selectColumns:h,columnModels:v,rowId:E.rowId,rowVersionNumber:E.versionNumber})},`(${y}${q}${k})`):m("td",{className:"SRC-hidden"},`(${y},${k})`)});r&&S.unshift(m("td",{className:"SRC_noBorderTop",children:m(Zf,{entityId:w,entityVersionNumber:_},w)},w));const C=((R=g[w])==null?void 0:R.type)=="org.sagebionetworks.repo.model.FileEntity";i&&S.unshift(m("td",{className:"SRC_noBorderTop direct-download",children:C&&m(As,{associatedObjectId:w,entityVersionNumber:_})},`direct-download-${w}`)),o&&S.unshift(m("td",{className:"SRC_noBorderTop add-to-download-list-v2",children:C&&m(Yf,{entityId:w,entityVersionNumber:parseInt(_)})},`add-to-download-list-v2-${w}`)),s&&d&&S.unshift(m("td",{className:"SRC_noBorderTop",children:m(yi,{label:"",checked:d.includes(y),onChange:q=>{const k=[...d];if(q)k.push(y);else{const I=k.indexOf(y);I>-1&&k.splice(I,1)}p(k)}})},`(${y},rowSelectColumn)`));const x=m("tr",{children:S},E.rowId??y);l.push(x)}),l}isSortableColumn(n){switch(n){case pe.USERID:case pe.ENTITYID:case pe.FILEHANDLEID:case pe.STRING_LIST:case pe.INTEGER_LIST:case pe.BOOLEAN_LIST:case pe.DATE_LIST:case pe.USERID_LIST:case pe.ENTITYID_LIST:return!1;default:return!0}}createTableHeader(n,a,r,i,o,s,l,c){const{sortedColumnSelection:u,columnIconSortState:d}=this.state,{queryVisualizationContext:{getColumnDisplayName:p,columnsToShowInTable:f},queryContext:{lockedColumn:h}}=this.props,v=n.map((g,b)=>{var y;if(f.includes(g.name)){const _=this.findSelectionIndex(u,g.name)!==-1,w=d[b]===void 0?0:d[b],S=r.findIndex(F=>F.columnName===g.name),C=S!==-1&&r[S].facetType==="enumeration",x=r[S],T=_?"SRC-primary-background-color SRC-anchor-light":"",R=_?"SRC-selected-table-icon tool-icon":"SRC-primary-text-color tool-icon",q=`SRC-tableHead SRC-hand-cursor SRC-sortPadding SRC-primary-background-color-hover  ${T}`,k=p(g.name),I=a.find(F=>F.name===g.name),N=g.name.toLowerCase()===((y=h==null?void 0:h.columnName)==null?void 0:y.toLowerCase()),$=I&&I.name=="id"&&I.columnType==pe.ENTITYID;return m("th",{children:L("div",{className:"SRC-split",children:[m("span",{style:{whiteSpace:"nowrap"},children:k}),L("div",{className:"SRC-centerContent",children:[C&&!N&&this.configureFacetDropdown(x,I,c),this.isSortableColumn(g.columnType)&&m("span",{role:"button","aria-label":"sort",tabIndex:0,className:q,onKeyPress:this.handleColumnSortPress({index:b,name:g.name}),onClick:this.handleColumnSortPress({index:b,name:g.name}),children:m(Ws,{type:nm[w],cssClass:R})}),$&&m(n7,{})]})]})},g.name)}else return m("th",{className:"SRC-hidden"},g.name)});return i&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent",children:m("span",{style:{whiteSpace:"nowrap"},children:"Access"})})},"accessColumn")),o&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent",children:" "})},"downloadColumn")),s&&v.unshift(m("th",{"data-testid":"AddToDownloadListV2ColumnHeader",children:m("div",{className:"SRC-centerContent",children:" "})},"addToV2DownloadListColumn")),l&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent"})},"rowSelectionColumn")),v}findSelectionIndex(n,a){return n.length!==0?n.findIndex(r=>r.column===a):-1}advancedSearch(n){n&&n.preventDefault();const a=this.props.queryContext.getLastQueryRequest(),{query:r}=a,i=btoa(JSON.stringify(r)),o=a.entityId;window.open(`${lr.PORTAL}#!Synapse:${o}/tables/query/${i}`,"_blank")}getLengthOfPropsData(){var a;const{data:n}=this.props.queryContext;return((a=n==null?void 0:n.queryResult)==null?void 0:a.queryResults.headers.length)??0}configureFacetDropdown(n,a,r){return m(ca,{containerAs:"Dropdown",facetValues:n.facetValues,columnModel:a,onChange:i=>{Es(r,n,this.applyChangesFromQueryFilter,i)},onClear:()=>{bi(r,n,this.applyChangesFromQueryFilter)}})}}try{ks.displayName="SynapseTable",ks.__docgenInfo={description:"",displayName:"SynapseTable",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"SynapseContextType"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}}}}}catch{}function $C(){const{data:e}=gt(),{showLastUpdatedOn:t}=ht();return t&&e&&e.lastUpdatedOn?m("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:L(De,{variant:"body1Italic",children:["Last updated on ",Ka(ur(e.lastUpdatedOn))]})}):m(Q,{})}const op=e=>{const{tableConfiguration:t,cardConfiguration:n,hideDownload:a}=e,r=ze(),i=gt(),o=ht();return L("div",{className:`FilterAndView ${o.topLevelControlsState.showFacetFilter?fr:er}`,children:[t?m(ks,{...t,synapseContext:r,queryContext:i,queryVisualizationContext:o,hideDownload:a}):m(Q,{}),n?m(Ps,{...n}):m(Q,{}),m($C,{})]})};try{op.displayName="FilterAndView",op.__docgenInfo={description:"",displayName:"FilterAndView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!0,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext"> | undefined'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration | undefined"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}}}}}catch{}const sp=e=>{const[t,n]=P.useState(!1),{searchParams:a,sql:r,sqlOperator:i,tableConfiguration:o,name:s,cardConfiguration:l,facetsToPlot:c,availableFacets:u,hideDownload:d,hideQueryCount:p,hideSqlEditorControl:f,searchConfiguration:h,limit:v=Ls,initQueryJson:g,showLastUpdatedOn:b,showExportToCavatica:E=!1,customControls:y}=e,_=qp(a,i),w=g?JSON.parse(g):{sql:r,additionalFilters:_,limit:v,offset:0},S=rn(w.sql),{data:C}=Ri(S),x=C&&Rb(C)&&C.isSearchEnabled,T={entityId:S,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:pa|ha|Os|Ab|Fs|Ds|Sp|Ep,query:w};return m("div",{className:"QueryWrapperPlotNav",children:m(o?vs:gs,{...e,initQueryRequest:T,children:m(fi,{unitDescription:"results",rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,visibleColumnCount:e.visibleColumnCount,defaultShowFacetVisualization:e.defaultShowFacetVisualization,defaultShowSearchBar:e.defaultShowSearchBox||x,showLastUpdatedOn:b,noContentPlaceholderType:Qr.INTERACTIVE,children:m(ci,{children:q=>{if(q===void 0)throw new Error("No queryContext found when using QueryContextConsumer");const k=q==null?void 0:q.isFacetsAvailable;return m(as,{children:I=>{if(I===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return L(Q,{children:[m("div",{className:`ErrorBannerWrapper ${er}`,children:m(_f,{})}),x?m(is,{helpUrl:h==null?void 0:h.fullTextSearchHelpURL}):m(bs,{...h,queryContext:q,queryVisualizationContext:I}),m(ws,{}),m(qd,{getLastQueryRequest:q.getLastQueryRequest,topLevelControlsState:I.topLevelControlsState,setTopLevelControlsState:I.setTopLevelControlsState}),m(Ss,{showColumnSelection:o!==void 0,name:s,hideDownload:d,hideQueryCount:p,hideFacetFilterControl:!k,hideVisualizationsControl:!k,hideSqlEditorControl:f,showExportToCavatica:E,customControls:y}),k&&m(Q,{children:m(T8,{availableFacets:u})}),m(Of,{facetsToPlot:c}),m(op,{tableConfiguration:o,hideDownload:d,cardConfiguration:l}),t&&m(ua,{getLastQueryRequest:q.getLastQueryRequest,onClose:()=>n(!1)})]})}})}})})})})};try{sp.displayName="QueryWrapperPlotNav",sp.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"If onQueryChange is set, the callback will be invoked when the Query changes",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},initQueryJson:{defaultValue:null,description:"If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest",name:"initQueryJson",required:!1,type:{name:"string"}},tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext">'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},defaultShowSearchBox:{defaultValue:null,description:"",name:"defaultShowSearchBox",required:!1,type:{name:"boolean"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}}}}}catch{}const F7=e=>({partMask:Ds|ha|Os|Fs|pa|Ep,entityId:rn(e),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:e,limit:Ls,offset:0}}),lp=e=>{const{title:t,searchParams:n,sqlOperator:a,showAccessColumn:r,sql:i,hideDownload:o,hideQueryCount:s,name:l,showTopLevelControls:c=!1,searchConfiguration:u,unitDescription:d="Results",rgbIndex:p,showLastUpdatedOn:f,noContentPlaceholderType:h=c?Qr.INTERACTIVE:Qr.STATIC,...v}=e,g=F7(i);n&&(g.query.additionalFilters=qp(n,a));const b=ze(),E=rn(i),{data:y}=Ri(E);return m(vs,{...v,initQueryRequest:g,children:m(fi,{rgbIndex:p,unitDescription:d,showLastUpdatedOn:f,noContentPlaceholderType:h,...v,children:m(ci,{children:_=>{if(_===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return m(as,{children:w=>{if(w===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return L(Q,{children:[c&&m(Ss,{showColumnSelection:!0,name:l,hideDownload:o,hideQueryCount:s,hideFacetFilterControl:!0,hideVisualizationsControl:!0}),y&&Rb(y)&&y.isSearchEnabled?m(is,{helpUrl:u==null?void 0:u.fullTextSearchHelpURL}):m(bs,{...u,queryContext:_,queryVisualizationContext:w}),m(ws,{}),c&&m(wi,{frontText:""}),m(ks,{synapseContext:b,queryContext:_,queryVisualizationContext:w,showAccessColumn:r,title:t,"data-testid":"SynapseTable",...v}),m($C,{})]})}})}})})})};try{lp.displayName="StandaloneQueryWrapper",lp.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},showTopLevelControls:{defaultValue:null,description:"",name:"showTopLevelControls",required:!1,type:{name:"boolean"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}}}}}catch{}function up(e){const{query:t,showquery:n,tableonly:a}=e,r=n==="true",i=a==="true",o="Items";return i?m(lp,{sql:t,name:o}):m(sp,{sql:t,hideSqlEditorControl:!r,name:o,defaultShowFacetVisualization:!1,tableConfiguration:{}})}try{up.displayName="MarkdownSynapseTable",up.__docgenInfo={description:"",displayName:"MarkdownSynapseTable",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},showquery:{defaultValue:null,description:"",name:"showquery",required:!0,type:{name:"string"}},tableonly:{defaultValue:null,description:"",name:"tableonly",required:!0,type:{name:"string"}}}}}catch{}const D7={1:"toc-indent1",2:"toc-indent2",3:"toc-indent3",4:"toc-indent4",5:"toc-indent5",6:"toc-indent6"};function cp(e){const{originalMarkup:t}=e,n=[],a=/<h([1-6]) id="(.*)" .*toc="true">(.*)<\/h[1-6]>/gm;let r="";return t.replace(a,(i,o,s,l)=>(r+=l,n.push(m("div",{children:m("a",{role:"link",className:`link ${D7[Number(o)]}`,"data-anchor":s,children:l})},l)),"")),m("div",{children:n},r)}try{cp.displayName="MarkdownTableOfContents",cp.__docgenInfo={description:"",displayName:"MarkdownTableOfContents",props:{originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}function dp(e){const{alias:t}=e,{data:n}=iN([t]);return n?m(oN,{principalId:n[0].ownerId}):m(Q,{})}try{dp.displayName="MarkdownUserOrTeamBadge",dp.__docgenInfo={description:"",displayName:"MarkdownUserOrTeamBadge",props:{alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"string"}}}}}catch{}function fp(e){return m(sN,{params:e})}try{fp.displayName="MarkdownVideo",fp.__docgenInfo={description:"",displayName:"MarkdownVideo",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},videoId:{defaultValue:null,description:"",name:"videoId",required:!1,type:{name:"string"}},vimeoId:{defaultValue:null,description:"",name:"vimeoId",required:!1,type:{name:"string"}},oggSynapseId:{defaultValue:null,description:"",name:"oggSynapseId",required:!1,type:{name:"string"}},mp4SynapseId:{defaultValue:null,description:"",name:"mp4SynapseId",required:!1,type:{name:"string"}},webmSynapseId:{defaultValue:null,description:"",name:"webmSynapseId",required:!1,type:{name:"string"}}}}}catch{}function pp(e){const{widgetType:t,widgetParamsMapped:n,originalMarkup:a}=e;switch(t){case"buttonlink":return m(Yc,{...n});case"image":return m(Ad,{...n});case"plot":return m(kd,{...n});case"toc":return m(cp,{originalMarkup:a});case"badge":return m(dp,{...n});case"iduReport":return m(rd,{...n});case"video":case"vimeo":case"youtube":return m(fp,{...n});case"synapsetable":return m(up,{...n});case"provenance":return m(Rd,{...n});case"preview":return m(Jc,{...n});default:return console.warn(`Unsupported widget: ${t}.`),m(Q,{})}}function hb(e){return m(gb,{children:m(pp,{...e})})}try{pp.displayName="MarkdownWidget",pp.__docgenInfo={description:"",displayName:"MarkdownWidget",props:{widgetType:{defaultValue:null,description:"",name:"widgetType",required:!0,type:{name:"enum",value:[{value:'"video"'},{value:'"image"'},{value:'"buttonlink"'},{value:'"plot"'},{value:'"toc"'},{value:'"badge"'},{value:'"iduReport"'},{value:'"vimeo"'},{value:'"youtube"'},{value:'"synapsetable"'},{value:'"provenance"'},{value:'"preview"'}]}},widgetParamsMapped:{defaultValue:null,description:"",name:"widgetParamsMapped",required:!0,type:{name:"any"}},originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}class hp extends P.Component{constructor(t){super(t),this.renderBookmarks=this.renderBookmarks.bind(this)}renderBookmarks(){const t=String(this.props.footnotes),n=/Synapse widget&gt;<\/span>(.*)</g;let a;const r=[];for(;a=n.exec(t);)r.push(a[1]);return r.map((i,o)=>{const s=o<r.length-1;return L(P.Fragment,{children:[L("button",{className:"SRC-markdown-bookmark",id:`bookmark${o}`,children:["[",o+1,"]"]}),m("span",{dangerouslySetInnerHTML:{__html:i}}),s&&m("br",{})]},o)})}render(){return L(P.Fragment,{children:[m("hr",{}),this.renderBookmarks()]})}}try{hp.displayName="Bookmarks",hp.__docgenInfo={description:"",displayName:"Bookmarks",props:{footnotes:{defaultValue:null,description:"",name:"footnotes",required:!0,type:{name:"string"}}}}}catch{}const Vc=markdownit({html:!0});class xt extends z.Component{constructor(n){super(n);je(this,"markupRef");markdownitSynapse.init_markdown_it(Vc,markdownitSub,markdownitSup,markdownitCentertext,markdownitSynapseHeading,markdownitSynapseTable,markdownitStrikethroughAlt,markdownitContainer,markdownitEmphasisAlt,markdownitInlineComments,markdownitBr);const a="";Vc.use(markdownitSynapse,a,"https://synapse.org").use(markdownitMath,a);const r={};this.props.markdown&&(r.markdown=this.props.markdown),this.state={md:Vc,error:void 0,fileHandles:void 0,data:r,isLoading:!0},this.markupRef=z.createRef(),this.handleLinkClicks=this.handleLinkClicks.bind(this),this.renderMarkdown=this.renderMarkdown.bind(this),this.recursiveRender=this.recursiveRender.bind(this),this.processMath=this.processMath.bind(this),this.getWikiAttachments=this.getWikiAttachments.bind(this),this.getWikiPageMarkdown=this.getWikiPageMarkdown.bind(this),this.createHTML=this.createHTML.bind(this),this.addBookmarks=this.addBookmarks.bind(this),this.addIdsToReferenceWidgets=this.addIdsToReferenceWidgets.bind(this),this.addIdsToTocWidgets=this.addIdsToTocWidgets.bind(this)}componentWillUnmount(){this.markupRef.current&&this.markupRef.current.removeEventListener("click",this.handleLinkClicks)}handleLinkClicks(n){const a=n.target;if(a.tagName==="A"||a.tagName==="BUTTON"){const r=n.target;if(r.id.substring(0,3)==="ref"){n.preventDefault();const i=Number(n.currentTarget.id.substring(3)),o=this.markupRef.current.querySelector(`#bookmark${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}else if(n.currentTarget.id!==null&&r.getAttribute("data-anchor")){n.preventDefault();const i=r.getAttribute("data-anchor"),o=this.markupRef.current.querySelector(`#${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}}}createHTML(n){if(!n)return{__html:""};const a=this.props.renderInline?this.state.md.renderInline(n):this.state.md.render(n);return{__html:Fw(a,Dw)}}processMath(){if(!this.markupRef.current)return;const n=this.markupRef.current.querySelectorAll('[id^="mathjax-"]'),a=new RegExp(/\\[()[\]]/,"g");n.forEach(r=>{if(r.textContent&&!r.getAttribute("processed")){r.setAttribute("processed","true");const i=r.textContent.replace(a,"");return katex.render(i,r,{output:"html",throwOnError:!1})}})}addBookmarks(){markdownitSynapse.resetFootnotes(),this.createHTML(this.state.data.markdown);const n=this.createHTML(markdownitSynapse.footnotes()).__html;if(n.length>0)return m(hp,{footnotes:n})}async getWikiPageMarkdown(){const{ownerId:n,wikiId:a,objectType:r}=this.props;if(!(!n&&!a))try{const i=await a1(this.context.accessToken,n,a,r);try{const o=await this.getWikiAttachments(a||i.id);this.setState({data:i,fileHandles:o,error:void 0})}catch(o){console.error("fileHandlesErr = ",o)}}catch(i){console.error(`Error on wiki markdown load
`,i),this.setState({error:i})}}async getWikiAttachments(n){const{ownerId:a,objectType:r}=this.props;if(!a){console.error("Cannot get wiki attachments without ownerId on Markdown Component");return}return await i1(this.context.accessToken,a,n,r).then(i=>i).catch(i=>{console.error("Error on wiki attachment load ",i)})}addIdsToReferenceWidgets(n){const a=/<span id="wikiReference.*?<span data-widgetparams.*?span>/g;let r=1;return n.replace(a,()=>{const i=r;return r+=1,`<a href="" id="ref${i}">[${i}]</a>`})}addIdsToTocWidgets(n){const a="SRC-header-";let r=1;const i=/<h[1-6] toc="true">.*<\/h[1-6]>/gm;return n.replace(i,o=>{const s=r;return r+=1,`${o.substring(0,3)} id="${a}${s}"${o.substring(3)}`})}renderMarkdown(){let n=this.createHTML(this.state.data.markdown).__html;if(n=this.addIdsToReferenceWidgets(n),n=this.addIdsToTocWidgets(n),n.length>0){const r=new DOMParser().parseFromString(n,"text/html");return m(Q,{children:this.recursiveRender(r.body,n)})}}recursiveRender(n,a){if(n.nodeType===Node.TEXT_NODE)return m(Q,{children:n.textContent});if(n.nodeType===Node.ELEMENT_NODE&&n instanceof HTMLElement){const r=n.tagName.toLowerCase()==="body"?"span":n.tagName.toLowerCase(),i=n.getAttribute("data-widgetparams");if(i)return this.processHTMLWidgetMapping(i,a);const o=n.attributes,s={};for(let c=0;c<o.length;c++){let u="",d="";const p=o.item(c);p&&(u=p.name,d=p.value),u&&d&&(s[u]=d)}if(n.childNodes.length===0)return m(r,{...s});const l=Array.from(n.childNodes).map((c,u)=>m(z.Fragment,{children:this.recursiveRender(c,a)},u));switch(r){case"p":return m(De,{variant:"body1",...s,component:r,children:l});case"span":return m(De,{variant:"body1",...s,component:r,children:l});case"h1":return m(De,{variant:"headline1",...s,component:r,children:l});case"h2":return m(De,{variant:"headline2",...s,component:r,children:l});case"h3":return m(De,{variant:"headline3",...s,component:r,children:l});case"ol":return m(De,{variant:"body1",...s,component:r,children:l});case"ul":return m(De,{variant:"body1",...s,component:r,children:l});case"a":return m(Xt,{...s,component:r,children:l});default:return m(r,{...s,children:l})}}}decodeXml(n){const a={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'};return n.replace(/(&quot;|&lt;|&gt;|&amp;)/g,(r,i)=>a[i])}processHTMLWidgetMapping(n,a){const r=this.decodeXml(n),i=r.indexOf("?");if(i===-1)return m(hb,{widgetType:r,widgetParamsMapped:{},originalMarkup:a},JSON.stringify(r));const o=r.substring(0,i),s={};return r.substring(i+1).split("&").forEach(l=>{let[c,u]=l.split("=");u=decodeURIComponent(u),s[c]=u}),m(hb,{widgetType:o,widgetParamsMapped:s,originalMarkup:a},JSON.stringify(r))}async componentDidMount(){if(this.state.data.markdown){this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current);return}this.markupRef.current&&this.markupRef.current.addEventListener("click",this.handleLinkClicks),await this.getWikiPageMarkdown(),this.processMath(),this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current)}async componentDidUpdate(n){let a=this.props.ownerId!==n.ownerId;a=a||this.props.wikiId!==n.wikiId,a&&await this.getWikiPageMarkdown(),this.processMath()}render(){const{renderInline:n,loadingSkeletonRowCount:a}=this.props,{isLoading:r,error:i}=this.state,o={ownerId:this.props.ownerId,wikiId:this.props.wikiId,wikiPage:this.state.data,fileHandles:this.state.fileHandles};if(i)return m(wp,{error:i});const s=this.addBookmarks(),l=L(Pd,{wikiContext:o,children:[r&&m(Q,{children:a?m(Np,{numCols:1,numRows:a}):m("span",{className:"spinner"})}),this.renderMarkdown(),s&&m("div",{children:this.addBookmarks()})]});return n?m("span",{className:"markdown markdown-inline",ref:this.markupRef,children:l}):m("div",{className:"markdown",ref:this.markupRef,children:l})}}je(xt,"contextType",Ni);try{xt.displayName="MarkdownSynapse",xt.__docgenInfo={description:"Basic Markdown functionality for Synapse, supporting Images/Plots/References/Bookmarks/buttonlinks",displayName:"MarkdownSynapse",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},markdown:{defaultValue:null,description:"",name:"markdown",required:!1,type:{name:"string"}},renderInline:{defaultValue:null,description:"",name:"renderInline",required:!1,type:{name:"boolean"}},objectType:{defaultValue:null,description:"",name:"objectType",required:!1,type:{name:"enum",value:[{value:'"ENTITY"'},{value:'"ENTITY_CONTAINER"'},{value:'"PRINCIPAL"'},{value:'"ACTIVITY"'},{value:'"EVALUATION"'},{value:'"SUBMISSION"'},{value:'"EVALUATION_SUBMISSIONS"'},{value:'"FILE"'},{value:'"MESSAGE"'},{value:'"WIKI"'},{value:'"FAVORITE"'},{value:'"ACCESS_REQUIREMENT"'},{value:'"ACCESS_APPROVAL"'},{value:'"TEAM"'},{value:'"TABLE"'},{value:'"ACCESS_CONTROL_LIST"'},{value:'"PROJECT_SETTING"'},{value:'"VERIFICATION_SUBMISSION"'},{value:'"CERTIFIED_USER_PASSING_RECORD"'},{value:'"FORUM"'},{value:'"THREAD"'},{value:'"REPLY"'},{value:'"FORM_GROUP"'},{value:'"FORM_DATA"'},{value:'"ENTITY_VIEW"'},{value:'"USER_PROFILE"'},{value:'"DATA_ACCESS_REQUEST"'},{value:'"DATA_ACCESS_SUBMISSION"'},{value:'"DATA_ACCESS_SUBMISSION_STATUS"'},{value:'"MEMBERSHIP_INVITATION"'}]}},loadingSkeletonRowCount:{defaultValue:null,description:"",name:"loadingSkeletonRowCount",required:!1,type:{name:"number"}},onMarkdownProcessingDone:{defaultValue:null,description:"",name:"onMarkdownProcessingDone",required:!1,type:{name:"((ref: HTMLInputElement | null) => void)"}}}}}catch{}const mp=mt(({className:e,...t})=>m(Et,{...t,classes:{popper:e}}))(({theme:e})=>({[`& .${zc.tooltip}`]:{backgroundColor:e.palette.common.white,color:e.palette.grey[1e3],boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},[`& .${zc.arrow}`]:{"&:before":{boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},color:e.palette.common.white}}));try{mp.displayName="LightTooltip",mp.__docgenInfo={description:"",displayName:"LightTooltip",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<unknown>"}}}}}catch{}const O7={display:"flex",justifyContent:"space-between",flexDirection:"row-reverse","> button":{flexGrow:1,maxWidth:"45%"}},vp=({children:e,contentProps:t,placement:n="bottom-start",showCloseButton:a=!0,actionButton:r,sx:i,maxWidth:o="500px",minWidth:s="300px"})=>{const[l,c]=P.useState(!1),u=L(ut,{sx:{padding:"20px"},children:[m(De,{variant:"body1",marginBottom:2,children:m(xt,{...t})}),L(ut,{sx:O7,children:[r&&m(Gt,{color:r.color||"primary",variant:r.variant||"contained",onClick:()=>{r.onClick(),r.closePopoverOnClick&&c(!1)},children:r.content}),a&&m(Gt,{variant:"outlined",onClick:()=>c(!1),children:"Close"})]})]});return m(mp,{title:u,placement:n,onClick:()=>c(!l),open:l,sx:{...i,[`& .${zc.tooltip}`]:{maxWidth:{maxWidth:o},minWidth:{minWidth:s}}},children:m(ut,{role:"button",className:"PopoverContainer",sx:{display:"inline-block",cursor:"pointer"},children:e})})};try{vp.displayName="MarkdownPopover",vp.__docgenInfo={description:"",displayName:"MarkdownPopover",props:{contentProps:{defaultValue:null,description:"",name:"contentProps",required:!0,type:{name:"MarkdownSynapseProps"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},placement:{defaultValue:{value:"bottom-start"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:'{ content: ReactElement<any, string | JSXElementConstructor<any>>; color?: OverridableStringUnion<"error" | "info" | "warning" | "success" | "inherit" | "primary" | "secondary", ButtonPropsColorOverrides>; variant?: OverridableStringUnion<...>; onClick: () => void; closePopoverOnClick?: boole...'}},maxWidth:{defaultValue:{value:"500px"},description:"",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:{value:"300px"},description:"",name:"minWidth",required:!1,type:{name:"string"}}}}}catch{}const Rn=({markdownText:e,helpUrl:t,placement:n="bottom",showCloseButton:a=!0,className:r=""})=>m(Q,{children:m(vp,{contentProps:{markdown:e},placement:n,actionButton:t?{content:m(Q,{children:"More info"}),closePopoverOnClick:!0,onClick:()=>window.open(t,"_blank"),color:"primary"}:void 0,showCloseButton:a,maxWidth:"350px",children:m(I1,{className:`HelpButton ${r}`})})});try{Rn.displayName="HelpPopover",Rn.__docgenInfo={description:"",displayName:"HelpPopover",props:{markdownText:{defaultValue:null,description:"",name:"markdownText",required:!0,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const L7="close",gp=({sx:e={color:"grey.700"},onClick:t})=>m(zs,{sx:e,onClick:t,"aria-label":L7,children:m(ww,{})}),Ei=({open:e,title:t,content:n,actions:a,className:r,onCancel:i,hasCloseButton:o=!0,helpMarkdown:s,helpUrl:l,maxWidth:c="sm",fullWidth:u=!0,sx:d})=>L(fw,{fullWidth:u,maxWidth:c,open:e,className:r,onClose:()=>i(),sx:d,children:[m(Za,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:[t,s&&m(Rn,{markdownText:s,helpUrl:l}),m(ut,{sx:{flexGrow:1}}),o&&m(gp,{onClick:()=>i()})]})}),m(Ja,{children:n}),a&&m(Dp,{children:a})]});try{gp.displayName="CloseButton",gp.__docgenInfo={description:"",displayName:"CloseButton",props:{sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Ei.displayName="DialogBase",Ei.__docgenInfo={description:"A dialog built using MUI components.",displayName:"DialogBase",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:{value:"true"},description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},maxWidth:{defaultValue:{value:"sm"},description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:{value:"true"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}}}}}catch{}const V7="Cancel",yp=e=>{const{confirmButtonText:t="OK",confirmButtonClassName:n,confirmButtonColor:a="primary",confirmButtonVariant:r="contained",confirmButtonDisabled:i=!1,onConfirm:o,onCancel:s,hasCancelButton:l=!0}=e;return L(Q,{children:[l&&m(Gt,{variant:"outlined",onClick:()=>s(),children:V7}),m(Gt,{variant:r,className:n,color:a,onClick:()=>o(),disabled:i,children:t})]})},Ci=e=>{const{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:a,confirmButtonVariant:r,onConfirm:i,onCancel:o,hasCancelButton:s,...l}=e;return m(Ei,{onCancel:o,actions:m(yp,{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:a,confirmButtonVariant:r,onConfirm:i,onCancel:o,hasCancelButton:s}),...l})};try{yp.displayName="ConfirmationButtons",yp.__docgenInfo={description:"",displayName:"ConfirmationButtons",props:{onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"neutral"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}try{Ci.displayName="ConfirmationDialog",Ci.__docgenInfo={description:"A confirmation dialog built using MUI components.",displayName:"ConfirmationDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:null,description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"neutral"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}export{eb as $,gi as A,Zf as B,Ci as C,Ei as D,bI as E,gt as F,gI as G,Rn as H,np as I,ht as J,qc as K,$8 as L,vp as M,F8 as N,Df as O,SI as P,vs as Q,fi as R,mf as S,hI as T,_f as U,Af as V,Pf as W,yf as X,ua as Y,Bf as Z,kj as _,yi as a,G8 as a0,Td as a1,sp as a2,mI as a3,wM as a4,Mf as a5,lp as a6,SC as a7,Jy as b,yw as c,xt as d,Rj as e,Fz as f,o9 as g,Aj as h,C5 as i,Pj as j,Zy as k,yp as l,yI as m,Dz as n,wI as o,Oq as p,Ol as q,_M as r,Cf as s,Ll as t,bw as u,As as v,wf as w,Ef as x,bf as y,TI as z};
//# sourceMappingURL=ConfirmationDialog-196fa300.js.map
