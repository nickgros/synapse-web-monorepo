import{_ as C}from"./extends-98964cd2.js";import{_ as E}from"./objectWithoutPropertiesLoose-4f48578a.js";import{r as l}from"./index-8db94870.js";import"./react-is.production.min-a192e302.js";import{j as I,a as H}from"./jsx-runtime-095bf462.js";import{g as N}from"./getScrollbarSize-ac846fe6.js";import{o as k}from"./ownerDocument-613eb639.js";import{g as _,e as $,s as U,f as A,i as O,j as z}from"./styled-2cba4329.js";import{u as W}from"./useEnhancedEffect-c45cae33.js";import{u as B}from"./useForkRef-2674f3de.js";const V=l.createContext({}),q=V;function G(t){return _("MuiList",t)}$("MuiList",["root","padding","dense","subheader"]);const J=["children","className","component","dense","disablePadding","subheader"],Q=t=>{const{classes:e,disablePadding:s,dense:c,subheader:u}=t;return z({root:["root",!s&&"padding",c&&"dense",u&&"subheader"]},G,e)},X=U("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disablePadding&&e.padding,s.dense&&e.dense,s.subheader&&e.subheader]}})(({ownerState:t})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Y=l.forwardRef(function(e,s){const c=A({props:e,name:"MuiList"}),{children:u,className:g,component:f="ul",dense:r=!1,disablePadding:p=!1,subheader:b}=c,x=E(c,J),w=l.useMemo(()=>({dense:r}),[r]),L=C({},c,{component:f,dense:r,disablePadding:p}),d=Q(L);return I(q.Provider,{value:w,children:H(X,C({as:f,className:O(d.root,g),ref:s,ownerState:L},x,{children:[b,u]}))})}),Z=Y,ee=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function M(t,e,s){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:s?null:t.firstChild}function D(t,e,s){return t===e?s?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:s?null:t.lastChild}function R(t,e){if(e===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:e.repeating?s[0]===e.keys[0]:s.indexOf(e.keys.join(""))===0}function y(t,e,s,c,u,g){let f=!1,r=u(t,e,e?s:!1);for(;r;){if(r===t.firstChild){if(f)return!1;f=!0}const p=c?!1:r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||!R(r,g)||p)r=u(t,r,s);else return r.focus(),!0}return!1}const te=l.forwardRef(function(e,s){const{actions:c,autoFocus:u=!1,autoFocusItem:g=!1,children:f,className:r,disabledItemsFocusable:p=!1,disableListWrap:b=!1,onKeyDown:x,variant:w="selectedMenu"}=e,L=E(e,ee),d=l.useRef(null),F=l.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});W(()=>{u&&d.current.focus()},[u]),l.useImperativeHandle(c,()=>({adjustStyleForScrollbar:(n,o)=>{const a=!d.current.style.width;if(n.clientHeight<d.current.clientHeight&&a){const h=`${N(k(n))}px`;d.current.style[o.direction==="rtl"?"paddingLeft":"paddingRight"]=h,d.current.style.width=`calc(100% + ${h})`}return d.current}}),[]);const K=n=>{const o=d.current,a=n.key,h=k(o).activeElement;if(a==="ArrowDown")n.preventDefault(),y(o,h,b,p,M);else if(a==="ArrowUp")n.preventDefault(),y(o,h,b,p,D);else if(a==="Home")n.preventDefault(),y(o,null,b,p,M);else if(a==="End")n.preventDefault(),y(o,null,b,p,D);else if(a.length===1){const i=F.current,v=a.toLowerCase(),S=performance.now();i.keys.length>0&&(S-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&v!==i.keys[0]&&(i.repeating=!1)),i.lastTime=S,i.keys.push(v);const j=h&&!i.repeating&&R(h,i);i.previousKeyMatched&&(j||y(o,h,!1,p,M,i))?n.preventDefault():i.previousKeyMatched=!1}x&&x(n)},P=B(d,s);let m=-1;l.Children.forEach(f,(n,o)=>{l.isValidElement(n)&&(n.props.disabled||(w==="selectedMenu"&&n.props.selected||m===-1)&&(m=o),m===o&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(m+=1,m>=f.length&&(m=-1)))});const T=l.Children.map(f,(n,o)=>{if(o===m){const a={};return g&&(a.autoFocus=!0),n.props.tabIndex===void 0&&w==="selectedMenu"&&(a.tabIndex=0),l.cloneElement(n,a)}return n});return I(Z,C({role:"menu",ref:P,className:r,onKeyDown:K,tabIndex:u?0:-1},L,{children:T}))}),fe=te;export{q as L,fe as M,Z as a};
//# sourceMappingURL=MenuList-29c0a21d.js.map
