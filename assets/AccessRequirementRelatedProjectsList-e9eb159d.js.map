{"version":3,"file":"AccessRequirementRelatedProjectsList-e9eb159d.js","sources":["../../src/components/AccessRequirementRelatedProjectsList/AccessRequirementRelatedProjectsList.tsx"],"sourcesContent":["import React from 'react'\nimport { AccessRequirementSearchRequest } from '@sage-bionetworks/synapse-types'\nimport { useSearchAccessRequirementsInfinite } from '../../synapse-queries'\nimport { EntityLink } from '../EntityLink'\nimport { Alert, List, ListItem, Typography } from '@mui/material'\nimport pluralize from 'pluralize'\n\nexport type AccessRequirementRelatedProjectsListProps = {\n  accessRequirementId: number\n}\n\nexport const AccessRequirementRelatedProjectsList = (\n  props: AccessRequirementRelatedProjectsListProps,\n) => {\n  const searchRequest: Omit<AccessRequirementSearchRequest, 'nextPageToken'> = {\n    ids: [props.accessRequirementId],\n  }\n\n  const { data, isError, error } =\n    useSearchAccessRequirementsInfinite(searchRequest)\n  const ar = data?.pages.flatMap(page => page.results)[0] ?? undefined\n\n  const nRelatedProjects = ar?.relatedProjectIds.length || 0\n  const relatedProjectsTitle = `${pluralize(\n    'project',\n    nRelatedProjects,\n    true,\n  )}${nRelatedProjects > 0 ? ':' : ''}`\n\n  return (\n    <>\n      {ar && (\n        <>\n          <Typography variant=\"body1\">{relatedProjectsTitle}</Typography>\n          <List sx={{ listStyleType: 'disc', pl: 4 }}>\n            {ar.relatedProjectIds.map(projectId => (\n              <ListItem\n                sx={{\n                  display: 'list-item',\n                  py: '4px',\n                  // remove extra margin added by type.less to p tags\n                  '.no-margin-y': { my: 0 },\n                }}\n                key={projectId}\n              >\n                <EntityLink\n                  entity={projectId}\n                  link={false}\n                  showIcon={false}\n                  className=\"no-margin-y\"\n                />\n              </ListItem>\n            ))}\n          </List>\n        </>\n      )}\n      {isError && <Alert severity=\"error\">{error.message}</Alert>}\n    </>\n  )\n}\n"],"names":["AccessRequirementRelatedProjectsList","props","searchRequest","data","isError","error","useSearchAccessRequirementsInfinite","ar","page","nRelatedProjects","relatedProjectsTitle","pluralize","jsxs","Fragment","jsx","Typography","List","projectId","ListItem","EntityLink","Alert"],"mappings":"ofAWO,MAAAA,EAAAC,GAAA,CAGL,MAAAC,EAAA,CAA6E,IAAA,CAAAD,EAAA,mBAAA,CAC5C,EAGjC,CAAA,KAAAE,EAAA,QAAAC,EAAA,MAAAC,CAAA,EAAAC,EAAAJ,CAAA,EAEAK,GAAAJ,GAAA,YAAAA,EAAA,MAAA,QAAAK,GAAAA,EAAA,SAAA,KAAA,OAEAC,GAAAF,GAAA,YAAAA,EAAA,kBAAA,SAAA,EACAG,EAAA,GAAAC,EAAgC,UAC9BF,EACA,EACA,CAAA,GAAAA,EAAA,EAAA,IAAA,EAAA,GAGF,OAAAG,EAAAC,EAAA,CAAA,SAAA,CAEKN,GAAAK,EAAAC,EAAA,CAAA,SAAA,CAEGC,EAAAC,EAAA,CAAA,QAAA,QAAA,SAAAL,EAAA,EAAkDI,EAAAE,EAAA,CAAA,GAAA,CAAA,cAAA,OAAA,GAAA,CAAA,EAAA,SAAAT,EAAA,kBAAA,IAAAU,GAAAH,EAG9CI,EAAC,CAAA,GAAA,CACK,QAAA,YACO,GAAA,MACL,eAAA,CAAA,GAAA,CAAA,CAEoB,EAC1B,SAAAJ,EAGAK,EAAC,CAAA,OAAAF,EACS,KAAA,GACF,SAAA,GACI,UAAA,aACA,CAAA,CACZ,EAAAA,CAPK,CAAA,EAAA,CAUX,EAAA,EACFb,GAAAU,EAAAM,EAAA,CAAA,SAAA,QAAA,SAAAf,EAAA,QAAA,CAEiD,CAAA,CAAA,CAGzD"}