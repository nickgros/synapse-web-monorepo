import{_ as v}from"./extends-98964cd2.js";import{_ as B}from"./objectWithoutPropertiesLoose-4f48578a.js";import{r as a}from"./index-f1f749bf.js";import{g as so,a as ao,s as q,u as lo,b as G,e as co}from"./styled-25e9c81a.js";import{j as T}from"./jsx-runtime-ad672792.js";import{M as fo}from"./Modal-a5bf9c71.js";import{P as po}from"./Paper-832645e7.js";import{G as uo}from"./Clear-499958d6.js";import{u as ho}from"./useForkRef-dd8a6e5c.js";import{o as I}from"./isHostComponent-fa76b8d9.js";import{o as F,d as mo}from"./ownerWindow-2c76219e.js";function go(t){return so("MuiPopover",t)}ao("MuiPopover",["root","paper"]);const Po=["onEntering"],vo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function V(t,o){let i=0;return typeof o=="number"?i=o:o==="center"?i=t.height/2:o==="bottom"&&(i=t.height),i}function X(t,o){let i=0;return typeof o=="number"?i=o:o==="center"?i=t.width/2:o==="right"&&(i=t.width),i}function Y(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function O(t){return typeof t=="function"?t():t}const yo=t=>{const{classes:o}=t;return co({root:["root"],paper:["paper"]},go,o)},wo=q(fo,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),bo=q(po,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),xo=a.forwardRef(function(o,i){const y=lo({props:o,name:"MuiPopover"}),{action:J,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:m="anchorEl",children:K,className:Q,container:Z,elevation:C=8,marginThreshold:c=16,open:f,PaperProps:g={},transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:w=uo,transitionDuration:b="auto",TransitionProps:{onEntering:z}={}}=y,M=B(y.TransitionProps,Po),oo=B(y,vo),x=a.useRef(),eo=ho(x,g.ref),E=v({},y,{anchorOrigin:d,anchorReference:m,elevation:C,marginThreshold:c,PaperProps:g,transformOrigin:P,TransitionComponent:w,transitionDuration:b,TransitionProps:M}),W=yo(E),S=a.useCallback(()=>{if(m==="anchorPosition")return R;const e=O(l),r=(e&&e.nodeType===1?e:I(x.current).body).getBoundingClientRect();return{top:r.top+V(r,d.vertical),left:r.left+X(r,d.horizontal)}},[l,d.horizontal,d.vertical,R,m]),k=a.useCallback(e=>({vertical:V(e,P.vertical),horizontal:X(e,P.horizontal)}),[P.horizontal,P.vertical]),D=a.useCallback(e=>{const n={width:e.offsetWidth,height:e.offsetHeight},r=k(n);if(m==="none")return{top:null,left:null,transformOrigin:Y(r)};const N=S();let u=N.top-r.vertical,h=N.left-r.horizontal;const j=u+n.height,A=h+n.width,L=F(O(l)),U=L.innerHeight-c,$=L.innerWidth-c;if(u<c){const s=u-c;u-=s,r.vertical+=s}else if(j>U){const s=j-U;u-=s,r.vertical+=s}if(h<c){const s=h-c;h-=s,r.horizontal+=s}else if(A>$){const s=A-$;h-=s,r.horizontal+=s}return{top:`${Math.round(u)}px`,left:`${Math.round(h)}px`,transformOrigin:Y(r)}},[l,m,S,k,c]),[to,_]=a.useState(f),p=a.useCallback(()=>{const e=x.current;if(!e)return;const n=D(e);n.top!==null&&(e.style.top=n.top),n.left!==null&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,_(!0)},[D]),no=(e,n)=>{z&&z(e,n),p()},ro=()=>{_(!1)};a.useEffect(()=>{f&&p()}),a.useImperativeHandle(J,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),a.useEffect(()=>{if(!f)return;const e=mo(()=>{p()}),n=F(l);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[l,f,p]);let H=b;b==="auto"&&!w.muiSupportAuto&&(H=void 0);const io=Z||(l?I(O(l)).body:void 0);return T(wo,v({BackdropProps:{invisible:!0},className:G(W.root,Q),container:io,open:f,ref:i,ownerState:E},oo,{children:T(w,v({appear:!0,in:f,onEntering:no,onExited:ro,timeout:H},M,{children:T(bo,v({elevation:C},g,{ref:eo,className:G(W.paper,g.className)},to?void 0:{style:v({},g.style,{opacity:0})},{ownerState:E,children:K}))}))}))}),_o=xo;export{_o as P};
//# sourceMappingURL=Popover-11254ce5.js.map
