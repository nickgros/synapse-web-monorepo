import{a as j,j as h,F as Ke}from"./jsx-runtime-095bf462.js";import{r as c,R as f}from"./index-8db94870.js";import{H as nn}from"./ConfirmationDialog-d3361127.js";import{_ as Ee}from"./objectWithoutPropertiesLoose-4f48578a.js";import{_ as w}from"./extends-98964cd2.js";import{u as Ie,c as X,B as tn}from"./Button-5637ed55.js";import{e as Ve,o as Y,a as k,l as We,c as Le,r as Ue,d as on}from"./createWithBsPrefix-f259edae.js";import{u as an,b as rn,c as ze,q as P,d as ln}from"./ElementWithTooltip-a40d56e4.js";import{s as G,C as sn,d as dn,F as Xe,t as cn}from"./Alert-fbdd8ab9.js";import{P as d}from"./index-58d3fd43.js";import{R as un}from"./index-8ce4a492.js";import{a as fn,r as mn}from"./ToastMessage-def67892.js";import{_ as pn}from"./inheritsLoose-c82a83d4.js";import{T as Ye}from"./Typography-0933b2f6.js";import{S as vn}from"./Skeleton-3aad52b9.js";import{T as hn}from"./Tooltip-72c76487.js";import{W as gn}from"./WarningDialog-21107351.js";import{e as yn}from"./DetailsViewTableRenderers-7659729b.js";function En(e){var n=c.useRef(e);return n.current=e,n}function Je(e){var n=En(e);c.useEffect(function(){return function(){return n.current()}},[])}var he;function ge(e){if((!he&&he!==0||e)&&Ve){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),he=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return he}function Oe(e){e===void 0&&(e=Y());try{var n=e.activeElement;return!n||!n.nodeName?null:n}catch{return e.body}}function bn(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function De(e){return"window"in e&&e.window===e?e:bn(e)&&e.defaultView||!1}function Cn(e){return e&&e.tagName.toLowerCase()==="body"}function wn(e){var n=De(e)?Y():Y(e),o=De(e)||n.defaultView;return n.body.clientWidth<o.innerWidth}function Nn(e){var n=De(e);return n||Cn(e)?wn(e):e.scrollHeight>e.clientHeight}var xn=["template","script","style"],kn=function(n){var o=n.nodeType,t=n.tagName;return o===1&&xn.indexOf(t.toLowerCase())===-1},Qe=function(n,o,t){[].forEach.call(n.children,function(a){o.indexOf(a)===-1&&kn(a)&&t(a)})};function ye(e,n){n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))}function Sn(e,n){var o=n.dialog,t=n.backdrop;Qe(e,[o,t],function(a){return ye(!0,a)})}function Mn(e,n){var o=n.dialog,t=n.backdrop;Qe(e,[o,t],function(a){return ye(!1,a)})}function Fn(e,n){var o=-1;return e.some(function(t,a){return n(t,a)?(o=a,!0):!1}),o}var Tn=function(){function e(o){var t=o===void 0?{}:o,a=t.hideSiblingNodes,r=a===void 0?!0:a,i=t.handleContainerOverflow,l=i===void 0?!0:i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=l,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=ge()}var n=e.prototype;return n.isContainerOverflowing=function(t){var a=this.data[this.containerIndexFromModal(t)];return a&&a.overflowing},n.containerIndexFromModal=function(t){return Fn(this.data,function(a){return a.modals.indexOf(t)!==-1})},n.setContainerStyle=function(t,a){var r={overflow:"hidden"};t.style={overflow:a.style.overflow,paddingRight:a.style.paddingRight},t.overflowing&&(r.paddingRight=parseInt(G(a,"paddingRight")||"0",10)+this.scrollbarSize+"px"),G(a,r)},n.removeContainerStyle=function(t,a){Object.assign(a.style,t.style)},n.add=function(t,a,r){var i=this.modals.indexOf(t),l=this.containers.indexOf(a);if(i!==-1)return i;if(i=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&Sn(a,t),l!==-1)return this.data[l].modals.push(t),i;var m={modals:[t],classes:r?r.split(/\s+/):[],overflowing:Nn(a)};return this.handleContainerOverflow&&this.setContainerStyle(m,a),m.classes.forEach(fn.bind(null,a)),this.containers.push(a),this.data.push(m),i},n.remove=function(t){var a=this.modals.indexOf(t);if(a!==-1){var r=this.containerIndexFromModal(t),i=this.data[r],l=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(a,1),i.modals.length===0)i.classes.forEach(mn.bind(null,l)),this.handleContainerOverflow&&this.removeContainerStyle(i,l),this.hideSiblingNodes&&Mn(l,t),this.containers.splice(r,1),this.data.splice(r,1);else if(this.hideSiblingNodes){var m=i.modals[i.modals.length-1],y=m.backdrop,g=m.dialog;ye(!1,g),ye(!1,y)}}},n.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},e}();const be=Tn;var Pe=function(n){var o;return typeof document>"u"?null:n==null?Y().body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),(o=n)!=null&&o.nodeType&&n||null)};function Rn(e,n){var o=c.useState(function(){return Pe(e)}),t=o[0],a=o[1];if(!t){var r=Pe(e);r&&a(r)}return c.useEffect(function(){n&&t&&n(t)},[n,t]),c.useEffect(function(){var i=Pe(e);i!==t&&a(i)},[e,t]),t}var Ae;function On(){return Ae||(Ae=new be),Ae}function Pn(e){var n=e||On(),o=c.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(a,r){return n.add(o.current,a,r)},remove:function(){return n.remove(o.current)},isTopModal:function(){return n.isTopModal(o.current)},setDialogRef:c.useCallback(function(t){o.current.dialog=t},[]),setBackdropRef:c.useCallback(function(t){o.current.backdrop=t},[])})}var $e=c.forwardRef(function(e,n){var o=e.show,t=o===void 0?!1:o,a=e.role,r=a===void 0?"dialog":a,i=e.className,l=e.style,m=e.children,y=e.backdrop,g=y===void 0?!0:y,J=e.keyboard,Ce=J===void 0?!0:J,N=e.onBackdropClick,S=e.onEscapeKeyDown,B=e.transition,Q=e.backdropTransition,Z=e.autoFocus,T=Z===void 0?!0:Z,_=e.enforceFocus,we=_===void 0?!0:_,ee=e.restoreFocus,Ne=ee===void 0?!0:ee,xe=e.restoreFocusOptions,ne=e.renderDialog,D=e.renderBackdrop,ke=D===void 0?function(u){return f.createElement("div",u)}:D,te=e.manager,oe=e.container,ae=e.containerClassName,H=e.onShow,I=e.onHide,re=I===void 0?function(){}:I,ie=e.onExit,le=e.onExited,Se=e.onExiting,se=e.onEnter,Me=e.onEntering,de=e.onEntered,V=Ee(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),C=Rn(oe),p=Pn(te),ce=an(),E=rn(t),ue=c.useState(!t),x=ue[0],L=ue[1],M=c.useRef(null);c.useImperativeHandle(n,function(){return p},[p]),Ve&&!E&&t&&(M.current=Oe()),!B&&!t&&!x?L(!0):t&&x&&L(!1);var $=k(function(){if(p.add(C,ae),K.current=We(document,"keydown",fe),q.current=We(document,"focus",function(){return setTimeout(Fe)},!0),H&&H(),T){var u=Oe(document);p.dialog&&u&&!ze(p.dialog,u)&&(M.current=u,p.dialog.focus())}}),F=k(function(){if(p.remove(),K.current==null||K.current(),q.current==null||q.current(),Ne){var u;(u=M.current)==null||u.focus==null||u.focus(xe),M.current=null}});c.useEffect(function(){!t||!C||$()},[t,C,$]),c.useEffect(function(){x&&F()},[x,F]),Je(function(){F()});var Fe=k(function(){if(!(!we||!ce()||!p.isTopModal())){var u=Oe();p.dialog&&u&&!ze(p.dialog,u)&&p.dialog.focus()}}),Te=k(function(u){u.target===u.currentTarget&&(N==null||N(u),g===!0&&re())}),fe=k(function(u){Ce&&u.keyCode===27&&p.isTopModal()&&(S==null||S(u),u.defaultPrevented||re())}),q=c.useRef(),K=c.useRef(),Re=function(){L(!0);for(var ve=arguments.length,v=new Array(ve),s=0;s<ve;s++)v[s]=arguments[s];le==null||le.apply(void 0,v)},W=B;if(!C||!(t||W&&!x))return null;var me=w({role:r,ref:p.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},V,{style:l,className:i,tabIndex:-1}),U=ne?ne(me):f.createElement("div",me,f.cloneElement(m,{role:"document"}));W&&(U=f.createElement(W,{appear:!0,unmountOnExit:!0,in:!!t,onExit:ie,onExiting:Se,onExited:Re,onEnter:se,onEntering:Me,onEntered:de},U));var R=null;if(g){var pe=Q;R=ke({ref:p.setBackdropRef,onClick:Te}),pe&&(R=f.createElement(pe,{appear:!0,in:!!t},R))}return f.createElement(f.Fragment,null,un.createPortal(f.createElement(f.Fragment,null,R,U),C))}),An={show:d.bool,container:d.any,onShow:d.func,onHide:d.func,backdrop:d.oneOfType([d.bool,d.oneOf(["static"])]),renderDialog:d.func,renderBackdrop:d.func,onEscapeKeyDown:d.func,onBackdropClick:d.func,containerClassName:d.string,keyboard:d.bool,transition:d.elementType,backdropTransition:d.elementType,autoFocus:d.bool,enforceFocus:d.bool,restoreFocus:d.bool,restoreFocusOptions:d.shape({preventScroll:d.bool}),onEnter:d.func,onEntering:d.func,onEntered:d.func,onExit:d.func,onExiting:d.func,onExited:d.func,manager:d.instanceOf(be)};$e.displayName="Modal";$e.propTypes=An;const Bn=Object.assign($e,{Manager:be});var A={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},Dn=function(e){pn(n,e);function n(){return e.apply(this,arguments)||this}var o=n.prototype;return o.adjustAndStore=function(a,r,i){var l,m=r.style[a];r.dataset[a]=m,G(r,(l={},l[a]=parseFloat(G(r,a))+i+"px",l))},o.restore=function(a,r){var i=r.dataset[a];if(i!==void 0){var l;delete r.dataset[a],G(r,(l={},l[a]=i,l))}},o.setContainerStyle=function(a,r){var i=this;if(e.prototype.setContainerStyle.call(this,a,r),!!a.overflowing){var l=ge();P(r,A.FIXED_CONTENT).forEach(function(m){return i.adjustAndStore("paddingRight",m,l)}),P(r,A.STICKY_CONTENT).forEach(function(m){return i.adjustAndStore("marginRight",m,-l)}),P(r,A.NAVBAR_TOGGLER).forEach(function(m){return i.adjustAndStore("marginRight",m,l)})}},o.removeContainerStyle=function(a,r){var i=this;e.prototype.removeContainerStyle.call(this,a,r),P(r,A.FIXED_CONTENT).forEach(function(l){return i.restore("paddingRight",l)}),P(r,A.STICKY_CONTENT).forEach(function(l){return i.restore("marginRight",l)}),P(r,A.NAVBAR_TOGGLER).forEach(function(l){return i.restore("marginRight",l)})},n}(be);const Hn=Le("modal-body");var In=f.createContext({onHide:function(){}});const Ze=In;var Vn=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],_e=f.forwardRef(function(e,n){var o=e.bsPrefix,t=e.className,a=e.contentClassName,r=e.centered,i=e.size,l=e.children,m=e.scrollable,y=Ee(e,Vn);o=Ie(o,"modal");var g=o+"-dialog";return f.createElement("div",w({},y,{ref:n,className:X(g,t,i&&o+"-"+i,r&&g+"-centered",m&&g+"-scrollable")}),f.createElement("div",{className:X(o+"-content",a)},l))});_e.displayName="ModalDialog";const en=_e,Ln=Le("modal-footer");var $n=["bsPrefix","closeLabel","closeButton","onHide","className","children"],qn={closeLabel:"Close",closeButton:!1},qe=f.forwardRef(function(e,n){var o=e.bsPrefix,t=e.closeLabel,a=e.closeButton,r=e.onHide,i=e.className,l=e.children,m=Ee(e,$n);o=Ie(o,"modal-header");var y=c.useContext(Ze),g=k(function(){y&&y.onHide(),r&&r()});return f.createElement("div",w({ref:n},m,{className:X(i,o)}),l,a&&f.createElement(sn,{label:t,onClick:g}))});qe.displayName="ModalHeader";qe.defaultProps=qn;const Kn=qe;var Wn=dn("h4");const Un=Le("modal-title",{Component:Wn});var zn=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Be,jn={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:en};function Gn(e){return f.createElement(Xe,w({},e,{timeout:null}))}function Xn(e){return f.createElement(Xe,w({},e,{timeout:null}))}var b=f.forwardRef(function(e,n){var o=e.bsPrefix,t=e.className,a=e.style,r=e.dialogClassName,i=e.contentClassName,l=e.children,m=e.dialogAs,y=e["aria-labelledby"],g=e["aria-describedby"],J=e["aria-label"],Ce=e.show,N=e.animation,S=e.backdrop,B=e.keyboard,Q=e.onEscapeKeyDown,Z=e.onShow,T=e.onHide,_=e.container,we=e.autoFocus,ee=e.enforceFocus,Ne=e.restoreFocus,xe=e.restoreFocusOptions,ne=e.onEntered,D=e.onExit,ke=e.onExiting,te=e.onEnter,oe=e.onEntering,ae=e.onExited,H=e.backdropClassName,I=e.manager,re=Ee(e,zn),ie=c.useState({}),le=ie[0],Se=ie[1],se=c.useState(!1),Me=se[0],de=se[1],V=c.useRef(!1),C=c.useRef(!1),p=c.useRef(null),ce=ln(),E=ce[0],ue=ce[1],x=k(T);o=Ie(o,"modal"),c.useImperativeHandle(n,function(){return{get _modal(){return E}}},[E]);var L=c.useMemo(function(){return{onHide:x}},[x]);function M(){return I||(Be||(Be=new Dn),Be)}function $(v){if(Ve){var s=M().isContainerOverflowing(E),O=v.scrollHeight>Y(v).documentElement.clientHeight;Se({paddingRight:s&&!O?ge():void 0,paddingLeft:!s&&O?ge():void 0})}}var F=k(function(){E&&$(E.dialog)});Je(function(){Ue(window,"resize",F),p.current&&p.current()});var Fe=function(){V.current=!0},Te=function(s){V.current&&E&&s.target===E.dialog&&(C.current=!0),V.current=!1},fe=function(){de(!0),p.current=cn(E.dialog,function(){de(!1)})},q=function(s){s.target===s.currentTarget&&fe()},K=function(s){if(S==="static"){q(s);return}if(C.current||s.target!==s.currentTarget){C.current=!1;return}T==null||T()},Re=function(s){!B&&S==="static"?(s.preventDefault(),fe()):B&&Q&&Q(s)},W=function(s,O){s&&(s.style.display="block",$(s)),te==null||te(s,O)},me=function(s){p.current==null||p.current(),D==null||D(s)},U=function(s,O){oe==null||oe(s,O),on(window,"resize",F)},R=function(s){s&&(s.style.display=""),ae==null||ae(s),Ue(window,"resize",F)},pe=c.useCallback(function(v){return f.createElement("div",w({},v,{className:X(o+"-backdrop",H,!N&&"show")}))},[N,H,o]),u=w({},a,le);N||(u.display="block");var ve=function(s){return f.createElement("div",w({role:"dialog"},s,{style:u,className:X(t,o,Me&&o+"-static"),onClick:S?K:void 0,onMouseUp:Te,"aria-label":J,"aria-labelledby":y,"aria-describedby":g}),f.createElement(m,w({},re,{onMouseDown:Fe,className:r,contentClassName:i}),l))};return f.createElement(Ze.Provider,{value:L},f.createElement(Bn,{show:Ce,ref:ue,backdrop:S,container:_,keyboard:!0,autoFocus:we,enforceFocus:ee,restoreFocus:Ne,restoreFocusOptions:xe,onEscapeKeyDown:Re,onShow:Z,onHide:T,onEnter:W,onEntering:U,onEntered:ne,onExit:me,onExiting:ke,onExited:R,manager:M(),containerClassName:o+"-open",transition:N?Gn:void 0,backdropTransition:N?Xn:void 0,renderBackdrop:pe,renderDialog:ve}))});b.displayName="Modal";b.defaultProps=jn;b.Body=Hn;b.Header=Kn;b.Title=Un;b.Footer=Ln;b.Dialog=en;b.TRANSITION_DURATION=300;b.BACKDROP_TRANSITION_DURATION=150;const z=b;function je(e){const{copy:n,skeleton:o,...t}=e;return e.skeleton?h(vn,{variant:"rectangular",width:150}):h(hn,{title:t["data-tip"]??"",placement:"top",enterNextDelay:300,children:h(tn,{...t,children:n})})}const He=e=>{var n;return j(z,{className:`FluidModal bootstrap-4-backport ${e.className??""}`,backdrop:"static",animation:!1,show:e.show,onHide:e.onClose,children:[h(z.Header,{closeButton:!0,children:h(z.Title,{children:j(Ye,{variant:"headline1",component:"span",children:[e.title,e.titlePopoverProps&&h(nn,{placement:"right",...e.titlePopoverProps,className:"SRC-margin-left-5 "+(((n=e.titlePopoverProps)==null?void 0:n.className)??"")})]})})}),h(z.Body,{children:e.children}),j(z.Footer,{children:[e.secondaryActions&&e.secondaryActions.reverse().map((o,t)=>h(je,{variant:"outline",...o},t)),e.primaryAction&&h(je,{variant:"sds-primary",...e.primaryAction})]})]})};try{He.displayName="FluidModal",He.__docgenInfo={description:"Full-screen modal that scales with screen size. Fits requirements defined in SWC-5801",displayName:"FluidModal",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | Element"}},titlePopoverProps:{defaultValue:null,description:"",name:"titlePopoverProps",required:!1,type:{name:"HelpPopoverProps"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},primaryAction:{defaultValue:null,description:"",name:"primaryAction",required:!1,type:{name:"ModalAction"}},secondaryActions:{defaultValue:null,description:"",name:"secondaryActions",required:!1,type:{name:"ModalAction[]"}}}}}catch{}const Yn="Unsaved Changes",Ge=e=>{const[n,o]=c.useState([]),[t,a]=c.useState(!1);return j(Ke,{children:[h(gn,{title:Yn,content:"Any unsaved changes will be lost. Are you sure you want to close the finder?",open:t,confirmButtonText:"Close Finder",onConfirm:()=>{a(!1),e.onCancel()},onCancel:()=>{a(!1)}}),h(He,{className:t?"SRC-hidden":void 0,show:e.show,title:e.title,titlePopoverProps:e.titlePopoverProps,onClose:e.onClose,primaryAction:{copy:e.confirmButtonCopy,onClick:()=>{e.onConfirm(n)}},secondaryActions:[{copy:"Cancel",onClick:()=>{n.length>0?a(!0):e.onCancel()}}],children:j(Ke,{children:[h(Ye,{variant:"body1",children:e.promptCopy}),h(yn,{...e.configuration,onSelectedChange:o})]})})]})};try{Ge.displayName="EntityFinderModal",Ge.__docgenInfo={description:"",displayName:"EntityFinderModal",props:{configuration:{defaultValue:null,description:"",name:"configuration",required:!0,type:{name:'Omit<EntityFinderProps, "onSelectedChange">'}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},titlePopoverProps:{defaultValue:null,description:"",name:"titlePopoverProps",required:!1,type:{name:"HelpPopoverProps"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"(selected: Reference[]) => void"}},confirmButtonCopy:{defaultValue:null,description:"",name:"confirmButtonCopy",required:!0,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},promptCopy:{defaultValue:null,description:"",name:"promptCopy",required:!1,type:{name:"string"}}}}}catch{}export{Ge as E};
//# sourceMappingURL=EntityFinderModal-9f8cb1e4.js.map
