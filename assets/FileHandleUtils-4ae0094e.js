import{bj as a,bk as s,bl as n,bn as E,bm as c,I as _,W as l}from"./SynapseClient-c43c6534.js";const i="Synapse Storage",b=1;function u(e){switch(e.concreteType){case c:return{endpoint:e.endpointUrl,bucket:e.bucket,fileKey:e.fileKey};case E:case n:return{url:o(e)};case s:case a:return{location:o(e)};default:throw new Error(`Couldn't determine location name for file handle: ${JSON.stringify(e)}`)}}function o(e){switch(e.concreteType){case E:return e.filePath;case c:return e.bucket;case n:return e.externalURL;case s:return[null,b].includes(e.storageLocationId)?i:`s3://${e.bucketName}`;case a:return`gs://${e.bucketName}`;default:throw new Error(`Couldn't determine location name for file handle: ${JSON.stringify(e)}`)}}function L(e){let r;return e.entityType===_.FILE&&(r=e.fileHandles.filter(t=>t.id===e.entity.dataFileHandleId)[0]),r}function T(e){let r=null;if(e)switch(e.concreteType){case"org.sagebionetworks.repo.model.file.S3UploadDestination":r=i;break;case"org.sagebionetworks.repo.model.file.ExternalUploadDestination":if(r=e.url,e.uploadType===l.SFTP){const t=r.lastIndexOf("/");t&&(r=r.substring(0,t))}break;case"org.sagebionetworks.repo.model.file.ExternalS3UploadDestination":r="s3://"+e.bucket+"/",e.baseKey!=null&&(r+=e.baseKey);break;case"org.sagebionetworks.repo.model.file.ExternalGoogleCloudUploadDestination":r="gs://"+e.bucket+"/",e.baseKey!=null&&(r+=e.baseKey);break;case"org.sagebionetworks.repo.model.file.ExternalObjectStoreUploadDestination":r=e.endpointUrl+"/"+e.bucket;break}return r}export{o as a,u as b,T as c,L as g};
//# sourceMappingURL=FileHandleUtils-4ae0094e.js.map
