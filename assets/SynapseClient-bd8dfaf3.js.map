{"version":3,"file":"SynapseClient-bd8dfaf3.js","sources":["../../../../node_modules/.pnpm/spark-md5@3.0.2/node_modules/spark-md5/spark-md5.js","../../../../node_modules/.pnpm/cookie@0.4.2/node_modules/cookie/index.js","../../../../node_modules/.pnpm/universal-cookie@4.0.4/node_modules/universal-cookie/es6/utils.js","../../../../node_modules/.pnpm/universal-cookie@4.0.4/node_modules/universal-cookie/es6/Cookies.js","../../../../node_modules/.pnpm/@mui+styled-engine@5.13.2_@emotion+react@11.11.1_@emotion+styled@11.11.0_react@18.2.0/node_modules/@mui/styled-engine/StyledEngineProvider/StyledEngineProvider.js","../../../../node_modules/.pnpm/@mui+private-theming@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/private-theming/useTheme/ThemeContext.js","../../../../node_modules/.pnpm/@mui+private-theming@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/private-theming/useTheme/useTheme.js","../../../../node_modules/.pnpm/@mui+private-theming@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/private-theming/ThemeProvider/nested.js","../../../../node_modules/.pnpm/@mui+private-theming@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js","../../../../node_modules/.pnpm/@mui+system@5.13.7_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.0.27_react@18.2.0/node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js","../../../../node_modules/.pnpm/@mui+material@5.13.7_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/styles/ThemeProvider.js","../../../../node_modules/.pnpm/@mui+material@5.13.7_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Collapse/collapseClasses.js","../../../../node_modules/.pnpm/@mui+material@5.13.7_@emotion+react@11.11.1_@emotion+styled@11.11.0_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Collapse/Collapse.js","../../src/utils/hooks/useDetectSSOCode.ts","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_coreJsData.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isMasked.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_toSource.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsNative.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getValue.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_WeakMap.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isLength.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isPrototype.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsArguments.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArguments.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubFalse.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsTypedArray.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseUnary.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nodeUtil.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overArg.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeKeys.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseKeys.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Map.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_DataView.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Promise.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Set.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getTag.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js","../../../../node_modules/.pnpm/react-error-boundary@3.1.4_react@18.2.0/node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../src/utils/SynapseClientError.ts","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/subscribable.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/utils.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/focusManager.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/onlineManager.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/retryer.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/notifyManager.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/logger.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/query.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/queryCache.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/mutation.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/mutationCache.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/infiniteQueryBehavior.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/queryClient.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/core/queryObserver.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/reactBatchedUpdates.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/setBatchUpdatesFn.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/logger.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/setLogger.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/QueryClientProvider.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/QueryErrorResetBoundary.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/utils.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/useBaseQuery.js","../../../../node_modules/.pnpm/react-query@3.39.3_react-dom@18.2.0_react@18.2.0/node_modules/react-query/es/react/useQuery.js","../../src/synapse-queries/user/useUserBundle.ts","../../src/components/JiraIssueCollector.tsx","../../src/components/SignInButton.tsx","../../src/components/error/ErrorBanner.tsx","../../src/utils/functions/ObjectUtils.ts","../../src/utils/functions/ArrayUtils.ts","../../src/synapse-queries/KeyFactory.ts","../../src/utils/context/SynapseContext.tsx","../../../synapse-types/dist/index.mjs","../../src/utils/types/IsType.ts","../../src/utils/functions/EntityTypeUtils.ts","../../src/utils/AppUtils/AppUtils.ts","../../src/utils/AppUtils/session/ApplicationSessionContext.tsx","../../../../node_modules/.pnpm/resolve-pathname@3.0.0/node_modules/resolve-pathname/esm/resolve-pathname.js","../../../../node_modules/.pnpm/history@4.10.1/node_modules/history/esm/history.js","../../../../node_modules/.pnpm/isarray@0.0.1/node_modules/isarray/index.js","../../../../node_modules/.pnpm/path-to-regexp@1.8.0/node_modules/path-to-regexp/index.js","../../../../node_modules/.pnpm/react-router@5.3.4_react@18.2.0/node_modules/react-router/esm/react-router.js","../../src/utils/AppUtils/session/ApplicationSessionManager.tsx","../../src/theme/typography/Typography.ts","../../../../node_modules/.pnpm/tinycolor2@1.6.0/node_modules/tinycolor2/esm/tinycolor.js","../../src/theme/palette/Palettes.ts","../../src/theme/typography/Link.ts","../../../../node_modules/.pnpm/@mui+icons-material@5.13.7_@mui+material@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/ErrorTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.13.7_@mui+material@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/HighlightOffTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.13.7_@mui+material@5.13.7_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/InfoTwoTone.js","../../src/theme/DefaultTheme.tsx","../../src/theme/useTheme.tsx","../../src/utils/context/FullContextProvider.tsx","../../src/utils/APIConstants.ts","../../src/utils/functions/dispatchDownloadListChangeEvent.ts","../../src/utils/functions/calculateFriendlyFileSize.ts","../../src/synapse-client/SynapseClientUtils.ts","../../src/synapse-client/HttpClient.ts","../../src/synapse-client/SynapseClient.ts"],"sourcesContent":["(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies, options) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies, options);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as cookie from 'cookie';\r\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies, options) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies, options);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function (parseOptions) {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie, parseOptions);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = __assign(__assign({}, options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\r\n        this.cookies = __assign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\n\n// prepend: true moves MUI styles to the top of the <head> so they're loaded first.\n// It allows developers to easily override MUI styles with other styling solutions, like CSS modules.\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nlet cache;\nif (typeof document === 'object') {\n  cache = createCache({\n    key: 'css',\n    prepend: true\n  });\n}\nexport default function StyledEngineProvider(props) {\n  const {\n    injectFirst,\n    children\n  } = props;\n  return injectFirst && cache ? /*#__PURE__*/_jsx(CacheProvider, {\n    value: cache,\n    children: children\n  }) : children;\n}\nprocess.env.NODE_ENV !== \"production\" ? StyledEngineProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override MUI's styles, set this prop.\n   */\n  injectFirst: PropTypes.bool\n} : void 0;","import * as React from 'react';\nconst ThemeContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'ThemeContext';\n}\nexport default ThemeContext;","import * as React from 'react';\nimport ThemeContext from './ThemeContext';\nexport default function useTheme() {\n  const theme = React.useContext(ThemeContext);\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n  return theme;\n}","const hasSymbol = typeof Symbol === 'function' && Symbol.for;\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@mui/utils';\nimport ThemeContext from '../useTheme/ThemeContext';\nimport useTheme from '../useTheme';\nimport nested from './nested';\n\n// To support composition of theme.\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction mergeOuterLocalTheme(outerTheme, localTheme) {\n  if (typeof localTheme === 'function') {\n    const mergedTheme = localTheme(outerTheme);\n    if (process.env.NODE_ENV !== 'production') {\n      if (!mergedTheme) {\n        console.error(['MUI: You should return an object from your theme function, i.e.', '<ThemeProvider theme={() => ({})} />'].join('\\n'));\n      }\n    }\n    return mergedTheme;\n  }\n  return _extends({}, outerTheme, localTheme);\n}\n\n/**\n * This component takes a `theme` prop.\n * It makes the `theme` available down the React tree thanks to React context.\n * This component should preferably be used at **the root of your component tree**.\n */\nfunction ThemeProvider(props) {\n  const {\n    children,\n    theme: localTheme\n  } = props;\n  const outerTheme = useTheme();\n  if (process.env.NODE_ENV !== 'production') {\n    if (outerTheme === null && typeof localTheme === 'function') {\n      console.error(['MUI: You are providing a theme function prop to the ThemeProvider component:', '<ThemeProvider theme={outerTheme => outerTheme} />', '', 'However, no outer theme is present.', 'Make sure a theme is already injected higher in the React tree ' + 'or provide a theme object.'].join('\\n'));\n    }\n  }\n  const theme = React.useMemo(() => {\n    const output = outerTheme === null ? localTheme : mergeOuterLocalTheme(outerTheme, localTheme);\n    if (output != null) {\n      output[nested] = outerTheme !== null;\n    }\n    return output;\n  }, [localTheme, outerTheme]);\n  return /*#__PURE__*/_jsx(ThemeContext.Provider, {\n    value: theme,\n    children: children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\nexport default ThemeProvider;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider as MuiThemeProvider, useTheme as usePrivateTheme } from '@mui/private-theming';\nimport { exactProp } from '@mui/utils';\nimport { ThemeContext as StyledEngineThemeContext } from '@mui/styled-engine';\nimport useThemeWithoutDefault from '../useThemeWithoutDefault';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst EMPTY_THEME = {};\nfunction useThemeScoping(themeId, upperTheme, localTheme, isPrivate = false) {\n  return React.useMemo(() => {\n    const resolvedTheme = themeId ? upperTheme[themeId] || upperTheme : upperTheme;\n    if (typeof localTheme === 'function') {\n      const mergedTheme = localTheme(resolvedTheme);\n      const result = themeId ? _extends({}, upperTheme, {\n        [themeId]: mergedTheme\n      }) : mergedTheme;\n      // must return a function for the private theme to NOT merge with the upper theme.\n      // see the test case \"use provided theme from a callback\" in ThemeProvider.test.js\n      if (isPrivate) {\n        return () => result;\n      }\n      return result;\n    }\n    return themeId ? _extends({}, upperTheme, {\n      [themeId]: localTheme\n    }) : _extends({}, upperTheme, localTheme);\n  }, [themeId, upperTheme, localTheme, isPrivate]);\n}\n\n/**\n * This component makes the `theme` available down the React tree.\n * It should preferably be used at **the root of your component tree**.\n *\n * <ThemeProvider theme={theme}> // existing use case\n * <ThemeProvider theme={{ id: theme }}> // theme scoping\n */\nfunction ThemeProvider(props) {\n  const {\n    children,\n    theme: localTheme,\n    themeId\n  } = props;\n  const upperTheme = useThemeWithoutDefault(EMPTY_THEME);\n  const upperPrivateTheme = usePrivateTheme() || EMPTY_THEME;\n  if (process.env.NODE_ENV !== 'production') {\n    if (upperTheme === null && typeof localTheme === 'function' || themeId && upperTheme && !upperTheme[themeId] && typeof localTheme === 'function') {\n      console.error(['MUI: You are providing a theme function prop to the ThemeProvider component:', '<ThemeProvider theme={outerTheme => outerTheme} />', '', 'However, no outer theme is present.', 'Make sure a theme is already injected higher in the React tree ' + 'or provide a theme object.'].join('\\n'));\n    }\n  }\n  const engineTheme = useThemeScoping(themeId, upperTheme, localTheme);\n  const privateTheme = useThemeScoping(themeId, upperPrivateTheme, localTheme, true);\n  return /*#__PURE__*/_jsx(MuiThemeProvider, {\n    theme: privateTheme,\n    children: /*#__PURE__*/_jsx(StyledEngineThemeContext.Provider, {\n      value: engineTheme,\n      children: children\n    })\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  /**\n   * The design system's unique id for getting the corresponded theme when there are multiple design systems.\n   */\n  themeId: PropTypes.string\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\nexport default ThemeProvider;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"theme\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider as SystemThemeProvider } from '@mui/system';\nimport THEME_ID from './identifier';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function ThemeProvider(_ref) {\n  let {\n      theme: themeInput\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const scopedTheme = themeInput[THEME_ID];\n  return /*#__PURE__*/_jsx(SystemThemeProvider, _extends({}, props, {\n    themeId: scopedTheme ? THEME_ID : undefined,\n    theme: scopedTheme || themeInput\n  }));\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired\n} : void 0;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCollapseUtilityClass(slot) {\n  return generateUtilityClass('MuiCollapse', slot);\n}\nconst collapseClasses = generateUtilityClasses('MuiCollapse', ['root', 'horizontal', 'vertical', 'entered', 'hidden', 'wrapper', 'wrapperInner']);\nexport default collapseClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"addEndListener\", \"children\", \"className\", \"collapsedSize\", \"component\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"orientation\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nimport { getCollapseUtilityClass } from './collapseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${orientation}`],\n    entered: ['entered'],\n    hidden: ['hidden'],\n    wrapper: ['wrapper', `${orientation}`],\n    wrapperInner: ['wrapperInner', `${orientation}`]\n  };\n  return composeClasses(slots, getCollapseUtilityClass, classes);\n};\nconst CollapseRoot = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.state === 'entered' && styles.entered, ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: 0,\n  overflow: 'hidden',\n  transition: theme.transitions.create('height')\n}, ownerState.orientation === 'horizontal' && {\n  height: 'auto',\n  width: 0,\n  transition: theme.transitions.create('width')\n}, ownerState.state === 'entered' && _extends({\n  height: 'auto',\n  overflow: 'visible'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto'\n}), ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && {\n  visibility: 'hidden'\n}));\nconst CollapseWrapper = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => styles.wrapper\n})(({\n  ownerState\n}) => _extends({\n  // Hack to get children with a negative margin to not falsify the height computation.\n  display: 'flex',\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\nconst CollapseWrapperInner = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'WrapperInner',\n  overridesResolver: (props, styles) => styles.wrapperInner\n})(({\n  ownerState\n}) => _extends({\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\n\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/material-ui/react-stepper/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\nconst Collapse = /*#__PURE__*/React.forwardRef(function Collapse(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCollapse'\n  });\n  const {\n      addEndListener,\n      children,\n      className,\n      collapsedSize: collapsedSizeProp = '0px',\n      component,\n      easing,\n      in: inProp,\n      onEnter,\n      onEntered,\n      onEntering,\n      onExit,\n      onExited,\n      onExiting,\n      orientation = 'vertical',\n      style,\n      timeout = duration.standard,\n      // eslint-disable-next-line react/prop-types\n      TransitionComponent = Transition\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    orientation,\n    collapsedSize: collapsedSizeProp\n  });\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const timer = React.useRef();\n  const wrapperRef = React.useRef(null);\n  const autoTransitionDuration = React.useRef();\n  const collapsedSize = typeof collapsedSizeProp === 'number' ? `${collapsedSizeProp}px` : collapsedSizeProp;\n  const isHorizontal = orientation === 'horizontal';\n  const size = isHorizontal ? 'width' : 'height';\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(ref, nodeRef);\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current;\n\n      // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? 'clientWidth' : 'clientHeight'] : 0;\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    if (wrapperRef.current && isHorizontal) {\n      // Set absolute position to get the size of collapsed content\n      wrapperRef.current.style.position = 'absolute';\n    }\n    node.style[size] = collapsedSize;\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const wrapperSize = getWrapperSize();\n    if (wrapperRef.current && isHorizontal) {\n      // After the size is read reset the position back to default\n      wrapperRef.current.style.position = '';\n    }\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n    if (timeout === 'auto') {\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n    node.style[size] = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback((node, isAppearing) => {\n    node.style[size] = 'auto';\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  const handleExit = normalizedTransitionCallback(node => {\n    node.style[size] = `${getWrapperSize()}px`;\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleExiting = normalizedTransitionCallback(node => {\n    const wrapperSize = getWrapperSize();\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n    if (timeout === 'auto') {\n      // TODO: rename getAutoHeightDuration to something more generic (width support)\n      // Actually it just calculates animation duration based on size\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n    node.style[size] = collapsedSize;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n  const handleAddEndListener = next => {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other, {\n    children: (state, childProps) => /*#__PURE__*/_jsx(CollapseRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedSize === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        [isHorizontal ? 'minWidth' : 'minHeight']: collapsedSize\n      }, style),\n      ownerState: _extends({}, ownerState, {\n        state\n      }),\n      ref: handleRef\n    }, childProps, {\n      children: /*#__PURE__*/_jsx(CollapseWrapper, {\n        ownerState: _extends({}, ownerState, {\n          state\n        }),\n        className: classes.wrapper,\n        ref: wrapperRef,\n        children: /*#__PURE__*/_jsx(CollapseWrapperInner, {\n          ownerState: _extends({}, ownerState, {\n            state\n          }),\n          className: classes.wrapperInner,\n          children: children\n        })\n      })\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The width (horizontal) or height (vertical) of the container when collapsed.\n   * @default '0px'\n   */\n  collapsedSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n  /**\n   * The transition orientation.\n   * @default 'vertical'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   * @default duration.standard\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default Collapse;","import {\n  BackendDestinationEnum,\n  PRODUCTION_ENDPOINT_CONFIG,\n} from '../functions/getEndpoint'\nimport { LoginResponse } from '@sage-bionetworks/synapse-types'\nimport { SynapseClientError } from '../SynapseClientError'\nimport {\n  bindOAuthProviderToAccount,\n  getRootURL,\n  oAuthRegisterAccountStep2,\n  oAuthSessionRequest,\n  setAccessTokenCookie,\n} from '../../synapse-client/SynapseClient'\nimport { useEffect, useState } from 'react'\nimport { TwoFactorAuthErrorResponse } from '@sage-bionetworks/synapse-types'\n\nimport { OAUTH2_PROVIDERS } from '../SynapseConstants'\n\nexport type UseDetectSSOCodeReturnType = {\n  /* true iff SSO login has occurred and the completion of the OAuth flow in Synapse is pending */\n  isLoading: boolean\n}\n\nexport type UseDetectSSOCodeOptions = {\n  onSignInComplete?: () => void\n  registerAccountUrl?: string\n  onError?: (err: unknown) => void\n  onTwoFactorAuthRequired?: (resp: TwoFactorAuthErrorResponse) => void\n}\n\n/*\n * During SSO login, the authorization provider (Google) will send the user back to the portal with an authorization code,\n * which can be exchanged for a Synapse user session. This function should be called whenever the root App is initialized\n * (to look for this code parameter and complete the round-trip). If state is included, then we assume that this is being\n * used for account creation, where we pass the username through the process.\n */\nexport default function useDetectSSOCode(\n  opts: UseDetectSSOCodeOptions = {},\n): UseDetectSSOCodeReturnType {\n  const {\n    onSignInComplete,\n    registerAccountUrl = `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!RegisterAccount:0`,\n    onError,\n    onTwoFactorAuthRequired,\n  } = opts\n\n  const redirectURL = getRootURL()\n  // 'code' handling (from SSO) should be preformed on the root page, and then redirect to original route.\n  const fullUrl: URL = new URL(window.location.href)\n  // in test environment the searchParams isn't defined\n  const { searchParams } = fullUrl\n  const code = searchParams?.get('code')\n  const provider = searchParams?.get('provider')\n  // state is used during OAuth based Synapse account creation (it's the username)\n  const state = searchParams?.get('state')\n\n  const [isLoading, setIsLoading] = useState(!!(code && provider))\n\n  useEffect(() => {\n    if (code && provider) {\n      const redirectUrl = `${redirectURL}?provider=${provider}`\n\n      if (OAUTH2_PROVIDERS.GOOGLE == provider) {\n        const onSuccess = (\n          response: LoginResponse | TwoFactorAuthErrorResponse,\n        ) => {\n          if ('accessToken' in response) {\n            setAccessTokenCookie(response.accessToken).then(onSignInComplete)\n          } else {\n            // The app will redirect or open a modal to handle 2FA\n            if (onTwoFactorAuthRequired) {\n              onTwoFactorAuthRequired(response)\n            }\n          }\n        }\n        const onFailure = (err: SynapseClientError) => {\n          if (err.status === 404) {\n            // Synapse account not found, send to registration page\n            window.location.replace(registerAccountUrl)\n          }\n          console.error('Error with Google account association: ', err)\n          if (onError) {\n            onError(err.reason)\n          }\n        }\n\n        if (state) {\n          oAuthRegisterAccountStep2(\n            state,\n            provider,\n            code,\n            redirectUrl,\n            BackendDestinationEnum.REPO_ENDPOINT,\n          )\n            .then(onSuccess)\n            .catch(onFailure)\n            .finally(() => setIsLoading(false))\n        } else {\n          oAuthSessionRequest(\n            provider,\n            code,\n            redirectUrl,\n            BackendDestinationEnum.REPO_ENDPOINT,\n          )\n            .then(onSuccess)\n            .catch(onFailure)\n            .finally(() => setIsLoading(false))\n        }\n      } else if (OAUTH2_PROVIDERS.ORCID == provider) {\n        // now bind this to the user account\n        const onFailure = (err: SynapseClientError) => {\n          console.error('Error binding ORCiD to account: ', err)\n          if (onError) {\n            onError(err.reason)\n          }\n        }\n        bindOAuthProviderToAccount(\n          provider,\n          code,\n          redirectUrl,\n          BackendDestinationEnum.REPO_ENDPOINT,\n        )\n          .then(onSignInComplete)\n          .catch(onFailure)\n          .finally(() => setIsLoading(false))\n      } else {\n        console.warn('Unknown SSO Provider: ', provider)\n        setIsLoading(false)\n      }\n    }\n    // Intentionally have an empty dep array -- this should only run once per mount since it's checking for params that come from a redirect\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return { isLoading }\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import baseKeys from './_baseKeys.js';\nimport getTag from './_getTag.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLike from './isArrayLike.js';\nimport isBuffer from './isBuffer.js';\nimport isPrototype from './_isPrototype.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default isEmpty;\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport * as React from 'react';\n\nvar changedArray = function changedArray(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length !== b.length || a.some(function (item, index) {\n    return !Object.is(item, b[index]);\n  });\n};\n\nvar initialState = {\n  error: null\n};\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = initialState;\n\n    _this.resetErrorBoundary = function () {\n      var _this$props;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n      _this.reset();\n    };\n\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.reset = function reset() {\n    this.setState(initialState);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var error = this.state.error;\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onResetKe, _this$props3;\n\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n      this.reset();\n    }\n  };\n\n  _proto.render = function render() {\n    var error = this.state.error;\n    var _this$props4 = this.props,\n        fallbackRender = _this$props4.fallbackRender,\n        FallbackComponent = _this$props4.FallbackComponent,\n        fallback = _this$props4.fallback;\n\n    if (error !== null) {\n      var _props = {\n        error: error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\n        return fallback;\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(_props);\n      } else if (FallbackComponent) {\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\n      } else {\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n      }\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nfunction withErrorBoundary(Component, errorBoundaryProps) {\n  var Wrapped = function Wrapped(props) {\n    return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n  }; // Format for display in DevTools\n\n\n  var name = Component.displayName || Component.name || 'Unknown';\n  Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n  return Wrapped;\n}\n\nfunction useErrorHandler(givenError) {\n  var _React$useState = React.useState(null),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  if (givenError != null) throw givenError;\n  if (error != null) throw error;\n  return setError;\n}\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n\nexport { ErrorBoundary, useErrorHandler, withErrorBoundary };\n","/**\n * Error message returned by the Synapse backend joined with the\n * HTTP status code.\n */\nimport {\n  ErrorResponse,\n  TwoFactorAuthErrorResponse,\n} from '@sage-bionetworks/synapse-types'\n\nimport { SynapseError } from './SynapseError'\n\nexport class SynapseClientError extends Error {\n  public status: number\n  public reason: string\n  public errorResponse?:\n    | SynapseError\n    | ErrorResponse\n    | TwoFactorAuthErrorResponse\n  public url: string\n\n  constructor(\n    status: number,\n    reason: string,\n    url: string,\n    errorResponse?: SynapseError | ErrorResponse | TwoFactorAuthErrorResponse,\n  ) {\n    super(reason)\n    this.status = status\n    this.reason = reason\n    this.url = url\n    this.errorResponse = errorResponse\n    // See https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#support-for-newtarget\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n","export var Subscribable = /*#__PURE__*/function () {\n  function Subscribable() {\n    this.listeners = [];\n  }\n\n  var _proto = Subscribable.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    var callback = listener || function () {\n      return undefined;\n    };\n\n    this.listeners.push(callback);\n    this.onSubscribe();\n    return function () {\n      _this.listeners = _this.listeners.filter(function (x) {\n        return x !== callback;\n      });\n\n      _this.onUnsubscribe();\n    };\n  };\n\n  _proto.hasListeners = function hasListeners() {\n    return this.listeners.length > 0;\n  };\n\n  _proto.onSubscribe = function onSubscribe() {// Do nothing\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {// Do nothing\n  };\n\n  return Subscribable;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// TYPES\n// UTILS\nexport var isServer = typeof window === 'undefined';\nexport function noop() {\n  return undefined;\n}\nexport function functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nexport function isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nexport function ensureQueryKeyArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nexport function difference(array1, array2) {\n  return array1.filter(function (x) {\n    return array2.indexOf(x) === -1;\n  });\n}\nexport function replaceAt(array, index, value) {\n  var copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nexport function timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nexport function parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return _extends({}, arg3, {\n      queryKey: arg1,\n      queryFn: arg2\n    });\n  }\n\n  return _extends({}, arg2, {\n    queryKey: arg1\n  });\n}\nexport function parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return _extends({}, arg3, {\n        mutationKey: arg1,\n        mutationFn: arg2\n      });\n    }\n\n    return _extends({}, arg2, {\n      mutationKey: arg1\n    });\n  }\n\n  if (typeof arg1 === 'function') {\n    return _extends({}, arg2, {\n      mutationFn: arg1\n    });\n  }\n\n  return _extends({}, arg1);\n}\nexport function parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [_extends({}, arg2, {\n    queryKey: arg1\n  }), arg3] : [arg1 || {}, arg2];\n}\nexport function parseMutationFilterArgs(arg1, arg2) {\n  return isQueryKey(arg1) ? _extends({}, arg2, {\n    mutationKey: arg1\n  }) : arg1;\n}\nexport function mapQueryStatusFilter(active, inactive) {\n  if (active === true && inactive === true || active == null && inactive == null) {\n    return 'all';\n  } else if (active === false && inactive === false) {\n    return 'none';\n  } else {\n    // At this point, active|inactive can only be true|false or false|true\n    // so, when only one value is provided, the missing one has to be the negated value\n    var isActive = active != null ? active : !inactive;\n    return isActive ? 'active' : 'inactive';\n  }\n}\nexport function matchQuery(filters, query) {\n  var active = filters.active,\n      exact = filters.exact,\n      fetching = filters.fetching,\n      inactive = filters.inactive,\n      predicate = filters.predicate,\n      queryKey = filters.queryKey,\n      stale = filters.stale;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  var queryStatusFilter = mapQueryStatusFilter(active, inactive);\n\n  if (queryStatusFilter === 'none') {\n    return false;\n  } else if (queryStatusFilter !== 'all') {\n    var isActive = query.isActive();\n\n    if (queryStatusFilter === 'active' && !isActive) {\n      return false;\n    }\n\n    if (queryStatusFilter === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetching === 'boolean' && query.isFetching() !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nexport function matchMutation(filters, mutation) {\n  var exact = filters.exact,\n      fetching = filters.fetching,\n      predicate = filters.predicate,\n      mutationKey = filters.mutationKey;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nexport function hashQueryKeyByOptions(queryKey, options) {\n  var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n */\n\nexport function hashQueryKey(queryKey) {\n  var asArray = ensureQueryKeyArray(queryKey);\n  return stableValueHash(asArray);\n}\n/**\n * Hashes the value into a stable hash.\n */\n\nexport function stableValueHash(value) {\n  return JSON.stringify(value, function (_, val) {\n    return isPlainObject(val) ? Object.keys(val).sort().reduce(function (result, key) {\n      result[key] = val[key];\n      return result;\n    }, {}) : val;\n  });\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nexport function partialMatchKey(a, b) {\n  return partialDeepEqual(ensureQueryKeyArray(a), ensureQueryKeyArray(b));\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nexport function partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(function (key) {\n      return !partialDeepEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nexport function replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  var array = Array.isArray(a) && Array.isArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    var aSize = array ? a.length : Object.keys(a).length;\n    var bItems = array ? b : Object.keys(b);\n    var bSize = bItems.length;\n    var copy = array ? [] : {};\n    var equalItems = 0;\n\n    for (var i = 0; i < bSize; i++) {\n      var key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nexport function shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (var key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nexport function isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  var ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  var prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport function isQueryKey(value) {\n  return typeof value === 'string' || Array.isArray(value);\n}\nexport function isError(value) {\n  return value instanceof Error;\n}\nexport function sleep(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nexport function scheduleMicrotask(callback) {\n  Promise.resolve().then(callback).catch(function (error) {\n    return setTimeout(function () {\n      throw error;\n    });\n  });\n}\nexport function getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var FocusManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(FocusManager, _Subscribable);\n\n  function FocusManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onFocus) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onFocus();\n        }; // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = FocusManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (focused) {\n      if (typeof focused === 'boolean') {\n        _this2.setFocused(focused);\n      } else {\n        _this2.onFocus();\n      }\n    });\n  };\n\n  _proto.setFocused = function setFocused(focused) {\n    this.focused = focused;\n\n    if (focused) {\n      this.onFocus();\n    }\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isFocused = function isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  };\n\n  return FocusManager;\n}(Subscribable);\nexport var focusManager = new FocusManager();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var OnlineManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(OnlineManager, _Subscribable);\n\n  function OnlineManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onOnline) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onOnline();\n        }; // Listen to online\n\n\n        window.addEventListener('online', listener, false);\n        window.addEventListener('offline', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', listener);\n          window.removeEventListener('offline', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = OnlineManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (online) {\n      if (typeof online === 'boolean') {\n        _this2.setOnline(online);\n      } else {\n        _this2.onOnline();\n      }\n    });\n  };\n\n  _proto.setOnline = function setOnline(online) {\n    this.online = online;\n\n    if (online) {\n      this.onOnline();\n    }\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isOnline = function isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  };\n\n  return OnlineManager;\n}(Subscribable);\nexport var onlineManager = new OnlineManager();","import { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { sleep } from './utils';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * Math.pow(2, failureCount), 30000);\n}\n\nexport function isCancelable(value) {\n  return typeof (value == null ? void 0 : value.cancel) === 'function';\n}\nexport var CancelledError = function CancelledError(options) {\n  this.revert = options == null ? void 0 : options.revert;\n  this.silent = options == null ? void 0 : options.silent;\n};\nexport function isCancelledError(value) {\n  return value instanceof CancelledError;\n} // CLASS\n\nexport var Retryer = function Retryer(config) {\n  var _this = this;\n\n  var cancelRetry = false;\n  var cancelFn;\n  var continueFn;\n  var promiseResolve;\n  var promiseReject;\n  this.abort = config.abort;\n\n  this.cancel = function (cancelOptions) {\n    return cancelFn == null ? void 0 : cancelFn(cancelOptions);\n  };\n\n  this.cancelRetry = function () {\n    cancelRetry = true;\n  };\n\n  this.continueRetry = function () {\n    cancelRetry = false;\n  };\n\n  this.continue = function () {\n    return continueFn == null ? void 0 : continueFn();\n  };\n\n  this.failureCount = 0;\n  this.isPaused = false;\n  this.isResolved = false;\n  this.isTransportCancelable = false;\n  this.promise = new Promise(function (outerResolve, outerReject) {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  var resolve = function resolve(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  var reject = function reject(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  var pause = function pause() {\n    return new Promise(function (continueResolve) {\n      continueFn = continueResolve;\n      _this.isPaused = true;\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(function () {\n      continueFn = undefined;\n      _this.isPaused = false;\n      config.onContinue == null ? void 0 : config.onContinue();\n    });\n  }; // Create loop function\n\n\n  var run = function run() {\n    // Do nothing if already resolved\n    if (_this.isResolved) {\n      return;\n    }\n\n    var promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    } // Create callback to cancel this fetch\n\n\n    cancelFn = function cancelFn(cancelOptions) {\n      if (!_this.isResolved) {\n        reject(new CancelledError(cancelOptions));\n        _this.abort == null ? void 0 : _this.abort(); // Cancel transport if supported\n\n        if (isCancelable(promiseOrValue)) {\n          try {\n            promiseOrValue.cancel();\n          } catch (_unused) {}\n        }\n      }\n    }; // Check if the transport layer support cancellation\n\n\n    _this.isTransportCancelable = isCancelable(promiseOrValue);\n    Promise.resolve(promiseOrValue).then(resolve).catch(function (error) {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (_this.isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      var retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      var retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      var delay = typeof retryDelay === 'function' ? retryDelay(_this.failureCount, error) : retryDelay;\n      var shouldRetry = retry === true || typeof retry === 'number' && _this.failureCount < retry || typeof retry === 'function' && retry(_this.failureCount, error);\n\n      if (cancelRetry || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      _this.failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(_this.failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(function () {\n        if (!focusManager.isFocused() || !onlineManager.isOnline()) {\n          return pause();\n        }\n      }).then(function () {\n        if (cancelRetry) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  run();\n};","import { scheduleMicrotask } from './utils'; // TYPES\n\n// CLASS\nexport var NotifyManager = /*#__PURE__*/function () {\n  function NotifyManager() {\n    this.queue = [];\n    this.transactions = 0;\n\n    this.notifyFn = function (callback) {\n      callback();\n    };\n\n    this.batchNotifyFn = function (callback) {\n      callback();\n    };\n  }\n\n  var _proto = NotifyManager.prototype;\n\n  _proto.batch = function batch(callback) {\n    var result;\n    this.transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      this.transactions--;\n\n      if (!this.transactions) {\n        this.flush();\n      }\n    }\n\n    return result;\n  };\n\n  _proto.schedule = function schedule(callback) {\n    var _this = this;\n\n    if (this.transactions) {\n      this.queue.push(callback);\n    } else {\n      scheduleMicrotask(function () {\n        _this.notifyFn(callback);\n      });\n    }\n  }\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  ;\n\n  _proto.batchCalls = function batchCalls(callback) {\n    var _this2 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2.schedule(function () {\n        callback.apply(void 0, args);\n      });\n    };\n  };\n\n  _proto.flush = function flush() {\n    var _this3 = this;\n\n    var queue = this.queue;\n    this.queue = [];\n\n    if (queue.length) {\n      scheduleMicrotask(function () {\n        _this3.batchNotifyFn(function () {\n          queue.forEach(function (callback) {\n            _this3.notifyFn(callback);\n          });\n        });\n      });\n    }\n  }\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  ;\n\n  _proto.setNotifyFunction = function setNotifyFunction(fn) {\n    this.notifyFn = fn;\n  }\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  ;\n\n  _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn) {\n    this.batchNotifyFn = fn;\n  };\n\n  return NotifyManager;\n}(); // SINGLETON\n\nexport var notifyManager = new NotifyManager();","// TYPES\n// FUNCTIONS\nvar logger = console;\nexport function getLogger() {\n  return logger;\n}\nexport function setLogger(newLogger) {\n  logger = newLogger;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { getLogger } from './logger';\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\n\n// CLASS\nexport var Query = /*#__PURE__*/function () {\n  function Query(config) {\n    this.abortSignalConsumed = false;\n    this.hadObservers = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || this.getDefaultState(this.options);\n    this.state = this.initialState;\n    this.meta = config.meta;\n    this.scheduleGc();\n  }\n\n  var _proto = Query.prototype;\n\n  _proto.setOptions = function setOptions(options) {\n    var _this$options$cacheTi;\n\n    this.options = _extends({}, this.defaultOptions, options);\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\n\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.scheduleGc = function scheduleGc() {\n    var _this = this;\n\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(function () {\n        _this.optionalRemove();\n      }, this.cacheTime);\n    }\n  };\n\n  _proto.clearGcTimeout = function clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout);\n      this.gcTimeout = undefined;\n    }\n  };\n\n  _proto.optionalRemove = function optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.isFetching) {\n        if (this.hadObservers) {\n          this.scheduleGc();\n        }\n      } else {\n        this.cache.remove(this);\n      }\n    }\n  };\n\n  _proto.setData = function setData(updater, options) {\n    var _this$options$isDataE, _this$options;\n\n    var prevData = this.state.data; // Get the new data\n\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\n\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\n      data = prevData;\n    } else if (this.options.structuralSharing !== false) {\n      // Structurally share data between prev and new data if needed\n      data = replaceEqualDeep(prevData, data);\n    } // Set data and mark it as cached\n\n\n    this.dispatch({\n      data: data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\n    });\n    return data;\n  };\n\n  _proto.setState = function setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state: state,\n      setStateOptions: setStateOptions\n    });\n  };\n\n  _proto.cancel = function cancel(options) {\n    var _this$retryer;\n\n    var promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  };\n\n  _proto.destroy = function destroy() {\n    this.clearGcTimeout();\n    this.cancel({\n      silent: true\n    });\n  };\n\n  _proto.reset = function reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  };\n\n  _proto.isActive = function isActive() {\n    return this.observers.some(function (observer) {\n      return observer.options.enabled !== false;\n    });\n  };\n\n  _proto.isFetching = function isFetching() {\n    return this.state.isFetching;\n  };\n\n  _proto.isStale = function isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\n      return observer.getCurrentResult().isStale;\n    });\n  };\n\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\n    if (staleTime === void 0) {\n      staleTime = 0;\n    }\n\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this$retryer2;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnWindowFocus();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this$retryer3;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnReconnect();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n      this.hadObservers = true; // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    if (this.observers.indexOf(observer) !== -1) {\n      this.observers = this.observers.filter(function (x) {\n        return x !== observer;\n      });\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        if (this.cacheTime) {\n          this.scheduleGc();\n        } else {\n          this.cache.remove(this);\n        }\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.getObserversCount = function getObserversCount() {\n    return this.observers.length;\n  };\n\n  _proto.invalidate = function invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  };\n\n  _proto.fetch = function fetch(options, fetchOptions) {\n    var _this2 = this,\n        _this$options$behavio,\n        _context$fetchOptions,\n        _abortController$abor;\n\n    if (this.state.isFetching) {\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      var observer = this.observers.find(function (x) {\n        return x.options.queryFn;\n      });\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    var queryKey = ensureQueryKeyArray(this.queryKey);\n    var abortController = getAbortController(); // Create query function context\n\n    var queryFnContext = {\n      queryKey: queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    };\n    Object.defineProperty(queryFnContext, 'signal', {\n      enumerable: true,\n      get: function get() {\n        if (abortController) {\n          _this2.abortSignalConsumed = true;\n          return abortController.signal;\n        }\n\n        return undefined;\n      }\n    }); // Create fetch function\n\n    var fetchFn = function fetchFn() {\n      if (!_this2.options.queryFn) {\n        return Promise.reject('Missing queryFn');\n      }\n\n      _this2.abortSignalConsumed = false;\n      return _this2.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    var context = {\n      fetchOptions: fetchOptions,\n      options: this.options,\n      queryKey: queryKey,\n      state: this.state,\n      fetchFn: fetchFn,\n      meta: this.meta\n    };\n\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\n      var _this$options$behavio2;\n\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\n    } // Store state in case the current fetch needs to be reverted\n\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    } // Try to fetch the data\n\n\n    this.retryer = new Retryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\n      onSuccess: function onSuccess(data) {\n        _this2.setData(data); // Notify cache callback\n\n\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onError: function onError(error) {\n        // Optimistically update state if needed\n        if (!(isCancelledError(error) && error.silent)) {\n          _this2.dispatch({\n            type: 'error',\n            error: error\n          });\n        }\n\n        if (!isCancelledError(error)) {\n          // Notify cache callback\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\n\n          getLogger().error(error);\n        } // Remove query after fetching if cache time is 0\n\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = this.reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onQueryUpdate(action);\n      });\n\n      _this3.cache.notify({\n        query: _this3,\n        type: 'queryUpdated',\n        action: action\n      });\n    });\n  };\n\n  _proto.getDefaultState = function getDefaultState(options) {\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n    var hasInitialData = typeof options.initialData !== 'undefined';\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n    var hasData = typeof data !== 'undefined';\n    return {\n      data: data,\n      dataUpdateCount: 0,\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n      error: null,\n      errorUpdateCount: 0,\n      errorUpdatedAt: 0,\n      fetchFailureCount: 0,\n      fetchMeta: null,\n      isFetching: false,\n      isInvalidated: false,\n      isPaused: false,\n      status: hasData ? 'success' : 'idle'\n    };\n  };\n\n  _proto.reducer = function reducer(state, action) {\n    var _action$meta, _action$dataUpdatedAt;\n\n    switch (action.type) {\n      case 'failed':\n        return _extends({}, state, {\n          fetchFailureCount: state.fetchFailureCount + 1\n        });\n\n      case 'pause':\n        return _extends({}, state, {\n          isPaused: true\n        });\n\n      case 'continue':\n        return _extends({}, state, {\n          isPaused: false\n        });\n\n      case 'fetch':\n        return _extends({}, state, {\n          fetchFailureCount: 0,\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n          isFetching: true,\n          isPaused: false\n        }, !state.dataUpdatedAt && {\n          error: null,\n          status: 'loading'\n        });\n\n      case 'success':\n        return _extends({}, state, {\n          data: action.data,\n          dataUpdateCount: state.dataUpdateCount + 1,\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n          error: null,\n          fetchFailureCount: 0,\n          isFetching: false,\n          isInvalidated: false,\n          isPaused: false,\n          status: 'success'\n        });\n\n      case 'error':\n        var error = action.error;\n\n        if (isCancelledError(error) && error.revert && this.revertState) {\n          return _extends({}, this.revertState);\n        }\n\n        return _extends({}, state, {\n          error: error,\n          errorUpdateCount: state.errorUpdateCount + 1,\n          errorUpdatedAt: Date.now(),\n          fetchFailureCount: state.fetchFailureCount + 1,\n          isFetching: false,\n          isPaused: false,\n          status: 'error'\n        });\n\n      case 'invalidate':\n        return _extends({}, state, {\n          isInvalidated: true\n        });\n\n      case 'setState':\n        return _extends({}, state, action.state);\n\n      default:\n        return state;\n    }\n  };\n\n  return Query;\n}();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\nimport { Query } from './query';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryCache, _Subscribable);\n\n  function QueryCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.queries = [];\n    _this.queriesMap = {};\n    return _this;\n  }\n\n  var _proto = QueryCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var _options$queryHash;\n\n    var queryKey = options.queryKey;\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    var query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey: queryKey,\n        queryHash: queryHash,\n        options: client.defaultQueryOptions(options),\n        state: state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n        meta: options.meta\n      });\n      this.add(query);\n    }\n\n    return query;\n  };\n\n  _proto.add = function add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'queryAdded',\n        query: query\n      });\n    }\n  };\n\n  _proto.remove = function remove(query) {\n    var queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(function (x) {\n        return x !== query;\n      });\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'queryRemoved',\n        query: query\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.queries.forEach(function (query) {\n        _this2.remove(query);\n      });\n    });\n  };\n\n  _proto.get = function get(queryHash) {\n    return this.queriesMap[queryHash];\n  };\n\n  _proto.getAll = function getAll() {\n    return this.queries;\n  };\n\n  _proto.find = function find(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(function (query) {\n      return matchQuery(filters, query);\n    });\n  };\n\n  _proto.findAll = function findAll(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    return Object.keys(filters).length > 0 ? this.queries.filter(function (query) {\n      return matchQuery(filters, query);\n    }) : this.queries;\n  };\n\n  _proto.notify = function notify(event) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(event);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this4 = this;\n\n    notifyManager.batch(function () {\n      _this4.queries.forEach(function (query) {\n        query.onFocus();\n      });\n    });\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this5 = this;\n\n    notifyManager.batch(function () {\n      _this5.queries.forEach(function (query) {\n        query.onOnline();\n      });\n    });\n  };\n\n  return QueryCache;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { notifyManager } from './notifyManager';\nimport { Mutation } from './mutation';\nimport { matchMutation, noop } from './utils';\nimport { Subscribable } from './subscribable'; // TYPES\n\n// CLASS\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationCache, _Subscribable);\n\n  function MutationCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.mutations = [];\n    _this.mutationId = 0;\n    return _this;\n  }\n\n  var _proto = MutationCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state: state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined,\n      meta: options.meta\n    });\n    this.add(mutation);\n    return mutation;\n  };\n\n  _proto.add = function add(mutation) {\n    this.mutations.push(mutation);\n    this.notify(mutation);\n  };\n\n  _proto.remove = function remove(mutation) {\n    this.mutations = this.mutations.filter(function (x) {\n      return x !== mutation;\n    });\n    mutation.cancel();\n    this.notify(mutation);\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.mutations.forEach(function (mutation) {\n        _this2.remove(mutation);\n      });\n    });\n  };\n\n  _proto.getAll = function getAll() {\n    return this.mutations;\n  };\n\n  _proto.find = function find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.findAll = function findAll(filters) {\n    return this.mutations.filter(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.notify = function notify(mutation) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(mutation);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.resumePausedMutations();\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.resumePausedMutations();\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    var pausedMutations = this.mutations.filter(function (x) {\n      return x.state.isPaused;\n    });\n    return notifyManager.batch(function () {\n      return pausedMutations.reduce(function (promise, mutation) {\n        return promise.then(function () {\n          return mutation.continue().catch(noop);\n        });\n      }, Promise.resolve());\n    });\n  };\n\n  return MutationCache;\n}(Subscribable);","import { isCancelable } from './retryer';\nimport { getAbortController } from './utils';\nexport function infiniteQueryBehavior() {\n  return {\n    onFetch: function onFetch(context) {\n      context.fetchFn = function () {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        var abortController = getAbortController();\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\n        var newPageParams = oldPageParams;\n        var cancelled = false; // Get query function\n\n        var queryFn = context.options.queryFn || function () {\n          return Promise.reject('Missing queryFn');\n        };\n\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\n        }; // Create function to fetch a page\n\n\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          var queryFnContext = {\n            queryKey: context.queryKey,\n            signal: abortSignal,\n            pageParam: param,\n            meta: context.meta\n          };\n          var queryFnResult = queryFn(queryFnContext);\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\n            return buildNewPages(pages, param, page, previous);\n          });\n\n          if (isCancelable(queryFnResult)) {\n            var promiseAsAny = promise;\n            promiseAsAny.cancel = queryFnResult.cancel;\n          }\n\n          return promise;\n        };\n\n        var promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n            var manual = typeof pageParam !== 'undefined';\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n            promise = fetchPage(oldPages, manual, param);\n          } // Fetch previous page?\n          else if (isFetchingPreviousPage) {\n              var _manual = typeof pageParam !== 'undefined';\n\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n\n              promise = fetchPage(oldPages, _manual, _param, true);\n            } // Refetch pages\n            else {\n                (function () {\n                  newPageParams = [];\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n                  var _loop = function _loop(i) {\n                    promise = promise.then(function (pages) {\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n                      if (shouldFetchNextPage) {\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n\n                        return fetchPage(pages, manual, _param2);\n                      }\n\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n                    });\n                  };\n\n                  for (var i = 1; i < oldPages.length; i++) {\n                    _loop(i);\n                  }\n                })();\n              }\n\n        var finalPromise = promise.then(function (pages) {\n          return {\n            pages: pages,\n            pageParams: newPageParams\n          };\n        });\n        var finalPromiseAsAny = finalPromise;\n\n        finalPromiseAsAny.cancel = function () {\n          cancelled = true;\n          abortController == null ? void 0 : abortController.abort();\n\n          if (isCancelable(promise)) {\n            promise.cancel();\n          }\n        };\n\n        return finalPromise;\n      };\n    }\n  };\n}\nexport function getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nexport function getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    var nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    var previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n      var queryKey = _ref.queryKey,\n          state = _ref.state;\n      var data = state.data;\n      return [queryKey, data];\n    });\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\n        var queryKey = _ref2.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _ref3,\n        _filters$refetchActiv,\n        _filters$refetchInact,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch(undefined, _extends({}, options, {\n          meta: {\n            refetchPage: filters == null ? void 0 : filters.refetchPage\n          }\n        }));\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { isServer, isValidTimeout, noop, replaceEqualDeep, shallowEqualObjects, timeUntilStale } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { focusManager } from './focusManager';\nimport { Subscribable } from './subscribable';\nimport { getLogger } from './logger';\nimport { isCancelledError } from './retryer';\nexport var QueryObserver = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryObserver, _Subscribable);\n\n  function QueryObserver(client, options) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.client = client;\n    _this.options = options;\n    _this.trackedProps = [];\n    _this.selectError = null;\n\n    _this.bindMethods();\n\n    _this.setOptions(options);\n\n    return _this;\n  }\n\n  var _proto = QueryObserver.prototype;\n\n  _proto.bindMethods = function bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  };\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (this.listeners.length === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.listeners.length) {\n      this.destroy();\n    }\n  };\n\n  _proto.shouldFetchOnReconnect = function shouldFetchOnReconnect() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\n  };\n\n  _proto.shouldFetchOnWindowFocus = function shouldFetchOnWindowFocus() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\n  };\n\n  _proto.destroy = function destroy() {\n    this.listeners = [];\n    this.clearTimers();\n    this.currentQuery.removeObserver(this);\n  };\n\n  _proto.setOptions = function setOptions(options, notifyOptions) {\n    var prevOptions = this.options;\n    var prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryObserverOptions(options);\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    var mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    var nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  };\n\n  _proto.getOptimisticResult = function getOptimisticResult(options) {\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return this.createResult(query, defaultedOptions);\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  };\n\n  _proto.trackResult = function trackResult(result, defaultedOptions) {\n    var _this2 = this;\n\n    var trackedResult = {};\n\n    var trackProp = function trackProp(key) {\n      if (!_this2.trackedProps.includes(key)) {\n        _this2.trackedProps.push(key);\n      }\n    };\n\n    Object.keys(result).forEach(function (key) {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: function get() {\n          trackProp(key);\n          return result[key];\n        }\n      });\n    });\n\n    if (defaultedOptions.useErrorBoundary || defaultedOptions.suspense) {\n      trackProp('error');\n    }\n\n    return trackedResult;\n  };\n\n  _proto.getNextResult = function getNextResult(options) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      var unsubscribe = _this3.subscribe(function (result) {\n        if (!result.isFetching) {\n          unsubscribe();\n\n          if (result.isError && (options == null ? void 0 : options.throwOnError)) {\n            reject(result.error);\n          } else {\n            resolve(result);\n          }\n        }\n      });\n    });\n  };\n\n  _proto.getCurrentQuery = function getCurrentQuery() {\n    return this.currentQuery;\n  };\n\n  _proto.remove = function remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  };\n\n  _proto.refetch = function refetch(options) {\n    return this.fetch(_extends({}, options, {\n      meta: {\n        refetchPage: options == null ? void 0 : options.refetchPage\n      }\n    }));\n  };\n\n  _proto.fetchOptimistic = function fetchOptimistic(options) {\n    var _this4 = this;\n\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return query.fetch().then(function () {\n      return _this4.createResult(query, defaultedOptions);\n    });\n  };\n\n  _proto.fetch = function fetch(fetchOptions) {\n    var _this5 = this;\n\n    return this.executeFetch(fetchOptions).then(function () {\n      _this5.updateResult();\n\n      return _this5.currentResult;\n    });\n  };\n\n  _proto.executeFetch = function executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    var promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions == null ? void 0 : fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\n    var _this6 = this;\n\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    var time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    var timeout = time + 1;\n    this.staleTimeoutId = setTimeout(function () {\n      if (!_this6.currentResult.isStale) {\n        _this6.updateResult();\n      }\n    }, timeout);\n  };\n\n  _proto.computeRefetchInterval = function computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  };\n\n  _proto.updateRefetchInterval = function updateRefetchInterval(nextInterval) {\n    var _this7 = this;\n\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(function () {\n      if (_this7.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        _this7.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  };\n\n  _proto.updateTimers = function updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  };\n\n  _proto.clearTimers = function clearTimers() {\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n  };\n\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  };\n\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  };\n\n  _proto.createResult = function createResult(query, options) {\n    var prevQuery = this.currentQuery;\n    var prevOptions = this.options;\n    var prevResult = this.currentResult;\n    var prevResultState = this.currentResultState;\n    var prevResultOptions = this.currentResultOptions;\n    var queryChange = query !== prevQuery;\n    var queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    var prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    var state = query.state;\n    var dataUpdatedAt = state.dataUpdatedAt,\n        error = state.error,\n        errorUpdatedAt = state.errorUpdatedAt,\n        isFetching = state.isFetching,\n        status = state.status;\n    var isPreviousData = false;\n    var isPlaceholderData = false;\n    var data; // Optimistically set result in fetching state if needed\n\n    if (options.optimisticResults) {\n      var mounted = this.hasListeners();\n      var fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      var fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        isFetching = true;\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdateCount && (prevQueryResult == null ? void 0 : prevQueryResult.isSuccess) && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n        // Memoize select result\n        if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\n          data = this.selectResult;\n        } else {\n          try {\n            this.selectFn = options.select;\n            data = options.select(state.data);\n\n            if (options.structuralSharing !== false) {\n              data = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, data);\n            }\n\n            this.selectResult = data;\n            this.selectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            this.selectError = selectError;\n          }\n        }\n      } // Use query data\n      else {\n          data = state.data;\n        } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && (status === 'loading' || status === 'idle')) {\n      var placeholderData; // Memoize placeholder data\n\n      if ((prevResult == null ? void 0 : prevResult.isPlaceholderData) && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n\n            if (options.structuralSharing !== false) {\n              placeholderData = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, placeholderData);\n            }\n\n            this.selectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            this.selectError = selectError;\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = placeholderData;\n        isPlaceholderData = true;\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError;\n      data = this.selectResult;\n      errorUpdatedAt = Date.now();\n      status = 'error';\n    }\n\n    var result = {\n      status: status,\n      isLoading: status === 'loading',\n      isSuccess: status === 'success',\n      isError: status === 'error',\n      isIdle: status === 'idle',\n      data: data,\n      dataUpdatedAt: dataUpdatedAt,\n      error: error,\n      errorUpdatedAt: errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching: isFetching,\n      isRefetching: isFetching && status !== 'loading',\n      isLoadingError: status === 'error' && state.dataUpdatedAt === 0,\n      isPlaceholderData: isPlaceholderData,\n      isPreviousData: isPreviousData,\n      isRefetchError: status === 'error' && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  };\n\n  _proto.shouldNotifyListeners = function shouldNotifyListeners(result, prevResult) {\n    if (!prevResult) {\n      return true;\n    }\n\n    var _this$options = this.options,\n        notifyOnChangeProps = _this$options.notifyOnChangeProps,\n        notifyOnChangePropsExclusions = _this$options.notifyOnChangePropsExclusions;\n\n    if (!notifyOnChangeProps && !notifyOnChangePropsExclusions) {\n      return true;\n    }\n\n    if (notifyOnChangeProps === 'tracked' && !this.trackedProps.length) {\n      return true;\n    }\n\n    var includedProps = notifyOnChangeProps === 'tracked' ? this.trackedProps : notifyOnChangeProps;\n    return Object.keys(result).some(function (key) {\n      var typedKey = key;\n      var changed = result[typedKey] !== prevResult[typedKey];\n      var isIncluded = includedProps == null ? void 0 : includedProps.some(function (x) {\n        return x === key;\n      });\n      var isExcluded = notifyOnChangePropsExclusions == null ? void 0 : notifyOnChangePropsExclusions.some(function (x) {\n        return x === key;\n      });\n      return changed && !isExcluded && (!includedProps || isIncluded);\n    });\n  };\n\n  _proto.updateResult = function updateResult(notifyOptions) {\n    var prevResult = this.currentResult;\n    this.currentResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify if something has changed\n\n    if (shallowEqualObjects(this.currentResult, prevResult)) {\n      return;\n    } // Determine which callbacks to trigger\n\n\n    var defaultNotifyOptions = {\n      cache: true\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && this.shouldNotifyListeners(this.currentResult, prevResult)) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify(_extends({}, defaultNotifyOptions, notifyOptions));\n  };\n\n  _proto.updateQuery = function updateQuery() {\n    var query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    var prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  };\n\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\n    var notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  };\n\n  _proto.notify = function notify(notifyOptions) {\n    var _this8 = this;\n\n    notifyManager.batch(function () {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        _this8.options.onSuccess == null ? void 0 : _this8.options.onSuccess(_this8.currentResult.data);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(_this8.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        _this8.options.onError == null ? void 0 : _this8.options.onError(_this8.currentResult.error);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(undefined, _this8.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        _this8.listeners.forEach(function (listener) {\n          listener(_this8.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        _this8.client.getQueryCache().notify({\n          query: _this8.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  };\n\n  return QueryObserver;\n}(Subscribable);\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\n\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    var value = typeof field === 'function' ? field(query) : field;\n    return value === 'always' || value !== false && isStale(query, options);\n  }\n\n  return false;\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n}","import ReactDOM from 'react-dom';\nexport var unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates;","import { notifyManager } from '../core';\nimport { unstable_batchedUpdates } from './reactBatchedUpdates';\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates);","export var logger = console;","import { setLogger } from '../core';\nimport { logger } from './logger';\nsetLogger(logger);","import React from 'react';\nvar defaultContext = /*#__PURE__*/React.createContext(undefined);\nvar QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(contextSharing) {\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nexport var useQueryClient = function useQueryClient() {\n  var queryClient = React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nexport var QueryClientProvider = function QueryClientProvider(_ref) {\n  var client = _ref.client,\n      _ref$contextSharing = _ref.contextSharing,\n      contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing,\n      children = _ref.children;\n  React.useEffect(function () {\n    client.mount();\n    return function () {\n      client.unmount();\n    };\n  }, [client]);\n  var Context = getQueryClientContext(contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};","import React from 'react'; // CONTEXT\n\nfunction createValue() {\n  var _isReset = false;\n  return {\n    clearReset: function clearReset() {\n      _isReset = false;\n    },\n    reset: function reset() {\n      _isReset = true;\n    },\n    isReset: function isReset() {\n      return _isReset;\n    }\n  };\n}\n\nvar QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\n\nexport var useQueryErrorResetBoundary = function useQueryErrorResetBoundary() {\n  return React.useContext(QueryErrorResetBoundaryContext);\n}; // COMPONENT\n\nexport var QueryErrorResetBoundary = function QueryErrorResetBoundary(_ref) {\n  var children = _ref.children;\n  var value = React.useMemo(function () {\n    return createValue();\n  }, []);\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\n    value: value\n  }, typeof children === 'function' ? children(value) : children);\n};","export function shouldThrowError(suspense, _useErrorBoundary, params) {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary.apply(void 0, params);\n  } // Allow useErrorBoundary to override suspense's throwing behavior\n\n\n  if (typeof _useErrorBoundary === 'boolean') return _useErrorBoundary; // If suspense is enabled default to throwing errors\n\n  return !!suspense;\n}","import React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils';\nexport function useBaseQuery(options, Observer) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var queryClient = useQueryClient();\n  var errorResetBoundary = useQueryErrorResetBoundary();\n  var defaultedOptions = queryClient.defaultQueryObserverOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\n\n  defaultedOptions.optimisticResults = true; // Include callbacks in batch renders\n\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n  }\n\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000;\n    } // Set cache time to 1 if the option has been set to 0\n    // when using suspense to prevent infinite loop of fetches\n\n\n    if (defaultedOptions.cacheTime === 0) {\n      defaultedOptions.cacheTime = 1;\n    }\n  }\n\n  if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      defaultedOptions.retryOnMount = false;\n    }\n  }\n\n  var _React$useState2 = React.useState(function () {\n    return new Observer(queryClient, defaultedOptions);\n  }),\n      observer = _React$useState2[0];\n\n  var result = observer.getOptimisticResult(defaultedOptions);\n  React.useEffect(function () {\n    mountedRef.current = true;\n    errorResetBoundary.clearReset();\n    var unsubscribe = observer.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    })); // Update result to make sure we did not miss any query updates\n    // between creating the observer and subscribing to it.\n\n    observer.updateResult();\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, [errorResetBoundary, observer]);\n  React.useEffect(function () {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, {\n      listeners: false\n    });\n  }, [defaultedOptions, observer]); // Handle suspense\n\n  if (defaultedOptions.suspense && result.isLoading) {\n    throw observer.fetchOptimistic(defaultedOptions).then(function (_ref) {\n      var data = _ref.data;\n      defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\n    }).catch(function (error) {\n      errorResetBoundary.clearReset();\n      defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\n    });\n  } // Handle error boundary\n\n\n  if (result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(defaultedOptions.suspense, defaultedOptions.useErrorBoundary, [result.error, observer.getCurrentQuery()])) {\n    throw result.error;\n  } // Handle result property usage tracking\n\n\n  if (defaultedOptions.notifyOnChangeProps === 'tracked') {\n    result = observer.trackResult(result, defaultedOptions);\n  }\n\n  return result;\n}","import { QueryObserver } from '../core';\nimport { parseQueryArgs } from '../core/utils';\nimport { useBaseQuery } from './useBaseQuery'; // HOOK\n\nexport function useQuery(arg1, arg2, arg3) {\n  var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(parsedOptions, QueryObserver);\n}","import { useQuery, UseQueryOptions } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  NotificationEmail,\n  UserBundle,\n  UserProfile,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  USER_BUNDLE_MASK_IS_ACT_MEMBER,\n  USER_BUNDLE_MASK_IS_AR_REVIEWER,\n  USER_BUNDLE_MASK_IS_CERTIFIED,\n  USER_BUNDLE_MASK_IS_VERIFIED,\n  USER_BUNDLE_MASK_ORCID,\n  USER_BUNDLE_MASK_USER_PROFILE,\n  USER_BUNDLE_MASK_VERIFICATION_SUBMISSION,\n} from '../../utils/SynapseConstants'\nimport {\n  PrincipalAliasRequest,\n  PrincipalAliasResponse,\n} from '@sage-bionetworks/synapse-types'\n\nexport function useGetNotificationEmail(\n  options?: UseQueryOptions<NotificationEmail, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<NotificationEmail, SynapseClientError>(\n    keyFactory.getNotificationEmailQueryKey(),\n    () => SynapseClient.getNotificationEmail(accessToken),\n    options,\n  )\n}\n\nexport function useGetCurrentUserProfile(\n  options?: UseQueryOptions<UserProfile, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const queryKey = keyFactory.getCurrentUserProfileQueryKey()\n\n  return useQuery<UserProfile, SynapseClientError>(\n    queryKey,\n    () => SynapseClient.getUserProfile(accessToken),\n    options,\n  )\n}\n\nconst ALL_USER_BUNDLE_FIELDS =\n  USER_BUNDLE_MASK_USER_PROFILE |\n  USER_BUNDLE_MASK_ORCID |\n  USER_BUNDLE_MASK_VERIFICATION_SUBMISSION |\n  USER_BUNDLE_MASK_IS_CERTIFIED |\n  USER_BUNDLE_MASK_IS_VERIFIED |\n  USER_BUNDLE_MASK_IS_ACT_MEMBER |\n  USER_BUNDLE_MASK_IS_AR_REVIEWER\n\nexport function useGetUserBundle(\n  userId: string,\n  mask: number = ALL_USER_BUNDLE_FIELDS,\n  options?: UseQueryOptions<UserBundle, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const queryKey = keyFactory.getUserBundleQueryKey(userId, mask)\n\n  return useQuery<UserBundle, SynapseClientError>(\n    queryKey,\n    () => SynapseClient.getUserBundle(userId, mask, accessToken),\n    options,\n  )\n}\n\nexport function useGetCurrentUserBundle<TData = UserBundle>(\n  mask: number = ALL_USER_BUNDLE_FIELDS,\n  options?: UseQueryOptions<UserBundle, SynapseClientError, TData>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  const queryKey = keyFactory.getUserBundleQueryKey('current', mask)\n\n  return useQuery<UserBundle, SynapseClientError, TData>(\n    queryKey,\n    () => SynapseClient.getMyUserBundle(mask, accessToken),\n    options,\n  )\n}\n\nexport function useGetUserProfile(\n  principalId: string,\n  options?: UseQueryOptions<UserProfile, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const queryKey = keyFactory.getUserProfileQueryKey(principalId)\n  // We store the profile in a session storage cache used by SWC\n  const sessionStorageCacheKey = `${principalId}_USER_PROFILE`\n  const cachedValue = sessionStorage.getItem(sessionStorageCacheKey)\n\n  return useQuery<UserProfile, SynapseClientError>(\n    queryKey,\n    () => SynapseClient.getUserProfileById(accessToken, principalId),\n    {\n      ...options,\n\n      // Use the sessionStorage cache to pre-populate profile data.\n      initialData: cachedValue\n        ? (JSON.parse(cachedValue) as UserProfile)\n        : undefined,\n\n      // If the profile is re-fetched, save it to sessionStorage\n      onSuccess: profile => {\n        sessionStorage.setItem(sessionStorageCacheKey, JSON.stringify(profile))\n      },\n    },\n  )\n}\n\nexport function useGetPrincipalIdForAlias(\n  request: PrincipalAliasRequest,\n  options?: UseQueryOptions<\n    PrincipalAliasResponse['principalId'],\n    SynapseClientError\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  const queryKey = keyFactory.getPrincipalAliasQueryKey(request)\n\n  return useQuery<PrincipalAliasResponse['principalId'], SynapseClientError>(\n    queryKey,\n    async () => {\n      return (\n        await SynapseClient.getPrincipalAliasRequest(accessToken, request)\n      ).principalId\n    },\n    options,\n  )\n}\n\nexport function useIsCurrentUserACTMember() {\n  return useGetCurrentUserBundle<boolean>(undefined, {\n    select: data => data.isACTMember!,\n  })\n}\n","import { useEffect } from 'react'\nimport {\n  useGetCurrentUserProfile,\n  useGetNotificationEmail,\n} from '../synapse-queries/user/useUserBundle'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\n\ntype IssueCollector = 'SWC' | 'Flagged Content' | 'Request Access'\n\nconst ISSUE_COLLECTOR_URL_MAP: Record<IssueCollector, string> = {\n  SWC: 'https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-bhcm7i/b/6/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=ddc881b3',\n  'Flagged Content':\n    'https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/g39zuk/b/41/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=d0abcfa9',\n  'Request Access':\n    'https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-2rg9hj/b/25/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=bd4dc1e5',\n}\n\ndeclare global {\n  interface Window {\n    jQuery?: JQueryStatic\n    ATL_JQ_PAGE_PROPS: any\n  }\n}\n\ntype JiraIssueCollectorConfig = {\n  issueCollector: IssueCollector\n  issueSummary: string\n  issueDescription: string\n  issuePriority: '1' | '2' | '3' | '4' | '5'\n  accessRequirementId?: string\n  synapseDataObjectId?: string\n  componentId?: string\n  principalId: string\n  userDisplayName?: string\n  userEmailAddress?: string\n}\n\n/**\n * Shows the Jira issue collector when invoked.\n * @param config\n */\nexport function showJiraIssueCollector(config: JiraIssueCollectorConfig): void {\n  const {\n    issueCollector,\n    issueSummary,\n    issueDescription,\n    principalId,\n    userDisplayName,\n    userEmailAddress,\n    synapseDataObjectId,\n    componentId,\n    accessRequirementId,\n    issuePriority,\n  } = config\n  try {\n    if (window.jQuery == null) {\n      throw new Error(\n        'jQuery is not present. Jira Issue Collector will not be shown.',\n      )\n    }\n    // Requires jQuery!\n    window.jQuery.ajax({\n      url: ISSUE_COLLECTOR_URL_MAP[issueCollector],\n      type: 'get',\n      cache: true,\n      dataType: 'script',\n    })\n\n    window.ATL_JQ_PAGE_PROPS = {\n      triggerFunction: function (showCollectorDialog: () => void) {\n        showCollectorDialog()\n      },\n\n      fieldValues: {\n        summary: issueSummary,\n        description: issueDescription,\n        priority: issuePriority,\n        customfield_10840: userEmailAddress,\n        email: userEmailAddress,\n        customfield_10841: accessRequirementId,\n        customfield_10740: principalId,\n        customfield_10741: userDisplayName,\n        customfield_10742: synapseDataObjectId,\n        fullname: userDisplayName,\n        components: componentId,\n        // Component ID of the component added to the Jira Governance Project\n      },\n    }\n  } catch (err) {\n    console.error(err)\n  }\n}\n\ntype UseJiraIssueCollectorConfig = Omit<\n  JiraIssueCollectorConfig,\n  'principalId' | 'userDisplayName' | 'userEmailAddress'\n> & {\n  show: boolean\n}\n\n/**\n * Hook used to show the Jira issue collector within Synapse. The collector will only be shown if the user is logged in.\n * @requires SynapseContext to be an ancestor in the component tree\n */\nexport function useJiraIssueCollector(config: UseJiraIssueCollectorConfig) {\n  const {\n    show,\n    issueCollector,\n    issueSummary,\n    issueDescription,\n    issuePriority,\n    accessRequirementId,\n    synapseDataObjectId,\n    componentId,\n  } = config\n\n  const { accessToken } = useSynapseContext()\n\n  const { data: currentUser, isLoading: profileIsLoading } =\n    useGetCurrentUserProfile({\n      enabled: !!accessToken,\n    })\n  const { data: notificationEmail, isLoading: emailIsLoading } =\n    useGetNotificationEmail({\n      enabled: !!accessToken,\n    })\n\n  useEffect(() => {\n    if (show && accessToken) {\n      if (currentUser && notificationEmail) {\n        showJiraIssueCollector({\n          issueCollector,\n          issueSummary,\n          issueDescription,\n          synapseDataObjectId,\n          componentId,\n          accessRequirementId,\n          issuePriority,\n          principalId: currentUser.ownerId,\n          userDisplayName: currentUser.displayName,\n          userEmailAddress: notificationEmail.email,\n        })\n      } else {\n        console.warn('Fetching profile data to display Jira popup')\n      }\n    } else if (show && !accessToken) {\n      console.error('User not logged in, not showing Jira popup')\n    }\n    // - Don't re-run the effect when currentUser or notificationEmail change -- if they are refetched, we'll end up in a bad state with two pop-ups\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [show, accessToken, profileIsLoading, emailIsLoading])\n}\n","import React from 'react'\nimport { Link } from '@mui/material'\nimport { SRC_SIGN_IN_CLASS } from '../utils/SynapseConstants'\n\nexport type SignInProps = {\n  className?: string\n  style?: React.CSSProperties\n}\n// An event listener for the class SRC_SIGN_IN_CLASS is needed to trigger a download\n// modal\nconst SignInButton = ({ className, style }: SignInProps) => {\n  return (\n    <Link\n      type=\"button\"\n      style={style}\n      className={`SignInButton ${SRC_SIGN_IN_CLASS} ${className}`}\n    >\n      Sign In\n    </Link>\n  )\n}\n\nexport default SignInButton\n","import React, { useState } from 'react'\nimport { Box, Button, Collapse, Stack } from '@mui/material'\nimport {\n  ErrorBoundary,\n  ErrorBoundaryPropsWithComponent,\n  FallbackProps,\n} from 'react-error-boundary'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { Optional } from '../../utils/types/Optional'\nimport { useJiraIssueCollector } from '../JiraIssueCollector'\nimport FullWidthAlert from '../FullWidthAlert'\nimport SignInButton from '../SignInButton'\n\ntype ErrorBannerProps = {\n  error?: string | Error | SynapseClientError | null\n  reloadButtonFn?: () => void\n}\n\nexport const YOU_ARE_NOT_AUTHORIZED_MESSAGE =\n  'You are not authorized to access this resource.'\n\nexport const SignInPrompt = () => {\n  return (\n    <>\n      Please <SignInButton /> to view this resource.\n    </>\n  )\n}\n\nexport const ClientError = (props: { error: SynapseClientError }) => {\n  const [showDetailedError, setShowDetailedError] = useState(false)\n  const { accessToken } = useSynapseContext()\n  const { error } = props\n  const loginError =\n    (error.status === 403 || error.status === 401) && !accessToken\n  const accessDenied = error.status === 403 && accessToken\n\n  useJiraIssueCollector({\n    show: error.status >= 500,\n    issueCollector: 'SWC',\n    issueSummary: '',\n    issueDescription: error.reason,\n    issuePriority: '3',\n  })\n\n  if (loginError) {\n    return <SignInPrompt />\n  } else if (accessDenied) {\n    return (\n      <>\n        <Stack direction=\"row\" spacing={2}>\n          <Box display=\"flex\" alignItems=\"center\">\n            {YOU_ARE_NOT_AUTHORIZED_MESSAGE}\n          </Box>\n          <Button\n            variant=\"text\"\n            onClick={() => setShowDetailedError(show => !show)}\n          >\n            {showDetailedError ? 'Hide' : 'Show'} details\n          </Button>\n        </Stack>\n        <Collapse in={showDetailedError}>\n          <Box paddingTop={1}>\n            <pre>{error.reason}</pre>\n          </Box>\n        </Collapse>\n      </>\n    )\n  } else {\n    return <>{error.reason}</>\n  }\n}\n\nexport const ErrorBanner = (props: ErrorBannerProps) => {\n  const { error, reloadButtonFn } = props\n\n  if (!error) {\n    return <></>\n  }\n\n  let synapseClientError: SynapseClientError | undefined = undefined\n  let jsError: Error | undefined = undefined\n  let stringError: string | undefined = undefined\n  if (error instanceof SynapseClientError) {\n    synapseClientError = error\n  } else if (error instanceof Error) {\n    jsError = error\n  } else if (typeof error === 'string') {\n    stringError = error\n  }\n  return (\n    <FullWidthAlert\n      variant={'danger'}\n      isGlobal={false}\n      description={\n        <>\n          {synapseClientError && <ClientError error={synapseClientError} />}\n          {jsError && jsError.message}\n          {stringError && stringError}\n        </>\n      }\n      primaryButtonConfig={\n        reloadButtonFn && {\n          text: 'Reload',\n          onClick: reloadButtonFn,\n        }\n      }\n    />\n  )\n}\n\nexport const ErrorFallbackComponent: React.FunctionComponent<FallbackProps> = ({\n  error,\n  resetErrorBoundary,\n}) => {\n  return (\n    <div className=\"SRC-marginBottomTop\">\n      <ErrorBanner\n        error={error}\n        reloadButtonFn={resetErrorBoundary}\n      ></ErrorBanner>\n    </div>\n  )\n}\n\nexport const TableRowFallbackComponent: React.FunctionComponent<\n  FallbackProps\n> = ({ error, resetErrorBoundary }) => {\n  return (\n    <tr>\n      <td colSpan={999}>\n        <ErrorBanner error={error} reloadButtonFn={resetErrorBoundary} />\n      </td>\n    </tr>\n  )\n}\n\n/**\n * ErrorBoundary component that uses the default error fallback component, unless overridden.\n * Internally uses `react-error-boundary`.\n *\n * Use with {@link react-error-boundary#handleError | handleError}\n * @param props\n * @returns\n */\nexport const SynapseErrorBoundary = (\n  props: React.PropsWithChildren<\n    Optional<ErrorBoundaryPropsWithComponent, 'FallbackComponent'>\n  >,\n) => <ErrorBoundary FallbackComponent={ErrorFallbackComponent} {...props} />\n","/**\n * Removes fields with value 'undefined' from an object (not recursive).\n *\n * Use the `inPlace` parameter to modify the object (using `delete`), rather than creating a new object.\n *\n * See https://stackoverflow.com/questions/25421233\n */\nexport function removeUndefined(obj: Record<string, unknown>, inPlace = false) {\n  if (inPlace) {\n    Object.keys(obj).forEach(key =>\n      obj[key] === undefined ? delete obj[key] : {},\n    )\n    return obj\n  } else {\n    return Object.keys(obj).reduce((acc: Record<string, unknown>, key) => {\n      const _acc = acc\n      if (obj[key] !== undefined) _acc[key] = obj[key]\n      return _acc\n    }, {})\n  }\n}\n","import { isEmpty } from 'lodash-es'\nimport { removeUndefined } from './ObjectUtils'\n\n/**\n * Removes trailing undefined elements from an array. Also removes trailing objects that are empty or only keys with\n * undefined values are present.\n */\nexport function removeTrailingUndefinedElements(params: any[]): any[] {\n  const result = [...params]\n  let lastElement = result[result.length - 1]\n  while (\n    result.length > 0 &&\n    (lastElement === undefined ||\n      // Also remove empty objects or objects where only keys with undefined values are present\n      (typeof lastElement === 'object' &&\n        isEmpty(removeUndefined(lastElement))))\n  ) {\n    result.pop()\n    lastElement = result[result.length - 1]\n  }\n  return result\n}\n","import {\n  AccessApprovalSearchRequest,\n  AccessRequirementSearchRequest,\n  AvailableFilesRequest,\n  BatchFileRequest,\n  DiscussionFilter,\n  DiscussionReplyOrder,\n  DiscussionThreadOrder,\n  EntityBundleRequest,\n  EntityChildrenRequest,\n  FavoriteSortBy,\n  FavoriteSortDirection,\n  FileHandle,\n  FileHandleAssociation,\n  GetProjectsParameters,\n  PrincipalAliasRequest,\n  QueryBundleRequest,\n  ReferenceList,\n  RestrictionInformationRequest,\n  SearchQuery,\n  SubmissionInfoPageRequest,\n  SubmissionSearchRequest,\n  SubscriptionObjectType,\n  SubscriptionQuery,\n  TYPE_FILTER,\n} from '@sage-bionetworks/synapse-types'\nimport { QueryKey } from 'react-query'\nimport { removeTrailingUndefinedElements } from '../utils/functions/ArrayUtils'\nimport { hashCode } from '../utils/functions/StringUtils'\n\nconst entityQueryKeyObjects = {\n  /* Query key for all entities */\n  all: { objectType: 'entity' },\n  // Data for an entity\n  entity: (id: string) => ({ ...entityQueryKeyObjects.all, id: id }),\n  // Data for a particular version of an entity\n  version: (id: string, versionNumber?: string | number) => ({\n    ...entityQueryKeyObjects.entity(id),\n    versionNumber,\n  }),\n  // List of Entity Versions\n  versions: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'versions',\n  }),\n  versionsQuery: (id: string, limit: number, offset: number) => ({\n    ...entityQueryKeyObjects.versions(id),\n    versionQuery: {\n      limit: limit,\n      offset: offset,\n    },\n  }),\n  // JSON Representation of an entity\n  json: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'json',\n  }),\n  // entity actions required\n  entityActions: (id: string) => [\n    entityQueryKeyObjects.entity(id),\n    'entityActions',\n  ],\n  entityForum: (id: string) => [\n    entityQueryKeyObjects.entity(id),\n    'entityForum',\n  ],\n  entityChallenge: (id: string) => [\n    entityQueryKeyObjects.entity(id),\n    'entityChallenge',\n  ],\n  activity: (id: string, versionNumber?: number) => ({\n    ...entityQueryKeyObjects.version(id),\n    scope: 'activity',\n  }),\n  // Entity path\n  path: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'path',\n  }),\n\n  // Entity bundle\n  bundle: (\n    id: string,\n    versionNumber: string | number | undefined,\n    bundleRequest: EntityBundleRequest,\n  ) => ({\n    ...entityQueryKeyObjects.version(id, versionNumber),\n    scope: 'entityBundle',\n    entityBundleRequest: bundleRequest,\n  }),\n  children: (request: EntityChildrenRequest, infinite: boolean) => ({\n    ...entityQueryKeyObjects.entity(request.parentId ?? 'root'),\n    scope: 'children',\n    isInfinite: infinite,\n    entityChildrenRequest: request,\n  }),\n\n  tableQueryResult: (\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) => ({\n    ...entityQueryKeyObjects.entity(queryBundleRequest.entityId),\n    scope: 'tableQueryResult',\n    isInfinite: infinite,\n    tableQueryBundleRequest: queryBundleRequest,\n  }),\n\n  tableQueryResultWithAsyncStatus: (\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) => ({\n    ...entityQueryKeyObjects.entity(queryBundleRequest.entityId),\n    scope: 'tableQueryResultWithAsyncStatus',\n    isInfinite: infinite,\n    tableQueryBundleRequest: queryBundleRequest,\n  }),\n\n  fullTableQueryResult: (\n    queryBundleRequest: QueryBundleRequest,\n    forceAnonymous: boolean,\n  ) => ({\n    ...entityQueryKeyObjects.entity(queryBundleRequest.entityId),\n    scope: 'fullTableQueryResult',\n    tableQueryBundleRequest: queryBundleRequest,\n    forceAnonymous,\n  }),\n\n  boundJSONSchema: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'boundJSONSchema',\n  }),\n\n  schemaValidationResults: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'schemaValidationResults',\n  }),\n  header: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'entityHeaders',\n  }),\n  headers: (references: ReferenceList) => ({\n    ...entityQueryKeyObjects.all,\n    scope: 'entityHeaders',\n    entityHeadersRequest: references,\n  }),\n  accessRequirements: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'accessRequirements',\n  }),\n}\n\nconst downloadListQueryKeys = {\n  /* Key used to invalidate all download list queries */\n  base: 'downloadList',\n  availableFiles: (request: AvailableFilesRequest) => [\n    downloadListQueryKeys.base,\n    'availableFiles',\n    request,\n  ],\n  availableFilesInfinite: (request: AvailableFilesRequest) => [\n    downloadListQueryKeys.availableFiles(request),\n    'infinite',\n  ],\n  getActionsRequired: () => [downloadListQueryKeys.base, 'actionsRequired'],\n  getActionsRequiredInfinite: () => [\n    ...downloadListQueryKeys.getActionsRequired(),\n    'infinite',\n  ],\n  getStatistics: () => [downloadListQueryKeys.base, 'statistics'],\n}\n\nconst ACCESS_REQUIREMENT_QUERY_KEY = 'accessRequirement'\n\n/**\n * Returns a react-query Query Key.\n *\n * Co-location of react-query keys for queries related to Synapse data. Two objectives of this strategy are\n * - minimize the risk of inappropriate cache key collisions\n * - simplify clearing the appropriate query caches when the entity data is updated\n *\n * For more information, see https://tkdodo.eu/blog/leveraging-the-query-function-context\n */\nexport class KeyFactory {\n  accessToken: string | undefined = undefined\n  constructor(accessToken: string | undefined) {\n    this.accessToken = accessToken\n  }\n\n  /**\n   * Returns a react-query Query Key. Prepends the key with the access token, so that the key is unique per-session.\n   * Also removes trailing undefined elements from the passed args, so a key can be generated for query invalidation.\n   * @param args\n   * @private\n   */\n  private getKey(...args: any[]): QueryKey {\n    return [\n      this.accessToken === undefined\n        ? this.accessToken\n        : btoa(String(hashCode(this.accessToken))),\n      ...removeTrailingUndefinedElements(args),\n    ]\n  }\n\n  public getAllEntityDataQueryKey() {\n    return this.getKey(entityQueryKeyObjects.all)\n  }\n\n  public getEntityQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.entity(id))\n  }\n\n  public getEntityActivityQueryKey(id: string, versionNumber?: number) {\n    return this.getKey(entityQueryKeyObjects.activity(id, versionNumber))\n  }\n\n  public getEntityActionsRequiredQueryKey(id: string) {\n    return this.getKey(...entityQueryKeyObjects.entityActions(id))\n  }\n\n  public getEntityChallengeQueryKey(id: string) {\n    return this.getKey(...entityQueryKeyObjects.entityChallenge(id))\n  }\n\n  public getForumQueryKey(id: string) {\n    return this.getKey(...entityQueryKeyObjects.entityForum(id))\n  }\n\n  public getEntityVersionQueryKey(id: string, versionNumber?: string | number) {\n    return this.getKey(entityQueryKeyObjects.version(id, versionNumber))\n  }\n\n  public getPaginatedEntityVersionsQueryKey(\n    id: string,\n    limit: number,\n    offset: number,\n  ) {\n    return this.getKey(entityQueryKeyObjects.versionsQuery(id, limit, offset))\n  }\n  public getEntityVersionsQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.versions(id))\n  }\n\n  public getEntityChildrenQueryKey(\n    request: EntityChildrenRequest,\n    infinite: boolean,\n  ) {\n    return this.getKey(entityQueryKeyObjects.children(request, infinite))\n  }\n\n  public getEntityJsonQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.json(id))\n  }\n\n  public getEntityBundleQueryKey(\n    id: string,\n    version: number | undefined,\n    bundleRequest: EntityBundleRequest,\n  ) {\n    return this.getKey(entityQueryKeyObjects.bundle(id, version, bundleRequest))\n  }\n\n  public getEntityPathQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.path(id))\n  }\n\n  public getEntityACLQueryKey(entityId: string) {\n    return this.getKey('entityACL', entityId)\n  }\n\n  public getEntityAliasQueryKey(alias: string) {\n    return this.getKey('entityAlias', alias)\n  }\n\n  public getEntityEvaluationsQueryKey(entityId: string) {\n    return this.getKey('entityEvaluations', entityId)\n  }\n\n  public getEntityPermissionsQueryKey(entityId: string) {\n    return this.getKey('entityPermissions', entityId)\n  }\n\n  public getEntityBoundJsonSchemaQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.boundJSONSchema(id))\n  }\n\n  public getEntitySchemaValidationResultsQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.schemaValidationResults(id))\n  }\n\n  public getEntityHeaderQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.header(id))\n  }\n\n  public getEntityAccessRequirementsQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.accessRequirements(id))\n  }\n\n  public getEntityHeadersQueryKey(references: ReferenceList) {\n    return this.getKey(entityQueryKeyObjects.headers(references))\n  }\n\n  public getEntityTableQueryResultQueryKey(\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) {\n    return this.getKey(\n      entityQueryKeyObjects.tableQueryResult(queryBundleRequest, infinite),\n    )\n  }\n\n  public getEntityTableQueryResultWithAsyncStatusQueryKey(\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) {\n    return this.getKey(\n      entityQueryKeyObjects.tableQueryResultWithAsyncStatus(\n        queryBundleRequest,\n        infinite,\n      ),\n    )\n  }\n\n  public getFullTableQueryResultQueryKey(\n    queryBundleRequest: QueryBundleRequest,\n    forceAnonymous: boolean,\n  ) {\n    return this.getKey(\n      entityQueryKeyObjects.fullTableQueryResult(\n        queryBundleRequest,\n        forceAnonymous,\n      ),\n    )\n  }\n\n  public getDownloadListBaseQueryKey() {\n    return this.getKey(downloadListQueryKeys.base)\n  }\n\n  public getDownloadListAvailableFilesQueryKey(request: AvailableFilesRequest) {\n    return this.getKey(...downloadListQueryKeys.availableFiles(request))\n  }\n\n  public getDownloadListAvailableFilesInfiniteQueryKey(\n    request: AvailableFilesRequest,\n  ) {\n    return this.getKey(...downloadListQueryKeys.availableFilesInfinite(request))\n  }\n\n  public getDownloadListActionsRequiredQueryKey() {\n    return this.getKey(...downloadListQueryKeys.getActionsRequired())\n  }\n  public getDownloadListActionsRequiredInfiniteQueryKey() {\n    return this.getKey(...downloadListQueryKeys.getActionsRequiredInfinite())\n  }\n\n  public getDownloadListStatisticsQueryKey() {\n    return this.getKey(...downloadListQueryKeys.getStatistics())\n  }\n\n  public searchAccessApprovalsQueryKey(params?: AccessApprovalSearchRequest) {\n    return this.getKey('accessApprovalSearch', params)\n  }\n\n  public getAccessRequirementQueryKey(id?: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id)\n  }\n\n  public getAccessRequirementAclQueryKey(id: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id, 'acl')\n  }\n\n  public searchAccessRequirementsQueryKey(\n    params?: AccessRequirementSearchRequest,\n  ) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, 'search', params)\n  }\n\n  public getAccessRequirementWikiPageKey(id: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id, 'wikiPageKey')\n  }\n\n  public getAccessRequirementRestrictionInformationQueryKey(\n    request?: RestrictionInformationRequest,\n  ) {\n    return this.getKey(\n      ACCESS_REQUIREMENT_QUERY_KEY,\n      'restrictionInformation',\n      request,\n    )\n  }\n\n  public getAccessRequirementStatusQueryKey(id: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id, 'status')\n  }\n\n  public getDataAccessRequestForUpdateQueryKey(accessRequirementId: string) {\n    return this.getKey(\n      ACCESS_REQUIREMENT_QUERY_KEY,\n      accessRequirementId,\n      'dataAccessRequestForUpdate',\n    )\n  }\n\n  public getAccessRequirementResearchProjectQueryKey(\n    accessRequirementId: string,\n  ) {\n    return this.getKey(\n      ACCESS_REQUIREMENT_QUERY_KEY,\n      accessRequirementId,\n      'researchProject',\n    )\n  }\n\n  public getSortedAccessRequirementsAndStatusQueryKey(\n    accessRequirementIds?: string[],\n  ) {\n    return this.getKey(\n      ACCESS_REQUIREMENT_QUERY_KEY,\n      'sortedByStatus',\n      accessRequirementIds,\n    )\n  }\n\n  public getDataAccessSubmissionQueryKey(id?: string) {\n    return this.getKey('dataAccessSubmission', id)\n  }\n\n  public searchDataAccessSubmissionQueryKey(params?: SubmissionSearchRequest) {\n    return this.getKey('accessSubmissionSearch', params)\n  }\n\n  public getApprovedSubmissionInfoQueryKey(\n    request?: SubmissionInfoPageRequest,\n  ) {\n    return this.getKey('approvedSubmissionInfo', request)\n  }\n\n  public getValidationSchemaQueryKey(schema$id: string) {\n    return this.getKey('validationSchema', schema$id)\n  }\n\n  public getPresignedUrlContentQueryKey(\n    fileHandle: FileHandle,\n    request: BatchFileRequest,\n    maxSizeBytes?: number,\n  ) {\n    return this.getKey('presignedUrlContent', fileHandle, request, maxSizeBytes)\n  }\n\n  public getPresignedUrlFromFHAContentQueryKey(\n    fileHandleAssociation: FileHandleAssociation,\n    forceAnonymous: boolean,\n  ) {\n    return this.getKey(\n      'presignedUrlContentFromFHA',\n      fileHandleAssociation,\n      forceAnonymous,\n    )\n  }\n\n  public getProfileImageQueryKey(userId: string) {\n    return this.getKey('profileImageData', userId)\n  }\n\n  public getDefaultUploadDestinationQueryKey(containerEntityId: string) {\n    return this.getKey('uploadDestination', 'default', containerEntityId)\n  }\n\n  public getForumModeratorsQueryKey(forumId: string) {\n    return this.getKey('moderators', forumId)\n  }\n\n  public getForumMetadataQueryKey(forumId: string) {\n    return this.getKey('forumThread', forumId, 'metadata')\n  }\n\n  public getAllForumThreadsQueryKey(forumId: string) {\n    return this.getKey('forumthread', forumId)\n  }\n\n  public getForumThreadsQueryKey(\n    forumId: string,\n    limit: number,\n    sort: DiscussionThreadOrder,\n    ascending: boolean,\n    filter?: DiscussionFilter,\n  ) {\n    return this.getKey('forumthread', forumId, {\n      limit,\n      filter,\n      sort,\n      ascending,\n    })\n  }\n\n  public getAllRepliesQueryKey(threadId: string) {\n    return this.getKey('reply', threadId)\n  }\n\n  public getRepliesQueryKey(\n    threadId: string,\n    ascending?: boolean,\n    limit?: number,\n    sort?: DiscussionReplyOrder,\n    filter?: DiscussionFilter,\n  ) {\n    return this.getKey('reply', threadId, { limit, filter, sort, ascending })\n  }\n\n  public getReplyQueryKey(\n    threadId: string,\n    replyId: string,\n    messageKey: string,\n  ) {\n    return this.getKey('reply', threadId, { replyId, messageKey })\n  }\n\n  public getThreadQueryKey(threadId: string) {\n    return this.getKey('thread', threadId)\n  }\n\n  public getThreadBodyQueryKey(threadId: string, messageKey: string) {\n    return this.getKey('thread', threadId, messageKey)\n  }\n\n  public getMyOAuthClientsQueryKey() {\n    return this.getKey('oauthClient')\n  }\n\n  public getDOIAssociationQueryKey(\n    objectType: string,\n    objectId: string,\n    versionNumber?: number,\n  ) {\n    return this.getKey([\n      'doi',\n      'association',\n      objectType,\n      objectId,\n      versionNumber,\n    ])\n  }\n\n  public getAllSubscribersQueryKey() {\n    return this.getKey('subscribers')\n  }\n\n  public getSubscribersQueryKey(\n    objectId: string,\n    objectType: SubscriptionObjectType,\n  ) {\n    return this.getKey('subscribers', objectId, objectType)\n  }\n\n  public getBaseSubscriptionQueryKey() {\n    return this.getKey('subscription')\n  }\n\n  public getAllSubscriptionsQueryKey(query?: SubscriptionQuery) {\n    return this.getKey('subscription', 'all', query)\n  }\n\n  public getSubscriptionQueryKey(\n    objectId: string,\n    objectType: SubscriptionObjectType,\n  ) {\n    return this.getKey('subscription', objectId, objectType)\n  }\n\n  public getSearchEntitiesQueryKey(query: SearchQuery) {\n    return this.getKey('searchEntities', query)\n  }\n\n  public getTeamQueryKey(teamId: string) {\n    return this.getKey('team', teamId)\n  }\n\n  public getTeamListQueryKey(teamIds: string) {\n    return this.getKey('team', teamIds, 'teamList')\n  }\n\n  public getChallengeTeamListQueryKey(challengeId: string) {\n    return this.getKey('challenge', challengeId, 'teamList')\n  }\n\n  public getTeamMembersQueryKey(teamId: string) {\n    return this.getKey('team', teamId, 'membersList')\n  }\n\n  public getIsUserMemberOfTeamQueryKey(teamId: string, userId: string) {\n    return this.getKey('team', teamId, 'member', userId)\n  }\n\n  public getMembershipStatusQueryKey(teamId: string, userId: string) {\n    return this.getKey('team', teamId, 'membershipStatus', userId)\n  }\n\n  public getTeamAccessRequirementsQueryKey(teamId: string) {\n    return this.getKey('team', teamId, 'accessRequirements')\n  }\n\n  public getFavoritesQueryKey() {\n    return this.getKey('favorites')\n  }\n\n  public getUserFavoritesQueryKey(\n    sort: FavoriteSortBy,\n    sortDirection: FavoriteSortDirection,\n  ) {\n    return this.getKey('favorites', sort, sortDirection)\n  }\n\n  public getUserFavoritesInfiniteQueryKey(\n    sort: FavoriteSortBy,\n    sortDirection: FavoriteSortDirection,\n  ) {\n    return this.getKey('favorites', 'infinite', sort, sortDirection)\n  }\n  public getTrashCanItemsQueryKey() {\n    return this.getKey('trashCan', 'list')\n  }\n\n  public getUserChallengesQueryKey(userId: string) {\n    return this.getKey('userChallenges', userId)\n  }\n\n  public getSubmissionTeamsQueryKey(challengeId: string) {\n    return this.getKey('submissionTeams', challengeId)\n  }\n\n  public getUserProjectsQueryKey(\n    userId: string,\n    projectParams: GetProjectsParameters,\n  ) {\n    return this.getKey('userProjects', userId, projectParams)\n  }\n\n  public getUserTeamsQueryKey(userId: string) {\n    return this.getKey('userTeams', userId)\n  }\n\n  public getPersonalAccessTokensQueryKey() {\n    return this.getKey('personalAccessTokens')\n  }\n\n  public getMyProjectsQueryKey(params?: GetProjectsParameters) {\n    return this.getKey('myProjects', params)\n  }\n\n  public getNotificationEmailQueryKey() {\n    return this.getKey('notificationEmail')\n  }\n\n  public getCurrentUserProfileQueryKey() {\n    return this.getKey('user', 'current', 'profile')\n  }\n\n  public getUserBundleQueryKey(userId: string, mask?: number) {\n    return this.getKey('user', userId, 'bundle', mask)\n  }\n\n  public getUserProfileQueryKey(userId: string) {\n    return this.getKey('user', userId, 'profile')\n  }\n\n  public getPrincipalAliasQueryKey(request: PrincipalAliasRequest) {\n    return this.getKey('principalAlias', request)\n  }\n\n  public getUserGroupHeaderQueryKey(id: string) {\n    return this.getKey('userGroupHeader', id)\n  }\n  public getUserGroupHeaderWithAliasQueryKey(aliases: string[]) {\n    return this.getKey('userGroupHeader', aliases)\n  }\n\n  public getUserGroupHeaderSearchQueryKey(\n    prefix: string,\n    filter?: TYPE_FILTER,\n  ) {\n    return this.getKey('userGroupHeader', 'search', prefix, filter)\n  }\n\n  public getTwoFactorAuthStatusQueryKey() {\n    return this.getKey('twoFactorAuthStatus')\n  }\n\n  public getBatchOfFiles(request: BatchFileRequest) {\n    return this.getKey('fileBatch', request)\n  }\n\n  public getPaginatedDockerTagQueryKey(\n    id: string,\n    offset: string,\n    limit: string,\n    sort: string,\n    sortDirection: string,\n  ) {\n    return this.getKey('dockerTag', id, offset, limit, sort, sortDirection)\n  }\n}\n","import React, { useContext, useMemo } from 'react'\nimport { SynapseErrorBoundary } from '../../components/error/ErrorBanner'\nimport { KeyFactory } from '../../synapse-queries/KeyFactory'\n\nexport type SynapseContextType = {\n  /** The user's access token. If undefined, the user is not logged in */\n  accessToken: string | undefined\n  /** If the user has enabled experimental mode */\n  isInExperimentalMode: boolean\n  /** If the user prefers time to be displayed in UTC format */\n  utcTime: boolean\n  /** Whether to wrap all children of this context in an error boundary. Useful if this context wraps just one component. */\n  withErrorBoundary: boolean\n  /** The URL of the download cart page in the current app. Used to properly link components */\n  downloadCartPageUrl: string\n  /* The key factory to use for react-query. Generated automatically. */\n  keyFactory: KeyFactory\n}\n\nconst defaultContext = {\n  accessToken: undefined,\n  isInExperimentalMode: false,\n  utcTime: false,\n  withErrorBoundary: false,\n  keyFactory: new KeyFactory(undefined),\n  downloadCartPageUrl: '/DownloadCart',\n} satisfies SynapseContextType\n\n/**\n * This must be exported to use the context in class components.\n */\nexport const SynapseContext =\n  React.createContext<SynapseContextType>(defaultContext)\n\nexport type SynapseContextProviderProps = React.PropsWithChildren<{\n  synapseContext: Partial<SynapseContextType>\n}>\n\n/**\n * Provides context necessary for most components in SRC.\n *\n * The SynapseContextProvider must be wrapped in a react-query QueryClientProvider.\n * @param param0\n * @returns\n */\nexport function SynapseContextProvider(props: SynapseContextProviderProps) {\n  const { children, synapseContext: providedContext } = props\n  const queryKeyFactory = useMemo(\n    () => new KeyFactory(providedContext.accessToken),\n    [providedContext.accessToken],\n  )\n\n  const synapseContext: SynapseContextType = useMemo(\n    () => ({\n      accessToken: providedContext.accessToken,\n      isInExperimentalMode: providedContext.isInExperimentalMode ?? false,\n      utcTime: providedContext.utcTime ?? false,\n      withErrorBoundary: providedContext.withErrorBoundary ?? false,\n      downloadCartPageUrl:\n        providedContext.downloadCartPageUrl ?? '/DownloadCart',\n      keyFactory: providedContext.keyFactory ?? queryKeyFactory,\n    }),\n    [\n      providedContext.accessToken,\n      providedContext.downloadCartPageUrl,\n      providedContext.isInExperimentalMode,\n      providedContext.keyFactory,\n      providedContext.utcTime,\n      providedContext.withErrorBoundary,\n      queryKeyFactory,\n    ],\n  )\n\n  return (\n    <SynapseContext.Provider value={synapseContext}>\n      {synapseContext?.withErrorBoundary ? (\n        <SynapseErrorBoundary>{children}</SynapseErrorBoundary>\n      ) : (\n        children\n      )}\n    </SynapseContext.Provider>\n  )\n}\n\nexport const SynapseContextConsumer = SynapseContext.Consumer\n\nexport function useSynapseContext(): SynapseContextType {\n  const context = useContext(SynapseContext)\n  if (context === undefined) {\n    throw new Error(\n      'useSynapseContext must be used within a SynapseContextProvider',\n    )\n  }\n  return context\n}\n","// src/AccessApproval.ts\nvar ApprovalState = /* @__PURE__ */ ((ApprovalState2) => {\n  ApprovalState2[\"APPROVED\"] = \"APPROVED\";\n  ApprovalState2[\"REVOKED\"] = \"REVOKED\";\n  return ApprovalState2;\n})(ApprovalState || {});\nvar AccessApprovalSortField = /* @__PURE__ */ ((AccessApprovalSortField2) => {\n  AccessApprovalSortField2[\"MODIFIED_ON\"] = \"MODIFIED_ON\";\n  AccessApprovalSortField2[\"EXPIRED_ON\"] = \"EXPIRED_ON\";\n  return AccessApprovalSortField2;\n})(AccessApprovalSortField || {});\n\n// src/AccessSubmission.ts\nvar SubmissionReviewerFilterType = /* @__PURE__ */ ((SubmissionReviewerFilterType2) => {\n  SubmissionReviewerFilterType2[\"ALL\"] = \"ALL\";\n  SubmissionReviewerFilterType2[\"ACT_ONLY\"] = \"ACT_ONLY\";\n  SubmissionReviewerFilterType2[\"DELEGATED_ONLY\"] = \"DELEGATED_ONLY\";\n  return SubmissionReviewerFilterType2;\n})(SubmissionReviewerFilterType || {});\nvar SubmissionSortField = /* @__PURE__ */ ((SubmissionSortField2) => {\n  SubmissionSortField2[\"MODIFIED_ON\"] = \"MODIFIED_ON\";\n  SubmissionSortField2[\"CREATED_ON\"] = \"CREATED_ON\";\n  return SubmissionSortField2;\n})(SubmissionSortField || {});\n\n// src/AccessRequirement/AccessorChange.ts\nvar AccessType = /* @__PURE__ */ ((AccessType2) => {\n  AccessType2[\"GAIN_ACCESS\"] = \"GAIN_ACCESS\";\n  AccessType2[\"RENEW_ACCESS\"] = \"RENEW_ACCESS\";\n  AccessType2[\"REVOKE_ACCESS\"] = \"REVOKE_ACCESS\";\n  return AccessType2;\n})(AccessType || {});\n\n// src/AccessRequirement/ManagedACTAccessRequirementStatus.ts\nvar SubmissionState = /* @__PURE__ */ ((SubmissionState2) => {\n  SubmissionState2[\"SUBMITTED\"] = \"SUBMITTED\";\n  SubmissionState2[\"APPROVED\"] = \"APPROVED\";\n  SubmissionState2[\"REJECTED\"] = \"REJECTED\";\n  SubmissionState2[\"CANCELLED\"] = \"CANCELLED\";\n  return SubmissionState2;\n})(SubmissionState || {});\n\n// src/AccessToken/ScopeDescriptions.ts\nvar scopeDescriptions = {\n  openid: {\n    displayName: \"OpenID\",\n    description: \"Access to your Synapse identity and certain user information\"\n  },\n  view: {\n    displayName: \"View\",\n    description: \"Permission to view the content which you can view\"\n  },\n  modify: {\n    displayName: \"Modify\",\n    description: \"Permission to modify the content which you can modify (create, change, delete)\"\n  },\n  download: {\n    displayName: \"Download\",\n    description: \"Permission to download the content which you can download\"\n  },\n  authorize: {\n    displayName: \"Authorize\",\n    description: \"Permission to authorize others to access the resources you control\"\n  },\n  offline_access: {\n    displayName: \"Offline Access\",\n    description: \"Permission to access the resources authorized here when you are not logged in, until you explicitly revoke access\"\n  }\n};\n\n// src/ACCESS_TYPE.ts\nvar ACCESS_TYPE = /* @__PURE__ */ ((ACCESS_TYPE2) => {\n  ACCESS_TYPE2[\"CREATE\"] = \"CREATE\";\n  ACCESS_TYPE2[\"READ\"] = \"READ\";\n  ACCESS_TYPE2[\"UPDATE\"] = \"UPDATE\";\n  ACCESS_TYPE2[\"DELETE\"] = \"DELETE\";\n  ACCESS_TYPE2[\"CHANGE_PERMISSIONS\"] = \"CHANGE_PERMISSIONS\";\n  ACCESS_TYPE2[\"DOWNLOAD\"] = \"DOWNLOAD\";\n  ACCESS_TYPE2[\"UPLOAD\"] = \"UPLOAD\";\n  ACCESS_TYPE2[\"PARTICIPATE\"] = \"PARTICIPATE\";\n  ACCESS_TYPE2[\"SUBMIT\"] = \"SUBMIT\";\n  ACCESS_TYPE2[\"READ_PRIVATE_SUBMISSION\"] = \"READ_PRIVATE_SUBMISSION\";\n  ACCESS_TYPE2[\"UPDATE_SUBMISSION\"] = \"UPDATE_SUBMISSION\";\n  ACCESS_TYPE2[\"DELETE_SUBMISSION\"] = \"DELETE_SUBMISSION\";\n  ACCESS_TYPE2[\"TEAM_MEMBERSHIP_UPDATE\"] = \"TEAM_MEMBERSHIP_UPDATE\";\n  ACCESS_TYPE2[\"SEND_MESSAGE\"] = \"SEND_MESSAGE\";\n  ACCESS_TYPE2[\"CHANGE_SETTINGS\"] = \"CHANGE_SETTINGS\";\n  ACCESS_TYPE2[\"MODERATE\"] = \"MODERATE\";\n  ACCESS_TYPE2[\"REVIEW_SUBMISSIONS\"] = \"REVIEW_SUBMISSIONS\";\n  return ACCESS_TYPE2;\n})(ACCESS_TYPE || {});\n\n// src/Annotations.ts\nvar AnnotationsValueType = /* @__PURE__ */ ((AnnotationsValueType2) => {\n  AnnotationsValueType2[AnnotationsValueType2[\"STRING\"] = 0] = \"STRING\";\n  AnnotationsValueType2[AnnotationsValueType2[\"DOUBLE\"] = 1] = \"DOUBLE\";\n  AnnotationsValueType2[AnnotationsValueType2[\"LONG\"] = 2] = \"LONG\";\n  AnnotationsValueType2[AnnotationsValueType2[\"TIMESTAMP_MS\"] = 3] = \"TIMESTAMP_MS\";\n  return AnnotationsValueType2;\n})(AnnotationsValueType || {});\n\n// src/BulkFileDownloadRequest.ts\nvar ZipFileFormat = /* @__PURE__ */ ((ZipFileFormat2) => {\n  ZipFileFormat2[\"CommandLineCache\"] = \"CommandLineCache\";\n  ZipFileFormat2[\"Flat\"] = \"Flat\";\n  return ZipFileFormat2;\n})(ZipFileFormat || {});\n\n// src/CertificationQuiz/Questions.ts\nvar MULTICHOICE_RESPONSE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.quiz.MultichoiceResponse\";\n\n// src/discussion/DiscussionBundle.ts\nvar DiscussionThreadOrder = /* @__PURE__ */ ((DiscussionThreadOrder2) => {\n  DiscussionThreadOrder2[\"NUMBER_OF_REPLIES\"] = \"NUMBER_OF_REPLIES\";\n  DiscussionThreadOrder2[\"NUMBER_OF_VIEWS\"] = \"NUMBER_OF_VIEWS\";\n  DiscussionThreadOrder2[\"PINNED_AND_LAST_ACTIVITY\"] = \"PINNED_AND_LAST_ACTIVITY\";\n  DiscussionThreadOrder2[\"THREAD_TITLE\"] = \"THREAD_TITLE\";\n  return DiscussionThreadOrder2;\n})(DiscussionThreadOrder || {});\nvar DiscussionReplyOrder = /* @__PURE__ */ ((DiscussionReplyOrder2) => {\n  DiscussionReplyOrder2[\"CREATED_ON\"] = \"CREATED_ON\";\n  return DiscussionReplyOrder2;\n})(DiscussionReplyOrder || {});\nvar DiscussionFilter = /* @__PURE__ */ ((DiscussionFilter2) => {\n  DiscussionFilter2[\"NO_FILTER\"] = \"NO_FILTER\";\n  DiscussionFilter2[\"DELETED_ONLY\"] = \"DELETED_ONLY\";\n  DiscussionFilter2[\"EXCLUDE_DELETED\"] = \"EXCLUDE_DELETED\";\n  return DiscussionFilter2;\n})(DiscussionFilter || {});\n\n// src/docker/DockerRepository.ts\nvar DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.docker.DockerRepository\";\n\n// src/Entity/FileEntity.ts\nvar FILE_ENTITY_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.FileEntity\";\n\n// src/Table/MaterializedView.ts\nvar MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.MaterializedView\";\n\n// src/Table/EntityView.ts\nvar ENTITY_VIEW_TYPE_MASK_FILE = 1;\nvar ENTITY_VIEW_TYPE_MASK_PROJECT = 2;\nvar ENTITY_VIEW_TYPE_MASK_TABLE = 4;\nvar ENTITY_VIEW_TYPE_MASK_FOLDER = 8;\nvar ENTITY_VIEW_TYPE_MASK_VIEW = 16;\nvar ENTITY_VIEW_TYPE_MASK_DOCKER = 32;\nvar ENTITY_VIEW_TYPE_MASK_SUBMISSIONVIEW = 64;\nvar ENTITY_VIEW_TYPE_MASK_DATASET = 128;\nvar ENTITY_VIEW_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.EntityView\";\n\n// src/Table/SubmissionView.ts\nvar SUBMISSION_VIEW_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.SubmissionView\";\n\n// src/Table/Dataset.ts\nvar DATASET_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.Dataset\";\nvar DATASET_COLLECTION_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.DatasetCollection\";\n\n// src/Table/VirtualTable.ts\nvar VIRTUAL_TABLE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.VirtualTable\";\n\n// src/Table/ConcreteType.ts\nvar TABLE_ENTITY_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.TableEntity\";\nvar VIEW_CONCRETE_TYPE_VALUES = [\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n  SUBMISSION_VIEW_CONCRETE_TYPE_VALUE,\n  DATASET_CONCRETE_TYPE_VALUE,\n  DATASET_COLLECTION_CONCRETE_TYPE_VALUE\n];\nvar TABLE_CONCRETE_TYPE_VALUES = [\n  TABLE_ENTITY_CONCRETE_TYPE_VALUE,\n  ...VIEW_CONCRETE_TYPE_VALUES,\n  MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE,\n  VIRTUAL_TABLE_CONCRETE_TYPE_VALUE\n];\n\n// src/Entity/Entity.ts\nvar VERSIONABLE_ENTITY_CONCRETE_TYPE_VALUES = [\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n  ...TABLE_CONCRETE_TYPE_VALUES\n];\n\n// src/Entity/Folder.ts\nvar FOLDER_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.Folder\";\n\n// src/Entity/Link.ts\nvar LINK_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.Link\";\n\n// src/Entity/Project.ts\nvar PROJECT_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.Project\";\n\n// src/EntityBundle.ts\nvar ALL_ENTITY_BUNDLE_FIELDS = {\n  includeEntity: true,\n  includeEntityPath: true,\n  includeAnnotations: true,\n  includePermissions: true,\n  includeHasChildren: true,\n  includeAccessControlList: true,\n  includeFileHandles: true,\n  includeTableBundle: true,\n  includeRootWikiId: true,\n  includeBenefactorACL: true,\n  includeDOIAssociation: true,\n  includeFileName: true,\n  includeThreadCount: true,\n  includeRestrictionInformation: true\n};\n\n// src/EntityChildren.ts\nvar SortBy = /* @__PURE__ */ ((SortBy2) => {\n  SortBy2[\"NAME\"] = \"NAME\";\n  SortBy2[\"CREATED_ON\"] = \"CREATED_ON\";\n  SortBy2[\"MODIFIED_ON\"] = \"MODIFIED_ON\";\n  return SortBy2;\n})(SortBy || {});\nvar Direction = /* @__PURE__ */ ((Direction2) => {\n  Direction2[\"ASC\"] = \"ASC\";\n  Direction2[\"DESC\"] = \"DESC\";\n  return Direction2;\n})(Direction || {});\n\n// src/EntityType.ts\nvar EntityType = /* @__PURE__ */ ((EntityType2) => {\n  EntityType2[\"PROJECT\"] = \"project\";\n  EntityType2[\"FOLDER\"] = \"folder\";\n  EntityType2[\"FILE\"] = \"file\";\n  EntityType2[\"TABLE\"] = \"table\";\n  EntityType2[\"LINK\"] = \"link\";\n  EntityType2[\"ENTITY_VIEW\"] = \"entityview\";\n  EntityType2[\"DOCKER_REPO\"] = \"dockerrepo\";\n  EntityType2[\"SUBMISSION_VIEW\"] = \"submissionview\";\n  EntityType2[\"DATASET\"] = \"dataset\";\n  EntityType2[\"DATASET_COLLECTION\"] = \"datasetcollection\";\n  EntityType2[\"MATERIALIZED_VIEW\"] = \"materializedview\";\n  EntityType2[\"VIRTUAL_TABLE\"] = \"virtualtable\";\n  return EntityType2;\n})(EntityType || {});\n\n// src/ErrorResponse.ts\nvar ErrorResponseCode = /* @__PURE__ */ ((ErrorResponseCode2) => {\n  ErrorResponseCode2[\"PASSWORD_RESET_VIA_EMAIL_REQUIRED\"] = \"PASSWORD_RESET_VIA_EMAIL_REQUIRED\";\n  ErrorResponseCode2[\"USER_CERTIFICATION_REQUIRED\"] = \"USER_CERTIFICATION_REQUIRED\";\n  ErrorResponseCode2[\"INVALID_TABLE_QUERY_FACET_COLUMN_REQUEST\"] = \"INVALID_TABLE_QUERY_FACET_COLUMN_REQUEST\";\n  ErrorResponseCode2[\"OAUTH_CLIENT_NOT_VERIFIED\"] = \"OAUTH_CLIENT_NOT_VERIFIED\";\n  ErrorResponseCode2[\"TWO_FA_REQUIRED\"] = \"TWO_FA_REQUIRED\";\n  return ErrorResponseCode2;\n})(ErrorResponseCode || {});\n\n// src/File/S3FileHandle.ts\nvar S3_FILE_HANDLE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.file.S3FileHandle\";\n\n// src/File/GoogleCloudFileHandle.ts\nvar GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.file.GoogleCloudFileHandle\";\n\n// src/File/ExternalFileHandle.ts\nvar EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.file.ExternalFileHandle\";\n\n// src/File/ExternalObjectStoreFileHandle.ts\nvar EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle\";\n\n// src/File/ProxyFileHandle.ts\nvar PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.file.ProxyFileHandle\";\n\n// src/File/UploadDestination.ts\nvar UploadType = /* @__PURE__ */ ((UploadType2) => {\n  UploadType2[\"S3\"] = \"S3\";\n  UploadType2[\"GOOGLECLOUDSTORAGE\"] = \"GOOGLECLOUDSTORAGE\";\n  UploadType2[\"SFTP\"] = \"SFTP\";\n  UploadType2[\"HTTPS\"] = \"HTTPS\";\n  UploadType2[\"PROXYLOCAL\"] = \"PROXYLOCAL\";\n  UploadType2[\"NONE\"] = \"NONE\";\n  return UploadType2;\n})(UploadType || {});\n\n// src/FileDownloadSummary.ts\nvar FileDownloadStatus = /* @__PURE__ */ ((FileDownloadStatus2) => {\n  FileDownloadStatus2[\"SUCCESS\"] = \"SUCCESS\";\n  FileDownloadStatus2[\"FAILURE\"] = \"FAILURE\";\n  return FileDownloadStatus2;\n})(FileDownloadStatus || {});\nvar FileDownloadCode = /* @__PURE__ */ ((FileDownloadCode2) => {\n  FileDownloadCode2[\"NOT_FOUND\"] = \"NOT_FOUND\";\n  FileDownloadCode2[\"UNAUTHORIZED\"] = \"UNAUTHORIZED\";\n  FileDownloadCode2[\"DUPLICATE\"] = \"DUPLICATE\";\n  FileDownloadCode2[\"EXCEEDS_SIZE_LIMIT\"] = \"EXCEEDS_SIZE_LIMIT\";\n  FileDownloadCode2[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n  return FileDownloadCode2;\n})(FileDownloadCode || {});\n\n// src/FileHandleAssociation.ts\nvar FileHandleAssociateType = /* @__PURE__ */ ((FileHandleAssociateType2) => {\n  FileHandleAssociateType2[\"FileEntity\"] = \"FileEntity\";\n  FileHandleAssociateType2[\"TableEntity\"] = \"TableEntity\";\n  FileHandleAssociateType2[\"WikiAttachment\"] = \"WikiAttachment\";\n  FileHandleAssociateType2[\"WikiMarkdown\"] = \"WikiMarkdown\";\n  FileHandleAssociateType2[\"UserProfileAttachment\"] = \"UserProfileAttachment\";\n  FileHandleAssociateType2[\"MessageAttachment\"] = \"MessageAttachment\";\n  FileHandleAssociateType2[\"TeamAttachment\"] = \"TeamAttachment\";\n  FileHandleAssociateType2[\"SubmissionAttachment\"] = \"SubmissionAttachment\";\n  FileHandleAssociateType2[\"VerificationSubmission\"] = \"VerificationSubmission\";\n  FileHandleAssociateType2[\"AccessRequirementAttachment\"] = \"AccessRequirementAttachment\";\n  FileHandleAssociateType2[\"DataAccessRequestAttachment\"] = \"DataAccessRequestAttachment\";\n  FileHandleAssociateType2[\"DataAccessSubmissionAttachment\"] = \"DataAccessSubmissionAttachment\";\n  return FileHandleAssociateType2;\n})(FileHandleAssociateType || {});\n\n// src/Forms.ts\nvar StatusEnum = /* @__PURE__ */ ((StatusEnum2) => {\n  StatusEnum2[\"WAITING_FOR_SUBMISSION\"] = \"WAITING_FOR_SUBMISSION\";\n  StatusEnum2[\"SUBMITTED_WAITING_FOR_REVIEW\"] = \"SUBMITTED_WAITING_FOR_REVIEW\";\n  StatusEnum2[\"ACCEPTED\"] = \"ACCEPTED\";\n  StatusEnum2[\"REJECTED\"] = \"REJECTED\";\n  return StatusEnum2;\n})(StatusEnum || {});\n\n// src/MarkdownCommands.ts\nvar commandList = [\n  \"title\",\n  \"bold\",\n  \"italic\",\n  \"strikethrough\",\n  \"code\",\n  \"latex\",\n  \"subscript\",\n  \"superscript\",\n  \"link\",\n  \"image\"\n];\nvar MARKDOWN_COMMANDS_DATA = {\n  title: {\n    openSyntax: \"###\",\n    closeSyntax: \"\"\n  },\n  bold: {\n    openSyntax: \"**\",\n    closeSyntax: \"**\"\n  },\n  italic: {\n    openSyntax: \"_\",\n    closeSyntax: \"_\"\n  },\n  strikethrough: {\n    openSyntax: \"--\",\n    closeSyntax: \"--\"\n  },\n  code: {\n    openSyntax: \"```\",\n    closeSyntax: \"```\"\n  },\n  latex: {\n    openSyntax: \"$$\\\\(\",\n    closeSyntax: \"\\\\)$$\"\n  },\n  subscript: {\n    openSyntax: \"~\",\n    closeSyntax: \"~\"\n  },\n  superscript: {\n    openSyntax: \"^\",\n    closeSyntax: \"^\"\n  },\n  link: {\n    openSyntax: \"[\",\n    closeSyntax: \"](url)\"\n  },\n  image: {\n    openSyntax: \"![\",\n    closeSyntax: \"](image-url)\"\n  }\n};\n\n// src/OAuthClient.ts\nvar OIDCSigningAlgorithm = /* @__PURE__ */ ((OIDCSigningAlgorithm2) => {\n  OIDCSigningAlgorithm2[\"RS256\"] = \"RS256\";\n  return OIDCSigningAlgorithm2;\n})(OIDCSigningAlgorithm || {});\n\n// src/ObjectType.ts\nvar ObjectType = /* @__PURE__ */ ((ObjectType2) => {\n  ObjectType2[\"ENTITY\"] = \"ENTITY\";\n  ObjectType2[\"ENTITY_CONTAINER\"] = \"ENTITY_CONTAINER\";\n  ObjectType2[\"PRINCIPAL\"] = \"PRINCIPAL\";\n  ObjectType2[\"ACTIVITY\"] = \"ACTIVITY\";\n  ObjectType2[\"EVALUATION\"] = \"EVALUATION\";\n  ObjectType2[\"SUBMISSION\"] = \"SUBMISSION\";\n  ObjectType2[\"EVALUATION_SUBMISSIONS\"] = \"EVALUATION_SUBMISSIONS\";\n  ObjectType2[\"FILE\"] = \"FILE\";\n  ObjectType2[\"MESSAGE\"] = \"MESSAGE\";\n  ObjectType2[\"WIKI\"] = \"WIKI\";\n  ObjectType2[\"FAVORITE\"] = \"FAVORITE\";\n  ObjectType2[\"ACCESS_REQUIREMENT\"] = \"ACCESS_REQUIREMENT\";\n  ObjectType2[\"ACCESS_APPROVAL\"] = \"ACCESS_APPROVAL\";\n  ObjectType2[\"TEAM\"] = \"TEAM\";\n  ObjectType2[\"TABLE\"] = \"TABLE\";\n  ObjectType2[\"ACCESS_CONTROL_LIST\"] = \"ACCESS_CONTROL_LIST\";\n  ObjectType2[\"PROJECT_SETTING\"] = \"PROJECT_SETTING\";\n  ObjectType2[\"VERIFICATION_SUBMISSION\"] = \"VERIFICATION_SUBMISSION\";\n  ObjectType2[\"CERTIFIED_USER_PASSING_RECORD\"] = \"CERTIFIED_USER_PASSING_RECORD\";\n  ObjectType2[\"FORUM\"] = \"FORUM\";\n  ObjectType2[\"THREAD\"] = \"THREAD\";\n  ObjectType2[\"REPLY\"] = \"REPLY\";\n  ObjectType2[\"FORM_GROUP\"] = \"FORM_GROUP\";\n  ObjectType2[\"FORM_DATA\"] = \"FORM_DATA\";\n  ObjectType2[\"ENTITY_VIEW\"] = \"ENTITY_VIEW\";\n  ObjectType2[\"USER_PROFILE\"] = \"USER_PROFILE\";\n  ObjectType2[\"DATA_ACCESS_REQUEST\"] = \"DATA_ACCESS_REQUEST\";\n  ObjectType2[\"DATA_ACCESS_SUBMISSION\"] = \"DATA_ACCESS_SUBMISSION\";\n  ObjectType2[\"DATA_ACCESS_SUBMISSION_STATUS\"] = \"DATA_ACCESS_SUBMISSION_STATUS\";\n  ObjectType2[\"MEMBERSHIP_INVITATION\"] = \"MEMBERSHIP_INVITATION\";\n  return ObjectType2;\n})(ObjectType || {});\n\n// src/Principal/PrincipalServices.ts\nvar AliasType = /* @__PURE__ */ ((AliasType2) => {\n  AliasType2[\"USER_NAME\"] = \"USER_NAME\";\n  AliasType2[\"TEAM_NAME\"] = \"TEAM_NAME\";\n  AliasType2[\"USER_EMAIL\"] = \"USER_EMAIL\";\n  AliasType2[\"USER_OPEN_ID\"] = \"USER_OPEN_ID\";\n  AliasType2[\"USER_ORCID\"] = \"USER_ORCID\";\n  return AliasType2;\n})(AliasType || {});\n\n// src/Provenance/Provenance.ts\nvar USED_URL_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.provenance.UsedURL\";\nvar USED_ENTITY_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.provenance.UsedEntity\";\n\n// src/RestrictionInformation.ts\nvar RestrictableObjectType = /* @__PURE__ */ ((RestrictableObjectType2) => {\n  RestrictableObjectType2[\"ENTITY\"] = \"ENTITY\";\n  RestrictableObjectType2[\"EVALUATION\"] = \"EVALUATION\";\n  RestrictableObjectType2[\"TEAM\"] = \"TEAM\";\n  return RestrictableObjectType2;\n})(RestrictableObjectType || {});\nvar RestrictionLevel = /* @__PURE__ */ ((RestrictionLevel2) => {\n  RestrictionLevel2[\"OPEN\"] = \"OPEN\";\n  RestrictionLevel2[\"RESTRICTED_BY_TERMS_OF_USE\"] = \"RESTRICTED_BY_TERMS_OF_USE\";\n  RestrictionLevel2[\"CONTROLLED_BY_ACT\"] = \"CONTROLLED_BY_ACT\";\n  return RestrictionLevel2;\n})(RestrictionLevel || {});\n\n// src/Schema/JsonSchemaObjectBinding.ts\nvar BoundObjectType = /* @__PURE__ */ ((BoundObjectType2) => {\n  BoundObjectType2[\"entity\"] = \"entity\";\n  return BoundObjectType2;\n})(BoundObjectType || {});\n\n// src/Schema/SchemaObjectType.ts\nvar SchemaObjectType = /* @__PURE__ */ ((SchemaObjectType2) => {\n  SchemaObjectType2[\"entity\"] = \"entity\";\n  return SchemaObjectType2;\n})(SchemaObjectType || {});\n\n// src/Search.ts\nvar SearchFieldName = /* @__PURE__ */ ((SearchFieldName2) => {\n  SearchFieldName2[\"ID\"] = \"Id\";\n  SearchFieldName2[\"NAME\"] = \"Name\";\n  SearchFieldName2[\"DESCRIPTION\"] = \"Description\";\n  SearchFieldName2[\"ENTITY_TYPE\"] = \"EntityType\";\n  SearchFieldName2[\"MODIFIED_BY\"] = \"ModifiedBy\";\n  SearchFieldName2[\"MODIFIED_ON\"] = \"ModifiedOn\";\n  SearchFieldName2[\"CREATED_BY\"] = \"CreatedBy\";\n  SearchFieldName2[\"CREATED_ON\"] = \"CreatedOn\";\n  SearchFieldName2[\"CONSORTIUM\"] = \"Consortium\";\n  SearchFieldName2[\"DIAGNOSIS\"] = \"Diagnosis\";\n  SearchFieldName2[\"ORGAN\"] = \"Organ\";\n  SearchFieldName2[\"TISSUE\"] = \"Tissue\";\n  return SearchFieldName2;\n})(SearchFieldName || {});\nvar SearchFacetSort = /* @__PURE__ */ ((SearchFacetSort2) => {\n  SearchFacetSort2[\"ALPHA\"] = \"ALPHA\";\n  SearchFacetSort2[\"COUNT\"] = \"COUNT\";\n  return SearchFacetSort2;\n})(SearchFacetSort || {});\nvar FacetTypeNames = /* @__PURE__ */ ((FacetTypeNames2) => {\n  FacetTypeNames2[\"LITERAL\"] = \"LITERAL\";\n  FacetTypeNames2[\"DATE\"] = \"DATE\";\n  FacetTypeNames2[\"CONTINUOUS\"] = \"CONTINUOUS\";\n  return FacetTypeNames2;\n})(FacetTypeNames || {});\n\n// src/SignedToken/SignedTokenConcreteType.ts\nvar MEMBERSHIP_INVITATION_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.MembershipInvtnSignedToken\";\nvar JOIN_TEAM_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.JoinTeamSignedToken\";\nvar INVITEE_VERIFICATION_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.InviteeVerificationSignedToken\";\n\n// src/util/IsType.ts\nfunction isTypeViaConcreteTypeFactory(...expectedConcreteTypes) {\n  return (object) => !!(object && typeof object === \"object\" && \"concreteType\" in object && expectedConcreteTypes.includes(object[\"concreteType\"]));\n}\n\n// src/SignedToken/JoinTeamSignedToken.ts\nvar isJoinTeamSignedToken = isTypeViaConcreteTypeFactory(\n  JOIN_TEAM_CONCRETE_TYPE_VALUE\n);\n\n// src/SignedToken/MembershipInvtnSignedToken.ts\nvar isMembershipInvtnSignedToken = isTypeViaConcreteTypeFactory(\n  MEMBERSHIP_INVITATION_CONCRETE_TYPE_VALUE\n);\n\n// src/Subscription.ts\nvar SubscriptionObjectType = /* @__PURE__ */ ((SubscriptionObjectType2) => {\n  SubscriptionObjectType2[\"FORUM\"] = \"FORUM\";\n  SubscriptionObjectType2[\"THREAD\"] = \"THREAD\";\n  SubscriptionObjectType2[\"DATA_ACCESS_SUBMISSION\"] = \"DATA_ACCESS_SUBMISSION\";\n  SubscriptionObjectType2[\"DATA_ACCESS_SUBMISSION_STATUS\"] = \"DATA_ACCESS_SUBMISSION_STATUS\";\n  return SubscriptionObjectType2;\n})(SubscriptionObjectType || {});\nvar SortByType = /* @__PURE__ */ ((SortByType2) => {\n  SortByType2[\"SUBSCRIPTION_ID\"] = \"SUBSCRIPTION_ID\";\n  SortByType2[\"SUBSCRIBER_ID\"] = \"SUBSCRIBER_ID\";\n  SortByType2[\"OBJECT_ID\"] = \"OBJECT_ID\";\n  SortByType2[\"OBJECT_TYPE\"] = \"OBJECT_TYPE\";\n  SortByType2[\"CREATED_ON\"] = \"CREATED_ON\";\n  return SortByType2;\n})(SortByType || {});\n\n// src/Table/ColumnType.ts\nvar ColumnTypeEnum = /* @__PURE__ */ ((ColumnTypeEnum2) => {\n  ColumnTypeEnum2[\"STRING\"] = \"STRING\";\n  ColumnTypeEnum2[\"DOUBLE\"] = \"DOUBLE\";\n  ColumnTypeEnum2[\"BOOLEAN\"] = \"BOOLEAN\";\n  ColumnTypeEnum2[\"INTEGER\"] = \"INTEGER\";\n  ColumnTypeEnum2[\"DATE\"] = \"DATE\";\n  ColumnTypeEnum2[\"FILEHANDLEID\"] = \"FILEHANDLEID\";\n  ColumnTypeEnum2[\"ENTITYID\"] = \"ENTITYID\";\n  ColumnTypeEnum2[\"LINK\"] = \"LINK\";\n  ColumnTypeEnum2[\"MEDIUMTEXT\"] = \"MEDIUMTEXT\";\n  ColumnTypeEnum2[\"LARGETEXT\"] = \"LARGETEXT\";\n  ColumnTypeEnum2[\"USERID\"] = \"USERID\";\n  ColumnTypeEnum2[\"STRING_LIST\"] = \"STRING_LIST\";\n  ColumnTypeEnum2[\"INTEGER_LIST\"] = \"INTEGER_LIST\";\n  ColumnTypeEnum2[\"BOOLEAN_LIST\"] = \"BOOLEAN_LIST\";\n  ColumnTypeEnum2[\"DATE_LIST\"] = \"DATE_LIST\";\n  ColumnTypeEnum2[\"USERID_LIST\"] = \"USERID_LIST\";\n  ColumnTypeEnum2[\"ENTITYID_LIST\"] = \"ENTITYID_LIST\";\n  ColumnTypeEnum2[\"EVALUATIONID\"] = \"EVALUATIONID\";\n  ColumnTypeEnum2[\"JSON\"] = \"JSON\";\n  return ColumnTypeEnum2;\n})(ColumnTypeEnum || {});\n\n// src/Table/FacetColumnRequest.ts\nvar FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest\";\nvar FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.FacetColumnRangeRequest\";\n\n// src/Table/QueryFilter.ts\nvar ColumnSingleValueFilterOperator = /* @__PURE__ */ ((ColumnSingleValueFilterOperator2) => {\n  ColumnSingleValueFilterOperator2[\"LIKE\"] = \"LIKE\";\n  ColumnSingleValueFilterOperator2[\"EQUAL\"] = \"EQUAL\";\n  ColumnSingleValueFilterOperator2[\"IN\"] = \"IN\";\n  return ColumnSingleValueFilterOperator2;\n})(ColumnSingleValueFilterOperator || {});\nvar ColumnMultiValueFunction = /* @__PURE__ */ ((ColumnMultiValueFunction2) => {\n  ColumnMultiValueFunction2[\"HAS\"] = \"HAS\";\n  ColumnMultiValueFunction2[\"HAS_LIKE\"] = \"HAS_LIKE\";\n  return ColumnMultiValueFunction2;\n})(ColumnMultiValueFunction || {});\nvar COLUMN_SINGLE_VALUE_QUERY_FILTER_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter\";\nvar COLUMN_MULTI_VALUE_FUNCTION_QUERY_FILTER_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter\";\nvar TEXT_MATCHES_QUERY_FILTER_CONCRETE_TYPE_VALUE = \"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter\";\n\n// src/UserGroupHeader.ts\nvar TYPE_FILTER = /* @__PURE__ */ ((TYPE_FILTER2) => {\n  TYPE_FILTER2[\"USERS_ONLY\"] = \"USERS_ONLY\";\n  TYPE_FILTER2[\"TEAMS_ONLY\"] = \"TEAMS_ONLY\";\n  TYPE_FILTER2[\"ALL\"] = \"ALL\";\n  return TYPE_FILTER2;\n})(TYPE_FILTER || {});\n\n// src/VerificationSubmission.ts\nvar VerificationStateEnum = /* @__PURE__ */ ((VerificationStateEnum2) => {\n  VerificationStateEnum2[\"SUBMITTED\"] = \"SUBMITTED\";\n  VerificationStateEnum2[\"APPROVED\"] = \"APPROVED\";\n  VerificationStateEnum2[\"REJECTED\"] = \"REJECTED\";\n  VerificationStateEnum2[\"SUSPENDED\"] = \"SUSPENDED\";\n  return VerificationStateEnum2;\n})(VerificationStateEnum || {});\nexport {\n  ACCESS_TYPE,\n  ALL_ENTITY_BUNDLE_FIELDS,\n  AccessApprovalSortField,\n  AccessType,\n  AliasType,\n  AnnotationsValueType,\n  ApprovalState,\n  BoundObjectType,\n  COLUMN_MULTI_VALUE_FUNCTION_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  COLUMN_SINGLE_VALUE_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  ColumnMultiValueFunction,\n  ColumnSingleValueFilterOperator,\n  ColumnTypeEnum,\n  DATASET_COLLECTION_CONCRETE_TYPE_VALUE,\n  DATASET_CONCRETE_TYPE_VALUE,\n  DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE,\n  Direction,\n  DiscussionFilter,\n  DiscussionReplyOrder,\n  DiscussionThreadOrder,\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n  ENTITY_VIEW_TYPE_MASK_DATASET,\n  ENTITY_VIEW_TYPE_MASK_DOCKER,\n  ENTITY_VIEW_TYPE_MASK_FILE,\n  ENTITY_VIEW_TYPE_MASK_FOLDER,\n  ENTITY_VIEW_TYPE_MASK_PROJECT,\n  ENTITY_VIEW_TYPE_MASK_SUBMISSIONVIEW,\n  ENTITY_VIEW_TYPE_MASK_TABLE,\n  ENTITY_VIEW_TYPE_MASK_VIEW,\n  EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  EntityType,\n  ErrorResponseCode,\n  FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE,\n  FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE,\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n  FOLDER_CONCRETE_TYPE_VALUE,\n  FacetTypeNames,\n  FileDownloadCode,\n  FileDownloadStatus,\n  FileHandleAssociateType,\n  GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  INVITEE_VERIFICATION_CONCRETE_TYPE_VALUE,\n  JOIN_TEAM_CONCRETE_TYPE_VALUE,\n  LINK_CONCRETE_TYPE_VALUE,\n  MARKDOWN_COMMANDS_DATA,\n  MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE,\n  MEMBERSHIP_INVITATION_CONCRETE_TYPE_VALUE,\n  MULTICHOICE_RESPONSE_CONCRETE_TYPE_VALUE,\n  OIDCSigningAlgorithm,\n  ObjectType,\n  PROJECT_CONCRETE_TYPE_VALUE,\n  PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  RestrictableObjectType,\n  RestrictionLevel,\n  S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  SUBMISSION_VIEW_CONCRETE_TYPE_VALUE,\n  SchemaObjectType,\n  SearchFacetSort,\n  SearchFieldName,\n  SortBy,\n  SortByType,\n  StatusEnum,\n  SubmissionReviewerFilterType,\n  SubmissionSortField,\n  SubmissionState,\n  SubscriptionObjectType,\n  TABLE_CONCRETE_TYPE_VALUES,\n  TABLE_ENTITY_CONCRETE_TYPE_VALUE,\n  TEXT_MATCHES_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  TYPE_FILTER,\n  USED_ENTITY_CONCRETE_TYPE_VALUE,\n  USED_URL_CONCRETE_TYPE_VALUE,\n  UploadType,\n  VERSIONABLE_ENTITY_CONCRETE_TYPE_VALUES,\n  VIEW_CONCRETE_TYPE_VALUES,\n  VIRTUAL_TABLE_CONCRETE_TYPE_VALUE,\n  VerificationStateEnum,\n  ZipFileFormat,\n  commandList,\n  isJoinTeamSignedToken,\n  isMembershipInvtnSignedToken,\n  scopeDescriptions\n};\n","import {\n  CloudProviderFileHandleInterface,\n  COLUMN_MULTI_VALUE_FUNCTION_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  COLUMN_SINGLE_VALUE_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  ColumnMultiValueFunctionQueryFilter,\n  ColumnSingleValueQueryFilter,\n  DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE,\n  DockerRepository,\n  EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  ExternalFileHandle,\n  ExternalFileHandleInterface,\n  FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE,\n  FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE,\n  FacetColumnRangeRequest,\n  FacetColumnValuesRequest,\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n  FileEntity,\n  GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  INVITEE_VERIFICATION_CONCRETE_TYPE_VALUE,\n  InviteeVerificationSignedToken,\n  JOIN_TEAM_CONCRETE_TYPE_VALUE,\n  JoinTeamSignedToken,\n  Link,\n  LINK_CONCRETE_TYPE_VALUE,\n  MEMBERSHIP_INVITATION_CONCRETE_TYPE_VALUE,\n  MembershipInvtnSignedToken,\n  PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  S3FileHandle,\n  TermsOfUseAccessRequirement,\n  TEXT_MATCHES_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  TextMatchesQueryFilter,\n} from '@sage-bionetworks/synapse-types'\n\n/**\n * TypeScript doesn't support nominal typing, but we can utilize the concreteType field in Synapse objects to identify the class of an object. This function\n * will return a function that can be used as a type guard using the concreteType field.\n *\n * Generic `TTypeChecked` is the type that you are trying to verify/assert.\n * Generic `ObjectType` is optional and can be used to require a specific interface or type before calling this method. Defaults to `unknown`.\n *\n * @param expectedConcreteTypes\n * @returns a function that checks if a given object is an instance of `TTypeChecked` using the expected concrete type value.\n */\nexport function isTypeViaConcreteTypeFactory<\n  TTypeChecked extends ObjectType, // The type that you are trying to verify/assert\n  ObjectType extends { concreteType: string } = { concreteType: string },\n>(...expectedConcreteTypes: TTypeChecked['concreteType'][]) {\n  return (object: ObjectType): object is TTypeChecked =>\n    !!(\n      object &&\n      typeof object === 'object' &&\n      'concreteType' in object &&\n      expectedConcreteTypes.includes(object['concreteType'])\n    )\n}\n\nexport const implementsCloudProviderFileHandleInterface =\n  isTypeViaConcreteTypeFactory<CloudProviderFileHandleInterface>(\n    S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n    GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  )\nexport const isExternalFileHandle =\n  isTypeViaConcreteTypeFactory<ExternalFileHandle>(\n    EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  )\nexport const isLink = isTypeViaConcreteTypeFactory<Link>(\n  LINK_CONCRETE_TYPE_VALUE,\n)\nexport const implementsExternalFileHandleInterface =\n  isTypeViaConcreteTypeFactory<ExternalFileHandleInterface>(\n    PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n    EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n    EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  )\nexport const isDockerRepository =\n  isTypeViaConcreteTypeFactory<DockerRepository>(\n    DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE,\n  )\nexport const isFacetColumnValuesRequest =\n  isTypeViaConcreteTypeFactory<FacetColumnValuesRequest>(\n    FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE,\n  )\nexport const isFacetColumnRangeRequest =\n  isTypeViaConcreteTypeFactory<FacetColumnRangeRequest>(\n    FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE,\n  )\nexport const isTextMatchesQueryFilter =\n  isTypeViaConcreteTypeFactory<TextMatchesQueryFilter>(\n    TEXT_MATCHES_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  )\nexport const isColumnSingleValueQueryFilter =\n  isTypeViaConcreteTypeFactory<ColumnSingleValueQueryFilter>(\n    COLUMN_SINGLE_VALUE_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  )\nexport const isColumnMultiValueFunctionQueryFilter =\n  isTypeViaConcreteTypeFactory<ColumnMultiValueFunctionQueryFilter>(\n    COLUMN_MULTI_VALUE_FUNCTION_QUERY_FILTER_CONCRETE_TYPE_VALUE,\n  )\nexport const isS3FileHandle = isTypeViaConcreteTypeFactory<S3FileHandle>(\n  S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n)\nexport const isFileEntity = isTypeViaConcreteTypeFactory<FileEntity>(\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n)\nexport const isTermsOfUseAccessRequirement =\n  isTypeViaConcreteTypeFactory<TermsOfUseAccessRequirement>(\n    'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement',\n  )\nexport const isInviteeVerificationSignedToken =\n  isTypeViaConcreteTypeFactory<InviteeVerificationSignedToken>(\n    INVITEE_VERIFICATION_CONCRETE_TYPE_VALUE,\n  )\nexport const isJoinTeamSignedToken =\n  isTypeViaConcreteTypeFactory<JoinTeamSignedToken>(\n    JOIN_TEAM_CONCRETE_TYPE_VALUE,\n  )\nexport const isMembershipInvtnSignedToken =\n  isTypeViaConcreteTypeFactory<MembershipInvtnSignedToken>(\n    MEMBERSHIP_INVITATION_CONCRETE_TYPE_VALUE,\n  )\n","import {\n  Dataset,\n  DATASET_COLLECTION_CONCRETE_TYPE_VALUE,\n  DATASET_CONCRETE_TYPE_VALUE,\n  DatasetCollection,\n  DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE,\n  Entity,\n  ENTITY_CONCRETE_TYPE,\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n  ENTITY_VIEW_TYPE_MASK_FILE,\n  EntityHeader,\n  EntityType,\n  EntityView,\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n  FOLDER_CONCRETE_TYPE_VALUE,\n  Hit,\n  LINK_CONCRETE_TYPE_VALUE,\n  MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE,\n  MaterializedView,\n  PROJECT_CONCRETE_TYPE_VALUE,\n  ProjectHeader,\n  SUBMISSION_VIEW_CONCRETE_TYPE_VALUE,\n  SubmissionView,\n  Table,\n  TABLE_CONCRETE_TYPE_VALUES,\n  TABLE_ENTITY_CONCRETE_TYPE_VALUE,\n  TableEntity,\n  VersionableEntity,\n  View,\n  VIEW_CONCRETE_TYPE_VALUES,\n  VIRTUAL_TABLE_CONCRETE_TYPE_VALUE,\n} from '@sage-bionetworks/synapse-types'\nimport { isTypeViaConcreteTypeFactory } from '../types/IsType'\n\nexport function getEntityTypeFromHeader(\n  header:\n    | Pick<EntityHeader, 'name' | 'id' | 'type'>\n    | EntityHeader\n    | ProjectHeader\n    | Hit,\n) {\n  // Hit has the `node_type` field which is what we already want.\n  if ((header as Hit).node_type) {\n    return (header as Hit).node_type\n  }\n  // ProjectHeader doesn't have the `type` field, so we can just check that to determine if it's a ProjectHeader\n  return (header as EntityHeader).type === undefined\n    ? EntityType.PROJECT\n    : convertToEntityType((header as EntityHeader).type)\n}\n\nexport function isContainerType(type: EntityType): boolean {\n  switch (type) {\n    case EntityType.PROJECT:\n    case EntityType.FOLDER:\n      return true\n    case EntityType.LINK:\n    case EntityType.DOCKER_REPO:\n    case EntityType.FILE:\n    case EntityType.TABLE:\n    case EntityType.SUBMISSION_VIEW:\n    case EntityType.ENTITY_VIEW:\n    case EntityType.DATASET:\n    case EntityType.DATASET_COLLECTION:\n    case EntityType.MATERIALIZED_VIEW:\n    case EntityType.VIRTUAL_TABLE:\n      return false\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\nexport function isTableType(type: EntityType): boolean {\n  switch (type) {\n    case EntityType.PROJECT:\n    case EntityType.FOLDER:\n    case EntityType.LINK:\n    case EntityType.DOCKER_REPO:\n    case EntityType.FILE:\n      return false\n    case EntityType.TABLE:\n    case EntityType.SUBMISSION_VIEW:\n    case EntityType.ENTITY_VIEW:\n    case EntityType.DATASET:\n    case EntityType.DATASET_COLLECTION:\n    case EntityType.MATERIALIZED_VIEW:\n    case EntityType.VIRTUAL_TABLE:\n      return true\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\nexport function entityTypeToFriendlyName(entityType: EntityType): string {\n  switch (entityType) {\n    case EntityType.PROJECT:\n      return 'Project'\n    case EntityType.FOLDER:\n      return 'Folder'\n    case EntityType.FILE:\n      return 'File'\n    case EntityType.TABLE:\n      return 'Table'\n    case EntityType.LINK:\n      return 'Link'\n    case EntityType.ENTITY_VIEW:\n      return 'View'\n    case EntityType.DOCKER_REPO:\n      return 'Docker Repository'\n    case EntityType.SUBMISSION_VIEW:\n      return 'Submission View'\n    case EntityType.DATASET:\n      return 'Dataset'\n    case EntityType.DATASET_COLLECTION:\n      return 'Dataset Collection'\n    case EntityType.MATERIALIZED_VIEW:\n      return 'Materialized View'\n    case EntityType.VIRTUAL_TABLE:\n      return 'Virtual Table'\n    default:\n      console.warn('Entity type could not be mapped to name:', entityType)\n      return ''\n  }\n}\n\nexport function convertToEntityType(\n  typeString: string | ENTITY_CONCRETE_TYPE | EntityType,\n): EntityType {\n  switch (typeString) {\n    case EntityType.PROJECT:\n    case 'org.sagebionetworks.repo.model.Project':\n      return EntityType.PROJECT\n    case EntityType.FOLDER:\n    case 'org.sagebionetworks.repo.model.Folder':\n      return EntityType.FOLDER\n    case EntityType.FILE:\n    case FILE_ENTITY_CONCRETE_TYPE_VALUE:\n      return EntityType.FILE\n    case EntityType.LINK:\n    case 'org.sagebionetworks.repo.model.Link':\n      return EntityType.LINK\n    case EntityType.DOCKER_REPO:\n    case 'org.sagebionetworks.repo.model.docker.DockerRepository':\n      return EntityType.DOCKER_REPO\n    case EntityType.TABLE:\n    case TABLE_ENTITY_CONCRETE_TYPE_VALUE:\n      return EntityType.TABLE\n    case EntityType.SUBMISSION_VIEW:\n    case 'org.sagebionetworks.repo.model.table.SubmissionView':\n      return EntityType.SUBMISSION_VIEW\n    case EntityType.ENTITY_VIEW:\n    case ENTITY_VIEW_CONCRETE_TYPE_VALUE:\n      return EntityType.ENTITY_VIEW\n    case EntityType.DATASET:\n    case DATASET_CONCRETE_TYPE_VALUE:\n      return EntityType.DATASET\n    case EntityType.DATASET_COLLECTION:\n    case DATASET_COLLECTION_CONCRETE_TYPE_VALUE:\n      return EntityType.DATASET_COLLECTION\n    case EntityType.MATERIALIZED_VIEW:\n    case MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE:\n      return EntityType.MATERIALIZED_VIEW\n    case EntityType.VIRTUAL_TABLE:\n    case VIRTUAL_TABLE_CONCRETE_TYPE_VALUE:\n      return EntityType.VIRTUAL_TABLE\n    default:\n      throw new Error(`Unknown entity type: ${typeString}`)\n  }\n}\n\nexport function convertToConcreteEntityType(\n  type: EntityType,\n): ENTITY_CONCRETE_TYPE {\n  switch (type) {\n    case EntityType.PROJECT:\n      return 'org.sagebionetworks.repo.model.Project'\n    case EntityType.FOLDER:\n      return 'org.sagebionetworks.repo.model.Folder'\n    case EntityType.FILE:\n      return 'org.sagebionetworks.repo.model.FileEntity'\n    case EntityType.LINK:\n      return 'org.sagebionetworks.repo.model.Link'\n    case EntityType.DOCKER_REPO:\n      return 'org.sagebionetworks.repo.model.docker.DockerRepository'\n    case EntityType.TABLE:\n      return 'org.sagebionetworks.repo.model.table.TableEntity'\n    case EntityType.SUBMISSION_VIEW:\n      return 'org.sagebionetworks.repo.model.table.SubmissionView'\n    case EntityType.ENTITY_VIEW:\n      return 'org.sagebionetworks.repo.model.table.EntityView'\n    case EntityType.DATASET:\n      return 'org.sagebionetworks.repo.model.table.Dataset'\n    case EntityType.DATASET_COLLECTION:\n      return 'org.sagebionetworks.repo.model.table.DatasetCollection'\n    case EntityType.MATERIALIZED_VIEW:\n      return 'org.sagebionetworks.repo.model.table.MaterializedView'\n    case EntityType.VIRTUAL_TABLE:\n      return 'org.sagebionetworks.repo.model.table.VirtualTable'\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\n/**\n * https://docs.synapse.org/rest/org/sagebionetworks/repo/model/VersionableEntity.html\n * @param type\n * @returns\n */\nexport function isVersionableEntityType(type: EntityType): boolean {\n  switch (type) {\n    case EntityType.PROJECT:\n    case EntityType.FOLDER:\n    case EntityType.LINK:\n    case EntityType.DOCKER_REPO:\n    case EntityType.SUBMISSION_VIEW: // SubmissionView implements VersionableEntity, but versions aren't supported\n    case EntityType.MATERIALIZED_VIEW: // MaterializedView implements VersionableEntity, but versions aren't supported.\n    case EntityType.VIRTUAL_TABLE: // VirtualTable implements VersionableEntity, but versions aren't supported.\n      return false\n    case EntityType.FILE:\n    case EntityType.TABLE:\n    case EntityType.ENTITY_VIEW:\n    case EntityType.DATASET:\n    case EntityType.DATASET_COLLECTION:\n      return true\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\nexport const isTable = isTypeViaConcreteTypeFactory<Table, Entity>(\n  ...TABLE_CONCRETE_TYPE_VALUES,\n)\n\nexport const isView = isTypeViaConcreteTypeFactory<View, Entity>(\n  ...VIEW_CONCRETE_TYPE_VALUES,\n)\n\nexport const isTableEntity = isTypeViaConcreteTypeFactory<TableEntity, Entity>(\n  TABLE_ENTITY_CONCRETE_TYPE_VALUE,\n)\n\nexport const isSubmissionView = isTypeViaConcreteTypeFactory<\n  SubmissionView,\n  Entity\n>(SUBMISSION_VIEW_CONCRETE_TYPE_VALUE)\n\nexport const isMaterializedView = isTypeViaConcreteTypeFactory<\n  MaterializedView,\n  Entity\n>(MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE)\n\nexport const isDataset = isTypeViaConcreteTypeFactory<Dataset, Entity>(\n  DATASET_CONCRETE_TYPE_VALUE,\n)\nexport const isDatasetCollection = isTypeViaConcreteTypeFactory<\n  DatasetCollection,\n  Entity\n>(DATASET_COLLECTION_CONCRETE_TYPE_VALUE)\n\nexport const isEntityRefCollectionView = (entity: Entity) =>\n  isDataset(entity) || isDatasetCollection(entity)\n\nexport const isEntityView = isTypeViaConcreteTypeFactory<EntityView, Entity>(\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n)\n\n/**\n * @param entityView\n * @returns true iff the viewTypeMask allows files to appear in the view\n */\nexport function hasFilesInView(entityView: EntityView) {\n  return (entityView.viewTypeMask & ENTITY_VIEW_TYPE_MASK_FILE) != 0\n}\n\n/**\n * @param entityView\n * @returns true iff the viewTypeMask allows only files to appear in the view\n */\nexport function isFileView(entityView: EntityView) {\n  return entityView.viewTypeMask === ENTITY_VIEW_TYPE_MASK_FILE\n}\n\nexport function isVersionableEntity(\n  entity: Entity,\n): entity is VersionableEntity {\n  return isVersionableEntityType(convertToEntityType(entity.concreteType))\n}\n\nexport function getVersionDisplay(entity: Entity): string {\n  if (!isVersionableEntity(entity)) {\n    console.warn(\"Entity isn't versionable:\", entity)\n    return ''\n  }\n\n  if (entity.isLatestVersion) {\n    if (!isTable(entity)) {\n      // e.g. Files. Always show the version number\n      return `${entity.versionNumber!.toString()} (Current)`\n    } else if (isDataset(entity)) {\n      return 'Draft'\n    } else {\n      return 'Current'\n    }\n  } else {\n    return entity.versionNumber!.toString()\n  }\n}\n\n// implemented by https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html\nconst allEntityKeys: string[] = [\n  'name',\n  'description',\n  'id',\n  'etag',\n  'createdOn',\n  'modifiedOn',\n  'createdBy',\n  'modifiedBy',\n  'parentId',\n  'concreteType',\n]\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/VersionableEntity.html\nconst versionableKeys: string[] = [\n  ...allEntityKeys,\n  'versionNumber',\n  'versionLabel',\n  'versionComment',\n  'isLatestVersion',\n]\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Table.html\nconst tableKeys: string[] = [...versionableKeys, 'columnIds', 'isSearchEnabled']\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/View.html\nconst viewKeys: string[] = [...tableKeys]\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/EntityRefCollectionView.html\nconst entityRefCollectionViewKeys: string[] = [...viewKeys, 'items']\n\n/**\n * A string array of all possible keys used by Synapse in Entity objects (objects that inherit this interface: https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html).\n * This object is used to determine which fields are standard and which are annotations,\n * so it's important that this object contains all keys in the objects that implement the linked interface above.\n */\nexport const entityJsonKeys: Record<ENTITY_CONCRETE_TYPE, string[]> = {\n  [LINK_CONCRETE_TYPE_VALUE]: [...allEntityKeys, 'linksTo', 'linksToClassName'],\n  [DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE]: [\n    ...allEntityKeys,\n    'repositoryName',\n    'isManaged',\n  ],\n  [FILE_ENTITY_CONCRETE_TYPE_VALUE]: [\n    ...versionableKeys,\n    'dataFileHandleId',\n    'fileNameOverride',\n  ],\n  [SUBMISSION_VIEW_CONCRETE_TYPE_VALUE]: [...viewKeys, 'scopeIds'],\n  [DATASET_CONCRETE_TYPE_VALUE]: [\n    ...entityRefCollectionViewKeys,\n    'size',\n    'checksum',\n  ],\n  [DATASET_COLLECTION_CONCRETE_TYPE_VALUE]: [...entityRefCollectionViewKeys],\n  [ENTITY_VIEW_CONCRETE_TYPE_VALUE]: [\n    ...viewKeys,\n    'scopeIds',\n    'viewTypeMask',\n    'type',\n  ],\n  [TABLE_ENTITY_CONCRETE_TYPE_VALUE]: tableKeys,\n  [MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE]: [...tableKeys, 'definingSQL'],\n  [VIRTUAL_TABLE_CONCRETE_TYPE_VALUE]: [...tableKeys, 'definingSQL'],\n  [FOLDER_CONCRETE_TYPE_VALUE]: allEntityKeys,\n  [PROJECT_CONCRETE_TYPE_VALUE]: [...allEntityKeys, 'alias'],\n}\n","import { useHistory } from 'react-router-dom'\nimport { POST_SSO_REDIRECT_URL_LOCALSTORAGE_KEY } from '../SynapseConstants'\n\nexport function preparePostSSORedirect() {\n  // save current route (so that we can go back here after SSO)\n  localStorage.setItem(\n    POST_SSO_REDIRECT_URL_LOCALSTORAGE_KEY,\n    window.location.href,\n  )\n}\n\nexport function redirectAfterSSO(\n  history?: ReturnType<typeof useHistory>,\n  fallbackRedirectUrl?: string,\n) {\n  // go back to original route after successful SSO login\n  const originalUrl = localStorage.getItem(\n    POST_SSO_REDIRECT_URL_LOCALSTORAGE_KEY,\n  )\n  localStorage.removeItem(POST_SSO_REDIRECT_URL_LOCALSTORAGE_KEY)\n  const redirectUrl = originalUrl ?? fallbackRedirectUrl\n  if (redirectUrl) {\n    if (history) {\n      if (redirectUrl.startsWith(window.location.origin)) {\n        history.replace(redirectUrl.substring(window.location.origin.length))\n      } else {\n        history.replace(redirectUrl)\n      }\n    } else {\n      window.location.replace(redirectUrl)\n    }\n  }\n}\n","import React, { useContext } from 'react'\nimport { UseDetectSSOCodeReturnType } from '../../hooks'\nimport { TwoFactorAuthErrorResponse } from '@sage-bionetworks/synapse-types'\n\nexport type ApplicationSessionContextType = {\n  /* The Synapse Authentication token. If undefined, the user is not signed in. */\n  token?: string\n  /* Whether the current user accepts the terms of use. May be undefined while status is fetched. Will always be undefined for the anonymous user. */\n  acceptsTermsOfUse?: boolean\n  /* Whether the session has been initialized */\n  hasInitializedSession: boolean\n  /* Updates this context based on the current token cookie. Should typically be called when the user has signed in or signed out. */\n  refreshSession: () => Promise<void>\n  /* Error object encountered when a Synapse user signs in with SSO and has 2FA enabled. A code within this error object is required to complete sign-in. */\n  twoFactorAuthSSOErrorResponse?: TwoFactorAuthErrorResponse\n  /* Signs the user out and updates this context. */\n  clearSession: () => Promise<void>\n  isLoadingSSO: UseDetectSSOCodeReturnType['isLoading']\n}\n\nconst ApplicationSessionContext = React.createContext<\n  ApplicationSessionContextType | undefined\n>(undefined)\n\nexport type ApplicationSessionContextProviderProps = React.PropsWithChildren<{\n  context: ApplicationSessionContextType\n}>\n\nexport function ApplicationSessionContextProvider(\n  props: ApplicationSessionContextProviderProps,\n) {\n  const { context, children } = props\n  return (\n    <ApplicationSessionContext.Provider value={context}>\n      {children}\n    </ApplicationSessionContext.Provider>\n  )\n}\n\nexport const ApplicationSessionContextConsumer =\n  ApplicationSessionContext.Consumer\n\n/*\n * Retrieves the context provided by the ApplicationSessionContextProvider. The context is often created by the\n * ApplicationSessionManager\n */\nexport function useApplicationSessionContext(): ApplicationSessionContextType {\n  const context = useContext(ApplicationSessionContext)\n  if (context === undefined) {\n    throw new Error(\n      'useApplicationSessionContext must be used within an ApplicationSessionContextProvider',\n    )\n  }\n  return context\n}\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { createMemoryHistory, createLocation, locationsAreEqual, createPath } from 'history';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport pathToRegexp from 'path-to-regexp';\nimport { isValidElementType } from 'react-is';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport hoistStatics from 'hoist-non-react-statics';\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\nvar commonjsGlobal = typeof globalThis !== \"undefined\" // 'global proper'\n? // eslint-disable-next-line no-undef\nglobalThis : typeof window !== \"undefined\" ? window // Browser\n: typeof global !== \"undefined\" ? global // node.js\n: {};\n\nfunction getUniqueId() {\n  var key = \"__global_unique_id__\";\n  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;\n} // Inlined Object.is polyfill.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n\n\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // eslint-disable-next-line no-self-compare\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = \"__create-react-context-\" + getUniqueId() + \"__\";\n\n  var Provider = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(Provider, _React$Component);\n\n    function Provider() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n      _this.emitter = createEventEmitter(_this.props.value);\n      return _this;\n    }\n\n    var _proto = Provider.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0; // No change\n        } else {\n          changedBits = typeof calculateChangedBits === \"function\" ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n\n          if (process.env.NODE_ENV !== \"production\") {\n            process.env.NODE_ENV !== \"production\" ? warning((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, \"calculateChangedBits: Expected the return value to be a \" + \"31-bit integer. Instead received: \" + changedBits) : void 0;\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    _proto.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(React.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = PropTypes.object.isRequired, _Provider$childContex);\n\n  var Consumer = /*#__PURE__*/function (_React$Component2) {\n    _inheritsLoose(Consumer, _React$Component2);\n\n    function Consumer() {\n      var _this2;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this2 = _React$Component2.call.apply(_React$Component2, [this].concat(args)) || this;\n      _this2.observedBits = void 0;\n      _this2.state = {\n        value: _this2.getValue()\n      };\n\n      _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({\n            value: _this2.getValue()\n          });\n        }\n      };\n\n      return _this2;\n    }\n\n    var _proto2 = Consumer.prototype;\n\n    _proto2.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    _proto2.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n\n      var observedBits = this.props.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    _proto2.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    _proto2.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(React.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = PropTypes.object, _Consumer$contextType);\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\n// MIT License\nvar createContext = React.createContext || createReactContext;\n\n// TODO: Replace with React.createContext once we can assume React 16+\n\nvar createNamedContext = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar historyContext = /*#__PURE__*/createNamedContext(\"Router-History\");\n\nvar context = /*#__PURE__*/createNamedContext(\"Router\");\n\n/**\n * The public API for putting history on context.\n */\n\nvar Router = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Router, _React$Component);\n\n  Router.computeRootMatch = function computeRootMatch(pathname) {\n    return {\n      path: \"/\",\n      url: \"/\",\n      params: {},\n      isExact: pathname === \"/\"\n    };\n  };\n\n  function Router(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      location: props.history.location\n    }; // This is a bit of a hack. We have to start listening for location\n    // changes here in the constructor in case there are any <Redirect>s\n    // on the initial render. If there are, they will replace/push when\n    // they mount and since cDM fires in children before parents, we may\n    // get a new location before the <Router> is mounted.\n\n    _this._isMounted = false;\n    _this._pendingLocation = null;\n\n    if (!props.staticContext) {\n      _this.unlisten = props.history.listen(function (location) {\n        _this._pendingLocation = location;\n      });\n    }\n\n    return _this;\n  }\n\n  var _proto = Router.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this._isMounted = true;\n\n    if (this.unlisten) {\n      // Any pre-mount location changes have been captured at\n      // this point, so unregister the listener.\n      this.unlisten();\n    }\n\n    if (!this.props.staticContext) {\n      this.unlisten = this.props.history.listen(function (location) {\n        if (_this2._isMounted) {\n          _this2.setState({\n            location: location\n          });\n        }\n      });\n    }\n\n    if (this._pendingLocation) {\n      this.setState({\n        location: this._pendingLocation\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n      this._isMounted = false;\n      this._pendingLocation = null;\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(context.Provider, {\n      value: {\n        history: this.props.history,\n        location: this.state.location,\n        match: Router.computeRootMatch(this.state.location.pathname),\n        staticContext: this.props.staticContext\n      }\n    }, /*#__PURE__*/React.createElement(historyContext.Provider, {\n      children: this.props.children || null,\n      value: this.props.history\n    }));\n  };\n\n  return Router;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Router.propTypes = {\n    children: PropTypes.node,\n    history: PropTypes.object.isRequired,\n    staticContext: PropTypes.object\n  };\n\n  Router.prototype.componentDidUpdate = function (prevProps) {\n    process.env.NODE_ENV !== \"production\" ? warning(prevProps.history === this.props.history, \"You cannot change <Router history>\") : void 0;\n  };\n}\n\n/**\n * The public API for a <Router> that stores location in memory.\n */\n\nvar MemoryRouter = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(MemoryRouter, _React$Component);\n\n  function MemoryRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createMemoryHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = MemoryRouter.prototype;\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return MemoryRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  MemoryRouter.propTypes = {\n    initialEntries: PropTypes.array,\n    initialIndex: PropTypes.number,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number,\n    children: PropTypes.node\n  };\n\n  MemoryRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<MemoryRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { MemoryRouter as Router }`.\") : void 0;\n  };\n}\n\nvar Lifecycle = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Lifecycle, _React$Component);\n\n  function Lifecycle() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Lifecycle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.onMount) this.props.onMount.call(this, this);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.onUpdate) this.props.onUpdate.call(this, this, prevProps);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.onUnmount) this.props.onUnmount.call(this, this);\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Lifecycle;\n}(React.Component);\n\n/**\n * The public API for prompting the user before navigating away from a screen.\n */\n\nfunction Prompt(_ref) {\n  var message = _ref.message,\n      _ref$when = _ref.when,\n      when = _ref$when === void 0 ? true : _ref$when;\n  return /*#__PURE__*/React.createElement(context.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Prompt> outside a <Router>\") : invariant(false) : void 0;\n    if (!when || context.staticContext) return null;\n    var method = context.history.block;\n    return /*#__PURE__*/React.createElement(Lifecycle, {\n      onMount: function onMount(self) {\n        self.release = method(message);\n      },\n      onUpdate: function onUpdate(self, prevProps) {\n        if (prevProps.message !== message) {\n          self.release();\n          self.release = method(message);\n        }\n      },\n      onUnmount: function onUnmount(self) {\n        self.release();\n      },\n      message: message\n    });\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  var messageType = PropTypes.oneOfType([PropTypes.func, PropTypes.string]);\n  Prompt.propTypes = {\n    when: PropTypes.bool,\n    message: messageType.isRequired\n  };\n}\n\nvar cache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nfunction compilePath(path) {\n  if (cache[path]) return cache[path];\n  var generator = pathToRegexp.compile(path);\n\n  if (cacheCount < cacheLimit) {\n    cache[path] = generator;\n    cacheCount++;\n  }\n\n  return generator;\n}\n/**\n * Public API for generating a URL pathname from a path and parameters.\n */\n\n\nfunction generatePath(path, params) {\n  if (path === void 0) {\n    path = \"/\";\n  }\n\n  if (params === void 0) {\n    params = {};\n  }\n\n  return path === \"/\" ? path : compilePath(path)(params, {\n    pretty: true\n  });\n}\n\n/**\n * The public API for navigating programmatically with a component.\n */\n\nfunction Redirect(_ref) {\n  var computedMatch = _ref.computedMatch,\n      to = _ref.to,\n      _ref$push = _ref.push,\n      push = _ref$push === void 0 ? false : _ref$push;\n  return /*#__PURE__*/React.createElement(context.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Redirect> outside a <Router>\") : invariant(false) : void 0;\n    var history = context.history,\n        staticContext = context.staticContext;\n    var method = push ? history.push : history.replace;\n    var location = createLocation(computedMatch ? typeof to === \"string\" ? generatePath(to, computedMatch.params) : _extends({}, to, {\n      pathname: generatePath(to.pathname, computedMatch.params)\n    }) : to); // When rendering in a static context,\n    // set the new location immediately.\n\n    if (staticContext) {\n      method(location);\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(Lifecycle, {\n      onMount: function onMount() {\n        method(location);\n      },\n      onUpdate: function onUpdate(self, prevProps) {\n        var prevLocation = createLocation(prevProps.to);\n\n        if (!locationsAreEqual(prevLocation, _extends({}, location, {\n          key: prevLocation.key\n        }))) {\n          method(location);\n        }\n      },\n      to: to\n    });\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  Redirect.propTypes = {\n    push: PropTypes.bool,\n    from: PropTypes.string,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n  };\n}\n\nvar cache$1 = {};\nvar cacheLimit$1 = 10000;\nvar cacheCount$1 = 0;\n\nfunction compilePath$1(path, options) {\n  var cacheKey = \"\" + options.end + options.strict + options.sensitive;\n  var pathCache = cache$1[cacheKey] || (cache$1[cacheKey] = {});\n  if (pathCache[path]) return pathCache[path];\n  var keys = [];\n  var regexp = pathToRegexp(path, keys, options);\n  var result = {\n    regexp: regexp,\n    keys: keys\n  };\n\n  if (cacheCount$1 < cacheLimit$1) {\n    pathCache[path] = result;\n    cacheCount$1++;\n  }\n\n  return result;\n}\n/**\n * Public API for matching a URL pathname to a path.\n */\n\n\nfunction matchPath(pathname, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof options === \"string\" || Array.isArray(options)) {\n    options = {\n      path: options\n    };\n  }\n\n  var _options = options,\n      path = _options.path,\n      _options$exact = _options.exact,\n      exact = _options$exact === void 0 ? false : _options$exact,\n      _options$strict = _options.strict,\n      strict = _options$strict === void 0 ? false : _options$strict,\n      _options$sensitive = _options.sensitive,\n      sensitive = _options$sensitive === void 0 ? false : _options$sensitive;\n  var paths = [].concat(path);\n  return paths.reduce(function (matched, path) {\n    if (!path && path !== \"\") return null;\n    if (matched) return matched;\n\n    var _compilePath = compilePath$1(path, {\n      end: exact,\n      strict: strict,\n      sensitive: sensitive\n    }),\n        regexp = _compilePath.regexp,\n        keys = _compilePath.keys;\n\n    var match = regexp.exec(pathname);\n    if (!match) return null;\n    var url = match[0],\n        values = match.slice(1);\n    var isExact = pathname === url;\n    if (exact && !isExact) return null;\n    return {\n      path: path,\n      // the path used to match\n      url: path === \"/\" && url === \"\" ? \"/\" : url,\n      // the matched portion of the URL\n      isExact: isExact,\n      // whether or not we matched exactly\n      params: keys.reduce(function (memo, key, index) {\n        memo[key.name] = values[index];\n        return memo;\n      }, {})\n    };\n  }, null);\n}\n\nfunction isEmptyChildren(children) {\n  return React.Children.count(children) === 0;\n}\n\nfunction evalChildrenDev(children, props, path) {\n  var value = children(props);\n  process.env.NODE_ENV !== \"production\" ? warning(value !== undefined, \"You returned `undefined` from the `children` function of \" + (\"<Route\" + (path ? \" path=\\\"\" + path + \"\\\"\" : \"\") + \">, but you \") + \"should have returned a React element or `null`\") : void 0;\n  return value || null;\n}\n/**\n * The public API for matching a single path and rendering.\n */\n\n\nvar Route = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Route, _React$Component);\n\n  function Route() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Route.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(context.Consumer, null, function (context$1) {\n      !context$1 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Route> outside a <Router>\") : invariant(false) : void 0;\n      var location = _this.props.location || context$1.location;\n      var match = _this.props.computedMatch ? _this.props.computedMatch // <Switch> already computed the match for us\n      : _this.props.path ? matchPath(location.pathname, _this.props) : context$1.match;\n\n      var props = _extends({}, context$1, {\n        location: location,\n        match: match\n      });\n\n      var _this$props = _this.props,\n          children = _this$props.children,\n          component = _this$props.component,\n          render = _this$props.render; // Preact uses an empty array as children by\n      // default, so use null if that's the case.\n\n      if (Array.isArray(children) && isEmptyChildren(children)) {\n        children = null;\n      }\n\n      return /*#__PURE__*/React.createElement(context.Provider, {\n        value: props\n      }, props.match ? children ? typeof children === \"function\" ? process.env.NODE_ENV !== \"production\" ? evalChildrenDev(children, props, _this.props.path) : children(props) : children : component ? /*#__PURE__*/React.createElement(component, props) : render ? render(props) : null : typeof children === \"function\" ? process.env.NODE_ENV !== \"production\" ? evalChildrenDev(children, props, _this.props.path) : children(props) : null);\n    });\n  };\n\n  return Route;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Route.propTypes = {\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    component: function component(props, propName) {\n      if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\"Invalid prop 'component' supplied to 'Route': the prop is not a valid React component\");\n      }\n    },\n    exact: PropTypes.bool,\n    location: PropTypes.object,\n    path: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    render: PropTypes.func,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool\n  };\n\n  Route.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.children && !isEmptyChildren(this.props.children) && this.props.component), \"You should not use <Route component> and <Route children> in the same route; <Route component> will be ignored\") : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.children && !isEmptyChildren(this.props.children) && this.props.render), \"You should not use <Route render> and <Route children> in the same route; <Route render> will be ignored\") : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.component && this.props.render), \"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored\") : void 0;\n  };\n\n  Route.prototype.componentDidUpdate = function (prevProps) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.location && !prevProps.location), '<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(!this.props.location && prevProps.location), '<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.') : void 0;\n  };\n}\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\n}\n\nfunction addBasename(basename, location) {\n  if (!basename) return location;\n  return _extends({}, location, {\n    pathname: addLeadingSlash(basename) + location.pathname\n  });\n}\n\nfunction stripBasename(basename, location) {\n  if (!basename) return location;\n  var base = addLeadingSlash(basename);\n  if (location.pathname.indexOf(base) !== 0) return location;\n  return _extends({}, location, {\n    pathname: location.pathname.substr(base.length)\n  });\n}\n\nfunction createURL(location) {\n  return typeof location === \"string\" ? location : createPath(location);\n}\n\nfunction staticHandler(methodName) {\n  return function () {\n     process.env.NODE_ENV !== \"production\" ? invariant(false, \"You cannot %s with <StaticRouter>\", methodName) : invariant(false) ;\n  };\n}\n\nfunction noop() {}\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\n\n\nvar StaticRouter = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(StaticRouter, _React$Component);\n\n  function StaticRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handlePush = function (location) {\n      return _this.navigateTo(location, \"PUSH\");\n    };\n\n    _this.handleReplace = function (location) {\n      return _this.navigateTo(location, \"REPLACE\");\n    };\n\n    _this.handleListen = function () {\n      return noop;\n    };\n\n    _this.handleBlock = function () {\n      return noop;\n    };\n\n    return _this;\n  }\n\n  var _proto = StaticRouter.prototype;\n\n  _proto.navigateTo = function navigateTo(location, action) {\n    var _this$props = this.props,\n        _this$props$basename = _this$props.basename,\n        basename = _this$props$basename === void 0 ? \"\" : _this$props$basename,\n        _this$props$context = _this$props.context,\n        context = _this$props$context === void 0 ? {} : _this$props$context;\n    context.action = action;\n    context.location = addBasename(basename, createLocation(location));\n    context.url = createURL(context.location);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        _this$props2$basename = _this$props2.basename,\n        basename = _this$props2$basename === void 0 ? \"\" : _this$props2$basename,\n        _this$props2$context = _this$props2.context,\n        context = _this$props2$context === void 0 ? {} : _this$props2$context,\n        _this$props2$location = _this$props2.location,\n        location = _this$props2$location === void 0 ? \"/\" : _this$props2$location,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"basename\", \"context\", \"location\"]);\n\n    var history = {\n      createHref: function createHref(path) {\n        return addLeadingSlash(basename + createURL(path));\n      },\n      action: \"POP\",\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler(\"go\"),\n      goBack: staticHandler(\"goBack\"),\n      goForward: staticHandler(\"goForward\"),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n    return /*#__PURE__*/React.createElement(Router, _extends({}, rest, {\n      history: history,\n      staticContext: context\n    }));\n  };\n\n  return StaticRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  StaticRouter.propTypes = {\n    basename: PropTypes.string,\n    context: PropTypes.object,\n    location: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n  };\n\n  StaticRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<StaticRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { StaticRouter as Router }`.\") : void 0;\n  };\n}\n\n/**\n * The public API for rendering the first <Route> that matches.\n */\n\nvar Switch = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Switch, _React$Component);\n\n  function Switch() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Switch.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return /*#__PURE__*/React.createElement(context.Consumer, null, function (context) {\n      !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Switch> outside a <Router>\") : invariant(false) : void 0;\n      var location = _this.props.location || context.location;\n      var element, match; // We use React.Children.forEach instead of React.Children.toArray().find()\n      // here because toArray adds keys to all child elements and we do not want\n      // to trigger an unmount/remount for two <Route>s that render the same\n      // component at different URLs.\n\n      React.Children.forEach(_this.props.children, function (child) {\n        if (match == null && /*#__PURE__*/React.isValidElement(child)) {\n          element = child;\n          var path = child.props.path || child.props.from;\n          match = path ? matchPath(location.pathname, _extends({}, child.props, {\n            path: path\n          })) : context.match;\n        }\n      });\n      return match ? /*#__PURE__*/React.cloneElement(element, {\n        location: location,\n        computedMatch: match\n      }) : null;\n    });\n  };\n\n  return Switch;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Switch.propTypes = {\n    children: PropTypes.node,\n    location: PropTypes.object\n  };\n\n  Switch.prototype.componentDidUpdate = function (prevProps) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.location && !prevProps.location), '<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(!this.props.location && prevProps.location), '<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.') : void 0;\n  };\n}\n\n/**\n * A public higher-order component to access the imperative API\n */\n\nfunction withRouter(Component) {\n  var displayName = \"withRouter(\" + (Component.displayName || Component.name) + \")\";\n\n  var C = function C(props) {\n    var wrappedComponentRef = props.wrappedComponentRef,\n        remainingProps = _objectWithoutPropertiesLoose(props, [\"wrappedComponentRef\"]);\n\n    return /*#__PURE__*/React.createElement(context.Consumer, null, function (context) {\n      !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <\" + displayName + \" /> outside a <Router>\") : invariant(false) : void 0;\n      return /*#__PURE__*/React.createElement(Component, _extends({}, remainingProps, context, {\n        ref: wrappedComponentRef\n      }));\n    });\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    C.propTypes = {\n      wrappedComponentRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object])\n    };\n  }\n\n  return hoistStatics(C, Component);\n}\n\nvar useContext = React.useContext;\nfunction useHistory() {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useHistory()\") : invariant(false) : void 0;\n  }\n\n  return useContext(historyContext);\n}\nfunction useLocation() {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useLocation()\") : invariant(false) : void 0;\n  }\n\n  return useContext(context).location;\n}\nfunction useParams() {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useParams()\") : invariant(false) : void 0;\n  }\n\n  var match = useContext(context).match;\n  return match ? match.params : {};\n}\nfunction useRouteMatch(path) {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useRouteMatch()\") : invariant(false) : void 0;\n  }\n\n  var location = useLocation();\n  var match = useContext(context).match;\n  return path ? matchPath(location.pathname, path) : match;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  if (typeof window !== \"undefined\") {\n    var global$1 = window;\n    var key = \"__react_router_build__\";\n    var buildNames = {\n      cjs: \"CommonJS\",\n      esm: \"ES modules\",\n      umd: \"UMD\"\n    };\n\n    if (global$1[key] && global$1[key] !== \"esm\") {\n      var initialBuildName = buildNames[global$1[key]];\n      var secondaryBuildName = buildNames[\"esm\"]; // TODO: Add link to article that explains in detail how to avoid\n      // loading 2 different builds.\n\n      throw new Error(\"You are loading the \" + secondaryBuildName + \" build of React Router \" + (\"on a page that is already running the \" + initialBuildName + \" \") + \"build, so things won't work right.\");\n    }\n\n    global$1[key] = \"esm\";\n  }\n}\n\nexport { MemoryRouter, Prompt, Redirect, Route, Router, StaticRouter, Switch, historyContext as __HistoryContext, context as __RouterContext, generatePath, matchPath, useHistory, useLocation, useParams, useRouteMatch, withRouter };\n//# sourceMappingURL=react-router.js.map\n","import React, { useCallback, useEffect, useState } from 'react'\nimport SynapseClient from '../../../synapse-client'\nimport useDetectSSOCode from '../../hooks/useDetectSSOCode'\nimport { redirectAfterSSO } from '../AppUtils'\nimport { useHistory } from 'react-router-dom'\nimport { TwoFactorAuthErrorResponse } from '@sage-bionetworks/synapse-types'\nimport { ApplicationSessionContextProvider } from './ApplicationSessionContext'\nimport { SynapseContextProvider } from '../../context/SynapseContext'\nimport dayjs from 'dayjs'\n\nexport type ApplicationSessionManagerProps = React.PropsWithChildren<{\n  downloadCartPageUrl?: string\n  /* If defined, specifies the allowable elapsed time in seconds since the last time the End-User was actively authenticated. If the elapsed time is greater than this value, the session will be cleared and the user will have to re-authenticate. */\n  maxAge?: number\n  /* Called when the session is reset, i.e. the user has signed out.*/\n  onResetSessionComplete?: () => void\n  onError?: (e: unknown) => void\n}>\n\n/**\n * The ApplicationSessionManager will manage Synapse user session in an app. The goal is that any custom app should\n * just be able to add this component near the top of its component tree and have the full Synapse login lifecycle managed\n * while exposing minimal complexity to the app itself.\n *\n * Custom per-app behavior should be customized with generalizable props to this component.\n *\n * The session data can be accessed with useApplicationSessionContext.\n *\n * This component must be called within a react-router Router. ApplicationSessionManager also wraps all of its children\n * in a SynapseContextProvider.\n * @param props\n * @constructor\n */\nexport function ApplicationSessionManager(\n  props: ApplicationSessionManagerProps,\n) {\n  const {\n    children,\n    downloadCartPageUrl,\n    onResetSessionComplete,\n    maxAge,\n    onError,\n  } = props\n  const history = useHistory()\n\n  const [token, setToken] = useState<string | undefined>(undefined)\n  const [acceptsTermsOfUse, setAcceptsTermsOfUse] = useState<\n    boolean | undefined\n  >(undefined)\n  const [hasInitializedSession, setHasInitializedSession] = useState(false)\n  const [twoFactorAuthSSOError, setTwoFactorAuthSSOError] = useState<\n    TwoFactorAuthErrorResponse | undefined\n  >(undefined)\n  const initAnonymousUserState = useCallback(() => {\n    SynapseClient.signOut().then(() => {\n      // reset token\n      setToken(undefined)\n      setAcceptsTermsOfUse(undefined)\n      setHasInitializedSession(true)\n    })\n  }, [])\n\n  const refreshSession = useCallback(async () => {\n    setTwoFactorAuthSSOError(undefined)\n    let token\n    try {\n      token = await SynapseClient.getAccessTokenFromCookie()\n      if (!token) {\n        initAnonymousUserState()\n        return\n      }\n    } catch (e) {\n      console.error('Unable to get the access token: ', e)\n      if (onError) {\n        onError(e)\n      }\n      initAnonymousUserState()\n      return\n    }\n    if (maxAge) {\n      // SWC-5597: if max_age is defined, then return if the user last authenticated more than max_age seconds ago\n      const authenticatedOnResponse = await SynapseClient.getAuthenticatedOn(\n        token,\n      )\n      const lastAuthenticatedOn = dayjs.utc(\n        authenticatedOnResponse.authenticatedOn,\n      )\n      const now = dayjs.utc()\n      if (now.diff(lastAuthenticatedOn, 'seconds') > maxAge) {\n        // Don't set the token so the user must re-authenticate to use this app\n        setHasInitializedSession(true)\n        return\n      }\n    }\n    setToken(token)\n    setHasInitializedSession(true)\n\n    try {\n      // get the user profile just to check if the terms of use have been agreed to\n      // an error will be thrown if the terms of use have not been signed.\n      await SynapseClient.getUserProfile(token)\n      setAcceptsTermsOfUse(true)\n    } catch (e) {\n      if (e && e.reason == 'Terms of use have not been signed.') {\n        setAcceptsTermsOfUse(false)\n      } else {\n        console.error('Error on refreshSession: ', e)\n        // intentionally calling sign out because the token could be stale so we want\n        // the stored session to be cleared out.\n        SynapseClient.signOut().then(() => {\n          // PORTALS-2293: if the token was invalid (caused an error), reload the app to ensure all children\n          // are loading as the anonymous user\n          window.location.reload()\n        })\n      }\n    }\n  }, [initAnonymousUserState, maxAge, onError])\n\n  const clearSession = useCallback(async () => {\n    await SynapseClient.signOut()\n    await refreshSession()\n    if (onResetSessionComplete) {\n      onResetSessionComplete()\n    }\n  }, [refreshSession, onResetSessionComplete])\n\n  /** Call refreshSession on mount */\n  useEffect(() => {\n    refreshSession()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const { isLoading: isLoadingSSO } = useDetectSSOCode({\n    onSignInComplete: () => {\n      redirectAfterSSO(history)\n      refreshSession()\n    },\n    onTwoFactorAuthRequired: twoFactorAuthError => {\n      setTwoFactorAuthSSOError(twoFactorAuthError)\n    },\n  })\n\n  return (\n    <ApplicationSessionContextProvider\n      context={{\n        token,\n        acceptsTermsOfUse,\n        refreshSession,\n        clearSession,\n        isLoadingSSO,\n        twoFactorAuthSSOErrorResponse: twoFactorAuthSSOError,\n        hasInitializedSession,\n      }}\n    >\n      <SynapseContextProvider\n        synapseContext={{\n          accessToken: token,\n          isInExperimentalMode: SynapseClient.isInSynapseExperimentalMode(),\n          utcTime: SynapseClient.getUseUtcTimeFromCookie(),\n          downloadCartPageUrl,\n        }}\n      >\n        {children}\n      </SynapseContextProvider>\n    </ApplicationSessionContextProvider>\n  )\n}\n\nexport default ApplicationSessionManager\n","import { TypographyOptions } from '@mui/material/styles/createTypography'\nimport { Palette } from '@mui/material/styles/createPalette'\n\nexport const defaultFontFamily = ['Lato', 'sans-serif'].join(',')\nexport const monospaceFontFamily = [\n  'Menlo',\n  'Courier New',\n  'Courier',\n  'monospace',\n].join(',')\n\nconst defaultStyles = {\n  fontStyle: 'normal',\n  letterSpacing: '0px',\n}\n\nexport const typographyOptions: (\n  palette: Palette,\n) => TypographyOptions = palette => ({\n  fontFamily: defaultFontFamily,\n  headline1: {\n    ...defaultStyles,\n    fontSize: '24px',\n    fontWeight: 700,\n    lineHeight: '28px',\n  },\n  headline2: {\n    ...defaultStyles,\n    fontSize: '20px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  headline3: {\n    ...defaultStyles,\n    fontSize: '18px',\n    fontWeight: 700,\n    lineHeight: '20px',\n  },\n  body1: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  body1Italic: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n    fontStyle: 'italic',\n  },\n  body2: {\n    ...defaultStyles,\n    fontSize: '12px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  breadcrumb1: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '16px',\n  },\n  breadcrumb2: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 700,\n    lineHeight: '16px',\n  },\n  smallText1: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '16px',\n  },\n  smallText2: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 700,\n    lineHeight: '16px',\n  },\n  smallLink: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 900,\n    lineHeight: '16px',\n  },\n  label: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 700,\n    lineHeight: '16px',\n  },\n  buttonLink: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 900,\n    lineHeight: '20px',\n  },\n  hintText: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  sectionTitle: {\n    ...defaultStyles,\n    fontSize: '21px',\n    fontWeight: 700,\n    lineHeight: '25px',\n    textTransform: 'uppercase',\n  },\n  subsectionHeader: {\n    ...defaultStyles,\n    fontSize: '18px',\n    fontWeight: 700,\n    lineHeight: '21px',\n  },\n  dataFieldKey: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '16px',\n    color: palette.grey[700],\n    textTransform: 'uppercase',\n  },\n  monospace: {\n    ...defaultStyles,\n    fontFamily: monospaceFontFamily,\n    fontSize: '13px',\n  },\n})\n","// This file is autogenerated. It's used to publish ESM to npm.\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nvar trimLeft = /^\\s+/;\nvar trimRight = /\\s+$/;\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n  var rgb = inputToRGB(color);\n  this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = Math.round(100 * this._a) / 100, this._format = opts.format || rgb.format;\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n  this._ok = rgb.ok;\n}\ntinycolor.prototype = {\n  isDark: function isDark() {\n    return this.getBrightness() < 128;\n  },\n  isLight: function isLight() {\n    return !this.isDark();\n  },\n  isValid: function isValid() {\n    return this._ok;\n  },\n  getOriginalInput: function getOriginalInput() {\n    return this._originalInput;\n  },\n  getFormat: function getFormat() {\n    return this._format;\n  },\n  getAlpha: function getAlpha() {\n    return this._a;\n  },\n  getBrightness: function getBrightness() {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function getLuminance() {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function setAlpha(value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function toHsv() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return {\n      h: hsv.h * 360,\n      s: hsv.s,\n      v: hsv.v,\n      a: this._a\n    };\n  },\n  toHsvString: function toHsvString() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function toHsl() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return {\n      h: hsl.h * 360,\n      s: hsl.s,\n      l: hsl.l,\n      a: this._a\n    };\n  },\n  toHslString: function toHslString() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function toHex(allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function toHexString(allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function toHex8(allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function toHex8String(allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function toRgb() {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a\n    };\n  },\n  toRgbString: function toRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \")\" : \"rgba(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \", \" + this._roundA + \")\";\n  },\n  toPercentageRgb: function toPercentageRgb() {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a\n    };\n  },\n  toPercentageRgbString: function toPercentageRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%)\" : \"rgba(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n  },\n  toName: function toName() {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n    if (this._a < 1) {\n      return false;\n    }\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function toFilter(secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n    return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n  },\n  toString: function toString(format) {\n    var formatSet = !!format;\n    format = format || this._format;\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n    return formattedString || this.toHexString();\n  },\n  clone: function clone() {\n    return tinycolor(this.toString());\n  },\n  _applyModification: function _applyModification(fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function lighten() {\n    return this._applyModification(_lighten, arguments);\n  },\n  brighten: function brighten() {\n    return this._applyModification(_brighten, arguments);\n  },\n  darken: function darken() {\n    return this._applyModification(_darken, arguments);\n  },\n  desaturate: function desaturate() {\n    return this._applyModification(_desaturate, arguments);\n  },\n  saturate: function saturate() {\n    return this._applyModification(_saturate, arguments);\n  },\n  greyscale: function greyscale() {\n    return this._applyModification(_greyscale, arguments);\n  },\n  spin: function spin() {\n    return this._applyModification(_spin, arguments);\n  },\n  _applyCombination: function _applyCombination(fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function analogous() {\n    return this._applyCombination(_analogous, arguments);\n  },\n  complement: function complement() {\n    return this._applyCombination(_complement, arguments);\n  },\n  monochromatic: function monochromatic() {\n    return this._applyCombination(_monochromatic, arguments);\n  },\n  splitcomplement: function splitcomplement() {\n    return this._applyCombination(_splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function triad() {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function tetrad() {\n    return this._applyCombination(polyad, [4]);\n  }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (_typeof(color) == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n  if (_typeof(color) == \"object\") {\n    if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n  a = boundAlpha(a);\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n\n  // Return a 3 character hex if possible\n  if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16)), pad2(convertDecimalToHex(a))];\n\n  // Return a 4 character hex if possible\n  if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [pad2(convertDecimalToHex(a)), pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random()\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction _desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\nfunction _lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\nfunction _brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\nfunction _darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction _spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction _complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({\n      h: (hsl.h + i * step) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }));\n  }\n  return result;\n}\nfunction _splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [tinycolor(color), tinycolor({\n    h: (h + 72) % 360,\n    s: hsl.s,\n    l: hsl.l\n  }), tinycolor({\n    h: (h + 216) % 360,\n    s: hsl.s,\n    l: hsl.l\n  })];\n}\nfunction _analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n  for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\nfunction _monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n  while (results--) {\n    ret.push(tinycolor({\n      h: h,\n      s: s,\n      v: v\n    }));\n    v = (v + modification) % 1;\n  }\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n  var p = amount / 100;\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a\n  };\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n  out = false;\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n  if (tinycolor.isReadable(baseColor, bestColor, {\n    level: level,\n    size: size\n  }) || !includeFallbackColors) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return n % max / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\nvar matchers = function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n  };\n}();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0,\n      format: \"name\"\n    };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if (match = matchers.rgb.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3]\n    };\n  }\n  if (match = matchers.rgba.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsl.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3]\n    };\n  }\n  if (match = matchers.hsla.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsv.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3]\n    };\n  }\n  if (match = matchers.hsva.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hex8.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex6.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  if (match = matchers.hex4.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex3.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  return false;\n}\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || {\n    level: \"AA\",\n    size: \"small\"\n  };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return {\n    level: level,\n    size: size\n  };\n}\n\nexport { tinycolor as default };\n","import { PaletteColorOptions, PaletteOptions } from '@mui/material'\nimport tinycolor from 'tinycolor2'\n\nexport const generatePalette = (\n  mainColor: tinycolor.ColorInput,\n  specificColors?: PaletteColorOptions,\n): PaletteColorOptions => {\n  return {\n    100: tinycolor(mainColor).desaturate(25).lighten(50).toString(),\n    200: tinycolor(mainColor).desaturate(13).lighten(20).toString(),\n    300: tinycolor(mainColor).desaturate(3).lighten(10).toString(),\n    400: tinycolor(mainColor).desaturate(1).lighten(5).toString(),\n    500: tinycolor(mainColor).toString(),\n    600: tinycolor(mainColor).saturate(5).darken(4).toString(),\n    700: tinycolor(mainColor).saturate(11).darken(8).toString(),\n    800: tinycolor(mainColor).saturate(18).darken(10).toString(),\n    900: tinycolor(mainColor).saturate(24).darken(18).toString(),\n    light:\n      (specificColors && 400 in specificColors && specificColors[400]) ||\n      tinycolor(mainColor).desaturate(1).lighten(5).toString(), // 400\n    main: tinycolor(mainColor).toString(), // 500\n    dark:\n      (specificColors && 600 in specificColors && specificColors[600]) ||\n      tinycolor(mainColor).saturate(5).darken(4).toString(), // 600\n    contrastText: '#fff',\n    ...specificColors,\n  }\n}\n\n/**\n * Default colors here match the default colors in _variables.scss.  We now have a single point of control\n */\nexport const palette: PaletteOptions = {\n  primary: generatePalette('#395979', {\n    100: '#d7dee4',\n    200: '#b0bdc9',\n    300: '#889baf',\n    400: '#617a94',\n    500: '#395979',\n    600: '#2e4761',\n    700: '#223549',\n    800: '#172430',\n    900: '#0b1218',\n  }),\n  secondary: generatePalette('#469285', {\n    100: '#dae9e7',\n    200: '#b5d3ce',\n    300: '#90beb6',\n    400: '#6ba89d',\n    500: '#469285',\n    600: '#38756a',\n    700: '#2a6960',\n    800: '#1c3a35',\n    900: '#0e1d1b',\n  }),\n  tertiary: generatePalette('#EDC766', {\n    100: '#fbf4e0',\n    200: '#f8e9c2',\n    300: '#f4dda3',\n    400: '#f1d285',\n    500: '#edc766',\n    600: '#be9f52',\n    700: '#8e773d',\n    800: '#5f5029',\n    900: '#2f2814',\n  }),\n  grey: {\n    1000: '#22252a',\n    900: '#353a3f',\n    800: '#4a5056',\n    700: '#878e95',\n    600: '#aeb5bc',\n    500: '#d0d4d9',\n    400: '#dfe2e6',\n    300: '#eaecee',\n    200: '#f1f3f5',\n    100: '#fbfbfc',\n  },\n  neutral: generatePalette('#d0d4d9', {\n    1000: '#22252a',\n    900: '#353a3f',\n    800: '#4a5056',\n    700: '#878e95',\n    600: '#aeb5bc',\n    500: '#d0d4d9',\n    400: '#dfe2e6',\n    300: '#eaecee',\n    200: '#f1f3f5',\n    100: '#fbfbfc',\n  }),\n  darkPrimary: generatePalette('#0b1218'), // primary-900\n  light: { ...generatePalette('#f8f9fa'), contrastText: '#22252a' }, // grey-1000\n  success: { main: '#32a330' },\n  info: { main: '#017fa5' },\n  warning: { main: '#cc9f00' },\n  error: { main: '#c13415' },\n  text: {\n    primary: '#353a3f', // gray-900\n    secondary: '#4a5056', // gray-800\n  },\n  // Set a minimum contrast of at least 4.5:1 as defined in WCAG 2.1 Rule 1.4.3.\n  // https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html.\n  // But the contrast text color is currently not updated when the colors are: https://github.com/mui/material-ui/issues/35895\n  contrastThreshold: 4.5,\n}\n\nexport const mtbPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#4F527D'),\n  secondary: generatePalette('#9499C7'),\n}\n\nexport const arkPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#e79776'),\n  secondary: generatePalette('#e79776'),\n}\n\nexport const adKnowledgePortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#4d5491'),\n  secondary: generatePalette('#2f8e94'),\n}\n\nexport const elPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#39AC97'),\n  secondary: generatePalette('#39AC97'),\n}\n\nexport const nfPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: { ...generatePalette('#125e81'), contrastText: '#fff' },\n  secondary: { ...generatePalette('#404b63'), contrastText: '#fff' },\n}\n\nexport const bsmnPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#00255c'),\n  secondary: generatePalette('#2699a7'),\n}\n\nexport const psychEncodePortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#00565e'),\n  secondary: generatePalette('#f7a700'),\n}\n\nexport const stopAdPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#4d5491'),\n  secondary: generatePalette('#4d5491'),\n}\n\nexport const digitalHealthPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#3e7293'),\n  secondary: generatePalette('#164767'),\n}\n\nexport const crcResearcherPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#0085ff'),\n  secondary: generatePalette('#0085ff'),\n}\n\nexport const cancerComplexityPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#38568e'),\n  secondary: generatePalette('#47337d'),\n}\n\nexport const sageBionetworksPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#24AB9F'),\n  secondary: generatePalette('#F5B33C'),\n}\n\nexport const challengePortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#407BA0'),\n  secondary: generatePalette('#407BA0'),\n}\n\nexport default {\n  palette,\n  generatePalette,\n  adKnowledgePortalPalette,\n  mtbPalette,\n  arkPortalPalette,\n  challengePortalPalette,\n  elPortalPalette,\n  nfPortalPalette,\n  bsmnPortalPalette,\n  psychEncodePortalPalette,\n  stopAdPortalPalette,\n  digitalHealthPortalPalette,\n  crcResearcherPortalPalette,\n  cancerComplexityPortalPalette,\n  sageBionetworksPalette,\n}\n","import { Components, Theme } from '@mui/material'\n\nconst linkTheme: Components<Theme>['MuiLink'] = {\n  defaultProps: {\n    underline: 'always',\n  },\n  styleOverrides: {\n    root: ({ theme }) => ({\n      fontWeight: 700,\n      letterSpacing: '0.5px',\n      '&:hover': {\n        // overrides base style in bootstrap 3\n        color: theme.palette.primary.main,\n      },\n    }),\n    underlineAlways: ({ theme }) => ({\n      textDecoration: 'underline',\n      textUnderlineOffset: '4px',\n      textDecorationThickness: '1px',\n      textDecorationColor: theme.palette.grey[600],\n      '&:hover': {\n        textDecorationColor: theme.palette.primary.main,\n        textDecorationThickness: '2px',\n      },\n    }),\n    underlineHover: {\n      '&:hover': {\n        textUnderlineOffset: '4px',\n        textDecorationThickness: '2px',\n      },\n    },\n  },\n}\n\nexport default linkTheme\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm1 13h-2v-2h2v2zm0-4h-2V7h2v6z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-1-5h2v2h-2zm0-8h2v6h-2z\"\n}, \"1\")], 'ErrorTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}, \"1\")], 'HighlightOffTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm1 13h-2v-6h2v6zm0-8h-2V7h2v2z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}, \"1\")], 'InfoTwoTone');","import {\n  alpha,\n  Fade,\n  inputBaseClasses,\n  lighten,\n  ThemeOptions,\n} from '@mui/material'\nimport { typographyOptions } from './typography/Typography'\nimport { palette } from './palette/Palettes'\nimport linkTheme from './typography/Link'\nimport React from 'react'\nimport {\n  CheckCircleTwoTone,\n  ErrorTwoTone,\n  HighlightOffTwoTone,\n  InfoTwoTone,\n} from '@mui/icons-material'\n\nconst DIALOG_INNER_PADDING = '2px'\n\nexport const defaultMuiThemeOptions: ThemeOptions = {\n  typography: typographyOptions,\n  palette: palette,\n  components: {\n    MuiAlert: {\n      defaultProps: {\n        square: true,\n        iconMapping: {\n          error: <HighlightOffTwoTone />,\n          info: <InfoTwoTone />,\n          success: <CheckCircleTwoTone />,\n          warning: <ErrorTwoTone />,\n        },\n      },\n      styleOverrides: {\n        root: ({ ownerState, theme }) => ({\n          alignItems: 'center',\n          fontSize: '14px',\n          borderLeft: `10px solid ${\n            // The default severity is 'success'.\n            theme.palette[ownerState.severity || 'success']['main']\n          }`,\n          color: theme.palette.text.primary,\n        }),\n        icon: ({ theme }) => ({\n          marginRight: theme.spacing(3),\n        }),\n        action: ({ ownerState, theme }) => ({\n          paddingRight: theme.spacing(2),\n          ...(ownerState.onClose &&\n            !ownerState.action && { color: theme.palette.grey[700] }),\n        }),\n        standardSuccess: ({ theme }) => ({\n          backgroundColor: lighten(theme.palette.success.light, 0.8),\n        }),\n        standardError: ({ theme }) => ({\n          backgroundColor: lighten(theme.palette.error.light, 0.8),\n        }),\n        standardWarning: ({ theme }) => ({\n          backgroundColor: lighten(theme.palette.warning.light, 0.8),\n        }),\n        standardInfo: ({ theme }) => ({\n          backgroundColor: lighten(theme.palette.info.light, 0.8),\n        }),\n      },\n    },\n    MuiAlertTitle: {\n      styleOverrides: {\n        root: ({ theme }) => ({\n          color: theme.palette.text.primary,\n          fontSize: '14px',\n          fontWeight: 700,\n        }),\n      },\n    },\n    MuiLink: linkTheme,\n    MuiButtonBase: {\n      defaultProps: {\n        disableRipple: true,\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontWeight: 900,\n          padding: '6px 12px',\n          borderRadius: '3px',\n          textTransform: 'capitalize',\n          '&:hover': {\n            transition: '0.2s',\n          },\n        },\n        contained: ({ theme, ownerState }) => ({\n          '&:hover, &:visited': {\n            // Overrides a base style in bootstrap 3 and in SWC\n            color:\n              ownerState.color === 'inherit'\n                ? ownerState.color\n                : theme.palette[ownerState.color || 'primary'].contrastText,\n          },\n        }),\n        outlined: ({ theme, ownerState }) => ({\n          '&:hover, &:visited': {\n            // Overrides a base style in Bootstrap 3 and in SWC\n            color:\n              ownerState.color === 'inherit'\n                ? ownerState.color\n                : theme.palette[ownerState.color || 'primary'].dark,\n          },\n        }),\n        text: ({ theme, ownerState }) => ({\n          '&:hover': {\n            textDecoration: 'underline',\n            textUnderlineOffset: '4px',\n            textDecorationColor:\n              ownerState.color === 'inherit'\n                ? ownerState.color\n                : theme.palette[ownerState.color || 'primary']['main'],\n            textDecorationThickness: '2px',\n          },\n          '&:hover, &:visited': {\n            // Overrides a base style in Bootstrap 3 and in SWC\n            color:\n              ownerState.color === 'inherit'\n                ? ownerState.color\n                : theme.palette[ownerState.color || 'primary']['main'],\n          },\n        }),\n      },\n    },\n    MuiCheckbox: {\n      defaultProps: {\n        color: 'secondary',\n      },\n    },\n    MuiDialog: {\n      defaultProps: {\n        PaperProps: {\n          sx: theme => ({\n            borderRadius: '0px',\n            padding: theme.spacing(5.5),\n            alignSelf: 'flex-start',\n          }),\n        },\n      },\n    },\n    MuiDialogTitle: {\n      styleOverrides: {\n        root: ({ theme }) => ({\n          fontSize: '24px',\n          fontWeight: 700,\n          paddingLeft: '0px',\n          paddingRight: '0px',\n          paddingBottom: theme.spacing(3),\n        }),\n      },\n    },\n    MuiDialogContent: {\n      defaultProps: {\n        dividers: true,\n      },\n      styleOverrides: {\n        root: ({ ownerState, theme }) => ({\n          color: theme.palette.text.secondary,\n          paddingTop: ownerState.dividers ? theme.spacing(3) : 0,\n          paddingBottom: ownerState.dividers ? theme.spacing(3) : 0,\n          // Hack - set add a small padding and offset with a negative margin so box-shadow effects on full width elements (like input fields) are shown\n          paddingLeft: DIALOG_INNER_PADDING,\n          paddingRight: DIALOG_INNER_PADDING,\n          marginLeft: `-${DIALOG_INNER_PADDING}`,\n          marginRight: `-${DIALOG_INNER_PADDING}`,\n          // Add a filter on the `dividers` borders so that the borders are transparent on the edges based on the DIALOG_INNER_PADDING length\n          borderImage: ownerState.dividers\n            ? `linear-gradient(to right, transparent 0px, transparent ${DIALOG_INNER_PADDING}, ${theme.palette.grey[400]} ${DIALOG_INNER_PADDING}, ${theme.palette.grey[400]} calc(100% - ${DIALOG_INNER_PADDING}), transparent calc(100% - ${DIALOG_INNER_PADDING})) 1`\n            : undefined,\n        }),\n      },\n    },\n    MuiDialogActions: {\n      styleOverrides: {\n        root: ({ theme }) => ({\n          paddingLeft: '0px',\n          paddingRight: '0px',\n          paddingTop: theme.spacing(3),\n          '& .MuiButton-root': {\n            height: '36px',\n            padding: '0px 16px',\n          },\n        }),\n      },\n    },\n    MuiFormHelperText: {\n      styleOverrides: {\n        root: ({ theme }) => ({\n          marginLeft: '0',\n          '&.Mui-error': {\n            color: theme.palette.error.main,\n          },\n        }),\n      },\n    },\n    MuiInputBase: {\n      styleOverrides: {\n        root: ({ theme, ownerState }) => ({\n          borderRadius: '3px',\n          fontSize: '14px',\n          position: 'relative',\n          backgroundColor: theme.palette.grey[200],\n          outline: ownerState.error\n            ? `1px solid ${theme.palette.error.main}`\n            : 'none',\n          '&.Mui-focused': {\n            boxShadow: `${alpha(\n              theme.palette.primary.main,\n              0.25,\n            )} 0 0 0 0.1rem`,\n          },\n          '& fieldset': {\n            border: 'none',\n          },\n        }),\n        input: ({ theme }) => ({\n          padding: '14px 12px',\n        }),\n        multiline: {\n          padding: '0px',\n        },\n      },\n    },\n    MuiInputLabel: {\n      defaultProps: {\n        shrink: true,\n      },\n      styleOverrides: {\n        root: ({ theme }) => ({\n          fontWeight: 700,\n          mb: '4px',\n          fontSize: '14px',\n          transform: 'none',\n        }),\n      },\n    },\n    MuiTextField: {\n      styleOverrides: {\n        root: ({ theme, ownerState }) => ({\n          [`& .${inputBaseClasses.root}`]: {\n            marginTop: ownerState.label && theme.spacing(3),\n          },\n        }),\n      },\n    },\n    MuiMenuItem: {\n      styleOverrides: {\n        root: {\n          height: '38px',\n          paddingLeft: '12px',\n          paddingRight: '12px',\n        },\n      },\n    },\n    MuiTab: {\n      styleOverrides: {\n        root: {\n          fontWeight: 900,\n          textTransform: 'capitalize',\n        },\n      },\n    },\n    MuiTooltip: {\n      defaultProps: {\n        arrow: true,\n        TransitionComponent: Fade,\n      },\n      styleOverrides: {\n        arrow: ({ theme }) => ({\n          color: theme.palette.common.black,\n        }),\n        tooltip: ({ theme }) => ({\n          fontSize: '14px',\n          borderRadius: '2px',\n          backgroundColor: theme.palette.common.black,\n        }),\n      },\n    },\n    MuiTypography: {\n      defaultProps: {\n        variantMapping: {\n          // For now use p for headlines, since the bootstrap-4-backport class will override style\n          headline1: 'p',\n          headline2: 'p',\n          headline3: 'p',\n          body1: 'p',\n          body1Italic: 'p',\n          body2: 'p',\n          breadcrumb1: 'span',\n          breadcrumb2: 'span',\n          smallText1: 'p',\n          smallText2: 'p',\n          smallLink: 'span',\n          label: 'span',\n          buttonLink: 'span',\n          hintText: 'p',\n          sectionTitle: 'p',\n          subsectionHeader: 'p',\n          dataFieldKey: 'p',\n        },\n      },\n    },\n  },\n  styledBackground:\n    \"url('https://s3.amazonaws.com/static.synapse.org/images/SynapseLoginPageBackground.svg')\",\n}\n\nexport default defaultMuiThemeOptions\n","import { createTheme, StyledEngineProvider, ThemeOptions } from '@mui/material'\nimport { ThemeProvider as MuiThemeProvider } from '@mui/material/styles'\nimport { deepmerge } from '@mui/utils'\nimport React, { useMemo } from 'react'\nimport defaultMuiThemeOptions from './DefaultTheme'\nimport type { PartialDeep } from 'type-fest'\n\nexport function mergeTheme(\n  themeOverrides: ThemeOptions | PartialDeep<ThemeOptions>,\n): ThemeOptions {\n  // TODO: Handle merging color palettes where an entire palette can be generated from a single base color.\n  return deepmerge(defaultMuiThemeOptions, themeOverrides)\n}\n\nexport type ThemeProviderProps = React.PropsWithChildren<{\n  theme?: ThemeOptions\n}>\n\nexport const ThemeProvider = ({\n  theme = defaultMuiThemeOptions,\n  children,\n}: ThemeProviderProps) => {\n  const mergedTheme = useMemo(() => mergeTheme(theme), [theme])\n  const muiTheme = createTheme(mergedTheme)\n  return (\n    <StyledEngineProvider injectFirst>\n      <MuiThemeProvider theme={muiTheme}>{children}</MuiThemeProvider>\n    </StyledEngineProvider>\n  )\n}\n","import React from 'react'\nimport {\n  QueryClient,\n  QueryClientConfig,\n  QueryClientProvider,\n} from 'react-query'\nimport { ThemeProvider } from '../../theme/useTheme'\nimport { ThemeOptions } from '@mui/material'\nimport { SynapseContextProvider, SynapseContextType } from './SynapseContext'\n\nexport const defaultQueryClientConfig: QueryClientConfig = {\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 min\n      cacheTime: 1000 * 60 * 30, // 30 min\n      retry: false, // SynapseClient knows which queries to retry\n      refetchOnWindowFocus: false,\n    },\n  },\n}\n\nconst defaultQueryClient = new QueryClient(defaultQueryClientConfig)\n\nexport type FullContextProviderProps = React.PropsWithChildren<{\n  synapseContext: Partial<SynapseContextType>\n  queryClient?: QueryClient\n  theme?: ThemeOptions\n}>\n\n/**\n * Provides all context necessary for components in SRC.\n * Contexts include\n * - SynapseContext\n * - QueryClientContext (react-query)\n * - ThemeContext (@mui)\n */\nexport function FullContextProvider(props: FullContextProviderProps) {\n  const { children, synapseContext, queryClient, theme } = props\n\n  return (\n    <QueryClientProvider client={queryClient ?? defaultQueryClient}>\n      <ThemeProvider theme={theme}>\n        <SynapseContextProvider synapseContext={synapseContext}>\n          {children}\n        </SynapseContextProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  )\n}\n\nexport default FullContextProvider\n","/**\n * Separating API endpoints into their own constants file\n */\n\nimport { getEndpoint, BackendDestinationEnum } from './functions/getEndpoint'\n\nexport const BACKEND_ENDPOINT = `${getEndpoint(\n  BackendDestinationEnum.REPO_ENDPOINT,\n)}`\n\nexport const REPO = `/repo/v1`\nexport const AUTH = `/auth/v1`\nexport const FILE = `/file/v1`\n\nconst ASYNC_START = '/async/start'\nconst ASYNC_GET = '/async/get'\n\nexport const ENTITY = `${REPO}/entity`\nexport const ENTITY_ALIAS = (alias: string) => `${REPO}/entity/alias/${alias}`\nexport const ENTITY_ID = (id: string | number) => `${REPO}/entity/${id}`\n/**\n * Some services allow (but do not require) you to specify the version in the path.\n */\nexport const ENTITY_ID_VERSION = (\n  id: string | number,\n  version?: string | number,\n) => `${REPO}/entity/${id}${version ? `/version/${version}` : ''}`\nexport const ENTITY_ID_VERSIONS = (id: string | number) =>\n  `${REPO}/entity/${id}/version`\nexport const ENTITY_BUNDLE_V2 = (\n  id: string | number,\n  version?: string | number,\n) => `${ENTITY_ID_VERSION(id, version)}/bundle2`\nexport const ENTITY_ACCESS = (id: string | number) =>\n  `${REPO}/entity/${id}/access`\nexport const ENTITY_ACL = (id: string | number) => `${ENTITY_ID(id)}/acl`\nexport const ENTITY_EVALUATION = (id: string | number) =>\n  `${ENTITY_ID(id)}/evaluation`\nexport const ENTITY_PATH = (id: string | number) => `${ENTITY_ID(id)}/path`\nexport const ENTITY_PERMISSIONS = (id: string | number) =>\n  `${ENTITY_ID(id)}/permissions`\nexport const ENTITY_HEADER_BY_ID = (id: string | number) =>\n  `${ENTITY_ID(id)}/type`\nexport const ENTITY_HEADERS = `${REPO}/entity/header`\n\nexport const ENTITY_JSON = (id: string | number) => `${REPO}/entity/${id}/json`\n\nexport const ENTITY_SCHEMA = (id: string | number) =>\n  `${REPO}/entity/${id}/schema`\nexport const ENTITY_SCHEMA_BINDING = (id: string | number) =>\n  `${ENTITY_SCHEMA(id)}/binding`\nexport const ENTITY_SCHEMA_VALIDATION = (id: string | number) =>\n  `${ENTITY_SCHEMA(id)}/validation`\n\nexport const ENTITY_ACCESS_REQUIREMENTS = (entityId: string | number) =>\n  `${ENTITY_ID(entityId)}/accessRequirement`\n\nexport const TABLE_QUERY_ASYNC_START = (id: string | number) =>\n  `${ENTITY_ID(id)}/table/query/async/start`\n\nexport const TABLE_QUERY_ASYNC_GET = (\n  entityId: string | number,\n  asyncJobToken: string,\n) => `${ENTITY_ID(entityId)}/table/query/async/get/${asyncJobToken}`\n\nexport const ASYNCHRONOUS_JOB_TOKEN = (asyncJobToken: string) =>\n  `${REPO}/asynchronous/job/${asyncJobToken}`\n\nexport const USER_PROFILE_ENDPOINT = `${REPO}/userProfile`\n\nexport const SCHEMA = `${REPO}/schema`\nexport const REGISTERED_SCHEMA = `${REPO}/schema/type/registered`\nexport const REGISTERED_SCHEMA_ID = (schema$id: string | number) =>\n  `${REPO}/schema/type/registered/${schema$id}`\nexport const SCHEMA_VALIDATION_START = `${SCHEMA}/type/validation${ASYNC_START}`\nexport const SCHEMA_VALIDATION_GET = (asyncJobId: string | number) =>\n  `${SCHEMA}/type/validation${ASYNC_GET}/${asyncJobId}`\n\nexport const USER = `${REPO}/user`\nexport const USER_BUNDLE = `${USER}/bundle`\nexport const USER_ID = (id: string | number) => `${USER}/${id}`\nexport const USER_ID_BUNDLE = (id: string | number) => `${USER_ID(id)}/bundle`\n\nexport const USER_PROFILE = `${REPO}/userProfile`\nexport const USER_PROFILE_ID = (id: string | number) => `${USER_PROFILE}/${id}`\n\nexport const NOTIFICATION_EMAIL = `${REPO}/notificationEmail`\nexport const ALIAS_AVAILABLE = `${REPO}/principal/available`\nexport const REGISTER_ACCOUNT_STEP_1 = (portalEndpoint: string) =>\n  `${REPO}/account/emailValidation?portalEndpoint=${portalEndpoint}`\nexport const REGISTER_ACCOUNT_STEP_2 = `${REPO}/account2`\nexport const SIGN_TERMS_OF_USE = `${AUTH}/termsOfUse2`\nexport const VERIFICATION_SUBMISSION = `${REPO}/verificationSubmission`\n\nexport const ACCESS_REQUIREMENT_SEARCH = `${REPO}/accessRequirement/search`\nexport const ACCESS_REQUEST_SUBMISSION_SEARCH = `${REPO}/dataAccessSubmission/search`\n\nexport const ACCESS_REQUIREMENT_BY_ID = (id: string | number) =>\n  `${REPO}/accessRequirement/${id}`\n\nexport const ACCESS_REQUIREMENT_ACL = (id: string | number) =>\n  ACCESS_REQUIREMENT_BY_ID(id) + '/acl'\n\nexport const ACCESS_REQUIREMENT_STATUS = (id: string | number) =>\n  ACCESS_REQUIREMENT_BY_ID(id) + '/status'\n\nexport const ACCESS_REQUIREMENT_WIKI_PAGE_KEY = (id: string | number) =>\n  // Note that this is `access_requirement` not `accessRequirement`!\n  `${REPO}/access_requirement/${id}/wikikey`\n\nexport const ACCESS_REQUIREMENT_WIKI_PAGE = (\n  accessRequirementId: string | number,\n  wikiId: string | number,\n) =>\n  // Note that this is `access_requirement` not `accessRequirement`!\n  `${REPO}/access_requirement/${accessRequirementId}/wiki/${wikiId}`\n\nexport const FAVORITES = `${REPO}/favorite`\n\nexport const USER_GROUP_HEADERS = `${REPO}/userGroupHeaders`\nexport const USER_GROUP_HEADERS_BATCH = `${REPO}/userGroupHeaders/batch`\n\nexport const DATA_ACCESS_SUBMISSION_BY_ID = (id: string | number) =>\n  `${REPO}/dataAccessSubmission/${id}`\n\nexport const PROFILE_IMAGE_PREVIEW = (userId: string) =>\n  `${REPO}/userProfile/${userId}/image/preview`\n\nexport const APPROVED_SUBMISSION_INFO = (\n  accessRequirementId: string | number,\n) => ACCESS_REQUIREMENT_BY_ID(accessRequirementId) + `/approvedSubmissionInfo`\n\nexport const EVALUATION = `${REPO}/evaluation`\nexport const EVALUATION_BY_ID = (id: string | number) => EVALUATION + `/${id}`\nexport const EVALUATIONS_BY_ID = (ids: string[] | number[]) =>\n  EVALUATION + `/?evaluationIds=${ids.join(',')}&limit=${ids.length}`\n\nexport const ACTIVITY_FOR_ENTITY = (entityId: string, versionNumber?: string) =>\n  versionNumber\n    ? `${REPO}/entity/${entityId}/version/${versionNumber}/generatedBy`\n    : `${REPO}/entity/${entityId}/generatedBy`\nexport const TRASHCAN = `${REPO}/trashcan`\nexport const TRASHCAN_VIEW = `${TRASHCAN}/view`\nexport const TRASHCAN_RESTORE = (id: string) => `${TRASHCAN}/restore/${id}`\nexport const TRASHCAN_PURGE = (id: string) => `${TRASHCAN}/purge/${id}`\n\nexport const TEAM = (teamId: string | number) => `${REPO}/team/${teamId}`\nexport const TEAM_ID_MEMBER_ID = (\n  teamId: string | number,\n  memberId: string | number,\n) => TEAM(teamId) + `/member/${memberId}`\nexport const TEAM_MEMBERS = (teamId: string | number) =>\n  `${REPO}/teamMembers/${teamId}`\n\nconst notificationUnsubscribeEndpoint = 'https://www.synapse.org/#!SignedToken:'\nconst teamEndpoint = 'https://www.synapse.org/#!Team:'\n\nexport const TEAM_MEMBER = `${REPO}/teamMember/?teamEndpoint=${teamEndpoint}&notificationUnsubscribeEndpoint=${notificationUnsubscribeEndpoint}`\nexport const TEAM_ID_MEMBER_ID_WITH_NOTIFICATION = (\n  teamId: string | number,\n  memberId: string | number,\n) =>\n  TEAM_ID_MEMBER_ID(teamId, memberId) +\n  `?teamEndpoint=${teamEndpoint}&notificationUnsubscribeEndpoint=${notificationUnsubscribeEndpoint}`\nexport const MEMBERSHIP_INVITATION = (id: string) =>\n  `${REPO}/membershipInvitation/${id}`\nexport const INVITEE_VERIFICATION_SIGNED_TOKEN = (id: string) =>\n  `${REPO}/membershipInvitation/${id}/inviteeVerificationSignedToken`\nexport const BIND_INVITATION_TO_AUTHENTICATED_USER = (id: string) =>\n  `${REPO}/membershipInvitation/${id}/inviteeId`\n\nexport const FORUM = `${REPO}/forum`\nexport const FORUM_THREAD = (id: string) => `${FORUM}/${id}/threads`\n\nexport const THREAD = `${REPO}/thread`\nexport const THREAD_ID = (id: string) => `${THREAD}/${id}`\nexport const THREAD_REPLIES = (id: string) => `${THREAD_ID(id)}/replies`\n\nexport const DOI = `${REPO}/doi`\nexport const DOI_ASSOCIATION = `${DOI}/association`\n\nexport const ACCESS_APPROVAL = `${REPO}/accessApproval`\nexport const ACCESS_APPROVAL_BY_ID = (id: string | number) =>\n  `${ACCESS_APPROVAL}/${id}`\n\nexport const DATA_ACCESS_REQUEST = `${REPO}/dataAccessRequest`\nexport const DATA_ACCESS_REQUEST_SUBMISSION = (id: string | number) =>\n  `${DATA_ACCESS_REQUEST}/${id}/submission`\nexport const ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE = (\n  accessRequirementId: string | number,\n) =>\n  `${ACCESS_REQUIREMENT_BY_ID(accessRequirementId)}/dataAccessRequestForUpdate`\n\nexport const RESEARCH_PROJECT = `${REPO}/researchProject`\nexport const ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE = (\n  accessRequirementId: string | number,\n) => `${ACCESS_REQUIREMENT_BY_ID(accessRequirementId)}/researchProjectForUpdate`\n\nexport const FILE_HANDLE = `${FILE}/fileHandle`\nexport const FILE_HANDLE_BATCH = `${FILE_HANDLE}/batch`\n\nexport const PROJECTS = `${REPO}/projects`\nexport const ENTITY_ACTIONS_REQUIRED = (entityId: string) =>\n  `${REPO}/entity/${entityId}/actions/download`\n","import { DownloadList } from '@sage-bionetworks/synapse-types'\n\nexport const DOWNLOAD_LIST_CHANGE_EVENT = 'DOWNLOAD_LIST_UPDATED_EVENT'\n\nexport const dispatchDownloadListChangeEvent = (\n  downloadList: DownloadList | undefined,\n) => {\n  const downloadEvent = new CustomEvent(DOWNLOAD_LIST_CHANGE_EVENT, {\n    detail: downloadList,\n  })\n  document.dispatchEvent(downloadEvent)\n}\n","const sufixes: string[] = [\n  'Bytes',\n  'KB',\n  'MB',\n  'GB',\n  'TB',\n  'PB',\n  'EB',\n  'ZB',\n  'YB',\n]\n\nexport function calculateFriendlyFileSize(bytes: number) {\n  if (!bytes) {\n    return ''\n  }\n  // https://stackoverflow.com/questions/10420352/converting-file-size-in-bytes-to-human-readable-string\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  // tslint:disable-next-line\n  return (\n    (!bytes && '0 Bytes') ||\n    (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sufixes[i]\n  )\n}\n","import {\n  ErrorResponseCode,\n  TwoFactorAuthErrorResponse,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseClientError } from '../utils/SynapseClientError'\n\nexport function isOutsideSynapseOrg() {\n  return !window.location.hostname.toLowerCase().endsWith('.synapse.org')\n}\n\n/**\n * Invokes a function that makes a request to Synapse and returns null if the server responds with a 404.\n * @param fn a function that may throw a SynapseClientError when encountering an HTTP Error Code\n * @returns The result of the function call, or null if the result is a 404 \"Not Found\" error.\n */\nexport async function allowNotFoundError<T>(\n  fn: () => Promise<T>,\n): Promise<T | null> {\n  let response = null\n  try {\n    response = await fn()\n  } catch (e) {\n    if (e instanceof SynapseClientError && e.status === 404) {\n      // Permitted\n    } else {\n      throw e\n    }\n  }\n  return response\n}\n\n/**\n * If the asynchronous request returns a TwoFactorAuthErrorResponse, return that error instead of throwing it. Other\n * types of errors will still be thrown.\n * @param fn\n */\nexport async function returnIfTwoFactorAuthError<T>(\n  fn: () => Promise<T>,\n): Promise<T | TwoFactorAuthErrorResponse> {\n  let response = null\n  try {\n    response = await fn()\n  } catch (e) {\n    if (\n      e instanceof SynapseClientError &&\n      e.status === 401 &&\n      e.errorResponse &&\n      'errorCode' in e.errorResponse &&\n      e.errorResponse.errorCode === ErrorResponseCode.TWO_FA_REQUIRED &&\n      e.errorResponse.concreteType ===\n        'org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse'\n    ) {\n      return e.errorResponse\n    } else {\n      throw e\n    }\n  }\n  return response\n}\n","import {\n  BackendDestinationEnum,\n  getEndpoint,\n} from '../utils/functions/getEndpoint'\nimport { SynapseClientError } from '../utils/SynapseClientError'\nimport { NETWORK_UNAVAILABLE_MESSAGE } from '../utils/SynapseConstants'\nimport { SynapseError } from '../utils/SynapseError'\n\n/**\n * Waits t number of milliseconds\n *\n * @export\n * @param {number} t milliseconds\n * @returns after t milliseconds\n */\nexport function delay(t: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve.bind(null, {}), t)\n  })\n}\n\n/*\n  0 - no internet connection\n  429 - Too Many Requests\n  502 - Bad Gateway\n  503 - Service Unavailable\n  504 - Gateway Timeout\n*/\nconst RETRY_STATUS_CODES = [0, 429, 502, 503, 504]\nconst MAX_RETRY_STATUS_CODES = [502, 503]\nconst MAX_RETRY = 3\n/**\n * Fetches data, retrying if the HTTP status code indicates that it could be retried. Contains custom logic for\n * handling errors returned by the Synapse backend.\n * @throws SynapseClientError\n */\nconst fetchWithExponentialTimeout = async <TResponse>(\n  url: RequestInfo,\n  options: RequestInit,\n  delayMs = 1000,\n): Promise<TResponse> => {\n  let response\n  try {\n    response = await fetch(url, options)\n  } catch (err) {\n    console.error(err)\n    throw new SynapseClientError(0, NETWORK_UNAVAILABLE_MESSAGE, url.toString())\n  }\n\n  let numOfTry = 1\n  while (response.status && RETRY_STATUS_CODES.includes(response.status)) {\n    await delay(delayMs)\n    // Exponential backoff if we re-fetch\n    delayMs = delayMs * 2\n    response = await fetch(url, options)\n    if (MAX_RETRY_STATUS_CODES.includes(response.status)) {\n      numOfTry++\n      if (numOfTry == MAX_RETRY) {\n        break\n      }\n    }\n  }\n\n  const contentType = response.headers.get('Content-Type')\n  const responseBody = await response.text()\n  let responseObject: TResponse | SynapseError | string = responseBody\n  try {\n    // try to parse it as json\n    if (contentType && contentType.includes('application/json')) {\n      responseObject = JSON.parse(responseBody) as TResponse | SynapseError\n    }\n  } catch (error) {\n    console.warn('Failed to parse response as JSON', responseBody)\n  }\n\n  if (response.ok) {\n    return responseObject as TResponse\n  } else if (\n    responseObject !== null &&\n    typeof responseObject === 'object' &&\n    'reason' in responseObject\n  ) {\n    throw new SynapseClientError(\n      response.status,\n      responseObject.reason,\n      url.toString(),\n      responseObject,\n    )\n  } else {\n    throw new SynapseClientError(\n      response.status,\n      JSON.stringify(responseObject),\n      url.toString(),\n    )\n  }\n}\nexport const doPost = <T>(\n  url: string,\n  requestJsonObject: unknown,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n): Promise<T> => {\n  const options: RequestInit = {\n    body: JSON.stringify(requestJsonObject),\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      'Content-Type': 'application/json',\n      ...(accessToken ? { Authorization: `Bearer ${accessToken}` } : {}),\n    },\n    method: 'POST',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\nexport const doGet = <T>(\n  url: string,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n) => {\n  const options: RequestInit = {\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      ...(accessToken ? { Authorization: `Bearer ${accessToken}` } : {}),\n    },\n    method: 'GET',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\nexport const doDelete = (\n  url: string,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n) => {\n  const options: RequestInit = {\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      ...(accessToken ? { Authorization: `Bearer ${accessToken}` } : {}),\n    },\n    method: 'DELETE',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<void>(usedEndpoint + url, options)\n}\nexport const doPut = <T>(\n  url: string,\n  requestJsonObject: unknown,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n): Promise<T> => {\n  const options: RequestInit = {\n    body: JSON.stringify(requestJsonObject),\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      'Content-Type': 'application/json',\n      ...(accessToken ? { Authorization: `Bearer ${accessToken}` } : {}),\n    },\n    method: 'PUT',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\n","import { JSONSchema7 } from 'json-schema'\nimport SparkMD5 from 'spark-md5'\nimport UniversalCookies from 'universal-cookie'\nimport { ACCESS_TOKEN_COOKIE_KEY, SynapseConstants } from '../utils'\nimport {\n  ACCESS_APPROVAL,\n  ACCESS_APPROVAL_BY_ID,\n  ACCESS_REQUEST_SUBMISSION_SEARCH,\n  ACCESS_REQUIREMENT_ACL,\n  ACCESS_REQUIREMENT_BY_ID,\n  ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE,\n  ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE,\n  ACCESS_REQUIREMENT_SEARCH,\n  ACCESS_REQUIREMENT_STATUS,\n  ACCESS_REQUIREMENT_WIKI_PAGE_KEY,\n  ACTIVITY_FOR_ENTITY,\n  ALIAS_AVAILABLE,\n  APPROVED_SUBMISSION_INFO,\n  ASYNCHRONOUS_JOB_TOKEN,\n  BIND_INVITATION_TO_AUTHENTICATED_USER,\n  DATA_ACCESS_REQUEST,\n  DATA_ACCESS_REQUEST_SUBMISSION,\n  DATA_ACCESS_SUBMISSION_BY_ID,\n  DOI_ASSOCIATION,\n  ENTITY,\n  ENTITY_ACCESS,\n  ENTITY_ACCESS_REQUIREMENTS,\n  ENTITY_ACL,\n  ENTITY_ACTIONS_REQUIRED,\n  ENTITY_ALIAS,\n  ENTITY_BUNDLE_V2,\n  ENTITY_EVALUATION,\n  ENTITY_HEADER_BY_ID,\n  ENTITY_HEADERS,\n  ENTITY_ID,\n  ENTITY_JSON,\n  ENTITY_PATH,\n  ENTITY_PERMISSIONS,\n  ENTITY_SCHEMA_BINDING,\n  ENTITY_SCHEMA_VALIDATION,\n  EVALUATION,\n  EVALUATION_BY_ID,\n  EVALUATIONS_BY_ID,\n  FAVORITES,\n  FILE_HANDLE_BATCH,\n  FORUM,\n  FORUM_THREAD,\n  INVITEE_VERIFICATION_SIGNED_TOKEN,\n  MEMBERSHIP_INVITATION,\n  NOTIFICATION_EMAIL,\n  PROFILE_IMAGE_PREVIEW,\n  PROJECTS,\n  REGISTER_ACCOUNT_STEP_1,\n  REGISTER_ACCOUNT_STEP_2,\n  REGISTERED_SCHEMA_ID,\n  REPO,\n  RESEARCH_PROJECT,\n  SCHEMA_VALIDATION_GET,\n  SCHEMA_VALIDATION_START,\n  SIGN_TERMS_OF_USE,\n  TABLE_QUERY_ASYNC_GET,\n  TABLE_QUERY_ASYNC_START,\n  TEAM,\n  TEAM_ID_MEMBER_ID,\n  TEAM_ID_MEMBER_ID_WITH_NOTIFICATION,\n  TEAM_MEMBER,\n  TEAM_MEMBERS,\n  THREAD,\n  THREAD_ID,\n  TRASHCAN_PURGE,\n  TRASHCAN_RESTORE,\n  TRASHCAN_VIEW,\n  USER_BUNDLE,\n  USER_GROUP_HEADERS,\n  USER_GROUP_HEADERS_BATCH,\n  USER_ID_BUNDLE,\n  USER_PROFILE,\n  USER_PROFILE_ID,\n  VERIFICATION_SUBMISSION,\n} from '../utils/APIConstants'\nimport { dispatchDownloadListChangeEvent } from '../utils/functions/dispatchDownloadListChangeEvent'\nimport {\n  BackendDestinationEnum,\n  getEndpoint,\n} from '../utils/functions/getEndpoint'\nimport { removeUndefined } from '../utils/functions/ObjectUtils'\nimport { DATETIME_UTC_COOKIE_KEY } from '../utils/SynapseConstants'\nimport {\n  ACCESS_TYPE,\n  AccessApproval,\n  AccessApprovalSearchRequest,\n  AccessApprovalSearchResponse,\n  AccessCodeResponse,\n  AccessControlList,\n  AccessRequirement,\n  AccessRequirementSearchRequest,\n  AccessRequirementSearchResponse,\n  AccessRequirementStatus,\n  AccessTokenGenerationRequest,\n  AccessTokenGenerationResponse,\n  AccessTokenRecordList,\n  AccountSetupInfo,\n  ActionRequiredList,\n  ActionRequiredRequest,\n  ActionRequiredResponse,\n  Activity,\n  ACTSubmissionStatus,\n  AddBatchOfFilesToDownloadListRequest,\n  AddBatchOfFilesToDownloadListResponse,\n  AddPartResponse,\n  AddToDownloadListRequest,\n  AddToDownloadListResponse,\n  AliasCheckRequest,\n  AliasCheckResponse,\n  AsynchronousJobStatus,\n  AsyncJobId,\n  AuthenticatedOn,\n  AvailableFilesRequest,\n  AvailableFilesResponse,\n  BatchFileRequest,\n  BatchFileResult,\n  BatchPresignedUploadUrlRequest,\n  BatchPresignedUploadUrlResponse,\n  BulkFileDownloadRequest,\n  BulkFileDownloadResponse,\n  Challenge,\n  ChallengePagedResults,\n  ChallengeTeam,\n  ChallengeTeamPagedResults,\n  ChangePasswordWithCurrentPassword,\n  ChangePasswordWithToken,\n  CreateDiscussionReply,\n  CreateDiscussionThread,\n  CreateSubmissionRequest,\n  Direction,\n  DiscussionFilter,\n  DiscussionReplyBundle,\n  DiscussionReplyOrder,\n  DiscussionSearchRequest,\n  DiscussionSearchResponse,\n  DiscussionThreadBundle,\n  DiscussionThreadOrder,\n  DockerCommit,\n  DoiAssociation,\n  DownloadFromTableRequest,\n  DownloadFromTableResult,\n  DownloadList,\n  DownloadListItem,\n  DownloadListManifestRequest,\n  DownloadListPackageRequest,\n  DownloadListPackageResponse,\n  DownloadListQueryRequest,\n  DownloadListQueryResponse,\n  DownloadOrder,\n  EmailValidationSignedToken,\n  Entity,\n  EntityBundle,\n  EntityBundleRequest,\n  EntityChildrenRequest,\n  EntityChildrenResponse,\n  EntityHeader,\n  EntityId,\n  EntityJson,\n  EntityLookupRequest,\n  EntityPath,\n  Evaluation,\n  EvaluationRound,\n  EvaluationRoundListRequest,\n  EvaluationRoundListResponse,\n  EvaluationSubmission as EvaluationSubmission,\n  FavoriteSortBy,\n  FavoriteSortDirection,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  FileHandleResults,\n  FileResult,\n  FilesStatisticsRequest,\n  FilesStatisticsResponse,\n  FileUploadComplete,\n  FormChangeRequest,\n  FormData,\n  FormGroup,\n  FormRejection,\n  Forum,\n  GetEvaluationParameters,\n  GetProjectsParameters,\n  HasAccessResponse,\n  InviteeVerificationSignedToken,\n  JoinTeamSignedToken,\n  JsonSchemaObjectBinding,\n  ListRequest,\n  ListResponse,\n  ListWrapper,\n  LoginResponse,\n  ManagedACTAccessRequirementStatus,\n  MembershipInvitation,\n  MembershipInvtnSignedToken,\n  MembershipRequest,\n  MessageURL,\n  MultipartUploadRequest,\n  MultipartUploadStatus,\n  NewUser,\n  NotificationEmail,\n  OAuthClient,\n  OAuthClientIdAndSecret,\n  OAuthClientList,\n  OAuthClientPublic,\n  OAuthClientVerificationPrecheckResult,\n  OAuthConsentGrantedResponse,\n  ObjectType,\n  OIDCAuthorizationRequest,\n  OIDCAuthorizationRequestDescription,\n  PaginatedIds,\n  PaginatedResults,\n  PassingRecord,\n  PrincipalAliasRequest,\n  PrincipalAliasResponse,\n  ProjectFilesStatisticsRequest,\n  ProjectFilesStatisticsResponse,\n  ProjectHeaderList,\n  QueryBundleRequest,\n  QueryRequestDetails,\n  QueryResponseDetails,\n  QueryResultBundle,\n  QueryTableResults,\n  Quiz,\n  QuizResponse,\n  ReferenceList,\n  RemoveBatchOfFilesFromDownloadListRequest,\n  RemoveBatchOfFilesFromDownloadListResponse,\n  Renewal,\n  Request,\n  ResearchProject,\n  ResponseMessage,\n  RestrictableObjectDescriptor,\n  RestrictionInformationRequest,\n  RestrictionInformationResponse,\n  SearchQuery,\n  SearchResults,\n  SortBy,\n  SqlTransformResponse,\n  Submission as DataAccessSubmission,\n  SubmissionInfoPage,\n  SubmissionInfoPageRequest,\n  SubmissionSearchRequest,\n  SubmissionSearchResponse,\n  SubmissionStateChangeRequest,\n  SubscriberPagedResults,\n  Subscription,\n  SubscriptionPagedResults,\n  SubscriptionQuery,\n  SubscriptionRequest,\n  SynapseVersion,\n  TableUpdateTransactionRequest,\n  Team,\n  TeamMember,\n  TeamMembershipStatus,\n  TeamSubmissionEligibility,\n  Topic,\n  TotpSecret,\n  TotpSecretActivationRequest,\n  TransformSqlWithFacetsRequest,\n  TrashedEntity,\n  TwoFactorAuthErrorResponse,\n  TwoFactorAuthLoginRequest,\n  TwoFactorAuthRecoveryCodes,\n  TwoFactorAuthStatus,\n  TYPE_FILTER,\n  UpdateDiscussionReply,\n  UpdateThreadMessageRequest,\n  UpdateThreadTitleRequest,\n  UploadDestination,\n  UserBundle,\n  UserEntityPermissions,\n  UserEvaluationPermissions,\n  UserGroupHeaderResponse,\n  UserGroupHeaderResponsePage,\n  UserProfile,\n  ValidationResults,\n  VerificationSubmission,\n  VersionInfo,\n  WikiPage,\n  WikiPageKey,\n} from '@sage-bionetworks/synapse-types'\nimport { calculateFriendlyFileSize } from '../utils/functions/calculateFriendlyFileSize'\nimport {\n  allowNotFoundError,\n  isOutsideSynapseOrg,\n  returnIfTwoFactorAuthError,\n} from './SynapseClientUtils'\nimport { delay, doDelete, doGet, doPost, doPut } from './HttpClient'\n\nconst cookies = new UniversalCookies()\n\n// Max size file that we will allow the caller to read into memory (5MB)\nconst MAX_JS_FILE_DOWNLOAD_SIZE = 5242880\n// This corresponds to the Synapse-managed S3 storage location:\nexport const SYNAPSE_STORAGE_LOCATION_ID = 1\nexport function getRootURL(): string {\n  const portString = window.location.port ? `:${window.location.port}` : ''\n  return `${window.location.protocol}//${window.location.hostname}${portString}/`\n}\n\nexport const getVersion = (): Promise<SynapseVersion> => {\n  return doGet<SynapseVersion>(\n    '/repo/v1/version',\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/download/csv/async/start.html\n */\nexport const getDownloadFromTableRequest = async (\n  request: DownloadFromTableRequest,\n  accessToken: string | undefined = undefined,\n): Promise<DownloadFromTableResult> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${request.entityId}/table/download/csv/async/start`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${request.entityId}/table/download/csv/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/fileHandle/handleId.html\n * Get a FileHandle using its ID.\n * Note: Only the user that created the FileHandle can access it directly.\n * @return FileHandle\n **/\nexport const getFileHandleById = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n): Promise<FileHandle> => {\n  return doGet<FileHandle>(\n    `/file/v1/fileHandle/${handleId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/GET/file/id.html\n * Get the actual URL of the file from with an associated object .\n * @return a short lived presignedURL to be redirected with\n **/\nexport const getActualFileHandleByIdURL = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n  fileAssociateType: FileHandleAssociateType,\n  fileAssociateId: string,\n  redirect: boolean = true,\n): Promise<string> => {\n  // get the presigned URL for this file handle association.\n  return doGet<string>(\n    `/file/v1/file/${handleId}?fileAssociateType=${fileAssociateType}&fileAssociateId=${fileAssociateId}&redirect=${redirect}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/fileHandle/handleId/url.html\n * Note: Only the user that created the FileHandle can use this method for download.\n * @return a short lived presignedURL to be redirected with\n **/\nexport const getFileHandleByIdURL = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n) => {\n  // get the presigned URL for this file handle\n  return doGet<string>(\n    `/file/v1/fileHandle/${handleId}/url?redirect=false`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a completed asynchronous job. Will refetch every 500ms until COMPLETE or FAILED.\n * @param asyncJobId\n * @param responseBodyEndpoint\n * @param accessToken\n * @param setCurrentAsyncStatus - optional function that will receive the AsynchronousJobStatus object every time\n *   it's fetched, including while it is in the \"PROCESSING\" state.\n * @returns\n */\nexport const getAsyncResultFromJobId = async <TRequest, TResponse>(\n  asyncJobId: string,\n  responseBodyEndpoint: string,\n  accessToken?: string,\n  setCurrentAsyncStatus?: (\n    result: AsynchronousJobStatus<TRequest, TResponse>,\n  ) => void,\n): Promise<AsynchronousJobStatus<TRequest, TResponse>> => {\n  let response = await doGet<AsynchronousJobStatus<TRequest, TResponse>>(\n    ASYNCHRONOUS_JOB_TOKEN(asyncJobId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  setCurrentAsyncStatus?.(response)\n  while (response.jobState && response.jobState === 'PROCESSING') {\n    await delay(500)\n    response = await doGet<AsynchronousJobStatus<TRequest, TResponse>>(\n      ASYNCHRONOUS_JOB_TOKEN(asyncJobId),\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n    setCurrentAsyncStatus?.(response)\n  }\n\n  if (response.jobState === 'FAILED') {\n    /**\n     * While we technically already have the failure reason in the response, the HTTP response doesn't give a helpful error code (e.g. 403)\n     * that we can use for an error banner. We can get the HTTP code if we fetch the response body directly.\n     */\n    const failureResponse = await doGet<TResponse>(\n      responseBodyEndpoint,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n    console.warn(\n      'SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:',\n      failureResponse,\n    )\n  }\n  return response\n}\n\n/**\n * Get the response body for an asynchronous job, or throw an error if the job failed.\n * @param asyncJobId\n * @param responseBodyEndpoint\n * @param accessToken\n * @returns\n */\nexport const getAsyncResultBodyFromJobId = async <TResponse>(\n  asyncJobId: string,\n  responseBodyEndpoint: string,\n  accessToken?: string,\n): Promise<TResponse> => {\n  const response = await getAsyncResultFromJobId<unknown, TResponse>(\n    asyncJobId,\n    responseBodyEndpoint,\n    accessToken,\n  )\n\n  return response.responseBody!\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/query/nextPage/async/start.html\n * @param {*} queryBundleRequest\n * @param {*} accessToken\n */\nexport const getQueryTableAsyncJobResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken?: string,\n  setCurrentAsyncStatus?: (\n    result: AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>,\n  ) => void,\n): Promise<AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    TABLE_QUERY_ASYNC_START(queryBundleRequest.entityId),\n    queryBundleRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultFromJobId<QueryBundleRequest, QueryResultBundle>(\n    asyncJobId.token,\n    TABLE_QUERY_ASYNC_GET(queryBundleRequest.entityId, asyncJobId.token),\n    accessToken,\n    setCurrentAsyncStatus,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/query/nextPage/async/start.html\n * @param {*} queryBundleRequest\n * @param {*} accessToken\n * @param {*} signal\n */\nexport const getQueryTableResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken?: string,\n  signal?: AbortSignal,\n): Promise<QueryResultBundle> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${queryBundleRequest.entityId}/table/query/async/start`,\n    queryBundleRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n    { signal },\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${queryBundleRequest.entityId}/table/query/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n/**\n *  Run and return results from queryBundleRequest, queryBundle request must be of the\n *  form:\n *     {\n *        concreteType: String,\n *        query: {\n *           sql: String,\n *           partMask: Number\n *        }\n *     }\n * @param {*} queryBundleRequest\n * @param {*} [accessToken=undefined]\n * @returns Full dataset from synapse table query\n */\n\nexport const getFullQueryTableResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken: string | undefined = undefined,\n  signal?: AbortSignal,\n): Promise<QueryResultBundle> => {\n  // get first page\n  let offset = 0\n  const { query, ...rest } = queryBundleRequest\n  const queryRequest: QueryBundleRequest = {\n    ...rest,\n    query: { ...query, offset: offset },\n    partMask:\n      queryBundleRequest.partMask |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE,\n  }\n  const data = await getQueryTableResults(queryRequest, accessToken, signal)\n  // we are done if we return less than a max pagesize that the backend is willing to return.\n  let isDone = data.queryResult!.queryResults.rows.length < data.maxRowsPerPage!\n  offset += data.queryResult!.queryResults.rows.length\n  queryRequest.query.limit = data.maxRowsPerPage // set the limit to the actual max rows per page\n\n  while (!isDone) {\n    queryRequest.query.offset = offset\n    // update the maxPageSize to the largest possible value after the first page is complete.  This is a no-op after the second page.\n\n    const response = await getQueryTableResults(\n      queryRequest,\n      accessToken,\n      signal,\n    )\n    data.queryResult!.queryResults.rows.push(\n      ...response.queryResult!.queryResults.rows, // ... spread operator to push all elements on\n    )\n    isDone =\n      response.queryResult!.queryResults.rows.length < queryRequest.query.limit!\n    offset += response.queryResult!.queryResults.rows.length\n  }\n  return data\n}\n\n/**\n *  Log-in using the given username and password.  Will return a access token that must be used in\n *  authenticated requests.\n *  https://rest-docs.synapse.org/rest/POST/login2.html\n */\nexport async function login(\n  username: string,\n  password: string,\n  authenticationReceipt: string | null,\n  endpoint = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse | TwoFactorAuthErrorResponse> {\n  return returnIfTwoFactorAuthError(() =>\n    doPost(\n      '/auth/v1/login2',\n      { username, password, authenticationReceipt },\n      undefined,\n      endpoint,\n    ),\n  )\n}\n\n/**\n * Performs authentication using 2FA, the body of the request needs to include the twoFaToken received as part of the\n * error when authenticating and the totp code shown by the authenticator application.\n *\n * https://rest-docs.synapse.org/rest/POST/2fa/token.html\n */\nexport function loginWith2fa(\n  request: TwoFactorAuthLoginRequest,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> {\n  return doPost('/auth/v1/2fa/token', request, undefined, endpoint)\n}\n\n/**\n * Get redirect url\n * https://rest-docs.synapse.org/rest/POST/oauth2/authurl.html\n * @param {*} provider\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthUrlRequest = (\n  provider: string,\n  redirectUrl: string,\n  state?: string,\n  endpoint = BackendDestinationEnum.REPO_ENDPOINT,\n) => {\n  return doPost<{ authorizationUrl: string }>(\n    '/auth/v1/oauth2/authurl',\n    { provider, redirectUrl, state },\n    undefined,\n    endpoint,\n  )\n}\n/**\n * Get access token from SSO\n * https://rest-docs.synapse.org/rest/POST/oauth2/session2.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthSessionRequest = (\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse | TwoFactorAuthErrorResponse> => {\n  return returnIfTwoFactorAuthError(() =>\n    doPost(\n      '/auth/v1/oauth2/session2',\n      { provider, authenticationCode, redirectUrl },\n      undefined,\n      endpoint,\n    ),\n  )\n}\n\n/**\n * Fetch the current 2FA status for the user.\n * https://rest-docs.synapse.org/rest/GET/2fa.html\n */\nexport function getCurrentUserTwoFactorEnrollmentStatus(accessToken?: string) {\n  return doGet<TwoFactorAuthStatus>(\n    '/auth/v1/2fa',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Disable 2FA for the user.\n * https://rest-docs.synapse.org/rest/DELETE/2fa.html\n */\nexport function disableTwoFactorAuthForCurrentUser(accessToken?: string) {\n  return doDelete(\n    '/auth/v1/2fa',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/2fa/enroll.html\n */\nexport function start2FAEnrollment(accessToken?: string) {\n  return doPost<TotpSecret>(\n    '/auth/v1/2fa/enroll',\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/2fa.html\n */\nexport function complete2FAEnrollment(\n  request: TotpSecretActivationRequest,\n  accessToken?: string,\n) {\n  return doPost<TwoFactorAuthStatus>(\n    '/auth/v1/2fa',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Generates a new set of single use recovery codes that are associated with the two factor authentication of the user.\n * The recovery codes are single use and can be used to login with 2FA in place of an TOTP. In order to use a recovery\n * code the body of the login request should specify as the otpType RECOVERY_CODE and the otpCode should match one of\n * the generated recovery codes.\n *\n * Note that invoking this endpoint will replace existing recovery codes.\n *\n * https://rest-docs.synapse.org/rest/POST/2fa/recoveryCodes.html\n */\nexport function createRecoveryCodes(accessToken?: string) {\n  return doPost<TwoFactorAuthRecoveryCodes>(\n    '/auth/v1/2fa/recoveryCodes',\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an entity (Project, Folder, File, Table, View)\n * https://rest-docs.synapse.org/rest/POST/entity.html\n */\nexport const createEntity = <T extends Entity>(\n  entity: T,\n  accessToken: string | undefined,\n) => {\n  return doPost<T>(\n    ENTITY,\n    entity,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n/**\n * Create a project with the given name.\n * https://rest-docs.synapse.org/rest/POST/entity.html\n */\nexport const createProject = (\n  name: string,\n  accessToken: string | undefined,\n): Promise<Entity> => {\n  return createEntity(\n    {\n      name,\n      concreteType: 'org.sagebionetworks.repo.model.Project',\n    },\n    accessToken,\n  )\n}\n\n/**\n * Return this user's UserProfile\n * https://rest-docs.synapse.org/rest/GET/userProfile.html\n */\nexport const getUserProfile = (accessToken: string | undefined) => {\n  return doGet<UserProfile>(\n    USER_PROFILE,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return any user's UserProfile\n * https://rest-docs.synapse.org/rest/GET/userProfile.html\n */\nexport const getUserProfileById = (\n  accessToken: string | undefined,\n  ownerId: string,\n) => {\n  return doGet<UserProfile>(\n    USER_PROFILE_ID(ownerId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return this user's profile bundle\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserBundle.html\n */\nexport const getUserBundle = (\n  id: string,\n  mask: number,\n  accessToken: string | undefined,\n): Promise<UserBundle> => {\n  return doGet<UserBundle>(\n    `${USER_ID_BUNDLE(id)}?mask=${mask}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return the current user's bundle\n * http://rest-docs.synapse.org/rest/GET/user/bundle.html\n */\nexport const getMyUserBundle = (\n  mask: number,\n  accessToken: string | undefined,\n): Promise<UserBundle> => {\n  return doGet<UserBundle>(\n    `${USER_BUNDLE}?mask=${mask}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update your own profile\n * @param profile\n * @param accessToken\n * @returns\n */\nexport const updateMyUserProfile = (\n  profile: UserProfile,\n  accessToken: string | undefined = undefined,\n): Promise<UserProfile> => {\n  const url = '/repo/v1/userProfile'\n  return doPut<UserProfile>(\n    url,\n    profile,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Users and Groups that match the given prefix.\n * http://rest-docs.synapse.org/rest/GET/userGroupHeaders.html\n */\nexport const getUserGroupHeaders = (\n  prefix: string = '',\n  typeFilter: TYPE_FILTER = TYPE_FILTER.ALL,\n  offset: number = 0,\n  limit: number = 20,\n): Promise<UserGroupHeaderResponsePage> => {\n  return doGet<UserGroupHeaderResponsePage>(\n    USER_GROUP_HEADERS +\n      `?prefix=${prefix}&typeFilter=${typeFilter}&offset=${offset}&limit=${limit}`,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Users and Groups that match the given list of aliases.\n * https://repo-prod.prod.sagebase.org/repo/v1/userGroupHeaders/aliases\n */\nexport const postUserGroupHeadersWithAlias = (aliases: string[]) => {\n  return doPost<UserGroupHeaderResponse>(\n    `${USER_GROUP_HEADERS}/aliases`,\n    { list: aliases },\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return batch of user group headers\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserGroupHeaderResponsePage.html\n */\nexport const getGroupHeadersBatch = (\n  ids: string[],\n  accessToken?: string,\n): Promise<UserGroupHeaderResponsePage> => {\n  return doGet<UserGroupHeaderResponsePage>(\n    USER_GROUP_HEADERS_BATCH + `?ids=${ids.join(',')}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return a batch of Evaluation queues\n * https://rest-docs.synapse.org/rest/GET/evaluation.html\n */\nexport const getEvaluations = (\n  evalIds: string[],\n  accessToken: string | undefined,\n): Promise<PaginatedResults<Evaluation>> => {\n  return doGet<PaginatedResults<Evaluation>>(\n    EVALUATIONS_BY_ID(evalIds),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport type UserProfileList = { list: UserProfile[] }\n/**\n * Return the User Profiles for the given list of user IDs\n * https://rest-docs.synapse.org/rest/POST/userProfile.html\n */\nexport const getUserProfiles = (\n  list: string[],\n  accessToken: string | undefined = undefined,\n): Promise<UserProfileList> => {\n  return doPost(\n    USER_PROFILE,\n    { list },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return the children (Files/Folders) of the given entity (Project or Folder).\n * https://rest-docs.synapse.org/rest/POST/entity/children.html\n */\nexport const getEntityChildren = (\n  request: EntityChildrenRequest,\n  accessToken: string | undefined = undefined,\n  signal?: AbortSignal,\n) => {\n  return doPost<EntityChildrenResponse>(\n    '/repo/v1/entity/children',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n    { signal },\n  )\n}\n/**\n * Retrieve an entityId for a given parent ID and entity name.\n * https://rest-docs.synapse.org/rest/POST/entity/child.html\n */\nexport const lookupChildEntity = (\n  request: EntityLookupRequest,\n  accessToken: string | undefined = undefined,\n) => {\n  return doPost<EntityId>(\n    '/repo/v1/entity/child',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a batch of pre-signed URLs and/or FileHandles for the given list of FileHandleAssociations.\n * https://rest-docs.synapse.org/rest/POST/fileHandle/batch.html\n */\nexport const getFiles = (\n  request: BatchFileRequest,\n  accessToken: string | undefined = undefined,\n): Promise<BatchFileResult> => {\n  return doPost(\n    FILE_HANDLE_BATCH,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a batch of pre-signed URLs and/or FileHandles for the given list of FileHandleAssociations.\n * https://rest-docs.synapse.org/rest/POST/fileHandle/batch.html\n */\nexport const getBulkFiles = async (\n  bulkFileDownloadRequest: BulkFileDownloadRequest,\n  accessToken: string | undefined = undefined,\n): Promise<BulkFileDownloadResponse> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/file/v1/file/bulk/async/start',\n    bulkFileDownloadRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/file/v1/file/bulk/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n/**\n * Bundled access to Entity and related data components.\n * An EntityBundle can be used to create, fetch, or update an Entity and associated\n * objects with a single web service request.\n * See SynapseClient.test.js for an example partsMask.\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html\n */\n\nexport const getEntity = <T extends Entity>(\n  accessToken: string | undefined = undefined,\n  entityId: string,\n  versionNumber?: string | number,\n) => {\n  if (entityId.indexOf('.') > -1) {\n    // PORTALS-1943: we were given an entity Id with a version!\n    const entityTokens = entityId.split('.')\n    entityId = entityTokens[0]\n    versionNumber = entityTokens[1]\n  }\n  const url = versionNumber\n    ? `/repo/v1/entity/${entityId}/version/${versionNumber}`\n    : `/repo/v1/entity/${entityId}`\n  return doGet<T>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const getEntityHeadersByIds = (\n  entityIds: string[],\n  accessToken?: string,\n) => {\n  return getEntityHeaders(\n    entityIds.map(id => ({ targetId: id })),\n    accessToken,\n  )\n}\n\n/**\n * Get the EntityHeader for a list of references with a POST.\n * If any item in the batch fails (e.g., with a 404) it will be EXCLUDED in the result set.\n * https://rest-docs.synapse.org/rest/POST/entity/header.html\n */\nexport const getEntityHeaders = (\n  references: ReferenceList,\n  accessToken?: string,\n) => {\n  // if references contains entity IDs with dot notation, fix the reference object\n  const fixedReferences = references.map(reference => {\n    if (reference.targetId.indexOf('.') > -1) {\n      const entityTokens = reference.targetId.split('.')\n      return {\n        targetId: entityTokens[0],\n        version: entityTokens[1],\n      }\n    } else return reference\n  })\n\n  return doPost<PaginatedResults<EntityHeader>>(\n    ENTITY_HEADERS,\n    { references: fixedReferences },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Lookup an Entity ID using an alias.\n * https://rest-docs.synapse.org/rest/GET/entity/alias/alias.html\n */\nexport const getEntityAlias = (alias: string, accessToken?: string) => {\n  return doGet<EntityId>(\n    ENTITY_ALIAS(alias),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the EntityHeader for a single entity\n * https://rest-docs.synapse.org/rest/GET/entity/id/type.html\n */\nexport const getEntityHeader = (entityId: string, accessToken?: string) => {\n  return doGet<EntityHeader>(\n    ENTITY_HEADER_BY_ID(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an Entity's ACL\n * Note: The caller must be granted ACCESS_TYPE.CHANGE_PERMISSIONS on the Entity to call this method.\n * https://rest-docs.synapse.org/rest/PUT/entity/id/acl.html\n */\nexport const updateEntityACL = (\n  acl: AccessControlList,\n  accessToken: string | undefined = undefined,\n): Promise<AccessControlList> => {\n  return doPut<AccessControlList>(\n    ENTITY_ACL(acl.id),\n    acl,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const updateEntity = <T extends Entity>(\n  entity: T,\n  accessToken: string | undefined = undefined,\n  newVersion?: boolean,\n): Promise<T> => {\n  let url = `/repo/v1/entity/${entity.id}`\n  if (newVersion) url += '?newVersion=true'\n  return doPut<T>(\n    url,\n    entity,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const deleteEntity = (\n  accessToken: string | undefined = undefined,\n  entityId: string | number,\n) => {\n  return doDelete(\n    ENTITY_ID(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getEntityBundleV2 = <T extends EntityBundleRequest>(\n  entityId: string | number,\n  requestObject: T,\n  version?: number,\n  accessToken?: string,\n): Promise<EntityBundle<T>> => {\n  return doPost<EntityBundle<T>>(\n    ENTITY_BUNDLE_V2(entityId, version),\n    requestObject,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a corresponding string value of ObjectType:\n **/\nfunction getObjectTypeToString(key: ObjectType) {\n  return ObjectType[key]\n}\n\n/**\n * Get Wiki page contents, call is of the form:\n * https://rest-docs.synapse.org/rest/GET/entity/ownerId/wiki.html\n */\nexport const getEntityWiki = (\n  accessToken: string | undefined,\n  ownerId: string | undefined,\n  wikiId: string | undefined = '',\n  objectType: ObjectType = ObjectType.ENTITY,\n) => {\n  const objectTypeString = getObjectTypeToString(objectType)\n\n  const url = `/repo/v1/${objectTypeString?.toLocaleLowerCase()}/${ownerId}/wiki/${wikiId}`\n  return doGet<WikiPage>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Returns synapse user favorites list given their access token\n * https://rest-docs.synapse.org/rest/GET/favorite.html\n */\nexport function getUserFavorites(\n  accessToken: string | undefined,\n  offset: number = 0,\n  limit: number = 200,\n  sort: FavoriteSortBy = 'NAME',\n  sortDirection: FavoriteSortDirection = 'ASC',\n) {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n  params.set('sort', sort)\n  params.set('sortDirection', sortDirection)\n\n  const url = `${FAVORITES}?${params.toString()}`\n  return doGet<PaginatedResults<EntityHeader>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Add an Entity as a Favorite of the caller.\n * http://rest-docs.synapse.org/rest/POST/favorite/id.html\n */\nexport function addUserFavorite(\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<EntityHeader> {\n  return doPost(\n    `${FAVORITES}/${entityId}`,\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Remove a favorite\n * http://rest-docs.synapse.org/rest/DELETE/favorite/id.html\n */\nexport const removeUserFavorite = (\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    `${FAVORITES}/${entityId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a list of challenges for which the given user is registered.\n * see http://rest-docs.synapse.org/rest/GET/challenge.html\n */\nexport const getUserChallenges = (\n  accessToken: string | undefined,\n  userId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<ChallengePagedResults> => {\n  const url = `/repo/v1/challenge?participantId=${userId}&offset=${offset}&limit=${limit}`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Get a list of teams registered to the given challenge.\n * see http://rest-docs.synapse.org/rest/GET/challenge.html\n */\nexport const getChallengeTeams = (\n  accessToken: string | undefined,\n  challengeId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<ChallengeTeamPagedResults> => {\n  const url = `/repo/v1/challenge/${challengeId}/challengeTeam?&offset=${offset}&limit=${limit}`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Get a list of all teams registered to the given challenge.\n * see http://rest-docs.synapse.org/rest/GET/challenge.html\n */\nexport const getAllChallengeTeams = (\n  accessToken: string | undefined,\n  challengeId: string | number,\n): Promise<ChallengeTeam[]> => {\n  // format function to be callable by getAllOfPaginatedService\n  const fn = (limit: number, offset: number) => {\n    const url = `/repo/v1/challenge/${challengeId}/challengeTeam?&offset=${offset}&limit=${limit}`\n    return doGet<PaginatedResults<ChallengeTeam>>(\n      url,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n  }\n  return getAllOfPaginatedService(fn)\n}\n\n/**\n * List the Teams under which the given submitter may submit to the Challenge,\n * i.e. the Teams on which the user is a member and which are registered for the Challenge.\n * see https://rest-docs.synapse.org/rest/GET/challenge/challengeId/submissionTeams.html\n */\nexport const getSubmissionTeams = (\n  accessToken: string | undefined,\n  challengeId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 50,\n): Promise<PaginatedIds> => {\n  const url = `/repo/v1/challenge/${challengeId}/submissionTeams?&offset=${offset}&limit=${limit}`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Find out whether a Team and its members are eligible to submit to a given Evaluation queue (at the current time).\n * see https://rest-docs.synapse.org/rest/GET/evaluation/evalId/team/id/submissionEligibility.html\n */\nexport const getSubmissionEligibility = (\n  evaluationId: string,\n  teamId: string,\n  accessToken?: string,\n): Promise<TeamSubmissionEligibility> => {\n  const url = `/repo/v1/evaluation/${evaluationId}/team/${teamId}/submissionEligibility`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Register a Team with a Challenge.\n * see https://rest-docs.synapse.org/rest/POST/challenge/challengeId/challengeTeam.html\n */\nexport const registerChallengeTeam = (\n  accessToken: string | undefined,\n  challengeId: string | number,\n  teamId: string | number,\n  message?: string,\n): Promise<ChallengeTeam> => {\n  const url = `/repo/v1/challenge/${challengeId}/challengeTeam`\n  return doPost(\n    url,\n    {\n      challengeId,\n      teamId,\n      message,\n    },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the Challenge associated to a particular Project entity\n * https://rest-docs.synapse.org/rest/GET/entity/id/challenge.html\n */\nexport const getEntityChallenge = (\n  entityId: string | number,\n  accessToken: string | undefined,\n): Promise<Challenge> => {\n  const url = `/repo/v1/entity/${entityId}/challenge`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Create a new Team\n * https://rest-docs.synapse.org/rest/POST/team.html\n */\nexport function createTeam(\n  accessToken: string | undefined,\n  name: string,\n  description?: string,\n  icon?: string,\n): Promise<Team> {\n  return doPost(\n    `/repo/v1/team`,\n    { name, description, icon },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the user's list of teams they are on\n *\n * @param {*} id ownerID of the synapse user see - https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserProfile.html\n */\nexport const getUserTeamList = (\n  accessToken: string | undefined,\n  userId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<PaginatedResults<Team>> => {\n  const url = `/repo/v1/user/${userId}/team?offset=${offset}&limit=${limit}`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Get the access requirements associated with a team\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {*} teamId teamId of the synapse team - https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Team.html\n * @param {*} offset   (optional) the starting index of the returned results (default 0)\n * @param {*} limit    (optional) the maximum number of access requirements to return (default 50)\n * @returns {Promise<Array<AccessRequirement>>}\n */\nexport const getTeamAccessRequirements = (\n  accessToken: string | undefined,\n  teamId: string,\n): Promise<AccessRequirement[]> => {\n  const fn = (limit: number, offset: number) => {\n    const url = `/repo/v1/team/${teamId}/accessRequirement?offset=${offset}&limit=${limit}`\n    return doGet<PaginatedResults<AccessRequirement>>(\n      url,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n  }\n  return getAllOfPaginatedService(fn)\n}\n\n/**\n * Get a list of members for a team\n *\n * @param {*} id ownerID of the synapse user see -https://rest-docs.synapse.org/rest/GET/teamMembers/id.html\n * @param {*} fragment (optional) a prefix of the user's first or last name or email address (optional)\n * @param {*} limit    (optional) the maximum number of members to return (default 10, max limit 50)\n * @param {*} offset   (optional) the starting index of the returned results (default 0)\n *\n */\nexport const getTeamMembers = (\n  accessToken: string | undefined,\n  teamId: string | number,\n  fragment: string = '',\n  limit: number = 10,\n  offset: number = 0,\n): Promise<PaginatedResults<TeamMember>> => {\n  const url = `${TEAM_MEMBERS(teamId)}?limit=${limit}&offset=${offset}${\n    fragment ? `&fragment=${fragment}` : ''\n  }`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Add a member to the Team\n * https://rest-docs.synapse.org/rest/PUT/teamMember.html\n */\nexport const addTeamMemberWithToken = (\n  joinTeamSignedToken: JoinTeamSignedToken,\n): Promise<ResponseMessage> => {\n  return doPut<ResponseMessage>(\n    TEAM_MEMBER,\n    joinTeamSignedToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Add member to the Team\n * https://rest-docs.synapse.org/rest/PUT/team/id/member/principalId.html\n */\nexport const addTeamMemberAsAuthenticatedUserOrAdmin = (\n  teamId: string,\n  memberId: string,\n  accessToken: string,\n) => {\n  return doPut(\n    TEAM_ID_MEMBER_ID_WITH_NOTIFICATION(teamId, memberId),\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create a membership invitation and send an email notification to the invitee.\n * https://rest-docs.synapse.org/rest/POST/membershipInvitation.html\n */\nexport function createMembershipInvitation(\n  accessToken: string | undefined,\n  teamId: string | number,\n  inviteeEmail: string,\n  inviteeId?: string | number,\n  message?: string,\n  expiresOn?: string,\n): Promise<EntityHeader> {\n  return doPost(\n    `${REPO}/membershipInvitation`,\n    { teamId, inviteeEmail, inviteeId, message, expiresOn },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/membershipInvitation/id.html\nexport const getMembershipInvitation = (\n  membershipInvitationSignedToken: MembershipInvtnSignedToken,\n): Promise<MembershipInvitation> => {\n  return doPost(\n    MEMBERSHIP_INVITATION(\n      membershipInvitationSignedToken.membershipInvitationId,\n    ),\n    membershipInvitationSignedToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/membershipInvitation/id/inviteeVerificationSignedToken.html\nexport const getInviteeVerificationSignedToken = (\n  membershipInvitationId: string,\n  accessToken: string,\n): Promise<InviteeVerificationSignedToken> => {\n  return doGet(\n    INVITEE_VERIFICATION_SIGNED_TOKEN(membershipInvitationId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/PUT/membershipInvitation/id/inviteeId.html\nexport const bindInvitationToAuthenticatedUser = (\n  inviteeVerificationSignedToken: InviteeVerificationSignedToken,\n  membershipInvitationId: string,\n  accessToken: string,\n) => {\n  return doPut(\n    BIND_INVITATION_TO_AUTHENTICATED_USER(membershipInvitationId),\n    inviteeVerificationSignedToken,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Checks if a user is a member of a specific team.\n *\n * @returns a TeamMember if the user is a member of the team, or null if the user is not.\n */\nexport const getIsUserMemberOfTeam = (\n  teamId: string,\n  userId: string,\n  accessToken?: string,\n): Promise<TeamMember | null> => {\n  const url = TEAM_ID_MEMBER_ID(teamId, userId)\n  return allowNotFoundError(() =>\n    doGet<TeamMember>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT),\n  )\n}\n\n/**\n * Retrieve the Team Membership Status bundle for a team and user.\n * https://rest-docs.synapse.org/rest/GET/team/id/member/principalId/membershipStatus.html\n */\nexport const getMembershipStatus = (\n  teamId: string | number,\n  userId: string | number,\n  accessToken?: string,\n): Promise<TeamMembershipStatus> => {\n  const url = `${TEAM_ID_MEMBER_ID(teamId, userId)}/membershipStatus`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Create a membership request and send an email notification to the administrators of the team.\n *\n * @returns a TeamMember if the user is a member of the team, or null if the user is not.\n */\nexport const createMembershipRequest = (\n  teamId: string,\n  userId: string,\n  message?: string,\n  expiresOn?: string,\n  accessToken?: string,\n): Promise<MembershipRequest | null> => {\n  const url = `/repo/v1/membershipRequest`\n  return doPost<MembershipRequest>(\n    url,\n    { teamId, userId, message, expiresOn },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Remove the given member from the specified Team. Note: The client must either be a Team administrator or the member being removed.\n * https://rest-docs.synapse.org/rest/DELETE/team/id/member/principalId.html\n */\nexport const deleteMemberFromTeam = (\n  teamId: string,\n  userId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/team/${teamId}/member/${userId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Team that matches the given ID.\n * https://rest-docs.synapse.org/rest/GET/team/id.html\n */\nexport const getTeam = (\n  id: string | number,\n  accessToken?: string | undefined,\n) => {\n  return doGet<Team>(\n    TEAM(id),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Teams that match the given list of IDs.\n * https://rest-docs.synapse.org/rest/POST/teamList.html\n */\nexport const getTeamList = (\n  ids: string[] | number[],\n  accessToken?: string | undefined,\n) => {\n  return doPost<ListWrapper<Team>>(\n    `/repo/v1/teamList`,\n    { list: ids },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/entity/ownerId/wikikey.html\n * Get the root WikiPageKey for an Entity.\n * Note: The caller must be granted the ACCESS_TYPE.READ permission on the owner.\n * @return WikiPageKey\n **/\nexport const getWikiPageKeyForEntity = (\n  accessToken: string | undefined,\n  ownerId: string | number,\n): Promise<WikiPageKey> => {\n  const url = `/repo/v1/entity/${ownerId}/wikikey`\n  return doGet<WikiPageKey>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/access_requirement/ownerId/wikikey.html\n * Get the root WikiPageKey for an Access Requirement.\n * Note: The caller must be granted the ACCESS_TYPE.READ permission on the owner.\n * @return WikiPageKey\n **/\nexport const getWikiPageKeyForAccessRequirement = (\n  accessToken: string | undefined,\n  ownerId: string | number,\n): Promise<WikiPageKey> => {\n  const url = ACCESS_REQUIREMENT_WIKI_PAGE_KEY(ownerId)\n  return doGet<WikiPageKey>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getWikiAttachmentsFromEntity = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n  objectType: ObjectType = ObjectType.ENTITY,\n): Promise<FileHandleResults> => {\n  const objectTypeString = getObjectTypeToString(objectType)\n  const url = `/repo/v1/${objectTypeString.toLocaleLowerCase()}/${id}/wiki2/${wikiId}/attachmenthandles`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\nexport const getWikiAttachmentsFromEvaluation = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n) => {\n  const url = `/repo/v1/evaluation/${id}/wiki/${wikiId}/attachmenthandles`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const getPresignedUrlForWikiAttachment = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n  fileName: string,\n  objectType: ObjectType = ObjectType.ENTITY,\n): Promise<string> => {\n  const objectTypeString = getObjectTypeToString(objectType)\n  const url = `/repo/v1/${objectTypeString.toLocaleLowerCase()}/${id}/wiki2/${wikiId}/attachment?fileName=${fileName}&redirect=false`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const isInSynapseExperimentalMode = (): boolean => {\n  // bang bang, you're a boolean!\n  return !!cookies.get(SynapseConstants.EXPERIMENTAL_MODE_COOKIE)\n}\n\n/**\n * Set the access token cookie.  Note that this will only succeed if your app is running on\n * a .synapse.org subdomain.\n *\n * @param {*} token Access token.  If undefined, then call should instruct the browser to delete the cookie.\n */\nexport const setAccessTokenCookie = async (\n  token: string | undefined,\n): Promise<void> => {\n  if (isOutsideSynapseOrg()) {\n    if (!token) {\n      cookies.remove(ACCESS_TOKEN_COOKIE_KEY, { path: '/' })\n      // See - https://github.com/reactivestack/cookies/issues/189\n      await delay(100)\n    } else {\n      // sets cookie\n      cookies.set(ACCESS_TOKEN_COOKIE_KEY, token, {\n        // expires in 10 days (see SWC-6190)\n        maxAge: 60 * 60 * 24 * 10,\n        path: '/',\n      })\n    }\n  } else {\n    // will set cookie in the http header\n    return doPost(\n      'Portal/sessioncookie',\n      { sessionToken: token },\n      undefined,\n      BackendDestinationEnum.PORTAL_ENDPOINT,\n      { credentials: 'include' },\n    )\n  }\n}\n/**\n * Get the current access token from a cookie.  Note that this will only succeed if your app is running on\n * a .synapse.org subdomain.\n *\n * @throws SynapseClientError if the token is expired or not found by the servlet\n */\nexport const getAccessTokenFromCookie = async (): Promise<\n  string | undefined\n> => {\n  if (isOutsideSynapseOrg()) {\n    return Promise.resolve(cookies.get(ACCESS_TOKEN_COOKIE_KEY) as string)\n  }\n  return doGet<string>(\n    'Portal/sessioncookie?validate=true',\n    undefined,\n    BackendDestinationEnum.PORTAL_ENDPOINT,\n    { credentials: 'include' },\n  )\n}\n\nexport const getUseUtcTimeFromCookie = () => {\n  return cookies.get(DATETIME_UTC_COOKIE_KEY) === 'true'\n}\n\nexport const getPrincipalAliasRequest = (\n  accessToken: string | undefined,\n  request: PrincipalAliasRequest,\n): Promise<PrincipalAliasResponse> => {\n  const url = '/repo/v1/principal/alias'\n  return doPost(url, request, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const signOut = async () => {\n  await setAccessTokenCookie(undefined)\n}\n\n/**\n * Upload file.  Note that this currently only supports Synapse storage (Sage s3 bucket)\n * @param accessToken\n * @param file\n * @param endpoint\n */\nexport const uploadFile = (\n  accessToken: string | undefined,\n  filename: string,\n  file: Blob,\n) => {\n  return new Promise<FileUploadComplete>(\n    (fileUploadResolve, fileUploadReject) => {\n      const partSize: number = Math.max(5242880, file.size / 10000)\n      const request: MultipartUploadRequest = {\n        contentType: file.type,\n        fileName: filename,\n        fileSizeBytes: file.size,\n        partSizeBytes: partSize,\n        storageLocationId: SYNAPSE_STORAGE_LOCATION_ID,\n      }\n      calculateMd5(file).then((md5: string) => {\n        request.contentMD5Hex = md5\n        startMultipartUpload(\n          accessToken,\n          filename,\n          file,\n          request,\n          fileUploadResolve,\n          fileUploadReject,\n        )\n      })\n    },\n  )\n}\n\nconst calculateMd5 = (fileBlob: File | Blob): Promise<string> => {\n  // code taken from md5 example from library\n  return new Promise((resolve, reject) => {\n    const blobSlice = File.prototype.slice,\n      file = fileBlob,\n      chunkSize = 2097152, // Read in chunks of 2MB\n      chunks = Math.ceil(file.size / chunkSize),\n      spark = new SparkMD5.ArrayBuffer(),\n      fileReader = new FileReader()\n    let currentChunk = 0\n\n    fileReader.onload = function (e) {\n      console.log('read chunk nr', currentChunk + 1, 'of', chunks)\n      spark.append(fileReader.result as ArrayBuffer) // Append array buffer\n      currentChunk++\n\n      if (currentChunk < chunks) {\n        loadNext()\n      } else {\n        console.log('finished loading')\n        const md5: string = spark.end()\n        console.info('computed hash', md5) // Compute hash\n        resolve(md5)\n      }\n    }\n\n    fileReader.onerror = function () {\n      console.warn('oops, something went wrong.')\n      reject(fileReader.error)\n    }\n\n    const loadNext = () => {\n      const start = currentChunk * chunkSize,\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize\n\n      fileReader.readAsArrayBuffer(blobSlice.call(file, start, end))\n    }\n    loadNext()\n  })\n}\n\nconst processFilePart = (\n  partNumber: number,\n  multipartUploadStatus: MultipartUploadStatus,\n  accessToken: string | undefined,\n  fileName: string,\n  file: Blob,\n  request: MultipartUploadRequest,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  if (multipartUploadStatus.clientSidePartsState![partNumber - 1]) {\n    // no-op. this part has already been processed!\n    return\n  }\n\n  const uploadId = multipartUploadStatus.uploadId\n  const presignedUploadUrlRequest: BatchPresignedUploadUrlRequest = {\n    uploadId,\n    contentType: 'application/octet-stream', // each part is binary\n    partNumbers: [partNumber],\n  }\n  const presignedUrlUrl = `/file/v1/file/multipart/${uploadId}/presigned/url/batch`\n  doPost<BatchPresignedUploadUrlResponse>(\n    presignedUrlUrl,\n    presignedUploadUrlRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(async (presignedUrlResponse: BatchPresignedUploadUrlResponse) => {\n    const presignedUrl =\n      presignedUrlResponse.partPresignedUrls[0].uploadPresignedUrl\n    // calculate the byte range\n    const startByte = (partNumber - 1) * request.partSizeBytes\n    let endByte = partNumber * request.partSizeBytes - 1\n    if (endByte >= request.fileSizeBytes) {\n      endByte = request.fileSizeBytes - 1\n    }\n    const fileSlice = file.slice(\n      startByte,\n      endByte + 1,\n      presignedUploadUrlRequest.contentType,\n    )\n    await uploadFilePart(\n      presignedUrl,\n      fileSlice,\n      presignedUploadUrlRequest.contentType,\n    )\n    // uploaded the part.  calculate md5 of the part and add the part to the upload\n    calculateMd5(fileSlice).then((md5: string) => {\n      const addPartUrl = `/file/v1/file/multipart/${uploadId}/add/${partNumber}?partMD5Hex=${md5}`\n      doPut<AddPartResponse>(\n        addPartUrl,\n        undefined,\n        accessToken,\n        BackendDestinationEnum.REPO_ENDPOINT,\n      ).then((addPartResponse: AddPartResponse) => {\n        if (addPartResponse.addPartState === 'ADD_SUCCESS') {\n          // done with this part!\n          multipartUploadStatus.clientSidePartsState![partNumber - 1] = true\n          checkUploadComplete(\n            multipartUploadStatus,\n            fileName,\n            accessToken,\n            fileUploadResolve,\n            fileUploadReject,\n          )\n        } else {\n          // retry after a brief delay\n          delay(1000).then(() => {\n            processFilePart(\n              partNumber,\n              multipartUploadStatus,\n              accessToken,\n              fileName,\n              file,\n              request,\n              fileUploadResolve,\n              fileUploadReject,\n            )\n          })\n        }\n      })\n    })\n  })\n}\nexport const checkUploadComplete = (\n  status: MultipartUploadStatus,\n  fileHandleName: string,\n  accessToken: string | undefined,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  // if all client-side parts are true (uploaded), then complete the upload and get the file handle!\n  if (\n    status.clientSidePartsState!.every(v => {\n      return v\n    })\n  ) {\n    const url = `/file/v1/file/multipart/${status.uploadId}/complete`\n    doPut<MultipartUploadStatus>(\n      url,\n      undefined,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n      .then((newStatus: MultipartUploadStatus) => {\n        // success!\n        fileUploadResolve({\n          fileHandleId: newStatus.resultFileHandleId,\n          fileName: fileHandleName,\n        })\n      })\n      .catch(error => {\n        fileUploadReject(error)\n      })\n  }\n}\nconst uploadFilePart = async (\n  presignedUrl: string,\n  file: Blob,\n  contentType: string,\n) => {\n  // TODO: could try using axios to get upload progress, then update the client-side part state (change to numbers from 0-1)\n  // This would give progress for the single file (across all parts).\n  // The parent would still need to figure out progress (for the total file set).\n  await fetch(presignedUrl, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': contentType,\n    },\n    body: file,\n  })\n}\nexport const startMultipartUpload = (\n  accessToken: string | undefined,\n  fileName: string,\n  file: Blob,\n  request: MultipartUploadRequest,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  const url = '/file/v1/file/multipart'\n  doPost<MultipartUploadStatus>(\n    url,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n    .then((status: MultipartUploadStatus) => {\n      // started the upload\n      // keep track of the part state client-side\n      const clientSidePartsState: boolean[] = status.partsState\n        .split('')\n        .map(bit => bit === '1')\n      status.clientSidePartsState = clientSidePartsState\n      for (let i = 0; i < clientSidePartsState.length; i = i + 1) {\n        if (!clientSidePartsState[i]) {\n          // upload this part.  note that partNumber is always the index+1\n          processFilePart(\n            i + 1,\n            status,\n            accessToken,\n            fileName,\n            file,\n            request,\n            fileUploadResolve,\n            fileUploadReject,\n          )\n        }\n      }\n      // in case there is no upload work to do!\n      checkUploadComplete(\n        status,\n        fileName,\n        accessToken,\n        fileUploadResolve,\n        fileUploadReject,\n      )\n    })\n    .catch(error => {\n      fileUploadReject(error)\n    })\n}\n\nexport const getFileHandleContentFromID = (\n  fileHandleId: string,\n  accessToken: string,\n): Promise<string> => {\n  // get the presigned URL, download the data, and send that back (via resolve())\n  return new Promise((resolve, reject) => {\n    // get the file handle and url\n    const getFileHandleByIdPromise = getFileHandleById(\n      fileHandleId,\n      accessToken,\n    )\n    const getFileHandlePresignedUrlPromis = getFileHandleByIdURL(\n      fileHandleId,\n      accessToken,\n    )\n    Promise.all([getFileHandleByIdPromise, getFileHandlePresignedUrlPromis])\n      .then(values => {\n        const fileHandle: FileHandle = values[0]\n        const presignedUrl: string = values[1]\n        return getFileHandleContent(fileHandle, presignedUrl).then(\n          (content: string) => {\n            resolve(content)\n          },\n        )\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\nexport const getFileHandleContent = (\n  fileHandle: FileHandle,\n  presignedUrl: string,\n  maxFileSizeBytes: number = MAX_JS_FILE_DOWNLOAD_SIZE,\n): Promise<string> => {\n  // get the presigned URL, download the data, and send that back (via resolve())\n  return new Promise((resolve, reject) => {\n    // sanity check!  must be less than 5MB (unless overridden)\n    if (fileHandle.contentSize < maxFileSizeBytes) {\n      fetch(presignedUrl, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: {\n          'Content-Type': fileHandle.contentType,\n        },\n      }).then(response => {\n        // the response is always decoded using UTF-8\n        response.text().then(text => {\n          resolve(text)\n        })\n      })\n    } else {\n      reject(\n        `File size (${calculateFriendlyFileSize(\n          fileHandle.contentSize,\n        )}) exceeds the maximum size that can be downloaded (${calculateFriendlyFileSize(\n          maxFileSizeBytes,\n        )})`,\n      )\n    }\n  })\n}\n\n/**\n * Return the FileHandle of the file associated to the given FileEntity.\n * * @param fileEntity: FileEntity\n * @param accessToken\n * @param endpoint\n */\nexport const getFileResult = (\n  fileEntity: FileEntity,\n  accessToken?: string,\n  includeFileHandles?: boolean,\n  includePreSignedURLs?: boolean,\n  includePreviewPreSignedURLs?: boolean,\n): Promise<FileResult> => {\n  return new Promise((resolve, reject) => {\n    const fileHandleAssociationList: FileHandleAssociation[] = [\n      {\n        associateObjectId: fileEntity.id!,\n        associateObjectType: FileHandleAssociateType.FileEntity,\n        fileHandleId: fileEntity.dataFileHandleId,\n      },\n    ]\n    const request: BatchFileRequest = {\n      includeFileHandles: includeFileHandles || false,\n      includePreSignedURLs: includePreSignedURLs || false,\n      includePreviewPreSignedURLs: includePreviewPreSignedURLs || false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    getFiles(request, accessToken)\n      .then((data: BatchFileResult) => {\n        if (\n          data.requestedFiles.length &&\n          data.requestedFiles[0].fileHandleId !== undefined\n        ) {\n          resolve(data.requestedFiles[0])\n        } else {\n          reject(data.requestedFiles[0].failureCode)\n        }\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\n/**\n * Add a batch of files to the user's download list.\n * Uses http://rest-docs.synapse.org/rest/POST/download/list/add.html\n * @param batchToAdd\n */\nexport const addFileBatchToDownloadListV2 = (\n  batchToAdd: { fileEntityId: string; versionNumber?: number }[],\n  accessToken?: string,\n): Promise<AddBatchOfFilesToDownloadListResponse> => {\n  const request: AddBatchOfFilesToDownloadListRequest = {\n    batchToAdd,\n  }\n  return doPost(\n    '/repo/v1/download/list/add',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Add a file to the user's download list.\n * Uses http://rest-docs.synapse.org/rest/POST/download/list/add.html\n * @param fileEntityId\n * @param versionNumber\n */\nexport const addFileToDownloadListV2 = (\n  fileEntityId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<AddBatchOfFilesToDownloadListResponse> => {\n  return addFileBatchToDownloadListV2(\n    [{ fileEntityId, versionNumber }],\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/package/async/start.html\n */\nexport const createPackageFromDownloadListV2 = async (\n  zipFileName?: string,\n  accessToken?: string,\n): Promise<DownloadListPackageResponse> => {\n  const request: DownloadListPackageRequest = {\n    zipFileName,\n    includeManifest: true,\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListPackageRequest',\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/download/list/package/async/start`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/package/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/package/async/start.html\n */\nexport const createManifestFromDownloadListV2 = async (\n  accessToken: string | undefined = undefined,\n) => {\n  const request: DownloadListManifestRequest = {\n    csvTableDescriptor: {},\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListManifestRequest',\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/download/list/manifest/async/start`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/manifest/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/add/async/start.html\n * Start an asynchronous job to add files to a user's download list from either a view query or a folder. Use GET /download/list/add/async/get/{asyncToken} to get both the job status and job results.\n */\nexport const addFilesToDownloadListV2 = async (\n  request: AddToDownloadListRequest,\n  accessToken: string | undefined = undefined,\n): Promise<AddToDownloadListResponse> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/repo/v1/download/list/add/async/start',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/add/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * Create an ACL\n * https://rest-docs.synapse.org/rest/POST/entity/id/acl.html\n */\nexport const createACL = (\n  entityId: string,\n  acl: AccessControlList,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/entity/${entityId}/acl`,\n    acl,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit an entity to an evaluation queue\n * https://rest-docs.synapse.org/rest/POST/evaluation/submission.html\n */\nexport const submitToEvaluation = (\n  accessToken: string | undefined,\n  submission: EvaluationSubmission,\n  etag: string,\n  submissionEligibilityHash?: number,\n) => {\n  let url = `/repo/v1/evaluation/submission?etag=${etag}`\n  if (submissionEligibilityHash)\n    url += `&submissionEligibilityHash=${submissionEligibilityHash}`\n  return doPost(\n    url,\n    submission,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getEvaluationPermissions = (\n  evalId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<UserEvaluationPermissions>(\n    `/repo/v1/evaluation/${evalId}/permissions`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get an evaluation queue\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId.html\n */\nexport const getEvaluation = (\n  evalId: string,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  if (!evalId) {\n    // we must explicitly handle this because /repo/v1/evaluation\n    // without an evalId is a valid API that returns a different API response\n    return Promise.reject(new Error('evalId is empty'))\n  }\n  return doGet<Evaluation>(\n    EVALUATION_BY_ID(evalId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an existing evaluation queue\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId.html\n */\nexport const updateEvaluation = (\n  evaluation: Evaluation,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  if (!evaluation.id) {\n    // we must explicitly handle this because /repo/v1/evaluation\n    // without an evalId is a valid API that returns a different API response\n    return Promise.reject(new Error('evaluation does not have an ID'))\n  }\n  return doPut<Evaluation>(\n    EVALUATION_BY_ID(evaluation.id),\n    evaluation,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an evaluation queue\n * https://rest-docs.synapse.org/rest/POST/evaluation.html\n */\nexport const createEvaluation = (\n  evaluation: Evaluation,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  return doPost<Evaluation>(\n    EVALUATION,\n    evaluation,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete an existing evaluation queue\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId.html\n */\nexport const deleteEvaluation = (\n  evalId: string,\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    `/repo/v1/evaluation/${evalId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get an evaluation round\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId/round/evalRoundId.html\n */\nexport const getEvaluationRound = (\n  evalId: string,\n  evalRoundId: string,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doGet(\n    `/repo/v1/evaluation/${evalId}/round/${evalRoundId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get all evaluation rounds\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId/round/list.html\n */\nexport const getEvaluationRoundsList = (\n  evalId: string,\n  evaluationRoundListRequest: EvaluationRoundListRequest | undefined,\n  accessToken: string | undefined,\n): Promise<EvaluationRoundListResponse> => {\n  return doPost(\n    `/repo/v1/evaluation/${evalId}/round/list`,\n    evaluationRoundListRequest ?? {},\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an evaluation round\n * https://rest-docs.synapse.org/rest/POST/evaluation/evalId/round/evalRoundId.html\n */\nexport const createEvaluationRound = (\n  evaluationRound: EvaluationRound,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doPost(\n    `/repo/v1/evaluation/${evaluationRound.evaluationId}/round`,\n    evaluationRound,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an evaluation round\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId/round/evalRoundId.html\n */\nexport const updateEvaluationRound = (\n  evaluationRound: EvaluationRound,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doPut(\n    `/repo/v1/evaluation/${evaluationRound.evaluationId}/round/${evaluationRound.id}`,\n    evaluationRound,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete an evaluation round\n * https://rest-docs.synapse.org/rest/DELETE/evaluation/evalId/round/evalRoundId.html\n */\nexport const deleteEvaluationRound = (\n  evalId: string,\n  evalRoundId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/evaluation/${evalId}/round/${evalRoundId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Executes a user-defined query over the Submissions of a specific Evaluation.\n * https://rest-docs.synapse.org/rest/GET/evaluation/submission/query.html\n */\nexport const getEvaluationSubmissions = (\n  query: string,\n  accessToken: string | undefined,\n): Promise<QueryTableResults> => {\n  return doGet(\n    `/repo/v1/evaluation/submission/query?query=${encodeURI(query)}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get user-friendly OAuth2 request information (to present to the user so they can choose if they want to give consent).\n * http://rest-docs.synapse.org/rest/POST/oauth2/description.html\n */\nexport const getOAuth2RequestDescription = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n): Promise<OIDCAuthorizationRequestDescription> => {\n  return doPost(\n    '/auth/v1/oauth2/description',\n    oidcAuthRequest,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Check whether user has already granted consent for the given OAuth client, scope, and claims.\n * Consent persists for one year.\n */\nexport const hasUserAuthorizedOAuthClient = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n  accessToken: string,\n): Promise<OAuthConsentGrantedResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/consentcheck',\n    oidcAuthRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get OAuth2 Client information (available to the public)\n */\nexport const getOAuth2Client = (\n  clientId: string,\n): Promise<OAuthClientPublic> => {\n  return doGet(\n    `/auth/v1/oauth2/client/${clientId}`,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n List the OAuth 2.0 clients created by the current user.\n */\nexport const getOAuth2 = (\n  accessToken: string,\n  nextPageToken?: string,\n): Promise<OAuthClientList> => {\n  return doGet(\n    `/auth/v1/oauth2/client${\n      nextPageToken ? '?nextPageToken=' + nextPageToken : ''\n    }`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\nCreate an OAuth 2.0 client.\nNote: The client name must be unique.\nNote: After creating the client one must also set the client secret and have their client verified\nhttps://rest-docs.synapse.org/rest/POST/oauth2/client.html\n */\nexport const createOAuthClient = (\n  request: OAuthClient,\n  accessToken: string,\n): Promise<OAuthClient> => {\n  return doPost(\n    '/auth/v1/oauth2/client',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\nDelete OAuth 2.0 client\nhttps://rest-docs.synapse.org/rest/DELETE/oauth2/client/id.html\n */\nexport const deleteOAuthClient = (id: string, accessToken: string) => {\n  return doDelete(\n    `/auth/v1/oauth2/client/${id}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n Update the metadata for an existing OAuth 2.0 client.\n Note: Only the creator of a client can update it.\n Note: Changing the redirect URIs will revert the 'verified' status of the client, necessitating re-verification.\n https://repo-prod.prod.sagebase.org/auth/v1/oauth2/client/{id}\n */\nexport const updateOAuthClient = (\n  request: OAuthClient,\n  accessToken: string,\n): Promise<OAuthClient> => {\n  return doPut(\n    `/auth/v1/oauth2/client/${request.client_id}`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n\n Note: Only the creator of a client can update it.\n https://rest-docs.synapse.org/rest/PUT/oauth2/client/id/verificationPrecheck.html\n */\nexport const isOAuthClientReverificationRequired = (\n  request: OAuthClient,\n  accessToken: string,\n): Promise<OAuthClientVerificationPrecheckResult> => {\n  return doPut(\n    `/auth/v1/oauth2/client/${request.client_id}/verificationPrecheck`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\nGet a secret credential to use when requesting an access token.\nSynapse supports 'client_secret_basic' and 'client_secret_post'.\nNOTE: This request will invalidate any previously issued secrets.\nhttps://docs.synapse.org/rest/POST/oauth2/client/secret/id.html\n*/\nexport const createOAuthClientSecret = (\n  accessToken: string,\n  id: string,\n): Promise<OAuthClientIdAndSecret> => {\n  return doPost(\n    `/auth/v1/oauth2/client/secret/${id}`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get OAuth2 Client information (available to the public)\n */\nexport const getAuthenticatedOn = async (\n  accessToken: string,\n): Promise<AuthenticatedOn> => {\n  return doGet(\n    `/auth/v1/authenticatedOn`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * User consents to the given OIDCAuthorizationRequest (after being presented with all information returned by getOAuth2RequestDescription())\n * @param oidcAuthRequest\n * @param accessToken\n * @param endpoint\n */\nexport const consentToOAuth2Request = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n  accessToken: string | undefined,\n): Promise<AccessCodeResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/consent',\n    oidcAuthRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/***********************\n * FORM SERVICES\n * https://rest-docs.synapse.org/rest/#org.sagebionetworks.repo.web.controller.FormController\n *************************/\n/**\n * Create a FormGroup\n * https://rest-docs.synapse.org/rest/POST/form/group.html\n * @param name\n * @param accessToken\n * @param endpoint\n */\nexport const createFormGroup = (\n  name: string,\n  accessToken: string,\n): Promise<FormGroup> => {\n  return doPost(\n    `/repo/v1/form/group?name=${encodeURI(name)}`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get FormGroup ACL\n * https://rest-docs.synapse.org/rest/GET/form/group/id/acl.html\n */\nexport const getFormACL = (\n  formGroupId: string,\n  accessToken: string | undefined,\n): Promise<AccessControlList> => {\n  return doGet(\n    `/repo/v1/form/group/${formGroupId}/acl`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update FormGroup ACL\n * https://rest-docs.synapse.org/rest/PUT/form/group/id/acl.html\n */\nexport const updateFormACL = (\n  formGroupId: string,\n  newAcl: AccessControlList,\n  accessToken: string | undefined,\n): Promise<AccessControlList> => {\n  return doPut(\n    `/repo/v1/form/group/${formGroupId}/acl`,\n    newAcl,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create a new FormData object\n * https://rest-docs.synapse.org/rest/POST/form/data.html\n * @param formGroupId\n * @param name\n * @param accessToken\n * @param endpoint\n */\nexport const createFormData = (\n  formGroupId: string,\n  name: string,\n  dataFileHandleId: string,\n  accessToken: string,\n): Promise<FormData> => {\n  const newFormData: FormChangeRequest = {\n    name,\n    fileHandleId: dataFileHandleId,\n  }\n  return doPost(\n    `/repo/v1/form/data?groupId=${formGroupId}`,\n    newFormData,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update FormData object\n * https://rest-docs.synapse.org/rest/PUT/form/data.html\n */\nexport const updateFormData = (\n  formDataId: string,\n  name: string,\n  dataFileHandleId: string,\n  accessToken: string,\n): Promise<FormData> => {\n  const updatedFormData: FormChangeRequest = {\n    name,\n    fileHandleId: dataFileHandleId,\n  }\n  return doPut(\n    `/repo/v1/form/data/${formDataId}`,\n    updatedFormData,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete FormData object\n * https://rest-docs.synapse.org/rest/DELETE/form/data.html\n */\nexport const deleteFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/form/data/${formDataId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit the identified FormData for review.\n * https://rest-docs.synapse.org/rest/POST/form/data/id/submit.html\n */\nexport const submitFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  return doPost(\n    `/repo/v1/form/data/${formDataId}/submit`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * List FormData objects and their associated status that match the filters of the provided request that are\n * owned by the caller. Note: Only objects owned by the caller will be returned.\n * https://rest-docs.synapse.org/rest/POST/form/data/list.html\n */\nexport const listFormData = (\n  request: ListRequest,\n  accessToken: string | undefined,\n): Promise<ListResponse> => {\n  return doPost(\n    `/repo/v1/form/data/list`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * List FormData objects and their associated status that match the filters of the provided request for the entire\n * group. This is used by service accounts to process submissions.\n * https://rest-docs.synapse.org/rest/POST/form/data/list/reviewer.html\n */\nexport const listFormDataAsFormAdmin = (\n  request: ListRequest,\n  accessToken: string | undefined,\n): Promise<ListResponse> => {\n  return doPost(\n    `/repo/v1/form/data/list/reviewer`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Called by the form processing service to accept a submitted data.\n * https://rest-docs.synapse.org/rest/PUT/form/data/id/accept.html\n */\nexport const acceptFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  return doPut(\n    `/repo/v1/form/data/${formDataId}/accept`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Called by the form processing service to reject a submitted data.\n * https://rest-docs.synapse.org/rest/PUT/form/data/id/reject.html\n */\nexport const rejectFormData = (\n  formDataId: string,\n  reason: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  const formRejection: FormRejection = {\n    reason,\n  }\n  return doPut(\n    `/repo/v1/form/data/${formDataId}/reject`,\n    formRejection,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Statistics\n * https://rest-docs.synapse.org/rest/POST/statistics.html\n * Generic endpoint to retrieve statistics about objects. The user should have VIEW_STATISTICS access on the object referenced by the objectId in the request.\n */\nexport const getProjectStatistics = (\n  request: ProjectFilesStatisticsRequest,\n  accessToken: string | undefined,\n): Promise<ProjectFilesStatisticsResponse> => {\n  return doPost(\n    `/repo/v1/statistics`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// see https://rest-docs.synapse.org/rest/POST/restrictionInformation.html\nexport const getRestrictionInformation = (\n  request: RestrictionInformationRequest,\n  accessToken: string | undefined,\n): Promise<RestrictionInformationResponse> => {\n  return doPost(\n    `/repo/v1/restrictionInformation`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n/**\n * Returns a paginated result of access requirements associated for an entity\n *\n * See https://rest-docs.synapse.org/rest/GET/entity/id/accessRequirement.html\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {string} id id of entity\n * @param {number} [limit=50]\n * @param {number} [offset=0]\n * @returns {Promise<PaginatedResults<AccessRequirement>>}\n */\nexport const getAccessRequirement = (\n  accessToken: string | undefined,\n  id: string,\n  limit: number = 50,\n  offset: number = 0,\n): Promise<PaginatedResults<AccessRequirement>> => {\n  const url = `${ENTITY_ACCESS_REQUIREMENTS(\n    id,\n  )}?limit=${limit}&offset=${offset}`\n  return doGet<PaginatedResults<AccessRequirement>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns the Access Requirement with the given AR_ID\n *\n * See http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId.html\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {number} id id of the access requirement\n * @returns {Promise<AccessRequirement>}\n */\nexport const getAccessRequirementById = <T extends AccessRequirement>(\n  accessToken: string | undefined,\n  id: string | number,\n): Promise<T> => {\n  return doGet<T>(\n    ACCESS_REQUIREMENT_BY_ID(id),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Fetch the ACL for the access requirement with the given id.\n *\n * See https://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/acl.html\n * @returns the ACL for the specified AR, or null if the ACL does not exist\n */\nexport const getAccessRequirementAcl = (\n  accessToken: string | undefined,\n  id: string | number,\n): Promise<AccessControlList | null> => {\n  // It's possible for an AR to not have an ACL, so pre-emptively handle 404\n  return allowNotFoundError(() =>\n    doGet<AccessControlList>(\n      ACCESS_REQUIREMENT_ACL(id),\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Search for access requirements\n *\n * See http://rest-docs.synapse.org/rest/POST/accessRequirement/search.html\n */\nexport const searchAccessRequirements = (\n  accessToken: string | undefined,\n  request: AccessRequirementSearchRequest,\n): Promise<AccessRequirementSearchResponse> => {\n  return doPost<AccessRequirementSearchResponse>(\n    ACCESS_REQUIREMENT_SEARCH,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve an access requirement status for a given access requirement ID.\n *\n * @param {string} requirementId id of entity to lookup\n * @returns {AccessRequirementStatus}\n */\nexport function getAccessRequirementStatus<\n  T extends\n    | AccessRequirementStatus\n    | ManagedACTAccessRequirementStatus = AccessRequirementStatus,\n>(accessToken: string | undefined, requirementId: string | number): Promise<T> {\n  return doGet<T>(\n    ACCESS_REQUIREMENT_STATUS(requirementId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns all the access requirements associated to an entity {id}, calling the\n * paginated getAccessRequirement service until all results are returned.\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {string} id id of entity to lookup\n * @returns {Promise<Array<AccessRequirement>>}\n */\nexport const getAllAccessRequirements = (\n  accessToken: string | undefined,\n  id: string,\n): Promise<Array<AccessRequirement>> => {\n  // format function to be callable by getAllOfPaginatedService\n  const fn = (limit: number, offset: number) => {\n    const url = `/repo/v1/entity/${id}/accessRequirement?limit=${limit}&offset=${offset}`\n    return doGet<PaginatedResults<AccessRequirement>>(\n      url,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n  }\n  return getAllOfPaginatedService(fn)\n}\n\n/**\n * Add a temporary access restriction that prevents access pending review by the Synapse Access and Compliance Team.\n * This service may be used only by an administrator of the specified entity.\n *\n * https://rest-docs.synapse.org/rest/POST/entity/id/lockAccessRequirement.html\n * @param entityId\n * @param accessToken\n */\nexport function createLockAccessRequirement(\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<AccessRequirement> {\n  return doPost(\n    `/repo/v1/entity/${entityId}/lockAccessRequirement`,\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n *\n *\n * @param {(string | undefined)} accessToken user access token\n * @param {(number | undefined)} id the unique immutable ID\n * @returns {AccessApproval}\n */\nexport const getAccessApproval = async (\n  accessToken: string | undefined,\n  approvalId: number,\n): Promise<AccessApproval> => {\n  const url = `${ACCESS_APPROVAL_BY_ID(approvalId)}`\n  return doGet<AccessApproval>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n *\n *\n * @param {(string | undefined)} accessToken user access token\n * @param {AccessApproval} accessApproval access approval request object\n * @returns {AccessApproval}\n */\nexport const createAccessApproval = async (\n  accessToken: string | undefined,\n  accessApproval: AccessApproval,\n): Promise<AccessApproval> => {\n  return doPost<AccessApproval>(\n    ACCESS_APPROVAL,\n    accessApproval,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/download/list.html\nexport const getDownloadList = (accessToken: string | undefined) => {\n  return doGet<DownloadList>(\n    '/file/v1/download/list',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getDownloadOrder = (\n  zipFileName: string | undefined,\n  accessToken: string | undefined,\n): Promise<DownloadOrder> => {\n  const baseURL = '/file/v1/download/order'\n  const url = zipFileName ? `${baseURL}?zipFileName=${zipFileName}` : baseURL\n  return doPost(\n    url,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport type FunctionReturningPaginatedResults<T> = (\n  limit: number,\n  offset: number,\n) => Promise<PaginatedResults<T>>\n/**\n * Utility function to get all the results of a paginated service\n *\n * @template T Type of paginated service\n * @param {FunctionReturningPaginatedResults<T>} fn Function that returns a paginated synapse object, accepts a limit and offset\n * @returns\n */\nexport const getAllOfPaginatedService = async <T>(\n  fn: FunctionReturningPaginatedResults<T>,\n) => {\n  const limit = 50\n  let offset = 0\n  let existsMoreData = true\n  const results: T[] = []\n\n  while (existsMoreData) {\n    try {\n      const data = await fn(limit, offset)\n      results.push(...data.results)\n      offset += data.results.length\n      if (data.results.length < limit) {\n        existsMoreData = false\n      }\n    } catch (e) {\n      throw Error(`Error on getting paginated results ${e}`)\n    }\n  }\n\n  return results\n}\n\n// https://rest-docs.synapse.org/rest/POST/download/list/remove.html\nexport const deleteDownloadListFiles = (\n  list: FileHandleAssociation[],\n  accessToken: string | undefined,\n): Promise<DownloadList> => {\n  return doPost<DownloadList>(\n    '/file/v1/download/list/remove',\n    { list },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(data => {\n    dispatchDownloadListChangeEvent(data)\n    return data\n  })\n}\n\n// https://rest-docs.synapse.org/rest/DELETE/download/list.html ?\nexport const deleteDownloadList = (accessToken: string | undefined) => {\n  return doDelete(\n    '/file/v1/download/list',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(() => {\n    dispatchDownloadListChangeEvent(undefined)\n  })\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/entity/id/table/transaction/async/start.html\n * @param {*} tableUpdateRequest\n * @param {*} accessToken\n * @param {*} endpoint\n * // technically returns a TableUpdateTransactionResponse, but I don't see any reason we need this\n */\nexport const updateTable = async (\n  tableUpdateRequest: TableUpdateTransactionRequest,\n  accessToken: string | undefined = undefined,\n): Promise<void> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${tableUpdateRequest.entityId}/table/transaction/async/start`,\n    tableUpdateRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${tableUpdateRequest.entityId}/table/transaction/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\nexport const getTransformSqlWithFacetsRequest = (\n  transformSqlWithFacetsRequest: TransformSqlWithFacetsRequest,\n) => {\n  return doPost<SqlTransformResponse>(\n    '/repo/v1/table/sql/transform',\n    transformSqlWithFacetsRequest,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const createPersonalAccessToken = (\n  accessTokenGenerationRequest: AccessTokenGenerationRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<AccessTokenGenerationResponse>(\n    '/auth/v1/personalAccessToken',\n    accessTokenGenerationRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getPersonalAccessTokenRecords = (\n  accessToken: string | undefined,\n  nextPageToken: string | undefined,\n) => {\n  return doGet<AccessTokenRecordList>(\n    `/auth/v1/personalAccessToken${\n      nextPageToken ? '?nextPageToken=' + nextPageToken : ''\n    }`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const deletePersonalAccessToken = (\n  accessTokenId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/auth/v1/personalAccessToken/${accessTokenId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/projects.html\nexport const getMyProjects = (\n  accessToken: string,\n  params: GetProjectsParameters = {},\n) => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  return doGet<ProjectHeaderList>(\n    `${PROJECTS}?${urlParams.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/projects/user/principalId.html\nexport const getUserProjects = (\n  userId: string,\n  params: GetProjectsParameters = {},\n  accessToken?: string,\n) => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  return doGet<ProjectHeaderList>(\n    `/repo/v1/projects/user/${userId}?${urlParams.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/acl.html\nexport const getEntityACL = (entityId: string, accessToken?: string) => {\n  return doGet<AccessControlList>(\n    ENTITY_ACL(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/evaluation.html\nexport const getAllEntityEvaluations = (\n  entityId: string,\n  params: GetEvaluationParameters = {},\n  accessToken?: string,\n): Promise<Evaluation[]> => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  const fn = (limit: number, offset: number) => {\n    const url = `${ENTITY_EVALUATION(\n      entityId,\n    )}?offset=${offset}&limit=${limit}&${urlParams.toString()}`\n    return doGet<PaginatedResults<Evaluation>>(\n      url,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n  }\n  return getAllOfPaginatedService(fn)\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/permissions.html\nexport const getEntityPermissions = (\n  entityId: string,\n  accessToken?: string,\n) => {\n  return doGet<UserEntityPermissions>(\n    ENTITY_PERMISSIONS(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/path.html\nexport const getEntityPath = (entityId: string, accessToken?: string) => {\n  return doGet<EntityPath>(\n    ENTITY_PATH(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/version.html\nexport const getEntityVersions = (\n  entityId: string,\n  accessToken?: string,\n  offset: number = 0,\n  limit: number = 200,\n) => {\n  return doGet<PaginatedResults<VersionInfo>>(\n    `/repo/v1/entity/${entityId}/version?offset=${offset}&limit=${limit}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/search.html\nexport const searchEntities = (query: SearchQuery, accessToken?: string) => {\n  return doPost<SearchResults>(\n    '/repo/v1/search',\n    query,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nconst getDownloadListJobResponse = async (\n  accessToken: string | undefined,\n  queryRequestDetails: QueryRequestDetails,\n): Promise<QueryResponseDetails> => {\n  const downloadListQueryRequest: DownloadListQueryRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListQueryRequest',\n    requestDetails: queryRequestDetails,\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/repo/v1/download/list/query/async/start',\n    downloadListQueryRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  const response = await getAsyncResultBodyFromJobId<DownloadListQueryResponse>(\n    asyncJobId.token,\n    `/repo/v1/download/list/query/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n  return response.responseDetails\n}\n\n/**\n * Clear all files from the user's Download List v2.\n * http://rest-docs.synapse.org/rest/DELETE/download/list.html\n */\nexport const clearDownloadListV2 = (\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    '/repo/v1/download/list',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Download List v2 available files to download\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getAvailableFilesToDownload = (\n  request: AvailableFilesRequest,\n  accessToken: string | undefined = undefined,\n): Promise<AvailableFilesResponse> => {\n  return getDownloadListJobResponse(\n    accessToken,\n    request,\n  ) as Promise<AvailableFilesResponse>\n}\n\n/**\n * Get Download List v2 statistics\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getDownloadListStatistics = (\n  accessToken: string | undefined = undefined,\n): Promise<FilesStatisticsResponse> => {\n  const filesStatsRequest: FilesStatisticsRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.download.FilesStatisticsRequest',\n  }\n  return getDownloadListJobResponse(\n    accessToken,\n    filesStatsRequest,\n  ) as Promise<FilesStatisticsResponse>\n}\n\n/**\n * Get Download List v2 actions required\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getDownloadListActionsRequired = (\n  request: ActionRequiredRequest,\n  accessToken: string | undefined = undefined,\n): Promise<ActionRequiredResponse> => {\n  return getDownloadListJobResponse(\n    accessToken,\n    request,\n  ) as Promise<ActionRequiredResponse>\n}\n\n/**\n * Remove item from Download List v2\n * http://rest-docs.synapse.org/rest/POST/download/list/remove.html\n */\nexport const removeItemFromDownloadListV2 = (\n  item: DownloadListItem,\n  accessToken: string | undefined = undefined,\n): Promise<RemoveBatchOfFilesFromDownloadListResponse> => {\n  const request: RemoveBatchOfFilesFromDownloadListRequest = {\n    batchToRemove: [item],\n  }\n  return doPost<RemoveBatchOfFilesFromDownloadListResponse>(\n    '/repo/v1/download/list/remove',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/researchProject.html\nexport const updateResearchProject = (\n  requestObj: ResearchProject,\n  accessToken: string,\n) => {\n  return doPost<ResearchProject>(\n    RESEARCH_PROJECT,\n    requestObj,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/researchProjectForUpdate.html\nexport const getResearchProject = (\n  requirementId: string,\n  accessToken: string,\n) => {\n  return doGet<ResearchProject>(\n    ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE(requirementId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/dataAccessRequestForUpdate.html\nexport const getDataAccessRequestForUpdate = (\n  requirementId: string,\n  accessToken: string,\n) => {\n  return doGet<Request | Renewal>(\n    ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE(requirementId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/dataAccessRequest.html\nexport function updateDataAccessRequest(\n  requestObj: Request | Renewal,\n  accessToken: string,\n) {\n  return doPost<typeof requestObj>(\n    DATA_ACCESS_REQUEST,\n    requestObj,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/dataAccessRequest/requestId/submission.html\nexport const submitDataAccessRequest = (\n  requestObj: CreateSubmissionRequest,\n  accessToken: string,\n) => {\n  return doPost<ACTSubmissionStatus>(\n    DATA_ACCESS_REQUEST_SUBMISSION(requestObj.requestId),\n    requestObj,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/PUT/dataAccessSubmission/submissionId/cancellation.html\n// Cancel a submission. Only the user who created this submission can cancel it.\nexport const cancelDataAccessRequest = (\n  submissionId: string,\n  accessToken: string,\n) => {\n  return doPut<ACTSubmissionStatus>(\n    `/repo/v1/dataAccessSubmission/${submissionId}/cancellation`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/dataAccessSubmission/submissionId.html\n// Fetch a submission by its id. If the user is a not part of the ACT they must be validated and assigned as reviewers of the AR submissions in order to fetch the submission.\nexport const getSubmissionById = (\n  submissionId: string | number,\n  accessToken?: string,\n) => {\n  return doGet<DataAccessSubmission>(\n    DATA_ACCESS_SUBMISSION_BY_ID(submissionId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Request to update a submission' state. Only ACT members and delegates with the REVIEW_SUBMISSION ACL\n * permission can perform this action.\n *\n * See https://docs.synapse.org/rest/PUT/dataAccessSubmission/submissionId.html\n * @param request\n * @param accessToken\n * @returns\n */\nexport const updateSubmissionStatus = (\n  request: SubmissionStateChangeRequest,\n  accessToken?: string,\n): Promise<DataAccessSubmission> => {\n  return doPut<DataAccessSubmission>(\n    DATA_ACCESS_SUBMISSION_BY_ID(request.submissionId),\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the schema bound to an entity.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @param entityId\n * @param accessToken\n * @returns\n */\n//\nexport const getSchemaBinding = (entityId: string, accessToken?: string) => {\n  return allowNotFoundError(() =>\n    doGet<JsonSchemaObjectBinding>(\n      ENTITY_SCHEMA_BINDING(entityId),\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Get the schema bound to an entity.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const getSchemaValidationResults = (\n  entityId: string,\n  accessToken?: string,\n) => {\n  return doGet<ValidationResults>(\n    ENTITY_SCHEMA_VALIDATION(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a schema by its $id.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @returns\n */\nexport const getSchema = (schema$id: string) => {\n  return doGet<JSONSchema7>(\n    `${REGISTERED_SCHEMA_ID(schema$id)}`,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve a \"validation\" schema--all references are resolved and dereferenced.\n * @param schema$id\n * @returns\n */\nexport const getValidationSchema = async (\n  schema$id: string,\n  accessToken?: string,\n): Promise<{\n  concreteType: 'org.sagebionetworks.repo.model.schema.GetValidationSchemaResponse'\n  validationSchema: JSONSchema7\n}> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    SCHEMA_VALIDATION_START,\n    {\n      concreteType:\n        'org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest',\n      $id: schema$id,\n    },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    SCHEMA_VALIDATION_GET(asyncJobId.token),\n    accessToken,\n  )\n}\n\n/**\n * Determine if the caller has a particular access type on an entity\n * https://docs.synapse.org/rest/GET/entity/id/access.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const hasAccessToEntity = (\n  entityId: string,\n  accessType: ACCESS_TYPE,\n  accessToken?: string,\n) => {\n  return doGet<HasAccessResponse>(\n    `${ENTITY_ACCESS(entityId)}?accessType=${accessType}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the entity and its annotations as a JSON object\n * https://docs.synapse.org/rest/GET/entity/id/json.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const getEntityJson = (entityId: string, accessToken?: string) => {\n  return doGet<EntityJson>(\n    ENTITY_JSON(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an entity and its annotations using a JSON object\n * https://docs.synapse.org/rest/PUT/entity/id/json.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const updateEntityJson = (\n  entityId: string,\n  json: EntityJson,\n  accessToken?: string,\n) => {\n  return doPut<EntityJson>(\n    ENTITY_JSON(entityId),\n    json,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This service returns the email used for user notifications, i.e. when a Synapse message\n *  is sent and if the user has elected to receive messages by email, then this is the\n *  email address at which the user will receive the message.\n * https://docs.synapse.org/rest/GET/notificationEmail.html\n */\nexport const getNotificationEmail = (accessToken?: string) => {\n  return doGet<NotificationEmail>(\n    NOTIFICATION_EMAIL,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/principal/available.html\nexport const isAliasAvailable = (\n  aliasCheckRequest: AliasCheckRequest,\n  accessToken?: string,\n): Promise<AliasCheckResponse> => {\n  return doPost<AliasCheckResponse>(\n    ALIAS_AVAILABLE,\n    aliasCheckRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/account/emailValidation.html\nexport const registerAccountStep1 = (\n  newUser: NewUser,\n  portalEndpoint: string,\n): Promise<void> => {\n  return doPost<void>(\n    REGISTER_ACCOUNT_STEP_1(portalEndpoint),\n    newUser,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/account2.html\nexport const registerAccountStep2 = (\n  accountSetupInfo: AccountSetupInfo,\n): Promise<LoginResponse> => {\n  return doPost(\n    REGISTER_ACCOUNT_STEP_2,\n    accountSetupInfo,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Step 2 of creating a new account via oauth signin\n *  http://rest-docs.synapse.org/rest/POST/oauth2/account2.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthRegisterAccountStep2 = (\n  userName: string,\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/account2',\n    {\n      provider,\n      authenticationCode,\n      redirectUrl,\n      userName,\n    },\n    undefined,\n    endpoint,\n  )\n}\n\n/**\n * Bind OAuth account to Synapse account as a new 'alias'.\n * https://rest-docs.synapse.org/rest/POST/oauth2/alias.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const bindOAuthProviderToAccount = async (\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  // Special case.  web app may not have discovered the access token by this point in init.\n  // Look for the access token ourselves before binding.\n  const accessToken = await getAccessTokenFromCookie()\n  return doPost(\n    '/auth/v1/oauth2/alias',\n    { provider, authenticationCode, redirectUrl },\n    accessToken,\n    endpoint,\n  )\n}\n\n/**\n * Remove an alias associated with an account via the OAuth mechanism.\n * http://rest-docs.synapse.org/rest/DELETE/oauth2/alias.html\n * @param provider\n * @param accessToken\n * @param alias\n */\nexport const unbindOAuthProviderToAccount = async (\n  provider: string,\n  accessToken: string | undefined,\n  alias: string,\n) => {\n  const url = `/auth/v1/oauth2/alias?provider=${provider}&alias=${encodeURIComponent(\n    alias,\n  )}`\n  return doDelete(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n//http://rest-docs.synapse.org/rest/POST/termsOfUse2.html\nexport const signSynapseTermsOfUse = (accessToken: string) => {\n  return doPost(\n    SIGN_TERMS_OF_USE,\n    { accessToken },\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n//https://rest-docs.synapse.org/rest/POST/verificationSubmission.html\nexport const createProfileVerificationSubmission = (\n  verificationSubmission: VerificationSubmission,\n  accessToken: string,\n) => {\n  return doPost(\n    VERIFICATION_SUBMISSION,\n    verificationSubmission,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/user/changePassword.html\nexport const changePasswordWithCurrentPassword = (\n  newPassword: ChangePasswordWithCurrentPassword,\n  accessToken: string | undefined,\n) => {\n  return doPost<ChangePasswordWithCurrentPassword>(\n    '/auth/v1/user/changePassword',\n    newPassword,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/user/changePassword.html\nexport const changePasswordWithToken = (\n  newPassword: ChangePasswordWithToken,\n) => {\n  return doPost<ChangePasswordWithToken>(\n    '/auth/v1/user/changePassword',\n    newPassword,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/user/password/reset.html\nexport const resetPassword = (email: string) => {\n  const endpoint = window.location.href + '?passwordResetToken='\n  const url = `/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(\n    endpoint,\n  )}`\n  return doPost(url, { email }, undefined, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/account/id/emailValidation.html\n * @param email\n * @param userId\n * @param portalEndpoint\n * @param accessToken\n */\nexport const addEmailAddressStep1 = (\n  email: string,\n  userId: string,\n  portalEndpoint: string,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/account/${userId}/emailValidation?portalEndpoint=${portalEndpoint}`,\n    { email },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/email.html\n * @param emailValidationSignedToken\n * @param accessToken\n */\nexport const addEmailAddressStep2 = (\n  emailValidationSignedToken: EmailValidationSignedToken,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/email`,\n    emailValidationSignedToken,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/DELETE/email.html\n * @param email\n * @param accessToken\n */\nexport const deleteEmail = (accessToken: string | undefined, email: string) => {\n  return doDelete(\n    `/repo/v1/email?email=${email}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/PUT/notificationEmail.html\n * @param email\n * @param accessToken\n */\nexport const updateNotificationEmail = (\n  email: string,\n  accessToken: string | undefined,\n) => {\n  return doPut(\n    '/repo/v1/notificationEmail',\n    { email },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the Forum's metadata for a given project ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/project/projectId/forum.html\n * @param projectId\n * @param accessToken\n */\nexport const getForum = (\n  projectId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<Forum>(\n    `/repo/v1/project/${projectId}/forum`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get a reply and its statistic given its ID.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/reply/replyId.html\n * @param replyId\n * @param accessToken\n */\nexport const getReply = (replyId: string, accessToken: string | undefined) => {\n  return doGet<DiscussionReplyBundle>(\n    `/repo/v1/reply/${replyId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to create a new reply to a thread.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/POST/reply.html\n * @param createDiscussionReply\n * @param accessToken\n * @returns\n */\nexport const postReply = (\n  createDiscussionReply: CreateDiscussionReply,\n  accessToken: string | undefined,\n) => {\n  return doPost<DiscussionReplyBundle>(\n    `/repo/v1/reply`,\n    createDiscussionReply,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to update the message of a reply.\n * Target users: only the author of the reply can update its message.\n * https://rest-docs.synapse.org/rest/PUT/reply/replyId/message.html\n * @param updateDiscussionReply\n * @param accessToken\n * @returns\n */\nexport const putReply = (\n  updateDiscussionReply: UpdateDiscussionReply,\n  accessToken: string | undefined,\n) => {\n  return doPut<DiscussionReplyBundle>(\n    `/repo/v1/reply/${updateDiscussionReply.replyId}/message`,\n    { messageMarkdown: updateDiscussionReply.messageMarkdown },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to mark a reply as deleted.\n * Target users: only forum's moderator can mark a reply as deleted.\n * https://rest-docs.synapse.org/rest/DELETE/reply/replyId.html\n * @param accessToken\n * @param replyId\n * @returns\n */\nexport const deleteReply = (\n  accessToken: string | undefined,\n  replyId: string,\n) => {\n  return doDelete(\n    `/repo/v1/reply/${replyId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get N number of replies for a given thread ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/thread/threadId/replies.html\n */\nexport const getReplies = (\n  accessToken: string | undefined,\n  threadId: string,\n  limit: number = 30,\n  offset: number = 0,\n  sort: DiscussionReplyOrder = DiscussionReplyOrder.CREATED_ON,\n  ascending: boolean = true,\n  filter: DiscussionFilter = DiscussionFilter.EXCLUDE_DELETED,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n  params.set('sort', sort)\n  params.set('ascending', ascending.toString())\n  params.set('filter', filter)\n\n  const url = `${THREAD}/${threadId}/replies?${params.toString()}`\n\n  return doGet<PaginatedResults<DiscussionReplyBundle>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the message URL of a reply. The message\n * URL is the URL to download the file which contains the reply message.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/reply/messageUrl.html\n * @param messageKey\n * @param accessToken\n */\n\nexport const getReplyMessageUrl = (\n  messageKey: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<MessageURL>(\n    `/repo/v1/reply/messageUrl?messageKey=${messageKey}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to mark a thread as pinned.\n * Target users: only forum's moderator can mark a thread as pinned.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/pin.html\n * @param accessToken\n * @param threadId\n * @returns\n */\nexport const pinThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doPut<void>(\n    `${THREAD_ID(threadId)}/pin`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to unpin a thread.\n * Target users: only forum's moderator can unpin a thread.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/unpin.html\n * @param accessToken\n * @param threadId\n * @returns\n */\nexport const unPinThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doPut<void>(\n    `${THREAD_ID(threadId)}/unpin`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get a thread and its statistic given its ID.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/thread/threadId.html\n * @param threadId\n * @param accessToken\n */\nexport const getThread = (\n  threadId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<DiscussionThreadBundle>(\n    THREAD_ID(threadId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the message URL of a reply. The message\n * URL is the URL to download the file which contains the reply message.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/thread/messageUrl.html\n * @param messageKey\n * @param accessToken\n */\n\nexport const getThreadMessageUrl = (\n  messageKey: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<MessageURL>(\n    `${THREAD}/messageUrl?messageKey=${messageKey}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to create a new thread in a forum.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/POST/thread.html\n * @param accessToken\n * @param createDiscussionThread\n */\nexport const postThread = (\n  accessToken: string | undefined,\n  createDiscussionThread: CreateDiscussionThread,\n) => {\n  return doPost<DiscussionThreadBundle>(\n    THREAD,\n    createDiscussionThread,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to update the title of a thread.\n * Target users: only the author of the thread can update its title.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/title.html\n * @param accessToken\n * @param request\n */\nexport const putThreadTitle = (\n  accessToken: string | undefined,\n  request: UpdateThreadTitleRequest,\n) => {\n  return doPut<DiscussionThreadBundle>(\n    `${THREAD}/${request.threadId}/title`,\n    { title: request.title },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to update the message of a thread.\n * Target users: only the author of the thread can update its message.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/message.html\n * @param accessToken\n * @param request\n */\nexport const putThreadMessage = (\n  accessToken: string | undefined,\n  request: UpdateThreadMessageRequest,\n) => {\n  return doPut<DiscussionThreadBundle>(\n    `${THREAD}/${request.threadId}/message`,\n    { messageMarkdown: request.messageMarkdown },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to mark a thread as deleted.\n * Target users: only forum's moderator can mark a thread as deleted.\n * https://rest-docs.synapse.org/rest/DELETE/thread/threadId.html\n * @param accessToken\n * @param threadId\n * @returns\n */\nexport const deleteThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doDelete(\n    THREAD_ID(threadId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const restoreThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doPut<void>(\n    `${THREAD_ID(threadId)}/restore`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns a page of moderators for a given forum ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/forum/forumId/moderators.html\n * @param accessToken\n * @param forumId\n * @returns\n */\nexport const getModerators = (\n  accessToken: string | undefined,\n  forumId: string,\n  limit: number = 20,\n  offset: number = 0,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n\n  return doGet<PaginatedIds>(\n    `${FORUM}/${forumId}/moderators?${params.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the Forum's metadata for a given its ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/forum/forumId.html\n * @param accessToken\n * @param forumId\n * @returns\n */\nexport const getForumMetadata = (\n  accessToken: string | undefined,\n  forumId: string,\n) => {\n  return doGet<Forum>(\n    `${FORUM}/${forumId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Performs a full text search in the forum defined by the given id.\n * Target users: anyone who has READ permission on the project of the forum.\n * http://rest-docs.synapse.org/rest/POST/forum/forumId/search.html\n * @param discussionSearchRequest\n * @param forumId\n * @param accessToken\n */\n\nexport const forumSearch = (\n  discussionSearchRequest: DiscussionSearchRequest,\n  forumId: string,\n  accessToken: string | undefined,\n) => {\n  return doPost<DiscussionSearchResponse>(\n    `${FORUM}/${forumId}/search`,\n    discussionSearchRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get N number of threads for a given forum ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/forum/forumId/threads.html\n */\n\nexport const getForumThread = (\n  accessToken: string | undefined,\n  forumId: string,\n  offset: number = 0,\n  limit: number = 20,\n  sort: DiscussionThreadOrder = DiscussionThreadOrder.PINNED_AND_LAST_ACTIVITY,\n  ascending: boolean = true,\n  filter: DiscussionFilter = DiscussionFilter.EXCLUDE_DELETED,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit?.toString())\n  params.set('sort', sort)\n  params.set('ascending', ascending.toString())\n  params.set('filter', filter)\n\n  const url = `${FORUM_THREAD(forumId)}?${params.toString()}`\n  return doGet<PaginatedResults<DiscussionThreadBundle>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Search through the history of access approvals filtering by accessor/submitter\n * and optional by access requirement id. The caller must be a member of the ACT.\n * https://rest-docs.synapse.org/rest/POST/accessApproval/search.html\n * @param accessApprovalSearchRequest\n * @param accessToken\n */\n\nexport const searchAccessApprovals = (\n  accessApprovalSearchRequest: AccessApprovalSearchRequest | undefined,\n  accessToken: string | undefined,\n) => {\n  return doPost<AccessApprovalSearchResponse>(\n    '/repo/v1/accessApproval/search',\n    accessApprovalSearchRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Performs a search through access submissions that are reviewable by the user and\n * that match the criteria in the given request.\n * @param submissionSearchRequest\n * @param accessToken\n * https://rest-docs.synapse.org/rest/POST/dataAccessSubmission/search.html\n */\nexport const searchAccessSubmission = (\n  submissionSearchRequest: SubmissionSearchRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<SubmissionSearchResponse>(\n    ACCESS_REQUEST_SUBMISSION_SEARCH,\n    submissionSearchRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/accessRequirement/requirementId/approvedSubmissionInfo.html\n */\nexport const getApprovedSubmissionInfo = (\n  submissionInfoPageRequest: SubmissionInfoPageRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<SubmissionInfoPage>(\n    APPROVED_SUBMISSION_INFO(submissionInfoPageRequest.accessRequirementId),\n    submissionInfoPageRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/GET/activity/id/generated.html\n */\nexport const getActivityForEntity = (\n  entityId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<Activity> => {\n  const url = ACTIVITY_FOR_ENTITY(\n    entityId,\n    versionNumber ? `${versionNumber}` : undefined,\n  )\n  return doGet<Activity>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Returns the presigned URL for a user's profile pic. Note that the presigned URL\n * expires after a short time, so it should be used immediately.\n * @param userId\n * @returns A presigned URL that can be used to fetch the profile preview image, or null if the user\n *   does not have a profile image\n */\nexport function getProfilePicPreviewPresignedUrl(userId: string) {\n  return allowNotFoundError(() =>\n    doGet<string>(\n      PROFILE_IMAGE_PREVIEW(userId) + `?redirect=false`,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\nexport function getItemsInTrashCan(\n  accessToken: string | undefined,\n  offset = 0,\n  limit = 25,\n) {\n  return doGet<PaginatedResults<TrashedEntity>>(\n    TRASHCAN_VIEW + `?offset=${offset}&limit=${limit}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport function restoreFromTrashCan(\n  entityId: string,\n  accessToken: string | undefined,\n) {\n  return doPut<void>(\n    TRASHCAN_RESTORE(entityId),\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport function purgeFromTrashCan(\n  entityId: string,\n  accessToken: string | undefined,\n) {\n  return doPut<void>(\n    TRASHCAN_PURGE(entityId),\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the test to become a Certified User\n * https://rest-docs.synapse.org/rest/GET/certifiedUserTest.html\n */\nexport function getCertifyQuiz(accessToken: string | undefined) {\n  return doGet<Quiz>(\n    '/repo/v1/certifiedUserTest',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit a response to the Certified User test.\n * https://rest-docs.synapse.org/rest/POST/certifiedUserTestResponse.html\n */\nexport function postCertifiedUserTestResponse(\n  accessToken: string | undefined,\n  quizResponse: QuizResponse,\n) {\n  return doPost<PassingRecord>(\n    '/repo/v1/certifiedUserTestResponse',\n    quizResponse,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Models the output data created by https://github.com/Sage-Bionetworks/Synapse-User-Geolocation\n * The output files each contain a JSON array where each element matches this type.\n */\nexport type GeoData = {\n  location: string\n  latLng: [number, number]\n  userIds: string[]\n}\nconst S3_GEODATA_ENDPOINT = 'https://s3.amazonaws.com/geoloc.sagebase.org/'\nconst GEO_DATA_URL = S3_GEODATA_ENDPOINT + 'allPoints.json'\nconst API_KEY_URL = S3_GEODATA_ENDPOINT + 'googlemap.txt'\n\n/**\n * Fetches the API key for Google Maps used by Synapse, which can be used to fetch the API script.\n *\n * Note: the production API key is not a secret. It is secure because the key is configured to only\n *  allow Maps API requests from particular referrers (e.g. synapse.org)\n */\nexport async function getGoogleMapsApiKey(): Promise<string> {\n  const response = await fetch(API_KEY_URL)\n  return await response.text()\n}\n\n/**\n * Fetch Geolocation data for all Synapse users.\n */\nexport async function getAllSynapseUserGeoData(): Promise<GeoData[]> {\n  const response = await fetch(GEO_DATA_URL)\n  return (await response.json()) as GeoData[]\n}\n\n/**\n * Fetch Geolocation data for a particular Synapse team.\n */\nexport async function getSynapseTeamGeoData(\n  teamId: string,\n): Promise<GeoData[]> {\n  const response = await fetch(`${S3_GEODATA_ENDPOINT}${teamId}.json`)\n  if (response.status == 200) {\n    return (await response.json()) as GeoData[]\n  } else return []\n}\n\n/**\n * This API is used to retrieve all subscriptions one has.\n * Target users: all Synapse users.\n */\nexport function getAllSubscriptions(\n  accessToken: string | undefined,\n  limit: number = 100,\n  offset: number = 0,\n  query: SubscriptionQuery,\n) {\n  const params = new URLSearchParams()\n  params.set('limit', limit.toString())\n  params.set('offset', offset.toString())\n  params.set('objectType', query.objectType)\n  if (query.sortBy) params.set('sortBy', query.sortBy)\n  if (query.sortDirection) params.set('sortDirection', query.sortDirection)\n\n  return doGet<SubscriptionPagedResults>(\n    `/repo/v1/subscription/all?${params.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to retrieve a subscription given its ID\n * Target users: Synapse user who created this subscription.\n */\nexport function getSubscription(\n  accessToken: string | undefined,\n  subscriptionId: string,\n) {\n  return doGet<Subscription>(\n    `/repo/v1/subscription/${subscriptionId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve subscribers for a given topic.\n * https://rest-docs.synapse.org/rest/POST/subscription/subscribers.html\n * @param accessToken\n * @param topic\n * @returns\n */\nexport function getSubscribers(accessToken: string | undefined, topic: Topic) {\n  return doPost<SubscriberPagedResults>(\n    '/repo/v1/subscription/subscribers',\n    topic,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to subscribe to a topic.\n * Target users: anyone who has READ permission on the object.\n * https://rest-docs.synapse.org/rest/POST/subscription.html\n */\nexport function postSubscription(\n  accessToken: string | undefined,\n  topic: Topic,\n) {\n  return doPost<Subscription>(\n    '/repo/v1/subscription',\n    topic,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to unsubscribe to a topic.\n * Target users: Synapse user who created this subscription.\n */\nexport function deleteSubscription(\n  accessToken: string | undefined,\n  subscriptionId: string,\n) {\n  return doDelete(\n    `/repo/v1/subscription/${subscriptionId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to retrieve subscriptions one has based on a list of provided topics.\n * These topics must have the same objectType.\n * Target users: all Synapse users.\n */\nexport function postSubscriptionList(\n  accessToken: string | undefined,\n  request: SubscriptionRequest,\n) {\n  return doPost<SubscriptionPagedResults>(\n    '/repo/v1/subscription/list',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the default upload destination for the entity with the given id. The id might refer to the parent container\n * (e.g. a folder or a project) where a file needs to be uploaded.\n *\n * The upload destination is generated according to the default StorageLocationSetting for the project where the entity\n * resides. If the project does not contain any custom StorageLocationSetting the default synapse storage location is\n * used to generate an upload destination.\n *\n * https://rest-docs.synapse.org/rest/GET/entity/id/uploadDestination.html\n * @param containerEntityId\n * @param accessToken\n */\nexport function getDefaultUploadDestination(\n  containerEntityId: string,\n  accessToken: string | undefined,\n): Promise<UploadDestination> {\n  return doGet<UploadDestination>(\n    `/file/v1/entity/${containerEntityId}/uploadDestination`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieves the DOI for the object. Note: this call only retrieves the DOI association, if it exists.\n * To retrieve the metadata for the object, see GET /doi\n *\n * https://rest-docs.synapse.org/rest/GET/doi/association.html\n */\nexport function getDOIAssociation(\n  accessToken: string | undefined,\n  objectId: string,\n  objectVersion?: number,\n  objectType = 'ENTITY',\n): Promise<DoiAssociation | null> {\n  const params = new URLSearchParams()\n  params.set('type', objectType)\n  params.set('id', objectId)\n  if (objectVersion) {\n    params.set('type', objectVersion.toString())\n  }\n\n  return allowNotFoundError(() =>\n    doGet<DoiAssociation>(\n      `${DOI_ASSOCIATION}?${params.toString()}`,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Returns the URL for the SWC file handle servlet so the user can retrieve the contents of a Synapse file handle when\n * they follow the link.\n * This effectively provides a stable URL where a user can request the contents of a file and get the same result, without\n * concern for the 30s expiration of presigned file handles returned by the Synapse backend.\n *\n * Note that this URL will only work if the user is logged in to Synapse on the domain of the SWC instance, and the client\n * (typically a browser) can provide the current access token cookie.\n * @param fileHandleId The ID of the file handle to retrieve\n * @param associatedObjectId ID of the object the file handle is associated with. Required if the user is not the one who uploaded the file handle\n * @param associatedObjectType The type of the associated object. Required if the user is not the one who uploaded the file handle\n */\nexport function getPortalFileHandleServletUrl(\n  fileHandleId: string,\n  associatedObjectId?: string,\n  associatedObjectType?: FileHandleAssociateType,\n) {\n  const search = new URLSearchParams()\n  search.set('fileHandleId', fileHandleId)\n  if (associatedObjectId && associatedObjectType) {\n    search.set('associatedObjectId', associatedObjectId)\n    search.set('associatedObjectType', associatedObjectType.toString())\n  }\n  return `${getEndpoint(\n    BackendDestinationEnum.PORTAL_ENDPOINT,\n  )}/Portal/filehandleassociation?${search.toString()}`\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/actions/download.html\nexport const getEntityDownloadActionsRequired = (\n  entityId: string,\n  accessToken?: string,\n) => {\n  return doGet<ActionRequiredList>(\n    ENTITY_ACTIONS_REQUIRED(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/actions/download.html\nexport const getDockerTag = (\n  entityId: string,\n  accessToken?: string,\n  offset: string | number = 0,\n  limit: string | number = 20,\n  sort: SortBy = SortBy.CREATED_ON,\n  sortDirection: Direction = Direction.DESC,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n  params.set('sort', sort)\n  params.set('sortDirection', sortDirection)\n  return doGet<PaginatedResults<DockerCommit>>(\n    `/repo/v1/entity/${entityId}/dockerTag?${params.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/subjects.html\nexport function getSubjects(\n  accessToken: string | undefined,\n  requirementId: string,\n  nextPageToken?: string,\n) {\n  const params = new URLSearchParams()\n  if (nextPageToken) {\n    params.set('nextPageToken', nextPageToken)\n  }\n  return doGet<{\n    subjects: RestrictableObjectDescriptor[]\n    nextPageToken?: string\n  }>(\n    `/repo/v1/accessRequirement/${requirementId}/subjects?${params.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n"],"names":["factory","module","undefined","hex_chr","md5cycle","x","k","a","b","c","md5blk","s","md5blks","i","md5blk_array","md51","n","state","length","tail","tmp","lo","hi","md51_array","rhex","j","hex","clamp","val","from","to","begin","end","num","target","targetArray","sourceArray","toUtf8","str","utf8Str2ArrayBuffer","returnUInt8Array","buff","arr","arrayBuffer2Utf8Str","concatenateArrayBuffers","first","second","result","hexToBinaryString","bytes","SparkMD5","contents","raw","ret","content","hash","cookie","parse","serialize","decode","encode","fieldContentRegExp","options","obj","opt","pairs","dec","pair","index","key","tryDecode","name","enc","value","maxAge","sameSite","hasDocumentCookie","parseCookies","cookies","cookie.parse","isParsingCookie","doNotParse","readCookie","cleanValue","cleanupCookieValue","__assign","this","t","p","Cookies","_this","parseOptions","params","name_1","_a","cookie.serialize","finalOptions","callback","idx","Cookies$1","cache","createCache","StyledEngineProvider","props","injectFirst","children","_jsx","CacheProvider","ThemeContext","React.createContext","ThemeContext$1","useTheme","React.useContext","hasSymbol","nested","mergeOuterLocalTheme","outerTheme","localTheme","_extends","ThemeProvider","theme","React.useMemo","output","EMPTY_THEME","useThemeScoping","themeId","upperTheme","isPrivate","resolvedTheme","mergedTheme","useThemeWithoutDefault","upperPrivateTheme","usePrivateTheme","engineTheme","privateTheme","MuiThemeProvider","StyledEngineThemeContext","_excluded","_ref","themeInput","_objectWithoutPropertiesLoose","scopedTheme","THEME_ID","SystemThemeProvider","getCollapseUtilityClass","slot","generateUtilityClass","generateUtilityClasses","useUtilityClasses","ownerState","orientation","classes","slots","composeClasses","CollapseRoot","styled","styles","CollapseWrapper","CollapseWrapperInner","Collapse","React.forwardRef","inProps","ref","useThemeProps","addEndListener","className","collapsedSizeProp","component","easing","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","duration","TransitionComponent","Transition","other","timer","React.useRef","wrapperRef","autoTransitionDuration","collapsedSize","isHorizontal","size","React.useEffect","nodeRef","handleRef","useForkRef","normalizedTransitionCallback","maybeIsAppearing","node","getWrapperSize","handleEnter","isAppearing","handleEntering","wrapperSize","transitionDuration","transitionTimingFunction","getTransitionProps","duration2","handleEntered","handleExit","handleExited","handleExiting","next","childProps","clsx","Collapse$1","useDetectSSOCode","opts","onSignInComplete","registerAccountUrl","PRODUCTION_ENDPOINT_CONFIG","onError","onTwoFactorAuthRequired","redirectURL","getRootURL","fullUrl","searchParams","code","provider","isLoading","setIsLoading","useState","useEffect","redirectUrl","OAUTH2_PROVIDERS","onSuccess","response","setAccessTokenCookie","onFailure","err","oAuthRegisterAccountStep2","BackendDestinationEnum","oAuthSessionRequest","bindOAuthProviderToAccount","isObject","type","asyncTag","funcTag","genTag","proxyTag","isFunction","tag","baseGetTag","coreJsData","root","coreJsData$1","maskSrcKey","uid","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","objectProto","hasOwnProperty","reIsNative","baseIsNative","pattern","getValue","object","getNative","WeakMap","WeakMap$1","MAX_SAFE_INTEGER","isLength","isArrayLike","isPrototype","Ctor","proto","argsTag","baseIsArguments","isObjectLike","propertyIsEnumerable","isArguments","isArguments$1","stubFalse","freeExports","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","isBuffer$1","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","freeGlobal","nodeUtil","types","nodeUtil$1","nodeIsTypedArray","isTypedArray","isTypedArray$1","overArg","transform","arg","nativeKeys","nativeKeys$1","baseKeys","Map","Map$1","DataView","DataView$1","Promise","Promise$2","Set","Set$1","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","getTag$1","isEmpty","isArray","changedArray","item","initialState","ErrorBoundary","_React$Component","_inheritsLoose","_len","_args","_key","_this$props","_len2","args","_key2","error","_proto","info","_this$props$onError","_this$props2","prevProps","prevState","resetKeys","_this$props$onResetKe","_this$props3","_this$props4","fallbackRender","FallbackComponent","fallback","_props","React.isValidElement","React.createElement","React.Component","useErrorHandler","givenError","_React$useState","React.useState","setError","SynapseClientError","status","reason","url","errorResponse","__publicField","Subscribable","listener","isServer","noop","functionalUpdate","updater","input","isValidTimeout","ensureQueryKeyArray","difference","array1","array2","replaceAt","array","copy","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","parseMutationArgs","parseFilterArgs","mapQueryStatusFilter","active","inactive","isActive","matchQuery","filters","query","exact","fetching","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","queryStatusFilter","matchMutation","mutation","mutationKey","hashQueryKey","hashFn","asArray","stableValueHash","_","isPlainObject","partialDeepEqual","replaceEqualDeep","aSize","bItems","bSize","equalItems","shallowEqualObjects","o","hasObjectPrototype","ctor","prot","sleep","resolve","scheduleMicrotask","getAbortController","FocusManager","_Subscribable","onFocus","_window","_this$cleanup","setup","_this$cleanup2","_this2","focused","focusManager","OnlineManager","onOnline","online","onlineManager","defaultRetryDelay","failureCount","isCancelable","CancelledError","isCancelledError","Retryer","config","cancelRetry","cancelFn","continueFn","promiseResolve","promiseReject","cancelOptions","outerResolve","outerReject","reject","pause","continueResolve","run","promiseOrValue","_config$retry","_config$retryDelay","retry","retryDelay","delay","shouldRetry","NotifyManager","_this3","queue","fn","notifyManager","logger","getLogger","setLogger","newLogger","Query","_this$options$cacheTi","_this$options$isDataE","_this$options","prevData","data","setStateOptions","_this$retryer","promise","observer","_this$retryer2","_this$retryer3","fetchOptions","_this$options$behavio","_context$fetchOptions","_abortController$abor","_this$retryer4","abortController","queryFnContext","fetchFn","context","_this$options$behavio2","_context$fetchOptions2","action","hasInitialData","initialDataUpdatedAt","hasData","_action$meta","_action$dataUpdatedAt","QueryCache","client","_options$queryHash","queryHash","queryInMap","_parseFilterArgs","_parseFilterArgs2","event","_this4","_this5","Mutation","getDefaultState","restored","_this$options$retry","reducer","MutationCache","pausedMutations","infiniteQueryBehavior","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","refetchPage","fetchMore","pageParam","isFetchingNextPage","isFetchingPreviousPage","oldPages","oldPageParams","abortSignal","newPageParams","cancelled","queryFn","buildNewPages","pages","param","page","previous","fetchPage","manual","queryFnResult","promiseAsAny","getNextPageParam","_manual","_param","getPreviousPageParam","shouldFetchFirstPage","_loop","shouldFetchNextPage","_param2","finalPromise","finalPromiseAsAny","hasNextPage","nextPageParam","hasPreviousPage","previousPageParam","QueryClient","_this$unsubscribeFocu","_this$unsubscribeOnli","_this$queryCache$find","queryKeyOrFilters","parsedOptions","defaultedOptions","_ref2","_this$queryCache$find2","queryCache","_parseFilterArgs3","refetchFilters","_parseFilterArgs4","_parseFilterArgs4$","promises","_ref3","_filters$refetchActiv","_filters$refetchInact","_parseFilterArgs5","_this6","_parseFilterArgs6","_this7","_this$queryDefaults$f","_this$mutationDefault","QueryObserver","shouldFetchOnMount","shouldFetchOn","notifyOptions","prevOptions","prevQuery","mounted","shouldFetchOptionally","nextRefetchInterval","trackedResult","trackProp","unsubscribe","time","_this$options$refetch","nextInterval","prevResult","prevResultState","prevResultOptions","queryChange","queryInitialState","prevQueryResult","dataUpdatedAt","errorUpdatedAt","isFetching","isPreviousData","isPlaceholderData","fetchOnMount","fetchOptionally","selectError","placeholderData","isStale","notifyOnChangeProps","notifyOnChangePropsExclusions","includedProps","typedKey","changed","isIncluded","isExcluded","defaultNotifyOptions","_this8","shouldLoadOnMount","field","unstable_batchedUpdates","ReactDOM","defaultContext","React","QueryClientSharingContext","getQueryClientContext","contextSharing","useQueryClient","queryClient","QueryClientProvider","_ref$contextSharing","Context","createValue","_isReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","shouldThrowError","suspense","_useErrorBoundary","useBaseQuery","Observer","mountedRef","forceUpdate","errorResetBoundary","_React$useState2","useQuery","useGetNotificationEmail","accessToken","keyFactory","useSynapseContext","SynapseClient","useGetCurrentUserProfile","ALL_USER_BUNDLE_FIELDS","USER_BUNDLE_MASK_USER_PROFILE","USER_BUNDLE_MASK_ORCID","USER_BUNDLE_MASK_VERIFICATION_SUBMISSION","USER_BUNDLE_MASK_IS_CERTIFIED","USER_BUNDLE_MASK_IS_VERIFIED","USER_BUNDLE_MASK_IS_ACT_MEMBER","USER_BUNDLE_MASK_IS_AR_REVIEWER","useGetUserBundle","userId","mask","useGetCurrentUserBundle","useGetUserProfile","principalId","sessionStorageCacheKey","cachedValue","profile","useGetPrincipalIdForAlias","request","useIsCurrentUserACTMember","ISSUE_COLLECTOR_URL_MAP","showJiraIssueCollector","issueCollector","issueSummary","issueDescription","userDisplayName","userEmailAddress","synapseDataObjectId","componentId","accessRequirementId","issuePriority","showCollectorDialog","useJiraIssueCollector","show","currentUser","profileIsLoading","notificationEmail","emailIsLoading","SignInButton","jsx","Link","SRC_SIGN_IN_CLASS","YOU_ARE_NOT_AUTHORIZED_MESSAGE","SignInPrompt","jsxs","Fragment","ClientError","showDetailedError","setShowDetailedError","loginError","accessDenied","Stack","Box","Button","ErrorBanner","reloadButtonFn","synapseClientError","jsError","stringError","FullWidthAlert","ErrorFallbackComponent","resetErrorBoundary","TableRowFallbackComponent","SynapseErrorBoundary","removeUndefined","inPlace","acc","_acc","removeTrailingUndefinedElements","lastElement","entityQueryKeyObjects","id","versionNumber","limit","offset","bundleRequest","infinite","queryBundleRequest","forceAnonymous","references","downloadListQueryKeys","ACCESS_REQUIREMENT_QUERY_KEY","KeyFactory","hashCode","version","entityId","alias","accessRequirementIds","schema$id","fileHandle","maxSizeBytes","fileHandleAssociation","containerEntityId","forumId","sort","ascending","filter","threadId","replyId","messageKey","objectType","objectId","teamId","teamIds","challengeId","sortDirection","projectParams","aliases","prefix","SynapseContext","SynapseContextProvider","providedContext","queryKeyFactory","useMemo","synapseContext","SynapseContextConsumer","useContext","ApprovalState","ApprovalState2","AccessApprovalSortField","AccessApprovalSortField2","SubmissionSortField","SubmissionSortField2","AccessType","AccessType2","SubmissionState","SubmissionState2","scopeDescriptions","ACCESS_TYPE","ACCESS_TYPE2","AnnotationsValueType","AnnotationsValueType2","MULTICHOICE_RESPONSE_CONCRETE_TYPE_VALUE","DiscussionThreadOrder","DiscussionThreadOrder2","DiscussionReplyOrder","DiscussionReplyOrder2","DiscussionFilter","DiscussionFilter2","DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE","FILE_ENTITY_CONCRETE_TYPE_VALUE","MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE","ENTITY_VIEW_TYPE_MASK_FILE","ENTITY_VIEW_TYPE_MASK_PROJECT","ENTITY_VIEW_CONCRETE_TYPE_VALUE","SUBMISSION_VIEW_CONCRETE_TYPE_VALUE","DATASET_CONCRETE_TYPE_VALUE","DATASET_COLLECTION_CONCRETE_TYPE_VALUE","VIRTUAL_TABLE_CONCRETE_TYPE_VALUE","TABLE_ENTITY_CONCRETE_TYPE_VALUE","VIEW_CONCRETE_TYPE_VALUES","TABLE_CONCRETE_TYPE_VALUES","FOLDER_CONCRETE_TYPE_VALUE","LINK_CONCRETE_TYPE_VALUE","PROJECT_CONCRETE_TYPE_VALUE","ALL_ENTITY_BUNDLE_FIELDS","SortBy","SortBy2","Direction","Direction2","EntityType","EntityType2","ErrorResponseCode","ErrorResponseCode2","S3_FILE_HANDLE_CONCRETE_TYPE_VALUE","GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE","EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE","EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE","PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE","UploadType","UploadType2","FileHandleAssociateType","FileHandleAssociateType2","StatusEnum","StatusEnum2","commandList","MARKDOWN_COMMANDS_DATA","ObjectType","ObjectType2","AliasType","AliasType2","USED_ENTITY_CONCRETE_TYPE_VALUE","RestrictableObjectType","RestrictableObjectType2","RestrictionLevel","RestrictionLevel2","BoundObjectType","BoundObjectType2","SchemaObjectType","SchemaObjectType2","SubscriptionObjectType","SubscriptionObjectType2","SortByType","SortByType2","ColumnTypeEnum","ColumnTypeEnum2","FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE","FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE","ColumnSingleValueFilterOperator","ColumnSingleValueFilterOperator2","ColumnMultiValueFunction","ColumnMultiValueFunction2","COLUMN_SINGLE_VALUE_QUERY_FILTER_CONCRETE_TYPE_VALUE","COLUMN_MULTI_VALUE_FUNCTION_QUERY_FILTER_CONCRETE_TYPE_VALUE","TEXT_MATCHES_QUERY_FILTER_CONCRETE_TYPE_VALUE","TYPE_FILTER","TYPE_FILTER2","isTypeViaConcreteTypeFactory","expectedConcreteTypes","implementsCloudProviderFileHandleInterface","isExternalFileHandle","isLink","implementsExternalFileHandleInterface","isDockerRepository","isFacetColumnValuesRequest","isFacetColumnRangeRequest","isTextMatchesQueryFilter","isColumnSingleValueQueryFilter","isColumnMultiValueFunctionQueryFilter","isFileEntity","isTermsOfUseAccessRequirement","getEntityTypeFromHeader","header","convertToEntityType","isContainerType","isTableType","entityTypeToFriendlyName","entityType","typeString","convertToConcreteEntityType","isVersionableEntityType","isTable","isTableEntity","isDataset","isDatasetCollection","isEntityRefCollectionView","entity","isEntityView","hasFilesInView","entityView","isFileView","isVersionableEntity","getVersionDisplay","allEntityKeys","versionableKeys","tableKeys","viewKeys","entityRefCollectionViewKeys","entityJsonKeys","redirectAfterSSO","history","fallbackRedirectUrl","originalUrl","POST_SSO_REDIRECT_URL_LOCALSTORAGE_KEY","ApplicationSessionContext","ApplicationSessionContextProvider","ApplicationSessionContextConsumer","isAbsolute","pathname","spliceOne","list","resolvePathname","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","last","up","part","addLeadingSlash","path","stripLeadingSlash","hasBasename","stripBasename","stripTrailingSlash","parsePath","search","hashIndex","searchIndex","createPath","location","createLocation","currentLocation","e","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","getUserConfirmation","listeners","appendListener","notifyListeners","canUseDOM","getConfirmation","message","supportsHistory","ua","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","PopStateEvent","HashChangeEvent","getHistoryState","createBrowserHistory","invariant","globalHistory","canUseHistory","needsHashChangeListener","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_window$location","createKey","transitionManager","setState","nextState","handlePopState","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","createHref","push","href","prevIndex","nextKeys","replace","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","stripHash","getHashPath","pushHashPath","replaceHashPath","createHashHistory","_props$hashType","hashType","_HashPathCoders$hashT","encodePath","decodePath","ignorePath","locationsAreEqual$$1","encodedPath","prevLocation","allPaths","baseTag","hashChanged","nextPaths","lowerBound","upperBound","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","entry","nextIndex","nextEntries","canGo","isarray","require$$0","pathToRegexpModule","pathToRegexp","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","tokens","defaultDelimiter","res","m","escaped","capture","group","modifier","asterisk","partial","repeat","optional","delimiter","escapeGroup","escapeString","encodeURIComponentPretty","encodeAsterisk","matches","flags","token","segment","attachKeys","re","keys","regexpToRegexp","groups","arrayToRegexp","parts","regexp","stringToRegexp","strict","route","endsWithDelimiter","MAX_SIGNED_31_BIT_INT","commonjsGlobal","getUniqueId","objectIs","y","createEventEmitter","handlers","handler","h","newValue","changedBits","onlyChild","createReactContext","defaultValue","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","Provider","nextProps","oldValue","PropTypes","Consumer","_React$Component2","observedBits","_proto2","createContext","createNamedContext","historyContext","Router","MemoryRouter","Lifecycle","Prompt","_ref$when","when","method","self","cache$1","cacheLimit$1","cacheCount$1","compilePath$1","cacheKey","pathCache","matchPath","_options","_options$exact","_options$strict","_options$sensitive","sensitive","paths","matched","_compilePath","match","values","isExact","memo","isEmptyChildren","Route","context$1","render","addBasename","base","createURL","staticHandler","methodName","Switch","element","child","useHistory","useLocation","useParams","ApplicationSessionManager","downloadCartPageUrl","onResetSessionComplete","setToken","acceptsTermsOfUse","setAcceptsTermsOfUse","hasInitializedSession","setHasInitializedSession","twoFactorAuthSSOError","setTwoFactorAuthSSOError","initAnonymousUserState","useCallback","refreshSession","token2","authenticatedOnResponse","lastAuthenticatedOn","dayjs","clearSession","isLoadingSSO","twoFactorAuthError","defaultFontFamily","monospaceFontFamily","defaultStyles","typographyOptions","palette","_typeof","trimLeft","trimRight","tinycolor","color","rgb","inputToRGB","RsRGB","GsRGB","BsRGB","R","G","B","boundAlpha","hsv","rgbToHsv","v","hsl","rgbToHsl","l","allow3Char","rgbToHex","allow4Char","rgbaToHex","bound01","hexNames","secondColor","hex8String","rgbaToArgbHex","secondHex8String","gradientType","format","formatSet","formattedString","hasAlpha","needsAlphaFormat","_lighten","_brighten","_darken","_desaturate","_saturate","_greyscale","_spin","_analogous","_complement","_monochromatic","_splitcomplement","polyad","newColor","convertToPercentage","stringInputToObject","isValidCSSUnit","rgbToRgb","hsvToRgb","hslToRgb","r","g","max","min","d","hue2rgb","q","f","mod","pad2","convertDecimalToHex","color1","color2","amount","clamp01","hue","number","step","results","slices","modification","rgb1","rgb2","rgba","c1","c2","wcag2","readability","wcag2Parms","out","validateWCAG2Parms","baseColor","colorList","bestColor","bestScore","includeFallbackColors","level","names","flip","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","named","parms","generatePalette","mainColor","specificColors","mtbPalette","arkPortalPalette","adKnowledgePortalPalette","elPortalPalette","nfPortalPalette","bsmnPortalPalette","psychEncodePortalPalette","stopAdPortalPalette","digitalHealthPortalPalette","crcResearcherPortalPalette","cancerComplexityPortalPalette","sageBionetworksPalette","linkTheme","ErrorTwoTone","createSvgIcon","HighlightOffTwoTone","InfoTwoTone","DIALOG_INNER_PADDING","defaultMuiThemeOptions","CheckCircleTwoTone","lighten","alpha","inputBaseClasses","Fade","mergeTheme","themeOverrides","deepmerge","muiTheme","createTheme","defaultQueryClientConfig","defaultQueryClient","FullContextProvider","getEndpoint","REPO","AUTH","FILE","ASYNC_START","ASYNC_GET","ENTITY","ENTITY_ALIAS","ENTITY_ID","ENTITY_ID_VERSION","ENTITY_ID_VERSIONS","ENTITY_BUNDLE_V2","ENTITY_ACCESS","ENTITY_ACL","ENTITY_EVALUATION","ENTITY_PATH","ENTITY_PERMISSIONS","ENTITY_HEADER_BY_ID","ENTITY_HEADERS","ENTITY_JSON","ENTITY_SCHEMA","ENTITY_SCHEMA_BINDING","ENTITY_SCHEMA_VALIDATION","ENTITY_ACCESS_REQUIREMENTS","TABLE_QUERY_ASYNC_START","TABLE_QUERY_ASYNC_GET","asyncJobToken","ASYNCHRONOUS_JOB_TOKEN","SCHEMA","REGISTERED_SCHEMA_ID","SCHEMA_VALIDATION_START","SCHEMA_VALIDATION_GET","asyncJobId","USER","USER_BUNDLE","USER_ID","USER_ID_BUNDLE","USER_PROFILE","USER_PROFILE_ID","NOTIFICATION_EMAIL","ALIAS_AVAILABLE","REGISTER_ACCOUNT_STEP_1","portalEndpoint","REGISTER_ACCOUNT_STEP_2","SIGN_TERMS_OF_USE","VERIFICATION_SUBMISSION","ACCESS_REQUIREMENT_SEARCH","ACCESS_REQUEST_SUBMISSION_SEARCH","ACCESS_REQUIREMENT_BY_ID","ACCESS_REQUIREMENT_ACL","ACCESS_REQUIREMENT_STATUS","ACCESS_REQUIREMENT_WIKI_PAGE_KEY","ACCESS_REQUIREMENT_WIKI_PAGE","wikiId","FAVORITES","USER_GROUP_HEADERS","USER_GROUP_HEADERS_BATCH","DATA_ACCESS_SUBMISSION_BY_ID","PROFILE_IMAGE_PREVIEW","APPROVED_SUBMISSION_INFO","EVALUATION","EVALUATION_BY_ID","EVALUATIONS_BY_ID","ids","ACTIVITY_FOR_ENTITY","TRASHCAN","TRASHCAN_VIEW","TRASHCAN_RESTORE","TRASHCAN_PURGE","TEAM","TEAM_ID_MEMBER_ID","memberId","TEAM_MEMBERS","notificationUnsubscribeEndpoint","teamEndpoint","TEAM_MEMBER","TEAM_ID_MEMBER_ID_WITH_NOTIFICATION","MEMBERSHIP_INVITATION","INVITEE_VERIFICATION_SIGNED_TOKEN","BIND_INVITATION_TO_AUTHENTICATED_USER","FORUM","FORUM_THREAD","THREAD","THREAD_ID","DOI","DOI_ASSOCIATION","ACCESS_APPROVAL","ACCESS_APPROVAL_BY_ID","DATA_ACCESS_REQUEST","DATA_ACCESS_REQUEST_SUBMISSION","ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE","RESEARCH_PROJECT","ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE","FILE_HANDLE","FILE_HANDLE_BATCH","PROJECTS","ENTITY_ACTIONS_REQUIRED","DOWNLOAD_LIST_CHANGE_EVENT","dispatchDownloadListChangeEvent","downloadList","downloadEvent","sufixes","calculateFriendlyFileSize","isOutsideSynapseOrg","allowNotFoundError","returnIfTwoFactorAuthError","RETRY_STATUS_CODES","MAX_RETRY_STATUS_CODES","MAX_RETRY","fetchWithExponentialTimeout","delayMs","NETWORK_UNAVAILABLE_MESSAGE","numOfTry","contentType","responseBody","responseObject","doPost","requestJsonObject","endpoint","additionalOptions","usedEndpoint","doGet","doDelete","doPut","UniversalCookies","MAX_JS_FILE_DOWNLOAD_SIZE","SYNAPSE_STORAGE_LOCATION_ID","portString","getVersion","getDownloadFromTableRequest","getAsyncResultBodyFromJobId","getFileHandleById","handleId","getActualFileHandleByIdURL","fileAssociateType","fileAssociateId","redirect","getFileHandleByIdURL","getAsyncResultFromJobId","responseBodyEndpoint","setCurrentAsyncStatus","failureResponse","getQueryTableAsyncJobResults","getQueryTableResults","signal","getFullQueryTableResults","rest","queryRequest","SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE","isDone","login","username","password","authenticationReceipt","loginWith2fa","oAuthUrlRequest","authenticationCode","getCurrentUserTwoFactorEnrollmentStatus","disableTwoFactorAuthForCurrentUser","start2FAEnrollment","complete2FAEnrollment","createRecoveryCodes","createEntity","createProject","getUserProfile","getUserProfileById","ownerId","getUserBundle","getMyUserBundle","updateMyUserProfile","getUserGroupHeaders","typeFilter","postUserGroupHeadersWithAlias","getGroupHeadersBatch","getEvaluations","evalIds","getUserProfiles","getEntityChildren","lookupChildEntity","getFiles","getBulkFiles","bulkFileDownloadRequest","getEntity","entityTokens","getEntityHeadersByIds","entityIds","getEntityHeaders","fixedReferences","reference","getEntityAlias","getEntityHeader","updateEntityACL","acl","updateEntity","newVersion","deleteEntity","getEntityBundleV2","requestObject","getObjectTypeToString","getEntityWiki","objectTypeString","getUserFavorites","addUserFavorite","removeUserFavorite","getUserChallenges","getChallengeTeams","getAllChallengeTeams","getAllOfPaginatedService","getSubmissionTeams","getSubmissionEligibility","evaluationId","registerChallengeTeam","getEntityChallenge","createTeam","description","icon","getUserTeamList","getTeamAccessRequirements","getTeamMembers","fragment","addTeamMemberWithToken","joinTeamSignedToken","addTeamMemberAsAuthenticatedUserOrAdmin","createMembershipInvitation","inviteeEmail","inviteeId","expiresOn","getMembershipInvitation","membershipInvitationSignedToken","getInviteeVerificationSignedToken","membershipInvitationId","bindInvitationToAuthenticatedUser","inviteeVerificationSignedToken","getIsUserMemberOfTeam","getMembershipStatus","createMembershipRequest","deleteMemberFromTeam","getTeam","getTeamList","getWikiPageKeyForEntity","getWikiPageKeyForAccessRequirement","getWikiAttachmentsFromEntity","getWikiAttachmentsFromEvaluation","getPresignedUrlForWikiAttachment","fileName","isInSynapseExperimentalMode","SynapseConstants.EXPERIMENTAL_MODE_COOKIE","ACCESS_TOKEN_COOKIE_KEY","getAccessTokenFromCookie","getUseUtcTimeFromCookie","DATETIME_UTC_COOKIE_KEY","getPrincipalAliasRequest","signOut","uploadFile","filename","file","fileUploadResolve","fileUploadReject","partSize","calculateMd5","md5","startMultipartUpload","fileBlob","blobSlice","chunkSize","chunks","spark","fileReader","currentChunk","loadNext","start","processFilePart","partNumber","multipartUploadStatus","uploadId","presignedUploadUrlRequest","presignedUrlUrl","presignedUrlResponse","presignedUrl","startByte","endByte","fileSlice","uploadFilePart","addPartUrl","addPartResponse","checkUploadComplete","fileHandleName","newStatus","clientSidePartsState","bit","getFileHandleContentFromID","fileHandleId","getFileHandleByIdPromise","getFileHandlePresignedUrlPromis","getFileHandleContent","maxFileSizeBytes","text","getFileResult","fileEntity","includeFileHandles","includePreSignedURLs","includePreviewPreSignedURLs","fileHandleAssociationList","addFileBatchToDownloadListV2","batchToAdd","addFileToDownloadListV2","fileEntityId","createPackageFromDownloadListV2","zipFileName","createManifestFromDownloadListV2","addFilesToDownloadListV2","createACL","submitToEvaluation","submission","etag","submissionEligibilityHash","getEvaluationPermissions","evalId","getEvaluation","updateEvaluation","evaluation","createEvaluation","deleteEvaluation","getEvaluationRound","evalRoundId","getEvaluationRoundsList","evaluationRoundListRequest","createEvaluationRound","evaluationRound","updateEvaluationRound","deleteEvaluationRound","getEvaluationSubmissions","getOAuth2RequestDescription","oidcAuthRequest","hasUserAuthorizedOAuthClient","getOAuth2Client","clientId","getOAuth2","nextPageToken","createOAuthClient","deleteOAuthClient","updateOAuthClient","isOAuthClientReverificationRequired","createOAuthClientSecret","getAuthenticatedOn","consentToOAuth2Request","createFormGroup","getFormACL","formGroupId","updateFormACL","newAcl","createFormData","dataFileHandleId","newFormData","updateFormData","formDataId","updatedFormData","deleteFormData","submitFormData","listFormData","listFormDataAsFormAdmin","acceptFormData","rejectFormData","formRejection","getProjectStatistics","getRestrictionInformation","getAccessRequirement","getAccessRequirementById","getAccessRequirementAcl","searchAccessRequirements","getAccessRequirementStatus","requirementId","getAllAccessRequirements","createLockAccessRequirement","getAccessApproval","approvalId","createAccessApproval","accessApproval","getDownloadList","getDownloadOrder","baseURL","existsMoreData","deleteDownloadListFiles","deleteDownloadList","updateTable","tableUpdateRequest","getTransformSqlWithFacetsRequest","transformSqlWithFacetsRequest","createPersonalAccessToken","accessTokenGenerationRequest","getPersonalAccessTokenRecords","deletePersonalAccessToken","accessTokenId","getMyProjects","urlParams","getUserProjects","getEntityACL","getAllEntityEvaluations","getEntityPermissions","getEntityPath","getEntityVersions","searchEntities","getDownloadListJobResponse","queryRequestDetails","clearDownloadListV2","getAvailableFilesToDownload","getDownloadListStatistics","getDownloadListActionsRequired","removeItemFromDownloadListV2","updateResearchProject","requestObj","getResearchProject","getDataAccessRequestForUpdate","updateDataAccessRequest","submitDataAccessRequest","cancelDataAccessRequest","submissionId","getSubmissionById","updateSubmissionStatus","getSchemaBinding","getSchemaValidationResults","getSchema","getValidationSchema","hasAccessToEntity","accessType","getEntityJson","updateEntityJson","json","getNotificationEmail","isAliasAvailable","aliasCheckRequest","registerAccountStep1","newUser","registerAccountStep2","accountSetupInfo","userName","unbindOAuthProviderToAccount","signSynapseTermsOfUse","createProfileVerificationSubmission","verificationSubmission","changePasswordWithCurrentPassword","newPassword","changePasswordWithToken","resetPassword","email","addEmailAddressStep1","addEmailAddressStep2","emailValidationSignedToken","deleteEmail","updateNotificationEmail","getForum","projectId","getReply","postReply","createDiscussionReply","putReply","updateDiscussionReply","deleteReply","getReplies","getReplyMessageUrl","pinThread","unPinThread","getThread","getThreadMessageUrl","postThread","createDiscussionThread","putThreadTitle","putThreadMessage","deleteThread","restoreThread","getModerators","getForumMetadata","forumSearch","discussionSearchRequest","getForumThread","searchAccessApprovals","accessApprovalSearchRequest","searchAccessSubmission","submissionSearchRequest","getApprovedSubmissionInfo","submissionInfoPageRequest","getActivityForEntity","getProfilePicPreviewPresignedUrl","getItemsInTrashCan","restoreFromTrashCan","purgeFromTrashCan","getCertifyQuiz","postCertifiedUserTestResponse","quizResponse","S3_GEODATA_ENDPOINT","GEO_DATA_URL","API_KEY_URL","getGoogleMapsApiKey","getAllSynapseUserGeoData","getSynapseTeamGeoData","getAllSubscriptions","getSubscription","subscriptionId","getSubscribers","topic","postSubscription","deleteSubscription","postSubscriptionList","getDefaultUploadDestination","getDOIAssociation","objectVersion","getPortalFileHandleServletUrl","associatedObjectId","associatedObjectType","getEntityDownloadActionsRequired","getDockerTag","getSubjects"],"mappings":"8wDAAC,SAAUA,EAAS,CAGZC,EAAA,QAAiBD,GAgBxB,GAAC,SAAUE,EAAW,KAoBfC,EAAU,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EAQ7F,SAASC,EAASC,EAAGC,EAAG,CACpB,IAAIC,EAAIF,EAAE,CAAC,EACPG,EAAIH,EAAE,CAAC,EACPI,EAAIJ,EAAE,CAAC,EACP,EAAIA,EAAE,CAAC,EAEXE,IAAMC,EAAIC,EAAI,CAACD,EAAI,GAAKF,EAAE,CAAC,EAAI,UAAY,EAC3CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAI,CAACD,EAAIE,GAAKH,EAAE,CAAC,EAAI,UAAY,EAC3C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAI,CAAC,EAAIC,GAAKF,EAAE,CAAC,EAAI,UAAY,EAC3CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAI,CAACA,EAAIF,GAAKD,EAAE,CAAC,EAAI,WAAa,EAC5CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAChCF,IAAMC,EAAIC,EAAI,CAACD,EAAI,GAAKF,EAAE,CAAC,EAAI,UAAY,EAC3CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAI,CAACD,EAAIE,GAAKH,EAAE,CAAC,EAAI,WAAa,EAC5C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAI,CAAC,EAAIC,GAAKF,EAAE,CAAC,EAAI,WAAa,EAC5CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAI,CAACA,EAAIF,GAAKD,EAAE,CAAC,EAAI,SAAW,EAC1CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAChCF,IAAMC,EAAIC,EAAI,CAACD,EAAI,GAAKF,EAAE,CAAC,EAAI,WAAa,EAC5CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAI,CAACD,EAAIE,GAAKH,EAAE,CAAC,EAAI,WAAa,EAC5C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAI,CAAC,EAAIC,GAAKF,EAAE,EAAE,EAAI,MAAQ,EACxCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAI,CAACA,EAAIF,GAAKD,EAAE,EAAE,EAAI,WAAa,EAC7CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAChCF,IAAMC,EAAIC,EAAI,CAACD,EAAI,GAAKF,EAAE,EAAE,EAAI,WAAa,EAC7CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAI,CAACD,EAAIE,GAAKH,EAAE,EAAE,EAAI,SAAW,EAC3C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAI,CAAC,EAAIC,GAAKF,EAAE,EAAE,EAAI,WAAa,EAC7CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAI,CAACA,EAAIF,GAAKD,EAAE,EAAE,EAAI,WAAa,EAC7CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAEhCF,IAAMC,EAAI,EAAIC,EAAI,CAAC,GAAKH,EAAE,CAAC,EAAI,UAAY,EAC3CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIE,EAAID,EAAI,CAACC,GAAKH,EAAE,CAAC,EAAI,WAAa,EAC5C,GAAM,GAAK,EAAI,IAAM,IAAMC,EAAI,EAC/BE,IAAM,EAAID,EAAID,EAAI,CAACC,GAAKF,EAAE,EAAE,EAAI,UAAY,EAC5CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAIF,EAAI,EAAI,CAACA,GAAKD,EAAE,CAAC,EAAI,UAAY,EAC3CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAChCF,IAAMC,EAAI,EAAIC,EAAI,CAAC,GAAKH,EAAE,CAAC,EAAI,UAAY,EAC3CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIE,EAAID,EAAI,CAACC,GAAKH,EAAE,EAAE,EAAI,SAAW,EAC3C,GAAM,GAAK,EAAI,IAAM,IAAMC,EAAI,EAC/BE,IAAM,EAAID,EAAID,EAAI,CAACC,GAAKF,EAAE,EAAE,EAAI,UAAY,EAC5CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAIF,EAAI,EAAI,CAACA,GAAKD,EAAE,CAAC,EAAI,UAAY,EAC3CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAChCF,IAAMC,EAAI,EAAIC,EAAI,CAAC,GAAKH,EAAE,CAAC,EAAI,UAAY,EAC3CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIE,EAAID,EAAI,CAACC,GAAKH,EAAE,EAAE,EAAI,WAAa,EAC7C,GAAM,GAAK,EAAI,IAAM,IAAMC,EAAI,EAC/BE,IAAM,EAAID,EAAID,EAAI,CAACC,GAAKF,EAAE,CAAC,EAAI,UAAY,EAC3CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAIF,EAAI,EAAI,CAACA,GAAKD,EAAE,CAAC,EAAI,WAAa,EAC5CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAChCF,IAAMC,EAAI,EAAIC,EAAI,CAAC,GAAKH,EAAE,EAAE,EAAI,WAAa,EAC7CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIE,EAAID,EAAI,CAACC,GAAKH,EAAE,CAAC,EAAI,SAAW,EAC1C,GAAM,GAAK,EAAI,IAAM,IAAMC,EAAI,EAC/BE,IAAM,EAAID,EAAID,EAAI,CAACC,GAAKF,EAAE,CAAC,EAAI,WAAa,EAC5CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAIF,EAAI,EAAI,CAACA,GAAKD,EAAE,EAAE,EAAI,WAAa,EAC7CE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAEhCF,IAAMC,EAAIC,EAAI,GAAKH,EAAE,CAAC,EAAI,OAAS,EACnCC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAIC,GAAKH,EAAE,CAAC,EAAI,WAAa,EACvC,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAIC,GAAKF,EAAE,EAAE,EAAI,WAAa,EACxCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAIF,GAAKD,EAAE,EAAE,EAAI,SAAW,EACtCE,GAAMA,GAAK,GAAKA,IAAM,GAAKC,EAAI,EAC/BF,IAAMC,EAAIC,EAAI,GAAKH,EAAE,CAAC,EAAI,WAAa,EACvCC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAIC,GAAKH,EAAE,CAAC,EAAI,WAAa,EACvC,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAIC,GAAKF,EAAE,CAAC,EAAI,UAAY,EACtCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAIF,GAAKD,EAAE,EAAE,EAAI,WAAa,EACxCE,GAAMA,GAAK,GAAKA,IAAM,GAAKC,EAAI,EAC/BF,IAAMC,EAAIC,EAAI,GAAKH,EAAE,EAAE,EAAI,UAAY,EACvCC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAIC,GAAKH,EAAE,CAAC,EAAI,UAAY,EACtC,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAIC,GAAKF,EAAE,CAAC,EAAI,UAAY,EACtCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAIF,GAAKD,EAAE,CAAC,EAAI,SAAW,EACrCE,GAAMA,GAAK,GAAKA,IAAM,GAAKC,EAAI,EAC/BF,IAAMC,EAAIC,EAAI,GAAKH,EAAE,CAAC,EAAI,UAAY,EACtCC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMD,EAAIC,EAAIC,GAAKH,EAAE,EAAE,EAAI,UAAY,EACvC,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAM,EAAIF,EAAIC,GAAKF,EAAE,EAAE,EAAI,UAAY,EACvCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAMC,EAAI,EAAIF,GAAKD,EAAE,CAAC,EAAI,UAAY,EACtCE,GAAMA,GAAK,GAAKA,IAAM,GAAKC,EAAI,EAE/BF,IAAME,GAAKD,EAAI,CAAC,IAAMF,EAAE,CAAC,EAAI,UAAY,EACzCC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMA,GAAKD,EAAI,CAACE,IAAMH,EAAE,CAAC,EAAI,WAAa,EAC1C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAMF,GAAK,EAAI,CAACC,IAAMF,EAAE,EAAE,EAAI,WAAa,EAC3CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAM,GAAKC,EAAI,CAACF,IAAMD,EAAE,CAAC,EAAI,SAAW,EACxCE,GAAMA,GAAK,GAAIA,IAAM,IAAMC,EAAI,EAC/BF,IAAME,GAAKD,EAAI,CAAC,IAAMF,EAAE,EAAE,EAAI,WAAa,EAC3CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMA,GAAKD,EAAI,CAACE,IAAMH,EAAE,CAAC,EAAI,WAAa,EAC1C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAMF,GAAK,EAAI,CAACC,IAAMF,EAAE,EAAE,EAAI,QAAU,EACxCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAM,GAAKC,EAAI,CAACF,IAAMD,EAAE,CAAC,EAAI,WAAa,EAC1CE,GAAMA,GAAK,GAAIA,IAAM,IAAMC,EAAI,EAC/BF,IAAME,GAAKD,EAAI,CAAC,IAAMF,EAAE,CAAC,EAAI,WAAa,EAC1CC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMA,GAAKD,EAAI,CAACE,IAAMH,EAAE,EAAE,EAAI,SAAW,EACzC,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAMF,GAAK,EAAI,CAACC,IAAMF,EAAE,CAAC,EAAI,WAAa,EAC1CG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAM,GAAKC,EAAI,CAACF,IAAMD,EAAE,EAAE,EAAI,WAAa,EAC3CE,GAAMA,GAAK,GAAIA,IAAM,IAAMC,EAAI,EAC/BF,IAAME,GAAKD,EAAI,CAAC,IAAMF,EAAE,CAAC,EAAI,UAAY,EACzCC,GAAMA,GAAK,EAAIA,IAAM,IAAMC,EAAI,EAC/B,IAAMA,GAAKD,EAAI,CAACE,IAAMH,EAAE,EAAE,EAAI,WAAa,EAC3C,GAAM,GAAK,GAAK,IAAM,IAAMC,EAAI,EAChCE,IAAMF,GAAK,EAAI,CAACC,IAAMF,EAAE,CAAC,EAAI,UAAY,EACzCG,GAAMA,GAAK,GAAKA,IAAM,IAAM,EAAI,EAChCD,IAAM,GAAKC,EAAI,CAACF,IAAMD,EAAE,CAAC,EAAI,UAAY,EACzCE,GAAMA,GAAK,GAAKA,IAAM,IAAMC,EAAI,EAEhCJ,EAAE,CAAC,EAAIE,EAAIF,EAAE,CAAC,EAAI,EAClBA,EAAE,CAAC,EAAIG,EAAIH,EAAE,CAAC,EAAI,EAClBA,EAAE,CAAC,EAAII,EAAIJ,EAAE,CAAC,EAAI,EAClBA,EAAE,CAAC,EAAI,EAAIA,EAAE,CAAC,EAAI,CACrB,CAED,SAASK,EAAOC,EAAG,CACf,IAAIC,EAAU,CAAE,EACZC,EAEJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACrBD,EAAQC,GAAK,CAAC,EAAIF,EAAE,WAAWE,CAAC,GAAKF,EAAE,WAAWE,EAAI,CAAC,GAAK,IAAMF,EAAE,WAAWE,EAAI,CAAC,GAAK,KAAOF,EAAE,WAAWE,EAAI,CAAC,GAAK,IAE3H,OAAOD,CACV,CAED,SAASE,EAAaP,EAAG,CACrB,IAAIK,EAAU,CAAE,EACZC,EAEJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACrBD,EAAQC,GAAK,CAAC,EAAIN,EAAEM,CAAC,GAAKN,EAAEM,EAAI,CAAC,GAAK,IAAMN,EAAEM,EAAI,CAAC,GAAK,KAAON,EAAEM,EAAI,CAAC,GAAK,IAE/E,OAAOD,CACV,CAED,SAASG,EAAKJ,EAAG,CACb,IAAIK,EAAIL,EAAE,OACNM,EAAQ,CAAC,WAAY,WAAY,YAAa,SAAS,EACvDJ,EACAK,EACAC,EACAC,EACAC,EACAC,EAEJ,IAAKT,EAAI,GAAIA,GAAKG,EAAGH,GAAK,GACtBT,EAASa,EAAOP,EAAOC,EAAE,UAAUE,EAAI,GAAIA,CAAC,CAAC,CAAC,EAKlD,IAHAF,EAAIA,EAAE,UAAUE,EAAI,EAAE,EACtBK,EAASP,EAAE,OACXQ,EAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjDN,EAAI,EAAGA,EAAIK,EAAQL,GAAK,EACzBM,EAAKN,GAAK,CAAC,GAAKF,EAAE,WAAWE,CAAC,IAAOA,EAAI,GAAM,GAGnD,GADAM,EAAKN,GAAK,CAAC,GAAK,MAAUA,EAAI,GAAM,GAChCA,EAAI,GAEJ,IADAT,EAASa,EAAOE,CAAI,EACfN,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACrBM,EAAKN,CAAC,EAAI,EAKlB,OAAAO,EAAMJ,EAAI,EACVI,EAAMA,EAAI,SAAS,EAAE,EAAE,MAAM,gBAAgB,EAC7CC,EAAK,SAASD,EAAI,CAAC,EAAG,EAAE,EACxBE,EAAK,SAASF,EAAI,CAAC,EAAG,EAAE,GAAK,EAE7BD,EAAK,EAAE,EAAIE,EACXF,EAAK,EAAE,EAAIG,EAEXlB,EAASa,EAAOE,CAAI,EACbF,CACV,CAED,SAASM,EAAWhB,EAAG,CACnB,IAAIS,EAAIT,EAAE,OACNU,EAAQ,CAAC,WAAY,WAAY,YAAa,SAAS,EACvDJ,EACAK,EACAC,EACAC,EACAC,EACAC,EAEJ,IAAKT,EAAI,GAAIA,GAAKG,EAAGH,GAAK,GACtBT,EAASa,EAAOH,EAAaP,EAAE,SAASM,EAAI,GAAIA,CAAC,CAAC,CAAC,EAWvD,IAJAN,EAAKM,EAAI,GAAMG,EAAIT,EAAE,SAASM,EAAI,EAAE,EAAI,IAAI,WAAW,CAAC,EAExDK,EAASX,EAAE,OACXY,EAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjDN,EAAI,EAAGA,EAAIK,EAAQL,GAAK,EACzBM,EAAKN,GAAK,CAAC,GAAKN,EAAEM,CAAC,IAAOA,EAAI,GAAM,GAIxC,GADAM,EAAKN,GAAK,CAAC,GAAK,MAAUA,EAAI,GAAM,GAChCA,EAAI,GAEJ,IADAT,EAASa,EAAOE,CAAI,EACfN,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACrBM,EAAKN,CAAC,EAAI,EAKlB,OAAAO,EAAMJ,EAAI,EACVI,EAAMA,EAAI,SAAS,EAAE,EAAE,MAAM,gBAAgB,EAC7CC,EAAK,SAASD,EAAI,CAAC,EAAG,EAAE,EACxBE,EAAK,SAASF,EAAI,CAAC,EAAG,EAAE,GAAK,EAE7BD,EAAK,EAAE,EAAIE,EACXF,EAAK,EAAE,EAAIG,EAEXlB,EAASa,EAAOE,CAAI,EAEbF,CACV,CAED,SAASO,EAAKR,EAAG,CACb,IAAIL,EAAI,GACJc,EACJ,IAAKA,EAAI,EAAGA,EAAI,EAAGA,GAAK,EACpBd,GAAKR,EAASa,GAAMS,EAAI,EAAI,EAAM,EAAI,EAAItB,EAASa,GAAMS,EAAI,EAAM,EAAI,EAE3E,OAAOd,CACV,CAED,SAASe,EAAIrB,EAAG,CACZ,IAAIQ,EACJ,IAAKA,EAAI,EAAGA,EAAIR,EAAE,OAAQQ,GAAK,EAC3BR,EAAEQ,CAAC,EAAIW,EAAKnB,EAAEQ,CAAC,CAAC,EAEpB,OAAOR,EAAE,KAAK,EAAE,CACnB,CAGGqB,EAAIX,EAAK,OAAO,CAAC,EAgBjB,OAAO,YAAgB,KAAe,CAAC,YAAY,UAAU,OAC5D,UAAY,CACT,SAASY,EAAMC,EAAKV,EAAQ,CAGxB,OAFAU,EAAOA,EAAM,GAAM,EAEfA,EAAM,EACC,KAAK,IAAIA,EAAMV,EAAQ,CAAC,EAG5B,KAAK,IAAIU,EAAKV,CAAM,CAC9B,CAED,YAAY,UAAU,MAAQ,SAAUW,EAAMC,EAAI,CAC9C,IAAIZ,EAAS,KAAK,WACda,EAAQJ,EAAME,EAAMX,CAAM,EAC1Bc,EAAMd,EACNe,EACAC,EACAC,EACAC,EAMJ,OAJIN,IAAO5B,IACP8B,EAAML,EAAMG,EAAIZ,CAAM,GAGtBa,EAAQC,EACD,IAAI,YAAY,CAAC,GAG5BC,EAAMD,EAAMD,EACZG,EAAS,IAAI,YAAYD,CAAG,EAC5BE,EAAc,IAAI,WAAWD,CAAM,EAEnCE,EAAc,IAAI,WAAW,KAAML,EAAOE,CAAG,EAC7CE,EAAY,IAAIC,CAAW,EAEpBF,EACvB,CACA,IASI,SAASG,EAAOC,EAAK,CACjB,MAAI,kBAAkB,KAAKA,CAAG,IAC1BA,EAAM,SAAS,mBAAmBA,CAAG,CAAC,GAGnCA,CACV,CAED,SAASC,EAAoBD,EAAKE,EAAkB,CAChD,IAAItB,EAASoB,EAAI,OACdG,EAAO,IAAI,YAAYvB,CAAM,EAC7BwB,EAAM,IAAI,WAAWD,CAAI,EACzB5B,EAEH,IAAKA,EAAI,EAAGA,EAAIK,EAAQL,GAAK,EACzB6B,EAAI7B,CAAC,EAAIyB,EAAI,WAAWzB,CAAC,EAG7B,OAAO2B,EAAmBE,EAAMD,CACnC,CAED,SAASE,EAAoBF,EAAM,CAC/B,OAAO,OAAO,aAAa,MAAM,KAAM,IAAI,WAAWA,CAAI,CAAC,CAC9D,CAED,SAASG,EAAwBC,EAAOC,EAAQN,EAAkB,CAC9D,IAAIO,EAAS,IAAI,WAAWF,EAAM,WAAaC,EAAO,UAAU,EAEhE,OAAAC,EAAO,IAAI,IAAI,WAAWF,CAAK,CAAC,EAChCE,EAAO,IAAI,IAAI,WAAWD,CAAM,EAAGD,EAAM,UAAU,EAE5CL,EAAmBO,EAASA,EAAO,MAC7C,CAED,SAASC,EAAkBtB,EAAK,CAC5B,IAAIuB,EAAQ,CAAE,EACV/B,EAASQ,EAAI,OACbrB,EAEJ,IAAKA,EAAI,EAAGA,EAAIa,EAAS,EAAGb,GAAK,EAC7B4C,EAAM,KAAK,SAASvB,EAAI,OAAOrB,EAAG,CAAC,EAAG,EAAE,CAAC,EAG7C,OAAO,OAAO,aAAa,MAAM,OAAQ4C,CAAK,CACjD,CAWD,SAASC,GAAW,CAEhB,KAAK,MAAK,CACb,CAUD,OAAAA,EAAS,UAAU,OAAS,SAAUZ,EAAK,CAGvC,YAAK,aAAaD,EAAOC,CAAG,CAAC,EAEtB,IACf,EASIY,EAAS,UAAU,aAAe,SAAUC,EAAU,CAClD,KAAK,OAASA,EACd,KAAK,SAAWA,EAAS,OAEzB,IAAIjC,EAAS,KAAK,MAAM,OACpBL,EAEJ,IAAKA,EAAI,GAAIA,GAAKK,EAAQL,GAAK,GAC3BT,EAAS,KAAK,MAAOM,EAAO,KAAK,MAAM,UAAUG,EAAI,GAAIA,CAAC,CAAC,CAAC,EAGhE,YAAK,MAAQ,KAAK,MAAM,UAAUA,EAAI,EAAE,EAEjC,IACf,EAUIqC,EAAS,UAAU,IAAM,SAAUE,EAAK,CACpC,IAAIX,EAAO,KAAK,MACZvB,EAASuB,EAAK,OACd5B,EACAM,EAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACtDkC,EAEJ,IAAKxC,EAAI,EAAGA,EAAIK,EAAQL,GAAK,EACzBM,EAAKN,GAAK,CAAC,GAAK4B,EAAK,WAAW5B,CAAC,IAAOA,EAAI,GAAM,GAGtD,YAAK,QAAQM,EAAMD,CAAM,EACzBmC,EAAM3B,EAAI,KAAK,KAAK,EAEhB0B,IACAC,EAAML,EAAkBK,CAAG,GAG/B,KAAK,MAAK,EAEHA,CACf,EAOIH,EAAS,UAAU,MAAQ,UAAY,CACnC,YAAK,MAAQ,GACb,KAAK,QAAU,EACf,KAAK,MAAQ,CAAC,WAAY,WAAY,YAAa,SAAS,EAErD,IACf,EAOIA,EAAS,UAAU,SAAW,UAAY,CACtC,MAAO,CACH,KAAM,KAAK,MACX,OAAQ,KAAK,QACb,KAAM,KAAK,MAAM,MAAO,CACpC,CACA,EASIA,EAAS,UAAU,SAAW,SAAUjC,EAAO,CAC3C,YAAK,MAAQA,EAAM,KACnB,KAAK,QAAUA,EAAM,OACrB,KAAK,MAAQA,EAAM,KAEZ,IACf,EAMIiC,EAAS,UAAU,QAAU,UAAY,CACrC,OAAO,KAAK,MACZ,OAAO,KAAK,MACZ,OAAO,KAAK,OACpB,EAQIA,EAAS,UAAU,QAAU,SAAU/B,EAAMD,EAAQ,CACjD,IAAIL,EAAIK,EACJE,EACAC,EACAC,EAGJ,GADAH,EAAKN,GAAK,CAAC,GAAK,MAAUA,EAAI,GAAM,GAChCA,EAAI,GAEJ,IADAT,EAAS,KAAK,MAAOe,CAAI,EACpBN,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACrBM,EAAKN,CAAC,EAAI,EAMlBO,EAAM,KAAK,QAAU,EACrBA,EAAMA,EAAI,SAAS,EAAE,EAAE,MAAM,gBAAgB,EAC7CC,EAAK,SAASD,EAAI,CAAC,EAAG,EAAE,EACxBE,EAAK,SAASF,EAAI,CAAC,EAAG,EAAE,GAAK,EAE7BD,EAAK,EAAE,EAAIE,EACXF,EAAK,EAAE,EAAIG,EACXlB,EAAS,KAAK,MAAOe,CAAI,CACjC,EAWI+B,EAAS,KAAO,SAAUZ,EAAKc,EAAK,CAGhC,OAAOF,EAAS,WAAWb,EAAOC,CAAG,EAAGc,CAAG,CACnD,EAUIF,EAAS,WAAa,SAAUI,EAASF,EAAK,CAC1C,IAAIG,EAAOxC,EAAKuC,CAAO,EACnBD,EAAM3B,EAAI6B,CAAI,EAElB,OAAOH,EAAMJ,EAAkBK,CAAG,EAAIA,CAC9C,EASIH,EAAS,YAAc,UAAY,CAE/B,KAAK,MAAK,CAClB,EASIA,EAAS,YAAY,UAAU,OAAS,SAAUR,EAAK,CACnD,IAAID,EAAOG,EAAwB,KAAK,MAAM,OAAQF,EAAK,EAAI,EAC3DxB,EAASuB,EAAK,OACd5B,EAIJ,IAFA,KAAK,SAAW6B,EAAI,WAEf7B,EAAI,GAAIA,GAAKK,EAAQL,GAAK,GAC3BT,EAAS,KAAK,MAAOU,EAAa2B,EAAK,SAAS5B,EAAI,GAAIA,CAAC,CAAC,CAAC,EAG/D,YAAK,MAASA,EAAI,GAAMK,EAAS,IAAI,WAAWuB,EAAK,OAAO,MAAM5B,EAAI,EAAE,CAAC,EAAI,IAAI,WAAW,CAAC,EAEtF,IACf,EAUIqC,EAAS,YAAY,UAAU,IAAM,SAAUE,EAAK,CAChD,IAAIX,EAAO,KAAK,MACZvB,EAASuB,EAAK,OACdtB,EAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACtDN,EACAwC,EAEJ,IAAKxC,EAAI,EAAGA,EAAIK,EAAQL,GAAK,EACzBM,EAAKN,GAAK,CAAC,GAAK4B,EAAK5B,CAAC,IAAOA,EAAI,GAAM,GAG3C,YAAK,QAAQM,EAAMD,CAAM,EACzBmC,EAAM3B,EAAI,KAAK,KAAK,EAEhB0B,IACAC,EAAML,EAAkBK,CAAG,GAG/B,KAAK,MAAK,EAEHA,CACf,EAOIH,EAAS,YAAY,UAAU,MAAQ,UAAY,CAC/C,YAAK,MAAQ,IAAI,WAAW,CAAC,EAC7B,KAAK,QAAU,EACf,KAAK,MAAQ,CAAC,WAAY,WAAY,YAAa,SAAS,EAErD,IACf,EAOIA,EAAS,YAAY,UAAU,SAAW,UAAY,CAClD,IAAIjC,EAAQiC,EAAS,UAAU,SAAS,KAAK,IAAI,EAGjD,OAAAjC,EAAM,KAAO0B,EAAoB1B,EAAM,IAAI,EAEpCA,CACf,EASIiC,EAAS,YAAY,UAAU,SAAW,SAAUjC,EAAO,CAEvD,OAAAA,EAAM,KAAOsB,EAAoBtB,EAAM,KAAM,EAAI,EAE1CiC,EAAS,UAAU,SAAS,KAAK,KAAMjC,CAAK,CAC3D,EAEIiC,EAAS,YAAY,UAAU,QAAUA,EAAS,UAAU,QAE5DA,EAAS,YAAY,UAAU,QAAUA,EAAS,UAAU,QAU5DA,EAAS,YAAY,KAAO,SAAUR,EAAKU,EAAK,CAC5C,IAAIG,EAAOhC,EAAW,IAAI,WAAWmB,CAAG,CAAC,EACrCW,EAAM3B,EAAI6B,CAAI,EAElB,OAAOH,EAAMJ,EAAkBK,CAAG,EAAIA,CAC9C,EAEWH,CACX,CAAC;;;;;6CChuBYM,GAAA,MAAGC,EACCD,GAAA,UAAGE,EAOpB,IAAIC,EAAS,mBACTC,EAAS,mBAUTC,EAAqB,wCAczB,SAASJ,EAAMnB,EAAKwB,EAAS,CAC3B,GAAI,OAAOxB,GAAQ,SACjB,MAAM,IAAI,UAAU,+BAA+B,EAQrD,QALIyB,EAAM,CAAE,EACRC,EAAMF,GAAW,GACjBG,EAAQ3B,EAAI,MAAM,GAAG,EACrB4B,EAAMF,EAAI,QAAUL,EAEf9C,EAAI,EAAGA,EAAIoD,EAAM,OAAQpD,IAAK,CACrC,IAAIsD,EAAOF,EAAMpD,CAAC,EACduD,EAAQD,EAAK,QAAQ,GAAG,EAG5B,GAAI,EAAAC,EAAQ,GAIZ,KAAIC,EAAMF,EAAK,UAAU,EAAGC,CAAK,EAAE,KAAM,EAGzC,GAAiBL,EAAIM,CAAG,GAApB,KAAuB,CACzB,IAAIzC,EAAMuC,EAAK,UAAUC,EAAQ,EAAGD,EAAK,MAAM,EAAE,KAAM,EAGnDvC,EAAI,CAAC,IAAM,MACbA,EAAMA,EAAI,MAAM,EAAG,EAAE,GAGvBmC,EAAIM,CAAG,EAAIC,EAAU1C,EAAKsC,CAAG,CAC9B,EACF,CAED,OAAOH,CACR,CAkBD,SAASL,EAAUa,EAAM3C,EAAKkC,EAAS,CACrC,IAAIE,EAAMF,GAAW,GACjBU,EAAMR,EAAI,QAAUJ,EAExB,GAAI,OAAOY,GAAQ,WACjB,MAAM,IAAI,UAAU,0BAA0B,EAGhD,GAAI,CAACX,EAAmB,KAAKU,CAAI,EAC/B,MAAM,IAAI,UAAU,0BAA0B,EAGhD,IAAIE,EAAQD,EAAI5C,CAAG,EAEnB,GAAI6C,GAAS,CAACZ,EAAmB,KAAKY,CAAK,EACzC,MAAM,IAAI,UAAU,yBAAyB,EAG/C,IAAInC,EAAMiC,EAAO,IAAME,EAEvB,GAAYT,EAAI,QAAZ,KAAoB,CACtB,IAAIU,EAASV,EAAI,OAAS,EAE1B,GAAI,MAAMU,CAAM,GAAK,CAAC,SAASA,CAAM,EACnC,MAAM,IAAI,UAAU,0BAA0B,EAGhDpC,GAAO,aAAe,KAAK,MAAMoC,CAAM,CACxC,CAED,GAAIV,EAAI,OAAQ,CACd,GAAI,CAACH,EAAmB,KAAKG,EAAI,MAAM,EACrC,MAAM,IAAI,UAAU,0BAA0B,EAGhD1B,GAAO,YAAc0B,EAAI,MAC1B,CAED,GAAIA,EAAI,KAAM,CACZ,GAAI,CAACH,EAAmB,KAAKG,EAAI,IAAI,EACnC,MAAM,IAAI,UAAU,wBAAwB,EAG9C1B,GAAO,UAAY0B,EAAI,IACxB,CAED,GAAIA,EAAI,QAAS,CACf,GAAI,OAAOA,EAAI,QAAQ,aAAgB,WACrC,MAAM,IAAI,UAAU,2BAA2B,EAGjD1B,GAAO,aAAe0B,EAAI,QAAQ,YAAW,CAC9C,CAUD,GARIA,EAAI,WACN1B,GAAO,cAGL0B,EAAI,SACN1B,GAAO,YAGL0B,EAAI,SAAU,CAChB,IAAIW,EAAW,OAAOX,EAAI,UAAa,SACnCA,EAAI,SAAS,cAAgBA,EAAI,SAErC,OAAQW,EAAQ,CACd,IAAK,GACHrC,GAAO,oBACP,MACF,IAAK,MACHA,GAAO,iBACP,MACF,IAAK,SACHA,GAAO,oBACP,MACF,IAAK,OACHA,GAAO,kBACP,MACF,QACE,MAAM,IAAI,UAAU,4BAA4B,CACnD,CACF,CAED,OAAOA,CACR,CAUD,SAASgC,EAAUhC,EAAKqB,EAAQ,CAC9B,GAAI,CACF,OAAOA,EAAOrB,CAAG,CAClB,MAAW,CACV,OAAOA,CACR,CACH,uBCxMO,SAASsC,IAAoB,CAEhC,OAAO,OAAO,UAAa,UAAY,OAAO,SAAS,QAAW,QACtE,CAQO,SAASC,GAAaC,EAAShB,EAAS,CAC3C,OAAI,OAAOgB,GAAY,SACZC,GAAY,MAACD,EAAShB,CAAO,EAE/B,OAAOgB,GAAY,UAAYA,IAAY,KACzCA,EAGA,EAEf,CACO,SAASE,GAAgBP,EAAOQ,EAAY,CAC/C,OAAI,OAAOA,EAAe,MAEtBA,EACI,CAACR,GAAUA,EAAM,CAAC,IAAM,KAAOA,EAAM,CAAC,IAAM,KAAOA,EAAM,CAAC,IAAM,KAEjE,CAACQ,CACZ,CACO,SAASC,GAAWT,EAAOX,EAAS,CACnCA,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIqB,EAAaC,GAAmBX,CAAK,EACzC,GAAIO,GAAgBG,EAAYrB,EAAQ,UAAU,EAC9C,GAAI,CACA,OAAO,KAAK,MAAMqB,CAAU,CAC/B,MACS,CAET,CAIL,OAAOV,CACX,CACA,SAASW,GAAmBX,EAAO,CAE/B,OAAIA,GAASA,EAAM,CAAC,IAAM,KAAOA,EAAM,CAAC,IAAM,IACnCA,EAAM,OAAO,CAAC,EAElBA,CACX,CCpDA,IAAIY,GAAYC,YAAQA,WAAK,UAAa,UAAY,CAClD,OAAAD,GAAW,OAAO,QAAU,SAASE,EAAG,CACpC,QAAS5E,EAAGE,EAAI,EAAG,EAAI,UAAU,OAAQA,EAAI,EAAGA,IAAK,CACjDF,EAAI,UAAUE,CAAC,EACf,QAAS2E,KAAK7E,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAG6E,CAAC,IAC1DD,EAAEC,CAAC,EAAI7E,EAAE6E,CAAC,EACjB,CACD,OAAOD,CACf,EACWF,GAAS,MAAM,KAAM,SAAS,CACzC,EAGII,GAAyB,UAAY,CACrC,SAASA,EAAQX,EAAShB,EAAS,CAC/B,IAAI4B,EAAQ,KACZ,KAAK,gBAAkB,GACvB,KAAK,oBAAsB,GAC3B,KAAK,QAAUb,GAAaC,EAAShB,CAAO,EAC5C,IAAI,QAAQ,UAAY,CACpB4B,EAAM,oBAAsBd,IACxC,CAAS,EAAE,MAAM,UAAY,CAAA,CAAG,CAC3B,CACD,OAAAa,EAAQ,UAAU,qBAAuB,SAAUE,EAAc,CACxD,KAAK,sBAGV,KAAK,QAAUZ,GAAY,MAAC,SAAS,OAAQY,CAAY,EACjE,EACIF,EAAQ,UAAU,YAAc,SAAUG,EAAQ,CAC9C,QAAS/E,EAAI,EAAGA,EAAI,KAAK,gBAAgB,OAAQ,EAAEA,EAC/C,KAAK,gBAAgBA,CAAC,EAAE+E,CAAM,CAE1C,EACIH,EAAQ,UAAU,IAAM,SAAUlB,EAAMT,EAAS6B,EAAc,CAC3D,OAAI7B,IAAY,SAAUA,EAAU,CAAE,GACtC,KAAK,qBAAqB6B,CAAY,EAC/BT,GAAW,KAAK,QAAQX,CAAI,EAAGT,CAAO,CACrD,EACI2B,EAAQ,UAAU,OAAS,SAAU3B,EAAS6B,EAAc,CACpD7B,IAAY,SAAUA,EAAU,CAAE,GACtC,KAAK,qBAAqB6B,CAAY,EACtC,IAAI5C,EAAS,CAAA,EACb,QAAS8C,KAAU,KAAK,QACpB9C,EAAO8C,CAAM,EAAIX,GAAW,KAAK,QAAQW,CAAM,EAAG/B,CAAO,EAE7D,OAAOf,CACf,EACI0C,EAAQ,UAAU,IAAM,SAAUlB,EAAME,EAAOX,EAAS,CACpD,IAAIgC,EACA,OAAOrB,GAAU,WACjBA,EAAQ,KAAK,UAAUA,CAAK,GAEhC,KAAK,QAAUY,GAASA,GAAS,CAAE,EAAE,KAAK,OAAO,GAAIS,EAAK,CAAA,EAAIA,EAAGvB,CAAI,EAAIE,EAAOqB,EAAE,EAC9E,KAAK,sBACL,SAAS,OAASC,GAAgB,UAACxB,EAAME,EAAOX,CAAO,GAE3D,KAAK,YAAY,CAAE,KAAMS,EAAM,MAAOE,EAAO,QAASX,CAAO,CAAE,CACvE,EACI2B,EAAQ,UAAU,OAAS,SAAUlB,EAAMT,EAAS,CAChD,IAAIkC,EAAgBlC,EAAUuB,GAASA,GAAS,CAAA,EAAIvB,CAAO,EAAG,CAAE,QAAS,IAAI,KAAK,KAAM,EAAG,EAAG,EAAG,EAAG,CAAC,EAAG,OAAQ,CAAG,CAAA,EACnH,KAAK,QAAUuB,GAAS,CAAE,EAAE,KAAK,OAAO,EACxC,OAAO,KAAK,QAAQd,CAAI,EACpB,KAAK,sBACL,SAAS,OAASwB,GAAgB,UAACxB,EAAM,GAAIyB,CAAY,GAE7D,KAAK,YAAY,CAAE,KAAMzB,EAAM,MAAO,OAAW,QAAST,CAAO,CAAE,CAC3E,EACI2B,EAAQ,UAAU,kBAAoB,SAAUQ,EAAU,CACtD,KAAK,gBAAgB,KAAKA,CAAQ,CAC1C,EACIR,EAAQ,UAAU,qBAAuB,SAAUQ,EAAU,CACzD,IAAIC,EAAM,KAAK,gBAAgB,QAAQD,CAAQ,EAC3CC,GAAO,GACP,KAAK,gBAAgB,OAAOA,EAAK,CAAC,CAE9C,EACWT,CACX,EAAC,EACD,MAAAU,GAAeV,GCvEf,IAAIW,GACA,OAAO,UAAa,WACtBA,GAAQC,GAAY,CAClB,IAAK,MACL,QAAS,EACb,CAAG,GAEY,SAASC,GAAqBC,EAAO,CAClD,KAAM,CACJ,YAAAC,EACA,SAAAC,CACD,EAAGF,EACJ,OAAOC,GAAeJ,GAAqBM,EAAKC,GAAe,CAC7D,MAAOP,GACP,SAAUK,CACX,CAAA,EAAIA,CACP,CCvBA,MAAMG,GAA4BC,EAAAA,cAAoB,IAAI,EAI1DC,GAAeF,GCHA,SAASG,IAAW,CAMjC,OALcC,aAAiBJ,EAAY,CAM7C,CCTA,MAAMK,GAAY,OAAO,QAAW,YAAc,OAAO,IAC1CC,GAAAD,GAAY,OAAO,IAAI,YAAY,EAAI,mBCStD,SAASE,GAAqBC,EAAYC,EAAY,CACpD,OAAI,OAAOA,GAAe,WACJA,EAAWD,CAAU,EAQpCE,EAAS,CAAA,EAAIF,EAAYC,CAAU,CAC5C,CAOA,SAASE,GAAchB,EAAO,CAC5B,KAAM,CACJ,SAAAE,EACA,MAAOY,CACR,EAAGd,EACEa,EAAaL,KAMbS,EAAQC,EAAAA,QAAc,IAAM,CAChC,MAAMC,EAASN,IAAe,KAAOC,EAAaF,GAAqBC,EAAYC,CAAU,EAC7F,OAAIK,GAAU,OACZA,EAAOR,EAAM,EAAIE,IAAe,MAE3BM,CACX,EAAK,CAACL,EAAYD,CAAU,CAAC,EAC3B,OAAoBV,EAAKE,GAAa,SAAU,CAC9C,MAAOY,EACP,SAAUf,CACd,CAAG,CACH,CC1CA,MAAMkB,GAAc,CAAA,EACpB,SAASC,GAAgBC,EAASC,EAAYT,EAAYU,EAAY,GAAO,CAC3E,OAAON,EAAa,QAAC,IAAM,CACzB,MAAMO,EAAgBH,GAAUC,EAAWD,CAAO,GAAKC,EACvD,GAAI,OAAOT,GAAe,WAAY,CACpC,MAAMY,EAAcZ,EAAWW,CAAa,EACtCjF,EAAS8E,EAAUP,EAAS,CAAA,EAAIQ,EAAY,CAChD,CAACD,CAAO,EAAGI,CACZ,CAAA,EAAIA,EAGL,OAAIF,EACK,IAAMhF,EAERA,CACR,CACD,OAAO8E,EAAUP,EAAS,CAAE,EAAEQ,EAAY,CACxC,CAACD,CAAO,EAAGR,CACZ,CAAA,EAAIC,EAAS,CAAA,EAAIQ,EAAYT,CAAU,CACzC,EAAE,CAACQ,EAASC,EAAYT,EAAYU,CAAS,CAAC,CACjD,CASA,SAASR,GAAchB,EAAO,CAC5B,KAAM,CACJ,SAAAE,EACA,MAAOY,EACP,QAAAQ,CACD,EAAGtB,EACEuB,EAAaI,GAAuBP,EAAW,EAC/CQ,EAAoBC,GAAiB,GAAIT,GAMzCU,EAAcT,GAAgBC,EAASC,EAAYT,CAAU,EAC7DiB,EAAeV,GAAgBC,EAASM,EAAmBd,EAAY,EAAI,EACjF,OAAoBX,EAAK6B,GAAkB,CACzC,MAAOD,EACP,SAAuB5B,EAAK8B,GAAyB,SAAU,CAC7D,MAAOH,EACP,SAAU5B,CAChB,CAAK,CACL,CAAG,CACH,CCzDA,MAAMgC,GAAY,CAAC,OAAO,EAMX,SAASlB,GAAcmB,EAAM,CAC1C,GAAI,CACA,MAAOC,CACb,EAAQD,EACJnC,EAAQqC,GAA8BF,EAAMD,EAAS,EACvD,MAAMI,EAAcF,EAAWG,EAAQ,EACvC,OAAoBpC,EAAKqC,GAAqBzB,EAAS,CAAA,EAAIf,EAAO,CAChE,QAASsC,EAAcC,GAAW,OAClC,MAAOD,GAAeF,CACvB,CAAA,CAAC,CACJ,CChBO,SAASK,GAAwBC,EAAM,CAC5C,OAAOC,GAAqB,cAAeD,CAAI,CACjD,CACwBE,GAAuB,cAAe,CAAC,OAAQ,aAAc,WAAY,UAAW,SAAU,UAAW,cAAc,CAAC,ECHhJ,MAAMV,GAAY,CAAC,iBAAkB,WAAY,YAAa,gBAAiB,YAAa,SAAU,KAAM,UAAW,YAAa,aAAc,SAAU,WAAY,YAAa,cAAe,QAAS,UAAW,qBAAqB,EAevOW,GAAoBC,GAAc,CACtC,KAAM,CACJ,YAAAC,EACA,QAAAC,CACD,EAAGF,EACEG,EAAQ,CACZ,KAAM,CAAC,OAAQ,GAAGF,CAAW,EAAE,EAC/B,QAAS,CAAC,SAAS,EACnB,OAAQ,CAAC,QAAQ,EACjB,QAAS,CAAC,UAAW,GAAGA,CAAW,EAAE,EACrC,aAAc,CAAC,eAAgB,GAAGA,CAAW,EAAE,CACnD,EACE,OAAOG,GAAeD,EAAOR,GAAyBO,CAAO,CAC/D,EACMG,GAAeC,GAAO,MAAO,CACjC,KAAM,cACN,KAAM,OACN,kBAAmB,CAACpD,EAAOqD,IAAW,CACpC,KAAM,CACJ,WAAAP,CACD,EAAG9C,EACJ,MAAO,CAACqD,EAAO,KAAMA,EAAOP,EAAW,WAAW,EAAGA,EAAW,QAAU,WAAaO,EAAO,QAASP,EAAW,QAAU,UAAY,CAACA,EAAW,IAAMA,EAAW,gBAAkB,OAASO,EAAO,MAAM,CAC9M,CACH,CAAC,EAAE,CAAC,CACF,MAAApC,EACA,WAAA6B,CACF,IAAM/B,EAAS,CACb,OAAQ,EACR,SAAU,SACV,WAAYE,EAAM,YAAY,OAAO,QAAQ,CAC/C,EAAG6B,EAAW,cAAgB,cAAgB,CAC5C,OAAQ,OACR,MAAO,EACP,WAAY7B,EAAM,YAAY,OAAO,OAAO,CAC9C,EAAG6B,EAAW,QAAU,WAAa/B,EAAS,CAC5C,OAAQ,OACR,SAAU,SACZ,EAAG+B,EAAW,cAAgB,cAAgB,CAC5C,MAAO,MACT,CAAC,EAAGA,EAAW,QAAU,UAAY,CAACA,EAAW,IAAMA,EAAW,gBAAkB,OAAS,CAC3F,WAAY,QACd,CAAC,CAAC,EACIQ,GAAkBF,GAAO,MAAO,CACpC,KAAM,cACN,KAAM,UACN,kBAAmB,CAACpD,EAAOqD,IAAWA,EAAO,OAC/C,CAAC,EAAE,CAAC,CACF,WAAAP,CACF,IAAM/B,EAAS,CAEb,QAAS,OACT,MAAO,MACT,EAAG+B,EAAW,cAAgB,cAAgB,CAC5C,MAAO,OACP,OAAQ,MACV,CAAC,CAAC,EACIS,GAAuBH,GAAO,MAAO,CACzC,KAAM,cACN,KAAM,eACN,kBAAmB,CAACpD,EAAOqD,IAAWA,EAAO,YAC/C,CAAC,EAAE,CAAC,CACF,WAAAP,CACF,IAAM/B,EAAS,CACb,MAAO,MACT,EAAG+B,EAAW,cAAgB,cAAgB,CAC5C,MAAO,OACP,OAAQ,MACV,CAAC,CAAC,EAOIU,GAAwBC,EAAAA,WAAiB,SAAkBC,EAASC,EAAK,CAC7E,MAAM3D,EAAQ4D,GAAc,CAC1B,MAAOF,EACP,KAAM,aACV,CAAG,EACK,CACF,eAAAG,EACA,SAAA3D,EACA,UAAA4D,EACA,cAAeC,EAAoB,MACnC,UAAAC,EACA,OAAAC,EACA,GAAIC,EACJ,QAAAC,EACA,UAAAC,EACA,WAAAC,EACA,OAAAC,EACA,SAAAC,EACA,UAAAC,EACA,YAAAzB,EAAc,WACd,MAAA0B,EACA,QAAAC,EAAUC,GAAS,SAEnB,oBAAAC,EAAsBC,EAC5B,EAAQ7E,EACJ8E,EAAQzC,GAA8BrC,EAAOkC,EAAS,EAClDY,EAAa/B,EAAS,CAAE,EAAEf,EAAO,CACrC,YAAA+C,EACA,cAAegB,CACnB,CAAG,EACKf,EAAUH,GAAkBC,CAAU,EACtC7B,EAAQT,KACRuE,EAAQC,EAAAA,SACRC,EAAaD,SAAa,IAAI,EAC9BE,EAAyBF,EAAAA,SACzBG,EAAgB,OAAOpB,GAAsB,SAAW,GAAGA,CAAiB,KAAOA,EACnFqB,GAAerC,IAAgB,aAC/BsC,EAAOD,GAAe,QAAU,SACtCE,EAAAA,UAAgB,IACP,IAAM,CACX,aAAaP,EAAM,OAAO,CAChC,EACK,CAAE,CAAA,EACL,MAAMQ,EAAUP,SAAa,IAAI,EAC3BQ,GAAYC,GAAW9B,EAAK4B,CAAO,EACnCG,GAA+BhG,GAAYiG,GAAoB,CACnE,GAAIjG,EAAU,CACZ,MAAMkG,GAAOL,EAAQ,QAGjBI,IAAqB,OACvBjG,EAASkG,EAAI,EAEblG,EAASkG,GAAMD,CAAgB,CAElC,CACL,EACQE,EAAiB,IAAMZ,EAAW,QAAUA,EAAW,QAAQG,GAAe,cAAgB,cAAc,EAAI,EAChHU,EAAcJ,GAA6B,CAACE,EAAMG,IAAgB,CAClEd,EAAW,SAAWG,KAExBH,EAAW,QAAQ,MAAM,SAAW,YAEtCW,EAAK,MAAMP,CAAI,EAAIF,EACfhB,GACFA,EAAQyB,EAAMG,CAAW,CAE/B,CAAG,EACKC,EAAiBN,GAA6B,CAACE,EAAMG,IAAgB,CACzE,MAAME,GAAcJ,IAChBZ,EAAW,SAAWG,KAExBH,EAAW,QAAQ,MAAM,SAAW,IAEtC,KAAM,CACJ,SAAUiB,GACV,OAAQC,EACT,EAAGC,GAAmB,CACrB,MAAA3B,EACA,QAAAC,EACA,OAAAT,CACN,EAAO,CACD,KAAM,OACZ,CAAK,EACD,GAAIS,IAAY,OAAQ,CACtB,MAAM2B,GAAYpF,EAAM,YAAY,sBAAsBgF,EAAW,EACrEL,EAAK,MAAM,mBAAqB,GAAGS,EAAS,KAC5CnB,EAAuB,QAAUmB,EACvC,MACMT,EAAK,MAAM,mBAAqB,OAAOM,IAAuB,SAAWA,GAAqB,GAAGA,EAAkB,KAErHN,EAAK,MAAMP,CAAI,EAAI,GAAGY,EAAW,KACjCL,EAAK,MAAM,yBAA2BO,GAClC9B,GACFA,EAAWuB,EAAMG,CAAW,CAElC,CAAG,EACKO,EAAgBZ,GAA6B,CAACE,EAAMG,IAAgB,CACxEH,EAAK,MAAMP,CAAI,EAAI,OACfjB,GACFA,EAAUwB,EAAMG,CAAW,CAEjC,CAAG,EACKQ,EAAab,GAA6BE,GAAQ,CACtDA,EAAK,MAAMP,CAAI,EAAI,GAAGQ,EAAc,CAAE,KAClCvB,GACFA,EAAOsB,CAAI,CAEjB,CAAG,EACKY,EAAed,GAA6BnB,CAAQ,EACpDkC,GAAgBf,GAA6BE,GAAQ,CACzD,MAAMK,EAAcJ,IACd,CACJ,SAAUK,GACV,OAAQC,EACT,EAAGC,GAAmB,CACrB,MAAA3B,EACA,QAAAC,EACA,OAAAT,CACN,EAAO,CACD,KAAM,MACZ,CAAK,EACD,GAAIS,IAAY,OAAQ,CAGtB,MAAM2B,GAAYpF,EAAM,YAAY,sBAAsBgF,CAAW,EACrEL,EAAK,MAAM,mBAAqB,GAAGS,EAAS,KAC5CnB,EAAuB,QAAUmB,EACvC,MACMT,EAAK,MAAM,mBAAqB,OAAOM,IAAuB,SAAWA,GAAqB,GAAGA,EAAkB,KAErHN,EAAK,MAAMP,CAAI,EAAIF,EACnBS,EAAK,MAAM,yBAA2BO,GAClC3B,GACFA,EAAUoB,CAAI,CAEpB,CAAG,EAUD,OAAoBzF,EAAKyE,EAAqB7D,EAAS,CACrD,GAAImD,EACJ,QAAS4B,EACT,UAAWQ,EACX,WAAYN,EACZ,OAAQO,EACR,SAAUC,EACV,UAAWC,GACX,eAjB2BC,GAAQ,CAC/BhC,IAAY,SACdK,EAAM,QAAU,WAAW2B,EAAMxB,EAAuB,SAAW,CAAC,GAElErB,GAEFA,EAAe0B,EAAQ,QAASmB,CAAI,CAE1C,EAUI,QAASnB,EACT,QAASb,IAAY,OAAS,KAAOA,CACtC,EAAEI,EAAO,CACR,SAAU,CAACpK,EAAOiM,IAA4BxG,EAAKgD,GAAcpC,EAAS,CACxE,GAAIiD,EACJ,UAAW4C,GAAK5D,EAAQ,KAAMc,EAAW,CACvC,QAAWd,EAAQ,QACnB,OAAU,CAACkB,GAAUiB,IAAkB,OAASnC,EAAQ,MACzD,EAACtI,CAAK,CAAC,EACR,MAAOqG,EAAS,CACd,CAACqE,GAAe,WAAa,WAAW,EAAGD,CAC5C,EAAEV,CAAK,EACR,WAAY1D,EAAS,CAAE,EAAE+B,EAAY,CACnC,MAAApI,CACR,CAAO,EACD,IAAK8K,EACN,EAAEmB,EAAY,CACb,SAAuBxG,EAAKmD,GAAiB,CAC3C,WAAYvC,EAAS,CAAE,EAAE+B,EAAY,CACnC,MAAApI,CACV,CAAS,EACD,UAAWsI,EAAQ,QACnB,IAAKiC,EACL,SAAuB9E,EAAKoD,GAAsB,CAChD,WAAYxC,EAAS,CAAE,EAAE+B,EAAY,CACnC,MAAApI,CACZ,CAAW,EACD,UAAWsI,EAAQ,aACnB,SAAU9C,CACpB,CAAS,CACT,CAAO,CACP,CAAK,CAAC,CACH,CAAA,CAAC,CACJ,CAAC,EAgGDsD,GAAS,eAAiB,GAC1B,MAAAqD,GAAerD,GCpVS,SAAAsD,GACtBC,EAAgC,GACJ,CACtB,KAAA,CACJ,iBAAAC,EACA,mBAAAC,EAAqB,GAAGC,GAA2B,MAAM,sBACzD,QAAAC,EACA,wBAAAC,CACE,EAAAL,EAEEM,EAAcC,KAEdC,EAAe,IAAI,IAAI,OAAO,SAAS,IAAI,EAE3C,CAAE,aAAAC,CAAiB,EAAAD,EACnBE,EAAOD,GAAA,YAAAA,EAAc,IAAI,QACzBE,EAAWF,GAAA,YAAAA,EAAc,IAAI,YAE7B9M,EAAQ8M,GAAA,YAAAA,EAAc,IAAI,SAE1B,CAACG,EAAWC,CAAY,EAAIC,EAAAA,SAAS,CAAC,EAAEJ,GAAQC,EAAS,EAE/DI,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIL,GAAQC,EAAU,CACpB,MAAMK,EAAc,GAAGV,CAAW,aAAaK,CAAQ,GAEnD,GAAAM,GAAiB,QAAUN,EAAU,CACjC,MAAAO,EACJC,GACG,CACC,gBAAiBA,EACnBC,GAAqBD,EAAS,WAAW,EAAE,KAAKlB,CAAgB,EAG5DI,GACFA,EAAwBc,CAAQ,CAEpC,EAEIE,EAAaC,GAA4B,CACzCA,EAAI,SAAW,KAEV,OAAA,SAAS,QAAQpB,CAAkB,EAEpC,QAAA,MAAM,0CAA2CoB,CAAG,EACxDlB,GACFA,EAAQkB,EAAI,MAAM,CACpB,EAGE3N,EACF4N,GACE5N,EACAgN,EACAD,EACAM,EACAQ,EAAuB,aAAA,EAEtB,KAAKN,CAAS,EACd,MAAMG,CAAS,EACf,QAAQ,IAAMR,EAAa,EAAK,CAAC,EAEpCY,GACEd,EACAD,EACAM,EACAQ,EAAuB,aAAA,EAEtB,KAAKN,CAAS,EACd,MAAMG,CAAS,EACf,QAAQ,IAAMR,EAAa,EAAK,CAAC,CACtC,SACSI,GAAiB,OAASN,EAAU,CAEvC,MAAAU,EAAaC,GAA4B,CACrC,QAAA,MAAM,mCAAoCA,CAAG,EACjDlB,GACFA,EAAQkB,EAAI,MAAM,CACpB,EAEFI,GACEf,EACAD,EACAM,EACAQ,EAAuB,aAAA,EAEtB,KAAKvB,CAAgB,EACrB,MAAMoB,CAAS,EACf,QAAQ,IAAMR,EAAa,EAAK,CAAC,CAAA,MAE5B,QAAA,KAAK,yBAA0BF,CAAQ,EAC/CE,EAAa,EAAK,CAEtB,CAGF,EAAG,CAAE,CAAA,EAEE,CAAE,UAAAD,CAAU,CACrB,CC9GA,SAASe,GAASxK,EAAO,CACvB,IAAIyK,EAAO,OAAOzK,EAClB,OAAOA,GAAS,OAASyK,GAAQ,UAAYA,GAAQ,WACvD,CCxBA,IAAIC,GAAW,yBACXC,GAAU,oBACVC,GAAS,6BACTC,GAAW,iBAmBf,SAASC,GAAW9K,EAAO,CACzB,GAAI,CAACwK,GAASxK,CAAK,EACjB,MAAO,GAIT,IAAI+K,EAAMC,GAAWhL,CAAK,EAC1B,OAAO+K,GAAOJ,IAAWI,GAAOH,IAAUG,GAAOL,IAAYK,GAAOF,EACtE,CC/BA,IAAII,GAAaC,GAAK,oBAAoB,EAE1C,MAAAC,GAAeF,GCFf,IAAIG,GAAc,UAAW,CAC3B,IAAIC,EAAM,SAAS,KAAKJ,IAAcA,GAAW,MAAQA,GAAW,KAAK,UAAY,EAAE,EACvF,OAAOI,EAAO,iBAAmBA,EAAO,EAC1C,EAAC,EASD,SAASC,GAASC,EAAM,CACtB,MAAO,CAAC,CAACH,IAAeA,MAAcG,CACxC,CChBA,IAAIC,GAAY,SAAS,UAGrBC,GAAeD,GAAU,SAS7B,SAASE,GAASH,EAAM,CACtB,GAAIA,GAAQ,KAAM,CAChB,GAAI,CACF,OAAOE,GAAa,KAAKF,CAAI,CACnC,MAAgB,CAAE,CACd,GAAI,CACF,OAAQA,EAAO,EACrB,MAAgB,CAAE,CACf,CACD,MAAO,EACT,CCdA,IAAII,GAAe,sBAGfC,GAAe,8BAGfJ,GAAY,SAAS,UACrBK,GAAc,OAAO,UAGrBJ,GAAeD,GAAU,SAGzBM,GAAiBD,GAAY,eAG7BE,GAAa,OAAO,IACtBN,GAAa,KAAKK,EAAc,EAAE,QAAQH,GAAc,MAAM,EAC7D,QAAQ,yDAA0D,OAAO,EAAI,GAChF,EAUA,SAASK,GAAahM,EAAO,CAC3B,GAAI,CAACwK,GAASxK,CAAK,GAAKsL,GAAStL,CAAK,EACpC,MAAO,GAET,IAAIiM,EAAUnB,GAAW9K,CAAK,EAAI+L,GAAaH,GAC/C,OAAOK,EAAQ,KAAKP,GAAS1L,CAAK,CAAC,CACrC,CCpCA,SAASkM,GAASC,EAAQvM,EAAK,CAC7B,OAAOuM,GAAU,KAAO,OAAYA,EAAOvM,CAAG,CAChD,CCCA,SAASwM,GAAUD,EAAQvM,EAAK,CAC9B,IAAII,EAAQkM,GAASC,EAAQvM,CAAG,EAChC,OAAOoM,GAAahM,CAAK,EAAIA,EAAQ,MACvC,CCVA,IAAIqM,GAAUD,GAAUlB,GAAM,SAAS,EAEvC,MAAAoB,GAAeD,GCLf,IAAIE,GAAmB,iBA4BvB,SAASC,GAASxM,EAAO,CACvB,OAAO,OAAOA,GAAS,UACrBA,EAAQ,IAAMA,EAAQ,GAAK,GAAKA,GAASuM,EAC7C,CCJA,SAASE,GAAYzM,EAAO,CAC1B,OAAOA,GAAS,MAAQwM,GAASxM,EAAM,MAAM,GAAK,CAAC8K,GAAW9K,CAAK,CACrE,CC7BA,IAAI6L,GAAc,OAAO,UASzB,SAASa,GAAY1M,EAAO,CAC1B,IAAI2M,EAAO3M,GAASA,EAAM,YACtB4M,EAAS,OAAOD,GAAQ,YAAcA,EAAK,WAAcd,GAE7D,OAAO7L,IAAU4M,CACnB,CCXA,IAAIC,GAAU,qBASd,SAASC,GAAgB9M,EAAO,CAC9B,OAAO+M,GAAa/M,CAAK,GAAKgL,GAAWhL,CAAK,GAAK6M,EACrD,CCXA,IAAIhB,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAG7BmB,GAAuBnB,GAAY,qBAoBnCoB,GAAcH,GAAgB,UAAW,CAAE,OAAO,SAAU,GAAI,EAAIA,GAAkB,SAAS9M,EAAO,CACxG,OAAO+M,GAAa/M,CAAK,GAAK8L,GAAe,KAAK9L,EAAO,QAAQ,GAC/D,CAACgN,GAAqB,KAAKhN,EAAO,QAAQ,CAC9C,EAEA,MAAAkN,GAAeD,GCtBf,SAASE,IAAY,CACnB,MAAO,EACT,CCXA,IAAIC,GAAc,OAAO,SAAW,UAAY,SAAW,CAAC,QAAQ,UAAY,QAG5EC,GAAaD,IAAe,OAAO,QAAU,UAAY,QAAU,CAAC,OAAO,UAAY,OAGvFE,GAAgBD,IAAcA,GAAW,UAAYD,GAGrDG,GAASD,GAAgBpC,GAAK,OAAS,OAGvCsC,GAAiBD,GAASA,GAAO,SAAW,OAmB5CE,GAAWD,IAAkBL,GAEjC,MAAAO,GAAeD,GChCf,IAAIZ,GAAU,qBACVc,GAAW,iBACXC,GAAU,mBACVC,GAAU,gBACVC,GAAW,iBACXnD,GAAU,oBACVoD,GAAS,eACTC,GAAY,kBACZC,GAAY,kBACZC,GAAY,kBACZC,GAAS,eACTC,GAAY,kBACZC,GAAa,mBAEbC,GAAiB,uBACjBC,GAAc,oBACdC,GAAa,wBACbC,GAAa,wBACbC,GAAU,qBACVC,GAAW,sBACXC,GAAW,sBACXC,GAAW,sBACXC,GAAkB,6BAClBC,GAAY,uBACZC,GAAY,uBAGZC,EAAiB,CAAA,EACrBA,EAAeT,EAAU,EAAIS,EAAeR,EAAU,EACtDQ,EAAeP,EAAO,EAAIO,EAAeN,EAAQ,EACjDM,EAAeL,EAAQ,EAAIK,EAAeJ,EAAQ,EAClDI,EAAeH,EAAe,EAAIG,EAAeF,EAAS,EAC1DE,EAAeD,EAAS,EAAI,GAC5BC,EAAepC,EAAO,EAAIoC,EAAetB,EAAQ,EACjDsB,EAAeX,EAAc,EAAIW,EAAerB,EAAO,EACvDqB,EAAeV,EAAW,EAAIU,EAAepB,EAAO,EACpDoB,EAAenB,EAAQ,EAAImB,EAAetE,EAAO,EACjDsE,EAAelB,EAAM,EAAIkB,EAAejB,EAAS,EACjDiB,EAAehB,EAAS,EAAIgB,EAAef,EAAS,EACpDe,EAAed,EAAM,EAAIc,EAAeb,EAAS,EACjDa,EAAeZ,EAAU,EAAI,GAS7B,SAASa,GAAiBlP,EAAO,CAC/B,OAAO+M,GAAa/M,CAAK,GACvBwM,GAASxM,EAAM,MAAM,GAAK,CAAC,CAACiP,EAAejE,GAAWhL,CAAK,CAAC,CAChE,CClDA,SAASmP,GAAU5D,EAAM,CACvB,OAAO,SAASvL,EAAO,CACrB,OAAOuL,EAAKvL,CAAK,CACrB,CACA,CCRA,IAAIoN,GAAc,OAAO,SAAW,UAAY,SAAW,CAAC,QAAQ,UAAY,QAG5EC,GAAaD,IAAe,OAAO,QAAU,UAAY,QAAU,CAAC,OAAO,UAAY,OAGvFE,GAAgBD,IAAcA,GAAW,UAAYD,GAGrDgC,GAAc9B,IAAiB+B,GAAW,QAG1CC,GAAY,UAAW,CACzB,GAAI,CAEF,IAAIC,EAAQlC,IAAcA,GAAW,SAAWA,GAAW,QAAQ,MAAM,EAAE,MAE3E,OAAIkC,GAKGH,IAAeA,GAAY,SAAWA,GAAY,QAAQ,MAAM,CAC3E,MAAc,CAAE,CAChB,EAAC,EAED,MAAAI,GAAeF,GCxBf,IAAIG,GAAmBH,IAAYA,GAAS,aAmBxCI,GAAeD,GAAmBN,GAAUM,EAAgB,EAAIP,GAEpE,MAAAS,GAAeD,GClBf,SAASE,GAAQrE,EAAMsE,EAAW,CAChC,OAAO,SAASC,EAAK,CACnB,OAAOvE,EAAKsE,EAAUC,CAAG,CAAC,CAC9B,CACA,CCTA,IAAIC,GAAaH,GAAQ,OAAO,KAAM,MAAM,EAE5C,MAAAI,GAAeD,GCDf,IAAIlE,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eASjC,SAASoE,GAAS9D,EAAQ,CACxB,GAAI,CAACO,GAAYP,CAAM,EACrB,OAAO4D,GAAW5D,CAAM,EAE1B,IAAI7N,EAAS,CAAA,EACb,QAASsB,KAAO,OAAOuM,CAAM,EACvBL,GAAe,KAAKK,EAAQvM,CAAG,GAAKA,GAAO,eAC7CtB,EAAO,KAAKsB,CAAG,EAGnB,OAAOtB,CACT,CCvBA,IAAI4R,GAAM9D,GAAUlB,GAAM,KAAK,EAE/B,MAAAiF,GAAeD,GCFf,IAAIE,GAAWhE,GAAUlB,GAAM,UAAU,EAEzC,MAAAmF,GAAeD,GCFf,IAAIE,GAAUlE,GAAUlB,GAAM,SAAS,EAEvC,MAAAqF,GAAeD,GCFf,IAAIE,GAAMpE,GAAUlB,GAAM,KAAK,EAE/B,MAAAuF,GAAeD,GCGf,IAAIzC,GAAS,eACTE,GAAY,kBACZyC,GAAa,mBACbvC,GAAS,eACTE,GAAa,mBAEbE,GAAc,oBAGdoC,GAAqBjF,GAAS0E,EAAQ,EACtCQ,GAAgBlF,GAASwE,EAAG,EAC5BW,GAAoBnF,GAAS4E,EAAO,EACpCQ,GAAgBpF,GAAS8E,EAAG,EAC5BO,GAAoBrF,GAASW,EAAO,EASpC2E,GAAShG,IAGRoF,IAAYY,GAAO,IAAIZ,GAAS,IAAI,YAAY,CAAC,CAAC,CAAC,GAAK7B,IACxD2B,IAAOc,GAAO,IAAId,EAAG,GAAKnC,IAC1BuC,IAAWU,GAAOV,GAAQ,QAAS,CAAA,GAAKI,IACxCF,IAAOQ,GAAO,IAAIR,EAAG,GAAKrC,IAC1B9B,IAAW2E,GAAO,IAAI3E,EAAO,GAAKgC,MACrC2C,GAAS,SAAShR,EAAO,CACvB,IAAI1B,EAAS0M,GAAWhL,CAAK,EACzB2M,EAAOrO,GAAU2P,GAAYjO,EAAM,YAAc,OACjDiR,EAAatE,EAAOjB,GAASiB,CAAI,EAAI,GAEzC,GAAIsE,EACF,OAAQA,EAAU,CAChB,KAAKN,GAAoB,OAAOpC,GAChC,KAAKqC,GAAe,OAAO7C,GAC3B,KAAK8C,GAAmB,OAAOH,GAC/B,KAAKI,GAAe,OAAO3C,GAC3B,KAAK4C,GAAmB,OAAO1C,EAChC,CAEH,OAAO/P,CACX,GAGA,MAAA4S,GAAeF,GC/Cf,IAAIjD,GAAS,eACTI,GAAS,eAGTtC,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAmCjC,SAASsF,GAAQnR,EAAO,CACtB,GAAIA,GAAS,KACX,MAAO,GAET,GAAIyM,GAAYzM,CAAK,IAChBoR,GAAQpR,CAAK,GAAK,OAAOA,GAAS,UAAY,OAAOA,EAAM,QAAU,YACpEyN,GAASzN,CAAK,GAAK0P,GAAa1P,CAAK,GAAKiN,GAAYjN,CAAK,GAC/D,MAAO,CAACA,EAAM,OAEhB,IAAI+K,EAAMiG,GAAOhR,CAAK,EACtB,GAAI+K,GAAOgD,IAAUhD,GAAOoD,GAC1B,MAAO,CAACnO,EAAM,KAEhB,GAAI0M,GAAY1M,CAAK,EACnB,MAAO,CAACiQ,GAASjQ,CAAK,EAAE,OAE1B,QAASJ,KAAOI,EACd,GAAI8L,GAAe,KAAK9L,EAAOJ,CAAG,EAChC,MAAO,GAGX,MAAO,EACT,CCvEA,IAAIyR,GAAe,SAAsBvV,EAAGC,EAAG,CAC7C,OAAID,IAAM,SACRA,EAAI,CAAA,GAGFC,IAAM,SACRA,EAAI,CAAA,GAGCD,EAAE,SAAWC,EAAE,QAAUD,EAAE,KAAK,SAAUwV,EAAM3R,EAAO,CAC5D,MAAO,CAAC,OAAO,GAAG2R,EAAMvV,EAAE4D,CAAK,CAAC,CACpC,CAAG,CACH,EAEI4R,GAAe,CACjB,MAAO,IACT,EAEIC,GAA6B,SAAUC,EAAkB,CAC3DC,GAAeF,EAAeC,CAAgB,EAE9C,SAASD,GAAgB,CAGvB,QAFIvQ,EAEK0Q,EAAO,UAAU,OAAQC,EAAQ,IAAI,MAAMD,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAChFD,EAAMC,CAAI,EAAI,UAAUA,CAAI,EAG9B,OAAA5Q,EAAQwQ,EAAiB,KAAK,MAAMA,EAAkB,CAAC,IAAI,EAAE,OAAOG,CAAK,CAAC,GAAK,KAC/E3Q,EAAM,MAAQsQ,GAEdtQ,EAAM,mBAAqB,UAAY,CAGrC,QAFI6Q,EAEKC,EAAQ,UAAU,OAAQC,EAAO,IAAI,MAAMD,CAAK,EAAGE,EAAQ,EAAGA,EAAQF,EAAOE,IACpFD,EAAKC,CAAK,EAAI,UAAUA,CAAK,EAG/BhR,EAAM,MAAM,SAAW,OAAiB6Q,EAAc7Q,EAAM,OAAO,QAAQ,MAAM6Q,EAAaE,CAAI,EAElG/Q,EAAM,MAAK,CACjB,EAEWA,CACR,CAEDuQ,EAAc,yBAA2B,SAAkCU,EAAO,CAChF,MAAO,CACL,MAAOA,CACb,CACA,EAEE,IAAIC,EAASX,EAAc,UAE3B,OAAAW,EAAO,MAAQ,UAAiB,CAC9B,KAAK,SAASZ,EAAY,CAC9B,EAEEY,EAAO,kBAAoB,SAA2BD,EAAOE,EAAM,CACjE,IAAIC,EAAqBC,GAExBD,GAAuBC,EAAe,KAAK,OAAO,UAAY,MAAgBD,EAAoB,KAAKC,EAAcJ,EAAOE,CAAI,CACrI,EAEED,EAAO,mBAAqB,SAA4BI,EAAWC,EAAW,CAC5E,IAAIN,EAAQ,KAAK,MAAM,MACnBO,EAAY,KAAK,MAAM,UAO3B,GAAIP,IAAU,MAAQM,EAAU,QAAU,MAAQnB,GAAakB,EAAU,UAAWE,CAAS,EAAG,CAC9F,IAAIC,EAAuBC,GAE1BD,GAAyBC,EAAe,KAAK,OAAO,oBAAsB,MAAgBD,EAAsB,KAAKC,EAAcJ,EAAU,UAAWE,CAAS,EAClK,KAAK,MAAK,CACX,CACL,EAEEN,EAAO,OAAS,UAAkB,CAChC,IAAID,EAAQ,KAAK,MAAM,MACnBU,EAAe,KAAK,MACpBC,EAAiBD,EAAa,eAC9BE,EAAoBF,EAAa,kBACjCG,EAAWH,EAAa,SAE5B,GAAIV,IAAU,KAAM,CAClB,IAAIc,EAAS,CACX,MAAOd,EACP,mBAAoB,KAAK,kBACjC,EAEM,GAAkBe,EAAAA,eAAqBF,CAAQ,EAC7C,OAAOA,EACF,GAAI,OAAOF,GAAmB,WACnC,OAAOA,EAAeG,CAAM,EACvB,GAAIF,EACT,OAAoBI,EAAmB,cAACJ,EAAmBE,CAAM,EAEjE,MAAM,IAAI,MAAM,4FAA4F,CAE/G,CAED,OAAO,KAAK,MAAM,QACtB,EAESxB,CACT,EAAE2B,EAAe,SAAA,EAajB,SAASC,GAAgBC,EAAY,CACnC,IAAIC,EAAkBC,EAAc,SAAC,IAAI,EACrCrB,EAAQoB,EAAgB,CAAC,EACzBE,EAAWF,EAAgB,CAAC,EAEhC,GAAID,GAAc,KAAM,MAAMA,EAC9B,GAAInB,GAAS,KAAM,MAAMA,EACzB,OAAOsB,CACT,CC1HO,MAAMC,WAA2B,KAAM,CAS5C,YACEC,EACAC,EACAC,EACAC,EACA,CACA,MAAMF,CAAM,EAdPG,GAAA,eACAA,GAAA,eACAA,GAAA,sBAIAA,GAAA,YASL,KAAK,OAASJ,EACd,KAAK,OAASC,EACd,KAAK,IAAMC,EACX,KAAK,cAAgBC,EAEd,OAAA,eAAe,KAAM,WAAW,SAAS,CAClD,CACF,CClCU,IAACE,GAA4B,UAAY,CACjD,SAASA,GAAe,CACtB,KAAK,UAAY,EAClB,CAED,IAAI5B,EAAS4B,EAAa,UAE1B,OAAA5B,EAAO,UAAY,SAAmB6B,EAAU,CAC9C,IAAI/S,EAAQ,KAERO,EAAWwS,GAAY,UAAY,CAE3C,EAEI,YAAK,UAAU,KAAKxS,CAAQ,EAC5B,KAAK,YAAW,EACT,UAAY,CACjBP,EAAM,UAAYA,EAAM,UAAU,OAAO,SAAUrF,EAAG,CACpD,OAAOA,IAAM4F,CACrB,CAAO,EAEDP,EAAM,cAAa,CACzB,CACA,EAEEkR,EAAO,aAAe,UAAwB,CAC5C,OAAO,KAAK,UAAU,OAAS,CACnC,EAEEA,EAAO,YAAc,UAAuB,CAC9C,EAEEA,EAAO,cAAgB,UAAyB,CAClD,EAES4B,CACT,EAAC,ECjCUE,GAAW,OAAO,OAAW,IACjC,SAASC,IAAO,CAEvB,CACO,SAASC,GAAiBC,EAASC,EAAO,CAC/C,OAAO,OAAOD,GAAY,WAAaA,EAAQC,CAAK,EAAID,CAC1D,CACO,SAASE,GAAetU,EAAO,CACpC,OAAO,OAAOA,GAAU,UAAYA,GAAS,GAAKA,IAAU,GAC9D,CACO,SAASuU,GAAoBvU,EAAO,CACzC,OAAO,MAAM,QAAQA,CAAK,EAAIA,EAAQ,CAACA,CAAK,CAC9C,CACO,SAASwU,GAAWC,EAAQC,EAAQ,CACzC,OAAOD,EAAO,OAAO,SAAU7Y,EAAG,CAChC,OAAO8Y,EAAO,QAAQ9Y,CAAC,IAAM,EACjC,CAAG,CACH,CACO,SAAS+Y,GAAUC,EAAOjV,EAAOK,EAAO,CAC7C,IAAI6U,EAAOD,EAAM,MAAM,CAAC,EACxB,OAAAC,EAAKlV,CAAK,EAAIK,EACP6U,CACT,CACO,SAASC,GAAeC,EAAWC,EAAW,CACnD,OAAO,KAAK,IAAID,GAAaC,GAAa,GAAK,KAAK,MAAO,CAAC,CAC9D,CACO,SAASC,GAAeC,EAAMC,EAAMC,EAAM,CAC/C,OAAKC,GAAWH,CAAI,EAIhB,OAAOC,GAAS,WACXtS,EAAS,CAAE,EAAEuS,EAAM,CACxB,SAAUF,EACV,QAASC,CACf,CAAK,EAGItS,EAAS,CAAE,EAAEsS,EAAM,CACxB,SAAUD,CACd,CAAG,EAZQA,CAaX,CACO,SAASI,GAAkBJ,EAAMC,EAAMC,EAAM,CAClD,OAAIC,GAAWH,CAAI,EACb,OAAOC,GAAS,WACXtS,EAAS,CAAE,EAAEuS,EAAM,CACxB,YAAaF,EACb,WAAYC,CACpB,CAAO,EAGItS,EAAS,CAAE,EAAEsS,EAAM,CACxB,YAAaD,CACnB,CAAK,EAGC,OAAOA,GAAS,WACXrS,EAAS,CAAE,EAAEsS,EAAM,CACxB,WAAYD,CAClB,CAAK,EAGIrS,EAAS,GAAIqS,CAAI,CAC1B,CACO,SAASK,GAAgBL,EAAMC,EAAMC,EAAM,CAChD,OAAOC,GAAWH,CAAI,EAAI,CAACrS,EAAS,CAAA,EAAIsS,EAAM,CAC5C,SAAUD,CACd,CAAG,EAAGE,CAAI,EAAI,CAACF,GAAQ,CAAE,EAAEC,CAAI,CAC/B,CAMO,SAASK,GAAqBC,EAAQC,EAAU,CACrD,GAAID,IAAW,IAAQC,IAAa,IAAQD,GAAU,MAAQC,GAAY,KACxE,MAAO,MACF,GAAID,IAAW,IAASC,IAAa,GAC1C,MAAO,OAIP,IAAIC,EAAWF,GAA0B,CAACC,EAC1C,OAAOC,EAAW,SAAW,UAEjC,CACO,SAASC,GAAWC,EAASC,EAAO,CACzC,IAAIL,EAASI,EAAQ,OACjBE,EAAQF,EAAQ,MAChBG,EAAWH,EAAQ,SACnBH,EAAWG,EAAQ,SACnBI,EAAYJ,EAAQ,UACpBK,EAAWL,EAAQ,SACnBM,EAAQN,EAAQ,MAEpB,GAAIR,GAAWa,CAAQ,GACrB,GAAIH,GACF,GAAID,EAAM,YAAcM,GAAsBF,EAAUJ,EAAM,OAAO,EACnE,MAAO,WAEA,CAACO,GAAgBP,EAAM,SAAUI,CAAQ,EAClD,MAAO,GAIX,IAAII,EAAoBd,GAAqBC,EAAQC,CAAQ,EAE7D,GAAIY,IAAsB,OACxB,MAAO,GACF,GAAIA,IAAsB,MAAO,CACtC,IAAIX,EAAWG,EAAM,WAMrB,GAJIQ,IAAsB,UAAY,CAACX,GAInCW,IAAsB,YAAcX,EACtC,MAAO,EAEV,CAUD,MARI,SAAOQ,GAAU,WAAaL,EAAM,QAAO,IAAOK,GAIlD,OAAOH,GAAa,WAAaF,EAAM,WAAU,IAAOE,GAIxDC,GAAa,CAACA,EAAUH,CAAK,EAKnC,CACO,SAASS,GAAcV,EAASW,EAAU,CAC/C,IAAIT,EAAQF,EAAQ,MAChBG,EAAWH,EAAQ,SACnBI,EAAYJ,EAAQ,UACpBY,EAAcZ,EAAQ,YAE1B,GAAIR,GAAWoB,CAAW,EAAG,CAC3B,GAAI,CAACD,EAAS,QAAQ,YACpB,MAAO,GAGT,GAAIT,GACF,GAAIW,GAAaF,EAAS,QAAQ,WAAW,IAAME,GAAaD,CAAW,EACzE,MAAO,WAEA,CAACJ,GAAgBG,EAAS,QAAQ,YAAaC,CAAW,EACnE,MAAO,EAEV,CAMD,MAJI,SAAOT,GAAa,WAAaQ,EAAS,MAAM,SAAW,YAAcR,GAIzEC,GAAa,CAACA,EAAUO,CAAQ,EAKtC,CACO,SAASJ,GAAsBF,EAAU7W,EAAS,CACvD,IAAIsX,GAAUtX,GAAW,KAAO,OAASA,EAAQ,iBAAmBqX,GACpE,OAAOC,EAAOT,CAAQ,CACxB,CAKO,SAASQ,GAAaR,EAAU,CACrC,IAAIU,EAAUrC,GAAoB2B,CAAQ,EAC1C,OAAOW,GAAgBD,CAAO,CAChC,CAKO,SAASC,GAAgB7W,EAAO,CACrC,OAAO,KAAK,UAAUA,EAAO,SAAU8W,EAAG3Z,EAAK,CAC7C,OAAO4Z,GAAc5Z,CAAG,EAAI,OAAO,KAAKA,CAAG,EAAE,OAAO,OAAO,SAAUmB,EAAQsB,EAAK,CAChF,OAAAtB,EAAOsB,CAAG,EAAIzC,EAAIyC,CAAG,EACdtB,CACb,EAAO,CAAA,CAAE,EAAInB,CACb,CAAG,CACH,CAKO,SAASkZ,GAAgBva,EAAGC,EAAG,CACpC,OAAOib,GAAiBzC,GAAoBzY,CAAC,EAAGyY,GAAoBxY,CAAC,CAAC,CACxE,CAKO,SAASib,GAAiBlb,EAAGC,EAAG,CACrC,OAAID,IAAMC,EACD,GAGL,OAAOD,GAAM,OAAOC,EACf,GAGLD,GAAKC,GAAK,OAAOD,GAAM,UAAY,OAAOC,GAAM,SAC3C,CAAC,OAAO,KAAKA,CAAC,EAAE,KAAK,SAAU6D,EAAK,CACzC,MAAO,CAACoX,GAAiBlb,EAAE8D,CAAG,EAAG7D,EAAE6D,CAAG,CAAC,CAC7C,CAAK,EAGI,EACT,CAOO,SAASqX,GAAiBnb,EAAGC,EAAG,CACrC,GAAID,IAAMC,EACR,OAAOD,EAGT,IAAI8Y,EAAQ,MAAM,QAAQ9Y,CAAC,GAAK,MAAM,QAAQC,CAAC,EAE/C,GAAI6Y,GAASmC,GAAcjb,CAAC,GAAKib,GAAchb,CAAC,EAAG,CAOjD,QANImb,EAAQtC,EAAQ9Y,EAAE,OAAS,OAAO,KAAKA,CAAC,EAAE,OAC1Cqb,EAASvC,EAAQ7Y,EAAI,OAAO,KAAKA,CAAC,EAClCqb,EAAQD,EAAO,OACftC,EAAOD,EAAQ,CAAE,EAAG,GACpByC,EAAa,EAERjb,EAAI,EAAGA,EAAIgb,EAAOhb,IAAK,CAC9B,IAAIwD,EAAMgV,EAAQxY,EAAI+a,EAAO/a,CAAC,EAC9ByY,EAAKjV,CAAG,EAAIqX,GAAiBnb,EAAE8D,CAAG,EAAG7D,EAAE6D,CAAG,CAAC,EAEvCiV,EAAKjV,CAAG,IAAM9D,EAAE8D,CAAG,GACrByX,GAEH,CAED,OAAOH,IAAUE,GAASC,IAAeH,EAAQpb,EAAI+Y,CACtD,CAED,OAAO9Y,CACT,CAKO,SAASub,GAAoBxb,EAAGC,EAAG,CACxC,GAAID,GAAK,CAACC,GAAKA,GAAK,CAACD,EACnB,MAAO,GAGT,QAAS8D,KAAO9D,EACd,GAAIA,EAAE8D,CAAG,IAAM7D,EAAE6D,CAAG,EAClB,MAAO,GAIX,MAAO,EACT,CAEO,SAASmX,GAAcQ,EAAG,CAC/B,GAAI,CAACC,GAAmBD,CAAC,EACvB,MAAO,GAIT,IAAIE,EAAOF,EAAE,YAEb,GAAI,OAAOE,EAAS,IAClB,MAAO,GAIT,IAAIC,EAAOD,EAAK,UAOhB,MALI,GAACD,GAAmBE,CAAI,GAKxB,CAACA,EAAK,eAAe,eAAe,EAM1C,CAEA,SAASF,GAAmBD,EAAG,CAC7B,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAC,IAAM,iBAC/C,CAEO,SAASlC,GAAWrV,EAAO,CAChC,OAAO,OAAOA,GAAU,UAAY,MAAM,QAAQA,CAAK,CACzD,CAIO,SAAS2X,GAAMnR,EAAS,CAC7B,OAAO,IAAI,QAAQ,SAAUoR,EAAS,CACpC,WAAWA,EAASpR,CAAO,CAC/B,CAAG,CACH,CAMO,SAASqR,GAAkBrW,EAAU,CAC1C,QAAQ,QAAO,EAAG,KAAKA,CAAQ,EAAE,MAAM,SAAU0Q,EAAO,CACtD,OAAO,WAAW,UAAY,CAC5B,MAAMA,CACZ,CAAK,CACL,CAAG,CACH,CACO,SAAS4F,IAAqB,CACnC,GAAI,OAAO,iBAAoB,WAC7B,OAAO,IAAI,eAEf,CCxUO,IAAIC,GAA4B,SAAUC,EAAe,CAC9DtG,GAAeqG,EAAcC,CAAa,EAE1C,SAASD,GAAe,CACtB,IAAI9W,EAEJ,OAAAA,EAAQ+W,EAAc,KAAK,IAAI,GAAK,KAEpC/W,EAAM,MAAQ,SAAUgX,EAAS,CAC/B,IAAIC,EAEJ,GAAI,CAACjE,MAAciE,EAAU,SAAW,MAAgBA,EAAQ,kBAAmB,CACjF,IAAIlE,EAAW,UAAoB,CACjC,OAAOiE,EAAO,CACxB,EAGQ,cAAO,iBAAiB,mBAAoBjE,EAAU,EAAK,EAC3D,OAAO,iBAAiB,QAASA,EAAU,EAAK,EACzC,UAAY,CAEjB,OAAO,oBAAoB,mBAAoBA,CAAQ,EACvD,OAAO,oBAAoB,QAASA,CAAQ,CACtD,CACO,CACP,EAEW/S,CACR,CAED,IAAIkR,EAAS4F,EAAa,UAE1B,OAAA5F,EAAO,YAAc,UAAuB,CACrC,KAAK,SACR,KAAK,iBAAiB,KAAK,KAAK,CAEtC,EAEEA,EAAO,cAAgB,UAAyB,CAC9C,GAAI,CAAC,KAAK,eAAgB,CACxB,IAAIgG,GAEHA,EAAgB,KAAK,UAAY,MAAgBA,EAAc,KAAK,IAAI,EACzE,KAAK,QAAU,MAChB,CACL,EAEEhG,EAAO,iBAAmB,SAA0BiG,EAAO,CACzD,IAAIC,EACAC,EAAS,KAEb,KAAK,MAAQF,GACZC,EAAiB,KAAK,UAAY,MAAgBA,EAAe,KAAK,IAAI,EAC3E,KAAK,QAAUD,EAAM,SAAUG,EAAS,CAClC,OAAOA,GAAY,UACrBD,EAAO,WAAWC,CAAO,EAEzBD,EAAO,QAAO,CAEtB,CAAK,CACL,EAEEnG,EAAO,WAAa,SAAoBoG,EAAS,CAC/C,KAAK,QAAUA,EAEXA,GACF,KAAK,QAAO,CAElB,EAEEpG,EAAO,QAAU,UAAmB,CAClC,KAAK,UAAU,QAAQ,SAAU6B,EAAU,CACzCA,GACN,CAAK,CACL,EAEE7B,EAAO,UAAY,UAAqB,CACtC,OAAI,OAAO,KAAK,SAAY,UACnB,KAAK,QAIV,OAAO,SAAa,IACf,GAGF,CAAC,OAAW,UAAW,WAAW,EAAE,SAAS,SAAS,eAAe,CAChF,EAES4F,CACT,EAAEhE,EAAY,EACHyE,GAAe,IAAIT,GC3FnBU,GAA6B,SAAUT,EAAe,CAC/DtG,GAAe+G,EAAeT,CAAa,EAE3C,SAASS,GAAgB,CACvB,IAAIxX,EAEJ,OAAAA,EAAQ+W,EAAc,KAAK,IAAI,GAAK,KAEpC/W,EAAM,MAAQ,SAAUyX,EAAU,CAChC,IAAIR,EAEJ,GAAI,CAACjE,MAAciE,EAAU,SAAW,MAAgBA,EAAQ,kBAAmB,CACjF,IAAIlE,EAAW,UAAoB,CACjC,OAAO0E,EAAQ,CACzB,EAGQ,cAAO,iBAAiB,SAAU1E,EAAU,EAAK,EACjD,OAAO,iBAAiB,UAAWA,EAAU,EAAK,EAC3C,UAAY,CAEjB,OAAO,oBAAoB,SAAUA,CAAQ,EAC7C,OAAO,oBAAoB,UAAWA,CAAQ,CACxD,CACO,CACP,EAEW/S,CACR,CAED,IAAIkR,EAASsG,EAAc,UAE3B,OAAAtG,EAAO,YAAc,UAAuB,CACrC,KAAK,SACR,KAAK,iBAAiB,KAAK,KAAK,CAEtC,EAEEA,EAAO,cAAgB,UAAyB,CAC9C,GAAI,CAAC,KAAK,eAAgB,CACxB,IAAIgG,GAEHA,EAAgB,KAAK,UAAY,MAAgBA,EAAc,KAAK,IAAI,EACzE,KAAK,QAAU,MAChB,CACL,EAEEhG,EAAO,iBAAmB,SAA0BiG,EAAO,CACzD,IAAIC,EACAC,EAAS,KAEb,KAAK,MAAQF,GACZC,EAAiB,KAAK,UAAY,MAAgBA,EAAe,KAAK,IAAI,EAC3E,KAAK,QAAUD,EAAM,SAAUO,EAAQ,CACjC,OAAOA,GAAW,UACpBL,EAAO,UAAUK,CAAM,EAEvBL,EAAO,SAAQ,CAEvB,CAAK,CACL,EAEEnG,EAAO,UAAY,SAAmBwG,EAAQ,CAC5C,KAAK,OAASA,EAEVA,GACF,KAAK,SAAQ,CAEnB,EAEExG,EAAO,SAAW,UAAoB,CACpC,KAAK,UAAU,QAAQ,SAAU6B,EAAU,CACzCA,GACN,CAAK,CACL,EAEE7B,EAAO,SAAW,UAAoB,CACpC,OAAI,OAAO,KAAK,QAAW,UAClB,KAAK,OAGV,OAAO,UAAc,KAAe,OAAO,UAAU,OAAW,IAC3D,GAGF,UAAU,MACrB,EAESsG,CACT,EAAE1E,EAAY,EACH6E,GAAgB,IAAIH,GCzF/B,SAASI,GAAkBC,EAAc,CACvC,OAAO,KAAK,IAAI,IAAO,KAAK,IAAI,EAAGA,CAAY,EAAG,GAAK,CACzD,CAEO,SAASC,GAAa/Y,EAAO,CAClC,OAAO,OAAQA,GAAS,KAAO,OAASA,EAAM,SAAY,UAC5D,CACO,IAAIgZ,GAAiB,SAAwB3Z,EAAS,CAC3D,KAAK,OAASA,GAAW,KAAO,OAASA,EAAQ,OACjD,KAAK,OAASA,GAAW,KAAO,OAASA,EAAQ,MACnD,EACO,SAAS4Z,GAAiBjZ,EAAO,CACtC,OAAOA,aAAiBgZ,EAC1B,CAEO,IAAIE,GAAU,SAAiBC,EAAQ,CAC5C,IAAIlY,EAAQ,KAERmY,EAAc,GACdC,EACAC,EACAC,EACAC,EACJ,KAAK,MAAQL,EAAO,MAEpB,KAAK,OAAS,SAAUM,EAAe,CACrC,OAAOJ,GAAY,KAAO,OAASA,EAASI,CAAa,CAC7D,EAEE,KAAK,YAAc,UAAY,CAC7BL,EAAc,EAClB,EAEE,KAAK,cAAgB,UAAY,CAC/BA,EAAc,EAClB,EAEE,KAAK,SAAW,UAAY,CAC1B,OAAOE,GAAc,KAAO,OAASA,EAAU,CACnD,EAEE,KAAK,aAAe,EACpB,KAAK,SAAW,GAChB,KAAK,WAAa,GAClB,KAAK,sBAAwB,GAC7B,KAAK,QAAU,IAAI,QAAQ,SAAUI,EAAcC,EAAa,CAC9DJ,EAAiBG,EACjBF,EAAgBG,CACpB,CAAG,EAED,IAAI/B,EAAU,SAAiB5X,EAAO,CAC/BiB,EAAM,aACTA,EAAM,WAAa,GACnBkY,EAAO,WAAa,MAAgBA,EAAO,UAAUnZ,CAAK,EAC1DsZ,GAAc,MAAgBA,EAAU,EACxCC,EAAevZ,CAAK,EAE1B,EAEM4Z,EAAS,SAAgB5Z,EAAO,CAC7BiB,EAAM,aACTA,EAAM,WAAa,GACnBkY,EAAO,SAAW,MAAgBA,EAAO,QAAQnZ,CAAK,EACtDsZ,GAAc,MAAgBA,EAAU,EACxCE,EAAcxZ,CAAK,EAEzB,EAEM6Z,EAAQ,UAAiB,CAC3B,OAAO,IAAI,QAAQ,SAAUC,EAAiB,CAC5CR,EAAaQ,EACb7Y,EAAM,SAAW,GACjBkY,EAAO,SAAW,MAAgBA,EAAO,SAC/C,CAAK,EAAE,KAAK,UAAY,CAClBG,EAAa,OACbrY,EAAM,SAAW,GACjBkY,EAAO,YAAc,MAAgBA,EAAO,YAClD,CAAK,CACL,EAGMY,EAAM,SAASA,GAAM,CAEvB,GAAI,CAAA9Y,EAAM,WAIV,KAAI+Y,EAEJ,GAAI,CACFA,EAAiBb,EAAO,IACzB,OAAQjH,EAAO,CACd8H,EAAiB,QAAQ,OAAO9H,CAAK,CACtC,CAGDmH,EAAW,SAAkBI,EAAe,CAC1C,GAAI,CAACxY,EAAM,aACT2Y,EAAO,IAAIZ,GAAeS,CAAa,CAAC,EACxCxY,EAAM,OAAS,MAAgBA,EAAM,QAEjC8X,GAAaiB,CAAc,GAC7B,GAAI,CACFA,EAAe,OAAM,CACjC,MAA4B,CAAE,CAG9B,EAGI/Y,EAAM,sBAAwB8X,GAAaiB,CAAc,EACzD,QAAQ,QAAQA,CAAc,EAAE,KAAKpC,CAAO,EAAE,MAAM,SAAU1F,EAAO,CACnE,IAAI+H,EAAeC,EAGnB,GAAI,CAAAjZ,EAAM,WAKV,KAAIkZ,GAASF,EAAgBd,EAAO,QAAU,KAAOc,EAAgB,EACjEG,GAAcF,EAAqBf,EAAO,aAAe,KAAOe,EAAqBrB,GACrFwB,EAAQ,OAAOD,GAAe,WAAaA,EAAWnZ,EAAM,aAAciR,CAAK,EAAIkI,EACnFE,EAAcH,IAAU,IAAQ,OAAOA,GAAU,UAAYlZ,EAAM,aAAekZ,GAAS,OAAOA,GAAU,YAAcA,EAAMlZ,EAAM,aAAciR,CAAK,EAE7J,GAAIkH,GAAe,CAACkB,EAAa,CAE/BV,EAAO1H,CAAK,EACZ,MACD,CAEDjR,EAAM,eAENkY,EAAO,QAAU,MAAgBA,EAAO,OAAOlY,EAAM,aAAciR,CAAK,EAExEyF,GAAM0C,CAAK,EACV,KAAK,UAAY,CAChB,GAAI,CAAC7B,GAAa,UAAS,GAAM,CAACI,GAAc,SAAQ,EACtD,OAAOiB,EAAK,CAEtB,CAAO,EAAE,KAAK,UAAY,CACdT,EACFQ,EAAO1H,CAAK,EAEZ6H,GAEV,CAAO,EACP,CAAK,EACL,EAGEA,GACF,ECzJWQ,GAA6B,UAAY,CAClD,SAASA,GAAgB,CACvB,KAAK,MAAQ,GACb,KAAK,aAAe,EAEpB,KAAK,SAAW,SAAU/Y,EAAU,CAClCA,GACN,EAEI,KAAK,cAAgB,SAAUA,EAAU,CACvCA,GACN,CACG,CAED,IAAI2Q,EAASoI,EAAc,UAE3B,OAAApI,EAAO,MAAQ,SAAe3Q,EAAU,CACtC,IAAIlD,EACJ,KAAK,eAEL,GAAI,CACFA,EAASkD,EAAQ,CACvB,QAAc,CACR,KAAK,eAEA,KAAK,cACR,KAAK,MAAK,CAEb,CAED,OAAOlD,CACX,EAEE6T,EAAO,SAAW,SAAkB3Q,EAAU,CAC5C,IAAIP,EAAQ,KAER,KAAK,aACP,KAAK,MAAM,KAAKO,CAAQ,EAExBqW,GAAkB,UAAY,CAC5B5W,EAAM,SAASO,CAAQ,CAC/B,CAAO,CAEJ,EAMD2Q,EAAO,WAAa,SAAoB3Q,EAAU,CAChD,IAAI8W,EAAS,KAEb,OAAO,UAAY,CACjB,QAAS3G,EAAO,UAAU,OAAQK,EAAO,IAAI,MAAML,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAC/EG,EAAKH,CAAI,EAAI,UAAUA,CAAI,EAG7ByG,EAAO,SAAS,UAAY,CAC1B9W,EAAS,MAAM,OAAQwQ,CAAI,CACnC,CAAO,CACP,CACA,EAEEG,EAAO,MAAQ,UAAiB,CAC9B,IAAIqI,EAAS,KAETC,EAAQ,KAAK,MACjB,KAAK,MAAQ,GAETA,EAAM,QACR5C,GAAkB,UAAY,CAC5B2C,EAAO,cAAc,UAAY,CAC/BC,EAAM,QAAQ,SAAUjZ,EAAU,CAChCgZ,EAAO,SAAShZ,CAAQ,CACpC,CAAW,CACX,CAAS,CACT,CAAO,CAEJ,EAOD2Q,EAAO,kBAAoB,SAA2BuI,EAAI,CACxD,KAAK,SAAWA,CACjB,EAODvI,EAAO,uBAAyB,SAAgCuI,EAAI,CAClE,KAAK,cAAgBA,CACzB,EAESH,CACT,IAEWI,GAAgB,IAAIJ,GCtG3BK,GAAS,QACN,SAASC,IAAY,CAC1B,OAAOD,EACT,CACO,SAASE,GAAUC,EAAW,CACnCH,GAASG,CACX,CCDO,IAAIC,GAAqB,UAAY,CAC1C,SAASA,EAAM7B,EAAQ,CACrB,KAAK,oBAAsB,GAC3B,KAAK,aAAe,GACpB,KAAK,eAAiBA,EAAO,eAC7B,KAAK,WAAWA,EAAO,OAAO,EAC9B,KAAK,UAAY,GACjB,KAAK,MAAQA,EAAO,MACpB,KAAK,SAAWA,EAAO,SACvB,KAAK,UAAYA,EAAO,UACxB,KAAK,aAAeA,EAAO,OAAS,KAAK,gBAAgB,KAAK,OAAO,EACrE,KAAK,MAAQ,KAAK,aAClB,KAAK,KAAOA,EAAO,KACnB,KAAK,WAAU,CAChB,CAED,IAAIhH,EAAS6I,EAAM,UAEnB,OAAA7I,EAAO,WAAa,SAAoB9S,EAAS,CAC/C,IAAI4b,EAEJ,KAAK,QAAUpY,EAAS,CAAA,EAAI,KAAK,eAAgBxD,CAAO,EACxD,KAAK,KAAOA,GAAW,KAAO,OAASA,EAAQ,KAE/C,KAAK,UAAY,KAAK,IAAI,KAAK,WAAa,GAAI4b,EAAwB,KAAK,QAAQ,YAAc,KAAOA,EAAwB,EAAI,GAAK,GAAI,CACnJ,EAEE9I,EAAO,kBAAoB,SAA2B9S,EAAS,CAC7D,KAAK,eAAiBA,CAC1B,EAEE8S,EAAO,WAAa,UAAsB,CACxC,IAAIlR,EAAQ,KAEZ,KAAK,eAAc,EAEfqT,GAAe,KAAK,SAAS,IAC/B,KAAK,UAAY,WAAW,UAAY,CACtCrT,EAAM,eAAc,CAC5B,EAAS,KAAK,SAAS,EAEvB,EAEEkR,EAAO,eAAiB,UAA0B,CAC5C,KAAK,YACP,aAAa,KAAK,SAAS,EAC3B,KAAK,UAAY,OAEvB,EAEEA,EAAO,eAAiB,UAA0B,CAC3C,KAAK,UAAU,SACd,KAAK,MAAM,WACT,KAAK,cACP,KAAK,WAAU,EAGjB,KAAK,MAAM,OAAO,IAAI,EAG9B,EAEEA,EAAO,QAAU,SAAiBiC,EAAS/U,EAAS,CAClD,IAAI6b,EAAuBC,EAEvBC,EAAW,KAAK,MAAM,KAEtBC,EAAOlH,GAAiBC,EAASgH,CAAQ,EAE7C,OAAKF,GAAyBC,EAAgB,KAAK,SAAS,cAAgB,MAAgBD,EAAsB,KAAKC,EAAeC,EAAUC,CAAI,EAClJA,EAAOD,EACE,KAAK,QAAQ,oBAAsB,KAE5CC,EAAOpE,GAAiBmE,EAAUC,CAAI,GAIxC,KAAK,SAAS,CACZ,KAAMA,EACN,KAAM,UACN,cAAehc,GAAW,KAAO,OAASA,EAAQ,SACxD,CAAK,EACMgc,CACX,EAEElJ,EAAO,SAAW,SAAkB3V,EAAO8e,EAAiB,CAC1D,KAAK,SAAS,CACZ,KAAM,WACN,MAAO9e,EACP,gBAAiB8e,CACvB,CAAK,CACL,EAEEnJ,EAAO,OAAS,SAAgB9S,EAAS,CACvC,IAAIkc,EAEAC,EAAU,KAAK,QACnB,OAACD,EAAgB,KAAK,UAAY,MAAgBA,EAAc,OAAOlc,CAAO,EACvEmc,EAAUA,EAAQ,KAAKtH,EAAI,EAAE,MAAMA,EAAI,EAAI,QAAQ,SAC9D,EAEE/B,EAAO,QAAU,UAAmB,CAClC,KAAK,eAAc,EACnB,KAAK,OAAO,CACV,OAAQ,EACd,CAAK,CACL,EAEEA,EAAO,MAAQ,UAAiB,CAC9B,KAAK,QAAO,EACZ,KAAK,SAAS,KAAK,YAAY,CACnC,EAEEA,EAAO,SAAW,UAAoB,CACpC,OAAO,KAAK,UAAU,KAAK,SAAUsJ,EAAU,CAC7C,OAAOA,EAAS,QAAQ,UAAY,EAC1C,CAAK,CACL,EAEEtJ,EAAO,WAAa,UAAsB,CACxC,OAAO,KAAK,MAAM,UACtB,EAEEA,EAAO,QAAU,UAAmB,CAClC,OAAO,KAAK,MAAM,eAAiB,CAAC,KAAK,MAAM,eAAiB,KAAK,UAAU,KAAK,SAAUsJ,EAAU,CACtG,OAAOA,EAAS,iBAAkB,EAAC,OACzC,CAAK,CACL,EAEEtJ,EAAO,cAAgB,SAAuB6C,EAAW,CACvD,OAAIA,IAAc,SAChBA,EAAY,GAGP,KAAK,MAAM,eAAiB,CAAC,KAAK,MAAM,eAAiB,CAACF,GAAe,KAAK,MAAM,cAAeE,CAAS,CACvH,EAEE7C,EAAO,QAAU,UAAmB,CAClC,IAAIuJ,EAEAD,EAAW,KAAK,UAAU,KAAK,SAAU7f,EAAG,CAC9C,OAAOA,EAAE,0BACf,CAAK,EAEG6f,GACFA,EAAS,QAAO,GAIjBC,EAAiB,KAAK,UAAY,MAAgBA,EAAe,UACtE,EAEEvJ,EAAO,SAAW,UAAoB,CACpC,IAAIwJ,EAEAF,EAAW,KAAK,UAAU,KAAK,SAAU7f,EAAG,CAC9C,OAAOA,EAAE,wBACf,CAAK,EAEG6f,GACFA,EAAS,QAAO,GAIjBE,EAAiB,KAAK,UAAY,MAAgBA,EAAe,UACtE,EAEExJ,EAAO,YAAc,SAAqBsJ,EAAU,CAC9C,KAAK,UAAU,QAAQA,CAAQ,IAAM,KACvC,KAAK,UAAU,KAAKA,CAAQ,EAC5B,KAAK,aAAe,GAEpB,KAAK,eAAc,EACnB,KAAK,MAAM,OAAO,CAChB,KAAM,gBACN,MAAO,KACP,SAAUA,CAClB,CAAO,EAEP,EAEEtJ,EAAO,eAAiB,SAAwBsJ,EAAU,CACpD,KAAK,UAAU,QAAQA,CAAQ,IAAM,KACvC,KAAK,UAAY,KAAK,UAAU,OAAO,SAAU7f,EAAG,CAClD,OAAOA,IAAM6f,CACrB,CAAO,EAEI,KAAK,UAAU,SAGd,KAAK,UACH,KAAK,QAAQ,uBAAyB,KAAK,oBAC7C,KAAK,QAAQ,OAAO,CAClB,OAAQ,EACtB,CAAa,EAED,KAAK,QAAQ,eAIb,KAAK,UACP,KAAK,WAAU,EAEf,KAAK,MAAM,OAAO,IAAI,GAI1B,KAAK,MAAM,OAAO,CAChB,KAAM,kBACN,MAAO,KACP,SAAUA,CAClB,CAAO,EAEP,EAEEtJ,EAAO,kBAAoB,UAA6B,CACtD,OAAO,KAAK,UAAU,MAC1B,EAEEA,EAAO,WAAa,UAAsB,CACnC,KAAK,MAAM,eACd,KAAK,SAAS,CACZ,KAAM,YACd,CAAO,CAEP,EAEEA,EAAO,MAAQ,SAAe9S,EAASuc,EAAc,CACnD,IAAItD,EAAS,KACTuD,EACAC,EACAC,EAEJ,GAAI,KAAK,MAAM,YACb,GAAI,KAAK,MAAM,gBAAkBH,GAAgB,MAAgBA,EAAa,eAE5E,KAAK,OAAO,CACV,OAAQ,EAClB,CAAS,UACQ,KAAK,QAAS,CACvB,IAAII,EAGJ,OAACA,EAAiB,KAAK,UAAY,MAAgBA,EAAe,gBAE3D,KAAK,OACb,EAUH,GANI3c,GACF,KAAK,WAAWA,CAAO,EAKrB,CAAC,KAAK,QAAQ,QAAS,CACzB,IAAIoc,EAAW,KAAK,UAAU,KAAK,SAAU7f,EAAG,CAC9C,OAAOA,EAAE,QAAQ,OACzB,CAAO,EAEG6f,GACF,KAAK,WAAWA,EAAS,OAAO,CAEnC,CAED,IAAIvF,EAAW3B,GAAoB,KAAK,QAAQ,EAC5C0H,EAAkBnE,KAElBoE,EAAiB,CACnB,SAAUhG,EACV,UAAW,OACX,KAAM,KAAK,IACjB,EACI,OAAO,eAAegG,EAAgB,SAAU,CAC9C,WAAY,GACZ,IAAK,UAAe,CAClB,GAAID,EACF,OAAA3D,EAAO,oBAAsB,GACtB2D,EAAgB,MAI1B,CACP,CAAK,EAED,IAAIE,EAAU,UAAmB,CAC/B,OAAK7D,EAAO,QAAQ,SAIpBA,EAAO,oBAAsB,GACtBA,EAAO,QAAQ,QAAQ4D,CAAc,GAJnC,QAAQ,OAAO,iBAAiB,CAK/C,EAGQE,EAAU,CACZ,aAAcR,EACd,QAAS,KAAK,QACd,SAAU1F,EACV,MAAO,KAAK,MACZ,QAASiG,EACT,KAAM,KAAK,IACjB,EAEI,IAAKN,EAAwB,KAAK,QAAQ,WAAa,MAAgBA,EAAsB,QAAS,CACpG,IAAIQ,GAEHA,EAAyB,KAAK,QAAQ,WAAa,MAAgBA,EAAuB,QAAQD,CAAO,CAC3G,CAKD,GAFA,KAAK,YAAc,KAAK,MAEpB,CAAC,KAAK,MAAM,YAAc,KAAK,MAAM,cAAgBN,EAAwBM,EAAQ,eAAiB,KAAO,OAASN,EAAsB,MAAO,CACrJ,IAAIQ,EAEJ,KAAK,SAAS,CACZ,KAAM,QACN,MAAOA,EAAyBF,EAAQ,eAAiB,KAAO,OAASE,EAAuB,IACxG,CAAO,CACF,CAGD,YAAK,QAAU,IAAIpD,GAAQ,CACzB,GAAIkD,EAAQ,QACZ,MAAOH,GAAmB,OAAiBF,EAAwBE,EAAgB,QAAU,KAA5D,OAA4EF,EAAsB,KAAKE,CAAe,EACvJ,UAAW,SAAmBZ,EAAM,CAClC/C,EAAO,QAAQ+C,CAAI,EAGnB/C,EAAO,MAAM,OAAO,WAAa,MAAgBA,EAAO,MAAM,OAAO,UAAU+C,EAAM/C,CAAM,EAEvFA,EAAO,YAAc,GACvBA,EAAO,eAAc,CAExB,EACD,QAAS,SAAiBpG,EAAO,CAEzB+G,GAAiB/G,CAAK,GAAKA,EAAM,QACrCoG,EAAO,SAAS,CACd,KAAM,QACN,MAAOpG,CACnB,CAAW,EAGE+G,GAAiB/G,CAAK,IAEzBoG,EAAO,MAAM,OAAO,SAAW,MAAgBA,EAAO,MAAM,OAAO,QAAQpG,EAAOoG,CAAM,EAExFuC,GAAW,EAAC,MAAM3I,CAAK,GAIrBoG,EAAO,YAAc,GACvBA,EAAO,eAAc,CAExB,EACD,OAAQ,UAAkB,CACxBA,EAAO,SAAS,CACd,KAAM,QAChB,CAAS,CACF,EACD,QAAS,UAAmB,CAC1BA,EAAO,SAAS,CACd,KAAM,OAChB,CAAS,CACF,EACD,WAAY,UAAsB,CAChCA,EAAO,SAAS,CACd,KAAM,UAChB,CAAS,CACF,EACD,MAAO8D,EAAQ,QAAQ,MACvB,WAAYA,EAAQ,QAAQ,UAClC,CAAK,EACD,KAAK,QAAU,KAAK,QAAQ,QACrB,KAAK,OAChB,EAEEjK,EAAO,SAAW,SAAkBoK,EAAQ,CAC1C,IAAI/B,EAAS,KAEb,KAAK,MAAQ,KAAK,QAAQ,KAAK,MAAO+B,CAAM,EAC5C5B,GAAc,MAAM,UAAY,CAC9BH,EAAO,UAAU,QAAQ,SAAUiB,EAAU,CAC3CA,EAAS,cAAcc,CAAM,CACrC,CAAO,EAED/B,EAAO,MAAM,OAAO,CAClB,MAAOA,EACP,KAAM,eACN,OAAQ+B,CAChB,CAAO,CACP,CAAK,CACL,EAEEpK,EAAO,gBAAkB,SAAyB9S,EAAS,CACzD,IAAIgc,EAAO,OAAOhc,EAAQ,aAAgB,WAAaA,EAAQ,YAAW,EAAKA,EAAQ,YACnFmd,EAAiB,OAAOnd,EAAQ,YAAgB,IAChDod,EAAuBD,EAAiB,OAAOnd,EAAQ,sBAAyB,WAAaA,EAAQ,qBAAsB,EAAGA,EAAQ,qBAAuB,EAC7Jqd,EAAU,OAAOrB,EAAS,IAC9B,MAAO,CACL,KAAMA,EACN,gBAAiB,EACjB,cAAeqB,EAAUD,GAAsD,KAAK,IAAG,EAAK,EAC5F,MAAO,KACP,iBAAkB,EAClB,eAAgB,EAChB,kBAAmB,EACnB,UAAW,KACX,WAAY,GACZ,cAAe,GACf,SAAU,GACV,OAAQC,EAAU,UAAY,MACpC,CACA,EAEEvK,EAAO,QAAU,SAAiB3V,EAAO+f,EAAQ,CAC/C,IAAII,EAAcC,EAElB,OAAQL,EAAO,KAAI,CACjB,IAAK,SACH,OAAO1Z,EAAS,CAAE,EAAErG,EAAO,CACzB,kBAAmBA,EAAM,kBAAoB,CACvD,CAAS,EAEH,IAAK,QACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,SAAU,EACpB,CAAS,EAEH,IAAK,WACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,SAAU,EACpB,CAAS,EAEH,IAAK,QACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,kBAAmB,EACnB,WAAYmgB,EAAeJ,EAAO,OAAS,KAAOI,EAAe,KACjE,WAAY,GACZ,SAAU,EACpB,EAAW,CAACngB,EAAM,eAAiB,CACzB,MAAO,KACP,OAAQ,SAClB,CAAS,EAEH,IAAK,UACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,KAAM+f,EAAO,KACb,gBAAiB/f,EAAM,gBAAkB,EACzC,eAAgBogB,EAAwBL,EAAO,gBAAkB,KAAOK,EAAwB,KAAK,IAAK,EAC1G,MAAO,KACP,kBAAmB,EACnB,WAAY,GACZ,cAAe,GACf,SAAU,GACV,OAAQ,SAClB,CAAS,EAEH,IAAK,QACH,IAAI1K,EAAQqK,EAAO,MAEnB,OAAItD,GAAiB/G,CAAK,GAAKA,EAAM,QAAU,KAAK,YAC3CrP,EAAS,CAAA,EAAI,KAAK,WAAW,EAG/BA,EAAS,CAAE,EAAErG,EAAO,CACzB,MAAO0V,EACP,iBAAkB1V,EAAM,iBAAmB,EAC3C,eAAgB,KAAK,IAAK,EAC1B,kBAAmBA,EAAM,kBAAoB,EAC7C,WAAY,GACZ,SAAU,GACV,OAAQ,OAClB,CAAS,EAEH,IAAK,aACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,cAAe,EACzB,CAAS,EAEH,IAAK,WACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO+f,EAAO,KAAK,EAEzC,QACE,OAAO/f,CACV,CACL,EAESwe,CACT,EAAG,EC7eQ6B,GAA0B,SAAU7E,EAAe,CAC5DtG,GAAemL,EAAY7E,CAAa,EAExC,SAAS6E,EAAW1D,EAAQ,CAC1B,IAAIlY,EAEJ,OAAAA,EAAQ+W,EAAc,KAAK,IAAI,GAAK,KACpC/W,EAAM,OAASkY,GAAU,GACzBlY,EAAM,QAAU,GAChBA,EAAM,WAAa,GACZA,CACR,CAED,IAAIkR,EAAS0K,EAAW,UAExB,OAAA1K,EAAO,MAAQ,SAAe2K,EAAQzd,EAAS7C,EAAO,CACpD,IAAIugB,EAEA7G,EAAW7W,EAAQ,SACnB2d,GAAaD,EAAqB1d,EAAQ,YAAc,KAAO0d,EAAqB3G,GAAsBF,EAAU7W,CAAO,EAC3HyW,EAAQ,KAAK,IAAIkH,CAAS,EAE9B,OAAKlH,IACHA,EAAQ,IAAIkF,GAAM,CAChB,MAAO,KACP,SAAU9E,EACV,UAAW8G,EACX,QAASF,EAAO,oBAAoBzd,CAAO,EAC3C,MAAO7C,EACP,eAAgBsgB,EAAO,iBAAiB5G,CAAQ,EAChD,KAAM7W,EAAQ,IACtB,CAAO,EACD,KAAK,IAAIyW,CAAK,GAGTA,CACX,EAEE3D,EAAO,IAAM,SAAa2D,EAAO,CAC1B,KAAK,WAAWA,EAAM,SAAS,IAClC,KAAK,WAAWA,EAAM,SAAS,EAAIA,EACnC,KAAK,QAAQ,KAAKA,CAAK,EACvB,KAAK,OAAO,CACV,KAAM,aACN,MAAOA,CACf,CAAO,EAEP,EAEE3D,EAAO,OAAS,SAAgB2D,EAAO,CACrC,IAAImH,EAAa,KAAK,WAAWnH,EAAM,SAAS,EAE5CmH,IACFnH,EAAM,QAAO,EACb,KAAK,QAAU,KAAK,QAAQ,OAAO,SAAUla,EAAG,CAC9C,OAAOA,IAAMka,CACrB,CAAO,EAEGmH,IAAenH,GACjB,OAAO,KAAK,WAAWA,EAAM,SAAS,EAGxC,KAAK,OAAO,CACV,KAAM,eACN,MAAOA,CACf,CAAO,EAEP,EAEE3D,EAAO,MAAQ,UAAiB,CAC9B,IAAImG,EAAS,KAEbqC,GAAc,MAAM,UAAY,CAC9BrC,EAAO,QAAQ,QAAQ,SAAUxC,EAAO,CACtCwC,EAAO,OAAOxC,CAAK,CAC3B,CAAO,CACP,CAAK,CACL,EAEE3D,EAAO,IAAM,SAAa6K,EAAW,CACnC,OAAO,KAAK,WAAWA,CAAS,CACpC,EAEE7K,EAAO,OAAS,UAAkB,CAChC,OAAO,KAAK,OAChB,EAEEA,EAAO,KAAO,SAAc+C,EAAMC,EAAM,CACtC,IAAI+H,EAAmB3H,GAAgBL,EAAMC,CAAI,EAC7CU,EAAUqH,EAAiB,CAAC,EAEhC,OAAI,OAAOrH,EAAQ,MAAU,MAC3BA,EAAQ,MAAQ,IAGX,KAAK,QAAQ,KAAK,SAAUC,EAAO,CACxC,OAAOF,GAAWC,EAASC,CAAK,CACtC,CAAK,CACL,EAEE3D,EAAO,QAAU,SAAiB+C,EAAMC,EAAM,CAC5C,IAAIgI,EAAoB5H,GAAgBL,EAAMC,CAAI,EAC9CU,EAAUsH,EAAkB,CAAC,EAEjC,OAAO,OAAO,KAAKtH,CAAO,EAAE,OAAS,EAAI,KAAK,QAAQ,OAAO,SAAUC,EAAO,CAC5E,OAAOF,GAAWC,EAASC,CAAK,CACtC,CAAK,EAAI,KAAK,OACd,EAEE3D,EAAO,OAAS,SAAgBiL,EAAO,CACrC,IAAI5C,EAAS,KAEbG,GAAc,MAAM,UAAY,CAC9BH,EAAO,UAAU,QAAQ,SAAUxG,EAAU,CAC3CA,EAASoJ,CAAK,CACtB,CAAO,CACP,CAAK,CACL,EAEEjL,EAAO,QAAU,UAAmB,CAClC,IAAIkL,EAAS,KAEb1C,GAAc,MAAM,UAAY,CAC9B0C,EAAO,QAAQ,QAAQ,SAAUvH,EAAO,CACtCA,EAAM,QAAO,CACrB,CAAO,CACP,CAAK,CACL,EAEE3D,EAAO,SAAW,UAAoB,CACpC,IAAImL,EAAS,KAEb3C,GAAc,MAAM,UAAY,CAC9B2C,EAAO,QAAQ,QAAQ,SAAUxH,EAAO,CACtCA,EAAM,SAAQ,CACtB,CAAO,CACP,CAAK,CACL,EAES+G,CACT,EAAE9I,EAAY,EC3IHwJ,GAAwB,UAAY,CAC7C,SAASA,EAASpE,EAAQ,CACxB,KAAK,QAAUtW,EAAS,CAAE,EAAEsW,EAAO,eAAgBA,EAAO,OAAO,EACjE,KAAK,WAAaA,EAAO,WACzB,KAAK,cAAgBA,EAAO,cAC5B,KAAK,UAAY,GACjB,KAAK,MAAQA,EAAO,OAASqE,GAAe,EAC5C,KAAK,KAAOrE,EAAO,IACpB,CAED,IAAIhH,EAASoL,EAAS,UAEtB,OAAApL,EAAO,SAAW,SAAkB3V,EAAO,CACzC,KAAK,SAAS,CACZ,KAAM,WACN,MAAOA,CACb,CAAK,CACL,EAEE2V,EAAO,YAAc,SAAqBsJ,EAAU,CAC9C,KAAK,UAAU,QAAQA,CAAQ,IAAM,IACvC,KAAK,UAAU,KAAKA,CAAQ,CAElC,EAEEtJ,EAAO,eAAiB,SAAwBsJ,EAAU,CACxD,KAAK,UAAY,KAAK,UAAU,OAAO,SAAU7f,EAAG,CAClD,OAAOA,IAAM6f,CACnB,CAAK,CACL,EAEEtJ,EAAO,OAAS,UAAkB,CAChC,OAAI,KAAK,SACP,KAAK,QAAQ,SACN,KAAK,QAAQ,QAAQ,KAAK+B,EAAI,EAAE,MAAMA,EAAI,GAG5C,QAAQ,SACnB,EAEE/B,EAAO,SAAW,UAAqB,CACrC,OAAI,KAAK,SACP,KAAK,QAAQ,WACN,KAAK,QAAQ,SAGf,KAAK,SAChB,EAEEA,EAAO,QAAU,UAAmB,CAClC,IAAIlR,EAAQ,KAERoa,EACAoC,EAAW,KAAK,MAAM,SAAW,UACjCjC,EAAU,QAAQ,UAEtB,OAAKiC,IACH,KAAK,SAAS,CACZ,KAAM,UACN,UAAW,KAAK,QAAQ,SAChC,CAAO,EACDjC,EAAUA,EAAQ,KAAK,UAAY,CAEjCva,EAAM,cAAc,OAAO,UAAY,MAAgBA,EAAM,cAAc,OAAO,SAASA,EAAM,MAAM,UAAWA,CAAK,CAC/H,CAAO,EAAE,KAAK,UAAY,CAClB,OAAOA,EAAM,QAAQ,UAAY,KAAO,OAASA,EAAM,QAAQ,SAASA,EAAM,MAAM,SAAS,CACrG,CAAO,EAAE,KAAK,SAAUmb,EAAS,CACrBA,IAAYnb,EAAM,MAAM,SAC1BA,EAAM,SAAS,CACb,KAAM,UACN,QAASmb,EACT,UAAWnb,EAAM,MAAM,SACnC,CAAW,CAEX,CAAO,GAGIua,EAAQ,KAAK,UAAY,CAC9B,OAAOva,EAAM,iBACnB,CAAK,EAAE,KAAK,SAAU3C,EAAQ,CACxB+c,EAAO/c,EAEP2C,EAAM,cAAc,OAAO,WAAa,MAAgBA,EAAM,cAAc,OAAO,UAAUoa,EAAMpa,EAAM,MAAM,UAAWA,EAAM,MAAM,QAASA,CAAK,CAC1J,CAAK,EAAE,KAAK,UAAY,CAClB,OAAOA,EAAM,QAAQ,WAAa,KAAO,OAASA,EAAM,QAAQ,UAAUoa,EAAMpa,EAAM,MAAM,UAAWA,EAAM,MAAM,OAAO,CAChI,CAAK,EAAE,KAAK,UAAY,CAClB,OAAOA,EAAM,QAAQ,WAAa,KAAO,OAASA,EAAM,QAAQ,UAAUoa,EAAM,KAAMpa,EAAM,MAAM,UAAWA,EAAM,MAAM,OAAO,CACtI,CAAK,EAAE,KAAK,UAAY,CAClB,OAAAA,EAAM,SAAS,CACb,KAAM,UACN,KAAMoa,CACd,CAAO,EAEMA,CACb,CAAK,EAAE,MAAM,SAAUnJ,EAAO,CAExB,OAAAjR,EAAM,cAAc,OAAO,SAAW,MAAgBA,EAAM,cAAc,OAAO,QAAQiR,EAAOjR,EAAM,MAAM,UAAWA,EAAM,MAAM,QAASA,CAAK,EAEjJ4Z,GAAW,EAAC,MAAM3I,CAAK,EAChB,QAAQ,UAAU,KAAK,UAAY,CACxC,OAAOjR,EAAM,QAAQ,SAAW,KAAO,OAASA,EAAM,QAAQ,QAAQiR,EAAOjR,EAAM,MAAM,UAAWA,EAAM,MAAM,OAAO,CAC/H,CAAO,EAAE,KAAK,UAAY,CAClB,OAAOA,EAAM,QAAQ,WAAa,KAAO,OAASA,EAAM,QAAQ,UAAU,OAAWiR,EAAOjR,EAAM,MAAM,UAAWA,EAAM,MAAM,OAAO,CAC9I,CAAO,EAAE,KAAK,UAAY,CAClB,MAAAA,EAAM,SAAS,CACb,KAAM,QACN,MAAOiR,CACjB,CAAS,EAEKA,CACd,CAAO,CACP,CAAK,CACL,EAEEC,EAAO,gBAAkB,UAA2B,CAClD,IAAImG,EAAS,KACToF,EAEJ,YAAK,QAAU,IAAIxE,GAAQ,CACzB,GAAI,UAAc,CAChB,OAAKZ,EAAO,QAAQ,WAIbA,EAAO,QAAQ,WAAWA,EAAO,MAAM,SAAS,EAH9C,QAAQ,OAAO,qBAAqB,CAI9C,EACD,OAAQ,UAAkB,CACxBA,EAAO,SAAS,CACd,KAAM,QAChB,CAAS,CACF,EACD,QAAS,UAAmB,CAC1BA,EAAO,SAAS,CACd,KAAM,OAChB,CAAS,CACF,EACD,WAAY,UAAsB,CAChCA,EAAO,SAAS,CACd,KAAM,UAChB,CAAS,CACF,EACD,OAAQoF,EAAsB,KAAK,QAAQ,QAAU,KAAOA,EAAsB,EAClF,WAAY,KAAK,QAAQ,UAC/B,CAAK,EACM,KAAK,QAAQ,OACxB,EAEEvL,EAAO,SAAW,SAAkBoK,EAAQ,CAC1C,IAAI/B,EAAS,KAEb,KAAK,MAAQmD,GAAQ,KAAK,MAAOpB,CAAM,EACvC5B,GAAc,MAAM,UAAY,CAC9BH,EAAO,UAAU,QAAQ,SAAUiB,EAAU,CAC3CA,EAAS,iBAAiBc,CAAM,CACxC,CAAO,EAED/B,EAAO,cAAc,OAAOA,CAAM,CACxC,CAAK,CACL,EAES+C,CACT,IACO,SAASC,IAAkB,CAChC,MAAO,CACL,QAAS,OACT,KAAM,OACN,MAAO,KACP,aAAc,EACd,SAAU,GACV,OAAQ,OACR,UAAW,MACf,CACA,CAEA,SAASG,GAAQnhB,EAAO+f,EAAQ,CAC9B,OAAQA,EAAO,KAAI,CACjB,IAAK,SACH,OAAO1Z,EAAS,CAAE,EAAErG,EAAO,CACzB,aAAcA,EAAM,aAAe,CAC3C,CAAO,EAEH,IAAK,QACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,SAAU,EAClB,CAAO,EAEH,IAAK,WACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,SAAU,EAClB,CAAO,EAEH,IAAK,UACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO,CACzB,QAAS+f,EAAO,QAChB,KAAM,OACN,MAAO,KACP,SAAU,GACV,OAAQ,UACR,UAAWA,EAAO,SAC1B,CAAO,EAEH,IAAK,UACH,OAAO1Z,EAAS,CAAE,EAAErG,EAAO,CACzB,KAAM+f,EAAO,KACb,MAAO,KACP,OAAQ,UACR,SAAU,EAClB,CAAO,EAEH,IAAK,QACH,OAAO1Z,EAAS,CAAE,EAAErG,EAAO,CACzB,KAAM,OACN,MAAO+f,EAAO,MACd,aAAc/f,EAAM,aAAe,EACnC,SAAU,GACV,OAAQ,OAChB,CAAO,EAEH,IAAK,WACH,OAAOqG,EAAS,CAAE,EAAErG,EAAO+f,EAAO,KAAK,EAEzC,QACE,OAAO/f,CACV,CACH,CChOO,IAAIohB,GAA6B,SAAU5F,EAAe,CAC/DtG,GAAekM,EAAe5F,CAAa,EAE3C,SAAS4F,EAAczE,EAAQ,CAC7B,IAAIlY,EAEJ,OAAAA,EAAQ+W,EAAc,KAAK,IAAI,GAAK,KACpC/W,EAAM,OAASkY,GAAU,GACzBlY,EAAM,UAAY,GAClBA,EAAM,WAAa,EACZA,CACR,CAED,IAAIkR,EAASyL,EAAc,UAE3B,OAAAzL,EAAO,MAAQ,SAAe2K,EAAQzd,EAAS7C,EAAO,CACpD,IAAIga,EAAW,IAAI+G,GAAS,CAC1B,cAAe,KACf,WAAY,EAAE,KAAK,WACnB,QAAST,EAAO,uBAAuBzd,CAAO,EAC9C,MAAO7C,EACP,eAAgB6C,EAAQ,YAAcyd,EAAO,oBAAoBzd,EAAQ,WAAW,EAAI,OACxF,KAAMA,EAAQ,IACpB,CAAK,EACD,YAAK,IAAImX,CAAQ,EACVA,CACX,EAEErE,EAAO,IAAM,SAAaqE,EAAU,CAClC,KAAK,UAAU,KAAKA,CAAQ,EAC5B,KAAK,OAAOA,CAAQ,CACxB,EAEErE,EAAO,OAAS,SAAgBqE,EAAU,CACxC,KAAK,UAAY,KAAK,UAAU,OAAO,SAAU5a,EAAG,CAClD,OAAOA,IAAM4a,CACnB,CAAK,EACDA,EAAS,OAAM,EACf,KAAK,OAAOA,CAAQ,CACxB,EAEErE,EAAO,MAAQ,UAAiB,CAC9B,IAAImG,EAAS,KAEbqC,GAAc,MAAM,UAAY,CAC9BrC,EAAO,UAAU,QAAQ,SAAU9B,EAAU,CAC3C8B,EAAO,OAAO9B,CAAQ,CAC9B,CAAO,CACP,CAAK,CACL,EAEErE,EAAO,OAAS,UAAkB,CAChC,OAAO,KAAK,SAChB,EAEEA,EAAO,KAAO,SAAc0D,EAAS,CACnC,OAAI,OAAOA,EAAQ,MAAU,MAC3BA,EAAQ,MAAQ,IAGX,KAAK,UAAU,KAAK,SAAUW,EAAU,CAC7C,OAAOD,GAAcV,EAASW,CAAQ,CAC5C,CAAK,CACL,EAEErE,EAAO,QAAU,SAAiB0D,EAAS,CACzC,OAAO,KAAK,UAAU,OAAO,SAAUW,EAAU,CAC/C,OAAOD,GAAcV,EAASW,CAAQ,CAC5C,CAAK,CACL,EAEErE,EAAO,OAAS,SAAgBqE,EAAU,CACxC,IAAIgE,EAAS,KAEbG,GAAc,MAAM,UAAY,CAC9BH,EAAO,UAAU,QAAQ,SAAUxG,EAAU,CAC3CA,EAASwC,CAAQ,CACzB,CAAO,CACP,CAAK,CACL,EAEErE,EAAO,QAAU,UAAmB,CAClC,KAAK,sBAAqB,CAC9B,EAEEA,EAAO,SAAW,UAAoB,CACpC,KAAK,sBAAqB,CAC9B,EAEEA,EAAO,sBAAwB,UAAiC,CAC9D,IAAI0L,EAAkB,KAAK,UAAU,OAAO,SAAUjiB,EAAG,CACvD,OAAOA,EAAE,MAAM,QACrB,CAAK,EACD,OAAO+e,GAAc,MAAM,UAAY,CACrC,OAAOkD,EAAgB,OAAO,SAAUrC,EAAShF,EAAU,CACzD,OAAOgF,EAAQ,KAAK,UAAY,CAC9B,OAAOhF,EAAS,SAAQ,EAAG,MAAMtC,EAAI,CAC/C,CAAS,CACT,EAAS,QAAQ,QAAO,CAAE,CAC1B,CAAK,CACL,EAES0J,CACT,EAAE7J,EAAY,EC5GP,SAAS+J,IAAwB,CACtC,MAAO,CACL,QAAS,SAAiB1B,EAAS,CACjCA,EAAQ,QAAU,UAAY,CAC5B,IAAIN,EAAuBQ,EAAwByB,EAAwBC,EAAwBC,EAAqBC,EAEpHC,GAAerC,EAAwBM,EAAQ,eAAiB,OAAiBE,EAAyBR,EAAsB,OAAS,KAAlE,OAAkFQ,EAAuB,YAChL8B,GAAaL,EAAyB3B,EAAQ,eAAiB,OAAiB4B,EAAyBD,EAAuB,OAAS,KAAnE,OAAmFC,EAAuB,UAChLK,EAAYD,GAAa,KAAO,OAASA,EAAU,UACnDE,GAAsBF,GAAa,KAAO,OAASA,EAAU,aAAe,UAC5EG,GAA0BH,GAAa,KAAO,OAASA,EAAU,aAAe,WAChFI,IAAaP,EAAsB7B,EAAQ,MAAM,OAAS,KAAO,OAAS6B,EAAoB,QAAU,CAAA,EACxGQ,IAAkBP,EAAuB9B,EAAQ,MAAM,OAAS,KAAO,OAAS8B,EAAqB,aAAe,CAAA,EACpHjC,EAAkBnE,KAClB4G,EAAczC,GAAmB,KAAO,OAASA,EAAgB,OACjE0C,EAAgBF,EAChBG,EAAY,GAEZC,EAAUzC,EAAQ,QAAQ,SAAW,UAAY,CACnD,OAAO,QAAQ,OAAO,iBAAiB,CACjD,EAEY0C,EAAgB,SAAuBC,EAAOC,EAAOC,GAAMC,GAAU,CACvE,OAAAP,EAAgBO,GAAW,CAACF,CAAK,EAAE,OAAOL,CAAa,EAAI,CAAA,EAAG,OAAOA,EAAe,CAACK,CAAK,CAAC,EACpFE,GAAW,CAACD,EAAI,EAAE,OAAOF,CAAK,EAAI,CAAE,EAAC,OAAOA,EAAO,CAACE,EAAI,CAAC,CAC1E,EAGYE,EAAY,SAAmBJ,EAAOK,EAAQJ,GAAOE,GAAU,CACjE,GAAIN,EACF,OAAO,QAAQ,OAAO,WAAW,EAGnC,GAAI,OAAOI,GAAU,KAAe,CAACI,GAAUL,EAAM,OACnD,OAAO,QAAQ,QAAQA,CAAK,EAG9B,IAAI7C,EAAiB,CACnB,SAAUE,EAAQ,SAClB,OAAQsC,EACR,UAAWM,GACX,KAAM5C,EAAQ,IAC1B,EACciD,EAAgBR,EAAQ3C,CAAc,EACtCV,EAAU,QAAQ,QAAQ6D,CAAa,EAAE,KAAK,SAAUJ,EAAM,CAChE,OAAOH,EAAcC,EAAOC,GAAOC,EAAMC,EAAQ,CAC7D,CAAW,EAED,GAAInG,GAAasG,CAAa,EAAG,CAC/B,IAAIC,EAAe9D,EACnB8D,EAAa,OAASD,EAAc,MACrC,CAED,OAAO7D,CACjB,EAEYA,EAEJ,GAAI,CAACgD,EAAS,OACZhD,EAAU2D,EAAU,CAAA,CAAE,UAEfb,EAAoB,CACzB,IAAIc,EAAS,OAAOf,EAAc,IAC9BW,EAAQI,EAASf,EAAYkB,GAAiBnD,EAAQ,QAASoC,CAAQ,EAC3EhD,EAAU2D,EAAUX,EAAUY,EAAQJ,CAAK,CAC5C,SACQT,EAAwB,CAC7B,IAAIiB,EAAU,OAAOnB,EAAc,IAE/BoB,EAASD,EAAUnB,EAAYqB,GAAqBtD,EAAQ,QAASoC,CAAQ,EAEjFhD,EAAU2D,EAAUX,EAAUgB,EAASC,EAAQ,EAAI,CACpD,MAEI,UAAY,CACXd,EAAgB,CAAA,EAChB,IAAIS,GAAS,OAAOhD,EAAQ,QAAQ,iBAAqB,IACrDuD,EAAuBxB,GAAeK,EAAS,CAAC,EAAIL,EAAYK,EAAS,CAAC,EAAG,EAAGA,CAAQ,EAAI,GAEhGhD,EAAUmE,EAAuBR,EAAU,CAAA,EAAIC,GAAQX,EAAc,CAAC,CAAC,EAAI,QAAQ,QAAQK,EAAc,CAAE,EAAEL,EAAc,CAAC,EAAGD,EAAS,CAAC,CAAC,CAAC,EAgB3I,QAdIoB,EAAQ,SAAexjB,EAAG,CAC5Bof,EAAUA,EAAQ,KAAK,SAAUuD,EAAO,CACtC,IAAIc,EAAsB1B,GAAeK,EAASpiB,CAAC,EAAI+hB,EAAYK,EAASpiB,CAAC,EAAGA,EAAGoiB,CAAQ,EAAI,GAE/F,GAAIqB,EAAqB,CACvB,IAAIC,EAAUV,GAASX,EAAcriB,CAAC,EAAImjB,GAAiBnD,EAAQ,QAAS2C,CAAK,EAEjF,OAAOI,EAAUJ,EAAOK,GAAQU,CAAO,CACxC,CAED,OAAO,QAAQ,QAAQhB,EAAcC,EAAON,EAAcriB,CAAC,EAAGoiB,EAASpiB,CAAC,CAAC,CAAC,CAChG,CAAqB,CACrB,EAE2BA,GAAI,EAAGA,GAAIoiB,EAAS,OAAQpiB,KACnCwjB,EAAMxjB,EAAC,CAE3B,KAGQ,IAAI2jB,EAAevE,EAAQ,KAAK,SAAUuD,GAAO,CAC/C,MAAO,CACL,MAAOA,GACP,WAAYJ,CACxB,CACA,CAAS,EACGqB,EAAoBD,EAExB,OAAAC,EAAkB,OAAS,UAAY,CACrCpB,EAAY,GACZ3C,GAAmB,MAAgBA,EAAgB,MAAK,EAEpDlD,GAAayC,CAAO,GACtBA,EAAQ,OAAM,CAE1B,EAEeuE,CACf,CACK,CACL,CACA,CACO,SAASR,GAAiBlgB,EAAS0f,EAAO,CAC/C,OAAO1f,EAAQ,kBAAoB,KAAO,OAASA,EAAQ,iBAAiB0f,EAAMA,EAAM,OAAS,CAAC,EAAGA,CAAK,CAC5G,CACO,SAASW,GAAqBrgB,EAAS0f,EAAO,CACnD,OAAO1f,EAAQ,sBAAwB,KAAO,OAASA,EAAQ,qBAAqB0f,EAAM,CAAC,EAAGA,CAAK,CACrG,CAMO,SAASkB,GAAY5gB,EAAS0f,EAAO,CAC1C,GAAI1f,EAAQ,kBAAoB,MAAM,QAAQ0f,CAAK,EAAG,CACpD,IAAImB,EAAgBX,GAAiBlgB,EAAS0f,CAAK,EACnD,OAAO,OAAOmB,EAAkB,KAAeA,IAAkB,MAAQA,IAAkB,EAC5F,CACH,CAMO,SAASC,GAAgB9gB,EAAS0f,EAAO,CAC9C,GAAI1f,EAAQ,sBAAwB,MAAM,QAAQ0f,CAAK,EAAG,CACxD,IAAIqB,EAAoBV,GAAqBrgB,EAAS0f,CAAK,EAC3D,OAAO,OAAOqB,EAAsB,KAAeA,IAAsB,MAAQA,IAAsB,EACxG,CACH,CC/IU,IAACC,GAA2B,UAAY,CAChD,SAASA,EAAYlH,EAAQ,CACvBA,IAAW,SACbA,EAAS,CAAA,GAGX,KAAK,WAAaA,EAAO,YAAc,IAAI0D,GAC3C,KAAK,cAAgB1D,EAAO,eAAiB,IAAIyE,GACjD,KAAK,eAAiBzE,EAAO,gBAAkB,CAAA,EAC/C,KAAK,cAAgB,GACrB,KAAK,iBAAmB,EACzB,CAED,IAAIhH,EAASkO,EAAY,UAEzB,OAAAlO,EAAO,MAAQ,UAAiB,CAC9B,IAAIlR,EAAQ,KAEZ,KAAK,iBAAmBuX,GAAa,UAAU,UAAY,CACrDA,GAAa,UAAS,GAAMI,GAAc,SAAQ,IACpD3X,EAAM,cAAc,UAEpBA,EAAM,WAAW,UAEzB,CAAK,EACD,KAAK,kBAAoB2X,GAAc,UAAU,UAAY,CACvDJ,GAAa,UAAS,GAAMI,GAAc,SAAQ,IACpD3X,EAAM,cAAc,WAEpBA,EAAM,WAAW,WAEzB,CAAK,CACL,EAEEkR,EAAO,QAAU,UAAmB,CAClC,IAAImO,EAAuBC,GAE1BD,EAAwB,KAAK,mBAAqB,MAAgBA,EAAsB,KAAK,IAAI,GACjGC,EAAwB,KAAK,oBAAsB,MAAgBA,EAAsB,KAAK,IAAI,CACvG,EAEEpO,EAAO,WAAa,SAAoB+C,EAAMC,EAAM,CAClD,IAAI+H,EAAmB3H,GAAgBL,EAAMC,CAAI,EAC7CU,EAAUqH,EAAiB,CAAC,EAEhC,OAAArH,EAAQ,SAAW,GACZ,KAAK,WAAW,QAAQA,CAAO,EAAE,MAC5C,EAEE1D,EAAO,WAAa,SAAoB0D,EAAS,CAC/C,OAAO,KAAK,cAAc,QAAQhT,EAAS,CAAA,EAAIgT,EAAS,CACtD,SAAU,EAChB,CAAK,CAAC,EAAE,MACR,EAEE1D,EAAO,aAAe,SAAsB+D,EAAUL,EAAS,CAC7D,IAAI2K,EAEJ,OAAQA,EAAwB,KAAK,WAAW,KAAKtK,EAAUL,CAAO,IAAM,KAAO,OAAS2K,EAAsB,MAAM,IAC5H,EAEErO,EAAO,eAAiB,SAAwBsO,EAAmB,CACjE,OAAO,KAAK,gBAAgB,QAAQA,CAAiB,EAAE,IAAI,SAAUxc,EAAM,CACzE,IAAIiS,EAAWjS,EAAK,SAChBzH,EAAQyH,EAAK,MACboX,EAAO7e,EAAM,KACjB,MAAO,CAAC0Z,EAAUmF,CAAI,CAC5B,CAAK,CACL,EAEElJ,EAAO,aAAe,SAAsB+D,EAAU9B,EAAS/U,EAAS,CACtE,IAAIqhB,EAAgBzL,GAAeiB,CAAQ,EACvCyK,EAAmB,KAAK,oBAAoBD,CAAa,EAC7D,OAAO,KAAK,WAAW,MAAM,KAAMC,CAAgB,EAAE,QAAQvM,EAAS/U,CAAO,CACjF,EAEE8S,EAAO,eAAiB,SAAwBsO,EAAmBrM,EAAS/U,EAAS,CACnF,IAAIiZ,EAAS,KAEb,OAAOqC,GAAc,MAAM,UAAY,CACrC,OAAOrC,EAAO,gBAAgB,QAAQmI,CAAiB,EAAE,IAAI,SAAUG,EAAO,CAC5E,IAAI1K,EAAW0K,EAAM,SACrB,MAAO,CAAC1K,EAAUoC,EAAO,aAAapC,EAAU9B,EAAS/U,CAAO,CAAC,CACzE,CAAO,CACP,CAAK,CACL,EAEE8S,EAAO,cAAgB,SAAuB+D,EAAUL,EAAS,CAC/D,IAAIgL,EAEJ,OAAQA,EAAyB,KAAK,WAAW,KAAK3K,EAAUL,CAAO,IAAM,KAAO,OAASgL,EAAuB,KACxH,EAEE1O,EAAO,cAAgB,SAAuB+C,EAAMC,EAAM,CACxD,IAAIgI,EAAoB5H,GAAgBL,EAAMC,CAAI,EAC9CU,EAAUsH,EAAkB,CAAC,EAE7B2D,EAAa,KAAK,WACtBnG,GAAc,MAAM,UAAY,CAC9BmG,EAAW,QAAQjL,CAAO,EAAE,QAAQ,SAAUC,EAAO,CACnDgL,EAAW,OAAOhL,CAAK,CAC/B,CAAO,CACP,CAAK,CACL,EAEE3D,EAAO,aAAe,SAAsB+C,EAAMC,EAAMC,EAAM,CAC5D,IAAIoF,EAAS,KAETuG,EAAoBxL,GAAgBL,EAAMC,EAAMC,CAAI,EACpDS,EAAUkL,EAAkB,CAAC,EAC7B1hB,EAAU0hB,EAAkB,CAAC,EAE7BD,EAAa,KAAK,WAElBE,EAAiBne,EAAS,CAAE,EAAEgT,EAAS,CACzC,OAAQ,EACd,CAAK,EAED,OAAO8E,GAAc,MAAM,UAAY,CACrC,OAAAmG,EAAW,QAAQjL,CAAO,EAAE,QAAQ,SAAUC,EAAO,CACnDA,EAAM,MAAK,CACnB,CAAO,EACM0E,EAAO,eAAewG,EAAgB3hB,CAAO,CAC1D,CAAK,CACL,EAEE8S,EAAO,cAAgB,SAAuB+C,EAAMC,EAAMC,EAAM,CAC9D,IAAIiI,EAAS,KAET4D,EAAoB1L,GAAgBL,EAAMC,EAAMC,CAAI,EACpDS,EAAUoL,EAAkB,CAAC,EAC7BC,EAAqBD,EAAkB,CAAC,EACxCxH,EAAgByH,IAAuB,OAAS,CAAA,EAAKA,EAErD,OAAOzH,EAAc,OAAW,MAClCA,EAAc,OAAS,IAGzB,IAAI0H,EAAWxG,GAAc,MAAM,UAAY,CAC7C,OAAO0C,EAAO,WAAW,QAAQxH,CAAO,EAAE,IAAI,SAAUC,EAAO,CAC7D,OAAOA,EAAM,OAAO2D,CAAa,CACzC,CAAO,CACP,CAAK,EACD,OAAO,QAAQ,IAAI0H,CAAQ,EAAE,KAAKjN,EAAI,EAAE,MAAMA,EAAI,CACtD,EAEE/B,EAAO,kBAAoB,SAA2B+C,EAAMC,EAAMC,EAAM,CACtE,IAAIgM,EACAC,EACAC,EACAhE,EAAS,KAETiE,EAAoBhM,GAAgBL,EAAMC,EAAMC,CAAI,EACpDS,EAAU0L,EAAkB,CAAC,EAC7BliB,EAAUkiB,EAAkB,CAAC,EAE7BP,EAAiBne,EAAS,CAAE,EAAEgT,EAAS,CAGzC,QAASuL,GAASC,EAAwBxL,EAAQ,gBAAkB,KAAOwL,EAAwBxL,EAAQ,SAAW,KAAOuL,EAAQ,GACrI,UAAWE,EAAwBzL,EAAQ,kBAAoB,KAAOyL,EAAwB,EACpG,CAAK,EAED,OAAO3G,GAAc,MAAM,UAAY,CACrC,OAAA2C,EAAO,WAAW,QAAQzH,CAAO,EAAE,QAAQ,SAAUC,EAAO,CAC1DA,EAAM,WAAU,CACxB,CAAO,EAEMwH,EAAO,eAAe0D,EAAgB3hB,CAAO,CAC1D,CAAK,CACL,EAEE8S,EAAO,eAAiB,SAAwB+C,EAAMC,EAAMC,EAAM,CAChE,IAAIoM,EAAS,KAETC,EAAoBlM,GAAgBL,EAAMC,EAAMC,CAAI,EACpDS,EAAU4L,EAAkB,CAAC,EAC7BpiB,EAAUoiB,EAAkB,CAAC,EAE7BN,EAAWxG,GAAc,MAAM,UAAY,CAC7C,OAAO6G,EAAO,WAAW,QAAQ3L,CAAO,EAAE,IAAI,SAAUC,EAAO,CAC7D,OAAOA,EAAM,MAAM,OAAWjT,EAAS,CAAA,EAAIxD,EAAS,CAClD,KAAM,CACJ,YAAawW,GAAW,KAAO,OAASA,EAAQ,WACjD,CACF,CAAA,CAAC,CACV,CAAO,CACP,CAAK,EACG2F,EAAU,QAAQ,IAAI2F,CAAQ,EAAE,KAAKjN,EAAI,EAE7C,OAAM7U,GAAW,MAAgBA,EAAQ,eACvCmc,EAAUA,EAAQ,MAAMtH,EAAI,GAGvBsH,CACX,EAEErJ,EAAO,WAAa,SAAoB+C,EAAMC,EAAMC,EAAM,CACxD,IAAIsL,EAAgBzL,GAAeC,EAAMC,EAAMC,CAAI,EAC/CuL,EAAmB,KAAK,oBAAoBD,CAAa,EAEzD,OAAOC,EAAiB,MAAU,MACpCA,EAAiB,MAAQ,IAG3B,IAAI7K,EAAQ,KAAK,WAAW,MAAM,KAAM6K,CAAgB,EACxD,OAAO7K,EAAM,cAAc6K,EAAiB,SAAS,EAAI7K,EAAM,MAAM6K,CAAgB,EAAI,QAAQ,QAAQ7K,EAAM,MAAM,IAAI,CAC7H,EAEE3D,EAAO,cAAgB,SAAuB+C,EAAMC,EAAMC,EAAM,CAC9D,OAAO,KAAK,WAAWF,EAAMC,EAAMC,CAAI,EAAE,KAAKlB,EAAI,EAAE,MAAMA,EAAI,CAClE,EAEE/B,EAAO,mBAAqB,SAA4B+C,EAAMC,EAAMC,EAAM,CACxE,IAAIsL,EAAgBzL,GAAeC,EAAMC,EAAMC,CAAI,EACnD,OAAAsL,EAAc,SAAW5C,KAClB,KAAK,WAAW4C,CAAa,CACxC,EAEEvO,EAAO,sBAAwB,SAA+B+C,EAAMC,EAAMC,EAAM,CAC9E,OAAO,KAAK,mBAAmBF,EAAMC,EAAMC,CAAI,EAAE,KAAKlB,EAAI,EAAE,MAAMA,EAAI,CAC1E,EAEE/B,EAAO,gBAAkB,UAA2B,CAClD,IAAIuP,EAAS,KAETP,EAAWxG,GAAc,MAAM,UAAY,CAC7C,OAAO+G,EAAO,cAAc,OAAQ,EAAC,IAAI,SAAUlL,EAAU,CAC3D,OAAOA,EAAS,QACxB,CAAO,CACP,CAAK,EACD,OAAO,QAAQ,IAAI2K,CAAQ,EAAE,KAAKjN,EAAI,EAAE,MAAMA,EAAI,CACtD,EAEE/B,EAAO,sBAAwB,UAAiC,CAC9D,OAAO,KAAK,mBAAmB,uBACnC,EAEEA,EAAO,gBAAkB,SAAyB9S,EAAS,CACzD,OAAO,KAAK,cAAc,MAAM,KAAMA,CAAO,EAAE,SACnD,EAEE8S,EAAO,cAAgB,UAAyB,CAC9C,OAAO,KAAK,UAChB,EAEEA,EAAO,iBAAmB,UAA4B,CACpD,OAAO,KAAK,aAChB,EAEEA,EAAO,kBAAoB,UAA6B,CACtD,OAAO,KAAK,cAChB,EAEEA,EAAO,kBAAoB,SAA2B9S,EAAS,CAC7D,KAAK,eAAiBA,CAC1B,EAEE8S,EAAO,iBAAmB,SAA0B+D,EAAU7W,EAAS,CACrE,IAAIf,EAAS,KAAK,cAAc,KAAK,SAAU1C,EAAG,CAChD,OAAO8a,GAAaR,CAAQ,IAAMQ,GAAa9a,EAAE,QAAQ,CAC/D,CAAK,EAEG0C,EACFA,EAAO,eAAiBe,EAExB,KAAK,cAAc,KAAK,CACtB,SAAU6W,EACV,eAAgB7W,CACxB,CAAO,CAEP,EAEE8S,EAAO,iBAAmB,SAA0B+D,EAAU,CAC5D,IAAIyL,EAEJ,OAAOzL,GAAYyL,EAAwB,KAAK,cAAc,KAAK,SAAU/lB,EAAG,CAC9E,OAAOya,GAAgBH,EAAUta,EAAE,QAAQ,CACjD,CAAK,IAAM,KAAO,OAAS+lB,EAAsB,eAAiB,MAClE,EAEExP,EAAO,oBAAsB,SAA6BsE,EAAapX,EAAS,CAC9E,IAAIf,EAAS,KAAK,iBAAiB,KAAK,SAAU1C,EAAG,CACnD,OAAO8a,GAAaD,CAAW,IAAMC,GAAa9a,EAAE,WAAW,CACrE,CAAK,EAEG0C,EACFA,EAAO,eAAiBe,EAExB,KAAK,iBAAiB,KAAK,CACzB,YAAaoX,EACb,eAAgBpX,CACxB,CAAO,CAEP,EAEE8S,EAAO,oBAAsB,SAA6BsE,EAAa,CACrE,IAAImL,EAEJ,OAAOnL,GAAemL,EAAwB,KAAK,iBAAiB,KAAK,SAAUhmB,EAAG,CACpF,OAAOya,GAAgBI,EAAa7a,EAAE,WAAW,CACvD,CAAK,IAAM,KAAO,OAASgmB,EAAsB,eAAiB,MAClE,EAEEzP,EAAO,oBAAsB,SAA6B9S,EAAS,CACjE,GAAIA,GAAW,MAAgBA,EAAQ,WACrC,OAAOA,EAGT,IAAIshB,EAAmB9d,EAAS,CAAA,EAAI,KAAK,eAAe,QAAS,KAAK,iBAAiBxD,GAAW,KAAO,OAASA,EAAQ,QAAQ,EAAGA,EAAS,CAC5I,WAAY,EAClB,CAAK,EAED,MAAI,CAACshB,EAAiB,WAAaA,EAAiB,WAClDA,EAAiB,UAAYvK,GAAsBuK,EAAiB,SAAUA,CAAgB,GAGzFA,CACX,EAEExO,EAAO,4BAA8B,SAAqC9S,EAAS,CACjF,OAAO,KAAK,oBAAoBA,CAAO,CAC3C,EAEE8S,EAAO,uBAAyB,SAAgC9S,EAAS,CACvE,OAAIA,GAAW,MAAgBA,EAAQ,WAC9BA,EAGFwD,EAAS,CAAA,EAAI,KAAK,eAAe,UAAW,KAAK,oBAAoBxD,GAAW,KAAO,OAASA,EAAQ,WAAW,EAAGA,EAAS,CACpI,WAAY,EAClB,CAAK,CACL,EAEE8S,EAAO,MAAQ,UAAiB,CAC9B,KAAK,WAAW,QAChB,KAAK,cAAc,OACvB,EAESkO,CACT,EAAC,ECrVUwB,GAA6B,SAAU7J,EAAe,CAC/DtG,GAAemQ,EAAe7J,CAAa,EAE3C,SAAS6J,EAAc/E,EAAQzd,EAAS,CACtC,IAAI4B,EAEJ,OAAAA,EAAQ+W,EAAc,KAAK,IAAI,GAAK,KACpC/W,EAAM,OAAS6b,EACf7b,EAAM,QAAU5B,EAChB4B,EAAM,aAAe,GACrBA,EAAM,YAAc,KAEpBA,EAAM,YAAW,EAEjBA,EAAM,WAAW5B,CAAO,EAEjB4B,CACR,CAED,IAAIkR,EAAS0P,EAAc,UAE3B,OAAA1P,EAAO,YAAc,UAAuB,CAC1C,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EACnC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,CACzC,EAEEA,EAAO,YAAc,UAAuB,CACtC,KAAK,UAAU,SAAW,IAC5B,KAAK,aAAa,YAAY,IAAI,EAE9B2P,GAAmB,KAAK,aAAc,KAAK,OAAO,GACpD,KAAK,aAAY,EAGnB,KAAK,aAAY,EAEvB,EAEE3P,EAAO,cAAgB,UAAyB,CACzC,KAAK,UAAU,QAClB,KAAK,QAAO,CAElB,EAEEA,EAAO,uBAAyB,UAAkC,CAChE,OAAO4P,GAAc,KAAK,aAAc,KAAK,QAAS,KAAK,QAAQ,kBAAkB,CACzF,EAEE5P,EAAO,yBAA2B,UAAoC,CACpE,OAAO4P,GAAc,KAAK,aAAc,KAAK,QAAS,KAAK,QAAQ,oBAAoB,CAC3F,EAEE5P,EAAO,QAAU,UAAmB,CAClC,KAAK,UAAY,GACjB,KAAK,YAAW,EAChB,KAAK,aAAa,eAAe,IAAI,CACzC,EAEEA,EAAO,WAAa,SAAoB9S,EAAS2iB,EAAe,CAC9D,IAAIC,EAAc,KAAK,QACnBC,EAAY,KAAK,aAGrB,GAFA,KAAK,QAAU,KAAK,OAAO,4BAA4B7iB,CAAO,EAE1D,OAAO,KAAK,QAAQ,QAAY,KAAe,OAAO,KAAK,QAAQ,SAAY,UACjF,MAAM,IAAI,MAAM,kCAAkC,EAI/C,KAAK,QAAQ,WAChB,KAAK,QAAQ,SAAW4iB,EAAY,UAGtC,KAAK,YAAW,EAChB,IAAIE,EAAU,KAAK,eAEfA,GAAWC,GAAsB,KAAK,aAAcF,EAAW,KAAK,QAASD,CAAW,GAC1F,KAAK,aAAY,EAInB,KAAK,aAAaD,CAAa,EAE3BG,IAAY,KAAK,eAAiBD,GAAa,KAAK,QAAQ,UAAYD,EAAY,SAAW,KAAK,QAAQ,YAAcA,EAAY,YACxI,KAAK,mBAAkB,EAGzB,IAAII,EAAsB,KAAK,yBAE3BF,IAAY,KAAK,eAAiBD,GAAa,KAAK,QAAQ,UAAYD,EAAY,SAAWI,IAAwB,KAAK,yBAC9H,KAAK,sBAAsBA,CAAmB,CAEpD,EAEElQ,EAAO,oBAAsB,SAA6B9S,EAAS,CACjE,IAAIshB,EAAmB,KAAK,OAAO,4BAA4BthB,CAAO,EAClEyW,EAAQ,KAAK,OAAO,cAAa,EAAG,MAAM,KAAK,OAAQ6K,CAAgB,EAC3E,OAAO,KAAK,aAAa7K,EAAO6K,CAAgB,CACpD,EAEExO,EAAO,iBAAmB,UAA4B,CACpD,OAAO,KAAK,aAChB,EAEEA,EAAO,YAAc,SAAqB7T,EAAQqiB,EAAkB,CAClE,IAAIrI,EAAS,KAETgK,EAAgB,CAAA,EAEhBC,EAAY,SAAmB3iB,EAAK,CACjC0Y,EAAO,aAAa,SAAS1Y,CAAG,GACnC0Y,EAAO,aAAa,KAAK1Y,CAAG,CAEpC,EAEI,cAAO,KAAKtB,CAAM,EAAE,QAAQ,SAAUsB,EAAK,CACzC,OAAO,eAAe0iB,EAAe1iB,EAAK,CACxC,aAAc,GACd,WAAY,GACZ,IAAK,UAAe,CAClB,OAAA2iB,EAAU3iB,CAAG,EACNtB,EAAOsB,CAAG,CAClB,CACT,CAAO,CACP,CAAK,GAEG+gB,EAAiB,kBAAoBA,EAAiB,WACxD4B,EAAU,OAAO,EAGZD,CACX,EAEEnQ,EAAO,cAAgB,SAAuB9S,EAAS,CACrD,IAAImb,EAAS,KAEb,OAAO,IAAI,QAAQ,SAAU5C,EAASgC,EAAQ,CAC5C,IAAI4I,EAAchI,EAAO,UAAU,SAAUlc,EAAQ,CAC9CA,EAAO,aACVkkB,IAEIlkB,EAAO,UAAYe,GAAW,MAAgBA,EAAQ,cACxDua,EAAOtb,EAAO,KAAK,EAEnBsZ,EAAQtZ,CAAM,EAG1B,CAAO,CACP,CAAK,CACL,EAEE6T,EAAO,gBAAkB,UAA2B,CAClD,OAAO,KAAK,YAChB,EAEEA,EAAO,OAAS,UAAkB,CAChC,KAAK,OAAO,cAAa,EAAG,OAAO,KAAK,YAAY,CACxD,EAEEA,EAAO,QAAU,SAAiB9S,EAAS,CACzC,OAAO,KAAK,MAAMwD,EAAS,CAAA,EAAIxD,EAAS,CACtC,KAAM,CACJ,YAAaA,GAAW,KAAO,OAASA,EAAQ,WACjD,CACF,CAAA,CAAC,CACN,EAEE8S,EAAO,gBAAkB,SAAyB9S,EAAS,CACzD,IAAIge,EAAS,KAETsD,EAAmB,KAAK,OAAO,4BAA4BthB,CAAO,EAClEyW,EAAQ,KAAK,OAAO,cAAa,EAAG,MAAM,KAAK,OAAQ6K,CAAgB,EAC3E,OAAO7K,EAAM,QAAQ,KAAK,UAAY,CACpC,OAAOuH,EAAO,aAAavH,EAAO6K,CAAgB,CACxD,CAAK,CACL,EAEExO,EAAO,MAAQ,SAAeyJ,EAAc,CAC1C,IAAI0B,EAAS,KAEb,OAAO,KAAK,aAAa1B,CAAY,EAAE,KAAK,UAAY,CACtD,OAAA0B,EAAO,aAAY,EAEZA,EAAO,aACpB,CAAK,CACL,EAEEnL,EAAO,aAAe,SAAsByJ,EAAc,CAExD,KAAK,YAAW,EAEhB,IAAIJ,EAAU,KAAK,aAAa,MAAM,KAAK,QAASI,CAAY,EAEhE,OAAMA,GAAgB,MAAgBA,EAAa,eACjDJ,EAAUA,EAAQ,MAAMtH,EAAI,GAGvBsH,CACX,EAEErJ,EAAO,mBAAqB,UAA8B,CACxD,IAAIqP,EAAS,KAIb,GAFA,KAAK,kBAAiB,EAElB,EAAAvN,IAAY,KAAK,cAAc,SAAW,CAACK,GAAe,KAAK,QAAQ,SAAS,GAIpF,KAAImO,EAAO3N,GAAe,KAAK,cAAc,cAAe,KAAK,QAAQ,SAAS,EAG9EtO,EAAUic,EAAO,EACrB,KAAK,eAAiB,WAAW,UAAY,CACtCjB,EAAO,cAAc,SACxBA,EAAO,aAAY,CAEtB,EAAEhb,CAAO,EACd,EAEE2L,EAAO,uBAAyB,UAAkC,CAChE,IAAIuQ,EAEJ,OAAO,OAAO,KAAK,QAAQ,iBAAoB,WAAa,KAAK,QAAQ,gBAAgB,KAAK,cAAc,KAAM,KAAK,YAAY,GAAKA,EAAwB,KAAK,QAAQ,kBAAoB,KAAOA,EAAwB,EACpO,EAEEvQ,EAAO,sBAAwB,SAA+BwQ,EAAc,CAC1E,IAAIjB,EAAS,KAEb,KAAK,qBAAoB,EACzB,KAAK,uBAAyBiB,EAE1B,EAAA1O,IAAY,KAAK,QAAQ,UAAY,IAAS,CAACK,GAAe,KAAK,sBAAsB,GAAK,KAAK,yBAA2B,KAIlI,KAAK,kBAAoB,YAAY,UAAY,EAC3CoN,EAAO,QAAQ,6BAA+BlJ,GAAa,UAAS,IACtEkJ,EAAO,aAAY,CAE3B,EAAO,KAAK,sBAAsB,EAClC,EAEEvP,EAAO,aAAe,UAAwB,CAC5C,KAAK,mBAAkB,EACvB,KAAK,sBAAsB,KAAK,uBAAwB,CAAA,CAC5D,EAEEA,EAAO,YAAc,UAAuB,CAC1C,KAAK,kBAAiB,EACtB,KAAK,qBAAoB,CAC7B,EAEEA,EAAO,kBAAoB,UAA6B,CAClD,KAAK,iBACP,aAAa,KAAK,cAAc,EAChC,KAAK,eAAiB,OAE5B,EAEEA,EAAO,qBAAuB,UAAgC,CACxD,KAAK,oBACP,cAAc,KAAK,iBAAiB,EACpC,KAAK,kBAAoB,OAE/B,EAEEA,EAAO,aAAe,SAAsB2D,EAAOzW,EAAS,CAC1D,IAAI6iB,EAAY,KAAK,aACjBD,EAAc,KAAK,QACnBW,EAAa,KAAK,cAClBC,EAAkB,KAAK,mBACvBC,EAAoB,KAAK,qBACzBC,EAAcjN,IAAUoM,EACxBc,EAAoBD,EAAcjN,EAAM,MAAQ,KAAK,yBACrDmN,EAAkBF,EAAc,KAAK,cAAgB,KAAK,oBAC1DvmB,EAAQsZ,EAAM,MACdoN,EAAgB1mB,EAAM,cACtB0V,EAAQ1V,EAAM,MACd2mB,EAAiB3mB,EAAM,eACvB4mB,EAAa5mB,EAAM,WACnBkX,EAASlX,EAAM,OACf6mB,EAAiB,GACjBC,EAAoB,GACpBjI,EAEJ,GAAIhc,EAAQ,kBAAmB,CAC7B,IAAI8iB,EAAU,KAAK,eACfoB,EAAe,CAACpB,GAAWL,GAAmBhM,EAAOzW,CAAO,EAC5DmkB,EAAkBrB,GAAWC,GAAsBtM,EAAOoM,EAAW7iB,EAAS4iB,CAAW,GAEzFsB,GAAgBC,KAClBJ,EAAa,GAERF,IACHxP,EAAS,WAGd,CAGD,GAAIrU,EAAQ,kBAAoB,CAAC7C,EAAM,kBAAoBymB,GAAmB,MAAgBA,EAAgB,YAAcvP,IAAW,QACrI2H,EAAO4H,EAAgB,KACvBC,EAAgBD,EAAgB,cAChCvP,EAASuP,EAAgB,OACzBI,EAAiB,WAEVhkB,EAAQ,QAAU,OAAO7C,EAAM,KAAS,IAE7C,GAAIomB,GAAcpmB,EAAM,QAAUqmB,GAAmB,KAAO,OAASA,EAAgB,OAASxjB,EAAQ,SAAW,KAAK,SACpHgc,EAAO,KAAK,iBAEZ,IAAI,CACF,KAAK,SAAWhc,EAAQ,OACxBgc,EAAOhc,EAAQ,OAAO7C,EAAM,IAAI,EAE5B6C,EAAQ,oBAAsB,KAChCgc,EAAOpE,GAAiB2L,GAAc,KAAO,OAASA,EAAW,KAAMvH,CAAI,GAG7E,KAAK,aAAeA,EACpB,KAAK,YAAc,IACpB,OAAQoI,EAAa,CACpB5I,GAAW,EAAC,MAAM4I,CAAW,EAC7B,KAAK,YAAcA,CACpB,MAIDpI,EAAO7e,EAAM,KAInB,GAAI,OAAO6C,EAAQ,gBAAoB,KAAe,OAAOgc,EAAS,MAAgB3H,IAAW,WAAaA,IAAW,QAAS,CAChI,IAAIgQ,EAEJ,GAAKd,GAAc,MAAgBA,EAAW,mBAAsBvjB,EAAQ,mBAAqByjB,GAAqB,KAAO,OAASA,EAAkB,iBACtJY,EAAkBd,EAAW,aAE7Bc,EAAkB,OAAOrkB,EAAQ,iBAAoB,WAAaA,EAAQ,gBAAe,EAAKA,EAAQ,gBAElGA,EAAQ,QAAU,OAAOqkB,EAAoB,IAC/C,GAAI,CACFA,EAAkBrkB,EAAQ,OAAOqkB,CAAe,EAE5CrkB,EAAQ,oBAAsB,KAChCqkB,EAAkBzM,GAAiB2L,GAAc,KAAO,OAASA,EAAW,KAAMc,CAAe,GAGnG,KAAK,YAAc,IACpB,OAAQD,EAAa,CACpB5I,GAAW,EAAC,MAAM4I,CAAW,EAC7B,KAAK,YAAcA,CACpB,CAID,OAAOC,EAAoB,MAC7BhQ,EAAS,UACT2H,EAAOqI,EACPJ,EAAoB,GAEvB,CAEG,KAAK,cACPpR,EAAQ,KAAK,YACbmJ,EAAO,KAAK,aACZ8H,EAAiB,KAAK,MACtBzP,EAAS,SAGX,IAAIpV,EAAS,CACX,OAAQoV,EACR,UAAWA,IAAW,UACtB,UAAWA,IAAW,UACtB,QAASA,IAAW,QACpB,OAAQA,IAAW,OACnB,KAAM2H,EACN,cAAe6H,EACf,MAAOhR,EACP,eAAgBiR,EAChB,aAAc3mB,EAAM,kBACpB,iBAAkBA,EAAM,iBACxB,UAAWA,EAAM,gBAAkB,GAAKA,EAAM,iBAAmB,EACjE,oBAAqBA,EAAM,gBAAkBwmB,EAAkB,iBAAmBxmB,EAAM,iBAAmBwmB,EAAkB,iBAC7H,WAAYI,EACZ,aAAcA,GAAc1P,IAAW,UACvC,eAAgBA,IAAW,SAAWlX,EAAM,gBAAkB,EAC9D,kBAAmB8mB,EACnB,eAAgBD,EAChB,eAAgB3P,IAAW,SAAWlX,EAAM,gBAAkB,EAC9D,QAASmnB,GAAQ7N,EAAOzW,CAAO,EAC/B,QAAS,KAAK,QACd,OAAQ,KAAK,MACnB,EACI,OAAOf,CACX,EAEE6T,EAAO,sBAAwB,SAA+B7T,EAAQskB,EAAY,CAChF,GAAI,CAACA,EACH,MAAO,GAGT,IAAIzH,EAAgB,KAAK,QACrByI,EAAsBzI,EAAc,oBACpC0I,EAAgC1I,EAAc,8BAMlD,GAJI,CAACyI,GAAuB,CAACC,GAIzBD,IAAwB,WAAa,CAAC,KAAK,aAAa,OAC1D,MAAO,GAGT,IAAIE,EAAgBF,IAAwB,UAAY,KAAK,aAAeA,EAC5E,OAAO,OAAO,KAAKtlB,CAAM,EAAE,KAAK,SAAUsB,EAAK,CAC7C,IAAImkB,EAAWnkB,EACXokB,EAAU1lB,EAAOylB,CAAQ,IAAMnB,EAAWmB,CAAQ,EAClDE,EAAaH,GAAiB,KAAO,OAASA,EAAc,KAAK,SAAUloB,EAAG,CAChF,OAAOA,IAAMgE,CACrB,CAAO,EACGskB,EAAaL,GAAiC,KAAO,OAASA,EAA8B,KAAK,SAAUjoB,EAAG,CAChH,OAAOA,IAAMgE,CACrB,CAAO,EACD,OAAOokB,GAAW,CAACE,IAAe,CAACJ,GAAiBG,EAC1D,CAAK,CACL,EAEE9R,EAAO,aAAe,SAAsB6P,EAAe,CACzD,IAAIY,EAAa,KAAK,cAKtB,GAJA,KAAK,cAAgB,KAAK,aAAa,KAAK,aAAc,KAAK,OAAO,EACtE,KAAK,mBAAqB,KAAK,aAAa,MAC5C,KAAK,qBAAuB,KAAK,QAE7B,CAAAtL,GAAoB,KAAK,cAAesL,CAAU,EAKtD,KAAIuB,EAAuB,CACzB,MAAO,EACb,GAESnC,GAAiB,KAAO,OAASA,EAAc,aAAe,IAAS,KAAK,sBAAsB,KAAK,cAAeY,CAAU,IACnIuB,EAAqB,UAAY,IAGnC,KAAK,OAAOthB,EAAS,CAAE,EAAEshB,EAAsBnC,CAAa,CAAC,EACjE,EAEE7P,EAAO,YAAc,UAAuB,CAC1C,IAAI2D,EAAQ,KAAK,OAAO,cAAe,EAAC,MAAM,KAAK,OAAQ,KAAK,OAAO,EAEvE,GAAIA,IAAU,KAAK,aAInB,KAAIoM,EAAY,KAAK,aACrB,KAAK,aAAepM,EACpB,KAAK,yBAA2BA,EAAM,MACtC,KAAK,oBAAsB,KAAK,cAE5B,KAAK,iBACPoM,GAAa,MAAgBA,EAAU,eAAe,IAAI,EAC1DpM,EAAM,YAAY,IAAI,GAE5B,EAEE3D,EAAO,cAAgB,SAAuBoK,EAAQ,CACpD,IAAIyF,EAAgB,CAAA,EAEhBzF,EAAO,OAAS,UAClByF,EAAc,UAAY,GACjBzF,EAAO,OAAS,SAAW,CAACtD,GAAiBsD,EAAO,KAAK,IAClEyF,EAAc,QAAU,IAG1B,KAAK,aAAaA,CAAa,EAE3B,KAAK,gBACP,KAAK,aAAY,CAEvB,EAEE7P,EAAO,OAAS,SAAgB6P,EAAe,CAC7C,IAAIoC,EAAS,KAEbzJ,GAAc,MAAM,UAAY,CAE1BqH,EAAc,WAChBoC,EAAO,QAAQ,WAAa,MAAgBA,EAAO,QAAQ,UAAUA,EAAO,cAAc,IAAI,EAC9FA,EAAO,QAAQ,WAAa,MAAgBA,EAAO,QAAQ,UAAUA,EAAO,cAAc,KAAM,IAAI,GAC3FpC,EAAc,UACvBoC,EAAO,QAAQ,SAAW,MAAgBA,EAAO,QAAQ,QAAQA,EAAO,cAAc,KAAK,EAC3FA,EAAO,QAAQ,WAAa,MAAgBA,EAAO,QAAQ,UAAU,OAAWA,EAAO,cAAc,KAAK,GAIxGpC,EAAc,WAChBoC,EAAO,UAAU,QAAQ,SAAUpQ,EAAU,CAC3CA,EAASoQ,EAAO,aAAa,CACvC,CAAS,EAICpC,EAAc,OAChBoC,EAAO,OAAO,cAAe,EAAC,OAAO,CACnC,MAAOA,EAAO,aACd,KAAM,wBAChB,CAAS,CAET,CAAK,CACL,EAESvC,CACT,EAAE9N,EAAY,EAEd,SAASsQ,GAAkBvO,EAAOzW,EAAS,CACzC,OAAOA,EAAQ,UAAY,IAAS,CAACyW,EAAM,MAAM,eAAiB,EAAEA,EAAM,MAAM,SAAW,SAAWzW,EAAQ,eAAiB,GACjI,CAEA,SAASyiB,GAAmBhM,EAAOzW,EAAS,CAC1C,OAAOglB,GAAkBvO,EAAOzW,CAAO,GAAKyW,EAAM,MAAM,cAAgB,GAAKiM,GAAcjM,EAAOzW,EAASA,EAAQ,cAAc,CACnI,CAEA,SAAS0iB,GAAcjM,EAAOzW,EAASilB,EAAO,CAC5C,GAAIjlB,EAAQ,UAAY,GAAO,CAC7B,IAAIW,EAAQ,OAAOskB,GAAU,WAAaA,EAAMxO,CAAK,EAAIwO,EACzD,OAAOtkB,IAAU,UAAYA,IAAU,IAAS2jB,GAAQ7N,EAAOzW,CAAO,CACvE,CAED,MAAO,EACT,CAEA,SAAS+iB,GAAsBtM,EAAOoM,EAAW7iB,EAAS4iB,EAAa,CACrE,OAAO5iB,EAAQ,UAAY,KAAUyW,IAAUoM,GAAaD,EAAY,UAAY,MAAW,CAAC5iB,EAAQ,UAAYyW,EAAM,MAAM,SAAW,UAAY6N,GAAQ7N,EAAOzW,CAAO,CAC/K,CAEA,SAASskB,GAAQ7N,EAAOzW,EAAS,CAC/B,OAAOyW,EAAM,cAAczW,EAAQ,SAAS,CAC9C,CCniBO,IAAIklB,GAA0BC,GAAS,wBCC9C7J,GAAc,uBAAuB4J,EAAuB,ECFrD,IAAI3J,GAAS,QCEpBE,GAAUF,EAAM,ECDhB,IAAI6J,GAA8BC,EAAM,cAAc,MAAS,EAC3DC,GAAyCD,EAAM,cAAc,EAAK,EAOtE,SAASE,GAAsBC,EAAgB,CAC7C,OAAIA,GAAkB,OAAO,OAAW,KACjC,OAAO,0BACV,OAAO,wBAA0BJ,IAG5B,OAAO,yBAGTA,EACT,CAEU,IAACK,GAAiB,UAA0B,CACpD,IAAIC,EAAcL,EAAM,WAAWE,GAAsBF,EAAM,WAAWC,EAAyB,CAAC,CAAC,EAErG,GAAI,CAACI,EACH,MAAM,IAAI,MAAM,wDAAwD,EAG1E,OAAOA,CACT,EACWC,GAAsB,SAA6B/gB,EAAM,CAClE,IAAI6Y,EAAS7Y,EAAK,OACdghB,EAAsBhhB,EAAK,eAC3B4gB,EAAiBI,IAAwB,OAAS,GAAQA,EAC1DjjB,EAAWiC,EAAK,SACpBygB,EAAM,UAAU,UAAY,CAC1B,OAAA5H,EAAO,MAAK,EACL,UAAY,CACjBA,EAAO,QAAO,CACpB,CACA,EAAK,CAACA,CAAM,CAAC,EACX,IAAIoI,EAAUN,GAAsBC,CAAc,EAClD,OAAoBH,EAAM,cAAcC,GAA0B,SAAU,CAC1E,MAAOE,CACR,EAAeH,EAAM,cAAcQ,EAAQ,SAAU,CACpD,MAAOpI,CACX,EAAK9a,CAAQ,CAAC,CACd,EC7CA,SAASmjB,IAAc,CACrB,IAAIC,EAAW,GACf,MAAO,CACL,WAAY,UAAsB,CAChCA,EAAW,EACZ,EACD,MAAO,UAAiB,CACtBA,EAAW,EACZ,EACD,QAAS,UAAmB,CAC1B,OAAOA,CACR,CACL,CACA,CAEA,IAAIC,GAA8CX,EAAM,cAAcS,GAAa,CAAA,EAExEG,GAA6B,UAAsC,CAC5E,OAAOZ,EAAM,WAAWW,EAA8B,CACxD,ECrBO,SAASE,GAAiBC,EAAUC,EAAmBtkB,EAAQ,CAEpE,OAAI,OAAOskB,GAAsB,WACxBA,EAAkB,MAAM,OAAQtkB,CAAM,EAI3C,OAAOskB,GAAsB,UAAkBA,EAE5C,CAAC,CAACD,CACX,CCLO,SAASE,GAAarmB,EAASsmB,EAAU,CAC9C,IAAIC,EAAalB,EAAM,OAAO,EAAK,EAE/BpR,EAAkBoR,EAAM,SAAS,CAAC,EAClCmB,EAAcvS,EAAgB,CAAC,EAE/ByR,EAAcD,KACdgB,EAAqBR,KACrB3E,EAAmBoE,EAAY,4BAA4B1lB,CAAO,EAEtEshB,EAAiB,kBAAoB,GAEjCA,EAAiB,UACnBA,EAAiB,QAAUhG,GAAc,WAAWgG,EAAiB,OAAO,GAG1EA,EAAiB,YACnBA,EAAiB,UAAYhG,GAAc,WAAWgG,EAAiB,SAAS,GAG9EA,EAAiB,YACnBA,EAAiB,UAAYhG,GAAc,WAAWgG,EAAiB,SAAS,GAG9EA,EAAiB,WAGf,OAAOA,EAAiB,WAAc,WACxCA,EAAiB,UAAY,KAK3BA,EAAiB,YAAc,IACjCA,EAAiB,UAAY,KAI7BA,EAAiB,UAAYA,EAAiB,oBAE3CmF,EAAmB,YACtBnF,EAAiB,aAAe,KAIpC,IAAIoF,EAAmBrB,EAAM,SAAS,UAAY,CAChD,OAAO,IAAIiB,EAASZ,EAAapE,CAAgB,CACrD,CAAG,EACGlF,EAAWsK,EAAiB,CAAC,EAE7BznB,EAASmd,EAAS,oBAAoBkF,CAAgB,EA2B1D,GA1BA+D,EAAM,UAAU,UAAY,CAC1BkB,EAAW,QAAU,GACrBE,EAAmB,WAAU,EAC7B,IAAItD,EAAc/G,EAAS,UAAUd,GAAc,WAAW,UAAY,CACpEiL,EAAW,SACbC,EAAY,SAAUjqB,EAAG,CACvB,OAAOA,EAAI,CACrB,CAAS,CAEJ,CAAA,CAAC,EAGF,OAAA6f,EAAS,aAAY,EACd,UAAY,CACjBmK,EAAW,QAAU,GACrBpD,GACN,CACA,EAAK,CAACsD,EAAoBrK,CAAQ,CAAC,EACjCiJ,EAAM,UAAU,UAAY,CAG1BjJ,EAAS,WAAWkF,EAAkB,CACpC,UAAW,EACjB,CAAK,CACL,EAAK,CAACA,EAAkBlF,CAAQ,CAAC,EAE3BkF,EAAiB,UAAYriB,EAAO,UACtC,MAAMmd,EAAS,gBAAgBkF,CAAgB,EAAE,KAAK,SAAU1c,EAAM,CACpE,IAAIoX,EAAOpX,EAAK,KAChB0c,EAAiB,WAAa,MAAgBA,EAAiB,UAAUtF,CAAI,EAC7EsF,EAAiB,WAAa,MAAgBA,EAAiB,UAAUtF,EAAM,IAAI,CACzF,CAAK,EAAE,MAAM,SAAUnJ,EAAO,CACxB4T,EAAmB,WAAU,EAC7BnF,EAAiB,SAAW,MAAgBA,EAAiB,QAAQzO,CAAK,EAC1EyO,EAAiB,WAAa,MAAgBA,EAAiB,UAAU,OAAWzO,CAAK,CAC/F,CAAK,EAIH,GAAI5T,EAAO,SAAW,CAACwnB,EAAmB,QAAO,GAAM,CAACxnB,EAAO,YAAcinB,GAAiB5E,EAAiB,SAAUA,EAAiB,iBAAkB,CAACriB,EAAO,MAAOmd,EAAS,gBAAiB,CAAA,CAAC,EACpM,MAAMnd,EAAO,MAIf,OAAIqiB,EAAiB,sBAAwB,YAC3CriB,EAASmd,EAAS,YAAYnd,EAAQqiB,CAAgB,GAGjDriB,CACT,CCrGO,SAAS0nB,GAAS9Q,EAAMC,EAAMC,EAAM,CACzC,IAAIsL,EAAgBzL,GAAeC,EAAMC,EAAMC,CAAI,EACnD,OAAOsQ,GAAahF,EAAemB,EAAa,CAClD,CCgBO,SAASoE,GACd5mB,EACA,CACA,KAAM,CAAE,YAAA6mB,EAAa,WAAAC,CAAW,EAAIC,GAAkB,EAC/C,OAAAJ,GACLG,EAAW,6BAA6B,EACxC,IAAME,GAAc,qBAAqBH,CAAW,EACpD7mB,CAAA,CAEJ,CAEO,SAASinB,GACdjnB,EACA,CACA,KAAM,CAAE,YAAA6mB,EAAa,WAAAC,CAAW,EAAIC,GAAkB,EAChDlQ,EAAWiQ,EAAW,gCAErB,OAAAH,GACL9P,EACA,IAAMmQ,GAAc,eAAeH,CAAW,EAC9C7mB,CAAA,CAEJ,CAEA,MAAMknB,GACJC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEK,SAASC,GACdC,EACAC,EAAeV,GACflnB,EACA,CACA,KAAM,CAAE,YAAA6mB,EAAa,WAAAC,CAAW,EAAIC,GAAkB,EAChDlQ,EAAWiQ,EAAW,sBAAsBa,EAAQC,CAAI,EAEvD,OAAAjB,GACL9P,EACA,IAAMmQ,GAAc,cAAcW,EAAQC,EAAMf,CAAW,EAC3D7mB,CAAA,CAEJ,CAEgB,SAAA6nB,GACdD,EAAeV,GACflnB,EACA,CACA,KAAM,CAAE,YAAA6mB,EAAa,WAAAC,CAAW,EAAIC,GAAkB,EAEhDlQ,EAAWiQ,EAAW,sBAAsB,UAAWc,CAAI,EAE1D,OAAAjB,GACL9P,EACA,IAAMmQ,GAAc,gBAAgBY,EAAMf,CAAW,EACrD7mB,CAAA,CAEJ,CAEgB,SAAA8nB,GACdC,EACA/nB,EACA,CACA,KAAM,CAAE,YAAA6mB,EAAa,WAAAC,CAAW,EAAIC,GAAkB,EAChDlQ,EAAWiQ,EAAW,uBAAuBiB,CAAW,EAExDC,EAAyB,GAAGD,CAAW,gBACvCE,EAAc,eAAe,QAAQD,CAAsB,EAE1D,OAAArB,GACL9P,EACA,IAAMmQ,GAAc,mBAAmBH,EAAakB,CAAW,EAC/D,CACE,GAAG/nB,EAGH,YAAaioB,EACR,KAAK,MAAMA,CAAW,EACvB,OAGJ,UAAsBC,GAAA,CACpB,eAAe,QAAQF,EAAwB,KAAK,UAAUE,CAAO,CAAC,CACxE,CACF,CAAA,CAEJ,CAEgB,SAAAC,GACdC,EACApoB,EAIA,CACA,KAAM,CAAE,YAAA6mB,EAAa,WAAAC,CAAW,EAAIC,GAAkB,EAEhDlQ,EAAWiQ,EAAW,0BAA0BsB,CAAO,EAEtD,OAAAzB,GACL9P,EACA,UAEI,MAAMmQ,GAAc,yBAAyBH,EAAauB,CAAO,GACjE,YAEJpoB,CAAA,CAEJ,CAEO,SAASqoB,IAA4B,CAC1C,OAAOR,GAAiC,OAAW,CACjD,UAAgB7L,EAAK,WAAA,CACtB,CACH,CCpIA,MAAAsM,GAAA,CAAgE,IAAA,6VACzD,kBAAA,6VAEH,iBAAA,6VAGJ,EA0BO,SAAAC,GAAAzO,EAAA,CACL,KAAA,CAAM,eAAA0O,EACJ,aAAAC,EACA,iBAAAC,EACA,YAAAX,EACA,gBAAAY,EACA,iBAAAC,EACA,oBAAAC,EACA,YAAAC,EACA,oBAAAC,EACA,cAAAC,CACA,EAAAlP,EAEF,GAAA,CACE,GAAA,OAAA,QAAA,KACE,MAAA,IAAA,MAAU,gEACR,EAIJ,OAAA,OAAA,KAAA,CAAmB,IAAAwO,GAAAE,CAAA,EAC0B,KAAA,MACrC,MAAA,GACC,SAAA,QACG,CAAA,EAGZ,OAAA,kBAAA,CAA2B,gBAAA,SAAAS,EAAA,CAEvBA,GAAoB,EACtB,YAAA,CAEa,QAAAR,EACF,YAAAC,EACI,SAAAM,EACH,kBAAAJ,EACS,MAAAA,EACZ,kBAAAG,EACY,kBAAAhB,EACA,kBAAAY,EACA,kBAAAE,EACA,SAAAF,EACT,WAAAG,CACE,CAEd,CACF,OAAAhe,EAAA,CAEA,QAAA,MAAAA,CAAA,CAAiB,CAErB,CAaO,SAAAoe,GAAApP,EAAA,CACL,KAAA,CAAM,KAAAqP,EACJ,eAAAX,EACA,aAAAC,EACA,iBAAAC,EACA,cAAAM,EACA,oBAAAD,EACA,oBAAAF,EACA,YAAAC,CACA,EAAAhP,EAGF,CAAA,YAAA+M,GAAAE,KAEA,CAAA,KAAAqC,EAAA,UAAAC,CAAA,EAAApC,GAAA,CAC2B,QAAA,CAAA,CAAAJ,CACZ,CAAA,EAEf,CAAA,KAAAyC,EAAA,UAAAC,CAAA,EAAA3C,GAAA,CAC0B,QAAA,CAAA,CAAAC,CACX,CAAA,EAGftc,EAAAA,UAAA,IAAA,CACE4e,GAAAtC,EACEuC,GAAAE,EACEf,GAAA,CAAuB,eAAAC,EACrB,aAAAC,EACA,iBAAAC,EACA,oBAAAG,EACA,YAAAC,EACA,oBAAAC,EACA,cAAAC,EACA,YAAAI,EAAA,QACyB,gBAAAA,EAAA,YACI,iBAAAE,EAAA,KACO,CAAA,EAGtC,QAAA,KAAA,6CAAA,EACFH,GAAA,CAAAtC,GAEA,QAAA,MAAA,4CAAA,CACF,EAAA,CAAAsC,EAAAtC,EAAAwC,EAAAE,CAAA,CAAA,CAIJ,2jFC7IA,MAAAC,GAAA,CAAA,CAAA,UAAAjjB,EAAA,MAAAW,KACEuiB,EACEC,GAAC,CAAA,KAAA,SACM,MAAAxiB,EACL,UAAA,gBAAAyiB,EAAA,IAAApjB,CAAA,GACyD,SAAA,SAC1D,CAAA,4SCGE,MAAAqjB,GAAA,kDAGAC,GAAA,IACLC,GAAAC,GAAA,CAAA,SAAA,CACI,UAAAN,EAAAD,GAAA,EAAA,EACqB,yBAAE,CAAA,CAAA,EAKtBQ,GAAAvnB,GAAA,CACL,KAAA,CAAAwnB,EAAAC,CAAA,EAAA5f,EAAA,SAAA,EAAA,EACA,CAAA,YAAAuc,GAAAE,KACA,CAAA,MAAAlU,CAAA,EAAApQ,EACA0nB,GAAAtX,EAAA,SAAA,KAAAA,EAAA,SAAA,MAAA,CAAAgU,EAEAuD,EAAAvX,EAAA,SAAA,KAAAgU,EAUA,OARAqC,GAAA,CAAsB,KAAArW,EAAA,QAAA,IACE,eAAA,MACN,aAAA,GACF,iBAAAA,EAAA,OACU,cAAA,GACT,CAAA,EAGjBsX,EACEV,EAAAI,GAAA,CAAA,CAAA,EAAqBO,EAErBN,GAAAC,GAAA,CAAA,SAAA,CAEID,GAAAO,GAAA,CAAA,UAAA,MAAA,QAAA,EAAA,SAAA,CACEZ,EAAAa,GAAA,CAAA,QAAA,OAAA,WAAA,SAAA,SAAAV,GAAA,EAEAE,GACAS,GAAC,CAAA,QAAA,OACS,QAAA,IAAAL,EAAAf,GAAA,CAAAA,CAAA,EACyC,SAAA,CAEhDc,EAAA,OAAA,OAA6B,UAAO,CAAA,CAAA,CACvC,EAAA,EACFR,EAAAxjB,GAAA,CAAA,GAAAgkB,EAAA,SAAAR,EAAAa,GAAA,CAAA,WAAA,EAAA,SAAAb,EAAA,MAAA,CAAA,SAAA5W,EAAA,MAAA,CAAA,CAAA,CAAA,EAAA,CAKA,CAAA,CAAA,EAIJ4W,EAAAM,GAAA,CAAA,SAAAlX,EAAA,MAAA,CAAA,CAEJ,EAEO2X,GAAA/nB,GAAA,CACL,KAAA,CAAA,MAAAoQ,EAAA,eAAA4X,CAAA,EAAAhoB,EAEA,GAAA,CAAAoQ,EACE,OAAA4W,EAAAM,GAAA,CAAA,CAAA,EAGF,IAAAW,EACAC,EACAC,EACA,OAAA/X,aAAAuB,GACEsW,EAAA7X,EAAqBA,aAAA,MAErB8X,EAAA9X,EAAU,OAAAA,GAAA,WAEV+X,EAAA/X,GAEF4W,EACEoB,GAAC,CAAA,QAAA,SACU,SAAA,GACC,YAAAf,GAAAC,GAAA,CAAA,SAAA,CAGLW,GAAAjB,EAAAO,GAAA,CAAA,MAAAU,CAAA,CAAA,EAA8DC,GAAAA,EAAA,QAC3CC,GAAAA,CACJ,EAAA,EAClB,oBAAAH,GAAA,CAGkB,KAAA,SACV,QAAAA,CACG,CACX,CAAA,CAIR,EAEOK,GAAA,CAAA,CAAwE,MAAAjY,EAC7E,mBAAAkY,CAEF,IACEtB,EAAA,MAAA,CAAA,UAAA,sBAAA,SAAAA,EAEIe,GAAC,CAAA,MAAA3X,EACC,eAAAkY,CACgB,CAAA,CAAA,CAAA,EAMjBC,GAAA,CAAA,CAAA,MAAAnY,EAAA,mBAAAkY,KAGLtB,EAAA,KAAA,CAAA,SAAAA,EAAA,KAAA,CAAA,QAAA,IAAA,SAAAA,EAAAe,GAAA,CAAA,MAAA3X,EAAA,eAAAkY,EAAA,CAAA,CAAA,CAAA,CAAA,EAiBKE,GAAAxoB,GAAAgnB,EAAAtX,GAAA,CAAA,kBAAA2Y,GAAA,GAAAroB,EAAA;;;mHC3IS,SAAAyoB,GAAgBjrB,EAA8BkrB,EAAU,GAAO,CAC7E,OAAIA,GACK,OAAA,KAAKlrB,CAAG,EAAE,QAAQM,GACvBN,EAAIM,CAAG,IAAM,OAAY,OAAON,EAAIM,CAAG,EAAI,CAAC,CAAA,EAEvCN,GAEA,OAAO,KAAKA,CAAG,EAAE,OAAO,CAACmrB,EAA8B7qB,IAAQ,CACpE,MAAM8qB,EAAOD,EACT,OAAAnrB,EAAIM,CAAG,IAAM,SAAgB8qB,EAAA9qB,CAAG,EAAIN,EAAIM,CAAG,GACxC8qB,CACT,EAAG,CAAE,CAAA,CAET,CCbO,SAASC,GAAgCxpB,EAAsB,CAC9D,MAAA7C,EAAS,CAAC,GAAG6C,CAAM,EACzB,IAAIypB,EAActsB,EAAOA,EAAO,OAAS,CAAC,EAExC,KAAAA,EAAO,OAAS,IACfssB,IAAgB,QAEd,OAAOA,GAAgB,UACtBzZ,GAAQoZ,GAAgBK,CAAW,CAAC,IAExCtsB,EAAO,IAAI,EACGssB,EAAAtsB,EAAOA,EAAO,OAAS,CAAC,EAEjC,OAAAA,CACT,CCSA,MAAMusB,EAAwB,CAE5B,IAAK,CAAE,WAAY,QAAS,EAE5B,OAASC,IAAgB,CAAE,GAAGD,EAAsB,IAAK,GAAAC,IAEzD,QAAS,CAACA,EAAYC,KAAqC,CACzD,GAAGF,EAAsB,OAAOC,CAAE,EAClC,cAAAC,CAAA,GAGF,SAAWD,IAAgB,CACzB,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,UAAA,GAET,cAAe,CAACA,EAAYE,EAAeC,KAAoB,CAC7D,GAAGJ,EAAsB,SAASC,CAAE,EACpC,aAAc,CACZ,MAAAE,EACA,OAAAC,CACF,CAAA,GAGF,KAAOH,IAAgB,CACrB,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,MAAA,GAGT,cAAgBA,GAAe,CAC7BD,EAAsB,OAAOC,CAAE,EAC/B,eACF,EACA,YAAcA,GAAe,CAC3BD,EAAsB,OAAOC,CAAE,EAC/B,aACF,EACA,gBAAkBA,GAAe,CAC/BD,EAAsB,OAAOC,CAAE,EAC/B,iBACF,EACA,SAAU,CAACA,EAAYC,KAA4B,CACjD,GAAGF,EAAsB,QAAQC,CAAE,EACnC,MAAO,UAAA,GAGT,KAAOA,IAAgB,CACrB,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,MAAA,GAIT,OAAQ,CACNA,EACAC,EACAG,KACI,CACJ,GAAGL,EAAsB,QAAQC,EAAIC,CAAa,EAClD,MAAO,eACP,oBAAqBG,CAAA,GAEvB,SAAU,CAACzD,EAAgC0D,KAAuB,CAChE,GAAGN,EAAsB,OAAOpD,EAAQ,UAAY,MAAM,EAC1D,MAAO,WACP,WAAY0D,EACZ,sBAAuB1D,CAAA,GAGzB,iBAAkB,CAChB2D,EACAD,KACI,CACJ,GAAGN,EAAsB,OAAOO,EAAmB,QAAQ,EAC3D,MAAO,mBACP,WAAYD,EACZ,wBAAyBC,CAAA,GAG3B,gCAAiC,CAC/BA,EACAD,KACI,CACJ,GAAGN,EAAsB,OAAOO,EAAmB,QAAQ,EAC3D,MAAO,kCACP,WAAYD,EACZ,wBAAyBC,CAAA,GAG3B,qBAAsB,CACpBA,EACAC,KACI,CACJ,GAAGR,EAAsB,OAAOO,EAAmB,QAAQ,EAC3D,MAAO,uBACP,wBAAyBA,EACzB,eAAAC,CAAA,GAGF,gBAAkBP,IAAgB,CAChC,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,iBAAA,GAGT,wBAA0BA,IAAgB,CACxC,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,yBAAA,GAET,OAASA,IAAgB,CACvB,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,eAAA,GAET,QAAUQ,IAA+B,CACvC,GAAGT,EAAsB,IACzB,MAAO,gBACP,qBAAsBS,CAAA,GAExB,mBAAqBR,IAAgB,CACnC,GAAGD,EAAsB,OAAOC,CAAE,EAClC,MAAO,oBAAA,EAEX,EAEMS,GAAwB,CAE5B,KAAM,eACN,eAAiB9D,GAAmC,CAClD8D,GAAsB,KACtB,iBACA9D,CACF,EACA,uBAAyBA,GAAmC,CAC1D8D,GAAsB,eAAe9D,CAAO,EAC5C,UACF,EACA,mBAAoB,IAAM,CAAC8D,GAAsB,KAAM,iBAAiB,EACxE,2BAA4B,IAAM,CAChC,GAAGA,GAAsB,mBAAmB,EAC5C,UACF,EACA,cAAe,IAAM,CAACA,GAAsB,KAAM,YAAY,CAChE,EAEMC,GAA+B,oBAW9B,MAAMC,EAAW,CAEtB,YAAYvF,EAAiC,CAD7CpS,GAAA,oBAEE,KAAK,YAAcoS,CACrB,CAQQ,UAAUlU,EAAuB,CAChC,MAAA,CACL,KAAK,cAAgB,OACjB,KAAK,YACL,KAAK,OAAO0Z,GAAS,KAAK,WAAW,CAAC,CAAC,EAC3C,GAAGf,GAAgC3Y,CAAI,CAAA,CAE3C,CAEO,0BAA2B,CACzB,OAAA,KAAK,OAAO6Y,EAAsB,GAAG,CAC9C,CAEO,kBAAkBC,EAAY,CACnC,OAAO,KAAK,OAAOD,EAAsB,OAAOC,CAAE,CAAC,CACrD,CAEO,0BAA0BA,EAAYC,EAAwB,CACnE,OAAO,KAAK,OAAOF,EAAsB,SAASC,EAAIC,CAAa,CAAC,CACtE,CAEO,iCAAiCD,EAAY,CAClD,OAAO,KAAK,OAAO,GAAGD,EAAsB,cAAcC,CAAE,CAAC,CAC/D,CAEO,2BAA2BA,EAAY,CAC5C,OAAO,KAAK,OAAO,GAAGD,EAAsB,gBAAgBC,CAAE,CAAC,CACjE,CAEO,iBAAiBA,EAAY,CAClC,OAAO,KAAK,OAAO,GAAGD,EAAsB,YAAYC,CAAE,CAAC,CAC7D,CAEO,yBAAyBA,EAAYC,EAAiC,CAC3E,OAAO,KAAK,OAAOF,EAAsB,QAAQC,EAAIC,CAAa,CAAC,CACrE,CAEO,mCACLD,EACAE,EACAC,EACA,CACA,OAAO,KAAK,OAAOJ,EAAsB,cAAcC,EAAIE,EAAOC,CAAM,CAAC,CAC3E,CACO,0BAA0BH,EAAY,CAC3C,OAAO,KAAK,OAAOD,EAAsB,SAASC,CAAE,CAAC,CACvD,CAEO,0BACLrD,EACA0D,EACA,CACA,OAAO,KAAK,OAAON,EAAsB,SAASpD,EAAS0D,CAAQ,CAAC,CACtE,CAEO,sBAAsBL,EAAY,CACvC,OAAO,KAAK,OAAOD,EAAsB,KAAKC,CAAE,CAAC,CACnD,CAEO,wBACLA,EACAa,EACAT,EACA,CACA,OAAO,KAAK,OAAOL,EAAsB,OAAOC,EAAIa,EAAST,CAAa,CAAC,CAC7E,CAEO,sBAAsBJ,EAAY,CACvC,OAAO,KAAK,OAAOD,EAAsB,KAAKC,CAAE,CAAC,CACnD,CAEO,qBAAqBc,EAAkB,CACrC,OAAA,KAAK,OAAO,YAAaA,CAAQ,CAC1C,CAEO,uBAAuBC,EAAe,CACpC,OAAA,KAAK,OAAO,cAAeA,CAAK,CACzC,CAEO,6BAA6BD,EAAkB,CAC7C,OAAA,KAAK,OAAO,oBAAqBA,CAAQ,CAClD,CAEO,6BAA6BA,EAAkB,CAC7C,OAAA,KAAK,OAAO,oBAAqBA,CAAQ,CAClD,CAEO,iCAAiCd,EAAY,CAClD,OAAO,KAAK,OAAOD,EAAsB,gBAAgBC,CAAE,CAAC,CAC9D,CAEO,yCAAyCA,EAAY,CAC1D,OAAO,KAAK,OAAOD,EAAsB,wBAAwBC,CAAE,CAAC,CACtE,CAEO,wBAAwBA,EAAY,CACzC,OAAO,KAAK,OAAOD,EAAsB,OAAOC,CAAE,CAAC,CACrD,CAEO,oCAAoCA,EAAY,CACrD,OAAO,KAAK,OAAOD,EAAsB,mBAAmBC,CAAE,CAAC,CACjE,CAEO,yBAAyBQ,EAA2B,CACzD,OAAO,KAAK,OAAOT,EAAsB,QAAQS,CAAU,CAAC,CAC9D,CAEO,kCACLF,EACAD,EACA,CACA,OAAO,KAAK,OACVN,EAAsB,iBAAiBO,EAAoBD,CAAQ,CAAA,CAEvE,CAEO,iDACLC,EACAD,EACA,CACA,OAAO,KAAK,OACVN,EAAsB,gCACpBO,EACAD,CACF,CAAA,CAEJ,CAEO,gCACLC,EACAC,EACA,CACA,OAAO,KAAK,OACVR,EAAsB,qBACpBO,EACAC,CACF,CAAA,CAEJ,CAEO,6BAA8B,CAC5B,OAAA,KAAK,OAAOE,GAAsB,IAAI,CAC/C,CAEO,sCAAsC9D,EAAgC,CAC3E,OAAO,KAAK,OAAO,GAAG8D,GAAsB,eAAe9D,CAAO,CAAC,CACrE,CAEO,8CACLA,EACA,CACA,OAAO,KAAK,OAAO,GAAG8D,GAAsB,uBAAuB9D,CAAO,CAAC,CAC7E,CAEO,wCAAyC,CAC9C,OAAO,KAAK,OAAO,GAAG8D,GAAsB,mBAAoB,CAAA,CAClE,CACO,gDAAiD,CACtD,OAAO,KAAK,OAAO,GAAGA,GAAsB,2BAA4B,CAAA,CAC1E,CAEO,mCAAoC,CACzC,OAAO,KAAK,OAAO,GAAGA,GAAsB,cAAe,CAAA,CAC7D,CAEO,8BAA8BpqB,EAAsC,CAClE,OAAA,KAAK,OAAO,uBAAwBA,CAAM,CACnD,CAEO,6BAA6B2pB,EAAa,CACxC,OAAA,KAAK,OAAOU,GAA8BV,CAAE,CACrD,CAEO,gCAAgCA,EAAY,CACjD,OAAO,KAAK,OAAOU,GAA8BV,EAAI,KAAK,CAC5D,CAEO,iCACL3pB,EACA,CACA,OAAO,KAAK,OAAOqqB,GAA8B,SAAUrqB,CAAM,CACnE,CAEO,gCAAgC2pB,EAAY,CACjD,OAAO,KAAK,OAAOU,GAA8BV,EAAI,aAAa,CACpE,CAEO,mDACLrD,EACA,CACA,OAAO,KAAK,OACV+D,GACA,yBACA/D,CAAA,CAEJ,CAEO,mCAAmCqD,EAAY,CACpD,OAAO,KAAK,OAAOU,GAA8BV,EAAI,QAAQ,CAC/D,CAEO,sCAAsC1C,EAA6B,CACxE,OAAO,KAAK,OACVoD,GACApD,EACA,4BAAA,CAEJ,CAEO,4CACLA,EACA,CACA,OAAO,KAAK,OACVoD,GACApD,EACA,iBAAA,CAEJ,CAEO,6CACL0D,EACA,CACA,OAAO,KAAK,OACVN,GACA,iBACAM,CAAA,CAEJ,CAEO,gCAAgChB,EAAa,CAC3C,OAAA,KAAK,OAAO,uBAAwBA,CAAE,CAC/C,CAEO,mCAAmC3pB,EAAkC,CACnE,OAAA,KAAK,OAAO,yBAA0BA,CAAM,CACrD,CAEO,kCACLsmB,EACA,CACO,OAAA,KAAK,OAAO,yBAA0BA,CAAO,CACtD,CAEO,4BAA4BsE,EAAmB,CAC7C,OAAA,KAAK,OAAO,mBAAoBA,CAAS,CAClD,CAEO,+BACLC,EACAvE,EACAwE,EACA,CACA,OAAO,KAAK,OAAO,sBAAuBD,EAAYvE,EAASwE,CAAY,CAC7E,CAEO,sCACLC,EACAb,EACA,CACA,OAAO,KAAK,OACV,6BACAa,EACAb,CAAA,CAEJ,CAEO,wBAAwBrE,EAAgB,CACtC,OAAA,KAAK,OAAO,mBAAoBA,CAAM,CAC/C,CAEO,oCAAoCmF,EAA2B,CACpE,OAAO,KAAK,OAAO,oBAAqB,UAAWA,CAAiB,CACtE,CAEO,2BAA2BC,EAAiB,CAC1C,OAAA,KAAK,OAAO,aAAcA,CAAO,CAC1C,CAEO,yBAAyBA,EAAiB,CAC/C,OAAO,KAAK,OAAO,cAAeA,EAAS,UAAU,CACvD,CAEO,2BAA2BA,EAAiB,CAC1C,OAAA,KAAK,OAAO,cAAeA,CAAO,CAC3C,CAEO,wBACLA,EACApB,EACAqB,EACAC,EACAC,EACA,CACO,OAAA,KAAK,OAAO,cAAeH,EAAS,CACzC,MAAApB,EACA,OAAAuB,EACA,KAAAF,EACA,UAAAC,CAAA,CACD,CACH,CAEO,sBAAsBE,EAAkB,CACtC,OAAA,KAAK,OAAO,QAASA,CAAQ,CACtC,CAEO,mBACLA,EACAF,EACAtB,EACAqB,EACAE,EACA,CACO,OAAA,KAAK,OAAO,QAASC,EAAU,CAAE,MAAAxB,EAAO,OAAAuB,EAAQ,KAAAF,EAAM,UAAAC,CAAA,CAAW,CAC1E,CAEO,iBACLE,EACAC,EACAC,EACA,CACA,OAAO,KAAK,OAAO,QAASF,EAAU,CAAE,QAAAC,EAAS,WAAAC,EAAY,CAC/D,CAEO,kBAAkBF,EAAkB,CAClC,OAAA,KAAK,OAAO,SAAUA,CAAQ,CACvC,CAEO,sBAAsBA,EAAkBE,EAAoB,CACjE,OAAO,KAAK,OAAO,SAAUF,EAAUE,CAAU,CACnD,CAEO,2BAA4B,CAC1B,OAAA,KAAK,OAAO,aAAa,CAClC,CAEO,0BACLC,EACAC,EACA7B,EACA,CACA,OAAO,KAAK,OAAO,CACjB,MACA,cACA4B,EACAC,EACA7B,CAAA,CACD,CACH,CAEO,2BAA4B,CAC1B,OAAA,KAAK,OAAO,aAAa,CAClC,CAEO,uBACL6B,EACAD,EACA,CACA,OAAO,KAAK,OAAO,cAAeC,EAAUD,CAAU,CACxD,CAEO,6BAA8B,CAC5B,OAAA,KAAK,OAAO,cAAc,CACnC,CAEO,4BAA4B7W,EAA2B,CAC5D,OAAO,KAAK,OAAO,eAAgB,MAAOA,CAAK,CACjD,CAEO,wBACL8W,EACAD,EACA,CACA,OAAO,KAAK,OAAO,eAAgBC,EAAUD,CAAU,CACzD,CAEO,0BAA0B7W,EAAoB,CAC5C,OAAA,KAAK,OAAO,iBAAkBA,CAAK,CAC5C,CAEO,gBAAgB+W,EAAgB,CAC9B,OAAA,KAAK,OAAO,OAAQA,CAAM,CACnC,CAEO,oBAAoBC,EAAiB,CAC1C,OAAO,KAAK,OAAO,OAAQA,EAAS,UAAU,CAChD,CAEO,6BAA6BC,EAAqB,CACvD,OAAO,KAAK,OAAO,YAAaA,EAAa,UAAU,CACzD,CAEO,uBAAuBF,EAAgB,CAC5C,OAAO,KAAK,OAAO,OAAQA,EAAQ,aAAa,CAClD,CAEO,8BAA8BA,EAAgB7F,EAAgB,CACnE,OAAO,KAAK,OAAO,OAAQ6F,EAAQ,SAAU7F,CAAM,CACrD,CAEO,4BAA4B6F,EAAgB7F,EAAgB,CACjE,OAAO,KAAK,OAAO,OAAQ6F,EAAQ,mBAAoB7F,CAAM,CAC/D,CAEO,kCAAkC6F,EAAgB,CACvD,OAAO,KAAK,OAAO,OAAQA,EAAQ,oBAAoB,CACzD,CAEO,sBAAuB,CACrB,OAAA,KAAK,OAAO,WAAW,CAChC,CAEO,yBACLR,EACAW,EACA,CACA,OAAO,KAAK,OAAO,YAAaX,EAAMW,CAAa,CACrD,CAEO,iCACLX,EACAW,EACA,CACA,OAAO,KAAK,OAAO,YAAa,WAAYX,EAAMW,CAAa,CACjE,CACO,0BAA2B,CACzB,OAAA,KAAK,OAAO,WAAY,MAAM,CACvC,CAEO,0BAA0BhG,EAAgB,CACxC,OAAA,KAAK,OAAO,iBAAkBA,CAAM,CAC7C,CAEO,2BAA2B+F,EAAqB,CAC9C,OAAA,KAAK,OAAO,kBAAmBA,CAAW,CACnD,CAEO,wBACL/F,EACAiG,EACA,CACA,OAAO,KAAK,OAAO,eAAgBjG,EAAQiG,CAAa,CAC1D,CAEO,qBAAqBjG,EAAgB,CACnC,OAAA,KAAK,OAAO,YAAaA,CAAM,CACxC,CAEO,iCAAkC,CAChC,OAAA,KAAK,OAAO,sBAAsB,CAC3C,CAEO,sBAAsB7lB,EAAgC,CACpD,OAAA,KAAK,OAAO,aAAcA,CAAM,CACzC,CAEO,8BAA+B,CAC7B,OAAA,KAAK,OAAO,mBAAmB,CACxC,CAEO,+BAAgC,CACrC,OAAO,KAAK,OAAO,OAAQ,UAAW,SAAS,CACjD,CAEO,sBAAsB6lB,EAAgBC,EAAe,CAC1D,OAAO,KAAK,OAAO,OAAQD,EAAQ,SAAUC,CAAI,CACnD,CAEO,uBAAuBD,EAAgB,CAC5C,OAAO,KAAK,OAAO,OAAQA,EAAQ,SAAS,CAC9C,CAEO,0BAA0BS,EAAgC,CACxD,OAAA,KAAK,OAAO,iBAAkBA,CAAO,CAC9C,CAEO,2BAA2BqD,EAAY,CACrC,OAAA,KAAK,OAAO,kBAAmBA,CAAE,CAC1C,CACO,oCAAoCoC,EAAmB,CACrD,OAAA,KAAK,OAAO,kBAAmBA,CAAO,CAC/C,CAEO,iCACLC,EACAZ,EACA,CACA,OAAO,KAAK,OAAO,kBAAmB,SAAUY,EAAQZ,CAAM,CAChE,CAEO,gCAAiC,CAC/B,OAAA,KAAK,OAAO,qBAAqB,CAC1C,CAEO,gBAAgB9E,EAA2B,CACzC,OAAA,KAAK,OAAO,YAAaA,CAAO,CACzC,CAEO,8BACLqD,EACAG,EACAD,EACAqB,EACAW,EACA,CACA,OAAO,KAAK,OAAO,YAAalC,EAAIG,EAAQD,EAAOqB,EAAMW,CAAa,CACxE,CACF,CCzqBA,MAAAvI,GAAA,CAAuB,YAAA,OACR,qBAAA,GACS,QAAA,GACb,kBAAA,GACU,WAAA,IAAAgH,GAAA,MAAA,EACiB,oBAAA,eAEtC,EAKO2B,GAAA1I,EAAA,cAAAD,EAAA,EAcA,SAAA4I,GAAAvrB,EAAA,CACL,KAAA,CAAA,SAAAE,EAAA,eAAAsrB,CAAA,EAAAxrB,EACAyrB,EAAAC,EAAA,QAAwB,IAAA,IAAA/B,GAAA6B,EAAA,WAAA,EAC0B,CAAAA,EAAA,WAAA,CACpB,EAG9BG,EAAAD,EAAA,QAA2C,KAAA,CAClC,YAAAF,EAAA,YACwB,qBAAAA,EAAA,sBAAA,GACiC,QAAAA,EAAA,SAAA,GAC1B,kBAAAA,EAAA,mBAAA,GACoB,oBAAAA,EAAA,qBAAA,gBAEf,WAAAA,EAAA,YAAAC,CACC,GAC5C,CACAD,EAAA,YACkBA,EAAA,oBACAA,EAAA,qBACAA,EAAA,WACAA,EAAA,QACAA,EAAA,kBACAC,CAChB,CACF,EAGF,OAAAzE,EAAAsE,GAAA,SAAA,CAAA,MAAAK,EAAA,SAAAA,GAAA,MAAAA,EAAA,kBAAA3E,EAAAwB,GAAA,CAAA,SAAAtoB,CAAA,CAAA,EAAAA,CAAA,CAAA,CASF,CAEO,MAAA0rB,GAAAN,GAAA,SAEA,SAAAhH,IAAA,CACL,MAAAhK,EAAAuR,aAAAP,EAAA,EACA,GAAAhR,IAAA,OACE,MAAA,IAAA,MAAU,gEACR,EAGJ,OAAAA,CACF;;sjBC7FG,IAACwR,IAAkCC,IACpCA,EAAe,SAAc,WAC7BA,EAAe,QAAa,UACrBA,IACND,IAAiB,CAAA,CAAE,EAClBE,IAA4CC,IAC9CA,EAAyB,YAAiB,cAC1CA,EAAyB,WAAgB,aAClCA,IACND,IAA2B,CAAA,CAAE,EAS5BE,IAAwCC,IAC1CA,EAAqB,YAAiB,cACtCA,EAAqB,WAAgB,aAC9BA,IACND,IAAuB,CAAA,CAAE,EAGxBE,IAA+BC,IACjCA,EAAY,YAAiB,cAC7BA,EAAY,aAAkB,eAC9BA,EAAY,cAAmB,gBACxBA,IACND,IAAc,CAAA,CAAE,EAGfE,IAAoCC,IACtCA,EAAiB,UAAe,YAChCA,EAAiB,SAAc,WAC/BA,EAAiB,SAAc,WAC/BA,EAAiB,UAAe,YACzBA,IACND,IAAmB,CAAA,CAAE,EAGpBE,GAAoB,CACtB,OAAQ,CACN,YAAa,SACb,YAAa,8DACd,EACD,KAAM,CACJ,YAAa,OACb,YAAa,mDACd,EACD,OAAQ,CACN,YAAa,SACb,YAAa,gFACd,EACD,SAAU,CACR,YAAa,WACb,YAAa,2DACd,EACD,UAAW,CACT,YAAa,YACb,YAAa,oEACd,EACD,eAAgB,CACd,YAAa,iBACb,YAAa,mHACd,CACH,EAGIC,IAAgCC,IAClCA,EAAa,OAAY,SACzBA,EAAa,KAAU,OACvBA,EAAa,OAAY,SACzBA,EAAa,OAAY,SACzBA,EAAa,mBAAwB,qBACrCA,EAAa,SAAc,WAC3BA,EAAa,OAAY,SACzBA,EAAa,YAAiB,cAC9BA,EAAa,OAAY,SACzBA,EAAa,wBAA6B,0BAC1CA,EAAa,kBAAuB,oBACpCA,EAAa,kBAAuB,oBACpCA,EAAa,uBAA4B,yBACzCA,EAAa,aAAkB,eAC/BA,EAAa,gBAAqB,kBAClCA,EAAa,SAAc,WAC3BA,EAAa,mBAAwB,qBAC9BA,IACND,IAAe,CAAA,CAAE,EAGhBE,IAAyCC,IAC3CA,EAAsBA,EAAsB,OAAY,CAAC,EAAI,SAC7DA,EAAsBA,EAAsB,OAAY,CAAC,EAAI,SAC7DA,EAAsBA,EAAsB,KAAU,CAAC,EAAI,OAC3DA,EAAsBA,EAAsB,aAAkB,CAAC,EAAI,eAC5DA,IACND,IAAwB,CAAA,CAAE,EAUzBE,GAA2C,0DAG3CC,IAA0CC,IAC5CA,EAAuB,kBAAuB,oBAC9CA,EAAuB,gBAAqB,kBAC5CA,EAAuB,yBAA8B,2BACrDA,EAAuB,aAAkB,eAClCA,IACND,IAAyB,CAAA,CAAE,EAC1BE,IAAyCC,IAC3CA,EAAsB,WAAgB,aAC/BA,IACND,IAAwB,CAAA,CAAE,EACzBE,IAAqCC,IACvCA,EAAkB,UAAe,YACjCA,EAAkB,aAAkB,eACpCA,EAAkB,gBAAqB,kBAChCA,IACND,IAAoB,CAAA,CAAE,EAGrBE,GAAwC,yDAGxCC,GAAkC,4CAGlCC,GAAwC,wDAGxCC,GAA6B,EAC7BC,GAAgC,EAOhCC,GAAkC,kDAGlCC,GAAsC,sDAGtCC,GAA8B,+CAC9BC,GAAyC,yDAGzCC,GAAoC,oDAGpCC,GAAmC,mDACnCC,GAA4B,CAC9BN,GACAC,GACAC,GACAC,EACF,EACII,GAA6B,CAC/BF,GACA,GAAGC,GACHT,GACAO,EACF,EASII,GAA6B,wCAG7BC,GAA2B,sCAG3BC,GAA8B,yCAG9BC,GAA2B,CAC7B,cAAe,GACf,kBAAmB,GACnB,mBAAoB,GACpB,mBAAoB,GACpB,mBAAoB,GACpB,yBAA0B,GAC1B,mBAAoB,GACpB,mBAAoB,GACpB,kBAAmB,GACnB,qBAAsB,GACtB,sBAAuB,GACvB,gBAAiB,GACjB,mBAAoB,GACpB,8BAA+B,EACjC,EAGIC,IAA2BC,IAC7BA,EAAQ,KAAU,OAClBA,EAAQ,WAAgB,aACxBA,EAAQ,YAAiB,cAClBA,IACND,IAAU,CAAA,CAAE,EACXE,IAA8BC,IAChCA,EAAW,IAAS,MACpBA,EAAW,KAAU,OACdA,IACND,IAAa,CAAA,CAAE,EAGdE,GAA+BC,IACjCA,EAAY,QAAa,UACzBA,EAAY,OAAY,SACxBA,EAAY,KAAU,OACtBA,EAAY,MAAW,QACvBA,EAAY,KAAU,OACtBA,EAAY,YAAiB,aAC7BA,EAAY,YAAiB,aAC7BA,EAAY,gBAAqB,iBACjCA,EAAY,QAAa,UACzBA,EAAY,mBAAwB,oBACpCA,EAAY,kBAAuB,mBACnCA,EAAY,cAAmB,eACxBA,IACND,GAAc,CAAA,CAAE,EAGfE,IAAsCC,IACxCA,EAAmB,kCAAuC,oCAC1DA,EAAmB,4BAAiC,8BACpDA,EAAmB,yCAA8C,2CACjEA,EAAmB,0BAA+B,4BAClDA,EAAmB,gBAAqB,kBACjCA,IACND,IAAqB,CAAA,CAAE,EAGtBE,GAAqC,mDAGrCC,GAA+C,4DAG/CC,GAA2C,yDAG3CC,GAAwD,oEAGxDC,GAAwC,sDAGxCC,IAA+BC,IACjCA,EAAY,GAAQ,KACpBA,EAAY,mBAAwB,qBACpCA,EAAY,KAAU,OACtBA,EAAY,MAAW,QACvBA,EAAY,WAAgB,aAC5BA,EAAY,KAAU,OACfA,IACND,IAAc,CAAA,CAAE,EAkBfE,IAA4CC,IAC9CA,EAAyB,WAAgB,aACzCA,EAAyB,YAAiB,cAC1CA,EAAyB,eAAoB,iBAC7CA,EAAyB,aAAkB,eAC3CA,EAAyB,sBAA2B,wBACpDA,EAAyB,kBAAuB,oBAChDA,EAAyB,eAAoB,iBAC7CA,EAAyB,qBAA0B,uBACnDA,EAAyB,uBAA4B,yBACrDA,EAAyB,4BAAiC,8BAC1DA,EAAyB,4BAAiC,8BAC1DA,EAAyB,+BAAoC,iCACtDA,IACND,IAA2B,CAAA,CAAE,EAG5BE,IAA+BC,IACjCA,EAAY,uBAA4B,yBACxCA,EAAY,6BAAkC,+BAC9CA,EAAY,SAAc,WAC1BA,EAAY,SAAc,WACnBA,IACND,IAAc,CAAA,CAAE,EAGfE,GAAc,CAChB,QACA,OACA,SACA,gBACA,OACA,QACA,YACA,cACA,OACA,OACF,EACIC,GAAyB,CAC3B,MAAO,CACL,WAAY,MACZ,YAAa,EACd,EACD,KAAM,CACJ,WAAY,KACZ,YAAa,IACd,EACD,OAAQ,CACN,WAAY,IACZ,YAAa,GACd,EACD,cAAe,CACb,WAAY,KACZ,YAAa,IACd,EACD,KAAM,CACJ,WAAY,MACZ,YAAa,KACd,EACD,MAAO,CACL,WAAY,QACZ,YAAa,OACd,EACD,UAAW,CACT,WAAY,IACZ,YAAa,GACd,EACD,YAAa,CACX,WAAY,IACZ,YAAa,GACd,EACD,KAAM,CACJ,WAAY,IACZ,YAAa,QACd,EACD,MAAO,CACL,WAAY,KACZ,YAAa,cACd,CACH,EASIC,IAA+BC,IACjCA,EAAY,OAAY,SACxBA,EAAY,iBAAsB,mBAClCA,EAAY,UAAe,YAC3BA,EAAY,SAAc,WAC1BA,EAAY,WAAgB,aAC5BA,EAAY,WAAgB,aAC5BA,EAAY,uBAA4B,yBACxCA,EAAY,KAAU,OACtBA,EAAY,QAAa,UACzBA,EAAY,KAAU,OACtBA,EAAY,SAAc,WAC1BA,EAAY,mBAAwB,qBACpCA,EAAY,gBAAqB,kBACjCA,EAAY,KAAU,OACtBA,EAAY,MAAW,QACvBA,EAAY,oBAAyB,sBACrCA,EAAY,gBAAqB,kBACjCA,EAAY,wBAA6B,0BACzCA,EAAY,8BAAmC,gCAC/CA,EAAY,MAAW,QACvBA,EAAY,OAAY,SACxBA,EAAY,MAAW,QACvBA,EAAY,WAAgB,aAC5BA,EAAY,UAAe,YAC3BA,EAAY,YAAiB,cAC7BA,EAAY,aAAkB,eAC9BA,EAAY,oBAAyB,sBACrCA,EAAY,uBAA4B,yBACxCA,EAAY,8BAAmC,gCAC/CA,EAAY,sBAA2B,wBAChCA,IACND,IAAc,CAAA,CAAE,EAGfE,IAA8BC,IAChCA,EAAW,UAAe,YAC1BA,EAAW,UAAe,YAC1BA,EAAW,WAAgB,aAC3BA,EAAW,aAAkB,eAC7BA,EAAW,WAAgB,aACpBA,IACND,IAAa,CAAA,CAAE,EAIdE,GAAkC,uDAGlCC,IAA2CC,IAC7CA,EAAwB,OAAY,SACpCA,EAAwB,WAAgB,aACxCA,EAAwB,KAAU,OAC3BA,IACND,IAA0B,CAAA,CAAE,EAC3BE,IAAqCC,IACvCA,EAAkB,KAAU,OAC5BA,EAAkB,2BAAgC,6BAClDA,EAAkB,kBAAuB,oBAClCA,IACND,IAAoB,CAAA,CAAE,EAGrBE,IAAoCC,IACtCA,EAAiB,OAAY,SACtBA,IACND,IAAmB,CAAA,CAAE,EAGpBE,IAAqCC,IACvCA,EAAkB,OAAY,SACvBA,IACND,IAAoB,CAAA,CAAE,EAmDrBE,IAA2CC,IAC7CA,EAAwB,MAAW,QACnCA,EAAwB,OAAY,SACpCA,EAAwB,uBAA4B,yBACpDA,EAAwB,8BAAmC,gCACpDA,IACND,IAA0B,CAAA,CAAE,EAC3BE,IAA+BC,IACjCA,EAAY,gBAAqB,kBACjCA,EAAY,cAAmB,gBAC/BA,EAAY,UAAe,YAC3BA,EAAY,YAAiB,cAC7BA,EAAY,WAAgB,aACrBA,IACND,IAAc,CAAA,CAAE,EAGfE,IAAmCC,IACrCA,EAAgB,OAAY,SAC5BA,EAAgB,OAAY,SAC5BA,EAAgB,QAAa,UAC7BA,EAAgB,QAAa,UAC7BA,EAAgB,KAAU,OAC1BA,EAAgB,aAAkB,eAClCA,EAAgB,SAAc,WAC9BA,EAAgB,KAAU,OAC1BA,EAAgB,WAAgB,aAChCA,EAAgB,UAAe,YAC/BA,EAAgB,OAAY,SAC5BA,EAAgB,YAAiB,cACjCA,EAAgB,aAAkB,eAClCA,EAAgB,aAAkB,eAClCA,EAAgB,UAAe,YAC/BA,EAAgB,YAAiB,cACjCA,EAAgB,cAAmB,gBACnCA,EAAgB,aAAkB,eAClCA,EAAgB,KAAU,OACnBA,IACND,IAAkB,CAAA,CAAE,EAGnBE,GAAkD,gEAClDC,GAAiD,+DAGjDC,IAAoDC,IACtDA,EAAiC,KAAU,OAC3CA,EAAiC,MAAW,QAC5CA,EAAiC,GAAQ,KAClCA,IACND,IAAmC,CAAA,CAAE,EACpCE,IAA6CC,IAC/CA,EAA0B,IAAS,MACnCA,EAA0B,SAAc,WACjCA,IACND,IAA4B,CAAA,CAAE,EAC7BE,GAAuD,oEACvDC,GAA+D,2EAC/DC,GAAgD,8DAGhDC,IAAgCC,IAClCA,EAAa,WAAgB,aAC7BA,EAAa,WAAgB,aAC7BA,EAAa,IAAS,MACfA,IACND,IAAe,CAAE,CAAA,EC1gBb,SAASE,MAGXC,EAAuD,CAC1D,OAAQpnB,GACN,CAAC,EACCA,GACA,OAAOA,GAAW,UAClB,iBAAkBA,GAClBonB,EAAsB,SAASpnB,EAAO,YAAe,EAE3D,CAEO,MAAMqnB,GACXF,GACE3C,GACAC,EACF,EACW6C,GACXH,GACEzC,EACF,EACW6C,GAASJ,GACpBtD,EACF,EACa2D,GACXL,GACEvC,GACAD,GACAD,EACF,EACW+C,GACXN,GACEpE,EACF,EACW2E,GACXP,GACEX,EACF,EACWmB,GACXR,GACEV,EACF,EACWmB,GACXT,GACEH,EACF,EACWa,GACXV,GACEL,EACF,EACWgB,GACXX,GACEJ,EACF,EAIWgB,GAAeZ,GAC1BnE,EACF,EACagF,GACXb,GACE,4DACF,EC3EK,SAASc,GACdC,EAKA,CAEA,OAAKA,EAAe,UACVA,EAAe,UAGjBA,EAAwB,OAAS,OACrC9D,EAAW,QACX+D,GAAqBD,EAAwB,IAAI,CACvD,CAEO,SAASE,GAAgB9pB,EAA2B,CACzD,OAAQA,EAAM,CACZ,KAAK8lB,EAAW,QAChB,KAAKA,EAAW,OACP,MAAA,GACT,KAAKA,EAAW,KAChB,KAAKA,EAAW,YAChB,KAAKA,EAAW,KAChB,KAAKA,EAAW,MAChB,KAAKA,EAAW,gBAChB,KAAKA,EAAW,YAChB,KAAKA,EAAW,QAChB,KAAKA,EAAW,mBAChB,KAAKA,EAAW,kBAChB,KAAKA,EAAW,cACP,MAAA,GACT,QACE,MAAM,IAAI,MAAM,wBAAwB9lB,CAAI,EAAE,CAClD,CACF,CAEO,SAAS+pB,GAAY/pB,EAA2B,CACrD,OAAQA,EAAM,CACZ,KAAK8lB,EAAW,QAChB,KAAKA,EAAW,OAChB,KAAKA,EAAW,KAChB,KAAKA,EAAW,YAChB,KAAKA,EAAW,KACP,MAAA,GACT,KAAKA,EAAW,MAChB,KAAKA,EAAW,gBAChB,KAAKA,EAAW,YAChB,KAAKA,EAAW,QAChB,KAAKA,EAAW,mBAChB,KAAKA,EAAW,kBAChB,KAAKA,EAAW,cACP,MAAA,GACT,QACE,MAAM,IAAI,MAAM,wBAAwB9lB,CAAI,EAAE,CAClD,CACF,CAEO,SAASgqB,GAAyBC,EAAgC,CACvE,OAAQA,EAAY,CAClB,KAAKnE,EAAW,QACP,MAAA,UACT,KAAKA,EAAW,OACP,MAAA,SACT,KAAKA,EAAW,KACP,MAAA,OACT,KAAKA,EAAW,MACP,MAAA,QACT,KAAKA,EAAW,KACP,MAAA,OACT,KAAKA,EAAW,YACP,MAAA,OACT,KAAKA,EAAW,YACP,MAAA,oBACT,KAAKA,EAAW,gBACP,MAAA,kBACT,KAAKA,EAAW,QACP,MAAA,UACT,KAAKA,EAAW,mBACP,MAAA,qBACT,KAAKA,EAAW,kBACP,MAAA,oBACT,KAAKA,EAAW,cACP,MAAA,gBACT,QACU,eAAA,KAAK,2CAA4CmE,CAAU,EAC5D,EACX,CACF,CAEO,SAASJ,GACdK,EACY,CACZ,OAAQA,EAAY,CAClB,KAAKpE,EAAW,QAChB,IAAK,yCACH,OAAOA,EAAW,QACpB,KAAKA,EAAW,OAChB,IAAK,wCACH,OAAOA,EAAW,OACpB,KAAKA,EAAW,KAChB,KAAKpB,GACH,OAAOoB,EAAW,KACpB,KAAKA,EAAW,KAChB,IAAK,sCACH,OAAOA,EAAW,KACpB,KAAKA,EAAW,YAChB,IAAK,yDACH,OAAOA,EAAW,YACpB,KAAKA,EAAW,MAChB,KAAKX,GACH,OAAOW,EAAW,MACpB,KAAKA,EAAW,gBAChB,IAAK,sDACH,OAAOA,EAAW,gBACpB,KAAKA,EAAW,YAChB,KAAKhB,GACH,OAAOgB,EAAW,YACpB,KAAKA,EAAW,QAChB,KAAKd,GACH,OAAOc,EAAW,QACpB,KAAKA,EAAW,mBAChB,KAAKb,GACH,OAAOa,EAAW,mBACpB,KAAKA,EAAW,kBAChB,KAAKnB,GACH,OAAOmB,EAAW,kBACpB,KAAKA,EAAW,cAChB,KAAKZ,GACH,OAAOY,EAAW,cACpB,QACE,MAAM,IAAI,MAAM,wBAAwBoE,CAAU,EAAE,CACxD,CACF,CAEO,SAASC,GACdnqB,EACsB,CACtB,OAAQA,EAAM,CACZ,KAAK8lB,EAAW,QACP,MAAA,yCACT,KAAKA,EAAW,OACP,MAAA,wCACT,KAAKA,EAAW,KACP,MAAA,4CACT,KAAKA,EAAW,KACP,MAAA,sCACT,KAAKA,EAAW,YACP,MAAA,yDACT,KAAKA,EAAW,MACP,MAAA,mDACT,KAAKA,EAAW,gBACP,MAAA,sDACT,KAAKA,EAAW,YACP,MAAA,kDACT,KAAKA,EAAW,QACP,MAAA,+CACT,KAAKA,EAAW,mBACP,MAAA,yDACT,KAAKA,EAAW,kBACP,MAAA,wDACT,KAAKA,EAAW,cACP,MAAA,oDACT,QACE,MAAM,IAAI,MAAM,wBAAwB9lB,CAAI,EAAE,CAClD,CACF,CAOO,SAASoqB,GAAwBpqB,EAA2B,CACjE,OAAQA,EAAM,CACZ,KAAK8lB,EAAW,QAChB,KAAKA,EAAW,OAChB,KAAKA,EAAW,KAChB,KAAKA,EAAW,YAChB,KAAKA,EAAW,gBAChB,KAAKA,EAAW,kBAChB,KAAKA,EAAW,cACP,MAAA,GACT,KAAKA,EAAW,KAChB,KAAKA,EAAW,MAChB,KAAKA,EAAW,YAChB,KAAKA,EAAW,QAChB,KAAKA,EAAW,mBACP,MAAA,GACT,QACE,MAAM,IAAI,MAAM,wBAAwB9lB,CAAI,EAAE,CAClD,CACF,CAEO,MAAMqqB,GAAUxB,GACrB,GAAGxD,EACL,EAMaiF,GAAgBzB,GAC3B1D,EACF,EAYaoF,GAAY1B,GACvB7D,EACF,EACawF,GAAsB3B,GAGjC5D,EAAsC,EAE3BwF,GAA6BC,GACxCH,GAAUG,CAAM,GAAKF,GAAoBE,CAAM,EAEpCC,GAAe9B,GAC1B/D,EACF,EAMO,SAAS8F,GAAeC,EAAwB,CAC7C,OAAAA,EAAW,aAAejG,KAA+B,CACnE,CAMO,SAASkG,GAAWD,EAAwB,CACjD,OAAOA,EAAW,eAAiBjG,EACrC,CAEO,SAASmG,GACdL,EAC6B,CAC7B,OAAON,GAAwBP,GAAoBa,EAAO,YAAY,CAAC,CACzE,CAEO,SAASM,GAAkBN,EAAwB,CACpD,OAACK,GAAoBL,CAAM,EAK3BA,EAAO,gBACJL,GAAQK,CAAM,EAGRH,GAAUG,CAAM,EAClB,QAEA,UAJA,GAAGA,EAAO,cAAe,SAAU,CAAA,aAOrCA,EAAO,cAAe,YAdrB,QAAA,KAAK,4BAA6BA,CAAM,EACzC,GAeX,CAGA,MAAMO,GAA0B,CAC9B,OACA,cACA,KACA,OACA,YACA,aACA,YACA,aACA,WACA,cACF,EAEMC,GAA4B,CAChC,GAAGD,GACH,gBACA,eACA,iBACA,iBACF,EAGME,GAAsB,CAAC,GAAGD,GAAiB,YAAa,iBAAiB,EAGzEE,GAAqB,CAAC,GAAGD,EAAS,EAGlCE,GAAwC,CAAC,GAAGD,GAAU,OAAO,EAOtDE,GAAyD,CACpE,CAAC/F,EAAwB,EAAG,CAAC,GAAG0F,GAAe,UAAW,kBAAkB,EAC5E,CAACxG,EAAqC,EAAG,CACvC,GAAGwG,GACH,iBACA,WACF,EACA,CAACvG,EAA+B,EAAG,CACjC,GAAGwG,GACH,mBACA,kBACF,EACA,CAACnG,EAAmC,EAAG,CAAC,GAAGqG,GAAU,UAAU,EAC/D,CAACpG,EAA2B,EAAG,CAC7B,GAAGqG,GACH,OACA,UACF,EACA,CAACpG,EAAsC,EAAG,CAAC,GAAGoG,EAA2B,EACzE,CAACvG,EAA+B,EAAG,CACjC,GAAGsG,GACH,WACA,eACA,MACF,EACA,CAACjG,EAAgC,EAAGgG,GACpC,CAACxG,EAAqC,EAAG,CAAC,GAAGwG,GAAW,aAAa,EACrE,CAACjG,EAAiC,EAAG,CAAC,GAAGiG,GAAW,aAAa,EACjE,CAAC7F,EAA0B,EAAG2F,GAC9B,CAACzF,EAA2B,EAAG,CAAC,GAAGyF,GAAe,OAAO,CAC3D,EC3WgB,SAAAM,GACdC,EACAC,EACA,CAEA,MAAMC,EAAc,aAAa,QAC/BC,EAAA,EAEF,aAAa,WAAWA,EAAsC,EAC9D,MAAMvsB,EAAcssB,GAAeD,EAC/BrsB,IACEosB,EACEpsB,EAAY,WAAW,OAAO,SAAS,MAAM,EAC/CosB,EAAQ,QAAQpsB,EAAY,UAAU,OAAO,SAAS,OAAO,MAAM,CAAC,EAEpEosB,EAAQ,QAAQpsB,CAAW,EAGtB,OAAA,SAAS,QAAQA,CAAW,EAGzC,CCZA,MAAAwsB,GAAA3R,EAAA,cAAA,MAAA,EAQO,SAAA4R,GAAAx0B,EAAA,CAGL,KAAA,CAAA,QAAAsa,EAAA,SAAApa,CAAA,EAAAF,EACA,OAAAgnB,EAAAuN,GAAA,SAAA,CAAA,MAAAja,EAAA,SAAApa,CAAA,CAAA,CAKF,CAEO,MAAAu0B,GAAAF,GAAA,0aCvCP,SAASG,GAAWC,EAAU,CAC5B,OAAOA,EAAS,OAAO,CAAC,IAAM,GAChC,CAGA,SAASC,GAAUC,EAAMh3B,EAAO,CAC9B,QAASvD,EAAIuD,EAAO9D,EAAIO,EAAI,EAAGG,EAAIo6B,EAAK,OAAQ96B,EAAIU,EAAGH,GAAK,EAAGP,GAAK,EAClE86B,EAAKv6B,CAAC,EAAIu6B,EAAK96B,CAAC,EAGlB86B,EAAK,IAAG,CACV,CAGA,SAASC,GAAgBv5B,EAAID,EAAM,CAC7BA,IAAS,SAAWA,EAAO,IAE/B,IAAIy5B,EAAWx5B,GAAMA,EAAG,MAAM,GAAG,GAAM,GACnCy5B,EAAa15B,GAAQA,EAAK,MAAM,GAAG,GAAM,GAEzC25B,EAAU15B,GAAMm5B,GAAWn5B,CAAE,EAC7B25B,EAAY55B,GAAQo5B,GAAWp5B,CAAI,EACnC65B,EAAaF,GAAWC,EAW5B,GATI35B,GAAMm5B,GAAWn5B,CAAE,EAErBy5B,EAAYD,EACHA,EAAQ,SAEjBC,EAAU,IAAG,EACbA,EAAYA,EAAU,OAAOD,CAAO,GAGlC,CAACC,EAAU,OAAQ,MAAO,IAE9B,IAAII,EACJ,GAAIJ,EAAU,OAAQ,CACpB,IAAIK,EAAOL,EAAUA,EAAU,OAAS,CAAC,EACzCI,EAAmBC,IAAS,KAAOA,IAAS,MAAQA,IAAS,EACjE,MACID,EAAmB,GAIrB,QADIE,EAAK,EACAh7B,EAAI06B,EAAU,OAAQ16B,GAAK,EAAGA,IAAK,CAC1C,IAAIi7B,EAAOP,EAAU16B,CAAC,EAElBi7B,IAAS,IACXX,GAAUI,EAAW16B,CAAC,EACbi7B,IAAS,MAClBX,GAAUI,EAAW16B,CAAC,EACtBg7B,KACSA,IACTV,GAAUI,EAAW16B,CAAC,EACtBg7B,IAEH,CAED,GAAI,CAACH,EAAY,KAAOG,IAAMA,EAAIN,EAAU,QAAQ,IAAI,EAGtDG,GACAH,EAAU,CAAC,IAAM,KAChB,CAACA,EAAU,CAAC,GAAK,CAACN,GAAWM,EAAU,CAAC,CAAC,IAE1CA,EAAU,QAAQ,EAAE,EAEtB,IAAIx4B,EAASw4B,EAAU,KAAK,GAAG,EAE/B,OAAII,GAAoB54B,EAAO,OAAO,EAAE,IAAM,MAAKA,GAAU,KAEtDA,CACT,CClEA,SAASg5B,GAAgBC,EAAM,CAC7B,OAAOA,EAAK,OAAO,CAAC,IAAM,IAAMA,EAAO,IAAMA,CAC/C,CACA,SAASC,GAAkBD,EAAM,CAC/B,OAAOA,EAAK,OAAO,CAAC,IAAM,IAAMA,EAAK,OAAO,CAAC,EAAIA,CACnD,CACA,SAASE,GAAYF,EAAMpK,EAAQ,CACjC,OAAOoK,EAAK,cAAc,QAAQpK,EAAO,YAAa,CAAA,IAAM,GAAK,MAAM,QAAQoK,EAAK,OAAOpK,EAAO,MAAM,CAAC,IAAM,EACjH,CACA,SAASuK,GAAcH,EAAMpK,EAAQ,CACnC,OAAOsK,GAAYF,EAAMpK,CAAM,EAAIoK,EAAK,OAAOpK,EAAO,MAAM,EAAIoK,CAClE,CACA,SAASI,GAAmBJ,EAAM,CAChC,OAAOA,EAAK,OAAOA,EAAK,OAAS,CAAC,IAAM,IAAMA,EAAK,MAAM,EAAG,EAAE,EAAIA,CACpE,CACA,SAASK,GAAUL,EAAM,CACvB,IAAId,EAAWc,GAAQ,IACnBM,EAAS,GACT/4B,EAAO,GACPg5B,EAAYrB,EAAS,QAAQ,GAAG,EAEhCqB,IAAc,KAChBh5B,EAAO23B,EAAS,OAAOqB,CAAS,EAChCrB,EAAWA,EAAS,OAAO,EAAGqB,CAAS,GAGzC,IAAIC,EAActB,EAAS,QAAQ,GAAG,EAEtC,OAAIsB,IAAgB,KAClBF,EAASpB,EAAS,OAAOsB,CAAW,EACpCtB,EAAWA,EAAS,OAAO,EAAGsB,CAAW,GAGpC,CACL,SAAUtB,EACV,OAAQoB,IAAW,IAAM,GAAKA,EAC9B,KAAM/4B,IAAS,IAAM,GAAKA,CAC9B,CACA,CACA,SAASk5B,GAAWC,EAAU,CAC5B,IAAIxB,EAAWwB,EAAS,SACpBJ,EAASI,EAAS,OAClBn5B,EAAOm5B,EAAS,KAChBV,EAAOd,GAAY,IACvB,OAAIoB,GAAUA,IAAW,MAAKN,GAAQM,EAAO,OAAO,CAAC,IAAM,IAAMA,EAAS,IAAMA,GAC5E/4B,GAAQA,IAAS,MAAKy4B,GAAQz4B,EAAK,OAAO,CAAC,IAAM,IAAMA,EAAO,IAAMA,GACjEy4B,CACT,CAEA,SAASW,GAAeX,EAAM/6B,EAAOoD,EAAKu4B,EAAiB,CACzD,IAAIF,EAEA,OAAOV,GAAS,UAElBU,EAAWL,GAAUL,CAAI,EACzBU,EAAS,MAAQz7B,IAGjBy7B,EAAWp1B,EAAS,GAAI00B,CAAI,EACxBU,EAAS,WAAa,SAAWA,EAAS,SAAW,IAErDA,EAAS,OACPA,EAAS,OAAO,OAAO,CAAC,IAAM,MAAKA,EAAS,OAAS,IAAMA,EAAS,QAExEA,EAAS,OAAS,GAGhBA,EAAS,KACPA,EAAS,KAAK,OAAO,CAAC,IAAM,MAAKA,EAAS,KAAO,IAAMA,EAAS,MAEpEA,EAAS,KAAO,GAGdz7B,IAAU,QAAay7B,EAAS,QAAU,SAAWA,EAAS,MAAQz7B,IAG5E,GAAI,CACFy7B,EAAS,SAAW,UAAUA,EAAS,QAAQ,CAChD,OAAQG,EAAG,CACV,MAAIA,aAAa,SACT,IAAI,SAAS,aAAeH,EAAS,SAAW,+EAAoF,EAEpIG,CAET,CAED,OAAIx4B,IAAKq4B,EAAS,IAAMr4B,GAEpBu4B,EAEGF,EAAS,SAEHA,EAAS,SAAS,OAAO,CAAC,IAAM,MACzCA,EAAS,SAAWrB,GAAgBqB,EAAS,SAAUE,EAAgB,QAAQ,GAF/EF,EAAS,SAAWE,EAAgB,SAMjCF,EAAS,WACZA,EAAS,SAAW,KAIjBA,CACT,CAKA,SAASI,IAA0B,CACjC,IAAIC,EAAS,KAEb,SAASC,EAAUC,EAAY,CAE7B,OAAAF,EAASE,EACF,UAAY,CACbF,IAAWE,IAAYF,EAAS,KAC1C,CACG,CAED,SAASG,EAAoBR,EAAU1b,EAAQmc,EAAqBl3B,EAAU,CAI5E,GAAI82B,GAAU,KAAM,CAClB,IAAIh6B,EAAS,OAAOg6B,GAAW,WAAaA,EAAOL,EAAU1b,CAAM,EAAI+b,EAEnE,OAAOh6B,GAAW,SAChB,OAAOo6B,GAAwB,WACjCA,EAAoBp6B,EAAQkD,CAAQ,EAGpCA,EAAS,EAAI,EAIfA,EAASlD,IAAW,EAAK,CAEjC,MACMkD,EAAS,EAAI,CAEhB,CAED,IAAIm3B,EAAY,CAAA,EAEhB,SAASC,EAAele,EAAI,CAC1B,IAAI/E,EAAW,GAEf,SAAS3B,GAAW,CACd2B,GAAU+E,EAAG,MAAM,OAAQ,SAAS,CACzC,CAED,OAAAie,EAAU,KAAK3kB,CAAQ,EAChB,UAAY,CACjB2B,EAAW,GACXgjB,EAAYA,EAAU,OAAO,SAAUrnB,EAAM,CAC3C,OAAOA,IAAS0C,CACxB,CAAO,CACP,CACG,CAED,SAAS6kB,GAAkB,CACzB,QAASlnB,EAAO,UAAU,OAAQK,EAAO,IAAI,MAAML,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAC/EG,EAAKH,CAAI,EAAI,UAAUA,CAAI,EAG7B8mB,EAAU,QAAQ,SAAU3kB,EAAU,CACpC,OAAOA,EAAS,MAAM,OAAQhC,CAAI,CACxC,CAAK,CACF,CAED,MAAO,CACL,UAAWumB,EACX,oBAAqBE,EACrB,eAAgBG,EAChB,gBAAiBC,CACrB,CACA,CAEA,IAAIC,GAAY,CAAC,EAAE,OAAO,OAAW,KAAe,OAAO,UAAY,OAAO,SAAS,eACvF,SAASC,GAAgBC,EAASx3B,EAAU,CAC1CA,EAAS,OAAO,QAAQw3B,CAAO,CAAC,CAClC,CASA,SAASC,IAAkB,CACzB,IAAIC,EAAK,OAAO,UAAU,UAC1B,OAAKA,EAAG,QAAQ,YAAY,IAAM,IAAMA,EAAG,QAAQ,aAAa,IAAM,KAAOA,EAAG,QAAQ,eAAe,IAAM,IAAMA,EAAG,QAAQ,QAAQ,IAAM,IAAMA,EAAG,QAAQ,eAAe,IAAM,GAAW,GACtL,OAAO,SAAW,cAAe,OAAO,OACjD,CAMA,SAASC,IAA+B,CACtC,OAAO,OAAO,UAAU,UAAU,QAAQ,SAAS,IAAM,EAC3D,CAKA,SAASC,IAAmC,CAC1C,OAAO,OAAO,UAAU,UAAU,QAAQ,SAAS,IAAM,EAC3D,CAOA,SAASC,GAA0Bjc,EAAO,CACxC,OAAOA,EAAM,QAAU,QAAa,UAAU,UAAU,QAAQ,OAAO,IAAM,EAC/E,CAEA,IAAIkc,GAAgB,WAChBC,GAAkB,aAEtB,SAASC,IAAkB,CACzB,GAAI,CACF,OAAO,OAAO,QAAQ,OAAS,EAChC,MAAW,CAGV,MAAO,EACR,CACH,CAOA,SAASC,GAAqB33B,EAAO,CAC/BA,IAAU,SACZA,EAAQ,CAAA,GAGTg3B,IAAsGY,GAAU,EAAK,EACtH,IAAIC,EAAgB,OAAO,QACvBC,EAAgBX,KAChBY,EAA0B,CAACV,KAC3BnmB,EAASlR,EACTg4B,EAAsB9mB,EAAO,aAC7B+mB,EAAeD,IAAwB,OAAS,GAAQA,EACxDE,EAAwBhnB,EAAO,oBAC/B0lB,EAAsBsB,IAA0B,OAASjB,GAAkBiB,EAC3EC,EAAmBjnB,EAAO,UAC1BknB,EAAYD,IAAqB,OAAS,EAAIA,EAC9CE,EAAWr4B,EAAM,SAAW61B,GAAmBL,GAAgBx1B,EAAM,QAAQ,CAAC,EAAI,GAEtF,SAASs4B,EAAeC,EAAc,CACpC,IAAIp2B,EAAOo2B,GAAgB,CAAE,EACzBz6B,EAAMqE,EAAK,IACXzH,EAAQyH,EAAK,MAEbq2B,EAAmB,OAAO,SAC1B7D,GAAW6D,EAAiB,SAC5BzC,GAASyC,EAAiB,OAC1Bx7B,EAAOw7B,EAAiB,KACxB/C,EAAOd,GAAWoB,GAAS/4B,EAE/B,OAAIq7B,IAAU5C,EAAOG,GAAcH,EAAM4C,CAAQ,GAC1CjC,GAAeX,EAAM/6B,EAAOoD,CAAG,CACvC,CAED,SAAS26B,GAAY,CACnB,OAAO,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,EAAGL,CAAS,CACtD,CAED,IAAIM,EAAoBnC,KAExB,SAASoC,EAASC,EAAW,CAC3B73B,EAASozB,EAASyE,CAAS,EAE3BzE,EAAQ,OAAS0D,EAAc,OAC/Ba,EAAkB,gBAAgBvE,EAAQ,SAAUA,EAAQ,MAAM,CACnE,CAED,SAAS0E,EAAevd,EAAO,CAEzBic,GAA0Bjc,CAAK,GACnCwd,EAAUR,EAAehd,EAAM,KAAK,CAAC,CACtC,CAED,SAASyd,GAAmB,CAC1BD,EAAUR,EAAeZ,GAAiB,CAAA,CAAC,CAC5C,CAED,IAAIsB,EAAe,GAEnB,SAASF,EAAU3C,EAAU,CAC3B,GAAI6C,EACFA,EAAe,GACfL,QACK,CACL,IAAIle,EAAS,MACbie,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACrFA,EACFN,EAAS,CACP,OAAQle,EACR,SAAU0b,CACtB,CAAW,EAED+C,EAAU/C,CAAQ,CAE5B,CAAO,CACF,CACF,CAED,SAAS+C,EAAUC,EAAc,CAC/B,IAAIC,EAAajF,EAAQ,SAIrBkF,EAAUC,EAAQ,QAAQF,EAAW,GAAG,EACxCC,IAAY,KAAIA,EAAU,GAC9B,IAAIE,EAAYD,EAAQ,QAAQH,EAAa,GAAG,EAC5CI,IAAc,KAAIA,EAAY,GAClC,IAAIC,EAAQH,EAAUE,EAElBC,IACFR,EAAe,GACfS,EAAGD,CAAK,EAEX,CAED,IAAIE,EAAkBpB,EAAeZ,GAAe,CAAE,EAClD4B,EAAU,CAACI,EAAgB,GAAG,EAElC,SAASC,EAAWxD,EAAU,CAC5B,OAAOkC,EAAWnC,GAAWC,CAAQ,CACtC,CAED,SAASyD,EAAKnE,EAAM/6B,EAAO,CAEzB,IAAI+f,EAAS,OACT0b,EAAWC,GAAeX,EAAM/6B,EAAO+9B,IAAatE,EAAQ,QAAQ,EACxEuE,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACzF,GAAKA,EACL,KAAIY,GAAOF,EAAWxD,CAAQ,EAC1Br4B,GAAMq4B,EAAS,IACfz7B,EAAQy7B,EAAS,MAErB,GAAI2B,EAMF,GALAD,EAAc,UAAU,CACtB,IAAK/5B,GACL,MAAOpD,CACjB,EAAW,KAAMm/B,EAAI,EAET5B,EACF,OAAO,SAAS,KAAO4B,OAClB,CACL,IAAIC,EAAYR,EAAQ,QAAQnF,EAAQ,SAAS,GAAG,EAChD4F,GAAWT,EAAQ,MAAM,EAAGQ,EAAY,CAAC,EAC7CC,GAAS,KAAK5D,EAAS,GAAG,EAC1BmD,EAAUS,GACVpB,EAAS,CACP,OAAQle,EACR,SAAU0b,CACtB,CAAW,CACF,MAGD,OAAO,SAAS,KAAO0D,GAE/B,CAAK,CACF,CAED,SAASG,EAAQvE,EAAM/6B,EAAO,CAE5B,IAAI+f,EAAS,UACT0b,EAAWC,GAAeX,EAAM/6B,EAAO+9B,IAAatE,EAAQ,QAAQ,EACxEuE,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACzF,GAAKA,EACL,KAAIY,GAAOF,EAAWxD,CAAQ,EAC1Br4B,GAAMq4B,EAAS,IACfz7B,EAAQy7B,EAAS,MAErB,GAAI2B,EAMF,GALAD,EAAc,aAAa,CACzB,IAAK/5B,GACL,MAAOpD,CACjB,EAAW,KAAMm/B,EAAI,EAET5B,EACF,OAAO,SAAS,QAAQ4B,EAAI,MACvB,CACL,IAAIC,EAAYR,EAAQ,QAAQnF,EAAQ,SAAS,GAAG,EAChD2F,IAAc,KAAIR,EAAQQ,CAAS,EAAI3D,EAAS,KACpDwC,EAAS,CACP,OAAQle,EACR,SAAU0b,CACtB,CAAW,CACF,MAGD,OAAO,SAAS,QAAQ0D,EAAI,EAEpC,CAAK,CACF,CAED,SAASJ,EAAGh/B,EAAG,CACbo9B,EAAc,GAAGp9B,CAAC,CACnB,CAED,SAASw/B,GAAS,CAChBR,EAAG,EAAE,CACN,CAED,SAASS,GAAY,CACnBT,EAAG,CAAC,CACL,CAED,IAAIU,GAAgB,EAEpB,SAASC,EAAkBZ,EAAO,CAChCW,IAAiBX,EAEbW,KAAkB,GAAKX,IAAU,GACnC,OAAO,iBAAiBhC,GAAeqB,CAAc,EACjDd,GAAyB,OAAO,iBAAiBN,GAAiBsB,CAAgB,GAC7EoB,KAAkB,IAC3B,OAAO,oBAAoB3C,GAAeqB,CAAc,EACpDd,GAAyB,OAAO,oBAAoBN,GAAiBsB,CAAgB,EAE5F,CAED,IAAIsB,EAAY,GAEhB,SAASC,GAAM9D,EAAQ,CACjBA,IAAW,SACbA,EAAS,IAGX,IAAI+D,EAAU7B,EAAkB,UAAUlC,CAAM,EAEhD,OAAK6D,IACHD,EAAkB,CAAC,EACnBC,EAAY,IAGP,UAAY,CACjB,OAAIA,IACFA,EAAY,GACZD,EAAkB,EAAE,GAGfG,EAAO,CACpB,CACG,CAED,SAASC,GAAOtoB,EAAU,CACxB,IAAIuoB,EAAW/B,EAAkB,eAAexmB,CAAQ,EACxD,OAAAkoB,EAAkB,CAAC,EACZ,UAAY,CACjBA,EAAkB,EAAE,EACpBK,GACN,CACG,CAED,IAAItG,EAAU,CACZ,OAAQ0D,EAAc,OACtB,OAAQ,MACR,SAAU6B,EACV,WAAYC,EACZ,KAAMC,EACN,QAASI,EACT,GAAIP,EACJ,OAAQQ,EACR,UAAWC,EACX,MAAOI,GACP,OAAQE,EACZ,EACE,OAAOrG,CACT,CAEA,IAAIuG,GAAoB,aACpBC,GAAiB,CACnB,SAAU,CACR,WAAY,SAAoBlF,EAAM,CACpC,OAAOA,EAAK,OAAO,CAAC,IAAM,IAAMA,EAAO,KAAOC,GAAkBD,CAAI,CACrE,EACD,WAAY,SAAoBA,EAAM,CACpC,OAAOA,EAAK,OAAO,CAAC,IAAM,IAAMA,EAAK,OAAO,CAAC,EAAIA,CAClD,CACF,EACD,QAAS,CACP,WAAYC,GACZ,WAAYF,EACb,EACD,MAAO,CACL,WAAYA,GACZ,WAAYA,EACb,CACH,EAEA,SAASoF,GAAU9oB,EAAK,CACtB,IAAIkkB,EAAYlkB,EAAI,QAAQ,GAAG,EAC/B,OAAOkkB,IAAc,GAAKlkB,EAAMA,EAAI,MAAM,EAAGkkB,CAAS,CACxD,CAEA,SAAS6E,IAAc,CAGrB,IAAIhB,EAAO,OAAO,SAAS,KACvB7D,EAAY6D,EAAK,QAAQ,GAAG,EAChC,OAAO7D,IAAc,GAAK,GAAK6D,EAAK,UAAU7D,EAAY,CAAC,CAC7D,CAEA,SAAS8E,GAAarF,EAAM,CAC1B,OAAO,SAAS,KAAOA,CACzB,CAEA,SAASsF,GAAgBtF,EAAM,CAC7B,OAAO,SAAS,QAAQmF,GAAU,OAAO,SAAS,IAAI,EAAI,IAAMnF,CAAI,CACtE,CAEA,SAASuF,GAAkBh7B,EAAO,CAC5BA,IAAU,SACZA,EAAQ,CAAA,GAGTg3B,IAAmGY,GAAU,EAAK,EACnH,IAAIC,EAAgB,OAAO,QACFP,GAAmC,EAC5D,IAAIpmB,EAASlR,EACTk4B,EAAwBhnB,EAAO,oBAC/B0lB,EAAsBsB,IAA0B,OAASjB,GAAkBiB,EAC3E+C,EAAkB/pB,EAAO,SACzBgqB,EAAWD,IAAoB,OAAS,QAAUA,EAClD5C,EAAWr4B,EAAM,SAAW61B,GAAmBL,GAAgBx1B,EAAM,QAAQ,CAAC,EAAI,GAClFm7B,EAAwBR,GAAeO,CAAQ,EAC/CE,EAAaD,EAAsB,WACnCE,EAAaF,EAAsB,WAEvC,SAAS7C,GAAiB,CACxB,IAAI7C,EAAO4F,EAAWR,GAAW,CAAE,EAEnC,OAAIxC,IAAU5C,EAAOG,GAAcH,EAAM4C,CAAQ,GAC1CjC,GAAeX,CAAI,CAC3B,CAED,IAAIiD,EAAoBnC,KAExB,SAASoC,EAASC,EAAW,CAC3B73B,EAASozB,EAASyE,CAAS,EAE3BzE,EAAQ,OAAS0D,EAAc,OAC/Ba,EAAkB,gBAAgBvE,EAAQ,SAAUA,EAAQ,MAAM,CACnE,CAED,IAAI6E,EAAe,GACfsC,EAAa,KAEjB,SAASC,EAAqBvhC,EAAGC,EAAG,CAClC,OAAOD,EAAE,WAAaC,EAAE,UAAYD,EAAE,SAAWC,EAAE,QAAUD,EAAE,OAASC,EAAE,IAC3E,CAED,SAAS8+B,GAAmB,CAC1B,IAAItD,EAAOoF,KACPW,EAAcJ,EAAW3F,CAAI,EAEjC,GAAIA,IAAS+F,EAEXT,GAAgBS,CAAW,MACtB,CACL,IAAIrF,EAAWmC,IACXmD,EAAetH,EAAQ,SAG3B,GAFI,CAAC6E,GAAgBuC,EAAqBE,EAActF,CAAQ,GAE5DmF,IAAepF,GAAWC,CAAQ,EAAG,OAEzCmF,EAAa,KACbxC,EAAU3C,CAAQ,CACnB,CACF,CAED,SAAS2C,EAAU3C,EAAU,CAC3B,GAAI6C,EACFA,EAAe,GACfL,QACK,CACL,IAAIle,EAAS,MACbie,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACrFA,EACFN,EAAS,CACP,OAAQle,EACR,SAAU0b,CACtB,CAAW,EAED+C,EAAU/C,CAAQ,CAE5B,CAAO,CACF,CACF,CAED,SAAS+C,EAAUC,EAAc,CAC/B,IAAIC,EAAajF,EAAQ,SAIrBkF,EAAUqC,EAAS,YAAYxF,GAAWkD,CAAU,CAAC,EACrDC,IAAY,KAAIA,EAAU,GAC9B,IAAIE,EAAYmC,EAAS,YAAYxF,GAAWiD,CAAY,CAAC,EACzDI,IAAc,KAAIA,EAAY,GAClC,IAAIC,GAAQH,EAAUE,EAElBC,KACFR,EAAe,GACfS,EAAGD,EAAK,EAEX,CAGD,IAAI/D,EAAOoF,KACPW,EAAcJ,EAAW3F,CAAI,EAC7BA,IAAS+F,GAAaT,GAAgBS,CAAW,EACrD,IAAI9B,EAAkBpB,IAClBoD,EAAW,CAACxF,GAAWwD,CAAe,CAAC,EAE3C,SAASC,EAAWxD,EAAU,CAC5B,IAAIwF,EAAU,SAAS,cAAc,MAAM,EACvC9B,EAAO,GAEX,OAAI8B,GAAWA,EAAQ,aAAa,MAAM,IACxC9B,EAAOe,GAAU,OAAO,SAAS,IAAI,GAGhCf,EAAO,IAAMuB,EAAW/C,EAAWnC,GAAWC,CAAQ,CAAC,CAC/D,CAED,SAASyD,EAAKnE,EAAM/6B,EAAO,CAEzB,IAAI+f,EAAS,OACT0b,EAAWC,GAAeX,EAAM,OAAW,OAAWtB,EAAQ,QAAQ,EAC1EuE,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,GAAI,CACzF,GAAKA,GACL,KAAIxD,GAAOS,GAAWC,CAAQ,EAC1BqF,EAAcJ,EAAW/C,EAAW5C,EAAI,EACxCmG,EAAcf,GAAa,IAAKW,EAEpC,GAAII,EAAa,CAIfN,EAAa7F,GACbqF,GAAaU,CAAW,EACxB,IAAI1B,GAAY4B,EAAS,YAAYxF,GAAW/B,EAAQ,QAAQ,CAAC,EAC7D0H,GAAYH,EAAS,MAAM,EAAG5B,GAAY,CAAC,EAC/C+B,GAAU,KAAKpG,EAAI,EACnBiG,EAAWG,GACXlD,EAAS,CACP,OAAQle,EACR,SAAU0b,CACpB,CAAS,CACT,MAEQwC,IAER,CAAK,CACF,CAED,SAASqB,EAAQvE,EAAM/6B,EAAO,CAE5B,IAAI+f,EAAS,UACT0b,EAAWC,GAAeX,EAAM,OAAW,OAAWtB,EAAQ,QAAQ,EAC1EuE,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,GAAI,CACzF,GAAKA,GACL,KAAIxD,GAAOS,GAAWC,CAAQ,EAC1BqF,EAAcJ,EAAW/C,EAAW5C,EAAI,EACxCmG,EAAcf,GAAa,IAAKW,EAEhCI,IAIFN,EAAa7F,GACbsF,GAAgBS,CAAW,GAG7B,IAAI1B,GAAY4B,EAAS,QAAQxF,GAAW/B,EAAQ,QAAQ,CAAC,EACzD2F,KAAc,KAAI4B,EAAS5B,EAAS,EAAIrE,IAC5CkD,EAAS,CACP,OAAQle,EACR,SAAU0b,CAClB,CAAO,EACP,CAAK,CACF,CAED,SAASsD,EAAGh/B,EAAG,CAEbo9B,EAAc,GAAGp9B,CAAC,CACnB,CAED,SAASw/B,GAAS,CAChBR,EAAG,EAAE,CACN,CAED,SAASS,IAAY,CACnBT,EAAG,CAAC,CACL,CAED,IAAIU,EAAgB,EAEpB,SAASC,EAAkBZ,EAAO,CAChCW,GAAiBX,EAEbW,IAAkB,GAAKX,IAAU,EACnC,OAAO,iBAAiBkB,GAAmB3B,CAAgB,EAClDoB,IAAkB,GAC3B,OAAO,oBAAoBO,GAAmB3B,CAAgB,CAEjE,CAED,IAAIsB,GAAY,GAEhB,SAASC,GAAM9D,EAAQ,CACjBA,IAAW,SACbA,EAAS,IAGX,IAAI+D,EAAU7B,EAAkB,UAAUlC,CAAM,EAEhD,OAAK6D,KACHD,EAAkB,CAAC,EACnBC,GAAY,IAGP,UAAY,CACjB,OAAIA,KACFA,GAAY,GACZD,EAAkB,EAAE,GAGfG,EAAO,CACpB,CACG,CAED,SAASC,EAAOtoB,EAAU,CACxB,IAAIuoB,EAAW/B,EAAkB,eAAexmB,CAAQ,EACxD,OAAAkoB,EAAkB,CAAC,EACZ,UAAY,CACjBA,EAAkB,EAAE,EACpBK,GACN,CACG,CAED,IAAItG,EAAU,CACZ,OAAQ0D,EAAc,OACtB,OAAQ,MACR,SAAU6B,EACV,WAAYC,EACZ,KAAMC,EACN,QAASI,EACT,GAAIP,EACJ,OAAQQ,EACR,UAAWC,GACX,MAAOI,GACP,OAAQE,CACZ,EACE,OAAOrG,CACT,CAEA,SAAS/4B,GAAMX,EAAGqhC,EAAYC,EAAY,CACxC,OAAO,KAAK,IAAI,KAAK,IAAIthC,EAAGqhC,CAAU,EAAGC,CAAU,CACrD,CAMA,SAASC,GAAoBh8B,EAAO,CAC9BA,IAAU,SACZA,EAAQ,CAAA,GAGV,IAAIkR,EAASlR,EACT42B,EAAsB1lB,EAAO,oBAC7B+qB,EAAwB/qB,EAAO,eAC/BgrB,EAAiBD,IAA0B,OAAS,CAAC,GAAG,EAAIA,EAC5DE,EAAsBjrB,EAAO,aAC7BkrB,EAAeD,IAAwB,OAAS,EAAIA,EACpDhE,EAAmBjnB,EAAO,UAC1BknB,EAAYD,IAAqB,OAAS,EAAIA,EAC9CO,EAAoBnC,KAExB,SAASoC,EAASC,EAAW,CAC3B73B,EAASozB,EAASyE,CAAS,EAE3BzE,EAAQ,OAASA,EAAQ,QAAQ,OACjCuE,EAAkB,gBAAgBvE,EAAQ,SAAUA,EAAQ,MAAM,CACnE,CAED,SAASsE,GAAY,CACnB,OAAO,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,EAAGL,CAAS,CACtD,CAED,IAAIv6B,EAAQzC,GAAMghC,EAAc,EAAGF,EAAe,OAAS,CAAC,EACxDG,EAAUH,EAAe,IAAI,SAAUI,EAAO,CAChD,OAAO,OAAOA,GAAU,SAAWlG,GAAekG,EAAO,OAAW7D,EAAS,CAAE,EAAIrC,GAAekG,EAAO,OAAWA,EAAM,KAAO7D,EAAS,CAAE,CAChJ,CAAG,EAEGkB,EAAazD,GAEjB,SAAS0D,EAAKnE,EAAM/6B,EAAO,CAEzB,IAAI+f,EAAS,OACT0b,EAAWC,GAAeX,EAAM/6B,EAAO+9B,IAAatE,EAAQ,QAAQ,EACxEuE,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACzF,GAAKA,EACL,KAAIa,GAAY3F,EAAQ,MACpBoI,EAAYzC,GAAY,EACxB0C,EAAcrI,EAAQ,QAAQ,MAAM,CAAC,EAErCqI,EAAY,OAASD,EACvBC,EAAY,OAAOD,EAAWC,EAAY,OAASD,EAAWpG,CAAQ,EAEtEqG,EAAY,KAAKrG,CAAQ,EAG3BwC,EAAS,CACP,OAAQle,EACR,SAAU0b,EACV,MAAOoG,EACP,QAASC,CACjB,CAAO,EACP,CAAK,CACF,CAED,SAASxC,EAAQvE,EAAM/6B,EAAO,CAE5B,IAAI+f,EAAS,UACT0b,EAAWC,GAAeX,EAAM/6B,EAAO+9B,IAAatE,EAAQ,QAAQ,EACxEuE,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACpFA,IACL9E,EAAQ,QAAQA,EAAQ,KAAK,EAAIgC,EACjCwC,EAAS,CACP,OAAQle,EACR,SAAU0b,CAClB,CAAO,EACP,CAAK,CACF,CAED,SAASsD,EAAGh/B,EAAG,CACb,IAAI8hC,EAAYnhC,GAAM+4B,EAAQ,MAAQ15B,EAAG,EAAG05B,EAAQ,QAAQ,OAAS,CAAC,EAClE1Z,EAAS,MACT0b,EAAWhC,EAAQ,QAAQoI,CAAS,EACxC7D,EAAkB,oBAAoBvC,EAAU1b,EAAQmc,EAAqB,SAAUqC,EAAI,CACrFA,EACFN,EAAS,CACP,OAAQle,EACR,SAAU0b,EACV,MAAOoG,CACjB,CAAS,EAID5D,GAER,CAAK,CACF,CAED,SAASsB,GAAS,CAChBR,EAAG,EAAE,CACN,CAED,SAASS,GAAY,CACnBT,EAAG,CAAC,CACL,CAED,SAASgD,EAAMhiC,EAAG,CAChB,IAAI8hC,EAAYpI,EAAQ,MAAQ15B,EAChC,OAAO8hC,GAAa,GAAKA,EAAYpI,EAAQ,QAAQ,MACtD,CAED,SAASmG,EAAM9D,EAAQ,CACrB,OAAIA,IAAW,SACbA,EAAS,IAGJkC,EAAkB,UAAUlC,CAAM,CAC1C,CAED,SAASgE,EAAOtoB,EAAU,CACxB,OAAOwmB,EAAkB,eAAexmB,CAAQ,CACjD,CAED,IAAIiiB,EAAU,CACZ,OAAQkI,EAAQ,OAChB,OAAQ,MACR,SAAUA,EAAQx+B,CAAK,EACvB,MAAOA,EACP,QAASw+B,EACT,WAAY1C,EACZ,KAAMC,EACN,QAASI,EACT,GAAIP,EACJ,OAAQQ,EACR,UAAWC,EACX,MAAOuC,EACP,MAAOnC,EACP,OAAQE,CACZ,EACE,OAAOrG,CACT,qBCp5BAuI,GAAiB,MAAM,SAAW,SAAUvgC,EAAK,CAC/C,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAG,GAAK,gBAChD,ECFIugC,GAAUC,GAKdC,GAAA,QAAiBC,GACjBD,GAAA,QAAA,MAAuB1/B,GACvB0/B,GAAA,QAAA,QAAyBE,GACzBF,GAAA,QAAA,iBAAkCG,GAClCH,GAAA,QAAA,eAAgCI,GAOhC,IAAIC,GAAc,IAAI,OAAO,CAG3B,UAOA,wGACF,EAAE,KAAK,GAAG,EAAG,GAAG,EAShB,SAAS//B,GAAOnB,EAAKwB,EAAS,CAQ5B,QAPI2/B,EAAS,CAAE,EACXp/B,EAAM,EACND,EAAQ,EACR43B,EAAO,GACP0H,EAAmB5/B,GAAWA,EAAQ,WAAa,IACnD6/B,GAEIA,EAAMH,GAAY,KAAKlhC,CAAG,IAAM,MAAM,CAC5C,IAAIshC,EAAID,EAAI,CAAC,EACTE,EAAUF,EAAI,CAAC,EACfjU,EAASiU,EAAI,MAKjB,GAJA3H,GAAQ15B,EAAI,MAAM8B,EAAOsrB,CAAM,EAC/BtrB,EAAQsrB,EAASkU,EAAE,OAGfC,EAAS,CACX7H,GAAQ6H,EAAQ,CAAC,EACjB,QACD,CAED,IAAI52B,EAAO3K,EAAI8B,CAAK,EAChBwtB,EAAS+R,EAAI,CAAC,EACdp/B,EAAOo/B,EAAI,CAAC,EACZG,EAAUH,EAAI,CAAC,EACfI,EAAQJ,EAAI,CAAC,EACbK,EAAWL,EAAI,CAAC,EAChBM,EAAWN,EAAI,CAAC,EAGhB3H,IACFyH,EAAO,KAAKzH,CAAI,EAChBA,EAAO,IAGT,IAAIkI,EAAUtS,GAAU,MAAQ3kB,GAAQ,MAAQA,IAAS2kB,EACrDuS,EAASH,IAAa,KAAOA,IAAa,IAC1CI,EAAWJ,IAAa,KAAOA,IAAa,IAC5CK,EAAYV,EAAI,CAAC,GAAKD,EACtBhzB,EAAUozB,GAAWC,EAEzBN,EAAO,KAAK,CACV,KAAMl/B,GAAQF,IACd,OAAQutB,GAAU,GAClB,UAAWyS,EACX,SAAUD,EACV,OAAQD,EACR,QAASD,EACT,SAAU,CAAC,CAACD,EACZ,QAASvzB,EAAU4zB,GAAY5zB,CAAO,EAAKuzB,EAAW,KAAO,KAAOM,GAAaF,CAAS,EAAI,KACpG,CAAK,CACF,CAGD,OAAIjgC,EAAQ9B,EAAI,SACd05B,GAAQ15B,EAAI,OAAO8B,CAAK,GAItB43B,GACFyH,EAAO,KAAKzH,CAAI,EAGXyH,CACT,CASA,SAASJ,GAAS/gC,EAAKwB,EAAS,CAC9B,OAAOw/B,GAAiB7/B,GAAMnB,EAAKwB,CAAO,EAAGA,CAAO,CACtD,CAQA,SAAS0gC,GAA0BliC,EAAK,CACtC,OAAO,UAAUA,CAAG,EAAE,QAAQ,UAAW,SAAU7B,EAAG,CACpD,MAAO,IAAMA,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAa,CAC3D,CAAG,CACH,CAQA,SAASgkC,GAAgBniC,EAAK,CAC5B,OAAO,UAAUA,CAAG,EAAE,QAAQ,QAAS,SAAU7B,EAAG,CAClD,MAAO,IAAMA,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAa,CAC3D,CAAG,CACH,CAKA,SAAS6iC,GAAkBG,EAAQ3/B,EAAS,CAK1C,QAHI4gC,EAAU,IAAI,MAAMjB,EAAO,MAAM,EAG5B5iC,EAAI,EAAGA,EAAI4iC,EAAO,OAAQ5iC,IAC7B,OAAO4iC,EAAO5iC,CAAC,GAAM,WACvB6jC,EAAQ7jC,CAAC,EAAI,IAAI,OAAO,OAAS4iC,EAAO5iC,CAAC,EAAE,QAAU,KAAM8jC,GAAM7gC,CAAO,CAAC,GAI7E,OAAO,SAAUC,EAAKuJ,EAAM,CAM1B,QALI0uB,EAAO,GACPlc,EAAO/b,GAAO,CAAE,EAChBD,EAAUwJ,GAAQ,CAAE,EACpB1J,EAASE,EAAQ,OAAS0gC,GAA2B,mBAEhD3jC,EAAI,EAAGA,EAAI4iC,EAAO,OAAQ5iC,IAAK,CACtC,IAAI+jC,EAAQnB,EAAO5iC,CAAC,EAEpB,GAAI,OAAO+jC,GAAU,SAAU,CAC7B5I,GAAQ4I,EAER,QACD,CAED,IAAIngC,EAAQqb,EAAK8kB,EAAM,IAAI,EACvBC,EAEJ,GAAIpgC,GAAS,KACX,GAAImgC,EAAM,SAAU,CAEdA,EAAM,UACR5I,GAAQ4I,EAAM,QAGhB,QACV,KACU,OAAM,IAAI,UAAU,aAAeA,EAAM,KAAO,iBAAiB,EAIrE,GAAI3B,GAAQx+B,CAAK,EAAG,CAClB,GAAI,CAACmgC,EAAM,OACT,MAAM,IAAI,UAAU,aAAeA,EAAM,KAAO,kCAAoC,KAAK,UAAUngC,CAAK,EAAI,GAAG,EAGjH,GAAIA,EAAM,SAAW,EAAG,CACtB,GAAImgC,EAAM,SACR,SAEA,MAAM,IAAI,UAAU,aAAeA,EAAM,KAAO,mBAAmB,CAEtE,CAED,QAASnjC,EAAI,EAAGA,EAAIgD,EAAM,OAAQhD,IAAK,CAGrC,GAFAojC,EAAUjhC,EAAOa,EAAMhD,CAAC,CAAC,EAErB,CAACijC,EAAQ7jC,CAAC,EAAE,KAAKgkC,CAAO,EAC1B,MAAM,IAAI,UAAU,iBAAmBD,EAAM,KAAO,eAAiBA,EAAM,QAAU,oBAAsB,KAAK,UAAUC,CAAO,EAAI,GAAG,EAG1I7I,IAASv6B,IAAM,EAAImjC,EAAM,OAASA,EAAM,WAAaC,CACtD,CAED,QACD,CAID,GAFAA,EAAUD,EAAM,SAAWH,GAAehgC,CAAK,EAAIb,EAAOa,CAAK,EAE3D,CAACigC,EAAQ7jC,CAAC,EAAE,KAAKgkC,CAAO,EAC1B,MAAM,IAAI,UAAU,aAAeD,EAAM,KAAO,eAAiBA,EAAM,QAAU,oBAAsBC,EAAU,GAAG,EAGtH7I,GAAQ4I,EAAM,OAASC,CACxB,CAED,OAAO7I,CACR,CACH,CAQA,SAASuI,GAAcjiC,EAAK,CAC1B,OAAOA,EAAI,QAAQ,6BAA8B,MAAM,CACzD,CAQA,SAASgiC,GAAaP,EAAO,CAC3B,OAAOA,EAAM,QAAQ,gBAAiB,MAAM,CAC9C,CASA,SAASe,GAAYC,EAAIC,EAAM,CAC7B,OAAAD,EAAG,KAAOC,EACHD,CACT,CAQA,SAASJ,GAAO7gC,EAAS,CACvB,OAAOA,GAAWA,EAAQ,UAAY,GAAK,GAC7C,CASA,SAASmhC,GAAgBjJ,EAAMgJ,EAAM,CAEnC,IAAIE,EAASlJ,EAAK,OAAO,MAAM,WAAW,EAE1C,GAAIkJ,EACF,QAASrkC,EAAI,EAAGA,EAAIqkC,EAAO,OAAQrkC,IACjCmkC,EAAK,KAAK,CACR,KAAMnkC,EACN,OAAQ,KACR,UAAW,KACX,SAAU,GACV,OAAQ,GACR,QAAS,GACT,SAAU,GACV,QAAS,IACjB,CAAO,EAIL,OAAOikC,GAAW9I,EAAMgJ,CAAI,CAC9B,CAUA,SAASG,GAAenJ,EAAMgJ,EAAMlhC,EAAS,CAG3C,QAFIshC,EAAQ,CAAE,EAEL,EAAI,EAAG,EAAIpJ,EAAK,OAAQ,IAC/BoJ,EAAM,KAAKhC,GAAapH,EAAK,CAAC,EAAGgJ,EAAMlhC,CAAO,EAAE,MAAM,EAGxD,IAAIuhC,EAAS,IAAI,OAAO,MAAQD,EAAM,KAAK,GAAG,EAAI,IAAKT,GAAM7gC,CAAO,CAAC,EAErE,OAAOghC,GAAWO,EAAQL,CAAI,CAChC,CAUA,SAASM,GAAgBtJ,EAAMgJ,EAAMlhC,EAAS,CAC5C,OAAOy/B,GAAe9/B,GAAMu4B,EAAMl4B,CAAO,EAAGkhC,EAAMlhC,CAAO,CAC3D,CAUA,SAASy/B,GAAgBE,EAAQuB,EAAMlhC,EAAS,CACzCm/B,GAAQ+B,CAAI,IACflhC,EAAkCkhC,GAAQlhC,EAC1CkhC,EAAO,CAAE,GAGXlhC,EAAUA,GAAW,CAAE,EAOvB,QALIyhC,EAASzhC,EAAQ,OACjB9B,EAAM8B,EAAQ,MAAQ,GACtB0hC,EAAQ,GAGH3kC,EAAI,EAAGA,EAAI4iC,EAAO,OAAQ5iC,IAAK,CACtC,IAAI+jC,EAAQnB,EAAO5iC,CAAC,EAEpB,GAAI,OAAO+jC,GAAU,SACnBY,GAASjB,GAAaK,CAAK,MACtB,CACL,IAAIhT,EAAS2S,GAAaK,EAAM,MAAM,EAClCd,EAAU,MAAQc,EAAM,QAAU,IAEtCI,EAAK,KAAKJ,CAAK,EAEXA,EAAM,SACRd,GAAW,MAAQlS,EAASkS,EAAU,MAGpCc,EAAM,SACHA,EAAM,QAGTd,EAAUlS,EAAS,IAAMkS,EAAU,KAFnCA,EAAU,MAAQlS,EAAS,IAAMkS,EAAU,MAK7CA,EAAUlS,EAAS,IAAMkS,EAAU,IAGrC0B,GAAS1B,CACV,CACF,CAED,IAAIO,EAAYE,GAAazgC,EAAQ,WAAa,GAAG,EACjD2hC,EAAoBD,EAAM,MAAM,CAACnB,EAAU,MAAM,IAAMA,EAM3D,OAAKkB,IACHC,GAASC,EAAoBD,EAAM,MAAM,EAAG,CAACnB,EAAU,MAAM,EAAImB,GAAS,MAAQnB,EAAY,WAG5FriC,EACFwjC,GAAS,IAITA,GAASD,GAAUE,EAAoB,GAAK,MAAQpB,EAAY,MAG3DS,GAAW,IAAI,OAAO,IAAMU,EAAOb,GAAM7gC,CAAO,CAAC,EAAGkhC,CAAI,CACjE,CAcA,SAAS5B,GAAcpH,EAAMgJ,EAAMlhC,EAAS,CAQ1C,OAPKm/B,GAAQ+B,CAAI,IACflhC,EAAkCkhC,GAAQlhC,EAC1CkhC,EAAO,CAAE,GAGXlhC,EAAUA,GAAW,CAAE,EAEnBk4B,aAAgB,OACXiJ,GAAejJ,EAA6BgJ,CAAM,EAGvD/B,GAAQjH,CAAI,EACPmJ,GAAqCnJ,EAA8BgJ,EAAOlhC,CAAO,EAGnFwhC,GAAsCtJ,EAA8BgJ,EAAOlhC,CAAO,CAC3F,mCC7ZA,IAAI4hC,GAAwB,WACxBC,GAAiB,OAAO,WAAe,IAE3C,WAAa,OAAO,OAAW,IAAc,OAC3C,OAAO,OAAW,IAAc,OAChC,GAEF,SAASC,IAAc,CACrB,IAAIvhC,EAAM,uBACV,OAAOshC,GAAethC,CAAG,GAAKshC,GAAethC,CAAG,GAAK,GAAK,CAC5D,CAIA,SAASwhC,GAASxlC,EAAGylC,EAAG,CACtB,OAAIzlC,IAAMylC,EACDzlC,IAAM,GAAK,EAAIA,IAAM,EAAIylC,EAGzBzlC,IAAMA,GAAKylC,IAAMA,CAE5B,CAEA,SAASC,GAAmBthC,EAAO,CACjC,IAAIuhC,EAAW,CAAA,EACf,MAAO,CACL,GAAI,SAAYC,EAAS,CACvBD,EAAS,KAAKC,CAAO,CACtB,EACD,IAAK,SAAaA,EAAS,CACzBD,EAAWA,EAAS,OAAO,SAAUE,EAAG,CACtC,OAAOA,IAAMD,CACrB,CAAO,CACF,EACD,IAAK,UAAe,CAClB,OAAOxhC,CACR,EACD,IAAK,SAAa0hC,EAAUC,EAAa,CACvC3hC,EAAQ0hC,EACRH,EAAS,QAAQ,SAAUC,EAAS,CAClC,OAAOA,EAAQxhC,EAAO2hC,CAAW,CACzC,CAAO,CACF,CACL,CACA,CAEA,SAASC,GAAU5/B,EAAU,CAC3B,OAAO,MAAM,QAAQA,CAAQ,EAAIA,EAAS,CAAC,EAAIA,CACjD,CAEA,SAAS6/B,GAAmBC,EAAcC,EAAsB,CAC9D,IAAIC,EAAuBC,EAEvBC,EAAc,0BAA4Bf,GAAW,EAAK,KAE1DgB,EAAwB,SAAU1wB,EAAkB,CACtDC,GAAeywB,EAAU1wB,CAAgB,EAEzC,SAAS0wB,GAAW,CAGlB,QAFIlhC,EAEK0Q,EAAO,UAAU,OAAQK,EAAO,IAAI,MAAML,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAC/EG,EAAKH,CAAI,EAAI,UAAUA,CAAI,EAG7B,OAAA5Q,EAAQwQ,EAAiB,KAAK,MAAMA,EAAkB,CAAC,IAAI,EAAE,OAAOO,CAAI,CAAC,GAAK,KAC9E/Q,EAAM,QAAUqgC,GAAmBrgC,EAAM,MAAM,KAAK,EAC7CA,CACR,CAED,IAAIkR,EAASgwB,EAAS,UAEtB,OAAAhwB,EAAO,gBAAkB,UAA2B,CAClD,IAAIlO,EAEJ,OAAOA,EAAO,CAAA,EAAIA,EAAKi+B,CAAW,EAAI,KAAK,QAASj+B,CAC1D,EAEIkO,EAAO,0BAA4B,SAAmCiwB,EAAW,CAC/E,GAAI,KAAK,MAAM,QAAUA,EAAU,MAAO,CACxC,IAAIC,EAAW,KAAK,MAAM,MACtBX,EAAWU,EAAU,MACrBT,EAEAP,GAASiB,EAAUX,CAAQ,EAC7BC,EAAc,GAEdA,EAAc,OAAOI,GAAyB,WAAaA,EAAqBM,EAAUX,CAAQ,EAAIT,GAMtGU,GAAe,EAEXA,IAAgB,GAClB,KAAK,QAAQ,IAAIS,EAAU,MAAOT,CAAW,EAGlD,CACP,EAEIxvB,EAAO,OAAS,UAAkB,CAChC,OAAO,KAAK,MAAM,QACxB,EAEWgwB,CACX,EAAIzd,EAAM,SAAS,EAEjByd,EAAS,mBAAqBH,EAAwB,CAAA,EAAIA,EAAsBE,CAAW,EAAII,GAAU,OAAO,WAAYN,GAE5H,IAAIO,EAAwB,SAAUC,EAAmB,CACvD9wB,GAAe6wB,EAAUC,CAAiB,EAE1C,SAASD,GAAW,CAGlB,QAFIjqB,EAEKvG,EAAQ,UAAU,OAAQC,EAAO,IAAI,MAAMD,CAAK,EAAGE,EAAQ,EAAGA,EAAQF,EAAOE,IACpFD,EAAKC,CAAK,EAAI,UAAUA,CAAK,EAG/B,OAAAqG,EAASkqB,EAAkB,KAAK,MAAMA,EAAmB,CAAC,IAAI,EAAE,OAAOxwB,CAAI,CAAC,GAAK,KACjFsG,EAAO,aAAe,OACtBA,EAAO,MAAQ,CACb,MAAOA,EAAO,SAAU,CAChC,EAEMA,EAAO,SAAW,SAAUopB,EAAUC,EAAa,CACjD,IAAIc,EAAenqB,EAAO,aAAe,EAEpCmqB,EAAed,GAClBrpB,EAAO,SAAS,CACd,MAAOA,EAAO,SAAU,CACpC,CAAW,CAEX,EAEaA,CACR,CAED,IAAIoqB,EAAUH,EAAS,UAEvB,OAAAG,EAAQ,0BAA4B,SAAmCN,EAAW,CAChF,IAAIK,EAAeL,EAAU,aAC7B,KAAK,aAA6CK,GAAwBxB,EAEhF,EAEIyB,EAAQ,kBAAoB,UAA6B,CACnD,KAAK,QAAQR,CAAW,GAC1B,KAAK,QAAQA,CAAW,EAAE,GAAG,KAAK,QAAQ,EAG5C,IAAIO,EAAe,KAAK,MAAM,aAC9B,KAAK,aAA6CA,GAAwBxB,EAEhF,EAEIyB,EAAQ,qBAAuB,UAAgC,CACzD,KAAK,QAAQR,CAAW,GAC1B,KAAK,QAAQA,CAAW,EAAE,IAAI,KAAK,QAAQ,CAEnD,EAEIQ,EAAQ,SAAW,UAAoB,CACrC,OAAI,KAAK,QAAQR,CAAW,EACnB,KAAK,QAAQA,CAAW,EAAE,IAAG,EAE7BJ,CAEf,EAEIY,EAAQ,OAAS,UAAkB,CACjC,OAAOd,GAAU,KAAK,MAAM,QAAQ,EAAE,KAAK,MAAM,KAAK,CAC5D,EAEWW,CACX,EAAI7d,EAAM,SAAS,EAEjB,OAAA6d,EAAS,cAAgBN,EAAwB,GAAIA,EAAsBC,CAAW,EAAII,GAAU,OAAQL,GACrG,CACL,SAAUE,EACV,SAAUI,CACd,CACA,CAGA,IAAII,GAAgBje,EAAM,eAAiBmd,GAIvCe,GAAqB,SAA4B9iC,EAAM,CACzD,IAAIsc,EAAUumB,KACd,OAAAvmB,EAAQ,YAActc,EACfsc,CACT,EAEIymB,GAA8BD,GAAmB,gBAAgB,EAEjExmB,GAAuBwmB,GAAmB,QAAQ,EAMlDE,GAAsB,SAAUrxB,EAAkB,CACpDC,GAAeoxB,EAAQrxB,CAAgB,EAEvCqxB,EAAO,iBAAmB,SAA0BrM,EAAU,CAC5D,MAAO,CACL,KAAM,IACN,IAAK,IACL,OAAQ,CAAE,EACV,QAASA,IAAa,GAC5B,CACA,EAEE,SAASqM,EAAOhhC,EAAO,CACrB,IAAIb,EAEJ,OAAAA,EAAQwQ,EAAiB,KAAK,KAAM3P,CAAK,GAAK,KAC9Cb,EAAM,MAAQ,CACZ,SAAUa,EAAM,QAAQ,QAC9B,EAMIb,EAAM,WAAa,GACnBA,EAAM,iBAAmB,KAEpBa,EAAM,gBACTb,EAAM,SAAWa,EAAM,QAAQ,OAAO,SAAUm2B,EAAU,CACxDh3B,EAAM,iBAAmBg3B,CACjC,CAAO,GAGIh3B,CACR,CAED,IAAIkR,EAAS2wB,EAAO,UAEpB,OAAA3wB,EAAO,kBAAoB,UAA6B,CACtD,IAAImG,EAAS,KAEb,KAAK,WAAa,GAEd,KAAK,UAGP,KAAK,SAAQ,EAGV,KAAK,MAAM,gBACd,KAAK,SAAW,KAAK,MAAM,QAAQ,OAAO,SAAU2f,EAAU,CACxD3f,EAAO,YACTA,EAAO,SAAS,CACd,SAAU2f,CACtB,CAAW,CAEX,CAAO,GAGC,KAAK,kBACP,KAAK,SAAS,CACZ,SAAU,KAAK,gBACvB,CAAO,CAEP,EAEE9lB,EAAO,qBAAuB,UAAgC,CACxD,KAAK,WACP,KAAK,SAAQ,EACb,KAAK,WAAa,GAClB,KAAK,iBAAmB,KAE9B,EAEEA,EAAO,OAAS,UAAkB,CAChC,OAAoBuS,EAAM,cAActI,GAAQ,SAAU,CACxD,MAAO,CACL,QAAS,KAAK,MAAM,QACpB,SAAU,KAAK,MAAM,SACrB,MAAO0mB,EAAO,iBAAiB,KAAK,MAAM,SAAS,QAAQ,EAC3D,cAAe,KAAK,MAAM,aAC3B,CACF,EAAepe,EAAM,cAAcme,GAAe,SAAU,CAC3D,SAAU,KAAK,MAAM,UAAY,KACjC,MAAO,KAAK,MAAM,OACnB,CAAA,CAAC,CACN,EAESC,CACT,EAAEpe,EAAM,SAAS,EAkBbqe,GAA4B,SAAUtxB,EAAkB,CAC1DC,GAAeqxB,EAActxB,CAAgB,EAE7C,SAASsxB,GAAe,CAGtB,QAFI9hC,EAEK0Q,EAAO,UAAU,OAAQK,EAAO,IAAI,MAAML,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAC/EG,EAAKH,CAAI,EAAI,UAAUA,CAAI,EAG7B,OAAA5Q,EAAQwQ,EAAiB,KAAK,MAAMA,EAAkB,CAAC,IAAI,EAAE,OAAOO,CAAI,CAAC,GAAK,KAC9E/Q,EAAM,QAAU68B,GAAoB78B,EAAM,KAAK,EACxCA,CACR,CAED,IAAIkR,EAAS4wB,EAAa,UAE1B,OAAA5wB,EAAO,OAAS,UAAkB,CAChC,OAAoBuS,EAAM,cAAcoe,GAAQ,CAC9C,QAAS,KAAK,QACd,SAAU,KAAK,MAAM,QAC3B,CAAK,CACL,EAESC,CACT,EAAEre,EAAM,SAAS,EAgBbse,GAAyB,SAAUvxB,EAAkB,CACvDC,GAAesxB,EAAWvxB,CAAgB,EAE1C,SAASuxB,GAAY,CACnB,OAAOvxB,EAAiB,MAAM,KAAM,SAAS,GAAK,IACnD,CAED,IAAIU,EAAS6wB,EAAU,UAEvB,OAAA7wB,EAAO,kBAAoB,UAA6B,CAClD,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ,KAAK,KAAM,IAAI,CAC9D,EAEEA,EAAO,mBAAqB,SAA4BI,EAAW,CAC7D,KAAK,MAAM,UAAU,KAAK,MAAM,SAAS,KAAK,KAAM,KAAMA,CAAS,CAC3E,EAEEJ,EAAO,qBAAuB,UAAgC,CACxD,KAAK,MAAM,WAAW,KAAK,MAAM,UAAU,KAAK,KAAM,IAAI,CAClE,EAEEA,EAAO,OAAS,UAAkB,CAChC,OAAO,IACX,EAES6wB,CACT,EAAEte,EAAM,SAAS,EAMjB,SAASue,GAAOh/B,EAAM,CACpB,IAAI+0B,EAAU/0B,EAAK,QACfi/B,EAAYj/B,EAAK,KACjBk/B,EAAOD,IAAc,OAAS,GAAOA,EACzC,OAAoBxe,EAAM,cAActI,GAAQ,SAAU,KAAM,SAAUA,EAAS,CAEjF,GADCA,GAAuHsd,GAAU,EAAK,EACnI,CAACyJ,GAAQ/mB,EAAQ,cAAe,OAAO,KAC3C,IAAIgnB,EAAShnB,EAAQ,QAAQ,MAC7B,OAAoBsI,EAAM,cAAcse,GAAW,CACjD,QAAS,SAAiBK,EAAM,CAC9BA,EAAK,QAAUD,EAAOpK,CAAO,CAC9B,EACD,SAAU,SAAkBqK,EAAM9wB,EAAW,CACvCA,EAAU,UAAYymB,IACxBqK,EAAK,QAAO,EACZA,EAAK,QAAUD,EAAOpK,CAAO,EAEhC,EACD,UAAW,SAAmBqK,EAAM,CAClCA,EAAK,QAAO,CACb,EACD,QAASrK,CACf,CAAK,CACL,CAAG,CACH,CA8FA,IAAIsK,GAAU,CAAA,EACVC,GAAe,IACfC,GAAe,EAEnB,SAASC,GAAclM,EAAMl4B,EAAS,CACpC,IAAIqkC,EAAW,GAAKrkC,EAAQ,IAAMA,EAAQ,OAASA,EAAQ,UACvDskC,EAAYL,GAAQI,CAAQ,IAAMJ,GAAQI,CAAQ,EAAI,CAAA,GAC1D,GAAIC,EAAUpM,CAAI,EAAG,OAAOoM,EAAUpM,CAAI,EAC1C,IAAIgJ,EAAO,CAAA,EACPK,EAASjC,GAAapH,EAAMgJ,EAAMlhC,CAAO,EACzCf,EAAS,CACX,OAAQsiC,EACR,KAAML,CACV,EAEE,OAAIiD,GAAeD,KACjBI,EAAUpM,CAAI,EAAIj5B,EAClBklC,MAGKllC,CACT,CAMA,SAASslC,GAAUnN,EAAUp3B,EAAS,CAChCA,IAAY,SACdA,EAAU,CAAA,IAGR,OAAOA,GAAY,UAAY,MAAM,QAAQA,CAAO,KACtDA,EAAU,CACR,KAAMA,CACZ,GAGE,IAAIwkC,EAAWxkC,EACXk4B,EAAOsM,EAAS,KAChBC,EAAiBD,EAAS,MAC1B9tB,EAAQ+tB,IAAmB,OAAS,GAAQA,EAC5CC,EAAkBF,EAAS,OAC3B/C,EAASiD,IAAoB,OAAS,GAAQA,EAC9CC,EAAqBH,EAAS,UAC9BI,EAAYD,IAAuB,OAAS,GAAQA,EACpDE,EAAQ,CAAA,EAAG,OAAO3M,CAAI,EAC1B,OAAO2M,EAAM,OAAO,SAAUC,EAAS5M,EAAM,CAC3C,GAAI,CAACA,GAAQA,IAAS,GAAI,OAAO,KACjC,GAAI4M,EAAS,OAAOA,EAEpB,IAAIC,EAAeX,GAAclM,EAAM,CACrC,IAAKxhB,EACL,OAAQ+qB,EACR,UAAWmD,CACjB,CAAK,EACGrD,EAASwD,EAAa,OACtB7D,EAAO6D,EAAa,KAEpBC,EAAQzD,EAAO,KAAKnK,CAAQ,EAChC,GAAI,CAAC4N,EAAO,OAAO,KACnB,IAAIzwB,EAAMywB,EAAM,CAAC,EACbC,EAASD,EAAM,MAAM,CAAC,EACtBE,EAAU9N,IAAa7iB,EAC3B,OAAImC,GAAS,CAACwuB,EAAgB,KACvB,CACL,KAAMhN,EAEN,IAAKA,IAAS,KAAO3jB,IAAQ,GAAK,IAAMA,EAExC,QAAS2wB,EAET,OAAQhE,EAAK,OAAO,SAAUiE,EAAM5kC,EAAKD,EAAO,CAC9C,OAAA6kC,EAAK5kC,EAAI,IAAI,EAAI0kC,EAAO3kC,CAAK,EACtB6kC,CACR,EAAE,EAAE,CACX,CACG,EAAE,IAAI,CACT,CAEA,SAASC,GAAgBziC,EAAU,CACjC,OAAO0iB,EAAM,SAAS,MAAM1iB,CAAQ,IAAM,CAC5C,CAYG,IAAC0iC,GAAqB,SAAUjzB,EAAkB,CACnDC,GAAegzB,EAAOjzB,CAAgB,EAEtC,SAASizB,GAAQ,CACf,OAAOjzB,EAAiB,MAAM,KAAM,SAAS,GAAK,IACnD,CAED,IAAIU,EAASuyB,EAAM,UAEnB,OAAAvyB,EAAO,OAAS,UAAkB,CAChC,IAAIlR,EAAQ,KAEZ,OAAoByjB,EAAM,cAActI,GAAQ,SAAU,KAAM,SAAUuoB,EAAW,CAClFA,GAAwHjL,GAAU,EAAK,EACxI,IAAIzB,EAAWh3B,EAAM,MAAM,UAAY0jC,EAAU,SAC7CN,EAAQpjC,EAAM,MAAM,cAAgBA,EAAM,MAAM,cAClDA,EAAM,MAAM,KAAO2iC,GAAU3L,EAAS,SAAUh3B,EAAM,KAAK,EAAI0jC,EAAU,MAEvE7iC,EAAQe,EAAS,CAAE,EAAE8hC,EAAW,CAClC,SAAU1M,EACV,MAAOoM,CACf,CAAO,EAEGvyB,EAAc7Q,EAAM,MACpBe,EAAW8P,EAAY,SACvBhM,EAAYgM,EAAY,UACxB8yB,EAAS9yB,EAAY,OAGzB,OAAI,MAAM,QAAQ9P,CAAQ,GAAKyiC,GAAgBziC,CAAQ,IACrDA,EAAW,MAGO0iB,EAAM,cAActI,GAAQ,SAAU,CACxD,MAAOta,CACR,EAAEA,EAAM,MAAQE,EAAW,OAAOA,GAAa,WAA0GA,EAASF,CAAK,EAAIE,EAAW8D,EAAyB4e,EAAM,cAAc5e,EAAWhE,CAAK,EAAI8iC,EAASA,EAAO9iC,CAAK,EAAI,KAAO,OAAOE,GAAa,WAA0GA,EAASF,CAAK,EAAI,IAAI,CAClb,CAAK,CACL,EAES4iC,CACT,EAAEhgB,EAAM,SAAS,EA8BjB,SAAS4S,GAAgBC,EAAM,CAC7B,OAAOA,EAAK,OAAO,CAAC,IAAM,IAAMA,EAAO,IAAMA,CAC/C,CAEA,SAASsN,GAAY1K,EAAUlC,EAAU,CACvC,OAAKkC,EACEt3B,EAAS,CAAE,EAAEo1B,EAAU,CAC5B,SAAUX,GAAgB6C,CAAQ,EAAIlC,EAAS,QACnD,CAAG,EAHqBA,CAIxB,CAEA,SAASP,GAAcyC,EAAUlC,EAAU,CACzC,GAAI,CAACkC,EAAU,OAAOlC,EACtB,IAAI6M,EAAOxN,GAAgB6C,CAAQ,EACnC,OAAIlC,EAAS,SAAS,QAAQ6M,CAAI,IAAM,EAAU7M,EAC3Cp1B,EAAS,CAAE,EAAEo1B,EAAU,CAC5B,SAAUA,EAAS,SAAS,OAAO6M,EAAK,MAAM,CAClD,CAAG,CACH,CAEA,SAASC,GAAU9M,EAAU,CAC3B,OAAO,OAAOA,GAAa,SAAWA,EAAWD,GAAWC,CAAQ,CACtE,CAEA,SAAS+M,GAAcC,EAAY,CACjC,OAAO,UAAY,CAC4FvL,GAAU,EAAK,CAChI,CACA,CAEA,SAASxlB,IAAO,CAAE,CAoFhBwQ,EAAM,UAkBL,IAACwgB,GAAsB,SAAUzzB,EAAkB,CACpDC,GAAewzB,EAAQzzB,CAAgB,EAEvC,SAASyzB,GAAS,CAChB,OAAOzzB,EAAiB,MAAM,KAAM,SAAS,GAAK,IACnD,CAED,IAAIU,EAAS+yB,EAAO,UAEpB,OAAA/yB,EAAO,OAAS,UAAkB,CAChC,IAAIlR,EAAQ,KAEZ,OAAoByjB,EAAM,cAActI,GAAQ,SAAU,KAAM,SAAUA,EAAS,CAChFA,GAAuHsd,GAAU,EAAK,EACvI,IAAIzB,EAAWh3B,EAAM,MAAM,UAAYmb,EAAQ,SAC3C+oB,EAASd,EAKb,OAAA3f,EAAM,SAAS,QAAQzjB,EAAM,MAAM,SAAU,SAAUmkC,EAAO,CAC5D,GAAIf,GAAS,MAAqB3f,EAAM,eAAe0gB,CAAK,EAAG,CAC7DD,EAAUC,EACV,IAAI7N,EAAO6N,EAAM,MAAM,MAAQA,EAAM,MAAM,KAC3Cf,EAAQ9M,EAAOqM,GAAU3L,EAAS,SAAUp1B,EAAS,CAAA,EAAIuiC,EAAM,MAAO,CACpE,KAAM7N,CAClB,CAAW,CAAC,EAAInb,EAAQ,KACf,CACT,CAAO,EACMioB,EAAqB3f,EAAM,aAAaygB,EAAS,CACtD,SAAUlN,EACV,cAAeoM,CAChB,CAAA,EAAI,IACX,CAAK,CACL,EAESa,CACT,EAAExgB,EAAM,SAAS,EA6CbiJ,GAAajJ,EAAM,WACvB,SAAS2gB,IAAa,CAKpB,OAAO1X,GAAWkV,EAAc,CAClC,CACA,SAASyC,IAAc,CAKrB,OAAO3X,GAAWvR,EAAO,EAAE,QAC7B,CACA,SAASmpB,IAAY,CAKnB,IAAIlB,EAAQ1W,GAAWvR,EAAO,EAAE,MAChC,OAAOioB,EAAQA,EAAM,OAAS,EAChC,CCl3BO,SAAAmB,GAAA1jC,EAAA,CAGL,KAAA,CAAM,SAAAE,EACJ,oBAAAyjC,EACA,uBAAAC,EACA,OAAAzlC,EACA,QAAAgJ,CACA,EAAAnH,EAEFm0B,EAAAoP,KAEA,CAAAlF,EAAAwF,CAAA,EAAAh8B,EAAAA,SAAA,MAAA,EACA,CAAAi8B,EAAAC,CAAA,EAAAl8B,EAAAA,SAAA,MAAA,EAGA,CAAAm8B,EAAAC,CAAA,EAAAp8B,EAAA,SAAA,EAAA,EACA,CAAAq8B,EAAAC,CAAA,EAAAt8B,EAAAA,SAAA,MAAA,EAGAu8B,EAAAC,EAAAA,YAAA,IAAA,CACE9f,GAAA,UAAA,KAAA,IAAA,CAEEsf,EAAA,MAAA,EACAE,EAAA,MAAA,EACAE,EAAA,EAAA,CAA6B,CAAA,CAC9B,EAAA,CAAA,CAAA,EAGHK,EAAAD,EAAAA,YAAA,SAAA,CACEF,EAAA,MAAA,EACA,IAAAI,EACA,GAAA,CAEE,GADAA,EAAA,MAAAhgB,GAAA,2BACA,CAAAggB,EAAA,CACEH,IACA,MAAA,CACF,OAAA9N,EAAA,CAEA,QAAA,MAAA,mCAAAA,CAAA,EACAnvB,GACEA,EAAAmvB,CAAA,EAEF8N,IACA,MAAA,CAEF,GAAAjmC,EAAA,CAEE,MAAAqmC,EAAA,MAAAjgB,GAAA,mBAAoDggB,CAClD,EAEFE,EAAAC,GAAA,IAAkCF,EAAA,eACR,EAG1B,GADAE,GAAA,MACA,KAAAD,EAAA,SAAA,EAAAtmC,EAAA,CAEE8lC,EAAA,EAAA,EACA,MAAA,CACF,CAEFJ,EAAAU,CAAA,EACAN,EAAA,EAAA,EAEA,GAAA,CAGE,MAAA1f,GAAA,eAAAggB,CAAA,EACAR,EAAA,EAAA,CAAyB,OAAAzN,EAAA,CAEzBA,GAAAA,EAAA,QAAA,qCACEyN,EAAA,EAAA,GAEA,QAAA,MAAA,4BAAAzN,CAAA,EAGA/R,GAAA,UAAA,KAAA,IAAA,CAGE,OAAA,SAAA,QAAuB,CAAA,EAE3B,CACF,EAAA,CAAA6f,EAAAjmC,EAAAgJ,CAAA,CAAA,EAGFw9B,EAAAN,EAAAA,YAAA,SAAA,CACE,MAAA9f,GAAA,UACA,MAAA+f,EAAA,EACAV,GACEA,GACF,EAAA,CAAAU,EAAAV,CAAA,CAAA,EAIF97B,EAAAA,UAAA,IAAA,CACEw8B,GAAe,EAAA,CAAA,CAAA,EAIjB,KAAA,CAAA,UAAAM,CAAA,EAAA99B,GAAA,CAAqD,iBAAA,IAAA,CAEjDotB,GAAAC,CAAA,EACAmQ,GAAe,EACjB,wBAAAO,GAAA,CAEEV,EAAAU,CAAA,CAA2C,CAC7C,CAAA,EAGF,OAAA7d,EACEwN,GAAC,CAAA,QAAA,CACU,MAAA6J,EACP,kBAAAyF,EACA,eAAAQ,EACA,aAAAK,EACA,aAAAC,EACA,8BAAAV,EAC+B,sBAAAF,CAC/B,EACF,SAAAhd,EAEAuE,GAAC,CAAA,eAAA,CACiB,YAAA8S,EACD,qBAAA9Z,GAAA,4BAAA,EACmD,QAAAA,GAAA,wBAAA,EACjB,oBAAAof,CAC/C,EACF,SAAAzjC,CAEC,CAAA,CACH,CAAA,CAGN;;;;;;;;;4gBCnKO,MAAM4kC,GAAoB,CAAC,OAAQ,YAAY,EAAE,KAAK,GAAG,EACnDC,GAAsB,CACjC,QACA,cACA,UACA,WACF,EAAE,KAAK,GAAG,EAEJC,GAAgB,CACpB,UAAW,SACX,cAAe,KACjB,EAEaC,GAEwBC,IAAA,CACnC,WAAYJ,GACZ,UAAW,CACT,GAAGE,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,UAAW,CACT,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,UAAW,CACT,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,MAAO,CACL,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,YAAa,CACX,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,OACZ,UAAW,QACb,EACA,MAAO,CACL,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,YAAa,CACX,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,YAAa,CACX,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,WAAY,CACV,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,WAAY,CACV,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,UAAW,CACT,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,MAAO,CACL,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,WAAY,CACV,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,SAAU,CACR,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,aAAc,CACZ,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,OACZ,cAAe,WACjB,EACA,iBAAkB,CAChB,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,MACd,EACA,aAAc,CACZ,GAAGA,GACH,SAAU,OACV,WAAY,IACZ,WAAY,OACZ,MAAOE,EAAQ,KAAK,GAAG,EACvB,cAAe,WACjB,EACA,UAAW,CACT,GAAGF,GACH,WAAYD,GACZ,SAAU,MACZ,CACF,GClIA,SAASI,GAAQ3nC,EAAK,CACpB,0BAEA,OAAO2nC,GAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAU3nC,EAAK,CAClG,OAAO,OAAOA,CACf,EAAG,SAAUA,EAAK,CACjB,OAAOA,GAAqB,OAAO,QAArB,YAA+BA,EAAI,cAAgB,QAAUA,IAAQ,OAAO,UAAY,SAAW,OAAOA,CAC5H,EAAK2nC,GAAQ3nC,CAAG,CAChB,CAKA,IAAI4nC,GAAW,OACXC,GAAY,OAChB,SAASC,EAAUC,EAAOx+B,EAAM,CAK9B,GAJAw+B,EAAQA,GAAgB,GACxBx+B,EAAOA,GAAQ,GAGXw+B,aAAiBD,EACnB,OAAOC,EAGT,GAAI,EAAE,gBAAgBD,GACpB,OAAO,IAAIA,EAAUC,EAAOx+B,CAAI,EAElC,IAAIy+B,EAAMC,GAAWF,CAAK,EAC1B,KAAK,eAAiBA,EAAO,KAAK,GAAKC,EAAI,EAAG,KAAK,GAAKA,EAAI,EAAG,KAAK,GAAKA,EAAI,EAAG,KAAK,GAAKA,EAAI,EAAG,KAAK,QAAU,KAAK,MAAM,IAAM,KAAK,EAAE,EAAI,IAAK,KAAK,QAAUz+B,EAAK,QAAUy+B,EAAI,OACnL,KAAK,cAAgBz+B,EAAK,aAMtB,KAAK,GAAK,IAAG,KAAK,GAAK,KAAK,MAAM,KAAK,EAAE,GACzC,KAAK,GAAK,IAAG,KAAK,GAAK,KAAK,MAAM,KAAK,EAAE,GACzC,KAAK,GAAK,IAAG,KAAK,GAAK,KAAK,MAAM,KAAK,EAAE,GAC7C,KAAK,IAAMy+B,EAAI,EACjB,CACAF,EAAU,UAAY,CACpB,OAAQ,UAAkB,CACxB,OAAO,KAAK,cAAe,EAAG,GAC/B,EACD,QAAS,UAAmB,CAC1B,MAAO,CAAC,KAAK,QACd,EACD,QAAS,UAAmB,CAC1B,OAAO,KAAK,GACb,EACD,iBAAkB,UAA4B,CAC5C,OAAO,KAAK,cACb,EACD,UAAW,UAAqB,CAC9B,OAAO,KAAK,OACb,EACD,SAAU,UAAoB,CAC5B,OAAO,KAAK,EACb,EACD,cAAe,UAAyB,CAEtC,IAAIE,EAAM,KAAK,QACf,OAAQA,EAAI,EAAI,IAAMA,EAAI,EAAI,IAAMA,EAAI,EAAI,KAAO,GACpD,EACD,aAAc,UAAwB,CAEpC,IAAIA,EAAM,KAAK,QACXE,EAAOC,EAAOC,EAAOC,EAAGC,EAAGC,EAC/B,OAAAL,EAAQF,EAAI,EAAI,IAChBG,EAAQH,EAAI,EAAI,IAChBI,EAAQJ,EAAI,EAAI,IACZE,GAAS,OAASG,EAAIH,EAAQ,MAAWG,EAAI,KAAK,KAAKH,EAAQ,MAAS,MAAO,GAAG,EAClFC,GAAS,OAASG,EAAIH,EAAQ,MAAWG,EAAI,KAAK,KAAKH,EAAQ,MAAS,MAAO,GAAG,EAClFC,GAAS,OAASG,EAAIH,EAAQ,MAAWG,EAAI,KAAK,KAAKH,EAAQ,MAAS,MAAO,GAAG,EAC/E,MAASC,EAAI,MAASC,EAAI,MAASC,CAC3C,EACD,SAAU,SAAkB7nC,EAAO,CACjC,YAAK,GAAK8nC,GAAW9nC,CAAK,EAC1B,KAAK,QAAU,KAAK,MAAM,IAAM,KAAK,EAAE,EAAI,IACpC,IACR,EACD,MAAO,UAAiB,CACtB,IAAI+nC,EAAMC,GAAS,KAAK,GAAI,KAAK,GAAI,KAAK,EAAE,EAC5C,MAAO,CACL,EAAGD,EAAI,EAAI,IACX,EAAGA,EAAI,EACP,EAAGA,EAAI,EACP,EAAG,KAAK,EACd,CACG,EACD,YAAa,UAAuB,CAClC,IAAIA,EAAMC,GAAS,KAAK,GAAI,KAAK,GAAI,KAAK,EAAE,EACxCvG,EAAI,KAAK,MAAMsG,EAAI,EAAI,GAAG,EAC5B7rC,EAAI,KAAK,MAAM6rC,EAAI,EAAI,GAAG,EAC1BE,EAAI,KAAK,MAAMF,EAAI,EAAI,GAAG,EAC5B,OAAO,KAAK,IAAM,EAAI,OAAStG,EAAI,KAAOvlC,EAAI,MAAQ+rC,EAAI,KAAO,QAAUxG,EAAI,KAAOvlC,EAAI,MAAQ+rC,EAAI,MAAQ,KAAK,QAAU,GAC9H,EACD,MAAO,UAAiB,CACtB,IAAIC,EAAMC,GAAS,KAAK,GAAI,KAAK,GAAI,KAAK,EAAE,EAC5C,MAAO,CACL,EAAGD,EAAI,EAAI,IACX,EAAGA,EAAI,EACP,EAAGA,EAAI,EACP,EAAG,KAAK,EACd,CACG,EACD,YAAa,UAAuB,CAClC,IAAIA,EAAMC,GAAS,KAAK,GAAI,KAAK,GAAI,KAAK,EAAE,EACxC1G,EAAI,KAAK,MAAMyG,EAAI,EAAI,GAAG,EAC5BhsC,EAAI,KAAK,MAAMgsC,EAAI,EAAI,GAAG,EAC1BE,EAAI,KAAK,MAAMF,EAAI,EAAI,GAAG,EAC5B,OAAO,KAAK,IAAM,EAAI,OAASzG,EAAI,KAAOvlC,EAAI,MAAQksC,EAAI,KAAO,QAAU3G,EAAI,KAAOvlC,EAAI,MAAQksC,EAAI,MAAQ,KAAK,QAAU,GAC9H,EACD,MAAO,SAAeC,EAAY,CAChC,OAAOC,GAAS,KAAK,GAAI,KAAK,GAAI,KAAK,GAAID,CAAU,CACtD,EACD,YAAa,SAAqBA,EAAY,CAC5C,MAAO,IAAM,KAAK,MAAMA,CAAU,CACnC,EACD,OAAQ,SAAgBE,EAAY,CAClC,OAAOC,GAAU,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAID,CAAU,CAChE,EACD,aAAc,SAAsBA,EAAY,CAC9C,MAAO,IAAM,KAAK,OAAOA,CAAU,CACpC,EACD,MAAO,UAAiB,CACtB,MAAO,CACL,EAAG,KAAK,MAAM,KAAK,EAAE,EACrB,EAAG,KAAK,MAAM,KAAK,EAAE,EACrB,EAAG,KAAK,MAAM,KAAK,EAAE,EACrB,EAAG,KAAK,EACd,CACG,EACD,YAAa,UAAuB,CAClC,OAAO,KAAK,IAAM,EAAI,OAAS,KAAK,MAAM,KAAK,EAAE,EAAI,KAAO,KAAK,MAAM,KAAK,EAAE,EAAI,KAAO,KAAK,MAAM,KAAK,EAAE,EAAI,IAAM,QAAU,KAAK,MAAM,KAAK,EAAE,EAAI,KAAO,KAAK,MAAM,KAAK,EAAE,EAAI,KAAO,KAAK,MAAM,KAAK,EAAE,EAAI,KAAO,KAAK,QAAU,GACtO,EACD,gBAAiB,UAA2B,CAC1C,MAAO,CACL,EAAG,KAAK,MAAME,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,IAC7C,EAAG,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,IAC7C,EAAG,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,IAC7C,EAAG,KAAK,EACd,CACG,EACD,sBAAuB,UAAiC,CACtD,OAAO,KAAK,IAAM,EAAI,OAAS,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,MAAQ,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,MAAQ,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,KAAO,QAAU,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,MAAQ,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,MAAQ,KAAK,MAAMA,EAAQ,KAAK,GAAI,GAAG,EAAI,GAAG,EAAI,MAAQ,KAAK,QAAU,GACpW,EACD,OAAQ,UAAkB,CACxB,OAAI,KAAK,KAAO,EACP,cAEL,KAAK,GAAK,EACL,GAEFC,GAASJ,GAAS,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,EAAI,CAAC,GAAK,EAC/D,EACD,SAAU,SAAkBK,EAAa,CACvC,IAAIC,EAAa,IAAMC,GAAc,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,EAAE,EACnEC,EAAmBF,EACnBG,EAAe,KAAK,cAAgB,qBAAuB,GAC/D,GAAIJ,EAAa,CACf,IAAIzsC,EAAIkrC,EAAUuB,CAAW,EAC7BG,EAAmB,IAAMD,GAAc3sC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,EAAE,CAC9D,CACD,MAAO,8CAAgD6sC,EAAe,iBAAmBH,EAAa,gBAAkBE,EAAmB,GAC5I,EACD,SAAU,SAAkBE,EAAQ,CAClC,IAAIC,EAAY,CAAC,CAACD,EAClBA,EAASA,GAAU,KAAK,QACxB,IAAIE,EAAkB,GAClBC,EAAW,KAAK,GAAK,GAAK,KAAK,IAAM,EACrCC,EAAmB,CAACH,GAAaE,IAAaH,IAAW,OAASA,IAAW,QAAUA,IAAW,QAAUA,IAAW,QAAUA,IAAW,QAAUA,IAAW,QACrK,OAAII,EAGEJ,IAAW,QAAU,KAAK,KAAO,EAC5B,KAAK,SAEP,KAAK,eAEVA,IAAW,QACbE,EAAkB,KAAK,eAErBF,IAAW,SACbE,EAAkB,KAAK,0BAErBF,IAAW,OAASA,IAAW,UACjCE,EAAkB,KAAK,eAErBF,IAAW,SACbE,EAAkB,KAAK,YAAY,EAAI,GAErCF,IAAW,SACbE,EAAkB,KAAK,aAAa,EAAI,GAEtCF,IAAW,SACbE,EAAkB,KAAK,gBAErBF,IAAW,SACbE,EAAkB,KAAK,UAErBF,IAAW,QACbE,EAAkB,KAAK,eAErBF,IAAW,QACbE,EAAkB,KAAK,eAElBA,GAAmB,KAAK,cAChC,EACD,MAAO,UAAiB,CACtB,OAAO9B,EAAU,KAAK,SAAQ,CAAE,CACjC,EACD,mBAAoB,SAA4B1sB,EAAI1I,EAAM,CACxD,IAAIq1B,EAAQ3sB,EAAG,MAAM,KAAM,CAAC,IAAI,EAAE,OAAO,CAAE,EAAC,MAAM,KAAK1I,CAAI,CAAC,CAAC,EAC7D,YAAK,GAAKq1B,EAAM,GAChB,KAAK,GAAKA,EAAM,GAChB,KAAK,GAAKA,EAAM,GAChB,KAAK,SAASA,EAAM,EAAE,EACf,IACR,EACD,QAAS,UAAmB,CAC1B,OAAO,KAAK,mBAAmBgC,GAAU,SAAS,CACnD,EACD,SAAU,UAAoB,CAC5B,OAAO,KAAK,mBAAmBC,GAAW,SAAS,CACpD,EACD,OAAQ,UAAkB,CACxB,OAAO,KAAK,mBAAmBC,GAAS,SAAS,CAClD,EACD,WAAY,UAAsB,CAChC,OAAO,KAAK,mBAAmBC,GAAa,SAAS,CACtD,EACD,SAAU,UAAoB,CAC5B,OAAO,KAAK,mBAAmBC,GAAW,SAAS,CACpD,EACD,UAAW,UAAqB,CAC9B,OAAO,KAAK,mBAAmBC,GAAY,SAAS,CACrD,EACD,KAAM,UAAgB,CACpB,OAAO,KAAK,mBAAmBC,GAAO,SAAS,CAChD,EACD,kBAAmB,SAA2BjvB,EAAI1I,EAAM,CACtD,OAAO0I,EAAG,MAAM,KAAM,CAAC,IAAI,EAAE,OAAO,CAAA,EAAG,MAAM,KAAK1I,CAAI,CAAC,CAAC,CACzD,EACD,UAAW,UAAqB,CAC9B,OAAO,KAAK,kBAAkB43B,GAAY,SAAS,CACpD,EACD,WAAY,UAAsB,CAChC,OAAO,KAAK,kBAAkBC,GAAa,SAAS,CACrD,EACD,cAAe,UAAyB,CACtC,OAAO,KAAK,kBAAkBC,GAAgB,SAAS,CACxD,EACD,gBAAiB,UAA2B,CAC1C,OAAO,KAAK,kBAAkBC,GAAkB,SAAS,CAC1D,EAKD,MAAO,UAAiB,CACtB,OAAO,KAAK,kBAAkBC,GAAQ,CAAC,CAAC,CAAC,CAC1C,EACD,OAAQ,UAAkB,CACxB,OAAO,KAAK,kBAAkBA,GAAQ,CAAC,CAAC,CAAC,CAC1C,CACH,EAIA5C,EAAU,UAAY,SAAUC,EAAOx+B,EAAM,CAC3C,GAAIo+B,GAAQI,CAAK,GAAK,SAAU,CAC9B,IAAI4C,EAAW,CAAA,EACf,QAAS7tC,KAAKirC,EACRA,EAAM,eAAejrC,CAAC,IACpBA,IAAM,IACR6tC,EAAS7tC,CAAC,EAAIirC,EAAMjrC,CAAC,EAErB6tC,EAAS7tC,CAAC,EAAI8tC,GAAoB7C,EAAMjrC,CAAC,CAAC,GAIhDirC,EAAQ4C,CACT,CACD,OAAO7C,EAAUC,EAAOx+B,CAAI,CAC9B,EAiBA,SAAS0+B,GAAWF,EAAO,CACzB,IAAIC,EAAM,CACR,EAAG,EACH,EAAG,EACH,EAAG,CACP,EACMxrC,EAAI,EACJI,EAAI,KACJ+rC,EAAI,KACJG,EAAI,KACJrN,EAAK,GACLiO,EAAS,GACb,OAAI,OAAO3B,GAAS,WAClBA,EAAQ8C,GAAoB9C,CAAK,GAE/BJ,GAAQI,CAAK,GAAK,WAChB+C,GAAe/C,EAAM,CAAC,GAAK+C,GAAe/C,EAAM,CAAC,GAAK+C,GAAe/C,EAAM,CAAC,GAC9EC,EAAM+C,GAAShD,EAAM,EAAGA,EAAM,EAAGA,EAAM,CAAC,EACxCtM,EAAK,GACLiO,EAAS,OAAO3B,EAAM,CAAC,EAAE,OAAO,EAAE,IAAM,IAAM,OAAS,OAC9C+C,GAAe/C,EAAM,CAAC,GAAK+C,GAAe/C,EAAM,CAAC,GAAK+C,GAAe/C,EAAM,CAAC,GACrFnrC,EAAIguC,GAAoB7C,EAAM,CAAC,EAC/BY,EAAIiC,GAAoB7C,EAAM,CAAC,EAC/BC,EAAMgD,GAASjD,EAAM,EAAGnrC,EAAG+rC,CAAC,EAC5BlN,EAAK,GACLiO,EAAS,OACAoB,GAAe/C,EAAM,CAAC,GAAK+C,GAAe/C,EAAM,CAAC,GAAK+C,GAAe/C,EAAM,CAAC,IACrFnrC,EAAIguC,GAAoB7C,EAAM,CAAC,EAC/Be,EAAI8B,GAAoB7C,EAAM,CAAC,EAC/BC,EAAMiD,GAASlD,EAAM,EAAGnrC,EAAGksC,CAAC,EAC5BrN,EAAK,GACLiO,EAAS,OAEP3B,EAAM,eAAe,GAAG,IAC1BvrC,EAAIurC,EAAM,IAGdvrC,EAAIgsC,GAAWhsC,CAAC,EACT,CACL,GAAIi/B,EACJ,OAAQsM,EAAM,QAAU2B,EACxB,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI1B,EAAI,EAAG,CAAC,CAAC,EACnC,EAAG,KAAK,IAAI,IAAK,KAAK,IAAIA,EAAI,EAAG,CAAC,CAAC,EACnC,EAAG,KAAK,IAAI,IAAK,KAAK,IAAIA,EAAI,EAAG,CAAC,CAAC,EACnC,EAAGxrC,CACP,CACA,CAaA,SAASuuC,GAASG,EAAGC,EAAG1uC,EAAG,CACzB,MAAO,CACL,EAAG0sC,EAAQ+B,EAAG,GAAG,EAAI,IACrB,EAAG/B,EAAQgC,EAAG,GAAG,EAAI,IACrB,EAAGhC,EAAQ1sC,EAAG,GAAG,EAAI,GACzB,CACA,CAMA,SAASosC,GAASqC,EAAGC,EAAG1uC,EAAG,CACzByuC,EAAI/B,EAAQ+B,EAAG,GAAG,EAClBC,EAAIhC,EAAQgC,EAAG,GAAG,EAClB1uC,EAAI0sC,EAAQ1sC,EAAG,GAAG,EAClB,IAAI2uC,EAAM,KAAK,IAAIF,EAAGC,EAAG1uC,CAAC,EACxB4uC,EAAM,KAAK,IAAIH,EAAGC,EAAG1uC,CAAC,EACpB0lC,EACFvlC,EACAksC,GAAKsC,EAAMC,GAAO,EACpB,GAAID,GAAOC,EACTlJ,EAAIvlC,EAAI,MACH,CACL,IAAI0uC,EAAIF,EAAMC,EAEd,OADAzuC,EAAIksC,EAAI,GAAMwC,GAAK,EAAIF,EAAMC,GAAOC,GAAKF,EAAMC,GACvCD,EAAG,CACT,KAAKF,EACH/I,GAAKgJ,EAAI1uC,GAAK6uC,GAAKH,EAAI1uC,EAAI,EAAI,GAC/B,MACF,KAAK0uC,EACHhJ,GAAK1lC,EAAIyuC,GAAKI,EAAI,EAClB,MACF,KAAK7uC,EACH0lC,GAAK+I,EAAIC,GAAKG,EAAI,EAClB,KACH,CACDnJ,GAAK,CACN,CACD,MAAO,CACL,EAAGA,EACH,EAAGvlC,EACH,EAAGksC,CACP,CACA,CAMA,SAASmC,GAAS9I,EAAGvlC,EAAGksC,EAAG,CACzB,IAAIoC,EAAGC,EAAG1uC,EACV0lC,EAAIgH,EAAQhH,EAAG,GAAG,EAClBvlC,EAAIusC,EAAQvsC,EAAG,GAAG,EAClBksC,EAAIK,EAAQL,EAAG,GAAG,EAClB,SAASyC,EAAQ9pC,EAAG+pC,EAAGhqC,EAAG,CAGxB,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUC,GAAK+pC,EAAI/pC,GAAK,EAAID,EACpCA,EAAI,EAAI,EAAUgqC,EAClBhqC,EAAI,EAAI,EAAUC,GAAK+pC,EAAI/pC,IAAM,EAAI,EAAID,GAAK,EAC3CC,CACR,CACD,GAAI7E,IAAM,EACRsuC,EAAIC,EAAI1uC,EAAIqsC,MACP,CACL,IAAI0C,EAAI1C,EAAI,GAAMA,GAAK,EAAIlsC,GAAKksC,EAAIlsC,EAAIksC,EAAIlsC,EACxC6E,EAAI,EAAIqnC,EAAI0C,EAChBN,EAAIK,EAAQ9pC,EAAG+pC,EAAGrJ,EAAI,EAAI,CAAC,EAC3BgJ,EAAII,EAAQ9pC,EAAG+pC,EAAGrJ,CAAC,EACnB1lC,EAAI8uC,EAAQ9pC,EAAG+pC,EAAGrJ,EAAI,EAAI,CAAC,CAC5B,CACD,MAAO,CACL,EAAG+I,EAAI,IACP,EAAGC,EAAI,IACP,EAAG1uC,EAAI,GACX,CACA,CAMA,SAASisC,GAASwC,EAAGC,EAAG1uC,EAAG,CACzByuC,EAAI/B,EAAQ+B,EAAG,GAAG,EAClBC,EAAIhC,EAAQgC,EAAG,GAAG,EAClB1uC,EAAI0sC,EAAQ1sC,EAAG,GAAG,EAClB,IAAI2uC,EAAM,KAAK,IAAIF,EAAGC,EAAG1uC,CAAC,EACxB4uC,EAAM,KAAK,IAAIH,EAAGC,EAAG1uC,CAAC,EACpB0lC,EACFvlC,EACA+rC,EAAIyC,EACFE,EAAIF,EAAMC,EAEd,GADAzuC,EAAIwuC,IAAQ,EAAI,EAAIE,EAAIF,EACpBA,GAAOC,EACTlJ,EAAI,MACC,CACL,OAAQiJ,EAAG,CACT,KAAKF,EACH/I,GAAKgJ,EAAI1uC,GAAK6uC,GAAKH,EAAI1uC,EAAI,EAAI,GAC/B,MACF,KAAK0uC,EACHhJ,GAAK1lC,EAAIyuC,GAAKI,EAAI,EAClB,MACF,KAAK7uC,EACH0lC,GAAK+I,EAAIC,GAAKG,EAAI,EAClB,KACH,CACDnJ,GAAK,CACN,CACD,MAAO,CACL,EAAGA,EACH,EAAGvlC,EACH,EAAG+rC,CACP,CACA,CAMA,SAASqC,GAAS7I,EAAGvlC,EAAG+rC,EAAG,CACzBxG,EAAIgH,EAAQhH,EAAG,GAAG,EAAI,EACtBvlC,EAAIusC,EAAQvsC,EAAG,GAAG,EAClB+rC,EAAIQ,EAAQR,EAAG,GAAG,EAClB,IAAI7rC,EAAI,KAAK,MAAMqlC,CAAC,EAClBsJ,EAAItJ,EAAIrlC,EACR2E,EAAIknC,GAAK,EAAI/rC,GACb4uC,EAAI7C,GAAK,EAAI8C,EAAI7uC,GACjB4E,EAAImnC,GAAK,GAAK,EAAI8C,GAAK7uC,GACvB8uC,EAAM5uC,EAAI,EACVouC,EAAI,CAACvC,EAAG6C,EAAG/pC,EAAGA,EAAGD,EAAGmnC,CAAC,EAAE+C,CAAG,EAC1BP,EAAI,CAAC3pC,EAAGmnC,EAAGA,EAAG6C,EAAG/pC,EAAGA,CAAC,EAAEiqC,CAAG,EAC1BjvC,EAAI,CAACgF,EAAGA,EAAGD,EAAGmnC,EAAGA,EAAG6C,CAAC,EAAEE,CAAG,EAC5B,MAAO,CACL,EAAGR,EAAI,IACP,EAAGC,EAAI,IACP,EAAG1uC,EAAI,GACX,CACA,CAMA,SAASusC,GAASkC,EAAGC,EAAG1uC,EAAGssC,EAAY,CACrC,IAAIprC,EAAM,CAACguC,GAAK,KAAK,MAAMT,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGS,GAAK,KAAK,MAAMR,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGQ,GAAK,KAAK,MAAMlvC,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAG/G,OAAIssC,GAAcprC,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,EAC5HA,EAAI,CAAC,EAAE,OAAO,CAAC,EAAIA,EAAI,CAAC,EAAE,OAAO,CAAC,EAAIA,EAAI,CAAC,EAAE,OAAO,CAAC,EAEvDA,EAAI,KAAK,EAAE,CACpB,CAMA,SAASurC,GAAUgC,EAAGC,EAAG1uC,EAAGD,EAAGysC,EAAY,CACzC,IAAItrC,EAAM,CAACguC,GAAK,KAAK,MAAMT,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGS,GAAK,KAAK,MAAMR,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGQ,GAAK,KAAK,MAAMlvC,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGkvC,GAAKC,GAAoBpvC,CAAC,CAAC,CAAC,EAG7I,OAAIysC,GAActrC,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,GAAKA,EAAI,CAAC,EAAE,OAAO,CAAC,EACpKA,EAAI,CAAC,EAAE,OAAO,CAAC,EAAIA,EAAI,CAAC,EAAE,OAAO,CAAC,EAAIA,EAAI,CAAC,EAAE,OAAO,CAAC,EAAIA,EAAI,CAAC,EAAE,OAAO,CAAC,EAE1EA,EAAI,KAAK,EAAE,CACpB,CAKA,SAAS4rC,GAAc2B,EAAGC,EAAG1uC,EAAGD,EAAG,CACjC,IAAImB,EAAM,CAACguC,GAAKC,GAAoBpvC,CAAC,CAAC,EAAGmvC,GAAK,KAAK,MAAMT,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGS,GAAK,KAAK,MAAMR,CAAC,EAAE,SAAS,EAAE,CAAC,EAAGQ,GAAK,KAAK,MAAMlvC,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAC7I,OAAOkB,EAAI,KAAK,EAAE,CACpB,CAIAmqC,EAAU,OAAS,SAAU+D,EAAQC,EAAQ,CAC3C,MAAI,CAACD,GAAU,CAACC,EAAe,GACxBhE,EAAU+D,CAAM,EAAE,YAAW,GAAM/D,EAAUgE,CAAM,EAAE,aAC9D,EACAhE,EAAU,OAAS,UAAY,CAC7B,OAAOA,EAAU,UAAU,CACzB,EAAG,KAAK,OAAQ,EAChB,EAAG,KAAK,OAAQ,EAChB,EAAG,KAAK,OAAQ,CACpB,CAAG,CACH,EAOA,SAASoC,GAAYnC,EAAOgE,EAAQ,CAClCA,EAASA,IAAW,EAAI,EAAIA,GAAU,GACtC,IAAInD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAChC,OAAAa,EAAI,GAAKmD,EAAS,IAClBnD,EAAI,EAAIoD,GAAQpD,EAAI,CAAC,EACdd,EAAUc,CAAG,CACtB,CACA,SAASuB,GAAUpC,EAAOgE,EAAQ,CAChCA,EAASA,IAAW,EAAI,EAAIA,GAAU,GACtC,IAAInD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAChC,OAAAa,EAAI,GAAKmD,EAAS,IAClBnD,EAAI,EAAIoD,GAAQpD,EAAI,CAAC,EACdd,EAAUc,CAAG,CACtB,CACA,SAASwB,GAAWrC,EAAO,CACzB,OAAOD,EAAUC,CAAK,EAAE,WAAW,GAAG,CACxC,CACA,SAASgC,GAAShC,EAAOgE,EAAQ,CAC/BA,EAASA,IAAW,EAAI,EAAIA,GAAU,GACtC,IAAInD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAChC,OAAAa,EAAI,GAAKmD,EAAS,IAClBnD,EAAI,EAAIoD,GAAQpD,EAAI,CAAC,EACdd,EAAUc,CAAG,CACtB,CACA,SAASoB,GAAUjC,EAAOgE,EAAQ,CAChCA,EAASA,IAAW,EAAI,EAAIA,GAAU,GACtC,IAAI/D,EAAMF,EAAUC,CAAK,EAAE,MAAK,EAChC,OAAAC,EAAI,EAAI,KAAK,IAAI,EAAG,KAAK,IAAI,IAAKA,EAAI,EAAI,KAAK,MAAM,IAAM,EAAE+D,EAAS,IAAI,CAAC,CAAC,EAC5E/D,EAAI,EAAI,KAAK,IAAI,EAAG,KAAK,IAAI,IAAKA,EAAI,EAAI,KAAK,MAAM,IAAM,EAAE+D,EAAS,IAAI,CAAC,CAAC,EAC5E/D,EAAI,EAAI,KAAK,IAAI,EAAG,KAAK,IAAI,IAAKA,EAAI,EAAI,KAAK,MAAM,IAAM,EAAE+D,EAAS,IAAI,CAAC,CAAC,EACrEjE,EAAUE,CAAG,CACtB,CACA,SAASiC,GAAQlC,EAAOgE,EAAQ,CAC9BA,EAASA,IAAW,EAAI,EAAIA,GAAU,GACtC,IAAInD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAChC,OAAAa,EAAI,GAAKmD,EAAS,IAClBnD,EAAI,EAAIoD,GAAQpD,EAAI,CAAC,EACdd,EAAUc,CAAG,CACtB,CAIA,SAASyB,GAAMtC,EAAOgE,EAAQ,CAC5B,IAAInD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAC5BkE,GAAOrD,EAAI,EAAImD,GAAU,IAC7B,OAAAnD,EAAI,EAAIqD,EAAM,EAAI,IAAMA,EAAMA,EACvBnE,EAAUc,CAAG,CACtB,CAOA,SAAS2B,GAAYxC,EAAO,CAC1B,IAAIa,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAChC,OAAAa,EAAI,GAAKA,EAAI,EAAI,KAAO,IACjBd,EAAUc,CAAG,CACtB,CACA,SAAS8B,GAAO3C,EAAOmE,EAAQ,CAC7B,GAAI,MAAMA,CAAM,GAAKA,GAAU,EAC7B,MAAM,IAAI,MAAM,8CAA8C,EAKhE,QAHItD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAC5B/oC,EAAS,CAAC8oC,EAAUC,CAAK,CAAC,EAC1BoE,EAAO,IAAMD,EACRpvC,EAAI,EAAGA,EAAIovC,EAAQpvC,IAC1BkC,EAAO,KAAK8oC,EAAU,CACpB,GAAIc,EAAI,EAAI9rC,EAAIqvC,GAAQ,IACxB,EAAGvD,EAAI,EACP,EAAGA,EAAI,CACR,CAAA,CAAC,EAEJ,OAAO5pC,CACT,CACA,SAASyrC,GAAiB1C,EAAO,CAC/B,IAAIa,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAC5B5F,EAAIyG,EAAI,EACZ,MAAO,CAACd,EAAUC,CAAK,EAAGD,EAAU,CAClC,GAAI3F,EAAI,IAAM,IACd,EAAGyG,EAAI,EACP,EAAGA,EAAI,CACR,CAAA,EAAGd,EAAU,CACZ,GAAI3F,EAAI,KAAO,IACf,EAAGyG,EAAI,EACP,EAAGA,EAAI,CACR,CAAA,CAAC,CACJ,CACA,SAAS0B,GAAWvC,EAAOqE,EAASC,EAAQ,CAC1CD,EAAUA,GAAW,EACrBC,EAASA,GAAU,GACnB,IAAIzD,EAAMd,EAAUC,CAAK,EAAE,MAAK,EAC5BhQ,EAAO,IAAMsU,EACb/sC,EAAM,CAACwoC,EAAUC,CAAK,CAAC,EAC3B,IAAKa,EAAI,GAAKA,EAAI,GAAK7Q,EAAOqU,GAAW,GAAK,KAAO,IAAK,EAAEA,GAC1DxD,EAAI,GAAKA,EAAI,EAAI7Q,GAAQ,IACzBz4B,EAAI,KAAKwoC,EAAUc,CAAG,CAAC,EAEzB,OAAOtpC,CACT,CACA,SAASkrC,GAAezC,EAAOqE,EAAS,CACtCA,EAAUA,GAAW,EAOrB,QANI3D,EAAMX,EAAUC,CAAK,EAAE,MAAK,EAC5B5F,EAAIsG,EAAI,EACV7rC,EAAI6rC,EAAI,EACRE,EAAIF,EAAI,EACNnpC,EAAM,CAAA,EACNgtC,EAAe,EAAIF,EAChBA,KACL9sC,EAAI,KAAKwoC,EAAU,CACjB,EAAG3F,EACH,EAAGvlC,EACH,EAAG+rC,CACJ,CAAA,CAAC,EACFA,GAAKA,EAAI2D,GAAgB,EAE3B,OAAOhtC,CACT,CAKAwoC,EAAU,IAAM,SAAU+D,EAAQC,EAAQC,EAAQ,CAChDA,EAASA,IAAW,EAAI,EAAIA,GAAU,GACtC,IAAIQ,EAAOzE,EAAU+D,CAAM,EAAE,MAAK,EAC9BW,EAAO1E,EAAUgE,CAAM,EAAE,MAAK,EAC9BrqC,EAAIsqC,EAAS,IACbU,EAAO,CACT,GAAID,EAAK,EAAID,EAAK,GAAK9qC,EAAI8qC,EAAK,EAChC,GAAIC,EAAK,EAAID,EAAK,GAAK9qC,EAAI8qC,EAAK,EAChC,GAAIC,EAAK,EAAID,EAAK,GAAK9qC,EAAI8qC,EAAK,EAChC,GAAIC,EAAK,EAAID,EAAK,GAAK9qC,EAAI8qC,EAAK,CACpC,EACE,OAAOzE,EAAU2E,CAAI,CACvB,EAQA3E,EAAU,YAAc,SAAU+D,EAAQC,EAAQ,CAChD,IAAIY,EAAK5E,EAAU+D,CAAM,EACrBc,EAAK7E,EAAUgE,CAAM,EACzB,OAAQ,KAAK,IAAIY,EAAG,aAAY,EAAIC,EAAG,aAAY,CAAE,EAAI,MAAS,KAAK,IAAID,EAAG,aAAc,EAAEC,EAAG,aAAc,CAAA,EAAI,IACrH,EAYA7E,EAAU,WAAa,SAAU+D,EAAQC,EAAQc,EAAO,CACtD,IAAIC,EAAc/E,EAAU,YAAY+D,EAAQC,CAAM,EAClDgB,EAAYC,EAGhB,OAFAA,EAAM,GACND,EAAaE,GAAmBJ,CAAK,EAC7BE,EAAW,MAAQA,EAAW,KAAI,CACxC,IAAK,UACL,IAAK,WACHC,EAAMF,GAAe,IACrB,MACF,IAAK,UACHE,EAAMF,GAAe,EACrB,MACF,IAAK,WACHE,EAAMF,GAAe,EACrB,KACH,CACD,OAAOE,CACT,EAWAjF,EAAU,aAAe,SAAUmF,EAAWC,EAAWx6B,EAAM,CAC7D,IAAIy6B,EAAY,KACZC,EAAY,EACZP,EACAQ,EAAuBC,EAAOzlC,EAClC6K,EAAOA,GAAQ,GACf26B,EAAwB36B,EAAK,sBAC7B46B,EAAQ56B,EAAK,MACb7K,EAAO6K,EAAK,KACZ,QAAS5V,EAAI,EAAGA,EAAIowC,EAAU,OAAQpwC,IACpC+vC,EAAc/E,EAAU,YAAYmF,EAAWC,EAAUpwC,CAAC,CAAC,EACvD+vC,EAAcO,IAChBA,EAAYP,EACZM,EAAYrF,EAAUoF,EAAUpwC,CAAC,CAAC,GAGtC,OAAIgrC,EAAU,WAAWmF,EAAWE,EAAW,CAC7C,MAAOG,EACP,KAAMzlC,CACV,CAAG,GAAK,CAACwlC,EACEF,GAEPz6B,EAAK,sBAAwB,GACtBo1B,EAAU,aAAamF,EAAW,CAAC,OAAQ,MAAM,EAAGv6B,CAAI,EAEnE,EAKA,IAAI66B,GAAQzF,EAAU,MAAQ,CAC5B,UAAW,SACX,aAAc,SACd,KAAM,MACN,WAAY,SACZ,MAAO,SACP,MAAO,SACP,OAAQ,SACR,MAAO,MACP,eAAgB,SAChB,KAAM,MACN,WAAY,SACZ,MAAO,SACP,UAAW,SACX,YAAa,SACb,UAAW,SACX,WAAY,SACZ,UAAW,SACX,MAAO,SACP,eAAgB,SAChB,SAAU,SACV,QAAS,SACT,KAAM,MACN,SAAU,SACV,SAAU,SACV,cAAe,SACf,SAAU,SACV,UAAW,SACX,SAAU,SACV,UAAW,SACX,YAAa,SACb,eAAgB,SAChB,WAAY,SACZ,WAAY,SACZ,QAAS,SACT,WAAY,SACZ,aAAc,SACd,cAAe,SACf,cAAe,SACf,cAAe,SACf,cAAe,SACf,WAAY,SACZ,SAAU,SACV,YAAa,SACb,QAAS,SACT,QAAS,SACT,WAAY,SACZ,UAAW,SACX,YAAa,SACb,YAAa,SACb,QAAS,MACT,UAAW,SACX,WAAY,SACZ,KAAM,SACN,UAAW,SACX,KAAM,SACN,MAAO,SACP,YAAa,SACb,KAAM,SACN,SAAU,SACV,QAAS,SACT,UAAW,SACX,OAAQ,SACR,MAAO,SACP,MAAO,SACP,SAAU,SACV,cAAe,SACf,UAAW,SACX,aAAc,SACd,UAAW,SACX,WAAY,SACZ,UAAW,SACX,qBAAsB,SACtB,UAAW,SACX,WAAY,SACZ,UAAW,SACX,UAAW,SACX,YAAa,SACb,cAAe,SACf,aAAc,SACd,eAAgB,MAChB,eAAgB,MAChB,eAAgB,SAChB,YAAa,SACb,KAAM,MACN,UAAW,SACX,MAAO,SACP,QAAS,MACT,OAAQ,SACR,iBAAkB,SAClB,WAAY,SACZ,aAAc,SACd,aAAc,SACd,eAAgB,SAChB,gBAAiB,SACjB,kBAAmB,SACnB,gBAAiB,SACjB,gBAAiB,SACjB,aAAc,SACd,UAAW,SACX,UAAW,SACX,SAAU,SACV,YAAa,SACb,KAAM,SACN,QAAS,SACT,MAAO,SACP,UAAW,SACX,OAAQ,SACR,UAAW,SACX,OAAQ,SACR,cAAe,SACf,UAAW,SACX,cAAe,SACf,cAAe,SACf,WAAY,SACZ,UAAW,SACX,KAAM,SACN,KAAM,SACN,KAAM,SACN,WAAY,SACZ,OAAQ,SACR,cAAe,SACf,IAAK,MACL,UAAW,SACX,UAAW,SACX,YAAa,SACb,OAAQ,SACR,WAAY,SACZ,SAAU,SACV,SAAU,SACV,OAAQ,SACR,OAAQ,SACR,QAAS,SACT,UAAW,SACX,UAAW,SACX,UAAW,SACX,KAAM,SACN,YAAa,SACb,UAAW,SACX,IAAK,SACL,KAAM,SACN,QAAS,SACT,OAAQ,SACR,UAAW,SACX,OAAQ,SACR,MAAO,SACP,MAAO,MACP,WAAY,SACZ,OAAQ,MACR,YAAa,QACf,EAGIsB,GAAWtB,EAAU,SAAW0F,GAAKD,EAAK,EAM9C,SAASC,GAAKv1B,EAAG,CACf,IAAIw1B,EAAU,CAAA,EACd,QAAS3wC,KAAKmb,EACRA,EAAE,eAAenb,CAAC,IACpB2wC,EAAQx1B,EAAEnb,CAAC,CAAC,EAAIA,GAGpB,OAAO2wC,CACT,CAGA,SAASjF,GAAWhsC,EAAG,CACrB,OAAAA,EAAI,WAAWA,CAAC,GACZ,MAAMA,CAAC,GAAKA,EAAI,GAAKA,EAAI,KAC3BA,EAAI,GAECA,CACT,CAGA,SAAS2sC,EAAQlsC,EAAGmuC,EAAK,CACnBsC,GAAezwC,CAAC,IAAGA,EAAI,QAC3B,IAAI0wC,EAAiBC,GAAa3wC,CAAC,EASnC,OARAA,EAAI,KAAK,IAAImuC,EAAK,KAAK,IAAI,EAAG,WAAWnuC,CAAC,CAAC,CAAC,EAGxC0wC,IACF1wC,EAAI,SAASA,EAAImuC,EAAK,EAAE,EAAI,KAI1B,KAAK,IAAInuC,EAAImuC,CAAG,EAAI,KACf,EAIFnuC,EAAImuC,EAAM,WAAWA,CAAG,CACjC,CAGA,SAASY,GAAQnuC,EAAK,CACpB,OAAO,KAAK,IAAI,EAAG,KAAK,IAAI,EAAGA,CAAG,CAAC,CACrC,CAGA,SAASgwC,GAAgBhwC,EAAK,CAC5B,OAAO,SAASA,EAAK,EAAE,CACzB,CAIA,SAAS6vC,GAAezwC,EAAG,CACzB,OAAO,OAAOA,GAAK,UAAYA,EAAE,QAAQ,GAAG,GAAK,IAAM,WAAWA,CAAC,IAAM,CAC3E,CAGA,SAAS2wC,GAAa3wC,EAAG,CACvB,OAAO,OAAOA,GAAM,UAAYA,EAAE,QAAQ,GAAG,GAAK,EACpD,CAGA,SAAS0uC,GAAKjvC,EAAG,CACf,OAAOA,EAAE,QAAU,EAAI,IAAMA,EAAI,GAAKA,CACxC,CAGA,SAASkuC,GAAoB3tC,EAAG,CAC9B,OAAIA,GAAK,IACPA,EAAIA,EAAI,IAAM,KAETA,CACT,CAGA,SAAS2uC,GAAoBN,EAAG,CAC9B,OAAO,KAAK,MAAM,WAAWA,CAAC,EAAI,GAAG,EAAE,SAAS,EAAE,CACpD,CAEA,SAASwC,GAAoB3L,EAAG,CAC9B,OAAO0L,GAAgB1L,CAAC,EAAI,GAC9B,CACA,IAAI4L,GAAW,UAAY,CAEzB,IAAIC,EAAc,gBAGdC,EAAa,uBAGbC,EAAW,MAAQD,EAAa,QAAUD,EAAc,IAKxDG,EAAoB,cAAgBD,EAAW,aAAeA,EAAW,aAAeA,EAAW,YACnGE,EAAoB,cAAgBF,EAAW,aAAeA,EAAW,aAAeA,EAAW,aAAeA,EAAW,YACjI,MAAO,CACL,SAAU,IAAI,OAAOA,CAAQ,EAC7B,IAAK,IAAI,OAAO,MAAQC,CAAiB,EACzC,KAAM,IAAI,OAAO,OAASC,CAAiB,EAC3C,IAAK,IAAI,OAAO,MAAQD,CAAiB,EACzC,KAAM,IAAI,OAAO,OAASC,CAAiB,EAC3C,IAAK,IAAI,OAAO,MAAQD,CAAiB,EACzC,KAAM,IAAI,OAAO,OAASC,CAAiB,EAC3C,KAAM,uDACN,KAAM,uDACN,KAAM,uEACN,KAAM,sEACV,CACA,IAKA,SAAStD,GAAe/C,EAAO,CAC7B,MAAO,CAAC,CAACgG,GAAS,SAAS,KAAKhG,CAAK,CACvC,CAKA,SAAS8C,GAAoB9C,EAAO,CAClCA,EAAQA,EAAM,QAAQH,GAAU,EAAE,EAAE,QAAQC,GAAW,EAAE,EAAE,cAC3D,IAAIwG,EAAQ,GACZ,GAAId,GAAMxF,CAAK,EACbA,EAAQwF,GAAMxF,CAAK,EACnBsG,EAAQ,WACCtG,GAAS,cAClB,MAAO,CACL,EAAG,EACH,EAAG,EACH,EAAG,EACH,EAAG,EACH,OAAQ,MACd,EAOE,IAAIhD,EACJ,OAAIA,EAAQgJ,GAAS,IAAI,KAAKhG,CAAK,GAC1B,CACL,EAAGhD,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,CAChB,GAEMA,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAGhD,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,CAChB,GAEMA,EAAQgJ,GAAS,IAAI,KAAKhG,CAAK,GAC1B,CACL,EAAGhD,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,CAChB,GAEMA,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAGhD,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,CAChB,GAEMA,EAAQgJ,GAAS,IAAI,KAAKhG,CAAK,GAC1B,CACL,EAAGhD,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,CAChB,GAEMA,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAGhD,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,EACV,EAAGA,EAAM,CAAC,CAChB,GAEMA,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAG8F,GAAgB9I,EAAM,CAAC,CAAC,EAC3B,EAAG8I,GAAgB9I,EAAM,CAAC,CAAC,EAC3B,EAAG8I,GAAgB9I,EAAM,CAAC,CAAC,EAC3B,EAAG+I,GAAoB/I,EAAM,CAAC,CAAC,EAC/B,OAAQsJ,EAAQ,OAAS,MAC/B,GAEMtJ,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAG8F,GAAgB9I,EAAM,CAAC,CAAC,EAC3B,EAAG8I,GAAgB9I,EAAM,CAAC,CAAC,EAC3B,EAAG8I,GAAgB9I,EAAM,CAAC,CAAC,EAC3B,OAAQsJ,EAAQ,OAAS,KAC/B,GAEMtJ,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAG8F,GAAgB9I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC3C,EAAG8I,GAAgB9I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC3C,EAAG8I,GAAgB9I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC3C,EAAG+I,GAAoB/I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC/C,OAAQsJ,EAAQ,OAAS,MAC/B,GAEMtJ,EAAQgJ,GAAS,KAAK,KAAKhG,CAAK,GAC3B,CACL,EAAG8F,GAAgB9I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC3C,EAAG8I,GAAgB9I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC3C,EAAG8I,GAAgB9I,EAAM,CAAC,EAAI,GAAKA,EAAM,CAAC,CAAC,EAC3C,OAAQsJ,EAAQ,OAAS,KAC/B,EAES,EACT,CACA,SAASrB,GAAmBsB,EAAO,CAGjC,IAAIhB,EAAOzlC,EACX,OAAAymC,EAAQA,GAAS,CACf,MAAO,KACP,KAAM,OACV,EACEhB,GAASgB,EAAM,OAAS,MAAM,YAAW,EACzCzmC,GAAQymC,EAAM,MAAQ,SAAS,YAAW,EACtChB,IAAU,MAAQA,IAAU,QAC9BA,EAAQ,MAENzlC,IAAS,SAAWA,IAAS,UAC/BA,EAAO,SAEF,CACL,MAAOylC,EACP,KAAMzlC,CACV,CACA,CCtpCa,MAAA0mC,EAAkB,CAC7BC,EACAC,KAEO,CACL,IAAK3G,EAAU0G,CAAS,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,EAAE,SAAS,EAC9D,IAAK1G,EAAU0G,CAAS,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,EAAE,SAAS,EAC9D,IAAK1G,EAAU0G,CAAS,EAAE,WAAW,CAAC,EAAE,QAAQ,EAAE,EAAE,SAAS,EAC7D,IAAK1G,EAAU0G,CAAS,EAAE,WAAW,CAAC,EAAE,QAAQ,CAAC,EAAE,SAAS,EAC5D,IAAK1G,EAAU0G,CAAS,EAAE,SAAS,EACnC,IAAK1G,EAAU0G,CAAS,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,EAAE,SAAS,EACzD,IAAK1G,EAAU0G,CAAS,EAAE,SAAS,EAAE,EAAE,OAAO,CAAC,EAAE,SAAS,EAC1D,IAAK1G,EAAU0G,CAAS,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,EAAE,SAAS,EAC3D,IAAK1G,EAAU0G,CAAS,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,EAAE,SAAS,EAC3D,MACGC,GAAkB,OAAOA,GAAkBA,EAAe,GAAG,GAC9D3G,EAAU0G,CAAS,EAAE,WAAW,CAAC,EAAE,QAAQ,CAAC,EAAE,SAAS,EACzD,KAAM1G,EAAU0G,CAAS,EAAE,SAAS,EACpC,KACGC,GAAkB,OAAOA,GAAkBA,EAAe,GAAG,GAC9D3G,EAAU0G,CAAS,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,EAAE,SAAS,EACtD,aAAc,OACd,GAAGC,CAAA,GAOM/G,GAA0B,CACrC,QAAS6G,EAAgB,UAAW,CAClC,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SAAA,CACN,EACD,UAAWA,EAAgB,UAAW,CACpC,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SAAA,CACN,EACD,SAAUA,EAAgB,UAAW,CACnC,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SAAA,CACN,EACD,KAAM,CACJ,IAAM,UACN,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACP,EACA,QAASA,EAAgB,UAAW,CAClC,IAAM,UACN,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SAAA,CACN,EACD,YAAaA,EAAgB,SAAS,EACtC,MAAO,CAAE,GAAGA,EAAgB,SAAS,EAAG,aAAc,SAAU,EAChE,QAAS,CAAE,KAAM,SAAU,EAC3B,KAAM,CAAE,KAAM,SAAU,EACxB,QAAS,CAAE,KAAM,SAAU,EAC3B,MAAO,CAAE,KAAM,SAAU,EACzB,KAAM,CACJ,QAAS,UACT,UAAW,SACb,EAIA,kBAAmB,GACrB,EAEaG,GAA6B,CACxC,GAAGhH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaI,GAAmC,CAC9C,GAAGjH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaK,GAA2C,CACtD,GAAGlH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaM,GAAkC,CAC7C,GAAGnH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaO,GAAkC,CAC7C,GAAGpH,GACH,QAAS,CAAE,GAAG6G,EAAgB,SAAS,EAAG,aAAc,MAAO,EAC/D,UAAW,CAAE,GAAGA,EAAgB,SAAS,EAAG,aAAc,MAAO,CACnE,EAEaQ,GAAoC,CAC/C,GAAGrH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaS,GAA2C,CACtD,GAAGtH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaU,GAAsC,CACjD,GAAGvH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaW,GAA6C,CACxD,GAAGxH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaY,GAA6C,CACxD,GAAGzH,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEaa,GAAgD,CAC3D,GAAG1H,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,EAEac,GAAyC,CACpD,GAAG3H,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,GAEsD,CACpD,GAAG7G,GACH,QAAS6G,EAAgB,SAAS,EAClC,UAAWA,EAAgB,SAAS,CACtC,GCpLA,MAAMe,GAA0C,CAC9C,aAAc,CACZ,UAAW,QACb,EACA,eAAgB,CACd,KAAM,CAAC,CAAE,MAAA7rC,MAAa,CACpB,WAAY,IACZ,cAAe,QACf,UAAW,CAET,MAAOA,EAAM,QAAQ,QAAQ,IAC/B,CAAA,GAEF,gBAAiB,CAAC,CAAE,MAAAA,MAAa,CAC/B,eAAgB,YAChB,oBAAqB,MACrB,wBAAyB,MACzB,oBAAqBA,EAAM,QAAQ,KAAK,GAAG,EAC3C,UAAW,CACT,oBAAqBA,EAAM,QAAQ,QAAQ,KAC3C,wBAAyB,KAC3B,CAAA,GAEF,eAAgB,CACd,UAAW,CACT,oBAAqB,MACrB,wBAAyB,KAC3B,CACF,CACF,CACF,EC9BA8rC,GAAeC,GAAc,CAAc7sC,EAAK,OAAQ,CACtD,EAAG,2FACH,QAAS,IACX,EAAG,GAAG,EAAgBA,EAAK,OAAQ,CACjC,EAAG,0KACL,EAAG,GAAG,CAAC,EAAG,cAAc,ECLxB8sC,GAAeD,GAAc,CAAc7sC,EAAK,OAAQ,CACtD,EAAG,0KACH,QAAS,IACX,EAAG,GAAG,EAAgBA,EAAK,OAAQ,CACjC,EAAG,mOACL,EAAG,GAAG,CAAC,EAAG,qBAAqB,ECL/B+sC,GAAeF,GAAc,CAAc7sC,EAAK,OAAQ,CACtD,EAAG,2FACH,QAAS,IACX,EAAG,GAAG,EAAgBA,EAAK,OAAQ,CACjC,EAAG,sJACL,EAAG,GAAG,CAAC,EAAG,aAAa,ECWjBgtC,GAAuB,MAEhBC,GAAuC,CAClD,WAAYnI,GACZ,QAAAC,GACA,WAAY,CACV,SAAU,CACR,aAAc,CACZ,OAAQ,GACR,YAAa,CACX,QAAQ+H,GAAoB,EAAA,EAC5B,OAAOC,GAAY,EAAA,EACnB,UAAUG,GAAmB,EAAA,EAC7B,UAAUN,GAAa,EAAA,CACzB,CACF,EACA,eAAgB,CACd,KAAM,CAAC,CAAE,WAAAjqC,EAAY,MAAA7B,MAAa,CAChC,WAAY,SACZ,SAAU,OACV,WAAY,cAEVA,EAAM,QAAQ6B,EAAW,UAAY,SAAS,EAAE,IAClD,GACA,MAAO7B,EAAM,QAAQ,KAAK,OAAA,GAE5B,KAAM,CAAC,CAAE,MAAAA,MAAa,CACpB,YAAaA,EAAM,QAAQ,CAAC,CAAA,GAE9B,OAAQ,CAAC,CAAE,WAAA6B,EAAY,MAAA7B,MAAa,CAClC,aAAcA,EAAM,QAAQ,CAAC,EAC7B,GAAI6B,EAAW,SACb,CAACA,EAAW,QAAU,CAAE,MAAO7B,EAAM,QAAQ,KAAK,GAAG,CAAE,CAAA,GAE3D,gBAAiB,CAAC,CAAE,MAAAA,MAAa,CAC/B,gBAAiBqsC,GAAQrsC,EAAM,QAAQ,QAAQ,MAAO,EAAG,CAAA,GAE3D,cAAe,CAAC,CAAE,MAAAA,MAAa,CAC7B,gBAAiBqsC,GAAQrsC,EAAM,QAAQ,MAAM,MAAO,EAAG,CAAA,GAEzD,gBAAiB,CAAC,CAAE,MAAAA,MAAa,CAC/B,gBAAiBqsC,GAAQrsC,EAAM,QAAQ,QAAQ,MAAO,EAAG,CAAA,GAE3D,aAAc,CAAC,CAAE,MAAAA,MAAa,CAC5B,gBAAiBqsC,GAAQrsC,EAAM,QAAQ,KAAK,MAAO,EAAG,CAAA,EAE1D,CACF,EACA,cAAe,CACb,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAA,MAAa,CACpB,MAAOA,EAAM,QAAQ,KAAK,QAC1B,SAAU,OACV,WAAY,GAAA,EAEhB,CACF,EACA,QAAS6rC,GACT,cAAe,CACb,aAAc,CACZ,cAAe,EACjB,CACF,EACA,UAAW,CACT,eAAgB,CACd,KAAM,CACJ,WAAY,IACZ,QAAS,WACT,aAAc,MACd,cAAe,aACf,UAAW,CACT,WAAY,MACd,CACF,EACA,UAAW,CAAC,CAAE,MAAA7rC,EAAO,WAAA6B,MAAkB,CACrC,qBAAsB,CAEpB,MACEA,EAAW,QAAU,UACjBA,EAAW,MACX7B,EAAM,QAAQ6B,EAAW,OAAS,SAAS,EAAE,YACrD,CAAA,GAEF,SAAU,CAAC,CAAE,MAAA7B,EAAO,WAAA6B,MAAkB,CACpC,qBAAsB,CAEpB,MACEA,EAAW,QAAU,UACjBA,EAAW,MACX7B,EAAM,QAAQ6B,EAAW,OAAS,SAAS,EAAE,IACrD,CAAA,GAEF,KAAM,CAAC,CAAE,MAAA7B,EAAO,WAAA6B,MAAkB,CAChC,UAAW,CACT,eAAgB,YAChB,oBAAqB,MACrB,oBACEA,EAAW,QAAU,UACjBA,EAAW,MACX7B,EAAM,QAAQ6B,EAAW,OAAS,SAAS,EAAE,KACnD,wBAAyB,KAC3B,EACA,qBAAsB,CAEpB,MACEA,EAAW,QAAU,UACjBA,EAAW,MACX7B,EAAM,QAAQ6B,EAAW,OAAS,SAAS,EAAE,IACrD,CAAA,EAEJ,CACF,EACA,YAAa,CACX,aAAc,CACZ,MAAO,WACT,CACF,EACA,UAAW,CACT,aAAc,CACZ,WAAY,CACV,GAAc7B,IAAA,CACZ,aAAc,MACd,QAASA,EAAM,QAAQ,GAAG,EAC1B,UAAW,YAAA,EAEf,CACF,CACF,EACA,eAAgB,CACd,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAA,MAAa,CACpB,SAAU,OACV,WAAY,IACZ,YAAa,MACb,aAAc,MACd,cAAeA,EAAM,QAAQ,CAAC,CAAA,EAElC,CACF,EACA,iBAAkB,CAChB,aAAc,CACZ,SAAU,EACZ,EACA,eAAgB,CACd,KAAM,CAAC,CAAE,WAAA6B,EAAY,MAAA7B,MAAa,CAChC,MAAOA,EAAM,QAAQ,KAAK,UAC1B,WAAY6B,EAAW,SAAW7B,EAAM,QAAQ,CAAC,EAAI,EACrD,cAAe6B,EAAW,SAAW7B,EAAM,QAAQ,CAAC,EAAI,EAExD,YAAaksC,GACb,aAAcA,GACd,WAAY,IAAIA,EAAoB,GACpC,YAAa,IAAIA,EAAoB,GAErC,YAAarqC,EAAW,SACpB,0DAA0DqqC,EAAoB,KAAKlsC,EAAM,QAAQ,KAAK,GAAG,CAAC,IAAIksC,EAAoB,KAAKlsC,EAAM,QAAQ,KAAK,GAAG,CAAC,gBAAgBksC,EAAoB,8BAA8BA,EAAoB,OACpP,MAAA,EAER,CACF,EACA,iBAAkB,CAChB,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAlsC,MAAa,CACpB,YAAa,MACb,aAAc,MACd,WAAYA,EAAM,QAAQ,CAAC,EAC3B,oBAAqB,CACnB,OAAQ,OACR,QAAS,UACX,CAAA,EAEJ,CACF,EACA,kBAAmB,CACjB,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAA,MAAa,CACpB,WAAY,IACZ,cAAe,CACb,MAAOA,EAAM,QAAQ,MAAM,IAC7B,CAAA,EAEJ,CACF,EACA,aAAc,CACZ,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAA,EAAO,WAAA6B,MAAkB,CAChC,aAAc,MACd,SAAU,OACV,SAAU,WACV,gBAAiB7B,EAAM,QAAQ,KAAK,GAAG,EACvC,QAAS6B,EAAW,MAChB,aAAa7B,EAAM,QAAQ,MAAM,IAAI,GACrC,OACJ,gBAAiB,CACf,UAAW,GAAGssC,GACZtsC,EAAM,QAAQ,QAAQ,KACtB,GACD,CAAA,eACH,EACA,aAAc,CACZ,OAAQ,MACV,CAAA,GAEF,MAAO,CAAC,CAAE,MAAAA,MAAa,CACrB,QAAS,WAAA,GAEX,UAAW,CACT,QAAS,KACX,CACF,CACF,EACA,cAAe,CACb,aAAc,CACZ,OAAQ,EACV,EACA,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAA,MAAa,CACpB,WAAY,IACZ,GAAI,MACJ,SAAU,OACV,UAAW,MAAA,EAEf,CACF,EACA,aAAc,CACZ,eAAgB,CACd,KAAM,CAAC,CAAE,MAAAA,EAAO,WAAA6B,MAAkB,CAChC,CAAC,MAAM0qC,GAAiB,IAAI,EAAE,EAAG,CAC/B,UAAW1qC,EAAW,OAAS7B,EAAM,QAAQ,CAAC,CAChD,CAAA,EAEJ,CACF,EACA,YAAa,CACX,eAAgB,CACd,KAAM,CACJ,OAAQ,OACR,YAAa,OACb,aAAc,MAChB,CACF,CACF,EACA,OAAQ,CACN,eAAgB,CACd,KAAM,CACJ,WAAY,IACZ,cAAe,YACjB,CACF,CACF,EACA,WAAY,CACV,aAAc,CACZ,MAAO,GACP,oBAAqBwsC,EACvB,EACA,eAAgB,CACd,MAAO,CAAC,CAAE,MAAAxsC,MAAa,CACrB,MAAOA,EAAM,QAAQ,OAAO,KAAA,GAE9B,QAAS,CAAC,CAAE,MAAAA,MAAa,CACvB,SAAU,OACV,aAAc,MACd,gBAAiBA,EAAM,QAAQ,OAAO,KAAA,EAE1C,CACF,EACA,cAAe,CACb,aAAc,CACZ,eAAgB,CAEd,UAAW,IACX,UAAW,IACX,UAAW,IACX,MAAO,IACP,YAAa,IACb,MAAO,IACP,YAAa,OACb,YAAa,OACb,WAAY,IACZ,WAAY,IACZ,UAAW,OACX,MAAO,OACP,WAAY,OACZ,SAAU,IACV,aAAc,IACd,iBAAkB,IAClB,aAAc,GAChB,CACF,CACF,CACF,EACA,iBACE,0FACJ,EChTO,SAAAysC,GAAAC,EAAA,CAIL,OAAAC,GAAAR,GAAAO,CAAA,CACF,CAMO,MAAA3sC,GAAA,CAAA,CAAuB,MAAAC,EAAAmsC,GACpB,SAAAltC,CAEV,IAAA,CACE,MAAAwB,EAAAgqB,EAAAA,QAAA,IAAAgiB,GAAAzsC,CAAA,EAAA,CAAAA,CAAA,CAAA,EACA4sC,EAAAC,GAAApsC,CAAA,EACA,OAAAslB,EAAAjnB,GAAA,CAAA,YAAA,GAAA,SAAAinB,EAAAhlB,GAAA,CAAA,MAAA6rC,EAAA,SAAA3tC,CAAA,CAAA,CAAA,CAAA,CAKF,wTCnBO,MAAA6tC,GAAA,CAAoD,eAAA,CACzC,QAAA,CACL,UAAA,IAAA,GAAA,EACgB,UAAA,IAAA,GAAA,GACA,MAAA,GAChB,qBAAA,EACe,CACxB,CAEJ,EAEAC,GAAA,IAAAzvB,GAAAwvB,EAAA,EAeO,SAAAE,GAAAjuC,EAAA,CACL,KAAA,CAAA,SAAAE,EAAA,eAAAyrB,EAAA,YAAA1I,EAAA,MAAAhiB,CAAA,EAAAjB,EAEA,OAAAgnB,EAAA9D,GAAA,CAAA,OAAAD,GAAA+qB,GAAA,SAAAhnB,EAAAhmB,GAAA,CAAA,MAAAC,EAAA,SAAA+lB,EAAAuE,GAAA,CAAA,eAAAI,EAAA,SAAAzrB,CAAA,CAAA,EAAA,CAAA,CAAA,CASF;;;;4YC1CmC,GAAAguC,GACjC3lC,EAAuB,aACzB,IAEO,MAAM4lC,EAAO,WACPC,GAAO,WACPC,GAAO,WAEdC,GAAc,eACdC,GAAY,aAELC,GAAS,GAAGL,CAAI,UAChBM,GAAgB1kB,GAAkB,GAAGokB,CAAI,iBAAiBpkB,CAAK,GAC/D2kB,GAAa1lB,GAAwB,GAAGmlB,CAAI,WAAWnlB,CAAE,GAIzD2lB,GAAoB,CAC/B3lB,EACAa,IACG,GAAGskB,CAAI,WAAWnlB,CAAE,GAAGa,EAAU,YAAYA,CAAO,GAAK,EAAE,GACnD+kB,GAAsB5lB,GACjC,GAAGmlB,CAAI,WAAWnlB,CAAE,WACT6lB,GAAmB,CAC9B7lB,EACAa,IACG,GAAG8kB,GAAkB3lB,EAAIa,CAAO,CAAC,WACzBilB,GAAiB9lB,GAC5B,GAAGmlB,CAAI,WAAWnlB,CAAE,UACT+lB,GAAc/lB,GAAwB,GAAG0lB,GAAU1lB,CAAE,CAAC,OACtDgmB,GAAqBhmB,GAChC,GAAG0lB,GAAU1lB,CAAE,CAAC,cACLimB,GAAejmB,GAAwB,GAAG0lB,GAAU1lB,CAAE,CAAC,QACvDkmB,GAAsBlmB,GACjC,GAAG0lB,GAAU1lB,CAAE,CAAC,eACLmmB,GAAuBnmB,GAClC,GAAG0lB,GAAU1lB,CAAE,CAAC,QACLomB,GAAiB,GAAGjB,CAAI,iBAExBkB,GAAermB,GAAwB,GAAGmlB,CAAI,WAAWnlB,CAAE,QAE3DsmB,GAAiBtmB,GAC5B,GAAGmlB,CAAI,WAAWnlB,CAAE,UACTumB,GAAyBvmB,GACpC,GAAGsmB,GAActmB,CAAE,CAAC,WACTwmB,GAA4BxmB,GACvC,GAAGsmB,GAActmB,CAAE,CAAC,cAETymB,GAA8B3lB,GACzC,GAAG4kB,GAAU5kB,CAAQ,CAAC,qBAEX4lB,GAA2B1mB,GACtC,GAAG0lB,GAAU1lB,CAAE,CAAC,2BAEL2mB,GAAwB,CACnC7lB,EACA8lB,IACG,GAAGlB,GAAU5kB,CAAQ,CAAC,0BAA0B8lB,CAAa,GAErDC,GAA0BD,GACrC,GAAGzB,CAAI,qBAAqByB,CAAa,GAI9BE,GAAS,GAAG3B,CAAI,UAEhB4B,GAAwB9lB,GACnC,GAAGkkB,CAAI,2BAA2BlkB,CAAS,GAChC+lB,GAA0B,GAAGF,EAAM,mBAAmBxB,EAAW,GACjE2B,GAAyBC,GACpC,GAAGJ,EAAM,mBAAmBvB,EAAS,IAAI2B,CAAU,GAExCC,GAAO,GAAGhC,CAAI,QACdiC,GAAc,GAAGD,EAAI,UACrBE,GAAWrnB,GAAwB,GAAGmnB,EAAI,IAAInnB,CAAE,GAChDsnB,GAAkBtnB,GAAwB,GAAGqnB,GAAQrnB,CAAE,CAAC,UAExDunB,GAAe,GAAGpC,CAAI,eACtBqC,GAAmBxnB,GAAwB,GAAGunB,EAAY,IAAIvnB,CAAE,GAEhEynB,GAAqB,GAAGtC,CAAI,qBAC5BuC,GAAkB,GAAGvC,CAAI,uBACzBwC,GAA2BC,GACtC,GAAGzC,CAAI,2CAA2CyC,CAAc,GACrDC,GAA0B,GAAG1C,CAAI,YACjC2C,GAAoB,GAAG1C,EAAI,eAC3B2C,GAA0B,GAAG5C,CAAI,0BAEjC6C,GAA4B,GAAG7C,CAAI,4BACnC8C,GAAmC,GAAG9C,CAAI,+BAE1C+C,GAA4BloB,GACvC,GAAGmlB,CAAI,sBAAsBnlB,CAAE,GAEpBmoB,GAA0BnoB,GACrCkoB,GAAyBloB,CAAE,EAAI,OAEpBooB,GAA6BpoB,GACxCkoB,GAAyBloB,CAAE,EAAI,UAEpBqoB,GAAoCroB,GAE/C,GAAGmlB,CAAI,uBAAuBnlB,CAAE,WAErBsoB,GAA+B,CAC1ChrB,EACAirB,IAGA,GAAGpD,CAAI,uBAAuB7nB,CAAmB,SAASirB,CAAM,GAErDC,GAAY,GAAGrD,CAAI,YAEnBsD,GAAqB,GAAGtD,CAAI,oBAC5BuD,GAA2B,GAAGvD,CAAI,0BAElCwD,GAAgC3oB,GAC3C,GAAGmlB,CAAI,yBAAyBnlB,CAAE,GAEvB4oB,GAAyB1sB,GACpC,GAAGipB,CAAI,gBAAgBjpB,CAAM,iBAElB2sB,GACXvrB,GACG4qB,GAAyB5qB,CAAmB,EAAI,0BAExCwrB,GAAa,GAAG3D,CAAI,cACpB4D,GAAoB/oB,GAAwB8oB,GAAa,IAAI9oB,CAAE,GAC/DgpB,GAAqBC,GAChCH,GAAa,mBAAmBG,EAAI,KAAK,GAAG,CAAC,UAAUA,EAAI,MAAM,GAEtDC,GAAsB,CAACpoB,EAAkBb,IACpDA,EACI,GAAGklB,CAAI,WAAWrkB,CAAQ,YAAYb,CAAa,eACnD,GAAGklB,CAAI,WAAWrkB,CAAQ,eACnBqoB,GAAW,GAAGhE,CAAI,YAClBiE,GAAgB,GAAGD,EAAQ,QAC3BE,GAAoBrpB,GAAe,GAAGmpB,EAAQ,YAAYnpB,CAAE,GAC5DspB,GAAkBtpB,GAAe,GAAGmpB,EAAQ,UAAUnpB,CAAE,GAExDupB,GAAQxnB,GAA4B,GAAGojB,CAAI,SAASpjB,CAAM,GAC1DynB,GAAoB,CAC/BznB,EACA0nB,IACGF,GAAKxnB,CAAM,EAAI,WAAW0nB,CAAQ,GAC1BC,GAAgB3nB,GAC3B,GAAGojB,CAAI,gBAAgBpjB,CAAM,GAEzB4nB,GAAkC,yCAClCC,GAAe,kCAERC,GAAc,GAAG1E,CAAI,6BAA6ByE,EAAY,oCAAoCD,EAA+B,GACjIG,GAAsC,CACjD/nB,EACA0nB,IAEAD,GAAkBznB,EAAQ0nB,CAAQ,EAClC,iBAAiBG,EAAY,oCAAoCD,EAA+B,GACrFI,GAAyB/pB,GACpC,GAAGmlB,CAAI,yBAAyBnlB,CAAE,GACvBgqB,GAAqChqB,GAChD,GAAGmlB,CAAI,yBAAyBnlB,CAAE,kCACvBiqB,GAAyCjqB,GACpD,GAAGmlB,CAAI,yBAAyBnlB,CAAE,aAEvBkqB,GAAQ,GAAG/E,CAAI,SACfgF,GAAgBnqB,GAAe,GAAGkqB,EAAK,IAAIlqB,CAAE,WAE7CoqB,GAAS,GAAGjF,CAAI,UAChBkF,GAAarqB,GAAe,GAAGoqB,EAAM,IAAIpqB,CAAE,GAG3CsqB,GAAM,GAAGnF,CAAI,OACboF,GAAkB,GAAGD,EAAG,eAExBE,GAAkB,GAAGrF,CAAI,kBACzBsF,GAAyBzqB,GACpC,GAAGwqB,EAAe,IAAIxqB,CAAE,GAEb0qB,GAAsB,GAAGvF,CAAI,qBAC7BwF,GAAkC3qB,GAC7C,GAAG0qB,EAAmB,IAAI1qB,CAAE,cACjB4qB,GACXttB,GAEA,GAAG4qB,GAAyB5qB,CAAmB,CAAC,8BAErCutB,GAAmB,GAAG1F,CAAI,mBAC1B2F,GACXxtB,GACG,GAAG4qB,GAAyB5qB,CAAmB,CAAC,4BAExCytB,GAAc,GAAG1F,EAAI,cACrB2F,GAAoB,GAAGD,EAAW,SAElCE,GAAW,GAAG9F,CAAI,YAClB+F,GAA2BpqB,GACtC,GAAGqkB,CAAI,WAAWrkB,CAAQ,oBCzMfqqB,GAA6B,8BAE7BC,GACXC,GACG,CACG,MAAAC,EAAgB,IAAI,YAAYH,GAA4B,CAChE,OAAQE,CAAA,CACT,EACD,SAAS,cAAcC,CAAa,CACtC,ECXMC,GAAoB,CACxB,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACF,EAEO,SAASC,GAA0B93C,EAAe,CACvD,GAAI,CAACA,EACI,MAAA,GAGH,MAAApC,EAAI,KAAK,MAAM,KAAK,IAAIoC,CAAK,EAAI,KAAK,IAAI,IAAI,CAAC,EAErD,MACG,CAACA,GAAS,YACVA,EAAQ,KAAK,IAAI,KAAMpC,CAAC,GAAG,QAAQ,CAAC,EAAI,IAAMi6C,GAAQj6C,CAAC,CAE5D,CCjBO,SAASm6C,IAAsB,CACpC,MAAO,CAAC,OAAO,SAAS,SAAS,cAAc,SAAS,cAAc,CACxE,CAOA,eAAsBC,GACpB97B,EACmB,CACnB,IAAI1Q,EAAW,KACX,GAAA,CACFA,EAAW,MAAM0Q,UACV0d,EAAG,CACV,GAAI,EAAAA,aAAa3kB,IAAsB2kB,EAAE,SAAW,KAG5C,MAAAA,CAEV,CACO,OAAApuB,CACT,CAOA,eAAsBysC,GACpB/7B,EACyC,CACzC,IAAI1Q,EAAW,KACX,GAAA,CACFA,EAAW,MAAM0Q,UACV0d,EAAG,CACV,GACEA,aAAa3kB,IACb2kB,EAAE,SAAW,KACbA,EAAE,eACF,cAAeA,EAAE,eACjBA,EAAE,cAAc,YAAc3H,GAAkB,iBAChD2H,EAAE,cAAc,eACd,iEAEF,OAAOA,EAAE,cAEH,MAAAA,CAEV,CACO,OAAApuB,CACT,CC3CO,SAASqQ,GAAMvZ,EAAW,CACxB,OAAA,IAAI,QAAmB8W,GAAA,CAC5B,WAAWA,EAAQ,KAAK,KAAM,CAAE,CAAA,EAAG9W,CAAC,CAAA,CACrC,CACH,CASA,MAAM41C,GAAqB,CAAC,EAAG,IAAK,IAAK,IAAK,GAAG,EAC3CC,GAAyB,CAAC,IAAK,GAAG,EAClCC,GAAY,EAMZC,GAA8B,MAClCjjC,EACAvU,EACAy3C,EAAU,MACa,CACnB,IAAA9sC,EACA,GAAA,CACSA,EAAA,MAAM,MAAM4J,EAAKvU,CAAO,QAC5B8K,EAAK,CACZ,cAAQ,MAAMA,CAAG,EACX,IAAIsJ,GAAmB,EAAGsjC,GAA6BnjC,EAAI,UAAU,CAC7E,CAEA,IAAIojC,EAAW,EACf,KAAOhtC,EAAS,QAAU0sC,GAAmB,SAAS1sC,EAAS,MAAM,IACnE,MAAMqQ,GAAMy8B,CAAO,EAEnBA,EAAUA,EAAU,EACT9sC,EAAA,MAAM,MAAM4J,EAAKvU,CAAO,EAC/B,EAAAs3C,GAAuB,SAAS3sC,EAAS,MAAM,IACjDgtC,IACIA,GAAYJ,OAFlB,CAQF,MAAMK,EAAcjtC,EAAS,QAAQ,IAAI,cAAc,EACjDktC,EAAe,MAAMltC,EAAS,OACpC,IAAImtC,EAAoDD,EACpD,GAAA,CAEED,GAAeA,EAAY,SAAS,kBAAkB,IACvCE,EAAA,KAAK,MAAMD,CAAY,QAE5B,CACN,QAAA,KAAK,mCAAoCA,CAAY,CAC/D,CAEA,GAAIltC,EAAS,GACJ,OAAAmtC,QAEPA,IAAmB,MACnB,OAAOA,GAAmB,UAC1B,WAAYA,EAEN,IAAI1jC,GACRzJ,EAAS,OACTmtC,EAAe,OACfvjC,EAAI,SAAS,EACbujC,CAAA,EAGI,IAAI1jC,GACRzJ,EAAS,OACT,KAAK,UAAUmtC,CAAc,EAC7BvjC,EAAI,SAAS,CAAA,CAGnB,EACawjC,EAAS,CACpBxjC,EACAyjC,EACAnxB,EACAoxB,EACAC,EAAiC,KAClB,CACf,MAAMl4C,EAAuB,CAC3B,KAAM,KAAK,UAAUg4C,CAAiB,EACtC,QAAS,CACP,OAAQ,MACR,iCAAkC,gBAClC,eAAgB,mBAChB,GAAInxB,EAAc,CAAE,cAAe,UAAUA,CAAW,EAAA,EAAO,CAAC,CAClE,EACA,OAAQ,OACR,KAAM,OACN,GAAGqxB,CAAA,EAECC,EAAexH,GAAYsH,CAAQ,EAClC,OAAAT,GAA+BW,EAAe5jC,EAAKvU,CAAO,CACnE,EACao4C,EAAQ,CACnB7jC,EACAsS,EACAoxB,EACAC,EAAiC,CAAA,IAC9B,CACH,MAAMl4C,EAAuB,CAC3B,QAAS,CACP,OAAQ,MACR,iCAAkC,gBAClC,GAAI6mB,EAAc,CAAE,cAAe,UAAUA,CAAW,EAAA,EAAO,CAAC,CAClE,EACA,OAAQ,MACR,KAAM,OACN,GAAGqxB,CAAA,EAECC,EAAexH,GAAYsH,CAAQ,EAClC,OAAAT,GAA+BW,EAAe5jC,EAAKvU,CAAO,CACnE,EACaq4C,GAAW,CACtB9jC,EACAsS,EACAoxB,EACAC,EAAiC,CAAA,IAC9B,CACH,MAAMl4C,EAAuB,CAC3B,QAAS,CACP,OAAQ,MACR,iCAAkC,gBAClC,GAAI6mB,EAAc,CAAE,cAAe,UAAUA,CAAW,EAAA,EAAO,CAAC,CAClE,EACA,OAAQ,SACR,KAAM,OACN,GAAGqxB,CAAA,EAECC,EAAexH,GAAYsH,CAAQ,EAClC,OAAAT,GAAkCW,EAAe5jC,EAAKvU,CAAO,CACtE,EACas4C,EAAQ,CACnB/jC,EACAyjC,EACAnxB,EACAoxB,EACAC,EAAiC,KAClB,CACf,MAAMl4C,EAAuB,CAC3B,KAAM,KAAK,UAAUg4C,CAAiB,EACtC,QAAS,CACP,OAAQ,MACR,iCAAkC,gBAClC,eAAgB,mBAChB,GAAInxB,EAAc,CAAE,cAAe,UAAUA,CAAW,EAAA,EAAO,CAAC,CAClE,EACA,OAAQ,MACR,KAAM,OACN,GAAGqxB,CAAA,EAECC,EAAexH,GAAYsH,CAAQ,EAClC,OAAAT,GAA+BW,EAAe5jC,EAAKvU,CAAO,CACnE,ECqHMgB,GAAU,IAAIu3C,GAGdC,GAA4B,QAErBC,GAA8B,EACpC,SAAS1uC,IAAqB,CAC7B,MAAA2uC,EAAa,OAAO,SAAS,KAAO,IAAI,OAAO,SAAS,IAAI,GAAK,GAChE,MAAA,GAAG,OAAO,SAAS,QAAQ,KAAK,OAAO,SAAS,QAAQ,GAAGA,CAAU,GAC9E,CAEO,MAAMC,GAAa,IACjBP,EACL,mBACA,OACAptC,EAAuB,aAAA,EAOd4tC,GAA8B,MACzCxwB,EACAvB,EAAkC,SACG,CACrC,MAAM8rB,EAAa,MAAMoF,EACvB,mBAAmB3vB,EAAQ,QAAQ,kCACnCA,EACAvB,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACX,mBAAmBvqB,EAAQ,QAAQ,iCAAiCuqB,EAAW,KAAK,GACpF9rB,CAAA,CAEJ,EAQaiyB,GAAoB,CAC/BC,EACAlyB,EAAkC,SAE3BuxB,EACL,uBAAuBW,CAAQ,GAC/BlyB,EACA7b,EAAuB,aAAA,EASdguC,GAA6B,CACxCD,EACAlyB,EAAkC,OAClCoyB,EACAC,EACAC,EAAoB,KAGbf,EACL,iBAAiBW,CAAQ,sBAAsBE,CAAiB,oBAAoBC,CAAe,aAAaC,CAAQ,GACxHtyB,EACA7b,EAAuB,aAAA,EASdouC,GAAuB,CAClCL,EACAlyB,EAAkC,SAG3BuxB,EACL,uBAAuBW,CAAQ,sBAC/BlyB,EACA7b,EAAuB,aAAA,EAadquC,GAA0B,MACrC1G,EACA2G,EACAzyB,EACA0yB,IAGwD,CACxD,IAAI5uC,EAAW,MAAMytC,EACnB9F,GAAuBK,CAAU,EACjC9rB,EACA7b,EAAuB,aAAA,EAGzB,IADAuuC,GAAA,MAAAA,EAAwB5uC,GACjBA,EAAS,UAAYA,EAAS,WAAa,cAChD,MAAMqQ,GAAM,GAAG,EACfrQ,EAAW,MAAMytC,EACf9F,GAAuBK,CAAU,EACjC9rB,EACA7b,EAAuB,aAAA,EAEzBuuC,GAAA,MAAAA,EAAwB5uC,GAGtB,GAAAA,EAAS,WAAa,SAAU,CAKlC,MAAM6uC,EAAkB,MAAMpB,EAC5BkB,EACAzyB,EACA7b,EAAuB,aAAA,EAEjB,QAAA,KACN,mHACAwuC,CAAA,CAEJ,CACO,OAAA7uC,CACT,EASakuC,GAA8B,MACzClG,EACA2G,EACAzyB,KAEiB,MAAMwyB,GACrB1G,EACA2G,EACAzyB,CAAA,GAGc,aAQL4yB,GAA+B,MAC1C1tB,EACAlF,EACA0yB,IAG0E,CAC1E,MAAM5G,EAAa,MAAMoF,EACvB5F,GAAwBpmB,EAAmB,QAAQ,EACnDA,EACAlF,EACA7b,EAAuB,aAAA,EAElB,OAAAquC,GACL1G,EAAW,MACXP,GAAsBrmB,EAAmB,SAAU4mB,EAAW,KAAK,EACnE9rB,EACA0yB,CAAA,CAEJ,EAQaG,GAAuB,MAClC3tB,EACAlF,EACA8yB,IAC+B,CAC/B,MAAMhH,EAAa,MAAMoF,EACvB,mBAAmBhsB,EAAmB,QAAQ,2BAC9CA,EACAlF,EACA7b,EAAuB,cACvB,CAAE,OAAA2uC,CAAO,CAAA,EAEJ,OAAAd,GACLlG,EAAW,MACX,mBAAmB5mB,EAAmB,QAAQ,0BAA0B4mB,EAAW,KAAK,GACxF9rB,CAAA,CAEJ,EAgBa+yB,GAA2B,MACtC7tB,EACAlF,EAAkC,OAClC8yB,IAC+B,CAE/B,IAAI/tB,EAAS,EACb,KAAM,CAAE,MAAAnV,EAAO,GAAGojC,CAAA,EAAS9tB,EACrB+tB,EAAmC,CACvC,GAAGD,EACH,MAAO,CAAE,GAAGpjC,EAAO,OAAAmV,CAAe,EAClC,SACEG,EAAmB,SACnBguB,EAAiB,EAEf/9B,EAAO,MAAM09B,GAAqBI,EAAcjzB,EAAa8yB,CAAM,EAEzE,IAAIK,EAASh+B,EAAK,YAAa,aAAa,KAAK,OAASA,EAAK,eAI/D,IAHU4P,GAAA5P,EAAK,YAAa,aAAa,KAAK,OACjC89B,EAAA,MAAM,MAAQ99B,EAAK,eAEzB,CAACg+B,GAAQ,CACdF,EAAa,MAAM,OAASluB,EAG5B,MAAMjhB,EAAW,MAAM+uC,GACrBI,EACAjzB,EACA8yB,CAAA,EAEG39B,EAAA,YAAa,aAAa,KAAK,KAClC,GAAGrR,EAAS,YAAa,aAAa,IAAA,EAExCqvC,EACErvC,EAAS,YAAa,aAAa,KAAK,OAASmvC,EAAa,MAAM,MAC5DluB,GAAAjhB,EAAS,YAAa,aAAa,KAAK,MACpD,CACO,OAAAqR,CACT,EAOA,eAAsBi+B,GACpBC,EACAC,EACAC,EACAnC,EAAWjtC,EAAuB,cACmB,CAC9C,OAAAosC,GAA2B,IAChCW,EACE,kBACA,CAAE,SAAAmC,EAAU,SAAAC,EAAU,sBAAAC,CAAsB,EAC5C,OACAnC,CACF,CAAA,CAEJ,CAQO,SAASoC,GACdjyB,EACA6vB,EAAmCjtC,EAAuB,cAClC,CACxB,OAAO+sC,EAAO,qBAAsB3vB,EAAS,OAAW6vB,CAAQ,CAClE,CASO,MAAMqC,GAAkB,CAC7BnwC,EACAK,EACArN,EACA86C,EAAWjtC,EAAuB,gBAE3B+sC,EACL,0BACA,CAAE,SAAA5tC,EAAU,YAAAK,EAAa,MAAArN,CAAM,EAC/B,OACA86C,CAAA,EAWShtC,GAAsB,CACjCd,EACAowC,EACA/vC,EACAytC,EAAmCjtC,EAAuB,gBAEnDosC,GAA2B,IAChCW,EACE,2BACA,CAAE,SAAA5tC,EAAU,mBAAAowC,EAAoB,YAAA/vC,CAAY,EAC5C,OACAytC,CACF,CAAA,EAQG,SAASuC,GAAwC3zB,EAAsB,CACrE,OAAAuxB,EACL,eACAvxB,EACA7b,EAAuB,aAAA,CAE3B,CAMO,SAASyvC,GAAmC5zB,EAAsB,CAChE,OAAAwxB,GACL,eACAxxB,EACA7b,EAAuB,aAAA,CAE3B,CAKO,SAAS0vC,GAAmB7zB,EAAsB,CAChD,OAAAkxB,EACL,sBACA,KACAlxB,EACA7b,EAAuB,aAAA,CAE3B,CAKgB,SAAA2vC,GACdvyB,EACAvB,EACA,CACO,OAAAkxB,EACL,eACA3vB,EACAvB,EACA7b,EAAuB,aAAA,CAE3B,CAYO,SAAS4vC,GAAoB/zB,EAAsB,CACjD,OAAAkxB,EACL,6BACA,KACAlxB,EACA7b,EAAuB,aAAA,CAE3B,CAMa,MAAA6vC,GAAe,CAC1B/kB,EACAjP,IAEOkxB,EACL9G,GACAnb,EACAjP,EACA7b,EAAuB,aAAA,EAOd8vC,GAAgB,CAC3Br6C,EACAomB,IAEOg0B,GACL,CACE,KAAAp6C,EACA,aAAc,wCAChB,EACAomB,CAAA,EAQSk0B,GAAkBl0B,GACtBuxB,EACLpF,GACAnsB,EACA7b,EAAuB,aAAA,EAQdgwC,GAAqB,CAChCn0B,EACAo0B,IAEO7C,EACLnF,GAAgBgI,CAAO,EACvBp0B,EACA7b,EAAuB,aAAA,EAQdkwC,GAAgB,CAC3BzvB,EACA7D,EACAf,IAEOuxB,EACL,GAAGrF,GAAetnB,CAAE,CAAC,SAAS7D,CAAI,GAClCf,EACA7b,EAAuB,aAAA,EAQdmwC,GAAkB,CAC7BvzB,EACAf,IAEOuxB,EACL,GAAGvF,EAAW,SAASjrB,CAAI,GAC3Bf,EACA7b,EAAuB,aAAA,EAUdowC,GAAsB,CACjClzB,EACArB,EAAkC,SAG3ByxB,EADK,uBAGVpwB,EACArB,EACA7b,EAAuB,aAAA,EAQdqwC,GAAsB,CACjCvtB,EAAiB,GACjBwtB,EAA0BvnB,GAAY,IACtCnI,EAAiB,EACjBD,EAAgB,KAETysB,EACLlE,GACE,WAAWpmB,CAAM,eAAewtB,CAAU,WAAW1vB,CAAM,UAAUD,CAAK,GAC5E,OACA3gB,EAAuB,aAAA,EAQduwC,GAAiC1tB,GACrCkqB,EACL,GAAG7D,EAAkB,WACrB,CAAE,KAAMrmB,CAAQ,EAChB,OACA7iB,EAAuB,aAAA,EAQdwwC,GAAuB,CAClC9G,EACA7tB,IAEOuxB,EACLjE,GAA2B,QAAQO,EAAI,KAAK,GAAG,CAAC,GAChD7tB,EACA7b,EAAuB,aAAA,EAQdywC,GAAiB,CAC5BC,EACA70B,IAEOuxB,EACL3D,GAAkBiH,CAAO,EACzB70B,EACA7b,EAAuB,aAAA,EASd2wC,GAAkB,CAC7BrkB,EACAzQ,EAAkC,SAE3BkxB,EACL/E,GACA,CAAE,KAAA1b,CAAK,EACPzQ,EACA7b,EAAuB,aAAA,EAQd4wC,GAAoB,CAC/BxzB,EACAvB,EAAkC,OAClC8yB,IAEO5B,EACL,2BACA3vB,EACAvB,EACA7b,EAAuB,cACvB,CAAE,OAAA2uC,CAAO,CAAA,EAOAkC,GAAoB,CAC/BzzB,EACAvB,EAAkC,SAE3BkxB,EACL,wBACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EAQd8wC,GAAW,CACtB1zB,EACAvB,EAAkC,SAE3BkxB,EACLtB,GACAruB,EACAvB,EACA7b,EAAuB,aAAA,EAQd+wC,GAAe,MAC1BC,EACAn1B,EAAkC,SACI,CACtC,MAAM8rB,EAAa,MAAMoF,EACvB,iCACAiE,EACAn1B,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACX,gCAAgCA,EAAW,KAAK,GAChD9rB,CAAA,CAEJ,EASao1B,GAAY,CACvBp1B,EAAkC,OAClC0F,EACAb,IACG,CACH,GAAIa,EAAS,QAAQ,GAAG,EAAI,GAAI,CAExB,MAAA2vB,EAAe3vB,EAAS,MAAM,GAAG,EACvCA,EAAW2vB,EAAa,CAAC,EACzBxwB,EAAgBwwB,EAAa,CAAC,CAChC,CACM,MAAA3nC,EAAMmX,EACR,mBAAmBa,CAAQ,YAAYb,CAAa,GACpD,mBAAmBa,CAAQ,GAC/B,OAAO6rB,EAAS7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACxE,EAEamxC,GAAwB,CACnCC,EACAv1B,IAEOw1B,GACLD,EAAU,IAAI3wB,IAAO,CAAE,SAAUA,GAAK,EACtC5E,CAAA,EASSw1B,GAAmB,CAC9BpwB,EACApF,IACG,CAEG,MAAAy1B,EAAkBrwB,EAAW,IAAiBswB,GAAA,CAClD,GAAIA,EAAU,SAAS,QAAQ,GAAG,EAAI,GAAI,CACxC,MAAML,EAAeK,EAAU,SAAS,MAAM,GAAG,EAC1C,MAAA,CACL,SAAUL,EAAa,CAAC,EACxB,QAASA,EAAa,CAAC,CAAA,CAE3B,KAAc,QAAAK,CAAA,CACf,EAEM,OAAAxE,EACLlG,GACA,CAAE,WAAYyK,CAAgB,EAC9Bz1B,EACA7b,EAAuB,aAAA,CAE3B,EAMawxC,GAAiB,CAAChwB,EAAe3F,IACrCuxB,EACLlH,GAAa1kB,CAAK,EAClB3F,EACA7b,EAAuB,aAAA,EAQdyxC,GAAkB,CAAClwB,EAAkB1F,IACzCuxB,EACLxG,GAAoBrlB,CAAQ,EAC5B1F,EACA7b,EAAuB,aAAA,EASd0xC,GAAkB,CAC7BC,EACA91B,EAAkC,SAE3ByxB,EACL9G,GAAWmL,EAAI,EAAE,EACjBA,EACA91B,EACA7b,EAAuB,aAAA,EAId4xC,GAAe,CAC1B9mB,EACAjP,EAAkC,OAClCg2B,IACe,CACX,IAAAtoC,EAAM,mBAAmBuhB,EAAO,EAAE,GAClC,OAAA+mB,IAAmBtoC,GAAA,oBAChB+jC,EACL/jC,EACAuhB,EACAjP,EACA7b,EAAuB,aAAA,CAE3B,EAEa8xC,GAAe,CAC1Bj2B,EAAkC,OAClC0F,IAEO8rB,GACLlH,GAAU5kB,CAAQ,EAClB1F,EACA7b,EAAuB,aAAA,EAId+xC,GAAoB,CAC/BxwB,EACAywB,EACA1wB,EACAzF,IAEOkxB,EACLzG,GAAiB/kB,EAAUD,CAAO,EAClC0wB,EACAn2B,EACA7b,EAAuB,aAAA,EAO3B,SAASiyC,GAAsB18C,EAAiB,CAC9C,OAAO4xB,GAAW5xB,CAAG,CACvB,CAMa,MAAA28C,GAAgB,CAC3Br2B,EACAo0B,EACAjH,EAA6B,GAC7B1mB,EAAyB6E,GAAW,SACjC,CACG,MAAAgrB,EAAmBF,GAAsB3vB,CAAU,EAEnD/Y,EAAM,YAAY4oC,GAAA,YAAAA,EAAkB,mBAAmB,IAAIlC,CAAO,SAASjH,CAAM,GACvF,OAAOoE,EAAgB7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CAC/E,EAMgB,SAAAoyC,GACdv2B,EACA+E,EAAiB,EACjBD,EAAgB,IAChBqB,EAAuB,OACvBW,EAAuC,MACvC,CACM,MAAA7rB,EAAS,IAAI,gBACnBA,EAAO,IAAI,SAAU8pB,EAAO,SAAU,CAAA,EACtC9pB,EAAO,IAAI,QAAS6pB,EAAM,SAAU,CAAA,EAC7B7pB,EAAA,IAAI,OAAQkrB,CAAI,EAChBlrB,EAAA,IAAI,gBAAiB6rB,CAAa,EAEzC,MAAMpZ,EAAM,GAAG0/B,EAAS,IAAInyC,EAAO,SAAU,CAAA,GACtC,OAAAs2C,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,CAMgB,SAAAqyC,GACd9wB,EACA1F,EACuB,CAChB,OAAAkxB,EACL,GAAG9D,EAAS,IAAI1nB,CAAQ,GACxB,KACA1F,EACA7b,EAAuB,aAAA,CAE3B,CAMa,MAAAsyC,GAAqB,CAChC/wB,EACA1F,IAEOwxB,GACL,GAAGpE,EAAS,IAAI1nB,CAAQ,GACxB1F,EACA7b,EAAuB,aAAA,EAQduyC,GAAoB,CAC/B12B,EACAc,EACAiE,EAA0B,EAC1BD,EAAyB,MACU,CACnC,MAAMpX,EAAM,oCAAoCoT,CAAM,WAAWiE,CAAM,UAAUD,CAAK,GACtF,OAAOysB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAMawyC,GAAoB,CAC/B32B,EACA6G,EACA9B,EAA0B,EAC1BD,EAAyB,MACc,CACvC,MAAMpX,EAAM,sBAAsBmZ,CAAW,0BAA0B9B,CAAM,UAAUD,CAAK,GAC5F,OAAOysB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAMayyC,GAAuB,CAClC52B,EACA6G,IAWOgwB,GARI,CAAC/xB,EAAeC,IAAmB,CAC5C,MAAMrX,EAAM,sBAAsBmZ,CAAW,0BAA0B9B,CAAM,UAAUD,CAAK,GACrF,OAAAysB,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CACzB,CAEgC,EAQvB2yC,GAAqB,CAChC92B,EACA6G,EACA9B,EAA0B,EAC1BD,EAAyB,KACC,CAC1B,MAAMpX,EAAM,sBAAsBmZ,CAAW,4BAA4B9B,CAAM,UAAUD,CAAK,GAC9F,OAAOysB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAMa4yC,GAA2B,CACtCC,EACArwB,EACA3G,IACuC,CACvC,MAAMtS,EAAM,uBAAuBspC,CAAY,SAASrwB,CAAM,yBAC9D,OAAO4qB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAMa8yC,GAAwB,CACnCj3B,EACA6G,EACAF,EACAmM,IAC2B,CACrB,MAAAplB,EAAM,sBAAsBmZ,CAAW,iBACtC,OAAAqqB,EACLxjC,EACA,CACE,YAAAmZ,EACA,OAAAF,EACA,QAAAmM,CACF,EACA9S,EACA7b,EAAuB,aAAA,CAE3B,EAMa+yC,GAAqB,CAChCxxB,EACA1F,IACuB,CACjB,MAAAtS,EAAM,mBAAmBgY,CAAQ,aACvC,OAAO6rB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAMO,SAASgzC,GACdn3B,EACApmB,EACAw9C,EACAC,EACe,CACR,OAAAnG,EACL,gBACA,CAAE,KAAAt3C,EAAM,YAAAw9C,EAAa,KAAAC,CAAK,EAC1Br3B,EACA7b,EAAuB,aAAA,CAE3B,CAOO,MAAMmzC,GAAkB,CAC7Bt3B,EACAc,EACAiE,EAA0B,EAC1BD,EAAyB,MACW,CACpC,MAAMpX,EAAM,iBAAiBoT,CAAM,gBAAgBiE,CAAM,UAAUD,CAAK,GACxE,OAAOysB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAWaozC,GAA4B,CACvCv3B,EACA2G,IAUOkwB,GARI,CAAC/xB,EAAeC,IAAmB,CAC5C,MAAMrX,EAAM,iBAAiBiZ,CAAM,6BAA6B5B,CAAM,UAAUD,CAAK,GAC9E,OAAAysB,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CACzB,CAEgC,EAYvBqzC,GAAiB,CAC5Bx3B,EACA2G,EACA8wB,EAAmB,GACnB3yB,EAAgB,GAChBC,EAAiB,IACyB,CAC1C,MAAMrX,EAAM,GAAG4gC,GAAa3nB,CAAM,CAAC,UAAU7B,CAAK,WAAWC,CAAM,GACjE0yB,EAAW,aAAaA,CAAQ,GAAK,EACvC,GACA,OAAOlG,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAMauzC,GACXC,GAEOlG,EACLhD,GACAkJ,EACA,OACAxzC,EAAuB,aAAA,EAQdyzC,GAA0C,CACrDjxB,EACA0nB,EACAruB,IAEOyxB,EACL/C,GAAoC/nB,EAAQ0nB,CAAQ,EACpD,OACAruB,EACA7b,EAAuB,aAAA,EAQpB,SAAS0zC,GACd73B,EACA2G,EACAmxB,EACAC,EACAjlB,EACAklB,EACuB,CAChB,OAAA9G,EACL,GAAGnH,CAAI,wBACP,CAAE,OAAApjB,EAAQ,aAAAmxB,EAAc,UAAAC,EAAW,QAAAjlB,EAAS,UAAAklB,CAAU,EACtDh4B,EACA7b,EAAuB,aAAA,CAE3B,CAGa,MAAA8zC,GACXC,GAEOhH,EACLvC,GACEuJ,EAAgC,sBAClC,EACAA,EACA,OACA/zC,EAAuB,aAAA,EAKdg0C,GAAoC,CAC/CC,EACAp4B,IAEOuxB,EACL3C,GAAkCwJ,CAAsB,EACxDp4B,EACA7b,EAAuB,aAAA,EAKdk0C,GAAoC,CAC/CC,EACAF,EACAp4B,IAEOyxB,EACL5C,GAAsCuJ,CAAsB,EAC5DE,EACAt4B,EACA7b,EAAuB,aAAA,EASdo0C,GAAwB,CACnC5xB,EACA7F,EACAd,IAC+B,CACzB,MAAAtS,EAAM0gC,GAAkBznB,EAAQ7F,CAAM,EACrC,OAAAwvB,GAAmB,IACxBiB,EAAkB7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CAAA,CAE5E,EAMaq0C,GAAsB,CACjC7xB,EACA7F,EACAd,IACkC,CAClC,MAAMtS,EAAM,GAAG0gC,GAAkBznB,EAAQ7F,CAAM,CAAC,oBAChD,OAAOywB,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAOas0C,GAA0B,CACrC9xB,EACA7F,EACAgS,EACAklB,EACAh4B,IAGOkxB,EADK,6BAGV,CAAE,OAAAvqB,EAAQ,OAAA7F,EAAQ,QAAAgS,EAAS,UAAAklB,CAAU,EACrCh4B,EACA7b,EAAuB,aAAA,EAQdu0C,GAAuB,CAClC/xB,EACA7F,EACAd,IAEOwxB,GACL,iBAAiB7qB,CAAM,WAAW7F,CAAM,GACxCd,EACA7b,EAAuB,aAAA,EAQdw0C,GAAU,CACrB/zB,EACA5E,IAEOuxB,EACLpD,GAAKvpB,CAAE,EACP5E,EACA7b,EAAuB,aAAA,EAQdy0C,GAAc,CACzB/K,EACA7tB,IAEOkxB,EACL,oBACA,CAAE,KAAMrD,CAAI,EACZ7tB,EACA7b,EAAuB,aAAA,EAUd00C,GAA0B,CACrC74B,EACAo0B,IACyB,CACnB,MAAA1mC,EAAM,mBAAmB0mC,CAAO,WAC/B,OAAA7C,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,EAQa20C,GAAqC,CAChD94B,EACAo0B,IACyB,CACnB,MAAA1mC,EAAMu/B,GAAiCmH,CAAO,EAC7C,OAAA7C,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,EAEa40C,GAA+B,CAC1C/4B,EACA4E,EACAuoB,EACA1mB,EAAyB6E,GAAW,SACL,CAEzB,MAAA5d,EAAM,YADa0oC,GAAsB3vB,CAAU,EAChB,kBAAA,CAAmB,IAAI7B,CAAE,UAAUuoB,CAAM,qBAClF,OAAOoE,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EACa60C,GAAmC,CAC9Ch5B,EACA4E,EACAuoB,IACG,CACH,MAAMz/B,EAAM,uBAAuBkX,CAAE,SAASuoB,CAAM,qBACpD,OAAOoE,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAEa80C,GAAmC,CAC9Cj5B,EACA4E,EACAuoB,EACA+L,EACAzyB,EAAyB6E,GAAW,SAChB,CAEd,MAAA5d,EAAM,YADa0oC,GAAsB3vB,CAAU,EAChB,kBAAkB,CAAC,IAAI7B,CAAE,UAAUuoB,CAAM,wBAAwB+L,CAAQ,kBAClH,OAAO3H,EAAM7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACrE,EAEag1C,GAA8B,IAElC,CAAC,CAACh/C,GAAQ,IAAIi/C,EAAyC,EASnDr1C,GAAuB,MAClCk2B,GACkB,CAClB,GAAIoW,KACGpW,EAMK9/B,GAAA,IAAIk/C,GAAyBpf,EAAO,CAE1C,OAAQ,GAAK,GAAK,GAAK,GACvB,KAAM,GAAA,CACP,GATD9/B,GAAQ,OAAOk/C,GAAyB,CAAE,KAAM,GAAK,CAAA,EAErD,MAAMllC,GAAM,GAAG,OAWV,QAAA+8B,EACL,uBACA,CAAE,aAAcjX,CAAM,EACtB,OACA91B,EAAuB,gBACvB,CAAE,YAAa,SAAU,CAAA,CAG/B,EAOam1C,GAA2B,SAGlCjJ,KACK,QAAQ,QAAQl2C,GAAQ,IAAIk/C,EAAuB,CAAW,EAEhE9H,EACL,qCACA,OACAptC,EAAuB,gBACvB,CAAE,YAAa,SAAU,CAAA,EAIhBo1C,GAA0B,IAC9Bp/C,GAAQ,IAAIq/C,EAAuB,IAAM,OAGrCC,GAA2B,CACtCz5B,EACAuB,IAGO2vB,EADK,2BACO3vB,EAASvB,EAAa7b,EAAuB,aAAa,EAGlEu1C,GAAU,SAAY,CACjC,MAAM31C,GAAqB,MAAS,CACtC,EAQa41C,GAAa,CACxB35B,EACA45B,EACAC,IAEO,IAAI,QACT,CAACC,EAAmBC,IAAqB,CACvC,MAAMC,EAAmB,KAAK,IAAI,QAASH,EAAK,KAAO,GAAK,EACtDt4B,EAAkC,CACtC,YAAas4B,EAAK,KAClB,SAAUD,EACV,cAAeC,EAAK,KACpB,cAAeG,EACf,kBAAmBpI,EAAA,EAErBqI,GAAaJ,CAAI,EAAE,KAAMK,GAAgB,CACvC34B,EAAQ,cAAgB24B,EACxBC,GACEn6B,EACA45B,EACAC,EACAt4B,EACAu4B,EACAC,CAAA,CACF,CACD,CACH,CAAA,EAIEE,GAAgBG,GAEb,IAAI,QAAQ,CAAC1oC,EAASgC,IAAW,CAChC,MAAA2mC,EAAY,KAAK,UAAU,MAC/BR,EAAOO,EACPE,EAAY,QACZC,EAAS,KAAK,KAAKV,EAAK,KAAOS,CAAS,EACxCE,EAAQ,IAAIjiD,GAAS,YACrBkiD,EAAa,IAAI,WACnB,IAAIC,EAAe,EAERD,EAAA,OAAS,SAAUvoB,EAAG,CAK/B,GAJA,QAAQ,IAAI,gBAAiBwoB,EAAe,EAAG,KAAMH,CAAM,EACrDC,EAAA,OAAOC,EAAW,MAAqB,EAC7CC,IAEIA,EAAeH,EACRI,QACJ,CACL,QAAQ,IAAI,kBAAkB,EACxB,MAAAT,EAAcM,EAAM,MAClB,QAAA,KAAK,gBAAiBN,CAAG,EACjCxoC,EAAQwoC,CAAG,CACb,CAAA,EAGFO,EAAW,QAAU,UAAY,CAC/B,QAAQ,KAAK,6BAA6B,EAC1C/mC,EAAO+mC,EAAW,KAAK,CAAA,EAGzB,MAAME,EAAW,IAAM,CACf,MAAAC,EAAQF,EAAeJ,EAC3BjjD,EAAMujD,EAAQN,GAAaT,EAAK,KAAOA,EAAK,KAAOe,EAAQN,EAE7DG,EAAW,kBAAkBJ,EAAU,KAAKR,EAAMe,EAAOvjD,CAAG,CAAC,CAAA,EAEtDsjD,GAAA,CACV,EAGGE,GAAkB,CACtBC,EACAC,EACA/6B,EACAk5B,EACAW,EACAt4B,EACAu4B,EACAC,IACG,CACH,GAAIgB,EAAsB,qBAAsBD,EAAa,CAAC,EAE5D,OAGF,MAAME,EAAWD,EAAsB,SACjCE,EAA4D,CAChE,SAAAD,EACA,YAAa,2BACb,YAAa,CAACF,CAAU,CAAA,EAEpBI,EAAkB,2BAA2BF,CAAQ,uBAC3D9J,EACEgK,EACAD,EACAj7B,EACA7b,EAAuB,aAAA,EACvB,KAAK,MAAOg3C,GAA0D,CACtE,MAAMC,EACJD,EAAqB,kBAAkB,CAAC,EAAE,mBAEtCE,GAAaP,EAAa,GAAKv5B,EAAQ,cACzC,IAAA+5B,EAAUR,EAAav5B,EAAQ,cAAgB,EAC/C+5B,GAAW/5B,EAAQ,gBACrB+5B,EAAU/5B,EAAQ,cAAgB,GAEpC,MAAMg6B,EAAY1B,EAAK,MACrBwB,EACAC,EAAU,EACVL,EAA0B,WAAA,EAEtB,MAAAO,GACJJ,EACAG,EACAN,EAA0B,WAAA,EAG5BhB,GAAasB,CAAS,EAAE,KAAMrB,GAAgB,CAC5C,MAAMuB,EAAa,2BAA2BT,CAAQ,QAAQF,CAAU,eAAeZ,CAAG,GAC1FzI,EACEgK,EACA,OACAz7B,EACA7b,EAAuB,aAAA,EACvB,KAAMu3C,GAAqC,CACvCA,EAAgB,eAAiB,eAEbX,EAAA,qBAAsBD,EAAa,CAAC,EAAI,GAC9Da,GACEZ,EACA7B,EACAl5B,EACA85B,EACAC,CAAA,GAII5lC,GAAA,GAAI,EAAE,KAAK,IAAM,CACrB0mC,GACEC,EACAC,EACA/6B,EACAk5B,EACAW,EACAt4B,EACAu4B,EACAC,CAAA,CACF,CACD,CACH,CACD,CAAA,CACF,CAAA,CACF,CACH,EACa4B,GAAsB,CACjCnuC,EACAouC,EACA57B,EACA85B,EACAC,IACG,CAGD,GAAAvsC,EAAO,qBAAsB,MAAWu0B,GAC/BA,CACR,EACD,CACM,MAAAr0B,EAAM,2BAA2BF,EAAO,QAAQ,YACtDikC,EACE/jC,EACA,OACAsS,EACA7b,EAAuB,aAAA,EAEtB,KAAM03C,GAAqC,CAExB/B,EAAA,CAChB,aAAc+B,EAAU,mBACxB,SAAUD,CAAA,CACX,CAAA,CACF,EACA,MAAe5vC,GAAA,CACd+tC,EAAiB/tC,CAAK,CAAA,CACvB,CACL,CACF,EACMwvC,GAAiB,MACrBJ,EACAvB,EACA9I,IACG,CAIH,MAAM,MAAMqK,EAAc,CACxB,OAAQ,MACR,QAAS,CACP,eAAgBrK,CAClB,EACA,KAAM8I,CAAA,CACP,CACH,EACaM,GAAuB,CAClCn6B,EACAk5B,EACAW,EACAt4B,EACAu4B,EACAC,IACG,CAEH7I,EADY,0BAGV3vB,EACAvB,EACA7b,EAAuB,aAAA,EAEtB,KAAMqJ,GAAkC,CAGjC,MAAAsuC,EAAkCtuC,EAAO,WAC5C,MAAM,EAAE,EACR,IAAWuuC,GAAAA,IAAQ,GAAG,EACzBvuC,EAAO,qBAAuBsuC,EAC9B,QAAS5lD,EAAI,EAAGA,EAAI4lD,EAAqB,OAAQ5lD,EAAIA,EAAI,EAClD4lD,EAAqB5lD,CAAC,GAEzB2kD,GACE3kD,EAAI,EACJsX,EACAwS,EACAk5B,EACAW,EACAt4B,EACAu4B,EACAC,CAAA,EAKN4B,GACEnuC,EACA0rC,EACAl5B,EACA85B,EACAC,CAAA,CACF,CACD,EACA,MAAe/tC,GAAA,CACd+tC,EAAiB/tC,CAAK,CAAA,CACvB,CACL,EAEagwC,GAA6B,CACxCC,EACAj8B,IAGO,IAAI,QAAQ,CAACtO,EAASgC,IAAW,CAEtC,MAAMwoC,EAA2BjK,GAC/BgK,EACAj8B,CAAA,EAEIm8B,EAAkC5J,GACtC0J,EACAj8B,CAAA,EAEF,QAAQ,IAAI,CAACk8B,EAA0BC,CAA+B,CAAC,EACpE,KAAe/d,GAAA,CACR,MAAAtY,EAAyBsY,EAAO,CAAC,EACjCgd,EAAuBhd,EAAO,CAAC,EAC9B,OAAAge,GAAqBt2B,EAAYs1B,CAAY,EAAE,KACnDziD,GAAoB,CACnB+Y,EAAQ/Y,CAAO,CACjB,CAAA,CACF,CACD,EACA,MAAasL,GAAA,CACZyP,EAAOzP,CAAG,CAAA,CACX,CAAA,CACJ,EAGUm4C,GAAuB,CAClCt2B,EACAs1B,EACAiB,EAA2B1K,KAGpB,IAAI,QAAQ,CAACjgC,EAASgC,IAAW,CAElCoS,EAAW,YAAcu2B,EAC3B,MAAMjB,EAAc,CAClB,OAAQ,MACR,KAAM,OACN,MAAO,WACP,QAAS,CACP,eAAgBt1B,EAAW,WAC7B,CAAA,CACD,EAAE,KAAiBhiB,GAAA,CAETA,EAAA,KAAA,EAAO,KAAaw4C,GAAA,CAC3B5qC,EAAQ4qC,CAAI,CAAA,CACb,CAAA,CACF,EAED5oC,EACE,cAAc08B,GACZtqB,EAAW,WACZ,CAAA,sDAAsDsqB,GACrDiM,CACD,CAAA,GAAA,CAEL,CACD,EASUE,GAAgB,CAC3BC,EACAx8B,EACAy8B,EACAC,EACAC,IAEO,IAAI,QAAQ,CAACjrC,EAASgC,IAAW,CACtC,MAAMkpC,EAAqD,CACzD,CACE,kBAAmBJ,EAAW,GAC9B,oBAAqBxxB,GAAwB,WAC7C,aAAcwxB,EAAW,gBAC3B,CAAA,EAQFvH,GANkC,CAChC,mBAAoBwH,GAAsB,GAC1C,qBAAsBC,GAAwB,GAC9C,4BAA6BC,GAA+B,GAC5D,eAAgBC,CAAA,EAEA58B,CAAW,EAC1B,KAAM7K,GAA0B,CAE7BA,EAAK,eAAe,QACpBA,EAAK,eAAe,CAAC,EAAE,eAAiB,OAEhCzD,EAAAyD,EAAK,eAAe,CAAC,CAAC,EAE9BzB,EAAOyB,EAAK,eAAe,CAAC,EAAE,WAAW,CAC3C,CACD,EACA,MAAalR,GAAA,CACZyP,EAAOzP,CAAG,CAAA,CACX,CAAA,CACJ,EAQU44C,GAA+B,CAC1CC,EACA98B,IAKOkxB,EACL,6BAJoD,CACpD,WAAA4L,CAAA,EAKA98B,EACA7b,EAAuB,aAAA,EAUd44C,GAA0B,CACrCC,EACAn4B,EACA7E,IAEO68B,GACL,CAAC,CAAE,aAAAG,EAAc,cAAAn4B,EAAe,EAChC7E,CAAA,EAOSi9B,GAAkC,MAC7CC,EACAl9B,IACyC,CAOzC,MAAM8rB,EAAa,MAAMoF,EACvB,6CAP0C,CAC1C,YAAAgM,EACA,gBAAiB,GACjB,aACE,oEAAA,EAKFl9B,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACX,4CAA4CA,EAAW,KAAK,GAC5D9rB,CAAA,CAEJ,EAKam9B,GAAmC,MAC9Cn9B,EAAkC,SAC/B,CAMH,MAAM8rB,EAAa,MAAMoF,EACvB,8CAN2C,CAC3C,mBAAoB,CAAC,EACrB,aACE,qEAAA,EAKFlxB,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACX,6CAA6CA,EAAW,KAAK,GAC7D9rB,CAAA,CAEJ,EAMao9B,GAA2B,MACtC77B,EACAvB,EAAkC,SACK,CACvC,MAAM8rB,EAAa,MAAMoF,EACvB,yCACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACX,wCAAwCA,EAAW,KAAK,GACxD9rB,CAAA,CAEJ,EAMaq9B,GAAY,CACvB33B,EACAowB,EACA91B,IAEOkxB,EACL,mBAAmBxrB,CAAQ,OAC3BowB,EACA91B,EACA7b,EAAuB,aAAA,EAQdm5C,GAAqB,CAChCt9B,EACAu9B,EACAC,EACAC,IACG,CACC,IAAA/vC,EAAM,uCAAuC8vC,CAAI,GACjD,OAAAC,IACF/vC,GAAO,8BAA8B+vC,CAAyB,IACzDvM,EACLxjC,EACA6vC,EACAv9B,EACA7b,EAAuB,aAAA,CAE3B,EAEau5C,GAA2B,CACtCC,EACA39B,IAEOuxB,EACL,uBAAuBoM,CAAM,eAC7B39B,EACA7b,EAAuB,aAAA,EAQdy5C,GAAgB,CAC3BD,EACA39B,IAEK29B,EAKEpM,EACL5D,GAAiBgQ,CAAM,EACvB39B,EACA7b,EAAuB,aAAA,EALhB,QAAQ,OAAO,IAAI,MAAM,iBAAiB,CAAC,EAazC05C,GAAmB,CAC9BC,EACA99B,IAEK89B,EAAW,GAKTrM,EACL9D,GAAiBmQ,EAAW,EAAE,EAC9BA,EACA99B,EACA7b,EAAuB,aAAA,EANhB,QAAQ,OAAO,IAAI,MAAM,gCAAgC,CAAC,EAcxD45C,GAAmB,CAC9BD,EACA99B,IAEOkxB,EACLxD,GACAoQ,EACA99B,EACA7b,EAAuB,aAAA,EAQd65C,GAAmB,CAC9BL,EACA39B,IAEOwxB,GACL,uBAAuBmM,CAAM,GAC7B39B,EACA7b,EAAuB,aAAA,EAQd85C,GAAqB,CAChCN,EACAO,EACAl+B,IAEOuxB,EACL,uBAAuBoM,CAAM,UAAUO,CAAW,GAClDl+B,EACA7b,EAAuB,aAAA,EAQdg6C,GAA0B,CACrCR,EACAS,EACAp+B,IAEOkxB,EACL,uBAAuByM,CAAM,cAC7BS,GAA8B,CAAC,EAC/Bp+B,EACA7b,EAAuB,aAAA,EAQdk6C,GAAwB,CACnCC,EACAt+B,IAEOkxB,EACL,uBAAuBoN,EAAgB,YAAY,SACnDA,EACAt+B,EACA7b,EAAuB,aAAA,EAQdo6C,GAAwB,CACnCD,EACAt+B,IAEOyxB,EACL,uBAAuB6M,EAAgB,YAAY,UAAUA,EAAgB,EAAE,GAC/EA,EACAt+B,EACA7b,EAAuB,aAAA,EAQdq6C,GAAwB,CACnCb,EACAO,EACAl+B,IAEOwxB,GACL,uBAAuBmM,CAAM,UAAUO,CAAW,GAClDl+B,EACA7b,EAAuB,aAAA,EAQds6C,GAA2B,CACtC7uC,EACAoQ,IAEOuxB,EACL,8CAA8C,UAAU3hC,CAAK,CAAC,GAC9DoQ,EACA7b,EAAuB,aAAA,EAQdu6C,GACXC,GAEOzN,EACL,8BACAyN,EACA,OACAx6C,EAAuB,aAAA,EAQdy6C,GAA+B,CAC1CD,EACA3+B,IAEOkxB,EACL,+BACAyN,EACA3+B,EACA7b,EAAuB,aAAA,EAOd06C,GACXC,GAEOvN,EACL,0BAA0BuN,CAAQ,GAClC,OACA36C,EAAuB,aAAA,EAOd46C,GAAY,CACvB/+B,EACAg/B,IAEOzN,EACL,yBACEyN,EAAgB,kBAAoBA,EAAgB,EACtD,GACAh/B,EACA7b,EAAuB,aAAA,EAUd86C,GAAoB,CAC/B19B,EACAvB,IAEOkxB,EACL,yBACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EAQd+6C,GAAoB,CAACt6B,EAAY5E,IACrCwxB,GACL,0BAA0B5sB,CAAE,GAC5B5E,EACA7b,EAAuB,aAAA,EAUdg7C,GAAoB,CAC/B59B,EACAvB,IAEOyxB,EACL,0BAA0BlwB,EAAQ,SAAS,GAC3CA,EACAvB,EACA7b,EAAuB,aAAA,EASdi7C,GAAsC,CACjD79B,EACAvB,IAEOyxB,EACL,0BAA0BlwB,EAAQ,SAAS,wBAC3CA,EACAvB,EACA7b,EAAuB,aAAA,EAUdk7C,GAA0B,CACrCr/B,EACA4E,IAEOssB,EACL,iCAAiCtsB,CAAE,GACnC,OACA5E,EACA7b,EAAuB,aAAA,EAOdm7C,GAAqB,MAChCt/B,GAEOuxB,EACL,2BACAvxB,EACA7b,EAAuB,aAAA,EAUdo7C,GAAyB,CACpCZ,EACA3+B,IAEOkxB,EACL,0BACAyN,EACA3+B,EACA7b,EAAuB,aAAA,EAedq7C,GAAkB,CAC7B5lD,EACAomB,IAEOkxB,EACL,4BAA4B,UAAUt3C,CAAI,CAAC,GAC3C,OACAomB,EACA7b,EAAuB,aAAA,EAQds7C,GAAa,CACxBC,EACA1/B,IAEOuxB,EACL,uBAAuBmO,CAAW,OAClC1/B,EACA7b,EAAuB,aAAA,EAQdw7C,GAAgB,CAC3BD,EACAE,EACA5/B,IAEOyxB,EACL,uBAAuBiO,CAAW,OAClCE,EACA5/B,EACA7b,EAAuB,aAAA,EAYd07C,GAAiB,CAC5BH,EACA9lD,EACAkmD,EACA9/B,IACsB,CACtB,MAAM+/B,EAAiC,CACrC,KAAAnmD,EACA,aAAckmD,CAAA,EAET,OAAA5O,EACL,8BAA8BwO,CAAW,GACzCK,EACA//B,EACA7b,EAAuB,aAAA,CAE3B,EAMa67C,GAAiB,CAC5BC,EACArmD,EACAkmD,EACA9/B,IACsB,CACtB,MAAMkgC,EAAqC,CACzC,KAAAtmD,EACA,aAAckmD,CAAA,EAET,OAAArO,EACL,sBAAsBwO,CAAU,GAChCC,EACAlgC,EACA7b,EAAuB,aAAA,CAE3B,EAMag8C,GAAiB,CAC5BF,EACAjgC,IAEOwxB,GACL,sBAAsByO,CAAU,GAChCjgC,EACA7b,EAAuB,aAAA,EAQdi8C,GAAiB,CAC5BH,EACAjgC,IAEOkxB,EACL,sBAAsB+O,CAAU,UAChC,OACAjgC,EACA7b,EAAuB,aAAA,EASdk8C,GAAe,CAC1B9+B,EACAvB,IAEOkxB,EACL,0BACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EASdm8C,GAA0B,CACrC/+B,EACAvB,IAEOkxB,EACL,mCACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EAQdo8C,GAAiB,CAC5BN,EACAjgC,IAEOyxB,EACL,sBAAsBwO,CAAU,UAChC,OACAjgC,EACA7b,EAAuB,aAAA,EAQdq8C,GAAiB,CAC5BP,EACAxyC,EACAuS,IACsB,CACtB,MAAMygC,EAA+B,CACnC,OAAAhzC,CAAA,EAEK,OAAAgkC,EACL,sBAAsBwO,CAAU,UAChCQ,EACAzgC,EACA7b,EAAuB,aAAA,CAE3B,EAOau8C,GAAuB,CAClCn/B,EACAvB,IAEOkxB,EACL,sBACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EAKdw8C,GAA4B,CACvCp/B,EACAvB,IAEOkxB,EACL,kCACA3vB,EACAvB,EACA7b,EAAuB,aAAA,EAcdy8C,GAAuB,CAClC5gC,EACA4E,EACAE,EAAgB,GAChBC,EAAiB,IACgC,CACjD,MAAMrX,EAAM,GAAG29B,GACbzmB,CACD,CAAA,UAAUE,CAAK,WAAWC,CAAM,GAC1B,OAAAwsB,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,EAWa08C,GAA2B,CACtC7gC,EACA4E,IAEO2sB,EACLzE,GAAyBloB,CAAE,EAC3B5E,EACA7b,EAAuB,aAAA,EAUd28C,GAA0B,CACrC9gC,EACA4E,IAGO0rB,GAAmB,IACxBiB,EACExE,GAAuBnoB,CAAE,EACzB5E,EACA7b,EAAuB,aACzB,CAAA,EASS48C,GAA2B,CACtC/gC,EACAuB,IAEO2vB,EACLtE,GACArrB,EACAvB,EACA7b,EAAuB,aAAA,EAUX,SAAA68C,GAIdhhC,EAAiCihC,EAA4C,CACtE,OAAA1P,EACLvE,GAA0BiU,CAAa,EACvCjhC,EACA7b,EAAuB,aAAA,CAE3B,CAUa,MAAA+8C,GAA2B,CACtClhC,EACA4E,IAWOiyB,GARI,CAAC/xB,EAAeC,IAAmB,CAC5C,MAAMrX,EAAM,mBAAmBkX,CAAE,4BAA4BE,CAAK,WAAWC,CAAM,GAC5E,OAAAwsB,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CACzB,CAEgC,EAWpB,SAAAg9C,GACdz7B,EACA1F,EAC4B,CACrB,OAAAkxB,EACL,mBAAmBxrB,CAAQ,yBAC3B,KACA1F,EACA7b,EAAuB,aAAA,CAE3B,CASa,MAAAi9C,GAAoB,MAC/BphC,EACAqhC,IAC4B,CAC5B,MAAM3zC,EAAM,GAAG2hC,GAAsBgS,CAAU,CAAC,GACzC,OAAA9P,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,EASam9C,GAAuB,MAClCthC,EACAuhC,IAEOrQ,EACL9B,GACAmS,EACAvhC,EACA7b,EAAuB,aAAA,EAKdq9C,GAAmBxhC,GACvBuxB,EACL,yBACAvxB,EACA7b,EAAuB,aAAA,EAIds9C,GAAmB,CAC9BvE,EACAl9B,IAC2B,CAC3B,MAAM0hC,EAAU,0BACVh0C,EAAMwvC,EAAc,GAAGwE,CAAO,gBAAgBxE,CAAW,GAAKwE,EAC7D,OAAAxQ,EACLxjC,EACA,OACAsS,EACA7b,EAAuB,aAAA,CAE3B,EAaa0yC,GAA2B,MACtCriC,GACG,CAEH,IAAIuQ,EAAS,EACT48B,EAAiB,GACrB,MAAMnc,EAAe,CAAA,EAErB,KAAOmc,GACD,GAAA,CACF,MAAMxsC,EAAO,MAAMX,EAAG,GAAOuQ,CAAM,EAC3BygB,EAAA,KAAK,GAAGrwB,EAAK,OAAO,EAC5B4P,GAAU5P,EAAK,QAAQ,OACnBA,EAAK,QAAQ,OAAS,KACPwsC,EAAA,UAEZzvB,EAAG,CACJ,MAAA,MAAM,sCAAsCA,CAAC,EAAE,CACvD,CAGK,OAAAsT,CACT,EAGaoc,GAA0B,CACrCnxB,EACAzQ,IAEOkxB,EACL,gCACA,CAAE,KAAAzgB,CAAK,EACPzQ,EACA7b,EAAuB,aAAA,EACvB,KAAagR,IACb66B,GAAgC76B,CAAI,EAC7BA,EACR,EAIU0sC,GAAsB7hC,GAC1BwxB,GACL,yBACAxxB,EACA7b,EAAuB,aACzB,EAAE,KAAK,IAAM,CACX6rC,GAAgC,MAAS,CAAA,CAC1C,EAUU8R,GAAc,MACzBC,EACA/hC,EAAkC,SAChB,CAClB,MAAM8rB,EAAa,MAAMoF,EACvB,mBAAmB6Q,EAAmB,QAAQ,iCAC9CA,EACA/hC,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACX,mBAAmBiW,EAAmB,QAAQ,gCAAgCjW,EAAW,KAAK,GAC9F9rB,CAAA,CAEJ,EAEagiC,GACXC,GAEO/Q,EACL,+BACA+Q,EACA,OACA99C,EAAuB,aAAA,EAId+9C,GAA4B,CACvCC,EACAniC,IAEOkxB,EACL,+BACAiR,EACAniC,EACA7b,EAAuB,aAAA,EAIdi+C,GAAgC,CAC3CpiC,EACAg/B,IAEOzN,EACL,+BACEyN,EAAgB,kBAAoBA,EAAgB,EACtD,GACAh/B,EACA7b,EAAuB,aAAA,EAIdk+C,GAA4B,CACvCC,EACAtiC,IAEOwxB,GACL,gCAAgC8Q,CAAa,GAC7CtiC,EACA7b,EAAuB,aAAA,EAKdo+C,GAAgB,CAC3BviC,EACA/kB,EAAgC,KAC7B,CACH,MAAMunD,EAAY,IAAI,gBACpBn+B,GAAgBppB,CAAM,CAAA,EAEjB,OAAAs2C,EACL,GAAG1B,EAAQ,IAAI2S,EAAU,SAAU,CAAA,GACnCxiC,EACA7b,EAAuB,aAAA,CAE3B,EAGas+C,GAAkB,CAC7B3hC,EACA7lB,EAAgC,CAAA,EAChC+kB,IACG,CACH,MAAMwiC,EAAY,IAAI,gBACpBn+B,GAAgBppB,CAAM,CAAA,EAEjB,OAAAs2C,EACL,0BAA0BzwB,CAAM,IAAI0hC,EAAU,SAAU,CAAA,GACxDxiC,EACA7b,EAAuB,aAAA,CAE3B,EAGau+C,GAAe,CAACh9B,EAAkB1F,IACtCuxB,EACL5G,GAAWjlB,CAAQ,EACnB1F,EACA7b,EAAuB,aAAA,EAKdw+C,GAA0B,CACrCj9B,EACAzqB,EAAkC,CAAA,EAClC+kB,IAC0B,CAC1B,MAAMwiC,EAAY,IAAI,gBACpBn+B,GAAgBppB,CAAM,CAAA,EAYxB,OAAO47C,GAVI,CAAC/xB,EAAeC,IAAmB,CAC5C,MAAMrX,EAAM,GAAGk9B,GACbllB,CAAA,CACD,WAAWX,CAAM,UAAUD,CAAK,IAAI09B,EAAU,SAAU,CAAA,GAClD,OAAAjR,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CACzB,CAEgC,CACpC,EAGay+C,GAAuB,CAClCl9B,EACA1F,IAEOuxB,EACLzG,GAAmBplB,CAAQ,EAC3B1F,EACA7b,EAAuB,aAAA,EAKd0+C,GAAgB,CAACn9B,EAAkB1F,IACvCuxB,EACL1G,GAAYnlB,CAAQ,EACpB1F,EACA7b,EAAuB,aAAA,EAKd2+C,GAAoB,CAC/Bp9B,EACA1F,EACA+E,EAAiB,EACjBD,EAAgB,MAETysB,EACL,mBAAmB7rB,CAAQ,mBAAmBX,CAAM,UAAUD,CAAK,GACnE9E,EACA7b,EAAuB,aAAA,EAKd4+C,GAAiB,CAACnzC,EAAoBoQ,IAC1CkxB,EACL,kBACAthC,EACAoQ,EACA7b,EAAuB,aAAA,EAIrB6+C,GAA6B,MACjChjC,EACAijC,IACkC,CAMlC,MAAMnX,EAAa,MAAMoF,EACvB,2CANyD,CACzD,aACE,mEACF,eAAgB+R,CAAA,EAKhBjjC,EACA7b,EAAuB,aAAA,EAOzB,OALiB,MAAM6tC,GACrBlG,EAAW,MACX,0CAA0CA,EAAW,KAAK,GAC1D9rB,CAAA,GAEc,eAClB,EAMakjC,GACXljC,GAEOwxB,GACL,yBACAxxB,EACA7b,EAAuB,aAAA,EAQdg/C,GAA8B,CACzC5hC,EACAvB,EAAkC,SAE3BgjC,GACLhjC,EACAuB,CAAA,EAQS6hC,GAA4B,CACvCpjC,EAAkC,SAM3BgjC,GACLhjC,EALgD,CAChD,aACE,gEAAA,CAIF,EAQSqjC,GAAiC,CAC5C9hC,EACAvB,EAAkC,SAE3BgjC,GACLhjC,EACAuB,CAAA,EAQS+hC,GAA+B,CAC1Cl4C,EACA4U,EAAkC,SAK3BkxB,EACL,gCAJyD,CACzD,cAAe,CAAC9lC,CAAI,CAAA,EAKpB4U,EACA7b,EAAuB,aAAA,EAKdo/C,GAAwB,CACnCC,EACAxjC,IAEOkxB,EACLzB,GACA+T,EACAxjC,EACA7b,EAAuB,aAAA,EAKds/C,GAAqB,CAChCxC,EACAjhC,IAEOuxB,EACL7B,GAA+CuR,CAAa,EAC5DjhC,EACA7b,EAAuB,aAAA,EAKdu/C,GAAgC,CAC3CzC,EACAjhC,IAEOuxB,EACL/B,GAAkDyR,CAAa,EAC/DjhC,EACA7b,EAAuB,aAAA,EAKX,SAAAw/C,GACdH,EACAxjC,EACA,CACO,OAAAkxB,EACL5B,GACAkU,EACAxjC,EACA7b,EAAuB,aAAA,CAE3B,CAGa,MAAAy/C,GAA0B,CACrCJ,EACAxjC,IAEOkxB,EACL3B,GAA+BiU,EAAW,SAAS,EACnDA,EACAxjC,EACA7b,EAAuB,aAAA,EAMd0/C,GAA0B,CACrCC,EACA9jC,IAEOyxB,EACL,iCAAiCqS,CAAY,gBAC7C,OACA9jC,EACA7b,EAAuB,aAAA,EAMd4/C,GAAoB,CAC/BD,EACA9jC,IAEOuxB,EACLhE,GAA6BuW,CAAY,EACzC9jC,EACA7b,EAAuB,aAAA,EAad6/C,GAAyB,CACpCziC,EACAvB,IAEOyxB,EACLlE,GAA6BhsB,EAAQ,YAAY,EACjDA,EACAvB,EACA7b,EAAuB,aAAA,EAYd8/C,GAAmB,CAACv+B,EAAkB1F,IAC1CswB,GAAmB,IACxBiB,EACEpG,GAAsBzlB,CAAQ,EAC9B1F,EACA7b,EAAuB,aACzB,CAAA,EAWS+/C,GAA6B,CACxCx+B,EACA1F,IAEOuxB,EACLnG,GAAyB1lB,CAAQ,EACjC1F,EACA7b,EAAuB,aAAA,EASdggD,GAAat+B,GACjB0rB,EACL,GAAG5F,GAAqB9lB,CAAS,CAAC,GAClC,OACA1hB,EAAuB,aAAA,EASdigD,GAAsB,MACjCv+B,EACA7F,IAII,CACJ,MAAM8rB,EAAa,MAAMoF,EACvBtF,GACA,CACE,aACE,mEACF,IAAK/lB,CACP,EACA7F,EACA7b,EAAuB,aAAA,EAElB,OAAA6tC,GACLlG,EAAW,MACXD,GAAsBC,EAAW,KAAK,EACtC9rB,CAAA,CAEJ,EASaqkC,GAAoB,CAC/B3+B,EACA4+B,EACAtkC,IAEOuxB,EACL,GAAG7G,GAAchlB,CAAQ,CAAC,eAAe4+B,CAAU,GACnDtkC,EACA7b,EAAuB,aAAA,EAWdogD,GAAgB,CAAC7+B,EAAkB1F,IACvCuxB,EACLtG,GAAYvlB,CAAQ,EACpB1F,EACA7b,EAAuB,aAAA,EAWdqgD,GAAmB,CAC9B9+B,EACA++B,EACAzkC,IAEOyxB,EACLxG,GAAYvlB,CAAQ,EACpB++B,EACAzkC,EACA7b,EAAuB,aAAA,EAUdugD,GAAwB1kC,GAC5BuxB,EACLlF,GACArsB,EACA7b,EAAuB,aAAA,EAKdwgD,GAAmB,CAC9BC,EACA5kC,IAEOkxB,EACL5E,GACAsY,EACA5kC,EACA7b,EAAuB,aAAA,EAKd0gD,GAAuB,CAClCC,EACAtY,IAEO0E,EACL3E,GAAwBC,CAAc,EACtCsY,EACA,OACA3gD,EAAuB,aAAA,EAKd4gD,GACXC,GAEO9T,EACLzE,GACAuY,EACA,OACA7gD,EAAuB,aAAA,EAYdD,GAA4B,CACvC+gD,EACA3hD,EACAowC,EACA/vC,EACAytC,EAAmCjtC,EAAuB,gBAEnD+sC,EACL,2BACA,CACE,SAAA5tC,EACA,mBAAAowC,EACA,YAAA/vC,EACA,SAAAshD,CACF,EACA,OACA7T,CAAA,EAYS/sC,GAA6B,MACxCf,EACAowC,EACA/vC,EACAytC,EAAmCjtC,EAAuB,gBAC/B,CAGrB,MAAA6b,EAAc,MAAMs5B,KACnB,OAAApI,EACL,wBACA,CAAE,SAAA5tC,EAAU,mBAAAowC,EAAoB,YAAA/vC,CAAY,EAC5Cqc,EACAoxB,CAAA,CAEJ,EASa8T,GAA+B,MAC1C5hD,EACA0c,EACA2F,IACG,CACG,MAAAjY,EAAM,kCAAkCpK,CAAQ,UAAU,mBAC9DqiB,CACD,CAAA,GACD,OAAO6rB,GAAS9jC,EAAKsS,EAAa7b,EAAuB,aAAa,CACxE,EAGaghD,GAAyBnlC,GAC7BkxB,EACLxE,GACA,CAAE,YAAA1sB,CAAY,EACd,OACA7b,EAAuB,aAAA,EAKdihD,GAAsC,CACjDC,EACArlC,IAEOkxB,EACLvE,GACA0Y,EACArlC,EACA7b,EAAuB,aAAA,EAKdmhD,GAAoC,CAC/CC,EACAvlC,IAEOkxB,EACL,+BACAqU,EACAvlC,EACA7b,EAAuB,aAAA,EAKdqhD,GACXD,GAEOrU,EACL,+BACAqU,EACA,OACAphD,EAAuB,aAAA,EAKdshD,GAAiBC,GAAkB,CACxC,MAAAtU,EAAW,OAAO,SAAS,KAAO,uBAClC1jC,EAAM,sDAAsD,mBAChE0jC,CACD,CAAA,GACD,OAAOF,EAAOxjC,EAAK,CAAE,MAAAg4C,GAAS,OAAWvhD,EAAuB,aAAa,CAC/E,EASawhD,GAAuB,CAClCD,EACA5kC,EACA0rB,EACAxsB,IAEOkxB,EACL,oBAAoBpwB,CAAM,mCAAmC0rB,CAAc,GAC3E,CAAE,MAAAkZ,CAAM,EACR1lC,EACA7b,EAAuB,aAAA,EASdyhD,GAAuB,CAClCC,EACA7lC,IAEOkxB,EACL,iBACA2U,EACA7lC,EACA7b,EAAuB,aAAA,EASd2hD,GAAc,CAAC9lC,EAAiC0lC,IACpDlU,GACL,wBAAwBkU,CAAK,GAC7B1lC,EACA7b,EAAuB,aAAA,EASd4hD,GAA0B,CACrCL,EACA1lC,IAEOyxB,EACL,6BACA,CAAE,MAAAiU,CAAM,EACR1lC,EACA7b,EAAuB,aAAA,EAWd6hD,GAAW,CACtBC,EACAjmC,IAEOuxB,EACL,oBAAoB0U,CAAS,SAC7BjmC,EACA7b,EAAuB,aAAA,EAWd+hD,GAAW,CAAC3/B,EAAiBvG,IACjCuxB,EACL,kBAAkBhrB,CAAO,GACzBvG,EACA7b,EAAuB,aAAA,EAYdgiD,GAAY,CACvBC,EACApmC,IAEOkxB,EACL,iBACAkV,EACApmC,EACA7b,EAAuB,aAAA,EAYdkiD,GAAW,CACtBC,EACAtmC,IAEOyxB,EACL,kBAAkB6U,EAAsB,OAAO,WAC/C,CAAE,gBAAiBA,EAAsB,eAAgB,EACzDtmC,EACA7b,EAAuB,aAAA,EAYdoiD,GAAc,CACzBvmC,EACAuG,IAEOirB,GACL,kBAAkBjrB,CAAO,GACzBvG,EACA7b,EAAuB,aAAA,EASdqiD,GAAa,CACxBxmC,EACAsG,EACAxB,EAAgB,GAChBC,EAAiB,EACjBoB,EAA6ByC,GAAqB,WAClDxC,EAAqB,GACrBC,EAA2ByC,GAAiB,kBACzC,CACG,MAAA7tB,EAAS,IAAI,gBACnBA,EAAO,IAAI,SAAU8pB,EAAO,SAAU,CAAA,EACtC9pB,EAAO,IAAI,QAAS6pB,EAAM,SAAU,CAAA,EAC7B7pB,EAAA,IAAI,OAAQkrB,CAAI,EACvBlrB,EAAO,IAAI,YAAamrB,EAAU,SAAU,CAAA,EACrCnrB,EAAA,IAAI,SAAUorB,CAAM,EAErB,MAAA3Y,EAAM,GAAGshC,EAAM,IAAI1oB,CAAQ,YAAYrrB,EAAO,SAAU,CAAA,GAEvD,OAAAs2C,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,EAWasiD,GAAqB,CAChCjgC,EACAxG,IAEOuxB,EACL,wCAAwC/qB,CAAU,GAClDxG,EACA7b,EAAuB,aAAA,EAYduiD,GAAY,CACvB1mC,EACAsG,IAEOmrB,EACL,GAAGxC,GAAU3oB,CAAQ,CAAC,OACtB,OACAtG,EACA7b,EAAuB,aAAA,EAYdwiD,GAAc,CACzB3mC,EACAsG,IAEOmrB,EACL,GAAGxC,GAAU3oB,CAAQ,CAAC,SACtB,OACAtG,EACA7b,EAAuB,aAAA,EAWdyiD,GAAY,CACvBtgC,EACAtG,IAEOuxB,EACLtC,GAAU3oB,CAAQ,EAClBtG,EACA7b,EAAuB,aAAA,EAad0iD,GAAsB,CACjCrgC,EACAxG,IAEOuxB,EACL,GAAGvC,EAAM,0BAA0BxoB,CAAU,GAC7CxG,EACA7b,EAAuB,aAAA,EAWd2iD,GAAa,CACxB9mC,EACA+mC,IAEO7V,EACLlC,GACA+X,EACA/mC,EACA7b,EAAuB,aAAA,EAWd6iD,GAAiB,CAC5BhnC,EACAuB,IAEOkwB,EACL,GAAGzC,EAAM,IAAIztB,EAAQ,QAAQ,SAC7B,CAAE,MAAOA,EAAQ,KAAM,EACvBvB,EACA7b,EAAuB,aAAA,EAWd8iD,GAAmB,CAC9BjnC,EACAuB,IAEOkwB,EACL,GAAGzC,EAAM,IAAIztB,EAAQ,QAAQ,WAC7B,CAAE,gBAAiBA,EAAQ,eAAgB,EAC3CvB,EACA7b,EAAuB,aAAA,EAYd+iD,GAAe,CAC1BlnC,EACAsG,IAEOkrB,GACLvC,GAAU3oB,CAAQ,EAClBtG,EACA7b,EAAuB,aAAA,EAIdgjD,GAAgB,CAC3BnnC,EACAsG,IAEOmrB,EACL,GAAGxC,GAAU3oB,CAAQ,CAAC,WACtB,OACAtG,EACA7b,EAAuB,aAAA,EAYdijD,GAAgB,CAC3BpnC,EACAkG,EACApB,EAAgB,GAChBC,EAAiB,IACd,CACG,MAAA9pB,EAAS,IAAI,gBACnB,OAAAA,EAAO,IAAI,SAAU8pB,EAAO,SAAU,CAAA,EACtC9pB,EAAO,IAAI,QAAS6pB,EAAM,SAAU,CAAA,EAE7BysB,EACL,GAAGzC,EAAK,IAAI5oB,CAAO,eAAejrB,EAAO,UAAU,GACnD+kB,EACA7b,EAAuB,aAAA,CAE3B,EAUakjD,GAAmB,CAC9BrnC,EACAkG,IAEOqrB,EACL,GAAGzC,EAAK,IAAI5oB,CAAO,GACnBlG,EACA7b,EAAuB,aAAA,EAadmjD,GAAc,CACzBC,EACArhC,EACAlG,IAEOkxB,EACL,GAAGpC,EAAK,IAAI5oB,CAAO,UACnBqhC,EACAvnC,EACA7b,EAAuB,aAAA,EAUdqjD,GAAiB,CAC5BxnC,EACAkG,EACAnB,EAAiB,EACjBD,EAAgB,GAChBqB,EAA8BuC,GAAsB,yBACpDtC,EAAqB,GACrBC,EAA2ByC,GAAiB,kBACzC,CACG,MAAA7tB,EAAS,IAAI,gBACnBA,EAAO,IAAI,SAAU8pB,EAAO,SAAU,CAAA,EACtC9pB,EAAO,IAAI,QAAS6pB,GAAA,YAAAA,EAAO,UAAU,EAC9B7pB,EAAA,IAAI,OAAQkrB,CAAI,EACvBlrB,EAAO,IAAI,YAAamrB,EAAU,SAAU,CAAA,EACrCnrB,EAAA,IAAI,SAAUorB,CAAM,EAErB,MAAA3Y,EAAM,GAAGqhC,GAAa7oB,CAAO,CAAC,IAAIjrB,EAAO,SAAU,CAAA,GAClD,OAAAs2C,EACL7jC,EACAsS,EACA7b,EAAuB,aAAA,CAE3B,EAUasjD,GAAwB,CACnCC,EACA1nC,IAEOkxB,EACL,iCACAwW,EACA1nC,EACA7b,EAAuB,aAAA,EAWdwjD,GAAyB,CACpCC,EACA5nC,IAEOkxB,EACLrE,GACA+a,EACA5nC,EACA7b,EAAuB,aAAA,EAOd0jD,GAA4B,CACvCC,EACA9nC,IAEOkxB,EACLzD,GAAyBqa,EAA0B,mBAAmB,EACtEA,EACA9nC,EACA7b,EAAuB,aAAA,EAOd4jD,GAAuB,CAClCriC,EACAb,EACA7E,IACsB,CACtB,MAAMtS,EAAMogC,GACVpoB,EACAb,EAAgB,GAAGA,CAAa,GAAK,MAAA,EAEvC,OAAO0sB,EAAgB7jC,EAAKsS,EAAa7b,EAAuB,aAAa,CAC/E,EASO,SAAS6jD,GAAiClnC,EAAgB,CACxD,OAAAwvB,GAAmB,IACxBiB,EACE/D,GAAsB1sB,CAAM,EAAI,kBAChC,OACA3c,EAAuB,aACzB,CAAA,CAEJ,CAEO,SAAS8jD,GACdjoC,EACA+E,EAAS,EACTD,EAAQ,GACR,CACO,OAAAysB,EACLvD,GAAgB,WAAWjpB,CAAM,UAAUD,CAAK,GAChD9E,EACA7b,EAAuB,aAAA,CAE3B,CAEgB,SAAA+jD,GACdxiC,EACA1F,EACA,CACO,OAAAyxB,EACLxD,GAAiBvoB,CAAQ,EACzB,OACA1F,EACA7b,EAAuB,aAAA,CAE3B,CAEgB,SAAAgkD,GACdziC,EACA1F,EACA,CACO,OAAAyxB,EACLvD,GAAexoB,CAAQ,EACvB,OACA1F,EACA7b,EAAuB,aAAA,CAE3B,CAMO,SAASikD,GAAepoC,EAAiC,CACvD,OAAAuxB,EACL,6BACAvxB,EACA7b,EAAuB,aAAA,CAE3B,CAMgB,SAAAkkD,GACdroC,EACAsoC,EACA,CACO,OAAApX,EACL,qCACAoX,EACAtoC,EACA7b,EAAuB,aAAA,CAE3B,CAWA,MAAMokD,GAAsB,gDACtBC,GAAeD,GAAsB,iBACrCE,GAAcF,GAAsB,gBAQ1C,eAAsBG,IAAuC,CAEpD,OAAA,MADU,MAAM,MAAMD,EAAW,GAClB,MACxB,CAKA,eAAsBE,IAA+C,CAE3D,OAAA,MADS,MAAM,MAAMH,EAAY,GAClB,MACzB,CAKA,eAAsBI,GACpBjiC,EACoB,CACpB,MAAM7iB,EAAW,MAAM,MAAM,GAAGykD,EAAmB,GAAG5hC,CAAM,OAAO,EAC/D,OAAA7iB,EAAS,QAAU,IACb,MAAMA,EAAS,OACX,EAChB,CAMO,SAAS+kD,GACd7oC,EACA8E,EAAgB,IAChBC,EAAiB,EACjBnV,EACA,CACM,MAAA3U,EAAS,IAAI,gBACnB,OAAAA,EAAO,IAAI,QAAS6pB,EAAM,SAAU,CAAA,EACpC7pB,EAAO,IAAI,SAAU8pB,EAAO,SAAU,CAAA,EAC/B9pB,EAAA,IAAI,aAAc2U,EAAM,UAAU,EACrCA,EAAM,QAAe3U,EAAA,IAAI,SAAU2U,EAAM,MAAM,EAC/CA,EAAM,eAAsB3U,EAAA,IAAI,gBAAiB2U,EAAM,aAAa,EAEjE2hC,EACL,6BAA6Bt2C,EAAO,SAAA,CAAU,GAC9C+kB,EACA7b,EAAuB,aAAA,CAE3B,CAMgB,SAAA2kD,GACd9oC,EACA+oC,EACA,CACO,OAAAxX,EACL,yBAAyBwX,CAAc,GACvC/oC,EACA7b,EAAuB,aAAA,CAE3B,CASgB,SAAA6kD,GAAehpC,EAAiCipC,EAAc,CACrE,OAAA/X,EACL,oCACA+X,EACAjpC,EACA7b,EAAuB,aAAA,CAE3B,CAOgB,SAAA+kD,GACdlpC,EACAipC,EACA,CACO,OAAA/X,EACL,wBACA+X,EACAjpC,EACA7b,EAAuB,aAAA,CAE3B,CAMgB,SAAAglD,GACdnpC,EACA+oC,EACA,CACO,OAAAvX,GACL,yBAAyBuX,CAAc,GACvC/oC,EACA7b,EAAuB,aAAA,CAE3B,CAOgB,SAAAilD,GACdppC,EACAuB,EACA,CACO,OAAA2vB,EACL,6BACA3vB,EACAvB,EACA7b,EAAuB,aAAA,CAE3B,CAcgB,SAAAklD,GACdpjC,EACAjG,EAC4B,CACrB,OAAAuxB,EACL,mBAAmBtrB,CAAiB,qBACpCjG,EACA7b,EAAuB,aAAA,CAE3B,CAQO,SAASmlD,GACdtpC,EACA0G,EACA6iC,EACA9iC,EAAa,SACmB,CAC1B,MAAAxrB,EAAS,IAAI,gBACZ,OAAAA,EAAA,IAAI,OAAQwrB,CAAU,EACtBxrB,EAAA,IAAI,KAAMyrB,CAAQ,EACrB6iC,GACFtuD,EAAO,IAAI,OAAQsuD,EAAc,SAAU,CAAA,EAGtCjZ,GAAmB,IACxBiB,EACE,GAAGpC,EAAe,IAAIl0C,EAAO,SAAU,CAAA,GACvC+kB,EACA7b,EAAuB,aACzB,CAAA,CAEJ,CAcgB,SAAAqlD,GACdvN,EACAwN,EACAC,EACA,CACM,MAAA/3B,EAAS,IAAI,gBACZ,OAAAA,EAAA,IAAI,eAAgBsqB,CAAY,EACnCwN,GAAsBC,IACjB/3B,EAAA,IAAI,qBAAsB83B,CAAkB,EACnD93B,EAAO,IAAI,uBAAwB+3B,EAAqB,SAAU,CAAA,GAE7D,GAAG5f,GACR3lC,EAAuB,eACxB,CAAA,iCAAiCwtB,EAAO,SAAA,CAAU,EACrD,CAGa,MAAAg4B,GAAmC,CAC9CjkC,EACA1F,IAEOuxB,EACLzB,GAAwBpqB,CAAQ,EAChC1F,EACA7b,EAAuB,aAAA,EAKdylD,GAAe,CAC1BlkC,EACA1F,EACA+E,EAA0B,EAC1BD,EAAyB,GACzBqB,EAAe8D,GAAO,WACtBnD,EAA2BqD,GAAU,OAClC,CACG,MAAAlvB,EAAS,IAAI,gBACnB,OAAAA,EAAO,IAAI,SAAU8pB,EAAO,SAAU,CAAA,EACtC9pB,EAAO,IAAI,QAAS6pB,EAAM,SAAU,CAAA,EAC7B7pB,EAAA,IAAI,OAAQkrB,CAAI,EAChBlrB,EAAA,IAAI,gBAAiB6rB,CAAa,EAClCyqB,EACL,mBAAmB7rB,CAAQ,cAAczqB,EAAO,SAAU,CAAA,GAC1D+kB,EACA7b,EAAuB,aAAA,CAE3B,EAGgB,SAAA0lD,GACd7pC,EACAihC,EACAjC,EACA,CACM,MAAA/jD,EAAS,IAAI,gBACnB,OAAI+jD,GACK/jD,EAAA,IAAI,gBAAiB+jD,CAAa,EAEpCzN,EAIL,8BAA8B0P,CAAa,aAAahmD,EAAO,SAAU,CAAA,GACzE+kB,EACA7b,EAAuB,aAAA,CAE3B","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,81,82,83,84,85,88,91,92,93]}