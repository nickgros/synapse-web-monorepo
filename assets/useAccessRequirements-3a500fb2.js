import{bf as q,u,z as i,n as o,G as R}from"./SynapseClient-2be0d786.js";import{u as l}from"./useMutation-04744998.js";import{u as d}from"./useInfiniteQuery-46979ab7.js";import"./getEndpoint-ac94413e.js";import"./OrientationBanner-d057b0e6.js";import{u as Q}from"./useTheme-a5fe342b.js";import{r as k,a as h}from"./index-8db94870.js";import{E as F,F as T}from"./styled-96220216.js";import{a as K}from"./useForkRef-f2aa3d66.js";import{s as p}from"./sortBy-497f2bf5.js";function C(e,c,t,s,n){const[r,a]=k.useState(()=>n&&t?t(e).matches:s?s(e).matches:c);return K(()=>{let m=!0;if(!t)return;const y=t(e),A=()=>{m&&a(y.matches)};return A(),y.addListener(A),()=>{m=!1,y.removeListener(A)}},[e,t]),r}const S=h["useSyncExternalStore"];function w(e,c,t,s,n){const r=k.useCallback(()=>c,[c]),a=k.useMemo(()=>{if(n&&t)return()=>t(e).matches;if(s!==null){const{matches:f}=s(e);return()=>f}return r},[r,e,s,n,t]),[m,y]=k.useMemo(()=>{if(t===null)return[r,()=>()=>{}];const f=t(e);return[()=>f.matches,g=>(f.addListener(g),()=>{f.removeListener(g)})]},[r,t,e]);return S(y,m,a)}function P(e,c={}){const t=F(),s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:n=!1,matchMedia:r=s?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:m=!1}=T({name:"MuiUseMediaQuery",props:c,theme:t});let y=typeof e=="function"?e(t):e;return y=y.replace(/^@media( ?)/m,""),(S!==void 0?w:C)(y,n,r,a,m)}const v=async(e,c)=>{const t=c.map(n=>q(e,n)),s=await Promise.all(t);return p(c,n=>-1*Number(s.find(r=>n===r.accessRequirementId).isApproved))};function W(){const e=Q();return P(e.breakpoints.up("md"))}function I(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getAccessRequirementQueryKey(String(e)),()=>o.getAccessRequirementById(t,e),c)}function N(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getEntityAccessRequirementsQueryKey(e),()=>o.getAllAccessRequirements(t,e),c)}function z(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getTeamAccessRequirementsQueryKey(e),()=>o.getTeamAccessRequirements(t,e),c)}function O(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getAccessRequirementWikiPageKey(e),()=>o.getWikiPageKeyForAccessRequirement(t,e),c)}function $(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getAccessRequirementAclQueryKey(e),()=>o.getAccessRequirementAcl(t,e),c)}function H(e,c){const{accessToken:t,keyFactory:s}=u();return d(s.searchAccessRequirementsQueryKey(e),async n=>await o.searchAccessRequirements(t,{...e,nextPageToken:n.pageParam}),{...c,getNextPageParam:n=>n.nextPageToken})}function J(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getAccessRequirementRestrictionInformationQueryKey(e),()=>o.getRestrictionInformation(e,t),c)}function V(e){const{accessToken:c}=u(),t=R(),{keyFactory:s}=u();return l({...e,mutationFn:n=>o.createLockAccessRequirement(n,c),mutationKey:["createLockAccessRequirement"],onSuccess:async(n,r,a)=>{if(await t.invalidateQueries(s.getAccessRequirementQueryKey()),await t.invalidateQueries(s.getAllEntityDataQueryKey()),e!=null&&e.onSuccess)return e.onSuccess(n,r,a)}})}function X(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getAccessRequirementStatusQueryKey(e),()=>o.getAccessRequirementStatus(t,e),c)}function Y(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getSortedAccessRequirementsAndStatusQueryKey(e),()=>v(t,e),c)}function Z(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getAccessRequirementResearchProjectQueryKey(e),()=>o.getResearchProject(e,t),c)}function _(e){const{accessToken:c}=u(),t=R(),{keyFactory:s}=u();return l(n=>o.updateResearchProject(n,c),{...e,onSuccess:async(n,r,a)=>{if(await t.invalidateQueries(s.getAccessRequirementResearchProjectQueryKey(n.accessRequirementId)),e!=null&&e.onSuccess)return e.onSuccess(n,r,a)}})}function ee(e,c){const{accessToken:t,keyFactory:s}=u();return i(s.getDataAccessRequestForUpdateQueryKey(e),()=>o.getDataAccessRequestForUpdate(e,t),c)}function te(e){const{accessToken:c}=u(),t=R(),{keyFactory:s}=u();return l(n=>o.updateDataAccessRequest(n,c),{...e,onSuccess:async(n,r,a)=>{if(await t.invalidateQueries(s.getDataAccessRequestForUpdateQueryKey(n.accessRequirementId)),e!=null&&e.onSuccess)return e.onSuccess(n,r,a)}})}function se(e){const{accessToken:c}=u(),t=R(),{keyFactory:s}=u();return l(n=>o.createAccessApproval(c,n),{...e,onSuccess:async(n,r,a)=>{if(await t.invalidateQueries(s.getAccessRequirementStatusQueryKey(String(r.requirementId))),e!=null&&e.onSuccess)return e.onSuccess(n,r,a)}})}function ce(e){const{accessToken:c}=u(),t=R(),{keyFactory:s}=u();return l(n=>o.cancelDataAccessRequest(n.submissionId,c),{...e,onSuccess:async(n,r,a)=>{if(await t.invalidateQueries(s.getAccessRequirementStatusQueryKey(String(r.accessRequirementId))),e!=null&&e.onSuccess)return e.onSuccess(n,r,a)}})}export{$ as a,O as b,V as c,H as d,P as e,te as f,W as g,Z as h,_ as i,ee as j,X as k,ce as l,se as m,z as n,N as o,Y as p,J as q,I as u};
//# sourceMappingURL=useAccessRequirements-3a500fb2.js.map
