import{l as E}from"./index-84f13f70.js";import{ab as i,ac as S,ad as c}from"./SynapseClient-130f11d4.js";import{g as m,B as U}from"./getEndpoint-ac94413e.js";import{b as l,B as T,d as B,e as M,f as p,g as A,h as g,i as L}from"./SynapseConstants-71869ab2.js";import{u as N}from"./uniqueId-4d05949d.js";import{c as f}from"./cloneDeep-055c6d69.js";const R={[l]:"queryResult",[T]:"queryCount",[B]:"selectColumns",[M]:"maxRowsPerPage",[p]:"columnModels",[A]:"facets",[g]:"sumFileSizes",[L]:"lastUpdatedOn"};function d(u,r){const n=f(u);return Object.entries(R).forEach(([o,e])=>{r&parseInt(o)||delete n[e]}),n}function Y(u,r=m(U.REPO_ENDPOINT)){const n=new Map;return[E.rest.post(`${r}${i(":id")}`,async(o,e,s)=>{const t=N();return n.set(t,await o.json()),e(s.status(201),s.json({token:t}))}),E.rest.get(`${r}${S(":id")}`,async(o,e,s)=>{const t=o.params.id,a=n.get(t);if(!t||!a)return e(s.status(404),s.json({message:"The mocked asynchronous job was not found"}));const _=d(u,a.partMask);return e(s.status(201),s.json({jobState:"COMPLETE",jobCanceling:!1,requestBody:a,etag:"00000000-0000-0000-0000-000000000000",jobId:t,responseBody:_,startedByUserId:0,startedOn:"",changedOn:"",progressMessage:"",progressCurrent:100,progressTotal:100,exception:"",errorMessage:"",errorDetails:"",runtimeMS:100}))}),E.rest.get(`${r}${c(":entityId",":asyncJobToken")}`,async(o,e,s)=>{const t=o.params.asyncJobToken,a=n.get(t);if(!t||!a)return e(s.status(404),s.json({message:"The mocked asynchronous job was not found"}));const _=d(u,a.partMask);return e(s.status(201),s.json(_))})]}export{Y as g};
//# sourceMappingURL=tableQueryHandlers-06a3139d.js.map
