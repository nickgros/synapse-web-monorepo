import{l as m}from"./index-9210e01a.js";import{g as h}from"./entityHandlers-9f58291a.js";import{a as N,g as U}from"./userProfileHandlers-6d96a11d.js";import{g as j,B as C}from"./getEndpoint-ac94413e.js";import{g as H,a as v,b as w}from"./accessRequirementHandlers-b4606ef5.js";import{g as V}from"./MockSubmission-833c5bda.js";import{a as $,g as P}from"./fileHandlers-20b3e37c.js";import{g as B}from"./researchProjectHandlers-a4237d57.js";import{bl as K,bm as L,bn as k,bo as F}from"./SynapseClient-7700f4cc.js";import{m as q,b as E,d as g,M as x}from"./mock_user_profile-6e6bce0c.js";import{f as i,p as W,b as G}from"./mockProject-bc7ba736.js";import{t as Q}from"./times-c23b3cf2.js";import{n as l}from"./index-3a31b023.js";import{c as Y,b as Z,a as z}from"./tableQueryHandlers-02e93e6f.js";import{M as J}from"./mockAnnotationColumns-6525609e.js";import{g as X}from"./personalAccessTokenHandlers-ce0e6144.js";function tt(t){return{id:String(i.number.int()),etag:i.string.uuid(),...t}}function et(t){return{id:String(i.number.int()),activeAuthors:q.map(e=>String(e.id)),createdBy:String(W().id),createdOn:i.date.anytime().toISOString(),etag:i.string.uuid(),isDeleted:!1,isEdited:!1,isPinned:!1,lastActivity:i.date.anytime().toISOString(),messageKey:`${i.number.int()}/${i.number.int()}/${i.string.uuid()}`,modifiedOn:i.date.anytime().toISOString(),numberOfReplies:i.number.int({max:500}),numberOfViews:i.number.int({max:5e3}),title:i.lorem.words({min:2,max:8}),...t}}const st="984321189",O=G.map(t=>tt({projectId:t.id})),rt=O.flatMap(t=>Q(10).map(e=>et({forumId:t.id,projectId:t.projectId}))),d={id:"999",forumId:st,projectId:"123",title:"mockTitle1",createdOn:"2022-09-28",createdBy:E.ownerId,modifiedOn:"2022-09-28",etag:"xxx",messageKey:"xxx",numberOfViews:2,numberOfReplies:3,lastActivity:"2022-09-28",activeAuthors:[E.ownerId,g.ownerId],isEdited:!1,isDeleted:!1,isPinned:!1},nt={...d,id:"888",projectId:"12",title:"mockTitle2",createdBy:g.ownerId,numberOfViews:14,numberOfReplies:3};({...d,createdBy:g.ownerId,threadId:d.id});const D=[...rt,d,nt];function ot(t){return[m.rest.get(`${t}${K}/:id`,async(e,a,s)=>{let o=404,r={reason:`MSW could not find a mock forum object with ID ${e.params.id}`};const n=O.find(u=>u.id===e.params.id);return n&&(o=200,r=n),a(s.status(o),s.json(r))}),m.rest.get(`${t}${L}/:id`,async(e,a,s)=>{let o=404,r={reason:`MSW could not find a mock discussion thread bundle object with ID ${e.params.id}`};e.params.id==="messageUrl"&&(r={reason:"GET /thread/messageUrl is not yet implemented"});const n=D.find(u=>u.id===e.params.id);return n&&(o=200,r=n),a(s.status(o),s.json(r))})]}function M(t){return{subscriptionId:String(i.number.int({min:1e3,max:9999})),subscriberId:String(x),createdOn:i.date.anytime().toISOString(),...t}}const S=O.map(t=>M({objectId:t.id,objectType:l.FORUM})),b=D.map(t=>M({objectType:l.THREAD,objectId:t.id}));function at(t){return[m.rest.get(`${t}/repo/v1/subscription/all`,async(e,a,s)=>{const o=e.url.searchParams.get("objectType"),r=e.url.searchParams.get("sortDirection"),n=e.url.searchParams.get("offset"),u=e.url.searchParams.get("limit");let c=[];o===l.FORUM?c=S:o===l.THREAD&&(c=b);const f=c.length;r&&(c=c.sort((y,_)=>{const A=new Date(_.createdOn).getTime()-new Date(y.createdOn).getTime();return r==="ASC"?A:-1*A}));let p=0,T;n&&(p=parseInt(n)),u&&(T=parseInt(u)),c=c.slice(p,p+(T??0));const R={results:c,totalNumberOfResults:f};return a(s.status(200),s.json(R))}),m.rest.post(`${t}/repo/v1/subscription/list`,async(e,a,s)=>{const o=await e.json(),r=o.objectType;let n=[];r===l.FORUM?n=S:r===l.THREAD&&(n=b),n.filter(f=>o.idList.includes(f.subscriptionId));const u=n.length,c={results:n,totalNumberOfResults:u};return a(s.status(200),s.json(c))})]}const it="9614712",ut="a2b871cb-faa4-471a-8c23-b917c77fecb2",ct="My mock evaluation queue name",mt="Description for mock eval queue",lt="1131050",dt="2021-03-02T22:16:14.552Z",ft="syn5585645",pt="Mock submission instructions",It="Mock thanks for submitting",gt={id:it,etag:ut,name:ct,description:mt,ownerId:lt,createdOn:dt,contentSource:ft,submissionInstructionsMessage:pt,submissionReceiptMessage:It},I=[gt];function Ot(t){return[m.rest.get(`${t}${k(":evaluationId")}`,async(e,a,s)=>{let o=404,r={reason:`Mock Service worker could not find a mock evaluation queue with ID ${e.params.evaluationId}`};const n=I.find(u=>u.id===e.params.entityId);return n&&(r=n,o=200),a(s.status(o),s.json(r))}),m.rest.get(`${t}${F}`,async(e,a,s)=>{let o=200,r={results:I,totalNumberOfResults:I.length};return a(s.status(o),s.json(r))})]}const Tt=t=>[m.rest.options("*",async(e,a,s)=>a(s.status(200))),m.rest.get(`${t}/auth/v1/authenticatedOn`,async(e,a,s)=>a(s.status(200),s.json({authenticatedOn:new Date().toISOString()}))),...h(t),...N(t),U(t,!0,!0),...V(t),...H(t),...v(),...w(t),...$(t),...B(t),...P(t),...ot(t),...at(t),...Ot(t),Y(t),...Z(J,t),...z(t),...X(t)];Tt(j(C.REPO_ENDPOINT));export{Tt as g};
