{"version":3,"file":"usePopperMarginModifiers-95563bac.js","sources":["../../../../node_modules/.pnpm/@restart+hooks@0.4.8_react@18.2.0/node_modules/@restart/hooks/esm/useSafeState.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/popper.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/usePopper.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/safeFindDOMNode.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/ownerDocument.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/useRootClose.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/mergeOptionsWithPopperConfig.js","../../../../node_modules/.pnpm/@restart+hooks@0.4.8_react@18.2.0/node_modules/@restart/hooks/esm/useMergedRefs.js","../../../../node_modules/.pnpm/react-bootstrap@1.6.6_react-dom@18.2.0_react@18.2.0/node_modules/react-bootstrap/esm/usePopperMarginModifiers.js"],"sourcesContent":["import { useCallback } from 'react';\nimport useMounted from './useMounted';\n\nfunction useSafeState(state) {\n  var isMounted = useMounted();\n  return [state[0], useCallback(function (nextState) {\n    if (!isMounted()) return;\n    return state[1](nextState);\n  }, [isMounted, state[1]])];\n}\n\nexport default useSafeState;","import arrow from '@popperjs/core/lib/modifiers/arrow';\nimport computeStyles from '@popperjs/core/lib/modifiers/computeStyles';\nimport eventListeners from '@popperjs/core/lib/modifiers/eventListeners';\nimport flip from '@popperjs/core/lib/modifiers/flip';\nimport hide from '@popperjs/core/lib/modifiers/hide';\nimport offset from '@popperjs/core/lib/modifiers/offset';\nimport popperOffsets from '@popperjs/core/lib/modifiers/popperOffsets';\nimport preventOverflow from '@popperjs/core/lib/modifiers/preventOverflow';\nimport { placements } from '@popperjs/core/lib/enums';\nimport { popperGenerator } from '@popperjs/core/lib/popper-base'; // For the common JS build we will turn this file into a bundle with no imports.\n// This is b/c the Popper lib is all esm files, and would break in a common js only environment\n\nexport var createPopper = popperGenerator({\n  defaultModifiers: [hide, popperOffsets, computeStyles, eventListeners, offset, flip, preventOverflow, arrow]\n});\nexport { placements };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport useSafeState from '@restart/hooks/useSafeState';\nimport { createPopper } from './popper';\n\nvar initialPopperStyles = function initialPopperStyles(position) {\n  return {\n    position: position,\n    top: '0',\n    left: '0',\n    opacity: '0',\n    pointerEvents: 'none'\n  };\n};\n\nvar disabledApplyStylesModifier = {\n  name: 'applyStyles',\n  enabled: false\n}; // In order to satisfy the current usage of options, including undefined\n\nvar ariaDescribedByModifier = {\n  name: 'ariaDescribedBy',\n  enabled: true,\n  phase: 'afterWrite',\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    return function () {\n      var _state$elements = state.elements,\n          reference = _state$elements.reference,\n          popper = _state$elements.popper;\n\n      if ('removeAttribute' in reference) {\n        var ids = (reference.getAttribute('aria-describedby') || '').split(',').filter(function (id) {\n          return id.trim() !== popper.id;\n        });\n        if (!ids.length) reference.removeAttribute('aria-describedby');else reference.setAttribute('aria-describedby', ids.join(','));\n      }\n    };\n  },\n  fn: function fn(_ref2) {\n    var _popper$getAttribute;\n\n    var state = _ref2.state;\n    var _state$elements2 = state.elements,\n        popper = _state$elements2.popper,\n        reference = _state$elements2.reference;\n    var role = (_popper$getAttribute = popper.getAttribute('role')) == null ? void 0 : _popper$getAttribute.toLowerCase();\n\n    if (popper.id && role === 'tooltip' && 'setAttribute' in reference) {\n      var ids = reference.getAttribute('aria-describedby');\n\n      if (ids && ids.split(',').indexOf(popper.id) !== -1) {\n        return;\n      }\n\n      reference.setAttribute('aria-describedby', ids ? ids + \",\" + popper.id : popper.id);\n    }\n  }\n};\nvar EMPTY_MODIFIERS = [];\n/**\n * Position an element relative some reference element using Popper.js\n *\n * @param referenceElement\n * @param popperElement\n * @param {object}      options\n * @param {object=}     options.modifiers Popper.js modifiers\n * @param {boolean=}    options.enabled toggle the popper functionality on/off\n * @param {string=}     options.placement The popper element placement relative to the reference element\n * @param {string=}     options.strategy the positioning strategy\n * @param {boolean=}    options.eventsEnabled have Popper listen on window resize events to reposition the element\n * @param {function=}   options.onCreate called when the popper is created\n * @param {function=}   options.onUpdate called when the popper is updated\n *\n * @returns {UsePopperState} The popper state\n */\n\nfunction usePopper(referenceElement, popperElement, _temp) {\n  var _ref3 = _temp === void 0 ? {} : _temp,\n      _ref3$enabled = _ref3.enabled,\n      enabled = _ref3$enabled === void 0 ? true : _ref3$enabled,\n      _ref3$placement = _ref3.placement,\n      placement = _ref3$placement === void 0 ? 'bottom' : _ref3$placement,\n      _ref3$strategy = _ref3.strategy,\n      strategy = _ref3$strategy === void 0 ? 'absolute' : _ref3$strategy,\n      _ref3$modifiers = _ref3.modifiers,\n      modifiers = _ref3$modifiers === void 0 ? EMPTY_MODIFIERS : _ref3$modifiers,\n      config = _objectWithoutPropertiesLoose(_ref3, [\"enabled\", \"placement\", \"strategy\", \"modifiers\"]);\n\n  var popperInstanceRef = useRef();\n  var update = useCallback(function () {\n    var _popperInstanceRef$cu;\n\n    (_popperInstanceRef$cu = popperInstanceRef.current) == null ? void 0 : _popperInstanceRef$cu.update();\n  }, []);\n  var forceUpdate = useCallback(function () {\n    var _popperInstanceRef$cu2;\n\n    (_popperInstanceRef$cu2 = popperInstanceRef.current) == null ? void 0 : _popperInstanceRef$cu2.forceUpdate();\n  }, []);\n\n  var _useSafeState = useSafeState(useState({\n    placement: placement,\n    update: update,\n    forceUpdate: forceUpdate,\n    attributes: {},\n    styles: {\n      popper: initialPopperStyles(strategy),\n      arrow: {}\n    }\n  })),\n      popperState = _useSafeState[0],\n      setState = _useSafeState[1];\n\n  var updateModifier = useMemo(function () {\n    return {\n      name: 'updateStateModifier',\n      enabled: true,\n      phase: 'write',\n      requires: ['computeStyles'],\n      fn: function fn(_ref4) {\n        var state = _ref4.state;\n        var styles = {};\n        var attributes = {};\n        Object.keys(state.elements).forEach(function (element) {\n          styles[element] = state.styles[element];\n          attributes[element] = state.attributes[element];\n        });\n        setState({\n          state: state,\n          styles: styles,\n          attributes: attributes,\n          update: update,\n          forceUpdate: forceUpdate,\n          placement: state.placement\n        });\n      }\n    };\n  }, [update, forceUpdate, setState]);\n  useEffect(function () {\n    if (!popperInstanceRef.current || !enabled) return;\n    popperInstanceRef.current.setOptions({\n      placement: placement,\n      strategy: strategy,\n      modifiers: [].concat(modifiers, [updateModifier, disabledApplyStylesModifier])\n    }); // intentionally NOT re-running on new modifiers\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [strategy, placement, updateModifier, enabled]);\n  useEffect(function () {\n    if (!enabled || referenceElement == null || popperElement == null) {\n      return undefined;\n    }\n\n    popperInstanceRef.current = createPopper(referenceElement, popperElement, _extends({}, config, {\n      placement: placement,\n      strategy: strategy,\n      modifiers: [].concat(modifiers, [ariaDescribedByModifier, updateModifier])\n    }));\n    return function () {\n      if (popperInstanceRef.current != null) {\n        popperInstanceRef.current.destroy();\n        popperInstanceRef.current = undefined;\n        setState(function (s) {\n          return _extends({}, s, {\n            attributes: {},\n            styles: {\n              popper: initialPopperStyles(strategy)\n            }\n          });\n        });\n      }\n    }; // This is only run once to _create_ the popper\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enabled, referenceElement, popperElement]);\n  return popperState;\n}\n\nexport default usePopper;","import ReactDOM from 'react-dom';\nexport default function safeFindDOMNode(componentOrElement) {\n  if (componentOrElement && 'setState' in componentOrElement) {\n    return ReactDOM.findDOMNode(componentOrElement);\n  }\n\n  return componentOrElement != null ? componentOrElement : null;\n}","import ownerDocument from 'dom-helpers/ownerDocument';\nimport safeFindDOMNode from './safeFindDOMNode';\nexport default (function (componentOrElement) {\n  return ownerDocument(safeFindDOMNode(componentOrElement));\n});","import contains from 'dom-helpers/contains';\nimport listen from 'dom-helpers/listen';\nimport { useCallback, useEffect, useRef } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport warning from 'warning';\nimport ownerDocument from './ownerDocument';\nvar escapeKeyCode = 27;\n\nvar noop = function noop() {};\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nvar getRefTarget = function getRefTarget(ref) {\n  return ref && ('current' in ref ? ref.current : ref);\n};\n\n/**\n * The `useRootClose` hook registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n *\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\n * @param {function} onRootClose\n * @param {object=}  options\n * @param {boolean=} options.disabled\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\nfunction useRootClose(ref, onRootClose, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      disabled = _ref.disabled,\n      _ref$clickTrigger = _ref.clickTrigger,\n      clickTrigger = _ref$clickTrigger === void 0 ? 'click' : _ref$clickTrigger;\n\n  var preventMouseRootCloseRef = useRef(false);\n  var onClose = onRootClose || noop;\n  var handleMouseCapture = useCallback(function (e) {\n    var _e$composedPath$;\n\n    var currentTarget = getRefTarget(ref);\n    warning(!!currentTarget, 'RootClose captured a close event but does not have a ref to compare it to. ' + 'useRootClose(), should be passed a ref that resolves to a DOM node');\n    preventMouseRootCloseRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || !!contains(currentTarget, (_e$composedPath$ = e.composedPath == null ? void 0 : e.composedPath()[0]) != null ? _e$composedPath$ : e.target);\n  }, [ref]);\n  var handleMouse = useEventCallback(function (e) {\n    if (!preventMouseRootCloseRef.current) {\n      onClose(e);\n    }\n  });\n  var handleKeyUp = useEventCallback(function (e) {\n    if (e.keyCode === escapeKeyCode) {\n      onClose(e);\n    }\n  });\n  useEffect(function () {\n    if (disabled || ref == null) return undefined; // Store the current event to avoid triggering handlers immediately\n    // https://github.com/facebook/react/issues/20074\n\n    var currentEvent = window.event;\n    var doc = ownerDocument(getRefTarget(ref)); // Use capture for this listener so it fires before React's listener, to\n    // avoid false positives in the contains() check below if the target DOM\n    // element is removed in the React mouse callback.\n\n    var removeMouseCaptureListener = listen(doc, clickTrigger, handleMouseCapture, true);\n    var removeMouseListener = listen(doc, clickTrigger, function (e) {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n\n      handleMouse(e);\n    });\n    var removeKeyupListener = listen(doc, 'keyup', function (e) {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n\n      handleKeyUp(e);\n    });\n    var mobileSafariHackListeners = [];\n\n    if ('ontouchstart' in doc.documentElement) {\n      mobileSafariHackListeners = [].slice.call(doc.body.children).map(function (el) {\n        return listen(el, 'mousemove', noop);\n      });\n    }\n\n    return function () {\n      removeMouseCaptureListener();\n      removeMouseListener();\n      removeKeyupListener();\n      mobileSafariHackListeners.forEach(function (remove) {\n        return remove();\n      });\n    };\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleMouse, handleKeyUp]);\n}\n\nexport default useRootClose;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport function toModifierMap(modifiers) {\n  var result = {};\n\n  if (!Array.isArray(modifiers)) {\n    return modifiers || result;\n  } // eslint-disable-next-line no-unused-expressions\n\n\n  modifiers == null ? void 0 : modifiers.forEach(function (m) {\n    result[m.name] = m;\n  });\n  return result;\n}\nexport function toModifierArray(map) {\n  if (map === void 0) {\n    map = {};\n  }\n\n  if (Array.isArray(map)) return map;\n  return Object.keys(map).map(function (k) {\n    map[k].name = k;\n    return map[k];\n  });\n}\nexport default function mergeOptionsWithPopperConfig(_ref) {\n  var _modifiers$preventOve, _modifiers$preventOve2, _modifiers$offset, _modifiers$arrow;\n\n  var enabled = _ref.enabled,\n      enableEvents = _ref.enableEvents,\n      placement = _ref.placement,\n      flip = _ref.flip,\n      offset = _ref.offset,\n      fixed = _ref.fixed,\n      containerPadding = _ref.containerPadding,\n      arrowElement = _ref.arrowElement,\n      _ref$popperConfig = _ref.popperConfig,\n      popperConfig = _ref$popperConfig === void 0 ? {} : _ref$popperConfig;\n  var modifiers = toModifierMap(popperConfig.modifiers);\n  return _extends({}, popperConfig, {\n    placement: placement,\n    enabled: enabled,\n    strategy: fixed ? 'fixed' : popperConfig.strategy,\n    modifiers: toModifierArray(_extends({}, modifiers, {\n      eventListeners: {\n        enabled: enableEvents\n      },\n      preventOverflow: _extends({}, modifiers.preventOverflow, {\n        options: containerPadding ? _extends({\n          padding: containerPadding\n        }, (_modifiers$preventOve = modifiers.preventOverflow) == null ? void 0 : _modifiers$preventOve.options) : (_modifiers$preventOve2 = modifiers.preventOverflow) == null ? void 0 : _modifiers$preventOve2.options\n      }),\n      offset: {\n        options: _extends({\n          offset: offset\n        }, (_modifiers$offset = modifiers.offset) == null ? void 0 : _modifiers$offset.options)\n      },\n      arrow: _extends({}, modifiers.arrow, {\n        enabled: !!arrowElement,\n        options: _extends({}, (_modifiers$arrow = modifiers.arrow) == null ? void 0 : _modifiers$arrow.options, {\n          element: arrowElement\n        })\n      }),\n      flip: _extends({\n        enabled: !!flip\n      }, modifiers.flip)\n    }))\n  });\n}","import { useMemo } from 'react';\n\nvar toFnRef = function toFnRef(ref) {\n  return !ref || typeof ref === 'function' ? ref : function (value) {\n    ref.current = value;\n  };\n};\n\nexport function mergeRefs(refA, refB) {\n  var a = toFnRef(refA);\n  var b = toFnRef(refB);\n  return function (value) {\n    if (a) a(value);\n    if (b) b(value);\n  };\n}\n/**\n * Create and returns a single callback ref composed from two other Refs.\n *\n * ```tsx\n * const Button = React.forwardRef((props, ref) => {\n *   const [element, attachRef] = useCallbackRef<HTMLButtonElement>();\n *   const mergedRef = useMergedRefs(ref, attachRef);\n *\n *   return <button ref={mergedRef} {...props}/>\n * })\n * ```\n *\n * @param refA A Callback or mutable Ref\n * @param refB A Callback or mutable Ref\n * @category refs\n */\n\nfunction useMergedRefs(refA, refB) {\n  return useMemo(function () {\n    return mergeRefs(refA, refB);\n  }, [refA, refB]);\n}\n\nexport default useMergedRefs;","import { useCallback, useMemo, useRef } from 'react';\nimport hasClass from 'dom-helpers/hasClass';\nimport { useBootstrapPrefix } from './ThemeProvider';\n\nfunction getMargins(element) {\n  var styles = window.getComputedStyle(element);\n  var top = parseFloat(styles.marginTop) || 0;\n  var right = parseFloat(styles.marginRight) || 0;\n  var bottom = parseFloat(styles.marginBottom) || 0;\n  var left = parseFloat(styles.marginLeft) || 0;\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n}\n\nexport default function usePopperMarginModifiers() {\n  var overlayRef = useRef(null);\n  var margins = useRef(null);\n  var arrowMargins = useRef(null);\n  var popoverClass = useBootstrapPrefix(undefined, 'popover');\n  var dropdownMenuClass = useBootstrapPrefix(undefined, 'dropdown-menu');\n  var callback = useCallback(function (overlay) {\n    if (!overlay || !(hasClass(overlay, popoverClass) || hasClass(overlay, dropdownMenuClass))) return;\n    margins.current = getMargins(overlay);\n    overlay.style.margin = '0';\n    overlayRef.current = overlay;\n  }, [popoverClass, dropdownMenuClass]);\n  var offset = useMemo(function () {\n    return {\n      name: 'offset',\n      options: {\n        offset: function offset(_ref) {\n          var placement = _ref.placement;\n          if (!margins.current) return [0, 0];\n          var _margins$current = margins.current,\n              top = _margins$current.top,\n              left = _margins$current.left,\n              bottom = _margins$current.bottom,\n              right = _margins$current.right;\n\n          switch (placement.split('-')[0]) {\n            case 'top':\n              return [0, bottom];\n\n            case 'left':\n              return [0, right];\n\n            case 'bottom':\n              return [0, top];\n\n            case 'right':\n              return [0, left];\n\n            default:\n              return [0, 0];\n          }\n        }\n      }\n    };\n  }, [margins]);\n  var arrow = useMemo(function () {\n    return {\n      name: 'arrow',\n      options: {\n        padding: function padding() {\n          // The options here are used for Popper 2.8.4 and up.\n          // For earlier version, padding is handled in popoverArrowMargins below.\n          if (!arrowMargins.current) {\n            return 0;\n          }\n\n          var _arrowMargins$current = arrowMargins.current,\n              top = _arrowMargins$current.top,\n              right = _arrowMargins$current.right;\n          var padding = top || right;\n          return {\n            top: padding,\n            left: padding,\n            right: padding,\n            bottom: padding\n          };\n        }\n      }\n    };\n  }, [arrowMargins]); // Converts popover arrow margin to arrow modifier padding\n\n  var popoverArrowMargins = useMemo(function () {\n    return {\n      name: 'popoverArrowMargins',\n      enabled: true,\n      phase: 'main',\n      fn: function fn() {\n        return undefined;\n      },\n      requiresIfExists: ['arrow'],\n      effect: function effect(_ref2) {\n        var state = _ref2.state;\n\n        if (!overlayRef.current || !state.elements.arrow || !hasClass(overlayRef.current, popoverClass)) {\n          return undefined;\n        }\n\n        if (state.modifiersData['arrow#persistent']) {\n          // @popperjs/core <= 2.8.3 uses arrow#persistent to pass padding to arrow modifier.\n          var _getMargins = getMargins(state.elements.arrow),\n              top = _getMargins.top,\n              right = _getMargins.right;\n\n          var padding = top || right;\n          state.modifiersData['arrow#persistent'].padding = {\n            top: padding,\n            left: padding,\n            right: padding,\n            bottom: padding\n          };\n        } else {\n          // @popperjs/core >= 2.8.4 gets the padding from the arrow modifier options,\n          // so we'll get the margins here, and let the arrow modifier above pass\n          // it to popper.\n          arrowMargins.current = getMargins(state.elements.arrow);\n        }\n\n        state.elements.arrow.style.margin = '0';\n        return function () {\n          if (state.elements.arrow) state.elements.arrow.style.margin = '';\n        };\n      }\n    };\n  }, [popoverClass]);\n  return [callback, [offset, arrow, popoverArrowMargins]];\n}"],"names":["useSafeState","state","isMounted","useMounted","useCallback","nextState","createPopper","popperGenerator","hide","popperOffsets","computeStyles","eventListeners","offset","flip","preventOverflow","arrow","initialPopperStyles","position","disabledApplyStylesModifier","ariaDescribedByModifier","_ref","_state$elements","reference","popper","ids","id","_ref2","_popper$getAttribute","_state$elements2","role","EMPTY_MODIFIERS","usePopper","referenceElement","popperElement","_temp","_ref3","_ref3$enabled","enabled","_ref3$placement","placement","_ref3$strategy","strategy","_ref3$modifiers","modifiers","config","_objectWithoutPropertiesLoose","popperInstanceRef","useRef","update","_popperInstanceRef$cu","forceUpdate","_popperInstanceRef$cu2","_useSafeState","useState","popperState","setState","updateModifier","useMemo","_ref4","styles","attributes","element","useEffect","_extends","s","safeFindDOMNode","componentOrElement","ReactDOM","ownerDocument","escapeKeyCode","noop","isLeftClickEvent","event","isModifiedEvent","getRefTarget","ref","useRootClose","onRootClose","disabled","_ref$clickTrigger","clickTrigger","preventMouseRootCloseRef","onClose","handleMouseCapture","e","_e$composedPath$","currentTarget","contains","handleMouse","useEventCallback","handleKeyUp","currentEvent","doc","removeMouseCaptureListener","listen","removeMouseListener","removeKeyupListener","mobileSafariHackListeners","el","remove","toModifierMap","result","m","toModifierArray","map","k","mergeOptionsWithPopperConfig","_modifiers$preventOve","_modifiers$preventOve2","_modifiers$offset","_modifiers$arrow","enableEvents","fixed","containerPadding","arrowElement","_ref$popperConfig","popperConfig","toFnRef","value","mergeRefs","refA","refB","a","b","useMergedRefs","getMargins","top","right","bottom","left","usePopperMarginModifiers","overlayRef","margins","arrowMargins","popoverClass","useBootstrapPrefix","dropdownMenuClass","callback","overlay","hasClass","_margins$current","_arrowMargins$current","padding","popoverArrowMargins","_getMargins"],"mappings":"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"}