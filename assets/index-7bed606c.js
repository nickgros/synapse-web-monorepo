import{c as K}from"./_commonjsHelpers-042e6b4d.js";import{b as wr}from"./index-cc134824.js";import{a as Rr}from"./assert-a1982797.js";import{a as We,r as je}from"./util-f846e4fa.js";import{r as br,a as Or}from"./url-20d5ecc4.js";var Ct={exports:{}},pt={},bt={},Se;function Tt(){return Se||(Se=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.constants=void 0,bt.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}),bt}var At={},we;function Tr(){return we||(we=1,typeof BigInt=="function"?At.default=BigInt:At.default=function(){throw new Error("BigInt is not supported in this environment.")}),At}var Re;function Gt(){if(Re)return pt;Re=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.Stats=void 0;var u=Tt(),g=Tr(),T=u.constants.S_IFMT,P=u.constants.S_IFDIR,v=u.constants.S_IFREG,o=u.constants.S_IFBLK,s=u.constants.S_IFCHR,p=u.constants.S_IFLNK,E=u.constants.S_IFIFO,S=u.constants.S_IFSOCK,c=function(){function b(){}return b.build=function(N,D){D===void 0&&(D=!1);var F=new b,d=N.uid,R=N.gid,_=N.atime,h=N.mtime,l=N.ctime,y=D?g.default:function(C){return C};F.uid=y(d),F.gid=y(R),F.rdev=y(0),F.blksize=y(4096),F.ino=y(N.ino),F.size=y(N.getSize()),F.blocks=y(1),F.atime=_,F.mtime=h,F.ctime=l,F.birthtime=l,F.atimeMs=y(_.getTime()),F.mtimeMs=y(h.getTime());var w=y(l.getTime());return F.ctimeMs=w,F.birthtimeMs=w,F.dev=y(0),F.mode=y(N.mode),F.nlink=y(N.nlink),F},b.prototype._checkModeProperty=function(N){return(Number(this.mode)&T)===N},b.prototype.isDirectory=function(){return this._checkModeProperty(P)},b.prototype.isFile=function(){return this._checkModeProperty(v)},b.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},b.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},b.prototype.isSymbolicLink=function(){return this._checkModeProperty(p)},b.prototype.isFIFO=function(){return this._checkModeProperty(E)},b.prototype.isSocket=function(){return this._checkModeProperty(S)},b}();return pt.Stats=c,pt.default=c,pt}var vt={},Kt={},qt={},be;function $t(){return be||(be=1,function(u){var g=K&&K.__spreadArray||function(s,p,E){if(E||arguments.length===2)for(var S=0,c=p.length,b;S<c;S++)(b||!(S in p))&&(b||(b=Array.prototype.slice.call(p,0,S)),b[S]=p[S]);return s.concat(b||Array.prototype.slice.call(p))};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferFrom=u.bufferAllocUnsafe=u.Buffer=void 0;var T=wr;Object.defineProperty(u,"Buffer",{enumerable:!0,get:function(){return T.Buffer}});function P(s){for(var p=[],E=1;E<arguments.length;E++)p[E-1]=arguments[E];return new(T.Buffer.bind.apply(T.Buffer,g([void 0,s],p,!1)))}var v=T.Buffer.allocUnsafe||P;u.bufferAllocUnsafe=v;var o=T.Buffer.from||P;u.bufferFrom=o}(qt)),qt}var Yt={},Oe;function Ve(){return Oe||(Oe=1,function(u){var g=K&&K.__extends||function(){var d=function(R,_){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(h[y]=l[y])},d(R,_)};return function(R,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");d(R,_);function h(){this.constructor=R}R.prototype=_===null?Object.create(_):(h.prototype=_.prototype,new h)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.E=u.AssertionError=u.message=u.RangeError=u.TypeError=u.Error=void 0;var T=Rr,P=We(),v=typeof Symbol>"u"?"_kCode":Symbol("code"),o={};function s(d){return function(R){g(_,R);function _(h){for(var l=[],y=1;y<arguments.length;y++)l[y-1]=arguments[y];var w=R.call(this,S(h,l))||this;return w.code=h,w[v]=h,w.name="".concat(R.prototype.name," [").concat(w[v],"]"),w}return _}(d)}var p=typeof globalThis<"u"?globalThis:K,E=function(d){g(R,d);function R(_){var h=this;if(typeof _!="object"||_===null)throw new u.TypeError("ERR_INVALID_ARG_TYPE","options","object");return _.message?h=d.call(this,_.message)||this:h=d.call(this,"".concat(P.inspect(_.actual).slice(0,128)," ")+"".concat(_.operator," ").concat(P.inspect(_.expected).slice(0,128)))||this,h.generatedMessage=!_.message,h.name="AssertionError [ERR_ASSERTION]",h.code="ERR_ASSERTION",h.actual=_.actual,h.expected=_.expected,h.operator=_.operator,u.Error.captureStackTrace(h,_.stackStartFunction),h}return R}(p.Error);u.AssertionError=E;function S(d,R){T.strictEqual(typeof d,"string");var _=o[d];T(_,"An invalid error message key was used: ".concat(d,"."));var h;if(typeof _=="function")h=_;else{if(h=P.format,R===void 0||R.length===0)return _;R.unshift(_)}return String(h.apply(null,R))}u.message=S;function c(d,R){o[d]=typeof R=="function"?R:String(R)}u.E=c,u.Error=s(p.Error),u.TypeError=s(p.TypeError),u.RangeError=s(p.RangeError),c("ERR_ARG_NOT_ITERABLE","%s must be iterable"),c("ERR_ASSERTION","%s"),c("ERR_BUFFER_OUT_OF_BOUNDS",F),c("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),c("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),c("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),c("ERR_DNS_SET_SERVERS_FAILED",function(d,R){return'c-ares failed to set servers: "'.concat(d,'" [').concat(R,"]")}),c("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),c("ERR_ENCODING_NOT_SUPPORTED",function(d){return'The "'.concat(d,'" encoding is not supported')}),c("ERR_ENCODING_INVALID_ENCODED_DATA",function(d){return"The encoded data was not valid for encoding ".concat(d)}),c("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),c("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),c("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),c("ERR_INDEX_OUT_OF_RANGE","Index out of range"),c("ERR_INVALID_ARG_TYPE",b),c("ERR_INVALID_ARRAY_LENGTH",function(d,R,_){return T.strictEqual(typeof _,"number"),'The array "'.concat(d,'" (length ').concat(_,") must be of length ").concat(R,".")}),c("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),c("ERR_INVALID_CALLBACK","Callback must be a function"),c("ERR_INVALID_CHAR","Invalid character in %s"),c("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),c("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),c("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),c("ERR_INVALID_FILE_URL_PATH","File URL path %s"),c("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),c("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),c("ERR_INVALID_OPT_VALUE",function(d,R){return'The value "'.concat(String(R),'" is invalid for option "').concat(d,'"')}),c("ERR_INVALID_OPT_VALUE_ENCODING",function(d){return'The value "'.concat(String(d),'" is invalid for option "encoding"')}),c("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),c("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),c("ERR_INVALID_THIS",'Value of "this" must be of type %s'),c("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),c("ERR_INVALID_URL","Invalid URL: %s"),c("ERR_INVALID_URL_SCHEME",function(d){return"The URL must be ".concat(D(d,"scheme"))}),c("ERR_IPC_CHANNEL_CLOSED","Channel closed"),c("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),c("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),c("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),c("ERR_MISSING_ARGS",N),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),c("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),c("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),c("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),c("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),c("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),c("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),c("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),c("ERR_SOCKET_CANNOT_SEND","Unable to send data"),c("ERR_SOCKET_CLOSED","Socket is closed"),c("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),c("ERR_STDERR_CLOSE","process.stderr cannot be closed"),c("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),c("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),c("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),c("ERR_TLS_DH_PARAM_SIZE",function(d){return"DH parameter size ".concat(d," is less than 2048")}),c("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),c("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),c("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),c("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),c("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),c("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),c("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),c("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),c("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),c("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");function b(d,R,_){T(d,"name is required");var h;R.includes("not ")?(h="must not be",R=R.split("not ")[1]):h="must be";var l;if(Array.isArray(d)){var y=d.map(function(C){return'"'.concat(C,'"')}).join(", ");l="The ".concat(y," arguments ").concat(h," ").concat(D(R,"type"))}else if(d.includes(" argument"))l="The ".concat(d," ").concat(h," ").concat(D(R,"type"));else{var w=d.includes(".")?"property":"argument";l='The "'.concat(d,'" ').concat(w," ").concat(h," ").concat(D(R,"type"))}return arguments.length>=3&&(l+=". Received type ".concat(_!==null?typeof _:"null")),l}function N(){for(var d=[],R=0;R<arguments.length;R++)d[R]=arguments[R];T(d.length>0,"At least one arg needs to be specified");var _="The ",h=d.length;switch(d=d.map(function(l){return'"'.concat(l,'"')}),h){case 1:_+="".concat(d[0]," argument");break;case 2:_+="".concat(d[0]," and ").concat(d[1]," arguments");break;default:_+=d.slice(0,h-1).join(", "),_+=", and ".concat(d[h-1]," arguments");break}return"".concat(_," must be specified")}function D(d,R){if(T(d,"expected is required"),T(typeof R=="string","thing is required"),Array.isArray(d)){var _=d.length;return T(_>0,"At least one expected value needs to be specified"),d=d.map(function(h){return String(h)}),_>2?"one of ".concat(R," ").concat(d.slice(0,_-1).join(", "),", or ")+d[_-1]:_===2?"one of ".concat(R," ").concat(d[0]," or ").concat(d[1]):"of ".concat(R," ").concat(d[0])}else return"of ".concat(R," ").concat(String(d))}function F(d,R){return R?"Attempt to write outside buffer bounds":'"'.concat(d,'" is outside of buffer bounds')}}(Yt)),Yt}var Te;function Ke(){return Te||(Te=1,function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.strToEncoding=u.assertEncoding=u.ENCODING_UTF8=void 0;var g=$t(),T=Ve();u.ENCODING_UTF8="utf8";function P(o){if(o&&!g.Buffer.isEncoding(o))throw new T.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",o)}u.assertEncoding=P;function v(o,s){return!s||s===u.ENCODING_UTF8?o:s==="buffer"?new g.Buffer(o):new g.Buffer(o).toString(s)}u.strToEncoding=v}(Kt)),Kt}var Ne;function qe(){if(Ne)return vt;Ne=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.Dirent=void 0;var u=Tt(),g=Ke(),T=u.constants.S_IFMT,P=u.constants.S_IFDIR,v=u.constants.S_IFREG,o=u.constants.S_IFBLK,s=u.constants.S_IFCHR,p=u.constants.S_IFLNK,E=u.constants.S_IFIFO,S=u.constants.S_IFSOCK,c=function(){function b(){this.name="",this.mode=0}return b.build=function(N,D){var F=new b,d=N.getNode().mode;return F.name=(0,g.strToEncoding)(N.getName(),D),F.mode=d,F},b.prototype._checkModeProperty=function(N){return(this.mode&T)===N},b.prototype.isDirectory=function(){return this._checkModeProperty(P)},b.prototype.isFile=function(){return this._checkModeProperty(v)},b.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},b.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},b.prototype.isSymbolicLink=function(){return this._checkModeProperty(p)},b.prototype.isFIFO=function(){return this._checkModeProperty(E)},b.prototype.isSocket=function(){return this._checkModeProperty(S)},b}();return vt.Dirent=c,vt.default=c,vt}var Ht={},Xt,Ie;function Nr(){if(Ie)return Xt;Ie=1;function u(v){if(typeof v!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(v))}function g(v,o){for(var s="",p=0,E=-1,S=0,c,b=0;b<=v.length;++b){if(b<v.length)c=v.charCodeAt(b);else{if(c===47)break;c=47}if(c===47){if(!(E===b-1||S===1))if(E!==b-1&&S===2){if(s.length<2||p!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var N=s.lastIndexOf("/");if(N!==s.length-1){N===-1?(s="",p=0):(s=s.slice(0,N),p=s.length-1-s.lastIndexOf("/")),E=b,S=0;continue}}else if(s.length===2||s.length===1){s="",p=0,E=b,S=0;continue}}o&&(s.length>0?s+="/..":s="..",p=2)}else s.length>0?s+="/"+v.slice(E+1,b):s=v.slice(E+1,b),p=b-E-1;E=b,S=0}else c===46&&S!==-1?++S:S=-1}return s}function T(v,o){var s=o.dir||o.root,p=o.base||(o.name||"")+(o.ext||"");return s?s===o.root?s+p:s+v+p:p}var P={resolve:function(){for(var o="",s=!1,p,E=arguments.length-1;E>=-1&&!s;E--){var S;E>=0?S=arguments[E]:(p===void 0&&(p=process.cwd()),S=p),u(S),S.length!==0&&(o=S+"/"+o,s=S.charCodeAt(0)===47)}return o=g(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(u(o),o.length===0)return".";var s=o.charCodeAt(0)===47,p=o.charCodeAt(o.length-1)===47;return o=g(o,!s),o.length===0&&!s&&(o="."),o.length>0&&p&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return u(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var p=arguments[s];u(p),p.length>0&&(o===void 0?o=p:o+="/"+p)}return o===void 0?".":P.normalize(o)},relative:function(o,s){if(u(o),u(s),o===s||(o=P.resolve(o),s=P.resolve(s),o===s))return"";for(var p=1;p<o.length&&o.charCodeAt(p)===47;++p);for(var E=o.length,S=E-p,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var b=s.length,N=b-c,D=S<N?S:N,F=-1,d=0;d<=D;++d){if(d===D){if(N>D){if(s.charCodeAt(c+d)===47)return s.slice(c+d+1);if(d===0)return s.slice(c+d)}else S>D&&(o.charCodeAt(p+d)===47?F=d:d===0&&(F=0));break}var R=o.charCodeAt(p+d),_=s.charCodeAt(c+d);if(R!==_)break;R===47&&(F=d)}var h="";for(d=p+F+1;d<=E;++d)(d===E||o.charCodeAt(d)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+s.slice(c+F):(c+=F,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(o){return o},dirname:function(o){if(u(o),o.length===0)return".";for(var s=o.charCodeAt(0),p=s===47,E=-1,S=!0,c=o.length-1;c>=1;--c)if(s=o.charCodeAt(c),s===47){if(!S){E=c;break}}else S=!1;return E===-1?p?"/":".":p&&E===1?"//":o.slice(0,E)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');u(o);var p=0,E=-1,S=!0,c;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var b=s.length-1,N=-1;for(c=o.length-1;c>=0;--c){var D=o.charCodeAt(c);if(D===47){if(!S){p=c+1;break}}else N===-1&&(S=!1,N=c+1),b>=0&&(D===s.charCodeAt(b)?--b===-1&&(E=c):(b=-1,E=N))}return p===E?E=N:E===-1&&(E=o.length),o.slice(p,E)}else{for(c=o.length-1;c>=0;--c)if(o.charCodeAt(c)===47){if(!S){p=c+1;break}}else E===-1&&(S=!1,E=c+1);return E===-1?"":o.slice(p,E)}},extname:function(o){u(o);for(var s=-1,p=0,E=-1,S=!0,c=0,b=o.length-1;b>=0;--b){var N=o.charCodeAt(b);if(N===47){if(!S){p=b+1;break}continue}E===-1&&(S=!1,E=b+1),N===46?s===-1?s=b:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||E===-1||c===0||c===1&&s===E-1&&s===p+1?"":o.slice(s,E)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return T("/",o)},parse:function(o){u(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var p=o.charCodeAt(0),E=p===47,S;E?(s.root="/",S=1):S=0;for(var c=-1,b=0,N=-1,D=!0,F=o.length-1,d=0;F>=S;--F){if(p=o.charCodeAt(F),p===47){if(!D){b=F+1;break}continue}N===-1&&(D=!1,N=F+1),p===46?c===-1?c=F:d!==1&&(d=1):c!==-1&&(d=-1)}return c===-1||N===-1||d===0||d===1&&c===N-1&&c===b+1?N!==-1&&(b===0&&E?s.base=s.name=o.slice(1,N):s.base=s.name=o.slice(b,N)):(b===0&&E?(s.name=o.slice(1,c),s.base=o.slice(1,N)):(s.name=o.slice(b,c),s.base=o.slice(b,N)),s.ext=o.slice(c,N)),b>0?s.dir=o.slice(0,b-1):E&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return P.posix=P,Xt=P,Xt}var Jt={},yt={},zt={exports:{}},Fe;function Ir(){if(Fe)return zt.exports;Fe=1;var u=zt.exports={},g,T;function P(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?g=setTimeout:g=P}catch{g=P}try{typeof clearTimeout=="function"?T=clearTimeout:T=v}catch{T=v}})();function o(d){if(g===setTimeout)return setTimeout(d,0);if((g===P||!g)&&setTimeout)return g=setTimeout,setTimeout(d,0);try{return g(d,0)}catch{try{return g.call(null,d,0)}catch{return g.call(this,d,0)}}}function s(d){if(T===clearTimeout)return clearTimeout(d);if((T===v||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(d);try{return T(d)}catch{try{return T.call(null,d)}catch{return T.call(this,d)}}}var p=[],E=!1,S,c=-1;function b(){!E||!S||(E=!1,S.length?p=S.concat(p):c=-1,p.length&&N())}function N(){if(!E){var d=o(b);E=!0;for(var R=p.length;R;){for(S=p,p=[];++c<R;)S&&S[c].run();c=-1,R=p.length}S=null,E=!1,s(d)}}u.nextTick=function(d){var R=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)R[_-1]=arguments[_];p.push(new D(d,R)),p.length===1&&!E&&o(N)};function D(d,R){this.fun=d,this.array=R}D.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function F(){}return u.on=F,u.addListener=F,u.once=F,u.off=F,u.removeListener=F,u.removeAllListeners=F,u.emit=F,u.prependListener=F,u.prependOnceListener=F,u.listeners=function(d){return[]},u.binding=function(d){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(d){throw new Error("process.chdir is not supported")},u.umask=function(){return 0},zt.exports}var Pt={},ke;function Ye(){if(ke)return Pt;ke=1,Object.defineProperty(Pt,"__esModule",{value:!0});var u;return typeof setImmediate=="function"?u=setImmediate.bind(typeof globalThis<"u"?globalThis:K):u=setTimeout.bind(typeof globalThis<"u"?globalThis:K),Pt.default=u,Pt}var Ce;function He(){if(Ce)return yt;Ce=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.createProcess=void 0;var u=function(){if(typeof process<"u")return process;try{return Ir()}catch{return}};function g(){var T=u()||{};return T.cwd||(T.cwd=function(){return"/"}),T.nextTick||(T.nextTick=Ye().default),T.emitWarning||(T.emitWarning=function(P,v){console.warn("".concat(v).concat(v?": ":"").concat(P))}),T.env||(T.env={}),T}return yt.createProcess=g,yt.default=g(),yt}var Ae;function Fr(){return Ae||(Ae=1,function(u){var g=K&&K.__extends||function(){var _=function(h,l){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(y[C]=w[C])},_(h,l)};return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");_(h,l);function y(){this.constructor=h}h.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.File=u.Link=u.Node=u.SEP=void 0;var T=He(),P=$t(),v=Tt(),o=je(),s=Gt(),p=v.constants.S_IFMT,E=v.constants.S_IFDIR,S=v.constants.S_IFREG,c=v.constants.S_IFLNK,b=v.constants.O_APPEND,N=function(){var _,h;return(h=(_=T.default.getuid)===null||_===void 0?void 0:_.call(T.default))!==null&&h!==void 0?h:0},D=function(){var _,h;return(h=(_=T.default.getgid)===null||_===void 0?void 0:_.call(T.default))!==null&&h!==void 0?h:0};u.SEP="/";var F=function(_){g(h,_);function h(l,y){y===void 0&&(y=438);var w=_.call(this)||this;return w._uid=N(),w._gid=D(),w._atime=new Date,w._mtime=new Date,w._ctime=new Date,w._perm=438,w.mode=S,w._nlink=1,w._perm=y,w.mode|=y,w.ino=l,w}return Object.defineProperty(h.prototype,"ctime",{get:function(){return this._ctime},set:function(l){this._ctime=l},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"uid",{get:function(){return this._uid},set:function(l){this._uid=l,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"gid",{get:function(){return this._gid},set:function(l){this._gid=l,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"atime",{get:function(){return this._atime},set:function(l){this._atime=l,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"mtime",{get:function(){return this._mtime},set:function(l){this._mtime=l,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"perm",{get:function(){return this._perm},set:function(l){this._perm=l,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"nlink",{get:function(){return this._nlink},set:function(l){this._nlink=l,this.ctime=new Date},enumerable:!1,configurable:!0}),h.prototype.getString=function(l){return l===void 0&&(l="utf8"),this.atime=new Date,this.getBuffer().toString(l)},h.prototype.setString=function(l){this.buf=(0,P.bufferFrom)(l,"utf8"),this.touch()},h.prototype.getBuffer=function(){return this.atime=new Date,this.buf||this.setBuffer((0,P.bufferAllocUnsafe)(0)),(0,P.bufferFrom)(this.buf)},h.prototype.setBuffer=function(l){this.buf=(0,P.bufferFrom)(l),this.touch()},h.prototype.getSize=function(){return this.buf?this.buf.length:0},h.prototype.setModeProperty=function(l){this.mode=this.mode&~p|l},h.prototype.setIsFile=function(){this.setModeProperty(S)},h.prototype.setIsDirectory=function(){this.setModeProperty(E)},h.prototype.setIsSymlink=function(){this.setModeProperty(c)},h.prototype.isFile=function(){return(this.mode&p)===S},h.prototype.isDirectory=function(){return(this.mode&p)===E},h.prototype.isSymlink=function(){return(this.mode&p)===c},h.prototype.makeSymlink=function(l){this.symlink=l,this.setIsSymlink()},h.prototype.write=function(l,y,w,C){if(y===void 0&&(y=0),w===void 0&&(w=l.length),C===void 0&&(C=0),this.buf||(this.buf=(0,P.bufferAllocUnsafe)(0)),C+w>this.buf.length){var U=(0,P.bufferAllocUnsafe)(C+w);this.buf.copy(U,0,0,this.buf.length),this.buf=U}return l.copy(this.buf,C,y,y+w),this.touch(),w},h.prototype.read=function(l,y,w,C){y===void 0&&(y=0),w===void 0&&(w=l.byteLength),C===void 0&&(C=0),this.atime=new Date,this.buf||(this.buf=(0,P.bufferAllocUnsafe)(0));var U=w;return U>l.byteLength&&(U=l.byteLength),U+C>this.buf.length&&(U=this.buf.length-C),this.buf.copy(l,y,C,C+U),U},h.prototype.truncate=function(l){if(l===void 0&&(l=0),!l)this.buf=(0,P.bufferAllocUnsafe)(0);else if(this.buf||(this.buf=(0,P.bufferAllocUnsafe)(0)),l<=this.buf.length)this.buf=this.buf.slice(0,l);else{var y=(0,P.bufferAllocUnsafe)(l);this.buf.copy(y),y.fill(0,this.buf.length),this.buf=y}this.touch()},h.prototype.chmod=function(l){this.perm=l,this.mode=this.mode&-512|l,this.touch()},h.prototype.chown=function(l,y){this.uid=l,this.gid=y,this.touch()},h.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},h.prototype.canRead=function(l,y){return l===void 0&&(l=N()),y===void 0&&(y=D()),!!(this.perm&4||y===this.gid&&this.perm&32||l===this.uid&&this.perm&256)},h.prototype.canWrite=function(l,y){return l===void 0&&(l=N()),y===void 0&&(y=D()),!!(this.perm&2||y===this.gid&&this.perm&16||l===this.uid&&this.perm&128)},h.prototype.del=function(){this.emit("delete",this)},h.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},h}(o.EventEmitter);u.Node=F;var d=function(_){g(h,_);function h(l,y,w){var C=_.call(this)||this;return C.children={},C._steps=[],C.ino=0,C.length=0,C.vol=l,C.parent=y,C.name=w,C.syncSteps(),C}return Object.defineProperty(h.prototype,"steps",{get:function(){return this._steps},set:function(l){this._steps=l;for(var y=0,w=Object.entries(this.children);y<w.length;y++){var C=w[y],U=C[0],Z=C[1];U==="."||U===".."||Z==null||Z.syncSteps()}},enumerable:!1,configurable:!0}),h.prototype.setNode=function(l){this.node=l,this.ino=l.ino},h.prototype.getNode=function(){return this.node},h.prototype.createChild=function(l,y){y===void 0&&(y=this.vol.createNode());var w=new h(this.vol,this,l);return w.setNode(y),y.isDirectory()&&(w.children["."]=w,w.getNode().nlink++),this.setChild(l,w),w},h.prototype.setChild=function(l,y){y===void 0&&(y=new h(this.vol,this,l)),this.children[l]=y,y.parent=this,this.length++;var w=y.getNode();return w.isDirectory()&&(y.children[".."]=this,this.getNode().nlink++),this.getNode().mtime=new Date,this.emit("child:add",y,this),y},h.prototype.deleteChild=function(l){var y=l.getNode();y.isDirectory()&&(delete l.children[".."],this.getNode().nlink--),delete this.children[l.getName()],this.length--,this.getNode().mtime=new Date,this.emit("child:delete",l,this)},h.prototype.getChild=function(l){if(this.getNode().mtime=new Date,Object.hasOwnProperty.call(this.children,l))return this.children[l]},h.prototype.getPath=function(){return this.steps.join(u.SEP)},h.prototype.getName=function(){return this.steps[this.steps.length-1]},h.prototype.walk=function(l,y,w){if(y===void 0&&(y=l.length),w===void 0&&(w=0),w>=l.length)return this;if(w>=y)return this;var C=l[w],U=this.getChild(C);return U?U.walk(l,y,w+1):null},h.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},h.prototype.syncSteps=function(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]},h}(o.EventEmitter);u.Link=d;var R=function(){function _(h,l,y,w){this.position=0,this.link=h,this.node=l,this.flags=y,this.fd=w}return _.prototype.getString=function(h){return this.node.getString()},_.prototype.setString=function(h){this.node.setString(h)},_.prototype.getBuffer=function(){return this.node.getBuffer()},_.prototype.setBuffer=function(h){this.node.setBuffer(h)},_.prototype.getSize=function(){return this.node.getSize()},_.prototype.truncate=function(h){this.node.truncate(h)},_.prototype.seekTo=function(h){this.position=h},_.prototype.stats=function(){return s.default.build(this.node)},_.prototype.write=function(h,l,y,w){l===void 0&&(l=0),y===void 0&&(y=h.length),typeof w!="number"&&(w=this.position),this.flags&b&&(w=this.getSize());var C=this.node.write(h,l,y,w);return this.position=w+C,C},_.prototype.read=function(h,l,y,w){l===void 0&&(l=0),y===void 0&&(y=h.byteLength),typeof w!="number"&&(w=this.position);var C=this.node.read(h,l,y,w);return this.position=w+C,C},_.prototype.chmod=function(h){this.node.chmod(h)},_.prototype.chown=function(h,l){this.node.chown(h,l)},_}();u.File=R}(Jt)),Jt}var Bt={},Pe;function kr(){if(Pe)return Bt;Pe=1,Object.defineProperty(Bt,"__esModule",{value:!0});function u(g,T,P){var v=setTimeout.apply(typeof globalThis<"u"?globalThis:K,arguments);return v&&typeof v=="object"&&typeof v.unref=="function"&&v.unref(),v}return Bt.default=u,Bt}var mt={},Be;function Cr(){if(Be)return mt;Be=1;var u=K&&K.__spreadArray||function(v,o,s){if(s||arguments.length===2)for(var p=0,E=o.length,S;p<E;p++)(S||!(p in o))&&(S||(S=Array.prototype.slice.call(o,0,p)),S[p]=o[p]);return v.concat(S||Array.prototype.slice.call(o))};Object.defineProperty(mt,"__esModule",{value:!0}),mt.FileHandle=void 0;function g(v,o,s){return s===void 0&&(s=function(p){return p}),function(){for(var p=[],E=0;E<arguments.length;E++)p[E]=arguments[E];return new Promise(function(S,c){v[o].bind(v).apply(void 0,u(u([],p,!1),[function(b,N){return b?c(b):S(s(N))}],!1))})}}var T=function(){function v(o,s){this.vol=o,this.fd=s}return v.prototype.appendFile=function(o,s){return g(this.vol,"appendFile")(this.fd,o,s)},v.prototype.chmod=function(o){return g(this.vol,"fchmod")(this.fd,o)},v.prototype.chown=function(o,s){return g(this.vol,"fchown")(this.fd,o,s)},v.prototype.close=function(){return g(this.vol,"close")(this.fd)},v.prototype.datasync=function(){return g(this.vol,"fdatasync")(this.fd)},v.prototype.read=function(o,s,p,E){return g(this.vol,"read",function(S){return{bytesRead:S,buffer:o}})(this.fd,o,s,p,E)},v.prototype.readFile=function(o){return g(this.vol,"readFile")(this.fd,o)},v.prototype.stat=function(o){return g(this.vol,"fstat")(this.fd,o)},v.prototype.sync=function(){return g(this.vol,"fsync")(this.fd)},v.prototype.truncate=function(o){return g(this.vol,"ftruncate")(this.fd,o)},v.prototype.utimes=function(o,s){return g(this.vol,"futimes")(this.fd,o,s)},v.prototype.write=function(o,s,p,E){return g(this.vol,"write",function(S){return{bytesWritten:S,buffer:o}})(this.fd,o,s,p,E)},v.prototype.writeFile=function(o,s){return g(this.vol,"writeFile")(this.fd,o,s)},v}();mt.FileHandle=T;function P(v){return typeof Promise>"u"?null:{FileHandle:T,access:function(o,s){return g(v,"access")(o,s)},appendFile:function(o,s,p){return g(v,"appendFile")(o instanceof T?o.fd:o,s,p)},chmod:function(o,s){return g(v,"chmod")(o,s)},chown:function(o,s,p){return g(v,"chown")(o,s,p)},copyFile:function(o,s,p){return g(v,"copyFile")(o,s,p)},lchmod:function(o,s){return g(v,"lchmod")(o,s)},lchown:function(o,s,p){return g(v,"lchown")(o,s,p)},link:function(o,s){return g(v,"link")(o,s)},lstat:function(o,s){return g(v,"lstat")(o,s)},mkdir:function(o,s){return g(v,"mkdir")(o,s)},mkdtemp:function(o,s){return g(v,"mkdtemp")(o,s)},open:function(o,s,p){return g(v,"open",function(E){return new T(v,E)})(o,s,p)},readdir:function(o,s){return g(v,"readdir")(o,s)},readFile:function(o,s){return g(v,"readFile")(o instanceof T?o.fd:o,s)},readlink:function(o,s){return g(v,"readlink")(o,s)},realpath:function(o,s){return g(v,"realpath")(o,s)},rename:function(o,s){return g(v,"rename")(o,s)},rmdir:function(o){return g(v,"rmdir")(o)},rm:function(o,s){return g(v,"rm")(o,s)},stat:function(o,s){return g(v,"stat")(o,s)},symlink:function(o,s,p){return g(v,"symlink")(o,s,p)},truncate:function(o,s){return g(v,"truncate")(o,s)},unlink:function(o){return g(v,"unlink")(o)},utimes:function(o,s,p){return g(v,"utimes")(o,s,p)},writeFile:function(o,s,p){return g(v,"writeFile")(o instanceof T?o.fd:o,s,p)}}}return mt.default=P,mt}var Ot={},Le;function Ar(){if(Le)return Ot;Le=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.correctPath=o,Ot.unixify=v;var u=process.platform==="win32";function g(s){var p=s.length-1;if(p<2)return s;for(;T(s,p);)p--;return s.substr(0,p+1)}function T(s,p){var E=s[p];return p>0&&(E==="/"||u&&E==="\\")}function P(s,p){if(typeof s!="string")throw new TypeError("expected a string");return s=s.replace(/[\\\/]+/g,"/"),p!==!1&&(s=g(s)),s}function v(s){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return u?(s=P(s,p),s.replace(/^([a-zA-Z]+:|\.\/)/,"")):s}function o(s){return v(s.replace(/^\\\\\?\\.:\\/,"\\"))}return Ot}var De;function Pr(){return De||(De=1,function(u){var g=K&&K.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T=K&&K.__spreadArray||function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return n.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(u,"__esModule",{value:!0}),u.FSWatcher=u.StatWatcher=u.Volume=u.toUnixTimestamp=u.bufferToEncoding=u.dataToBuffer=u.dataToStr=u.pathToSteps=u.filenameToSteps=u.pathToFilename=u.flagsToNumber=u.FLAGS=void 0;var P=Nr(),v=Fr(),o=Gt(),s=qe(),p=$t(),E=Ye(),S=He(),c=kr(),b=br(),N=Tt(),D=je(),F=Ke(),d=Ve(),R=We(),_=Cr(),h=P.resolve,l=N.constants.O_RDONLY,y=N.constants.O_WRONLY,w=N.constants.O_RDWR,C=N.constants.O_CREAT,U=N.constants.O_EXCL,Z=N.constants.O_TRUNC,_t=N.constants.O_APPEND,Qt=N.constants.O_SYNC,Xe=N.constants.O_DIRECTORY,Zt=N.constants.F_OK,Je=N.constants.COPYFILE_EXCL,ze=N.constants.COPYFILE_FICLONE_FORCE,Nt=P.posix?P.posix:P,G=Nt.sep,gt=Nt.relative,Ge=Nt.join,$e=Nt.dirname,Lt=S.default.platform==="win32",Qe=128,x={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},Ze=function(n){return"Expected options to be either an object or a string, but got ".concat(n," instead")},M="ENOENT",Dt="EBADF",xt="EINVAL",xe="EPERM",tr="EPROTO",rt="EEXIST",it="ENOTDIR",te="EMFILE",ee="EACCES",Ut="EISDIR",re="ENOTEMPTY",ne="ENOSYS",ie="ERR_FS_EISDIR";function er(n,t,e,r){t===void 0&&(t=""),e===void 0&&(e=""),r===void 0&&(r="");var i="";switch(e&&(i=" '".concat(e,"'")),r&&(i+=" -> '".concat(r,"'")),n){case M:return"ENOENT: no such file or directory, ".concat(t).concat(i);case Dt:return"EBADF: bad file descriptor, ".concat(t).concat(i);case xt:return"EINVAL: invalid argument, ".concat(t).concat(i);case xe:return"EPERM: operation not permitted, ".concat(t).concat(i);case tr:return"EPROTO: protocol error, ".concat(t).concat(i);case rt:return"EEXIST: file already exists, ".concat(t).concat(i);case it:return"ENOTDIR: not a directory, ".concat(t).concat(i);case Ut:return"EISDIR: illegal operation on a directory, ".concat(t).concat(i);case ee:return"EACCES: permission denied, ".concat(t).concat(i);case re:return"ENOTEMPTY: directory not empty, ".concat(t).concat(i);case te:return"EMFILE: too many open files, ".concat(t).concat(i);case ne:return"ENOSYS: function not implemented, ".concat(t).concat(i);case ie:return"[ERR_FS_EISDIR]: Path is a directory: ".concat(t," returned EISDIR (is a directory) ").concat(e);default:return"".concat(n,": error occurred, ").concat(t).concat(i)}}function B(n,t,e,r,i){t===void 0&&(t=""),e===void 0&&(e=""),r===void 0&&(r=""),i===void 0&&(i=Error);var a=new i(er(n,t,e,r));return a.code=n,e&&(a.path=e),a}var ot;(function(n){n[n.r=l]="r",n[n["r+"]=w]="r+",n[n.rs=l|Qt]="rs",n[n.sr=n.rs]="sr",n[n["rs+"]=w|Qt]="rs+",n[n["sr+"]=n["rs+"]]="sr+",n[n.w=y|C|Z]="w",n[n.wx=y|C|Z|U]="wx",n[n.xw=n.wx]="xw",n[n["w+"]=w|C|Z]="w+",n[n["wx+"]=w|C|Z|U]="wx+",n[n["xw+"]=n["wx+"]]="xw+",n[n.a=y|_t|C]="a",n[n.ax=y|_t|C|U]="ax",n[n.xa=n.ax]="xa",n[n["a+"]=w|_t|C]="a+",n[n["ax+"]=w|_t|C|U]="ax+",n[n["xa+"]=n["ax+"]]="xa+"})(ot=u.FLAGS||(u.FLAGS={}));function st(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=ot[n];if(typeof t<"u")return t}throw new d.TypeError("ERR_INVALID_OPT_VALUE","flags",n)}u.flagsToNumber=st;function Mt(n,t){var e;if(t){var r=typeof t;switch(r){case"string":e=Object.assign({},n,{encoding:t});break;case"object":e=Object.assign({},n,t);break;default:throw TypeError(Ze(r))}}else return n;return e.encoding!=="buffer"&&(0,F.assertEncoding)(e.encoding),e}function at(n){return function(t){return Mt(n,t)}}function q(n){if(typeof n!="function")throw TypeError(x.CB);return n}function lt(n){return function(t,e){return typeof t=="function"?[n(),t]:[n(t),q(e)]}}var Wt={encoding:"utf8"},It=at(Wt),oe=lt(It),rr={flag:"r"},se=at(rr),ae={encoding:"utf8",mode:438,flag:ot[ot.w]},fe=at(ae),ue={encoding:"utf8",mode:438,flag:ot[ot.a]},ce=at(ue),nr=lt(ce),ir=Wt,le=at(ir),or=lt(le),he={mode:511,recursive:!1},de=function(n){return typeof n=="number"?Object.assign({},he,{mode:n}):Object.assign({},he,n)},sr={recursive:!1},pe=function(n){return Object.assign({},sr,n)},ar=at(Wt),fr=lt(ar),ur={encoding:"utf8",withFileTypes:!1},ve=at(ur),cr=lt(ve),lr={bigint:!1},Et=function(n){return n===void 0&&(n={}),Object.assign({},lr,n)},jt=function(n,t){return typeof n=="function"?[Et(),n]:[Et(n),q(t)]};function hr(n){if(n.hostname!=="")throw new d.TypeError("ERR_INVALID_FILE_URL_HOST",S.default.platform);for(var t=n.pathname,e=0;e<t.length;e++)if(t[e]==="%"){var r=t.codePointAt(e+2)|32;if(t[e+1]==="2"&&r===102)throw new d.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(t)}function k(n){if(typeof n!="string"&&!p.Buffer.isBuffer(n)){try{if(!(n instanceof Or().URL))throw new TypeError(x.PATH_STR)}catch{throw new TypeError(x.PATH_STR)}n=hr(n)}var t=String(n);return Vt(t),t}u.pathToFilename=k;var St=function(n,t){return t===void 0&&(t=S.default.cwd()),h(t,n)};if(Lt){var dr=St,pr=Ar().unixify;St=function(n,t){return pr(dr(n,t))}}function j(n,t){var e=St(n,t),r=e.substring(1);return r?r.split(G):[]}u.filenameToSteps=j;function vr(n){return j(k(n))}u.pathToSteps=vr;function yr(n,t){return t===void 0&&(t=F.ENCODING_UTF8),p.Buffer.isBuffer(n)?n.toString(t):n instanceof Uint8Array?(0,p.bufferFrom)(n).toString(t):String(n)}u.dataToStr=yr;function wt(n,t){return t===void 0&&(t=F.ENCODING_UTF8),p.Buffer.isBuffer(n)?n:n instanceof Uint8Array?(0,p.bufferFrom)(n):(0,p.bufferFrom)(String(n),t)}u.dataToBuffer=wt;function ye(n,t){return!t||t==="buffer"?n:n.toString(t)}u.bufferToEncoding=ye;function Vt(n,t){if((""+n).indexOf("\0")!==-1){var e=new Error("Path must be a string without null bytes");if(e.code=M,typeof t!="function")throw e;return S.default.nextTick(t,e),!1}return!0}function mr(n,t){if(typeof n=="number")return n;if(typeof n=="string")return parseInt(n,8);if(t)return Y(t)}function Y(n,t){var e=mr(n,t);if(typeof e!="number"||isNaN(e))throw new TypeError(x.MODE_INT);return e}function ft(n){return n>>>0===n}function Rt(n){if(!ft(n))throw TypeError(x.FD)}function tt(n){if(typeof n=="string"&&+n==n)return+n;if(n instanceof Date)return n.getTime()/1e3;if(isFinite(n))return n<0?Date.now()/1e3:n;throw new Error("Cannot parse time: "+n)}u.toUnixTimestamp=tt;function ht(n){if(typeof n!="number")throw TypeError(x.UID)}function dt(n){if(typeof n!="number")throw TypeError(x.GID)}function _r(n){var t={};function e(r,i){for(var a in i){var f=i[a],m=Ge(r,a);typeof f=="string"?t[m]=f:typeof f=="object"&&f!==null&&Object.keys(f).length>0?e(m,f):t[m]=null}}return e("",n),t}var gr=function(){function n(t){t===void 0&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=(0,_.default)(this),this.statWatchers={},this.props=Object.assign({Node:v.Node,Link:v.Link,File:v.File},t);var e=this.createLink();e.setNode(this.createNode(!0));var r=this;this.StatWatcher=function(f){g(m,f);function m(){return f.call(this,r)||this}return m}(me);var i=$;this.ReadStream=function(f){g(m,f);function m(){for(var O=[],I=0;I<arguments.length;I++)O[I]=arguments[I];return f.apply(this,T([r],O,!1))||this}return m}(i);var a=X;this.WriteStream=function(f){g(m,f);function m(){for(var O=[],I=0;I<arguments.length;I++)O[I]=arguments[I];return f.apply(this,T([r],O,!1))||this}return m}(a),this.FSWatcher=function(f){g(m,f);function m(){return f.call(this,r)||this}return m}(ge),e.setChild(".",e),e.getNode().nlink++,e.setChild("..",e),e.getNode().nlink++,this.root=e}return n.fromJSON=function(t,e){var r=new n;return r.fromJSON(t,e),r},n.fromNestedJSON=function(t,e){var r=new n;return r.fromNestedJSON(t,e),r},Object.defineProperty(n.prototype,"promises",{get:function(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!1,configurable:!0}),n.prototype.createLink=function(t,e,r,i){if(r===void 0&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw new Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,i))},n.prototype.deleteLink=function(t){var e=t.parent;return e?(e.deleteChild(t),!0):!1},n.prototype.newInoNumber=function(){var t=this.releasedInos.pop();return t||(this.ino=(this.ino+1)%4294967295,this.ino)},n.prototype.newFdNumber=function(){var t=this.releasedFds.pop();return typeof t=="number"?t:n.fd--},n.prototype.createNode=function(t,e){t===void 0&&(t=!1);var r=new this.props.Node(this.newInoNumber(),e);return t&&r.setIsDirectory(),this.inodes[r.ino]=r,r},n.prototype.getNode=function(t){return this.inodes[t]},n.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},n.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substring(2,8);return t.length===6?t:this.genRndStr()},n.prototype.getLink=function(t){return this.root.walk(t)},n.prototype.getLinkOrThrow=function(t,e){var r=j(t),i=this.getLink(r);if(!i)throw B(M,e,t);return i},n.prototype.getResolvedLink=function(t){for(var e=typeof t=="string"?j(t):t,r=this.root,i=0;i<e.length;){var a=e[i];if(r=r.getChild(a),!r)return null;var f=r.getNode();if(f.isSymlink()){e=f.symlink.concat(e.slice(i+1)),r=this.root,i=0;continue}i++}return r},n.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw B(M,e,t);return r},n.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},n.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw B(it,e,t);return r},n.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},n.prototype.getLinkParentAsDirOrThrow=function(t,e){var r=t instanceof Array?t:j(t),i=this.getLinkParent(r);if(!i)throw B(M,e,G+r.join(G));if(!i.getNode().isDirectory())throw B(it,e,G+r.join(G));return i},n.prototype.getFileByFd=function(t){return this.fds[String(t)]},n.prototype.getFileByFdOrThrow=function(t,e){if(!ft(t))throw TypeError(x.FD);var r=this.getFileByFd(t);if(!r)throw B(Dt,e);return r},n.prototype.wrapAsync=function(t,e,r){var i=this;q(r),(0,E.default)(function(){var a;try{a=t.apply(i,e)}catch(f){r(f);return}r(null,a)})},n.prototype._toJSON=function(t,e,r){var i;t===void 0&&(t=this.root),e===void 0&&(e={});var a=!0,f=t.children;t.getNode().isFile()&&(f=(i={},i[t.getName()]=t.parent.getChild(t.getName()),i),t=t.parent);for(var m in f)if(!(m==="."||m==="..")){a=!1;var O=t.getChild(m);if(!O)throw new Error("_toJSON: unexpected undefined");var I=O.getNode();if(I.isFile()){var A=O.getPath();r&&(A=gt(r,A)),e[A]=I.getString()}else I.isDirectory()&&this._toJSON(O,e,r)}var L=t.getPath();return r&&(L=gt(r,L)),L&&a&&(e[L]=null),e},n.prototype.toJSON=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r=!1);var i=[];if(t){t instanceof Array||(t=[t]);for(var a=0,f=t;a<f.length;a++){var m=f[a],O=k(m),I=this.getResolvedLink(O);I&&i.push(I)}}else i.push(this.root);if(!i.length)return e;for(var A=0,L=i;A<L.length;A++){var I=L[A];this._toJSON(I,e,r?I.getPath():"")}return e},n.prototype.fromJSON=function(t,e){e===void 0&&(e=S.default.cwd());for(var r in t){var i=t[r];if(r=St(r,e),typeof i=="string"){var a=$e(r);this.mkdirpBase(a,511),this.writeFileSync(r,i)}else this.mkdirpBase(r,511)}},n.prototype.fromNestedJSON=function(t,e){this.fromJSON(_r(t),e)},n.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},n.prototype.mountSync=function(t,e){this.fromJSON(e,t)},n.prototype.openLink=function(t,e,r){if(r===void 0&&(r=!0),this.openFiles>=this.maxFiles)throw B(te,"open",t.getPath());var i=t;if(r&&(i=this.resolveSymlinks(t)),!i)throw B(M,"open",t.getPath());var a=i.getNode();if(a.isDirectory()){if((e&(l|w|y))!==l)throw B(Ut,"open",t.getPath())}else if(e&Xe)throw B(it,"open",t.getPath());if(!(e&y)&&!a.canRead())throw B(ee,"open",t.getPath());var f=new this.props.File(t,a,e,this.newFdNumber());return this.fds[f.fd]=f,this.openFiles++,e&Z&&f.truncate(),f},n.prototype.openFile=function(t,e,r,i){i===void 0&&(i=!0);var a=j(t),f=i?this.getResolvedLink(a):this.getLink(a);if(f&&e&U)throw B(rt,"open",t);if(!f&&e&C){var m=this.getResolvedLink(a.slice(0,a.length-1));if(!m)throw B(M,"open",G+a.join(G));e&C&&typeof r=="number"&&(f=this.createLink(m,a[a.length-1],!1,r))}if(f)return this.openLink(f,e,i);throw B(M,"open",t)},n.prototype.openBase=function(t,e,r,i){i===void 0&&(i=!0);var a=this.openFile(t,e,r,i);if(!a)throw B(M,"open",t);return a.fd},n.prototype.openSync=function(t,e,r){r===void 0&&(r=438);var i=Y(r),a=k(t),f=st(e);return this.openBase(a,f,i)},n.prototype.open=function(t,e,r,i){var a=r,f=i;typeof r=="function"&&(a=438,f=r),a=a||438;var m=Y(a),O=k(t),I=st(e);this.wrapAsync(this.openBase,[O,I,m],f)},n.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},n.prototype.closeSync=function(t){Rt(t);var e=this.getFileByFdOrThrow(t,"close");this.closeFile(e)},n.prototype.close=function(t,e){Rt(t),this.wrapAsync(this.closeSync,[t],e)},n.prototype.openFileOrGetById=function(t,e,r){if(typeof t=="number"){var i=this.fds[t];if(!i)throw B(M);return i}else return this.openFile(k(t),e,r)},n.prototype.readBase=function(t,e,r,i,a){var f=this.getFileByFdOrThrow(t);return f.read(e,Number(r),Number(i),a)},n.prototype.readSync=function(t,e,r,i,a){return Rt(t),this.readBase(t,e,r,i,a)},n.prototype.read=function(t,e,r,i,a,f){var m=this;if(q(f),i===0)return S.default.nextTick(function(){f&&f(null,0,e)});(0,E.default)(function(){try{var O=m.readBase(t,e,r,i,a);f(null,O,e)}catch(I){f(I)}})},n.prototype.readFileBase=function(t,e,r){var i,a=typeof t=="number",f=a&&ft(t),m;if(f)m=t;else{var O=k(t),I=j(O),A=this.getResolvedLink(I);if(A){var L=A.getNode();if(L.isDirectory())throw B(Ut,"open",A.getPath())}m=this.openSync(t,e)}try{i=ye(this.getFileByFdOrThrow(m).getBuffer(),r)}finally{f||this.closeSync(m)}return i},n.prototype.readFileSync=function(t,e){var r=se(e),i=st(r.flag);return this.readFileBase(t,i,r.encoding)},n.prototype.readFile=function(t,e,r){var i=lt(se)(e,r),a=i[0],f=i[1],m=st(a.flag);this.wrapAsync(this.readFileBase,[t,m,a.encoding],f)},n.prototype.writeBase=function(t,e,r,i,a){var f=this.getFileByFdOrThrow(t,"write");return f.write(e,r,i,a)},n.prototype.writeSync=function(t,e,r,i,a){Rt(t);var f,m,O,I,A=typeof e!="string";A?(m=(r||0)|0,O=i,I=a):(I=r,f=i);var L=wt(e,f);return A?typeof O>"u"&&(O=L.length):(m=0,O=L.length),this.writeBase(t,L,m,O,I)},n.prototype.write=function(t,e,r,i,a,f){var m=this;Rt(t);var O,I,A,L,V,ut=typeof e,Q=typeof r,nt=typeof i,ct=typeof a;ut!=="string"?Q==="function"?V=r:nt==="function"?(O=r|0,V=i):ct==="function"?(O=r|0,I=i,V=a):(O=r|0,I=i,A=a,V=f):Q==="function"?V=r:nt==="function"?(A=r,V=i):ct==="function"&&(A=r,L=i,V=a);var W=wt(e,L);ut!=="string"?typeof I>"u"&&(I=W.length):(O=0,I=W.length);var J=q(V);(0,E.default)(function(){try{var z=m.writeBase(t,W,O,I,A);ut!=="string"?J(null,z,W):J(null,z,e)}catch(Ft){J(Ft)}})},n.prototype.writeFileBase=function(t,e,r,i){var a=typeof t=="number",f;a?f=t:f=this.openBase(k(t),r,i);var m=0,O=e.length,I=r&_t?void 0:0;try{for(;O>0;){var A=this.writeSync(f,e,m,O,I);m+=A,O-=A,I!==void 0&&(I+=A)}}finally{a||this.closeSync(f)}},n.prototype.writeFileSync=function(t,e,r){var i=fe(r),a=st(i.flag),f=Y(i.mode),m=wt(e,i.encoding);this.writeFileBase(t,m,a,f)},n.prototype.writeFile=function(t,e,r,i){var a=r,f=i;typeof r=="function"&&(a=ae,f=r);var m=q(f),O=fe(a),I=st(O.flag),A=Y(O.mode),L=wt(e,O.encoding);this.wrapAsync(this.writeFileBase,[t,L,I,A],m)},n.prototype.linkBase=function(t,e){var r=j(t),i=this.getLink(r);if(!i)throw B(M,"link",t,e);var a=j(e),f=this.getLinkParent(a);if(!f)throw B(M,"link",t,e);var m=a[a.length-1];if(f.getChild(m))throw B(rt,"link",t,e);var O=i.getNode();O.nlink++,f.createChild(m,O)},n.prototype.copyFileBase=function(t,e,r){var i=this.readFileSync(t);if(r&Je&&this.existsSync(e))throw B(rt,"copyFile",t,e);if(r&ze)throw B(ne,"copyFile",t,e);this.writeFileBase(e,i,ot.w,438)},n.prototype.copyFileSync=function(t,e,r){var i=k(t),a=k(e);return this.copyFileBase(i,a,(r||0)|0)},n.prototype.copyFile=function(t,e,r,i){var a=k(t),f=k(e),m,O;typeof r=="function"?(m=0,O=r):(m=r,O=i),q(O),this.wrapAsync(this.copyFileBase,[a,f,m],O)},n.prototype.linkSync=function(t,e){var r=k(t),i=k(e);this.linkBase(r,i)},n.prototype.link=function(t,e,r){var i=k(t),a=k(e);this.wrapAsync(this.linkBase,[i,a],r)},n.prototype.unlinkBase=function(t){var e=j(t),r=this.getLink(e);if(!r)throw B(M,"unlink",t);if(r.length)throw Error("Dir not empty...");this.deleteLink(r);var i=r.getNode();i.nlink--,i.nlink<=0&&this.deleteNode(i)},n.prototype.unlinkSync=function(t){var e=k(t);this.unlinkBase(e)},n.prototype.unlink=function(t,e){var r=k(t);this.wrapAsync(this.unlinkBase,[r],e)},n.prototype.symlinkBase=function(t,e){var r=j(e),i=this.getLinkParent(r);if(!i)throw B(M,"symlink",t,e);var a=r[r.length-1];if(i.getChild(a))throw B(rt,"symlink",t,e);var f=i.createChild(a);return f.getNode().makeSymlink(j(t)),f},n.prototype.symlinkSync=function(t,e,r){var i=k(t),a=k(e);this.symlinkBase(i,a)},n.prototype.symlink=function(t,e,r,i){var a=q(typeof r=="function"?r:i),f=k(t),m=k(e);this.wrapAsync(this.symlinkBase,[f,m],a)},n.prototype.realpathBase=function(t,e){var r=j(t),i=this.getResolvedLink(r);if(!i)throw B(M,"realpath",t);return(0,F.strToEncoding)(i.getPath()||"/",e)},n.prototype.realpathSync=function(t,e){return this.realpathBase(k(t),le(e).encoding)},n.prototype.realpath=function(t,e,r){var i=or(e,r),a=i[0],f=i[1],m=k(t);this.wrapAsync(this.realpathBase,[m,a.encoding],f)},n.prototype.lstatBase=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=this.getLink(j(t));if(i)return o.default.build(i.getNode(),e);if(r)throw B(M,"lstat",t)},n.prototype.lstatSync=function(t,e){var r=Et(e),i=r.throwIfNoEntry,a=i===void 0?!0:i,f=r.bigint,m=f===void 0?!1:f;return this.lstatBase(k(t),m,a)},n.prototype.lstat=function(t,e,r){var i=jt(e,r),a=i[0],f=a.throwIfNoEntry,m=f===void 0?!0:f,O=a.bigint,I=O===void 0?!1:O,A=i[1];this.wrapAsync(this.lstatBase,[k(t),I,m],A)},n.prototype.statBase=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0);var i=this.getResolvedLink(j(t));if(i)return o.default.build(i.getNode(),e);if(r)throw B(M,"stat",t)},n.prototype.statSync=function(t,e){var r=Et(e),i=r.bigint,a=i===void 0?!0:i,f=r.throwIfNoEntry,m=f===void 0?!0:f;return this.statBase(k(t),a,m)},n.prototype.stat=function(t,e,r){var i=jt(e,r),a=i[0],f=a.bigint,m=f===void 0?!1:f,O=a.throwIfNoEntry,I=O===void 0?!0:O,A=i[1];this.wrapAsync(this.statBase,[k(t),m,I],A)},n.prototype.fstatBase=function(t,e){e===void 0&&(e=!1);var r=this.getFileByFd(t);if(!r)throw B(Dt,"fstat");return o.default.build(r.node,e)},n.prototype.fstatSync=function(t,e){return this.fstatBase(t,Et(e).bigint)},n.prototype.fstat=function(t,e,r){var i=jt(e,r),a=i[0],f=i[1];this.wrapAsync(this.fstatBase,[t,a.bigint],f)},n.prototype.renameBase=function(t,e){var r=this.getLink(j(t));if(!r)throw B(M,"rename",t,e);var i=j(e),a=this.getLinkParent(i);if(!a)throw B(M,"rename",t,e);var f=r.parent;f&&f.deleteChild(r);var m=i[i.length-1];r.name=m,r.steps=T(T([],a.steps,!0),[m],!1),a.setChild(r.getName(),r)},n.prototype.renameSync=function(t,e){var r=k(t),i=k(e);this.renameBase(r,i)},n.prototype.rename=function(t,e,r){var i=k(t),a=k(e);this.wrapAsync(this.renameBase,[i,a],r)},n.prototype.existsBase=function(t){return!!this.statBase(t)},n.prototype.existsSync=function(t){try{return this.existsBase(k(t))}catch{return!1}},n.prototype.exists=function(t,e){var r=this,i=k(t);if(typeof e!="function")throw Error(x.CB);(0,E.default)(function(){try{e(r.existsBase(i))}catch{e(!1)}})},n.prototype.accessBase=function(t,e){this.getLinkOrThrow(t,"access")},n.prototype.accessSync=function(t,e){e===void 0&&(e=Zt);var r=k(t);e=e|0,this.accessBase(r,e)},n.prototype.access=function(t,e,r){var i=Zt,a;typeof e!="function"?(i=e|0,a=q(r)):a=e;var f=k(t);this.wrapAsync(this.accessBase,[f,i],a)},n.prototype.appendFileSync=function(t,e,r){r===void 0&&(r=ue);var i=ce(r);(!i.flag||ft(t))&&(i.flag="a"),this.writeFileSync(t,e,i)},n.prototype.appendFile=function(t,e,r,i){var a=nr(r,i),f=a[0],m=a[1];(!f.flag||ft(t))&&(f.flag="a"),this.writeFile(t,e,f,m)},n.prototype.readdirBase=function(t,e){var r=j(t),i=this.getResolvedLink(r);if(!i)throw B(M,"readdir",t);var a=i.getNode();if(!a.isDirectory())throw B(it,"scandir",t);if(e.withFileTypes){var f=[];for(var m in i.children){var O=i.getChild(m);!O||m==="."||m===".."||f.push(s.default.build(O,e.encoding))}return!Lt&&e.encoding!=="buffer"&&f.sort(function(L,V){return L.name<V.name?-1:L.name>V.name?1:0}),f}var I=[];for(var A in i.children)A==="."||A===".."||I.push((0,F.strToEncoding)(A,e.encoding));return!Lt&&e.encoding!=="buffer"&&I.sort(),I},n.prototype.readdirSync=function(t,e){var r=ve(e),i=k(t);return this.readdirBase(i,r)},n.prototype.readdir=function(t,e,r){var i=cr(e,r),a=i[0],f=i[1],m=k(t);this.wrapAsync(this.readdirBase,[m,a],f)},n.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink"),i=r.getNode();if(!i.isSymlink())throw B(xt,"readlink",t);var a=G+i.symlink.join(G);return(0,F.strToEncoding)(a,e)},n.prototype.readlinkSync=function(t,e){var r=It(e),i=k(t);return this.readlinkBase(i,r.encoding)},n.prototype.readlink=function(t,e,r){var i=oe(e,r),a=i[0],f=i[1],m=k(t);this.wrapAsync(this.readlinkBase,[m,a.encoding],f)},n.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},n.prototype.fsyncSync=function(t){this.fsyncBase(t)},n.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},n.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},n.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},n.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},n.prototype.ftruncateBase=function(t,e){var r=this.getFileByFdOrThrow(t,"ftruncate");r.truncate(e)},n.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},n.prototype.ftruncate=function(t,e,r){var i=typeof e=="number"?e:0,a=q(typeof e=="number"?r:e);this.wrapAsync(this.ftruncateBase,[t,i],a)},n.prototype.truncateBase=function(t,e){var r=this.openSync(t,"r+");try{this.ftruncateSync(r,e)}finally{this.closeSync(r)}},n.prototype.truncateSync=function(t,e){if(ft(t))return this.ftruncateSync(t,e);this.truncateBase(t,e)},n.prototype.truncate=function(t,e,r){var i=typeof e=="number"?e:0,a=q(typeof e=="number"?r:e);if(ft(t))return this.ftruncate(t,i,a);this.wrapAsync(this.truncateBase,[t,i],a)},n.prototype.futimesBase=function(t,e,r){var i=this.getFileByFdOrThrow(t,"futimes"),a=i.node;a.atime=new Date(e*1e3),a.mtime=new Date(r*1e3)},n.prototype.futimesSync=function(t,e,r){this.futimesBase(t,tt(e),tt(r))},n.prototype.futimes=function(t,e,r,i){this.wrapAsync(this.futimesBase,[t,tt(e),tt(r)],i)},n.prototype.utimesBase=function(t,e,r){var i=this.openSync(t,"r");try{this.futimesBase(i,e,r)}finally{this.closeSync(i)}},n.prototype.utimesSync=function(t,e,r){this.utimesBase(k(t),tt(e),tt(r))},n.prototype.utimes=function(t,e,r,i){this.wrapAsync(this.utimesBase,[k(t),tt(e),tt(r)],i)},n.prototype.mkdirBase=function(t,e){var r=j(t);if(!r.length)throw B(rt,"mkdir",t);var i=this.getLinkParentAsDirOrThrow(t,"mkdir"),a=r[r.length-1];if(i.getChild(a))throw B(rt,"mkdir",t);i.createChild(a,this.createNode(!0,e))},n.prototype.mkdirpBase=function(t,e){for(var r=St(t),i=r.substring(1),a=i?i.split(G):[],f=this.root,m=!1,O=0;O<a.length;O++){var I=a[O];if(!f.getNode().isDirectory())throw B(it,"mkdir",f.getPath());var A=f.getChild(I);if(A)if(A.getNode().isDirectory())f=A;else throw B(it,"mkdir",A.getPath());else f=f.createChild(I,this.createNode(!0,e)),m=!0}return m?r:void 0},n.prototype.mkdirSync=function(t,e){var r=de(e),i=Y(r.mode,511),a=k(t);if(r.recursive)return this.mkdirpBase(a,i);this.mkdirBase(a,i)},n.prototype.mkdir=function(t,e,r){var i=de(e),a=q(typeof e=="function"?e:r),f=Y(i.mode,511),m=k(t);i.recursive?this.wrapAsync(this.mkdirpBase,[m,f],a):this.wrapAsync(this.mkdirBase,[m,f],a)},n.prototype.mkdirpSync=function(t,e){return this.mkdirSync(t,{mode:e,recursive:!0})},n.prototype.mkdirp=function(t,e,r){var i=typeof e=="function"?void 0:e,a=q(typeof e=="function"?e:r);this.mkdir(t,{mode:i,recursive:!0},a)},n.prototype.mkdtempBase=function(t,e,r){r===void 0&&(r=5);var i=t+this.genRndStr();try{return this.mkdirBase(i,511),(0,F.strToEncoding)(i,e)}catch(a){if(a.code===rt){if(r>1)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}else throw a}},n.prototype.mkdtempSync=function(t,e){var r=It(e).encoding;if(!t||typeof t!="string")throw new TypeError("filename prefix is required");return Vt(t),this.mkdtempBase(t,r)},n.prototype.mkdtemp=function(t,e,r){var i=oe(e,r),a=i[0].encoding,f=i[1];if(!t||typeof t!="string")throw new TypeError("filename prefix is required");Vt(t)&&this.wrapAsync(this.mkdtempBase,[t,a],f)},n.prototype.rmdirBase=function(t,e){var r=pe(e),i=this.getLinkAsDirOrThrow(t,"rmdir");if(i.length&&!r.recursive)throw B(re,"rmdir",t);this.deleteLink(i)},n.prototype.rmdirSync=function(t,e){this.rmdirBase(k(t),e)},n.prototype.rmdir=function(t,e,r){var i=pe(e),a=q(typeof e=="function"?e:r);this.wrapAsync(this.rmdirBase,[k(t),i],a)},n.prototype.rmBase=function(t,e){e===void 0&&(e={});var r=this.getResolvedLink(t);if(!r){if(!e.force)throw B(M,"stat",t);return}if(r.getNode().isDirectory()&&!e.recursive)throw B(ie,"rm",t);this.deleteLink(r)},n.prototype.rmSync=function(t,e){this.rmBase(k(t),e)},n.prototype.rm=function(t,e,r){var i=fr(e,r),a=i[0],f=i[1];this.wrapAsync(this.rmBase,[k(t),a],f)},n.prototype.fchmodBase=function(t,e){var r=this.getFileByFdOrThrow(t,"fchmod");r.chmod(e)},n.prototype.fchmodSync=function(t,e){this.fchmodBase(t,Y(e))},n.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,Y(e)],r)},n.prototype.chmodBase=function(t,e){var r=this.openSync(t,"r");try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},n.prototype.chmodSync=function(t,e){var r=Y(e),i=k(t);this.chmodBase(i,r)},n.prototype.chmod=function(t,e,r){var i=Y(e),a=k(t);this.wrapAsync(this.chmodBase,[a,i],r)},n.prototype.lchmodBase=function(t,e){var r=this.openBase(t,w,0,!1);try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},n.prototype.lchmodSync=function(t,e){var r=Y(e),i=k(t);this.lchmodBase(i,r)},n.prototype.lchmod=function(t,e,r){var i=Y(e),a=k(t);this.wrapAsync(this.lchmodBase,[a,i],r)},n.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},n.prototype.fchownSync=function(t,e,r){ht(e),dt(r),this.fchownBase(t,e,r)},n.prototype.fchown=function(t,e,r,i){ht(e),dt(r),this.wrapAsync(this.fchownBase,[t,e,r],i)},n.prototype.chownBase=function(t,e,r){var i=this.getResolvedLinkOrThrow(t,"chown"),a=i.getNode();a.chown(e,r)},n.prototype.chownSync=function(t,e,r){ht(e),dt(r),this.chownBase(k(t),e,r)},n.prototype.chown=function(t,e,r,i){ht(e),dt(r),this.wrapAsync(this.chownBase,[k(t),e,r],i)},n.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},n.prototype.lchownSync=function(t,e,r){ht(e),dt(r),this.lchownBase(k(t),e,r)},n.prototype.lchown=function(t,e,r,i){ht(e),dt(r),this.wrapAsync(this.lchownBase,[k(t),e,r],i)},n.prototype.watchFile=function(t,e,r){var i=k(t),a=e,f=r;if(typeof a=="function"&&(f=e,a=null),typeof f!="function")throw Error('"watchFile()" requires a listener function');var m=5007,O=!0;a&&typeof a=="object"&&(typeof a.interval=="number"&&(m=a.interval),typeof a.persistent=="boolean"&&(O=a.persistent));var I=this.statWatchers[i];return I||(I=new this.StatWatcher,I.start(i,O,m),this.statWatchers[i]=I),I.addListener("change",f),I},n.prototype.unwatchFile=function(t,e){var r=k(t),i=this.statWatchers[r];i&&(typeof e=="function"?i.removeListener("change",e):i.removeAllListeners("change"),i.listenerCount("change")===0&&(i.stop(),delete this.statWatchers[r]))},n.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},n.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},n.prototype.watch=function(t,e,r){var i=k(t),a=e;typeof e=="function"&&(r=e,a=null);var f=It(a),m=f.persistent,O=f.recursive,I=f.encoding;m===void 0&&(m=!0),O===void 0&&(O=!1);var A=new this.FSWatcher;return A.start(i,m,O,I),r&&A.addListener("change",r),A},n.fd=2147483647,n}();u.Volume=gr;function Er(n){n.emit("stop")}var me=function(n){g(t,n);function t(e){var r=n.call(this)||this;return r.onInterval=function(){try{var i=r.vol.statSync(r.filename);r.hasChanged(i)&&(r.emit("change",i,r.prev),r.prev=i)}finally{r.loop()}},r.vol=e,r}return t.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},t.prototype.hasChanged=function(e){return e.mtimeMs>this.prev.mtimeMs||e.nlink!==this.prev.nlink},t.prototype.start=function(e,r,i){r===void 0&&(r=!0),i===void 0&&(i=5007),this.filename=k(e),this.setTimeout=r?setTimeout.bind(typeof globalThis<"u"?globalThis:K):c.default,this.interval=i,this.prev=this.vol.statSync(this.filename),this.loop()},t.prototype.stop=function(){clearTimeout(this.timeoutRef),S.default.nextTick(Er,this)},t}(D.EventEmitter);u.StatWatcher=me;var H;function Sr(n){H=(0,p.bufferAllocUnsafe)(n),H.used=0}R.inherits($,b.Readable),u.ReadStream=$;function $(n,t,e){if(!(this instanceof $))return new $(n,t,e);if(this._vol=n,e=Object.assign({},Mt(e,{})),e.highWaterMark===void 0&&(e.highWaterMark=64*1024),b.Readable.call(this,e),this.path=k(t),this.fd=e.fd===void 0?null:e.fd,this.flags=e.flags===void 0?"r":e.flags,this.mode=e.mode===void 0?438:e.mode,this.start=e.start,this.end=e.end,this.autoClose=e.autoClose===void 0?!0:e.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}$.prototype.open=function(){var n=this;this._vol.open(this.path,this.flags,this.mode,function(t,e){if(t){n.autoClose&&n.destroy&&n.destroy(),n.emit("error",t);return}n.fd=e,n.emit("open",e),n.read()})},$.prototype._read=function(n){if(typeof this.fd!="number")return this.once("open",function(){this._read(n)});if(this.destroyed)return;(!H||H.length-H.used<Qe)&&Sr(this._readableState.highWaterMark);var t=H,e=Math.min(H.length-H.used,n),r=H.used;if(this.pos!==void 0&&(e=Math.min(this.end-this.pos+1,e)),e<=0)return this.push(null);var i=this;this._vol.read(this.fd,H,H.used,e,this.pos,a),this.pos!==void 0&&(this.pos+=e),H.used+=e;function a(f,m){if(f)i.autoClose&&i.destroy&&i.destroy(),i.emit("error",f);else{var O=null;m>0&&(i.bytesRead+=m,O=t.slice(r,r+m)),i.push(O)}}},$.prototype._destroy=function(n,t){this.close(function(e){t(n||e)})},$.prototype.close=function(n){var t=this,e;if(n&&this.once("close",n),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",_e);return}return S.default.nextTick(function(){return t.emit("close")})}typeof((e=this._readableState)===null||e===void 0?void 0:e.closed)=="boolean"?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(r){r?t.emit("error",r):t.emit("close")}),this.fd=null};function _e(n){this.close()}R.inherits(X,b.Writable),u.WriteStream=X;function X(n,t,e){if(!(this instanceof X))return new X(n,t,e);if(this._vol=n,e=Object.assign({},Mt(e,{})),b.Writable.call(this,e),this.path=k(t),this.fd=e.fd===void 0?null:e.fd,this.flags=e.flags===void 0?"w":e.flags,this.mode=e.mode===void 0?438:e.mode,this.start=e.start,this.autoClose=e.autoClose===void 0?!0:!!e.autoClose,this.pos=void 0,this.bytesWritten=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}e.encoding&&this.setDefaultEncoding(e.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}X.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,(function(n,t){if(n){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",n);return}this.fd=t,this.emit("open",t)}).bind(this))},X.prototype._write=function(n,t,e){if(!(n instanceof p.Buffer||n instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(n,t,e)});var r=this;this._vol.write(this.fd,n,0,n.length,this.pos,function(i,a){if(i)return r.autoClose&&r.destroy&&r.destroy(),e(i);r.bytesWritten+=a,e()}),this.pos!==void 0&&(this.pos+=n.length)},X.prototype._writev=function(n,t){if(typeof this.fd!="number")return this.once("open",function(){this._writev(n,t)});for(var e=this,r=n.length,i=new Array(r),a=0,f=0;f<r;f++){var m=n[f].chunk;i[f]=m,a+=m.length}var O=p.Buffer.concat(i);this._vol.write(this.fd,O,0,O.length,this.pos,function(I,A){if(I)return e.destroy&&e.destroy(),t(I);e.bytesWritten+=A,t()}),this.pos!==void 0&&(this.pos+=a)},X.prototype.close=function(n){var t=this,e;if(n&&this.once("close",n),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",_e);return}return S.default.nextTick(function(){return t.emit("close")})}typeof((e=this._writableState)===null||e===void 0?void 0:e.closed)=="boolean"?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(r){r?t.emit("error",r):t.emit("close")}),this.fd=null},X.prototype._destroy=$.prototype._destroy,X.prototype.destroySoon=X.prototype.end;var ge=function(n){g(t,n);function t(e){var r=n.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=F.ENCODING_UTF8,r._listenerRemovers=new Map,r._onParentChild=function(i){i.getName()===r._getName()&&r._emit("rename")},r._emit=function(i){r.emit("change",i,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return t.prototype._getName=function(){return this._steps[this._steps.length-1]},t.prototype.start=function(e,r,i,a){var f=this;r===void 0&&(r=!0),i===void 0&&(i=!1),a===void 0&&(a=F.ENCODING_UTF8),this._filename=k(e),this._steps=j(this._filename),this._filenameEncoded=(0,F.strToEncoding)(this._filename),this._recursive=i,this._encoding=a;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(L){var m=new Error("watch ".concat(this._filename," ").concat(L.code));throw m.code=L.code,m.errno=L.code,m}var O=function(L){var V,ut=L.getPath(),Q=L.getNode(),nt=function(){var W=gt(f._filename,ut);return W||(W=f._getName()),f.emit("change","change",W)};Q.on("change",nt);var ct=(V=f._listenerRemovers.get(Q.ino))!==null&&V!==void 0?V:[];ct.push(function(){return Q.removeListener("change",nt)}),f._listenerRemovers.set(Q.ino,ct)},I=function(L){var V,ut=L.getNode(),Q=function(W){f.emit("change","rename",gt(f._filename,W.getPath())),setTimeout(function(){O(W),I(W)})},nt=function(W){var J=function(z){var Ft=z.getNode().ino,Ee=f._listenerRemovers.get(Ft);Ee&&(Ee.forEach(function(kt){return kt()}),f._listenerRemovers.delete(Ft)),Object.values(z.children).forEach(function(kt){kt&&J(kt)})};J(W),f.emit("change","rename",gt(f._filename,W.getPath()))};Object.entries(L.children).forEach(function(W){var J=W[0],z=W[1];z&&J!=="."&&J!==".."&&O(z)}),L.on("child:add",Q),L.on("child:delete",nt);var ct=(V=f._listenerRemovers.get(ut.ino))!==null&&V!==void 0?V:[];ct.push(function(){L.removeListener("child:add",Q),L.removeListener("child:delete",nt)}),i&&Object.entries(L.children).forEach(function(W){var J=W[0],z=W[1];z&&J!=="."&&J!==".."&&I(z)})};O(this._link),I(this._link);var A=this._link.parent;A&&(A.setMaxListeners(A.getMaxListeners()+1),A.on("child:delete",this._onParentChild)),r&&this._persist()},t.prototype.close=function(){clearTimeout(this._timer),this._listenerRemovers.forEach(function(r){r.forEach(function(i){return i()})}),this._listenerRemovers.clear();var e=this._link.parent;e&&e.removeListener("child:delete",this._onParentChild)},t}(D.EventEmitter);u.FSWatcher=ge}(Ht)),Ht}var et={},Ue;function Br(){if(Ue)return et;Ue=1,Object.defineProperty(et,"__esModule",{value:!0}),et.fsSyncMethods=et.fsProps=et.fsAsyncMethods=void 0;var u=["constants","F_OK","R_OK","W_OK","X_OK","Stats"];et.fsProps=u;var g=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","rmSync","createReadStream","createWriteStream"];et.fsSyncMethods=g;var T=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","rm","watchFile","unwatchFile","watch"];return et.fsAsyncMethods=T,et}var Me;function jr(){return Me||(Me=1,function(u,g){var T=K&&K.__assign||function(){return T=Object.assign||function(d){for(var R,_=1,h=arguments.length;_<h;_++){R=arguments[_];for(var l in R)Object.prototype.hasOwnProperty.call(R,l)&&(d[l]=R[l])}return d},T.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.fs=g.createFsFromVolume=g.vol=g.Volume=void 0;var P=Gt(),v=qe(),o=Pr(),s=Br(),p=s.fsSyncMethods,E=s.fsAsyncMethods,S=Tt(),c=S.constants.F_OK,b=S.constants.R_OK,N=S.constants.W_OK,D=S.constants.X_OK;g.Volume=o.Volume,g.vol=new o.Volume;function F(d){for(var R={F_OK:c,R_OK:b,W_OK:N,X_OK:D,constants:S.constants,Stats:P.default,Dirent:v.default},_=0,h=p;_<h.length;_++){var l=h[_];typeof d[l]=="function"&&(R[l]=d[l].bind(d))}for(var y=0,w=E;y<w.length;y++){var l=w[y];typeof d[l]=="function"&&(R[l]=d[l].bind(d))}return R.StatWatcher=d.StatWatcher,R.FSWatcher=d.FSWatcher,R.WriteStream=d.WriteStream,R.ReadStream=d.ReadStream,R.promises=d.promises,R._toUnixTimestamp=o.toUnixTimestamp,R}g.createFsFromVolume=F,g.fs=F(g.vol),u.exports=T(T({},u.exports),g.fs),u.exports.semantic=!0}(Ct,Ct.exports)),Ct.exports}export{Ir as a,Nr as b,jr as r};
//# sourceMappingURL=index-7bed606c.js.map
