import{_ as m}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-4abd396b.js";import{a as xo,g as To,s as no,e as bo,_ as C,f as K,h as wo}from"./styled-96220216.js";import{r as a}from"./index-8db94870.js";import{j as S}from"./jsx-runtime-095bf462.js";import{M as Eo}from"./Modal-3a262027.js";import{P as Ro}from"./Paper-8ac7942c.js";import{u as Oo}from"./useForkRef-f2aa3d66.js";import{o as Q,i as Co}from"./isHostComponent-fa76b8d9.js";import{o as Z,d as So}from"./ownerWindow-2c76219e.js";import{u as oo,G as zo}from"./Grow-15d1c4f6.js";function _o(e){return xo("MuiPopover",e)}To("MuiPopover",["root","paper"]);const Mo=["onEntering"],Wo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],$o=["slotProps"];function to(e,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=e.height/2:o==="bottom"&&(s=e.height),s}function eo(e,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=e.width/2:o==="right"&&(s=e.width),s}function ro(e){return[e.horizontal,e.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function z(e){return typeof e=="function"?e():e}const ko=e=>{const{classes:o}=e;return wo({root:["root"],paper:["paper"]},_o,o)},Do=no(Eo,{name:"MuiPopover",slot:"Root",overridesResolver:(e,o)=>o.root})({}),Ho=no(Ro,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),No=a.forwardRef(function(o,s){var _,M,W;const y=bo({props:o,name:"MuiPopover"}),{action:so,anchorEl:l,anchorOrigin:P={vertical:"top",horizontal:"left"},anchorPosition:$,anchorReference:g="anchorEl",children:io,className:ao,container:lo,elevation:k=8,marginThreshold:p=16,open:c,PaperProps:po={},slots:x,slotProps:T,transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:b=zo,transitionDuration:w="auto",TransitionProps:{onEntering:D}={}}=y,H=C(y.TransitionProps,Mo),co=C(y,Wo),f=(_=T==null?void 0:T.paper)!=null?_:po,E=a.useRef(),fo=Oo(E,f.ref),R=m({},y,{anchorOrigin:P,anchorReference:g,elevation:k,marginThreshold:p,externalPaperSlotProps:f,transformOrigin:v,TransitionComponent:b,transitionDuration:w,TransitionProps:H}),N=ko(R),j=a.useCallback(()=>{if(g==="anchorPosition")return $;const t=z(l),n=(t&&t.nodeType===1?t:Q(E.current).body).getBoundingClientRect();return{top:n.top+to(n,P.vertical),left:n.left+eo(n,P.horizontal)}},[l,P.horizontal,P.vertical,$,g]),A=a.useCallback(t=>({vertical:to(t,v.vertical),horizontal:eo(t,v.horizontal)}),[v.horizontal,v.vertical]),L=a.useCallback(t=>{const r={width:t.offsetWidth,height:t.offsetHeight},n=A(r);if(g==="none")return{top:null,left:null,transformOrigin:ro(n)};const B=j();let d=B.top-n.vertical,h=B.left-n.horizontal;const V=d+r.height,X=h+r.width,Y=Z(z(l)),q=Y.innerHeight-p,J=Y.innerWidth-p;if(d<p){const i=d-p;d-=i,n.vertical+=i}else if(V>q){const i=V-q;d-=i,n.vertical+=i}if(h<p){const i=h-p;h-=i,n.horizontal+=i}else if(X>J){const i=X-J;h-=i,n.horizontal+=i}return{top:`${Math.round(d)}px`,left:`${Math.round(h)}px`,transformOrigin:ro(n)}},[l,g,j,A,p]),[uo,U]=a.useState(c),u=a.useCallback(()=>{const t=E.current;if(!t)return;const r=L(t);r.top!==null&&(t.style.top=r.top),r.left!==null&&(t.style.left=r.left),t.style.transformOrigin=r.transformOrigin,U(!0)},[L]),ho=(t,r)=>{D&&D(t,r),u()},mo=()=>{U(!1)};a.useEffect(()=>{c&&u()}),a.useImperativeHandle(so,()=>c?{updatePosition:()=>{u()}}:null,[c,u]),a.useEffect(()=>{if(!c)return;const t=So(()=>{u()}),r=Z(l);return r.addEventListener("resize",t),()=>{t.clear(),r.removeEventListener("resize",t)}},[l,c,u]);let F=w;w==="auto"&&!b.muiSupportAuto&&(F=void 0);const Po=lo||(l?Q(z(l)).body:void 0),O=(M=x==null?void 0:x.root)!=null?M:Do,G=(W=x==null?void 0:x.paper)!=null?W:Ho,go=oo({elementType:G,externalSlotProps:m({},f,{style:uo?f.style:m({},f.style,{opacity:0})}),additionalProps:{elevation:k,ref:fo},ownerState:R,className:K(N.paper,f==null?void 0:f.className)}),I=oo({elementType:O,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:co,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:Po,open:c},ownerState:R,className:K(N.root,ao)}),{slotProps:vo}=I,yo=C(I,$o);return S(O,m({},yo,!Co(O)&&{slotProps:vo},{children:S(b,m({appear:!0,in:c,onEntering:ho,onExited:mo,timeout:F},H,{children:S(G,m({},go,{children:io}))}))}))}),Yo=No;export{Yo as P,Ho as a};
//# sourceMappingURL=Popover-3ba117be.js.map
