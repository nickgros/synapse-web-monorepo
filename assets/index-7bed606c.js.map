{"version":3,"file":"index-7bed606c.js","sources":["../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/constants.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/getBigInt.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/Stats.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/internal/buffer.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/internal/errors.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/encoding.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/Dirent.js","../../../../node_modules/.pnpm/path-browserify@1.0.1/node_modules/path-browserify/index.js","../../../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/setImmediate.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/process.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/node.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/setTimeoutUnref.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/promises.js","../../../../node_modules/.pnpm/fs-monkey@1.0.4/node_modules/fs-monkey/lib/correctPath.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/volume.js","../../../../node_modules/.pnpm/fs-monkey@1.0.4/node_modules/fs-monkey/lib/util/lists.js","../../../../node_modules/.pnpm/memfs@3.5.3/node_modules/memfs/lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.constants = void 0;\nexports.constants = {\n    O_RDONLY: 0,\n    O_WRONLY: 1,\n    O_RDWR: 2,\n    S_IFMT: 61440,\n    S_IFREG: 32768,\n    S_IFDIR: 16384,\n    S_IFCHR: 8192,\n    S_IFBLK: 24576,\n    S_IFIFO: 4096,\n    S_IFLNK: 40960,\n    S_IFSOCK: 49152,\n    O_CREAT: 64,\n    O_EXCL: 128,\n    O_NOCTTY: 256,\n    O_TRUNC: 512,\n    O_APPEND: 1024,\n    O_DIRECTORY: 65536,\n    O_NOATIME: 262144,\n    O_NOFOLLOW: 131072,\n    O_SYNC: 1052672,\n    O_DIRECT: 16384,\n    O_NONBLOCK: 2048,\n    S_IRWXU: 448,\n    S_IRUSR: 256,\n    S_IWUSR: 128,\n    S_IXUSR: 64,\n    S_IRWXG: 56,\n    S_IRGRP: 32,\n    S_IWGRP: 16,\n    S_IXGRP: 8,\n    S_IRWXO: 7,\n    S_IROTH: 4,\n    S_IWOTH: 2,\n    S_IXOTH: 1,\n    F_OK: 0,\n    R_OK: 4,\n    W_OK: 2,\n    X_OK: 1,\n    UV_FS_SYMLINK_DIR: 1,\n    UV_FS_SYMLINK_JUNCTION: 2,\n    UV_FS_COPYFILE_EXCL: 1,\n    UV_FS_COPYFILE_FICLONE: 2,\n    UV_FS_COPYFILE_FICLONE_FORCE: 4,\n    COPYFILE_EXCL: 1,\n    COPYFILE_FICLONE: 2,\n    COPYFILE_FICLONE_FORCE: 4,\n};\n","if (typeof BigInt === 'function') exports.default = BigInt;\nelse\n  exports.default = function BigIntNotSupported() {\n    throw new Error('BigInt is not supported in this environment.');\n  };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stats = void 0;\nvar constants_1 = require(\"./constants\");\nvar getBigInt_1 = require(\"./getBigInt\");\nvar S_IFMT = constants_1.constants.S_IFMT, S_IFDIR = constants_1.constants.S_IFDIR, S_IFREG = constants_1.constants.S_IFREG, S_IFBLK = constants_1.constants.S_IFBLK, S_IFCHR = constants_1.constants.S_IFCHR, S_IFLNK = constants_1.constants.S_IFLNK, S_IFIFO = constants_1.constants.S_IFIFO, S_IFSOCK = constants_1.constants.S_IFSOCK;\n/**\n * Statistics about a file/directory, like `fs.Stats`.\n */\nvar Stats = /** @class */ (function () {\n    function Stats() {\n    }\n    Stats.build = function (node, bigint) {\n        if (bigint === void 0) { bigint = false; }\n        var stats = new Stats();\n        var uid = node.uid, gid = node.gid, atime = node.atime, mtime = node.mtime, ctime = node.ctime;\n        var getStatNumber = !bigint ? function (number) { return number; } : getBigInt_1.default;\n        // Copy all values on Stats from Node, so that if Node values\n        // change, values on Stats would still be the old ones,\n        // just like in Node fs.\n        stats.uid = getStatNumber(uid);\n        stats.gid = getStatNumber(gid);\n        stats.rdev = getStatNumber(0);\n        stats.blksize = getStatNumber(4096);\n        stats.ino = getStatNumber(node.ino);\n        stats.size = getStatNumber(node.getSize());\n        stats.blocks = getStatNumber(1);\n        stats.atime = atime;\n        stats.mtime = mtime;\n        stats.ctime = ctime;\n        stats.birthtime = ctime;\n        stats.atimeMs = getStatNumber(atime.getTime());\n        stats.mtimeMs = getStatNumber(mtime.getTime());\n        var ctimeMs = getStatNumber(ctime.getTime());\n        stats.ctimeMs = ctimeMs;\n        stats.birthtimeMs = ctimeMs;\n        stats.dev = getStatNumber(0);\n        stats.mode = getStatNumber(node.mode);\n        stats.nlink = getStatNumber(node.nlink);\n        return stats;\n    };\n    Stats.prototype._checkModeProperty = function (property) {\n        return (Number(this.mode) & S_IFMT) === property;\n    };\n    Stats.prototype.isDirectory = function () {\n        return this._checkModeProperty(S_IFDIR);\n    };\n    Stats.prototype.isFile = function () {\n        return this._checkModeProperty(S_IFREG);\n    };\n    Stats.prototype.isBlockDevice = function () {\n        return this._checkModeProperty(S_IFBLK);\n    };\n    Stats.prototype.isCharacterDevice = function () {\n        return this._checkModeProperty(S_IFCHR);\n    };\n    Stats.prototype.isSymbolicLink = function () {\n        return this._checkModeProperty(S_IFLNK);\n    };\n    Stats.prototype.isFIFO = function () {\n        return this._checkModeProperty(S_IFIFO);\n    };\n    Stats.prototype.isSocket = function () {\n        return this._checkModeProperty(S_IFSOCK);\n    };\n    return Stats;\n}());\nexports.Stats = Stats;\nexports.default = Stats;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferFrom = exports.bufferAllocUnsafe = exports.Buffer = void 0;\nvar buffer_1 = require(\"buffer\");\nObject.defineProperty(exports, \"Buffer\", { enumerable: true, get: function () { return buffer_1.Buffer; } });\nfunction bufferV0P12Ponyfill(arg0) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return new (buffer_1.Buffer.bind.apply(buffer_1.Buffer, __spreadArray([void 0, arg0], args, false)))();\n}\nvar bufferAllocUnsafe = buffer_1.Buffer.allocUnsafe || bufferV0P12Ponyfill;\nexports.bufferAllocUnsafe = bufferAllocUnsafe;\nvar bufferFrom = buffer_1.Buffer.from || bufferV0P12Ponyfill;\nexports.bufferFrom = bufferFrom;\n","\"use strict\";\n// The whole point behind this internal module is to allow Node.js to no\n// longer be forced to treat every error message change as a semver-major\n// change. The NodeError classes here all expose a `code` property whose\n// value statically and permanently identifies the error. While the error\n// message may change, the code should not.\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.E = exports.AssertionError = exports.message = exports.RangeError = exports.TypeError = exports.Error = void 0;\nvar assert = require(\"assert\");\nvar util = require(\"util\");\nvar kCode = typeof Symbol === 'undefined' ? '_kCode' : Symbol('code');\nvar messages = {}; // new Map();\nfunction makeNodeError(Base) {\n    return /** @class */ (function (_super) {\n        __extends(NodeError, _super);\n        function NodeError(key) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var _this = _super.call(this, message(key, args)) || this;\n            _this.code = key;\n            _this[kCode] = key;\n            _this.name = \"\".concat(_super.prototype.name, \" [\").concat(_this[kCode], \"]\");\n            return _this;\n        }\n        return NodeError;\n    }(Base));\n}\nvar g = typeof globalThis !== 'undefined' ? globalThis : global;\nvar AssertionError = /** @class */ (function (_super) {\n    __extends(AssertionError, _super);\n    function AssertionError(options) {\n        var _this = this;\n        if (typeof options !== 'object' || options === null) {\n            throw new exports.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'object');\n        }\n        if (options.message) {\n            _this = _super.call(this, options.message) || this;\n        }\n        else {\n            _this = _super.call(this, \"\".concat(util.inspect(options.actual).slice(0, 128), \" \") +\n                \"\".concat(options.operator, \" \").concat(util.inspect(options.expected).slice(0, 128))) || this;\n        }\n        _this.generatedMessage = !options.message;\n        _this.name = 'AssertionError [ERR_ASSERTION]';\n        _this.code = 'ERR_ASSERTION';\n        _this.actual = options.actual;\n        _this.expected = options.expected;\n        _this.operator = options.operator;\n        exports.Error.captureStackTrace(_this, options.stackStartFunction);\n        return _this;\n    }\n    return AssertionError;\n}(g.Error));\nexports.AssertionError = AssertionError;\nfunction message(key, args) {\n    assert.strictEqual(typeof key, 'string');\n    // const msg = messages.get(key);\n    var msg = messages[key];\n    assert(msg, \"An invalid error message key was used: \".concat(key, \".\"));\n    var fmt;\n    if (typeof msg === 'function') {\n        fmt = msg;\n    }\n    else {\n        fmt = util.format;\n        if (args === undefined || args.length === 0)\n            return msg;\n        args.unshift(msg);\n    }\n    return String(fmt.apply(null, args));\n}\nexports.message = message;\n// Utility function for registering the error codes. Only used here. Exported\n// *only* to allow for testing.\nfunction E(sym, val) {\n    messages[sym] = typeof val === 'function' ? val : String(val);\n}\nexports.E = E;\nexports.Error = makeNodeError(g.Error);\nexports.TypeError = makeNodeError(g.TypeError);\nexports.RangeError = makeNodeError(g.RangeError);\n// To declare an error message, use the E(sym, val) function above. The sym\n// must be an upper case string. The val can be either a function or a string.\n// The return value of the function must be a string.\n// Examples:\n// E('EXAMPLE_KEY1', 'This is the error value');\n// E('EXAMPLE_KEY2', (a, b) => return `${a} ${b}`);\n//\n// Once an error code has been assigned, the code itself MUST NOT change and\n// any given error code must never be reused to identify a different error.\n//\n// Any error code added here should also be added to the documentation\n//\n// Note: Please try to keep these in alphabetical order\nE('ERR_ARG_NOT_ITERABLE', '%s must be iterable');\nE('ERR_ASSERTION', '%s');\nE('ERR_BUFFER_OUT_OF_BOUNDS', bufferOutOfBounds);\nE('ERR_CHILD_CLOSED_BEFORE_REPLY', 'Child closed before reply received');\nE('ERR_CONSOLE_WRITABLE_STREAM', 'Console expects a writable stream instance for %s');\nE('ERR_CPU_USAGE', 'Unable to obtain cpu usage %s');\nE('ERR_DNS_SET_SERVERS_FAILED', function (err, servers) { return \"c-ares failed to set servers: \\\"\".concat(err, \"\\\" [\").concat(servers, \"]\"); });\nE('ERR_FALSY_VALUE_REJECTION', 'Promise was rejected with falsy value');\nE('ERR_ENCODING_NOT_SUPPORTED', function (enc) { return \"The \\\"\".concat(enc, \"\\\" encoding is not supported\"); });\nE('ERR_ENCODING_INVALID_ENCODED_DATA', function (enc) { return \"The encoded data was not valid for encoding \".concat(enc); });\nE('ERR_HTTP_HEADERS_SENT', 'Cannot render headers after they are sent to the client');\nE('ERR_HTTP_INVALID_STATUS_CODE', 'Invalid status code: %s');\nE('ERR_HTTP_TRAILER_INVALID', 'Trailers are invalid with this transfer encoding');\nE('ERR_INDEX_OUT_OF_RANGE', 'Index out of range');\nE('ERR_INVALID_ARG_TYPE', invalidArgType);\nE('ERR_INVALID_ARRAY_LENGTH', function (name, len, actual) {\n    assert.strictEqual(typeof actual, 'number');\n    return \"The array \\\"\".concat(name, \"\\\" (length \").concat(actual, \") must be of length \").concat(len, \".\");\n});\nE('ERR_INVALID_BUFFER_SIZE', 'Buffer size must be a multiple of %s');\nE('ERR_INVALID_CALLBACK', 'Callback must be a function');\nE('ERR_INVALID_CHAR', 'Invalid character in %s');\nE('ERR_INVALID_CURSOR_POS', 'Cannot set cursor row without setting its column');\nE('ERR_INVALID_FD', '\"fd\" must be a positive integer: %s');\nE('ERR_INVALID_FILE_URL_HOST', 'File URL host must be \"localhost\" or empty on %s');\nE('ERR_INVALID_FILE_URL_PATH', 'File URL path %s');\nE('ERR_INVALID_HANDLE_TYPE', 'This handle type cannot be sent');\nE('ERR_INVALID_IP_ADDRESS', 'Invalid IP address: %s');\nE('ERR_INVALID_OPT_VALUE', function (name, value) {\n    return \"The value \\\"\".concat(String(value), \"\\\" is invalid for option \\\"\").concat(name, \"\\\"\");\n});\nE('ERR_INVALID_OPT_VALUE_ENCODING', function (value) { return \"The value \\\"\".concat(String(value), \"\\\" is invalid for option \\\"encoding\\\"\"); });\nE('ERR_INVALID_REPL_EVAL_CONFIG', 'Cannot specify both \"breakEvalOnSigint\" and \"eval\" for REPL');\nE('ERR_INVALID_SYNC_FORK_INPUT', 'Asynchronous forks do not support Buffer, Uint8Array or string input: %s');\nE('ERR_INVALID_THIS', 'Value of \"this\" must be of type %s');\nE('ERR_INVALID_TUPLE', '%s must be an iterable %s tuple');\nE('ERR_INVALID_URL', 'Invalid URL: %s');\nE('ERR_INVALID_URL_SCHEME', function (expected) { return \"The URL must be \".concat(oneOf(expected, 'scheme')); });\nE('ERR_IPC_CHANNEL_CLOSED', 'Channel closed');\nE('ERR_IPC_DISCONNECTED', 'IPC channel is already disconnected');\nE('ERR_IPC_ONE_PIPE', 'Child process can have only one IPC pipe');\nE('ERR_IPC_SYNC_FORK', 'IPC cannot be used with synchronous forks');\nE('ERR_MISSING_ARGS', missingArgs);\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\nE('ERR_NAPI_CONS_FUNCTION', 'Constructor must be a function');\nE('ERR_NAPI_CONS_PROTOTYPE_OBJECT', 'Constructor.prototype must be an object');\nE('ERR_NO_CRYPTO', 'Node.js is not compiled with OpenSSL crypto support');\nE('ERR_NO_LONGER_SUPPORTED', '%s is no longer supported');\nE('ERR_PARSE_HISTORY_DATA', 'Could not parse history data in %s');\nE('ERR_SOCKET_ALREADY_BOUND', 'Socket is already bound');\nE('ERR_SOCKET_BAD_PORT', 'Port should be > 0 and < 65536');\nE('ERR_SOCKET_BAD_TYPE', 'Bad socket type specified. Valid types are: udp4, udp6');\nE('ERR_SOCKET_CANNOT_SEND', 'Unable to send data');\nE('ERR_SOCKET_CLOSED', 'Socket is closed');\nE('ERR_SOCKET_DGRAM_NOT_RUNNING', 'Not running');\nE('ERR_STDERR_CLOSE', 'process.stderr cannot be closed');\nE('ERR_STDOUT_CLOSE', 'process.stdout cannot be closed');\nE('ERR_STREAM_WRAP', 'Stream has StringDecoder set or is in objectMode');\nE('ERR_TLS_CERT_ALTNAME_INVALID', \"Hostname/IP does not match certificate's altnames: %s\");\nE('ERR_TLS_DH_PARAM_SIZE', function (size) { return \"DH parameter size \".concat(size, \" is less than 2048\"); });\nE('ERR_TLS_HANDSHAKE_TIMEOUT', 'TLS handshake timeout');\nE('ERR_TLS_RENEGOTIATION_FAILED', 'Failed to renegotiate');\nE('ERR_TLS_REQUIRED_SERVER_NAME', '\"servername\" is required parameter for Server.addContext');\nE('ERR_TLS_SESSION_ATTACK', 'TSL session renegotiation attack detected');\nE('ERR_TRANSFORM_ALREADY_TRANSFORMING', 'Calling transform done when still transforming');\nE('ERR_TRANSFORM_WITH_LENGTH_0', 'Calling transform done when writableState.length != 0');\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s');\nE('ERR_UNKNOWN_SIGNAL', 'Unknown signal: %s');\nE('ERR_UNKNOWN_STDIN_TYPE', 'Unknown stdin file type');\nE('ERR_UNKNOWN_STREAM_TYPE', 'Unknown stream file type');\nE('ERR_V8BREAKITERATOR', 'Full ICU data not installed. ' + 'See https://github.com/nodejs/node/wiki/Intl');\nfunction invalidArgType(name, expected, actual) {\n    assert(name, 'name is required');\n    // determiner: 'must be' or 'must not be'\n    var determiner;\n    if (expected.includes('not ')) {\n        determiner = 'must not be';\n        expected = expected.split('not ')[1];\n    }\n    else {\n        determiner = 'must be';\n    }\n    var msg;\n    if (Array.isArray(name)) {\n        var names = name.map(function (val) { return \"\\\"\".concat(val, \"\\\"\"); }).join(', ');\n        msg = \"The \".concat(names, \" arguments \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n    }\n    else if (name.includes(' argument')) {\n        // for the case like 'first argument'\n        msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n    }\n    else {\n        var type = name.includes('.') ? 'property' : 'argument';\n        msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n    }\n    // if actual value received, output it\n    if (arguments.length >= 3) {\n        msg += \". Received type \".concat(actual !== null ? typeof actual : 'null');\n    }\n    return msg;\n}\nfunction missingArgs() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    assert(args.length > 0, 'At least one arg needs to be specified');\n    var msg = 'The ';\n    var len = args.length;\n    args = args.map(function (a) { return \"\\\"\".concat(a, \"\\\"\"); });\n    switch (len) {\n        case 1:\n            msg += \"\".concat(args[0], \" argument\");\n            break;\n        case 2:\n            msg += \"\".concat(args[0], \" and \").concat(args[1], \" arguments\");\n            break;\n        default:\n            msg += args.slice(0, len - 1).join(', ');\n            msg += \", and \".concat(args[len - 1], \" arguments\");\n            break;\n    }\n    return \"\".concat(msg, \" must be specified\");\n}\nfunction oneOf(expected, thing) {\n    assert(expected, 'expected is required');\n    assert(typeof thing === 'string', 'thing is required');\n    if (Array.isArray(expected)) {\n        var len = expected.length;\n        assert(len > 0, 'At least one expected value needs to be specified');\n        // tslint:disable-next-line\n        expected = expected.map(function (i) { return String(i); });\n        if (len > 2) {\n            return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n        }\n        else if (len === 2) {\n            return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n        }\n        else {\n            return \"of \".concat(thing, \" \").concat(expected[0]);\n        }\n    }\n    else {\n        return \"of \".concat(thing, \" \").concat(String(expected));\n    }\n}\nfunction bufferOutOfBounds(name, isWriting) {\n    if (isWriting) {\n        return 'Attempt to write outside buffer bounds';\n    }\n    else {\n        return \"\\\"\".concat(name, \"\\\" is outside of buffer bounds\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.strToEncoding = exports.assertEncoding = exports.ENCODING_UTF8 = void 0;\nvar buffer_1 = require(\"./internal/buffer\");\nvar errors = require(\"./internal/errors\");\nexports.ENCODING_UTF8 = 'utf8';\nfunction assertEncoding(encoding) {\n    if (encoding && !buffer_1.Buffer.isEncoding(encoding))\n        throw new errors.TypeError('ERR_INVALID_OPT_VALUE_ENCODING', encoding);\n}\nexports.assertEncoding = assertEncoding;\nfunction strToEncoding(str, encoding) {\n    if (!encoding || encoding === exports.ENCODING_UTF8)\n        return str; // UTF-8\n    if (encoding === 'buffer')\n        return new buffer_1.Buffer(str); // `buffer` encoding\n    return new buffer_1.Buffer(str).toString(encoding); // Custom encoding\n}\nexports.strToEncoding = strToEncoding;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dirent = void 0;\nvar constants_1 = require(\"./constants\");\nvar encoding_1 = require(\"./encoding\");\nvar S_IFMT = constants_1.constants.S_IFMT, S_IFDIR = constants_1.constants.S_IFDIR, S_IFREG = constants_1.constants.S_IFREG, S_IFBLK = constants_1.constants.S_IFBLK, S_IFCHR = constants_1.constants.S_IFCHR, S_IFLNK = constants_1.constants.S_IFLNK, S_IFIFO = constants_1.constants.S_IFIFO, S_IFSOCK = constants_1.constants.S_IFSOCK;\n/**\n * A directory entry, like `fs.Dirent`.\n */\nvar Dirent = /** @class */ (function () {\n    function Dirent() {\n        this.name = '';\n        this.mode = 0;\n    }\n    Dirent.build = function (link, encoding) {\n        var dirent = new Dirent();\n        var mode = link.getNode().mode;\n        dirent.name = (0, encoding_1.strToEncoding)(link.getName(), encoding);\n        dirent.mode = mode;\n        return dirent;\n    };\n    Dirent.prototype._checkModeProperty = function (property) {\n        return (this.mode & S_IFMT) === property;\n    };\n    Dirent.prototype.isDirectory = function () {\n        return this._checkModeProperty(S_IFDIR);\n    };\n    Dirent.prototype.isFile = function () {\n        return this._checkModeProperty(S_IFREG);\n    };\n    Dirent.prototype.isBlockDevice = function () {\n        return this._checkModeProperty(S_IFBLK);\n    };\n    Dirent.prototype.isCharacterDevice = function () {\n        return this._checkModeProperty(S_IFCHR);\n    };\n    Dirent.prototype.isSymbolicLink = function () {\n        return this._checkModeProperty(S_IFLNK);\n    };\n    Dirent.prototype.isFIFO = function () {\n        return this._checkModeProperty(S_IFIFO);\n    };\n    Dirent.prototype.isSocket = function () {\n        return this._checkModeProperty(S_IFSOCK);\n    };\n    return Dirent;\n}());\nexports.Dirent = Dirent;\nexports.default = Dirent;\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _setImmediate;\nif (typeof setImmediate === 'function')\n    _setImmediate = setImmediate.bind(typeof globalThis !== 'undefined' ? globalThis : global);\nelse\n    _setImmediate = setTimeout.bind(typeof globalThis !== 'undefined' ? globalThis : global);\nexports.default = _setImmediate;\n","\"use strict\";\n// Here we mock the global `process` variable in case we are not in Node's environment.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProcess = void 0;\n/**\n * Looks to return a `process` object, if one is available.\n *\n * The global `process` is returned if defined;\n * otherwise `require('process')` is attempted.\n *\n * If that fails, `undefined` is returned.\n *\n * @return {IProcess | undefined}\n */\nvar maybeReturnProcess = function () {\n    if (typeof process !== 'undefined') {\n        return process;\n    }\n    try {\n        return require('process');\n    }\n    catch (_a) {\n        return undefined;\n    }\n};\nfunction createProcess() {\n    var p = maybeReturnProcess() || {};\n    if (!p.cwd)\n        p.cwd = function () { return '/'; };\n    if (!p.nextTick)\n        p.nextTick = require('./setImmediate').default;\n    if (!p.emitWarning)\n        p.emitWarning = function (message, type) {\n            // tslint:disable-next-line:no-console\n            console.warn(\"\".concat(type).concat(type ? ': ' : '').concat(message));\n        };\n    if (!p.env)\n        p.env = {};\n    return p;\n}\nexports.createProcess = createProcess;\nexports.default = createProcess();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.File = exports.Link = exports.Node = exports.SEP = void 0;\nvar process_1 = require(\"./process\");\nvar buffer_1 = require(\"./internal/buffer\");\nvar constants_1 = require(\"./constants\");\nvar events_1 = require(\"events\");\nvar Stats_1 = require(\"./Stats\");\nvar S_IFMT = constants_1.constants.S_IFMT, S_IFDIR = constants_1.constants.S_IFDIR, S_IFREG = constants_1.constants.S_IFREG, S_IFLNK = constants_1.constants.S_IFLNK, O_APPEND = constants_1.constants.O_APPEND;\nvar getuid = function () { var _a, _b; return (_b = (_a = process_1.default.getuid) === null || _a === void 0 ? void 0 : _a.call(process_1.default)) !== null && _b !== void 0 ? _b : 0; };\nvar getgid = function () { var _a, _b; return (_b = (_a = process_1.default.getgid) === null || _a === void 0 ? void 0 : _a.call(process_1.default)) !== null && _b !== void 0 ? _b : 0; };\nexports.SEP = '/';\n/**\n * Node in a file system (like i-node, v-node).\n */\nvar Node = /** @class */ (function (_super) {\n    __extends(Node, _super);\n    function Node(ino, perm) {\n        if (perm === void 0) { perm = 438; }\n        var _this = _super.call(this) || this;\n        // User ID and group ID.\n        _this._uid = getuid();\n        _this._gid = getgid();\n        _this._atime = new Date();\n        _this._mtime = new Date();\n        _this._ctime = new Date();\n        _this._perm = 438; // Permissions `chmod`, `fchmod`\n        _this.mode = S_IFREG; // S_IFDIR, S_IFREG, etc.. (file by default?)\n        // Number of hard links pointing at this Node.\n        _this._nlink = 1;\n        _this._perm = perm;\n        _this.mode |= perm;\n        _this.ino = ino;\n        return _this;\n    }\n    Object.defineProperty(Node.prototype, \"ctime\", {\n        get: function () {\n            return this._ctime;\n        },\n        set: function (ctime) {\n            this._ctime = ctime;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"uid\", {\n        get: function () {\n            return this._uid;\n        },\n        set: function (uid) {\n            this._uid = uid;\n            this.ctime = new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"gid\", {\n        get: function () {\n            return this._gid;\n        },\n        set: function (gid) {\n            this._gid = gid;\n            this.ctime = new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"atime\", {\n        get: function () {\n            return this._atime;\n        },\n        set: function (atime) {\n            this._atime = atime;\n            this.ctime = new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"mtime\", {\n        get: function () {\n            return this._mtime;\n        },\n        set: function (mtime) {\n            this._mtime = mtime;\n            this.ctime = new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"perm\", {\n        get: function () {\n            return this._perm;\n        },\n        set: function (perm) {\n            this._perm = perm;\n            this.ctime = new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nlink\", {\n        get: function () {\n            return this._nlink;\n        },\n        set: function (nlink) {\n            this._nlink = nlink;\n            this.ctime = new Date();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Node.prototype.getString = function (encoding) {\n        if (encoding === void 0) { encoding = 'utf8'; }\n        this.atime = new Date();\n        return this.getBuffer().toString(encoding);\n    };\n    Node.prototype.setString = function (str) {\n        // this.setBuffer(bufferFrom(str, 'utf8'));\n        this.buf = (0, buffer_1.bufferFrom)(str, 'utf8');\n        this.touch();\n    };\n    Node.prototype.getBuffer = function () {\n        this.atime = new Date();\n        if (!this.buf)\n            this.setBuffer((0, buffer_1.bufferAllocUnsafe)(0));\n        return (0, buffer_1.bufferFrom)(this.buf); // Return a copy.\n    };\n    Node.prototype.setBuffer = function (buf) {\n        this.buf = (0, buffer_1.bufferFrom)(buf); // Creates a copy of data.\n        this.touch();\n    };\n    Node.prototype.getSize = function () {\n        return this.buf ? this.buf.length : 0;\n    };\n    Node.prototype.setModeProperty = function (property) {\n        this.mode = (this.mode & ~S_IFMT) | property;\n    };\n    Node.prototype.setIsFile = function () {\n        this.setModeProperty(S_IFREG);\n    };\n    Node.prototype.setIsDirectory = function () {\n        this.setModeProperty(S_IFDIR);\n    };\n    Node.prototype.setIsSymlink = function () {\n        this.setModeProperty(S_IFLNK);\n    };\n    Node.prototype.isFile = function () {\n        return (this.mode & S_IFMT) === S_IFREG;\n    };\n    Node.prototype.isDirectory = function () {\n        return (this.mode & S_IFMT) === S_IFDIR;\n    };\n    Node.prototype.isSymlink = function () {\n        // return !!this.symlink;\n        return (this.mode & S_IFMT) === S_IFLNK;\n    };\n    Node.prototype.makeSymlink = function (steps) {\n        this.symlink = steps;\n        this.setIsSymlink();\n    };\n    Node.prototype.write = function (buf, off, len, pos) {\n        if (off === void 0) { off = 0; }\n        if (len === void 0) { len = buf.length; }\n        if (pos === void 0) { pos = 0; }\n        if (!this.buf)\n            this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n        if (pos + len > this.buf.length) {\n            var newBuf = (0, buffer_1.bufferAllocUnsafe)(pos + len);\n            this.buf.copy(newBuf, 0, 0, this.buf.length);\n            this.buf = newBuf;\n        }\n        buf.copy(this.buf, pos, off, off + len);\n        this.touch();\n        return len;\n    };\n    // Returns the number of bytes read.\n    Node.prototype.read = function (buf, off, len, pos) {\n        if (off === void 0) { off = 0; }\n        if (len === void 0) { len = buf.byteLength; }\n        if (pos === void 0) { pos = 0; }\n        this.atime = new Date();\n        if (!this.buf)\n            this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n        var actualLen = len;\n        if (actualLen > buf.byteLength) {\n            actualLen = buf.byteLength;\n        }\n        if (actualLen + pos > this.buf.length) {\n            actualLen = this.buf.length - pos;\n        }\n        this.buf.copy(buf, off, pos, pos + actualLen);\n        return actualLen;\n    };\n    Node.prototype.truncate = function (len) {\n        if (len === void 0) { len = 0; }\n        if (!len)\n            this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n        else {\n            if (!this.buf)\n                this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n            if (len <= this.buf.length) {\n                this.buf = this.buf.slice(0, len);\n            }\n            else {\n                var buf = (0, buffer_1.bufferAllocUnsafe)(len);\n                this.buf.copy(buf);\n                buf.fill(0, this.buf.length);\n                this.buf = buf;\n            }\n        }\n        this.touch();\n    };\n    Node.prototype.chmod = function (perm) {\n        this.perm = perm;\n        this.mode = (this.mode & ~511) | perm;\n        this.touch();\n    };\n    Node.prototype.chown = function (uid, gid) {\n        this.uid = uid;\n        this.gid = gid;\n        this.touch();\n    };\n    Node.prototype.touch = function () {\n        this.mtime = new Date();\n        this.emit('change', this);\n    };\n    Node.prototype.canRead = function (uid, gid) {\n        if (uid === void 0) { uid = getuid(); }\n        if (gid === void 0) { gid = getgid(); }\n        if (this.perm & 4 /* S.IROTH */) {\n            return true;\n        }\n        if (gid === this.gid) {\n            if (this.perm & 32 /* S.IRGRP */) {\n                return true;\n            }\n        }\n        if (uid === this.uid) {\n            if (this.perm & 256 /* S.IRUSR */) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Node.prototype.canWrite = function (uid, gid) {\n        if (uid === void 0) { uid = getuid(); }\n        if (gid === void 0) { gid = getgid(); }\n        if (this.perm & 2 /* S.IWOTH */) {\n            return true;\n        }\n        if (gid === this.gid) {\n            if (this.perm & 16 /* S.IWGRP */) {\n                return true;\n            }\n        }\n        if (uid === this.uid) {\n            if (this.perm & 128 /* S.IWUSR */) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Node.prototype.del = function () {\n        this.emit('delete', this);\n    };\n    Node.prototype.toJSON = function () {\n        return {\n            ino: this.ino,\n            uid: this.uid,\n            gid: this.gid,\n            atime: this.atime.getTime(),\n            mtime: this.mtime.getTime(),\n            ctime: this.ctime.getTime(),\n            perm: this.perm,\n            mode: this.mode,\n            nlink: this.nlink,\n            symlink: this.symlink,\n            data: this.getString(),\n        };\n    };\n    return Node;\n}(events_1.EventEmitter));\nexports.Node = Node;\n/**\n * Represents a hard link that points to an i-node `node`.\n */\nvar Link = /** @class */ (function (_super) {\n    __extends(Link, _super);\n    function Link(vol, parent, name) {\n        var _this = _super.call(this) || this;\n        _this.children = {};\n        // Path to this node as Array: ['usr', 'bin', 'node'].\n        _this._steps = [];\n        // \"i-node\" number of the node.\n        _this.ino = 0;\n        // Number of children.\n        _this.length = 0;\n        _this.vol = vol;\n        _this.parent = parent;\n        _this.name = name;\n        _this.syncSteps();\n        return _this;\n    }\n    Object.defineProperty(Link.prototype, \"steps\", {\n        get: function () {\n            return this._steps;\n        },\n        // Recursively sync children steps, e.g. in case of dir rename\n        set: function (val) {\n            this._steps = val;\n            for (var _i = 0, _a = Object.entries(this.children); _i < _a.length; _i++) {\n                var _b = _a[_i], child = _b[0], link = _b[1];\n                if (child === '.' || child === '..') {\n                    continue;\n                }\n                link === null || link === void 0 ? void 0 : link.syncSteps();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Link.prototype.setNode = function (node) {\n        this.node = node;\n        this.ino = node.ino;\n    };\n    Link.prototype.getNode = function () {\n        return this.node;\n    };\n    Link.prototype.createChild = function (name, node) {\n        if (node === void 0) { node = this.vol.createNode(); }\n        var link = new Link(this.vol, this, name);\n        link.setNode(node);\n        if (node.isDirectory()) {\n            link.children['.'] = link;\n            link.getNode().nlink++;\n        }\n        this.setChild(name, link);\n        return link;\n    };\n    Link.prototype.setChild = function (name, link) {\n        if (link === void 0) { link = new Link(this.vol, this, name); }\n        this.children[name] = link;\n        link.parent = this;\n        this.length++;\n        var node = link.getNode();\n        if (node.isDirectory()) {\n            link.children['..'] = this;\n            this.getNode().nlink++;\n        }\n        this.getNode().mtime = new Date();\n        this.emit('child:add', link, this);\n        return link;\n    };\n    Link.prototype.deleteChild = function (link) {\n        var node = link.getNode();\n        if (node.isDirectory()) {\n            delete link.children['..'];\n            this.getNode().nlink--;\n        }\n        delete this.children[link.getName()];\n        this.length--;\n        this.getNode().mtime = new Date();\n        this.emit('child:delete', link, this);\n    };\n    Link.prototype.getChild = function (name) {\n        this.getNode().mtime = new Date();\n        if (Object.hasOwnProperty.call(this.children, name)) {\n            return this.children[name];\n        }\n    };\n    Link.prototype.getPath = function () {\n        return this.steps.join(exports.SEP);\n    };\n    Link.prototype.getName = function () {\n        return this.steps[this.steps.length - 1];\n    };\n    // del() {\n    //     const parent = this.parent;\n    //     if(parent) {\n    //         parent.deleteChild(link);\n    //     }\n    //     this.parent = null;\n    //     this.vol = null;\n    // }\n    /**\n     * Walk the tree path and return the `Link` at that location, if any.\n     * @param steps {string[]} Desired location.\n     * @param stop {number} Max steps to go into.\n     * @param i {number} Current step in the `steps` array.\n     *\n     * @return {Link|null}\n     */\n    Link.prototype.walk = function (steps, stop, i) {\n        if (stop === void 0) { stop = steps.length; }\n        if (i === void 0) { i = 0; }\n        if (i >= steps.length)\n            return this;\n        if (i >= stop)\n            return this;\n        var step = steps[i];\n        var link = this.getChild(step);\n        if (!link)\n            return null;\n        return link.walk(steps, stop, i + 1);\n    };\n    Link.prototype.toJSON = function () {\n        return {\n            steps: this.steps,\n            ino: this.ino,\n            children: Object.keys(this.children),\n        };\n    };\n    Link.prototype.syncSteps = function () {\n        this.steps = this.parent ? this.parent.steps.concat([this.name]) : [this.name];\n    };\n    return Link;\n}(events_1.EventEmitter));\nexports.Link = Link;\n/**\n * Represents an open file (file descriptor) that points to a `Link` (Hard-link) and a `Node`.\n */\nvar File = /** @class */ (function () {\n    /**\n     * Open a Link-Node pair. `node` is provided separately as that might be a different node\n     * rather the one `link` points to, because it might be a symlink.\n     * @param link\n     * @param node\n     * @param flags\n     * @param fd\n     */\n    function File(link, node, flags, fd) {\n        /**\n         * A cursor/offset position in a file, where data will be written on write.\n         * User can \"seek\" this position.\n         */\n        this.position = 0;\n        this.link = link;\n        this.node = node;\n        this.flags = flags;\n        this.fd = fd;\n    }\n    File.prototype.getString = function (encoding) {\n        if (encoding === void 0) { encoding = 'utf8'; }\n        return this.node.getString();\n    };\n    File.prototype.setString = function (str) {\n        this.node.setString(str);\n    };\n    File.prototype.getBuffer = function () {\n        return this.node.getBuffer();\n    };\n    File.prototype.setBuffer = function (buf) {\n        this.node.setBuffer(buf);\n    };\n    File.prototype.getSize = function () {\n        return this.node.getSize();\n    };\n    File.prototype.truncate = function (len) {\n        this.node.truncate(len);\n    };\n    File.prototype.seekTo = function (position) {\n        this.position = position;\n    };\n    File.prototype.stats = function () {\n        return Stats_1.default.build(this.node);\n    };\n    File.prototype.write = function (buf, offset, length, position) {\n        if (offset === void 0) { offset = 0; }\n        if (length === void 0) { length = buf.length; }\n        if (typeof position !== 'number')\n            position = this.position;\n        if (this.flags & O_APPEND)\n            position = this.getSize();\n        var bytes = this.node.write(buf, offset, length, position);\n        this.position = position + bytes;\n        return bytes;\n    };\n    File.prototype.read = function (buf, offset, length, position) {\n        if (offset === void 0) { offset = 0; }\n        if (length === void 0) { length = buf.byteLength; }\n        if (typeof position !== 'number')\n            position = this.position;\n        var bytes = this.node.read(buf, offset, length, position);\n        this.position = position + bytes;\n        return bytes;\n    };\n    File.prototype.chmod = function (perm) {\n        this.node.chmod(perm);\n    };\n    File.prototype.chown = function (uid, gid) {\n        this.node.chown(uid, gid);\n    };\n    return File;\n}());\nexports.File = File;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * `setTimeoutUnref` is just like `setTimeout`,\n * only in Node's environment it will \"unref\" its macro task.\n */\nfunction setTimeoutUnref(callback, time, args) {\n    var ref = setTimeout.apply(typeof globalThis !== 'undefined' ? globalThis : global, arguments);\n    if (ref && typeof ref === 'object' && typeof ref.unref === 'function')\n        ref.unref();\n    return ref;\n}\nexports.default = setTimeoutUnref;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileHandle = void 0;\nfunction promisify(vol, fn, getResult) {\n    if (getResult === void 0) { getResult = function (input) { return input; }; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            vol[fn].bind(vol).apply(void 0, __spreadArray(__spreadArray([], args, false), [function (error, result) {\n                    if (error)\n                        return reject(error);\n                    return resolve(getResult(result));\n                }], false));\n        });\n    };\n}\nvar FileHandle = /** @class */ (function () {\n    function FileHandle(vol, fd) {\n        this.vol = vol;\n        this.fd = fd;\n    }\n    FileHandle.prototype.appendFile = function (data, options) {\n        return promisify(this.vol, 'appendFile')(this.fd, data, options);\n    };\n    FileHandle.prototype.chmod = function (mode) {\n        return promisify(this.vol, 'fchmod')(this.fd, mode);\n    };\n    FileHandle.prototype.chown = function (uid, gid) {\n        return promisify(this.vol, 'fchown')(this.fd, uid, gid);\n    };\n    FileHandle.prototype.close = function () {\n        return promisify(this.vol, 'close')(this.fd);\n    };\n    FileHandle.prototype.datasync = function () {\n        return promisify(this.vol, 'fdatasync')(this.fd);\n    };\n    FileHandle.prototype.read = function (buffer, offset, length, position) {\n        return promisify(this.vol, 'read', function (bytesRead) { return ({ bytesRead: bytesRead, buffer: buffer }); })(this.fd, buffer, offset, length, position);\n    };\n    FileHandle.prototype.readFile = function (options) {\n        return promisify(this.vol, 'readFile')(this.fd, options);\n    };\n    FileHandle.prototype.stat = function (options) {\n        return promisify(this.vol, 'fstat')(this.fd, options);\n    };\n    FileHandle.prototype.sync = function () {\n        return promisify(this.vol, 'fsync')(this.fd);\n    };\n    FileHandle.prototype.truncate = function (len) {\n        return promisify(this.vol, 'ftruncate')(this.fd, len);\n    };\n    FileHandle.prototype.utimes = function (atime, mtime) {\n        return promisify(this.vol, 'futimes')(this.fd, atime, mtime);\n    };\n    FileHandle.prototype.write = function (buffer, offset, length, position) {\n        return promisify(this.vol, 'write', function (bytesWritten) { return ({ bytesWritten: bytesWritten, buffer: buffer }); })(this.fd, buffer, offset, length, position);\n    };\n    FileHandle.prototype.writeFile = function (data, options) {\n        return promisify(this.vol, 'writeFile')(this.fd, data, options);\n    };\n    return FileHandle;\n}());\nexports.FileHandle = FileHandle;\nfunction createPromisesApi(vol) {\n    if (typeof Promise === 'undefined')\n        return null;\n    return {\n        FileHandle: FileHandle,\n        access: function (path, mode) {\n            return promisify(vol, 'access')(path, mode);\n        },\n        appendFile: function (path, data, options) {\n            return promisify(vol, 'appendFile')(path instanceof FileHandle ? path.fd : path, data, options);\n        },\n        chmod: function (path, mode) {\n            return promisify(vol, 'chmod')(path, mode);\n        },\n        chown: function (path, uid, gid) {\n            return promisify(vol, 'chown')(path, uid, gid);\n        },\n        copyFile: function (src, dest, flags) {\n            return promisify(vol, 'copyFile')(src, dest, flags);\n        },\n        lchmod: function (path, mode) {\n            return promisify(vol, 'lchmod')(path, mode);\n        },\n        lchown: function (path, uid, gid) {\n            return promisify(vol, 'lchown')(path, uid, gid);\n        },\n        link: function (existingPath, newPath) {\n            return promisify(vol, 'link')(existingPath, newPath);\n        },\n        lstat: function (path, options) {\n            return promisify(vol, 'lstat')(path, options);\n        },\n        mkdir: function (path, options) {\n            return promisify(vol, 'mkdir')(path, options);\n        },\n        mkdtemp: function (prefix, options) {\n            return promisify(vol, 'mkdtemp')(prefix, options);\n        },\n        open: function (path, flags, mode) {\n            return promisify(vol, 'open', function (fd) { return new FileHandle(vol, fd); })(path, flags, mode);\n        },\n        readdir: function (path, options) {\n            return promisify(vol, 'readdir')(path, options);\n        },\n        readFile: function (id, options) {\n            return promisify(vol, 'readFile')(id instanceof FileHandle ? id.fd : id, options);\n        },\n        readlink: function (path, options) {\n            return promisify(vol, 'readlink')(path, options);\n        },\n        realpath: function (path, options) {\n            return promisify(vol, 'realpath')(path, options);\n        },\n        rename: function (oldPath, newPath) {\n            return promisify(vol, 'rename')(oldPath, newPath);\n        },\n        rmdir: function (path) {\n            return promisify(vol, 'rmdir')(path);\n        },\n        rm: function (path, options) {\n            return promisify(vol, 'rm')(path, options);\n        },\n        stat: function (path, options) {\n            return promisify(vol, 'stat')(path, options);\n        },\n        symlink: function (target, path, type) {\n            return promisify(vol, 'symlink')(target, path, type);\n        },\n        truncate: function (path, len) {\n            return promisify(vol, 'truncate')(path, len);\n        },\n        unlink: function (path) {\n            return promisify(vol, 'unlink')(path);\n        },\n        utimes: function (path, atime, mtime) {\n            return promisify(vol, 'utimes')(path, atime, mtime);\n        },\n        writeFile: function (id, data, options) {\n            return promisify(vol, 'writeFile')(id instanceof FileHandle ? id.fd : id, data, options);\n        },\n    };\n}\nexports.default = createPromisesApi;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.correctPath = correctPath;\nexports.unixify = unixify;\nvar isWin = process.platform === 'win32';\nfunction removeTrailingSeparator(str) {\n  var i = str.length - 1;\n  if (i < 2) {\n    return str;\n  }\n  while (isSeparator(str, i)) {\n    i--;\n  }\n  return str.substr(0, i + 1);\n}\nfunction isSeparator(str, i) {\n  var _char = str[i];\n  return i > 0 && (_char === '/' || isWin && _char === '\\\\');\n}\nfunction normalizePath(str, stripTrailing) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n  str = str.replace(/[\\\\\\/]+/g, '/');\n  if (stripTrailing !== false) {\n    str = removeTrailingSeparator(str);\n  }\n  return str;\n}\nfunction unixify(filepath) {\n  var stripTrailing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (isWin) {\n    filepath = normalizePath(filepath, stripTrailing);\n    return filepath.replace(/^([a-zA-Z]+:|\\.\\/)/, '');\n  }\n  return filepath;\n}\nfunction correctPath(filepath) {\n  return unixify(filepath.replace(/^\\\\\\\\\\?\\\\.:\\\\/, '\\\\'));\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FSWatcher = exports.StatWatcher = exports.Volume = exports.toUnixTimestamp = exports.bufferToEncoding = exports.dataToBuffer = exports.dataToStr = exports.pathToSteps = exports.filenameToSteps = exports.pathToFilename = exports.flagsToNumber = exports.FLAGS = void 0;\nvar pathModule = require(\"path\");\nvar node_1 = require(\"./node\");\nvar Stats_1 = require(\"./Stats\");\nvar Dirent_1 = require(\"./Dirent\");\nvar buffer_1 = require(\"./internal/buffer\");\nvar setImmediate_1 = require(\"./setImmediate\");\nvar process_1 = require(\"./process\");\nvar setTimeoutUnref_1 = require(\"./setTimeoutUnref\");\nvar stream_1 = require(\"stream\");\nvar constants_1 = require(\"./constants\");\nvar events_1 = require(\"events\");\nvar encoding_1 = require(\"./encoding\");\nvar errors = require(\"./internal/errors\");\nvar util = require(\"util\");\nvar promises_1 = require(\"./promises\");\nvar resolveCrossPlatform = pathModule.resolve;\nvar O_RDONLY = constants_1.constants.O_RDONLY, O_WRONLY = constants_1.constants.O_WRONLY, O_RDWR = constants_1.constants.O_RDWR, O_CREAT = constants_1.constants.O_CREAT, O_EXCL = constants_1.constants.O_EXCL, O_TRUNC = constants_1.constants.O_TRUNC, O_APPEND = constants_1.constants.O_APPEND, O_SYNC = constants_1.constants.O_SYNC, O_DIRECTORY = constants_1.constants.O_DIRECTORY, F_OK = constants_1.constants.F_OK, COPYFILE_EXCL = constants_1.constants.COPYFILE_EXCL, COPYFILE_FICLONE_FORCE = constants_1.constants.COPYFILE_FICLONE_FORCE;\nvar _a = pathModule.posix ? pathModule.posix : pathModule, sep = _a.sep, relative = _a.relative, join = _a.join, dirname = _a.dirname;\nvar isWin = process_1.default.platform === 'win32';\nvar kMinPoolSpace = 128;\n// const kMaxLength = require('buffer').kMaxLength;\n// ---------------------------------------- Error messages\n// TODO: Use `internal/errors.js` in the future.\nvar ERRSTR = {\n    PATH_STR: 'path must be a string or Buffer',\n    // FD:             'file descriptor must be a unsigned 32-bit integer',\n    FD: 'fd must be a file descriptor',\n    MODE_INT: 'mode must be an int',\n    CB: 'callback must be a function',\n    UID: 'uid must be an unsigned int',\n    GID: 'gid must be an unsigned int',\n    LEN: 'len must be an integer',\n    ATIME: 'atime must be an integer',\n    MTIME: 'mtime must be an integer',\n    PREFIX: 'filename prefix is required',\n    BUFFER: 'buffer must be an instance of Buffer or StaticBuffer',\n    OFFSET: 'offset must be an integer',\n    LENGTH: 'length must be an integer',\n    POSITION: 'position must be an integer',\n};\nvar ERRSTR_OPTS = function (tipeof) { return \"Expected options to be either an object or a string, but got \".concat(tipeof, \" instead\"); };\n// const ERRSTR_FLAG = flag => `Unknown file open flag: ${flag}`;\nvar ENOENT = 'ENOENT';\nvar EBADF = 'EBADF';\nvar EINVAL = 'EINVAL';\nvar EPERM = 'EPERM';\nvar EPROTO = 'EPROTO';\nvar EEXIST = 'EEXIST';\nvar ENOTDIR = 'ENOTDIR';\nvar EMFILE = 'EMFILE';\nvar EACCES = 'EACCES';\nvar EISDIR = 'EISDIR';\nvar ENOTEMPTY = 'ENOTEMPTY';\nvar ENOSYS = 'ENOSYS';\nvar ERR_FS_EISDIR = 'ERR_FS_EISDIR';\nfunction formatError(errorCode, func, path, path2) {\n    if (func === void 0) { func = ''; }\n    if (path === void 0) { path = ''; }\n    if (path2 === void 0) { path2 = ''; }\n    var pathFormatted = '';\n    if (path)\n        pathFormatted = \" '\".concat(path, \"'\");\n    if (path2)\n        pathFormatted += \" -> '\".concat(path2, \"'\");\n    switch (errorCode) {\n        case ENOENT:\n            return \"ENOENT: no such file or directory, \".concat(func).concat(pathFormatted);\n        case EBADF:\n            return \"EBADF: bad file descriptor, \".concat(func).concat(pathFormatted);\n        case EINVAL:\n            return \"EINVAL: invalid argument, \".concat(func).concat(pathFormatted);\n        case EPERM:\n            return \"EPERM: operation not permitted, \".concat(func).concat(pathFormatted);\n        case EPROTO:\n            return \"EPROTO: protocol error, \".concat(func).concat(pathFormatted);\n        case EEXIST:\n            return \"EEXIST: file already exists, \".concat(func).concat(pathFormatted);\n        case ENOTDIR:\n            return \"ENOTDIR: not a directory, \".concat(func).concat(pathFormatted);\n        case EISDIR:\n            return \"EISDIR: illegal operation on a directory, \".concat(func).concat(pathFormatted);\n        case EACCES:\n            return \"EACCES: permission denied, \".concat(func).concat(pathFormatted);\n        case ENOTEMPTY:\n            return \"ENOTEMPTY: directory not empty, \".concat(func).concat(pathFormatted);\n        case EMFILE:\n            return \"EMFILE: too many open files, \".concat(func).concat(pathFormatted);\n        case ENOSYS:\n            return \"ENOSYS: function not implemented, \".concat(func).concat(pathFormatted);\n        case ERR_FS_EISDIR:\n            return \"[ERR_FS_EISDIR]: Path is a directory: \".concat(func, \" returned EISDIR (is a directory) \").concat(path);\n        default:\n            return \"\".concat(errorCode, \": error occurred, \").concat(func).concat(pathFormatted);\n    }\n}\nfunction createError(errorCode, func, path, path2, Constructor) {\n    if (func === void 0) { func = ''; }\n    if (path === void 0) { path = ''; }\n    if (path2 === void 0) { path2 = ''; }\n    if (Constructor === void 0) { Constructor = Error; }\n    var error = new Constructor(formatError(errorCode, func, path, path2));\n    error.code = errorCode;\n    if (path) {\n        error.path = path;\n    }\n    return error;\n}\n// ---------------------------------------- Flags\n// List of file `flags` as defined by Node.\nvar FLAGS;\n(function (FLAGS) {\n    // Open file for reading. An exception occurs if the file does not exist.\n    FLAGS[FLAGS[\"r\"] = O_RDONLY] = \"r\";\n    // Open file for reading and writing. An exception occurs if the file does not exist.\n    FLAGS[FLAGS[\"r+\"] = O_RDWR] = \"r+\";\n    // Open file for reading in synchronous mode. Instructs the operating system to bypass the local file system cache.\n    FLAGS[FLAGS[\"rs\"] = O_RDONLY | O_SYNC] = \"rs\";\n    FLAGS[FLAGS[\"sr\"] = FLAGS.rs] = \"sr\";\n    // Open file for reading and writing, telling the OS to open it synchronously. See notes for 'rs' about using this with caution.\n    FLAGS[FLAGS[\"rs+\"] = O_RDWR | O_SYNC] = \"rs+\";\n    FLAGS[FLAGS[\"sr+\"] = FLAGS['rs+']] = \"sr+\";\n    // Open file for writing. The file is created (if it does not exist) or truncated (if it exists).\n    FLAGS[FLAGS[\"w\"] = O_WRONLY | O_CREAT | O_TRUNC] = \"w\";\n    // Like 'w' but fails if path exists.\n    FLAGS[FLAGS[\"wx\"] = O_WRONLY | O_CREAT | O_TRUNC | O_EXCL] = \"wx\";\n    FLAGS[FLAGS[\"xw\"] = FLAGS.wx] = \"xw\";\n    // Open file for reading and writing. The file is created (if it does not exist) or truncated (if it exists).\n    FLAGS[FLAGS[\"w+\"] = O_RDWR | O_CREAT | O_TRUNC] = \"w+\";\n    // Like 'w+' but fails if path exists.\n    FLAGS[FLAGS[\"wx+\"] = O_RDWR | O_CREAT | O_TRUNC | O_EXCL] = \"wx+\";\n    FLAGS[FLAGS[\"xw+\"] = FLAGS['wx+']] = \"xw+\";\n    // Open file for appending. The file is created if it does not exist.\n    FLAGS[FLAGS[\"a\"] = O_WRONLY | O_APPEND | O_CREAT] = \"a\";\n    // Like 'a' but fails if path exists.\n    FLAGS[FLAGS[\"ax\"] = O_WRONLY | O_APPEND | O_CREAT | O_EXCL] = \"ax\";\n    FLAGS[FLAGS[\"xa\"] = FLAGS.ax] = \"xa\";\n    // Open file for reading and appending. The file is created if it does not exist.\n    FLAGS[FLAGS[\"a+\"] = O_RDWR | O_APPEND | O_CREAT] = \"a+\";\n    // Like 'a+' but fails if path exists.\n    FLAGS[FLAGS[\"ax+\"] = O_RDWR | O_APPEND | O_CREAT | O_EXCL] = \"ax+\";\n    FLAGS[FLAGS[\"xa+\"] = FLAGS['ax+']] = \"xa+\";\n})(FLAGS = exports.FLAGS || (exports.FLAGS = {}));\nfunction flagsToNumber(flags) {\n    if (typeof flags === 'number')\n        return flags;\n    if (typeof flags === 'string') {\n        var flagsNum = FLAGS[flags];\n        if (typeof flagsNum !== 'undefined')\n            return flagsNum;\n    }\n    // throw new TypeError(formatError(ERRSTR_FLAG(flags)));\n    throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'flags', flags);\n}\nexports.flagsToNumber = flagsToNumber;\n// ---------------------------------------- Options\nfunction getOptions(defaults, options) {\n    var opts;\n    if (!options)\n        return defaults;\n    else {\n        var tipeof = typeof options;\n        switch (tipeof) {\n            case 'string':\n                opts = Object.assign({}, defaults, { encoding: options });\n                break;\n            case 'object':\n                opts = Object.assign({}, defaults, options);\n                break;\n            default:\n                throw TypeError(ERRSTR_OPTS(tipeof));\n        }\n    }\n    if (opts.encoding !== 'buffer')\n        (0, encoding_1.assertEncoding)(opts.encoding);\n    return opts;\n}\nfunction optsGenerator(defaults) {\n    return function (options) { return getOptions(defaults, options); };\n}\nfunction validateCallback(callback) {\n    if (typeof callback !== 'function')\n        throw TypeError(ERRSTR.CB);\n    return callback;\n}\nfunction optsAndCbGenerator(getOpts) {\n    return function (options, callback) {\n        return typeof options === 'function' ? [getOpts(), options] : [getOpts(options), validateCallback(callback)];\n    };\n}\nvar optsDefaults = {\n    encoding: 'utf8',\n};\nvar getDefaultOpts = optsGenerator(optsDefaults);\nvar getDefaultOptsAndCb = optsAndCbGenerator(getDefaultOpts);\nvar readFileOptsDefaults = {\n    flag: 'r',\n};\nvar getReadFileOptions = optsGenerator(readFileOptsDefaults);\nvar writeFileDefaults = {\n    encoding: 'utf8',\n    mode: 438 /* MODE.DEFAULT */,\n    flag: FLAGS[FLAGS.w],\n};\nvar getWriteFileOptions = optsGenerator(writeFileDefaults);\nvar appendFileDefaults = {\n    encoding: 'utf8',\n    mode: 438 /* MODE.DEFAULT */,\n    flag: FLAGS[FLAGS.a],\n};\nvar getAppendFileOpts = optsGenerator(appendFileDefaults);\nvar getAppendFileOptsAndCb = optsAndCbGenerator(getAppendFileOpts);\nvar realpathDefaults = optsDefaults;\nvar getRealpathOptions = optsGenerator(realpathDefaults);\nvar getRealpathOptsAndCb = optsAndCbGenerator(getRealpathOptions);\nvar mkdirDefaults = {\n    mode: 511 /* MODE.DIR */,\n    recursive: false,\n};\nvar getMkdirOptions = function (options) {\n    if (typeof options === 'number')\n        return Object.assign({}, mkdirDefaults, { mode: options });\n    return Object.assign({}, mkdirDefaults, options);\n};\nvar rmdirDefaults = {\n    recursive: false,\n};\nvar getRmdirOptions = function (options) {\n    return Object.assign({}, rmdirDefaults, options);\n};\nvar getRmOpts = optsGenerator(optsDefaults);\nvar getRmOptsAndCb = optsAndCbGenerator(getRmOpts);\nvar readdirDefaults = {\n    encoding: 'utf8',\n    withFileTypes: false,\n};\nvar getReaddirOptions = optsGenerator(readdirDefaults);\nvar getReaddirOptsAndCb = optsAndCbGenerator(getReaddirOptions);\nvar statDefaults = {\n    bigint: false,\n};\nvar getStatOptions = function (options) {\n    if (options === void 0) { options = {}; }\n    return Object.assign({}, statDefaults, options);\n};\nvar getStatOptsAndCb = function (options, callback) {\n    return typeof options === 'function' ? [getStatOptions(), options] : [getStatOptions(options), validateCallback(callback)];\n};\n// ---------------------------------------- Utility functions\nfunction getPathFromURLPosix(url) {\n    if (url.hostname !== '') {\n        throw new errors.TypeError('ERR_INVALID_FILE_URL_HOST', process_1.default.platform);\n    }\n    var pathname = url.pathname;\n    for (var n = 0; n < pathname.length; n++) {\n        if (pathname[n] === '%') {\n            var third = pathname.codePointAt(n + 2) | 0x20;\n            if (pathname[n + 1] === '2' && third === 102) {\n                throw new errors.TypeError('ERR_INVALID_FILE_URL_PATH', 'must not include encoded / characters');\n            }\n        }\n    }\n    return decodeURIComponent(pathname);\n}\nfunction pathToFilename(path) {\n    if (typeof path !== 'string' && !buffer_1.Buffer.isBuffer(path)) {\n        try {\n            if (!(path instanceof require('url').URL))\n                throw new TypeError(ERRSTR.PATH_STR);\n        }\n        catch (err) {\n            throw new TypeError(ERRSTR.PATH_STR);\n        }\n        path = getPathFromURLPosix(path);\n    }\n    var pathString = String(path);\n    nullCheck(pathString);\n    // return slash(pathString);\n    return pathString;\n}\nexports.pathToFilename = pathToFilename;\nvar resolve = function (filename, base) {\n    if (base === void 0) { base = process_1.default.cwd(); }\n    return resolveCrossPlatform(base, filename);\n};\nif (isWin) {\n    var _resolve_1 = resolve;\n    var unixify_1 = require('fs-monkey/lib/correctPath').unixify;\n    resolve = function (filename, base) { return unixify_1(_resolve_1(filename, base)); };\n}\nfunction filenameToSteps(filename, base) {\n    var fullPath = resolve(filename, base);\n    var fullPathSansSlash = fullPath.substring(1);\n    if (!fullPathSansSlash)\n        return [];\n    return fullPathSansSlash.split(sep);\n}\nexports.filenameToSteps = filenameToSteps;\nfunction pathToSteps(path) {\n    return filenameToSteps(pathToFilename(path));\n}\nexports.pathToSteps = pathToSteps;\nfunction dataToStr(data, encoding) {\n    if (encoding === void 0) { encoding = encoding_1.ENCODING_UTF8; }\n    if (buffer_1.Buffer.isBuffer(data))\n        return data.toString(encoding);\n    else if (data instanceof Uint8Array)\n        return (0, buffer_1.bufferFrom)(data).toString(encoding);\n    else\n        return String(data);\n}\nexports.dataToStr = dataToStr;\nfunction dataToBuffer(data, encoding) {\n    if (encoding === void 0) { encoding = encoding_1.ENCODING_UTF8; }\n    if (buffer_1.Buffer.isBuffer(data))\n        return data;\n    else if (data instanceof Uint8Array)\n        return (0, buffer_1.bufferFrom)(data);\n    else\n        return (0, buffer_1.bufferFrom)(String(data), encoding);\n}\nexports.dataToBuffer = dataToBuffer;\nfunction bufferToEncoding(buffer, encoding) {\n    if (!encoding || encoding === 'buffer')\n        return buffer;\n    else\n        return buffer.toString(encoding);\n}\nexports.bufferToEncoding = bufferToEncoding;\nfunction nullCheck(path, callback) {\n    if (('' + path).indexOf('\\u0000') !== -1) {\n        var er = new Error('Path must be a string without null bytes');\n        er.code = ENOENT;\n        if (typeof callback !== 'function')\n            throw er;\n        process_1.default.nextTick(callback, er);\n        return false;\n    }\n    return true;\n}\nfunction _modeToNumber(mode, def) {\n    if (typeof mode === 'number')\n        return mode;\n    if (typeof mode === 'string')\n        return parseInt(mode, 8);\n    if (def)\n        return modeToNumber(def);\n    return undefined;\n}\nfunction modeToNumber(mode, def) {\n    var result = _modeToNumber(mode, def);\n    if (typeof result !== 'number' || isNaN(result))\n        throw new TypeError(ERRSTR.MODE_INT);\n    return result;\n}\nfunction isFd(path) {\n    return path >>> 0 === path;\n}\nfunction validateFd(fd) {\n    if (!isFd(fd))\n        throw TypeError(ERRSTR.FD);\n}\n// converts Date or number to a fractional UNIX timestamp\nfunction toUnixTimestamp(time) {\n    // tslint:disable-next-line triple-equals\n    if (typeof time === 'string' && +time == time) {\n        return +time;\n    }\n    if (time instanceof Date) {\n        return time.getTime() / 1000;\n    }\n    if (isFinite(time)) {\n        if (time < 0) {\n            return Date.now() / 1000;\n        }\n        return time;\n    }\n    throw new Error('Cannot parse time: ' + time);\n}\nexports.toUnixTimestamp = toUnixTimestamp;\nfunction validateUid(uid) {\n    if (typeof uid !== 'number')\n        throw TypeError(ERRSTR.UID);\n}\nfunction validateGid(gid) {\n    if (typeof gid !== 'number')\n        throw TypeError(ERRSTR.GID);\n}\nfunction flattenJSON(nestedJSON) {\n    var flatJSON = {};\n    function flatten(pathPrefix, node) {\n        for (var path in node) {\n            var contentOrNode = node[path];\n            var joinedPath = join(pathPrefix, path);\n            if (typeof contentOrNode === 'string') {\n                flatJSON[joinedPath] = contentOrNode;\n            }\n            else if (typeof contentOrNode === 'object' && contentOrNode !== null && Object.keys(contentOrNode).length > 0) {\n                // empty directories need an explicit entry and therefore get handled in `else`, non-empty ones are implicitly considered\n                flatten(joinedPath, contentOrNode);\n            }\n            else {\n                // without this branch null, empty-object or non-object entries would not be handled in the same way\n                // by both fromJSON() and fromNestedJSON()\n                flatJSON[joinedPath] = null;\n            }\n        }\n    }\n    flatten('', nestedJSON);\n    return flatJSON;\n}\n/**\n * `Volume` represents a file system.\n */\nvar Volume = /** @class */ (function () {\n    function Volume(props) {\n        if (props === void 0) { props = {}; }\n        // I-node number counter.\n        this.ino = 0;\n        // A mapping for i-node numbers to i-nodes (`Node`);\n        this.inodes = {};\n        // List of released i-node numbers, for reuse.\n        this.releasedInos = [];\n        // A mapping for file descriptors to `File`s.\n        this.fds = {};\n        // A list of reusable (opened and closed) file descriptors, that should be\n        // used first before creating a new file descriptor.\n        this.releasedFds = [];\n        // Max number of open files.\n        this.maxFiles = 10000;\n        // Current number of open files.\n        this.openFiles = 0;\n        this.promisesApi = (0, promises_1.default)(this);\n        this.statWatchers = {};\n        this.props = Object.assign({ Node: node_1.Node, Link: node_1.Link, File: node_1.File }, props);\n        var root = this.createLink();\n        root.setNode(this.createNode(true));\n        var self = this; // tslint:disable-line no-this-assignment\n        this.StatWatcher = /** @class */ (function (_super) {\n            __extends(StatWatcher, _super);\n            function StatWatcher() {\n                return _super.call(this, self) || this;\n            }\n            return StatWatcher;\n        }(StatWatcher));\n        var _ReadStream = FsReadStream;\n        this.ReadStream = /** @class */ (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return _super.apply(this, __spreadArray([self], args, false)) || this;\n            }\n            return class_1;\n        }(_ReadStream));\n        var _WriteStream = FsWriteStream;\n        this.WriteStream = /** @class */ (function (_super) {\n            __extends(class_2, _super);\n            function class_2() {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return _super.apply(this, __spreadArray([self], args, false)) || this;\n            }\n            return class_2;\n        }(_WriteStream));\n        this.FSWatcher = /** @class */ (function (_super) {\n            __extends(FSWatcher, _super);\n            function FSWatcher() {\n                return _super.call(this, self) || this;\n            }\n            return FSWatcher;\n        }(FSWatcher));\n        root.setChild('.', root);\n        root.getNode().nlink++;\n        root.setChild('..', root);\n        root.getNode().nlink++;\n        this.root = root;\n    }\n    Volume.fromJSON = function (json, cwd) {\n        var vol = new Volume();\n        vol.fromJSON(json, cwd);\n        return vol;\n    };\n    Volume.fromNestedJSON = function (json, cwd) {\n        var vol = new Volume();\n        vol.fromNestedJSON(json, cwd);\n        return vol;\n    };\n    Object.defineProperty(Volume.prototype, \"promises\", {\n        get: function () {\n            if (this.promisesApi === null)\n                throw new Error('Promise is not supported in this environment.');\n            return this.promisesApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Volume.prototype.createLink = function (parent, name, isDirectory, perm) {\n        if (isDirectory === void 0) { isDirectory = false; }\n        if (!parent) {\n            return new this.props.Link(this, null, '');\n        }\n        if (!name) {\n            throw new Error('createLink: name cannot be empty');\n        }\n        return parent.createChild(name, this.createNode(isDirectory, perm));\n    };\n    Volume.prototype.deleteLink = function (link) {\n        var parent = link.parent;\n        if (parent) {\n            parent.deleteChild(link);\n            return true;\n        }\n        return false;\n    };\n    Volume.prototype.newInoNumber = function () {\n        var releasedFd = this.releasedInos.pop();\n        if (releasedFd)\n            return releasedFd;\n        else {\n            this.ino = (this.ino + 1) % 0xffffffff;\n            return this.ino;\n        }\n    };\n    Volume.prototype.newFdNumber = function () {\n        var releasedFd = this.releasedFds.pop();\n        return typeof releasedFd === 'number' ? releasedFd : Volume.fd--;\n    };\n    Volume.prototype.createNode = function (isDirectory, perm) {\n        if (isDirectory === void 0) { isDirectory = false; }\n        var node = new this.props.Node(this.newInoNumber(), perm);\n        if (isDirectory)\n            node.setIsDirectory();\n        this.inodes[node.ino] = node;\n        return node;\n    };\n    Volume.prototype.getNode = function (ino) {\n        return this.inodes[ino];\n    };\n    Volume.prototype.deleteNode = function (node) {\n        node.del();\n        delete this.inodes[node.ino];\n        this.releasedInos.push(node.ino);\n    };\n    // Generates 6 character long random string, used by `mkdtemp`.\n    Volume.prototype.genRndStr = function () {\n        var str = (Math.random() + 1).toString(36).substring(2, 8);\n        if (str.length === 6)\n            return str;\n        else\n            return this.genRndStr();\n    };\n    // Returns a `Link` (hard link) referenced by path \"split\" into steps.\n    Volume.prototype.getLink = function (steps) {\n        return this.root.walk(steps);\n    };\n    // Just link `getLink`, but throws a correct user error, if link to found.\n    Volume.prototype.getLinkOrThrow = function (filename, funcName) {\n        var steps = filenameToSteps(filename);\n        var link = this.getLink(steps);\n        if (!link)\n            throw createError(ENOENT, funcName, filename);\n        return link;\n    };\n    // Just like `getLink`, but also dereference/resolves symbolic links.\n    Volume.prototype.getResolvedLink = function (filenameOrSteps) {\n        var steps = typeof filenameOrSteps === 'string' ? filenameToSteps(filenameOrSteps) : filenameOrSteps;\n        var link = this.root;\n        var i = 0;\n        while (i < steps.length) {\n            var step = steps[i];\n            link = link.getChild(step);\n            if (!link)\n                return null;\n            var node = link.getNode();\n            if (node.isSymlink()) {\n                steps = node.symlink.concat(steps.slice(i + 1));\n                link = this.root;\n                i = 0;\n                continue;\n            }\n            i++;\n        }\n        return link;\n    };\n    // Just like `getLinkOrThrow`, but also dereference/resolves symbolic links.\n    Volume.prototype.getResolvedLinkOrThrow = function (filename, funcName) {\n        var link = this.getResolvedLink(filename);\n        if (!link)\n            throw createError(ENOENT, funcName, filename);\n        return link;\n    };\n    Volume.prototype.resolveSymlinks = function (link) {\n        // let node: Node = link.getNode();\n        // while(link && node.isSymlink()) {\n        //     link = this.getLink(node.symlink);\n        //     if(!link) return null;\n        //     node = link.getNode();\n        // }\n        // return link;\n        return this.getResolvedLink(link.steps.slice(1));\n    };\n    // Just like `getLinkOrThrow`, but also verifies that the link is a directory.\n    Volume.prototype.getLinkAsDirOrThrow = function (filename, funcName) {\n        var link = this.getLinkOrThrow(filename, funcName);\n        if (!link.getNode().isDirectory())\n            throw createError(ENOTDIR, funcName, filename);\n        return link;\n    };\n    // Get the immediate parent directory of the link.\n    Volume.prototype.getLinkParent = function (steps) {\n        return this.root.walk(steps, steps.length - 1);\n    };\n    Volume.prototype.getLinkParentAsDirOrThrow = function (filenameOrSteps, funcName) {\n        var steps = filenameOrSteps instanceof Array ? filenameOrSteps : filenameToSteps(filenameOrSteps);\n        var link = this.getLinkParent(steps);\n        if (!link)\n            throw createError(ENOENT, funcName, sep + steps.join(sep));\n        if (!link.getNode().isDirectory())\n            throw createError(ENOTDIR, funcName, sep + steps.join(sep));\n        return link;\n    };\n    Volume.prototype.getFileByFd = function (fd) {\n        return this.fds[String(fd)];\n    };\n    Volume.prototype.getFileByFdOrThrow = function (fd, funcName) {\n        if (!isFd(fd))\n            throw TypeError(ERRSTR.FD);\n        var file = this.getFileByFd(fd);\n        if (!file)\n            throw createError(EBADF, funcName);\n        return file;\n    };\n    /**\n     * @todo This is not used anymore. Remove.\n     */\n    /*\n    private getNodeByIdOrCreate(id: TFileId, flags: number, perm: number): Node {\n      if (typeof id === 'number') {\n        const file = this.getFileByFd(id);\n        if (!file) throw Error('File nto found');\n        return file.node;\n      } else {\n        const steps = pathToSteps(id as PathLike);\n        let link = this.getLink(steps);\n        if (link) return link.getNode();\n  \n        // Try creating a node if not found.\n        if (flags & O_CREAT) {\n          const dirLink = this.getLinkParent(steps);\n          if (dirLink) {\n            const name = steps[steps.length - 1];\n            link = this.createLink(dirLink, name, false, perm);\n            return link.getNode();\n          }\n        }\n  \n        throw createError(ENOENT, 'getNodeByIdOrCreate', pathToFilename(id));\n      }\n    }\n    */\n    Volume.prototype.wrapAsync = function (method, args, callback) {\n        var _this = this;\n        validateCallback(callback);\n        (0, setImmediate_1.default)(function () {\n            var result;\n            try {\n                result = method.apply(_this, args);\n            }\n            catch (err) {\n                callback(err);\n                return;\n            }\n            callback(null, result);\n        });\n    };\n    Volume.prototype._toJSON = function (link, json, path) {\n        var _a;\n        if (link === void 0) { link = this.root; }\n        if (json === void 0) { json = {}; }\n        var isEmpty = true;\n        var children = link.children;\n        if (link.getNode().isFile()) {\n            children = (_a = {}, _a[link.getName()] = link.parent.getChild(link.getName()), _a);\n            link = link.parent;\n        }\n        for (var name_1 in children) {\n            if (name_1 === '.' || name_1 === '..') {\n                continue;\n            }\n            isEmpty = false;\n            var child = link.getChild(name_1);\n            if (!child) {\n                throw new Error('_toJSON: unexpected undefined');\n            }\n            var node = child.getNode();\n            if (node.isFile()) {\n                var filename = child.getPath();\n                if (path)\n                    filename = relative(path, filename);\n                json[filename] = node.getString();\n            }\n            else if (node.isDirectory()) {\n                this._toJSON(child, json, path);\n            }\n        }\n        var dirPath = link.getPath();\n        if (path)\n            dirPath = relative(path, dirPath);\n        if (dirPath && isEmpty) {\n            json[dirPath] = null;\n        }\n        return json;\n    };\n    Volume.prototype.toJSON = function (paths, json, isRelative) {\n        if (json === void 0) { json = {}; }\n        if (isRelative === void 0) { isRelative = false; }\n        var links = [];\n        if (paths) {\n            if (!(paths instanceof Array))\n                paths = [paths];\n            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\n                var path = paths_1[_i];\n                var filename = pathToFilename(path);\n                var link = this.getResolvedLink(filename);\n                if (!link)\n                    continue;\n                links.push(link);\n            }\n        }\n        else {\n            links.push(this.root);\n        }\n        if (!links.length)\n            return json;\n        for (var _a = 0, links_1 = links; _a < links_1.length; _a++) {\n            var link = links_1[_a];\n            this._toJSON(link, json, isRelative ? link.getPath() : '');\n        }\n        return json;\n    };\n    Volume.prototype.fromJSON = function (json, cwd) {\n        if (cwd === void 0) { cwd = process_1.default.cwd(); }\n        for (var filename in json) {\n            var data = json[filename];\n            filename = resolve(filename, cwd);\n            if (typeof data === 'string') {\n                var dir = dirname(filename);\n                this.mkdirpBase(dir, 511 /* MODE.DIR */);\n                this.writeFileSync(filename, data);\n            }\n            else {\n                this.mkdirpBase(filename, 511 /* MODE.DIR */);\n            }\n        }\n    };\n    Volume.prototype.fromNestedJSON = function (json, cwd) {\n        this.fromJSON(flattenJSON(json), cwd);\n    };\n    Volume.prototype.reset = function () {\n        this.ino = 0;\n        this.inodes = {};\n        this.releasedInos = [];\n        this.fds = {};\n        this.releasedFds = [];\n        this.openFiles = 0;\n        this.root = this.createLink();\n        this.root.setNode(this.createNode(true));\n    };\n    // Legacy interface\n    Volume.prototype.mountSync = function (mountpoint, json) {\n        this.fromJSON(json, mountpoint);\n    };\n    Volume.prototype.openLink = function (link, flagsNum, resolveSymlinks) {\n        if (resolveSymlinks === void 0) { resolveSymlinks = true; }\n        if (this.openFiles >= this.maxFiles) {\n            // Too many open files.\n            throw createError(EMFILE, 'open', link.getPath());\n        }\n        // Resolve symlinks.\n        var realLink = link;\n        if (resolveSymlinks)\n            realLink = this.resolveSymlinks(link);\n        if (!realLink)\n            throw createError(ENOENT, 'open', link.getPath());\n        var node = realLink.getNode();\n        // Check whether node is a directory\n        if (node.isDirectory()) {\n            if ((flagsNum & (O_RDONLY | O_RDWR | O_WRONLY)) !== O_RDONLY)\n                throw createError(EISDIR, 'open', link.getPath());\n        }\n        else {\n            if (flagsNum & O_DIRECTORY)\n                throw createError(ENOTDIR, 'open', link.getPath());\n        }\n        // Check node permissions\n        if (!(flagsNum & O_WRONLY)) {\n            if (!node.canRead()) {\n                throw createError(EACCES, 'open', link.getPath());\n            }\n        }\n        if (flagsNum & O_RDWR) {\n        }\n        var file = new this.props.File(link, node, flagsNum, this.newFdNumber());\n        this.fds[file.fd] = file;\n        this.openFiles++;\n        if (flagsNum & O_TRUNC)\n            file.truncate();\n        return file;\n    };\n    Volume.prototype.openFile = function (filename, flagsNum, modeNum, resolveSymlinks) {\n        if (resolveSymlinks === void 0) { resolveSymlinks = true; }\n        var steps = filenameToSteps(filename);\n        var link = resolveSymlinks ? this.getResolvedLink(steps) : this.getLink(steps);\n        if (link && flagsNum & O_EXCL)\n            throw createError(EEXIST, 'open', filename);\n        // Try creating a new file, if it does not exist.\n        if (!link && flagsNum & O_CREAT) {\n            // const dirLink: Link = this.getLinkParent(steps);\n            var dirLink = this.getResolvedLink(steps.slice(0, steps.length - 1));\n            // if(!dirLink) throw createError(ENOENT, 'open', filename);\n            if (!dirLink)\n                throw createError(ENOENT, 'open', sep + steps.join(sep));\n            if (flagsNum & O_CREAT && typeof modeNum === 'number') {\n                link = this.createLink(dirLink, steps[steps.length - 1], false, modeNum);\n            }\n        }\n        if (link)\n            return this.openLink(link, flagsNum, resolveSymlinks);\n        throw createError(ENOENT, 'open', filename);\n    };\n    Volume.prototype.openBase = function (filename, flagsNum, modeNum, resolveSymlinks) {\n        if (resolveSymlinks === void 0) { resolveSymlinks = true; }\n        var file = this.openFile(filename, flagsNum, modeNum, resolveSymlinks);\n        if (!file)\n            throw createError(ENOENT, 'open', filename);\n        return file.fd;\n    };\n    Volume.prototype.openSync = function (path, flags, mode) {\n        if (mode === void 0) { mode = 438 /* MODE.DEFAULT */; }\n        // Validate (1) mode; (2) path; (3) flags - in that order.\n        var modeNum = modeToNumber(mode);\n        var fileName = pathToFilename(path);\n        var flagsNum = flagsToNumber(flags);\n        return this.openBase(fileName, flagsNum, modeNum);\n    };\n    Volume.prototype.open = function (path, flags, a, b) {\n        var mode = a;\n        var callback = b;\n        if (typeof a === 'function') {\n            mode = 438 /* MODE.DEFAULT */;\n            callback = a;\n        }\n        mode = mode || 438 /* MODE.DEFAULT */;\n        var modeNum = modeToNumber(mode);\n        var fileName = pathToFilename(path);\n        var flagsNum = flagsToNumber(flags);\n        this.wrapAsync(this.openBase, [fileName, flagsNum, modeNum], callback);\n    };\n    Volume.prototype.closeFile = function (file) {\n        if (!this.fds[file.fd])\n            return;\n        this.openFiles--;\n        delete this.fds[file.fd];\n        this.releasedFds.push(file.fd);\n    };\n    Volume.prototype.closeSync = function (fd) {\n        validateFd(fd);\n        var file = this.getFileByFdOrThrow(fd, 'close');\n        this.closeFile(file);\n    };\n    Volume.prototype.close = function (fd, callback) {\n        validateFd(fd);\n        this.wrapAsync(this.closeSync, [fd], callback);\n    };\n    Volume.prototype.openFileOrGetById = function (id, flagsNum, modeNum) {\n        if (typeof id === 'number') {\n            var file = this.fds[id];\n            if (!file)\n                throw createError(ENOENT);\n            return file;\n        }\n        else {\n            return this.openFile(pathToFilename(id), flagsNum, modeNum);\n        }\n    };\n    Volume.prototype.readBase = function (fd, buffer, offset, length, position) {\n        var file = this.getFileByFdOrThrow(fd);\n        return file.read(buffer, Number(offset), Number(length), position);\n    };\n    Volume.prototype.readSync = function (fd, buffer, offset, length, position) {\n        validateFd(fd);\n        return this.readBase(fd, buffer, offset, length, position);\n    };\n    Volume.prototype.read = function (fd, buffer, offset, length, position, callback) {\n        var _this = this;\n        validateCallback(callback);\n        // This `if` branch is from Node.js\n        if (length === 0) {\n            return process_1.default.nextTick(function () {\n                if (callback)\n                    callback(null, 0, buffer);\n            });\n        }\n        (0, setImmediate_1.default)(function () {\n            try {\n                var bytes = _this.readBase(fd, buffer, offset, length, position);\n                callback(null, bytes, buffer);\n            }\n            catch (err) {\n                callback(err);\n            }\n        });\n    };\n    Volume.prototype.readFileBase = function (id, flagsNum, encoding) {\n        var result;\n        var isUserFd = typeof id === 'number';\n        var userOwnsFd = isUserFd && isFd(id);\n        var fd;\n        if (userOwnsFd)\n            fd = id;\n        else {\n            var filename = pathToFilename(id);\n            var steps = filenameToSteps(filename);\n            var link = this.getResolvedLink(steps);\n            if (link) {\n                var node = link.getNode();\n                if (node.isDirectory())\n                    throw createError(EISDIR, 'open', link.getPath());\n            }\n            fd = this.openSync(id, flagsNum);\n        }\n        try {\n            result = bufferToEncoding(this.getFileByFdOrThrow(fd).getBuffer(), encoding);\n        }\n        finally {\n            if (!userOwnsFd) {\n                this.closeSync(fd);\n            }\n        }\n        return result;\n    };\n    Volume.prototype.readFileSync = function (file, options) {\n        var opts = getReadFileOptions(options);\n        var flagsNum = flagsToNumber(opts.flag);\n        return this.readFileBase(file, flagsNum, opts.encoding);\n    };\n    Volume.prototype.readFile = function (id, a, b) {\n        var _a = optsAndCbGenerator(getReadFileOptions)(a, b), opts = _a[0], callback = _a[1];\n        var flagsNum = flagsToNumber(opts.flag);\n        this.wrapAsync(this.readFileBase, [id, flagsNum, opts.encoding], callback);\n    };\n    Volume.prototype.writeBase = function (fd, buf, offset, length, position) {\n        var file = this.getFileByFdOrThrow(fd, 'write');\n        return file.write(buf, offset, length, position);\n    };\n    Volume.prototype.writeSync = function (fd, a, b, c, d) {\n        validateFd(fd);\n        var encoding;\n        var offset;\n        var length;\n        var position;\n        var isBuffer = typeof a !== 'string';\n        if (isBuffer) {\n            offset = (b || 0) | 0;\n            length = c;\n            position = d;\n        }\n        else {\n            position = b;\n            encoding = c;\n        }\n        var buf = dataToBuffer(a, encoding);\n        if (isBuffer) {\n            if (typeof length === 'undefined') {\n                length = buf.length;\n            }\n        }\n        else {\n            offset = 0;\n            length = buf.length;\n        }\n        return this.writeBase(fd, buf, offset, length, position);\n    };\n    Volume.prototype.write = function (fd, a, b, c, d, e) {\n        var _this = this;\n        validateFd(fd);\n        var offset;\n        var length;\n        var position;\n        var encoding;\n        var callback;\n        var tipa = typeof a;\n        var tipb = typeof b;\n        var tipc = typeof c;\n        var tipd = typeof d;\n        if (tipa !== 'string') {\n            if (tipb === 'function') {\n                callback = b;\n            }\n            else if (tipc === 'function') {\n                offset = b | 0;\n                callback = c;\n            }\n            else if (tipd === 'function') {\n                offset = b | 0;\n                length = c;\n                callback = d;\n            }\n            else {\n                offset = b | 0;\n                length = c;\n                position = d;\n                callback = e;\n            }\n        }\n        else {\n            if (tipb === 'function') {\n                callback = b;\n            }\n            else if (tipc === 'function') {\n                position = b;\n                callback = c;\n            }\n            else if (tipd === 'function') {\n                position = b;\n                encoding = c;\n                callback = d;\n            }\n        }\n        var buf = dataToBuffer(a, encoding);\n        if (tipa !== 'string') {\n            if (typeof length === 'undefined')\n                length = buf.length;\n        }\n        else {\n            offset = 0;\n            length = buf.length;\n        }\n        var cb = validateCallback(callback);\n        (0, setImmediate_1.default)(function () {\n            try {\n                var bytes = _this.writeBase(fd, buf, offset, length, position);\n                if (tipa !== 'string') {\n                    cb(null, bytes, buf);\n                }\n                else {\n                    cb(null, bytes, a);\n                }\n            }\n            catch (err) {\n                cb(err);\n            }\n        });\n    };\n    Volume.prototype.writeFileBase = function (id, buf, flagsNum, modeNum) {\n        // console.log('writeFileBase', id, buf, flagsNum, modeNum);\n        // const node = this.getNodeByIdOrCreate(id, flagsNum, modeNum);\n        // node.setBuffer(buf);\n        var isUserFd = typeof id === 'number';\n        var fd;\n        if (isUserFd)\n            fd = id;\n        else {\n            fd = this.openBase(pathToFilename(id), flagsNum, modeNum);\n            // fd = this.openSync(id as PathLike, flagsNum, modeNum);\n        }\n        var offset = 0;\n        var length = buf.length;\n        var position = flagsNum & O_APPEND ? undefined : 0;\n        try {\n            while (length > 0) {\n                var written = this.writeSync(fd, buf, offset, length, position);\n                offset += written;\n                length -= written;\n                if (position !== undefined)\n                    position += written;\n            }\n        }\n        finally {\n            if (!isUserFd)\n                this.closeSync(fd);\n        }\n    };\n    Volume.prototype.writeFileSync = function (id, data, options) {\n        var opts = getWriteFileOptions(options);\n        var flagsNum = flagsToNumber(opts.flag);\n        var modeNum = modeToNumber(opts.mode);\n        var buf = dataToBuffer(data, opts.encoding);\n        this.writeFileBase(id, buf, flagsNum, modeNum);\n    };\n    Volume.prototype.writeFile = function (id, data, a, b) {\n        var options = a;\n        var callback = b;\n        if (typeof a === 'function') {\n            options = writeFileDefaults;\n            callback = a;\n        }\n        var cb = validateCallback(callback);\n        var opts = getWriteFileOptions(options);\n        var flagsNum = flagsToNumber(opts.flag);\n        var modeNum = modeToNumber(opts.mode);\n        var buf = dataToBuffer(data, opts.encoding);\n        this.wrapAsync(this.writeFileBase, [id, buf, flagsNum, modeNum], cb);\n    };\n    Volume.prototype.linkBase = function (filename1, filename2) {\n        var steps1 = filenameToSteps(filename1);\n        var link1 = this.getLink(steps1);\n        if (!link1)\n            throw createError(ENOENT, 'link', filename1, filename2);\n        var steps2 = filenameToSteps(filename2);\n        // Check new link directory exists.\n        var dir2 = this.getLinkParent(steps2);\n        if (!dir2)\n            throw createError(ENOENT, 'link', filename1, filename2);\n        var name = steps2[steps2.length - 1];\n        // Check if new file already exists.\n        if (dir2.getChild(name))\n            throw createError(EEXIST, 'link', filename1, filename2);\n        var node = link1.getNode();\n        node.nlink++;\n        dir2.createChild(name, node);\n    };\n    Volume.prototype.copyFileBase = function (src, dest, flags) {\n        var buf = this.readFileSync(src);\n        if (flags & COPYFILE_EXCL) {\n            if (this.existsSync(dest)) {\n                throw createError(EEXIST, 'copyFile', src, dest);\n            }\n        }\n        if (flags & COPYFILE_FICLONE_FORCE) {\n            throw createError(ENOSYS, 'copyFile', src, dest);\n        }\n        this.writeFileBase(dest, buf, FLAGS.w, 438 /* MODE.DEFAULT */);\n    };\n    Volume.prototype.copyFileSync = function (src, dest, flags) {\n        var srcFilename = pathToFilename(src);\n        var destFilename = pathToFilename(dest);\n        return this.copyFileBase(srcFilename, destFilename, (flags || 0) | 0);\n    };\n    Volume.prototype.copyFile = function (src, dest, a, b) {\n        var srcFilename = pathToFilename(src);\n        var destFilename = pathToFilename(dest);\n        var flags;\n        var callback;\n        if (typeof a === 'function') {\n            flags = 0;\n            callback = a;\n        }\n        else {\n            flags = a;\n            callback = b;\n        }\n        validateCallback(callback);\n        this.wrapAsync(this.copyFileBase, [srcFilename, destFilename, flags], callback);\n    };\n    Volume.prototype.linkSync = function (existingPath, newPath) {\n        var existingPathFilename = pathToFilename(existingPath);\n        var newPathFilename = pathToFilename(newPath);\n        this.linkBase(existingPathFilename, newPathFilename);\n    };\n    Volume.prototype.link = function (existingPath, newPath, callback) {\n        var existingPathFilename = pathToFilename(existingPath);\n        var newPathFilename = pathToFilename(newPath);\n        this.wrapAsync(this.linkBase, [existingPathFilename, newPathFilename], callback);\n    };\n    Volume.prototype.unlinkBase = function (filename) {\n        var steps = filenameToSteps(filename);\n        var link = this.getLink(steps);\n        if (!link)\n            throw createError(ENOENT, 'unlink', filename);\n        // TODO: Check if it is file, dir, other...\n        if (link.length)\n            throw Error('Dir not empty...');\n        this.deleteLink(link);\n        var node = link.getNode();\n        node.nlink--;\n        // When all hard links to i-node are deleted, remove the i-node, too.\n        if (node.nlink <= 0) {\n            this.deleteNode(node);\n        }\n    };\n    Volume.prototype.unlinkSync = function (path) {\n        var filename = pathToFilename(path);\n        this.unlinkBase(filename);\n    };\n    Volume.prototype.unlink = function (path, callback) {\n        var filename = pathToFilename(path);\n        this.wrapAsync(this.unlinkBase, [filename], callback);\n    };\n    Volume.prototype.symlinkBase = function (targetFilename, pathFilename) {\n        var pathSteps = filenameToSteps(pathFilename);\n        // Check if directory exists, where we about to create a symlink.\n        var dirLink = this.getLinkParent(pathSteps);\n        if (!dirLink)\n            throw createError(ENOENT, 'symlink', targetFilename, pathFilename);\n        var name = pathSteps[pathSteps.length - 1];\n        // Check if new file already exists.\n        if (dirLink.getChild(name))\n            throw createError(EEXIST, 'symlink', targetFilename, pathFilename);\n        // Create symlink.\n        var symlink = dirLink.createChild(name);\n        symlink.getNode().makeSymlink(filenameToSteps(targetFilename));\n        return symlink;\n    };\n    // `type` argument works only on Windows.\n    Volume.prototype.symlinkSync = function (target, path, type) {\n        var targetFilename = pathToFilename(target);\n        var pathFilename = pathToFilename(path);\n        this.symlinkBase(targetFilename, pathFilename);\n    };\n    Volume.prototype.symlink = function (target, path, a, b) {\n        var callback = validateCallback(typeof a === 'function' ? a : b);\n        var targetFilename = pathToFilename(target);\n        var pathFilename = pathToFilename(path);\n        this.wrapAsync(this.symlinkBase, [targetFilename, pathFilename], callback);\n    };\n    Volume.prototype.realpathBase = function (filename, encoding) {\n        var steps = filenameToSteps(filename);\n        var realLink = this.getResolvedLink(steps);\n        if (!realLink)\n            throw createError(ENOENT, 'realpath', filename);\n        return (0, encoding_1.strToEncoding)(realLink.getPath() || '/', encoding);\n    };\n    Volume.prototype.realpathSync = function (path, options) {\n        return this.realpathBase(pathToFilename(path), getRealpathOptions(options).encoding);\n    };\n    Volume.prototype.realpath = function (path, a, b) {\n        var _a = getRealpathOptsAndCb(a, b), opts = _a[0], callback = _a[1];\n        var pathFilename = pathToFilename(path);\n        this.wrapAsync(this.realpathBase, [pathFilename, opts.encoding], callback);\n    };\n    Volume.prototype.lstatBase = function (filename, bigint, throwIfNoEntry) {\n        if (bigint === void 0) { bigint = false; }\n        if (throwIfNoEntry === void 0) { throwIfNoEntry = false; }\n        var link = this.getLink(filenameToSteps(filename));\n        if (link) {\n            return Stats_1.default.build(link.getNode(), bigint);\n        }\n        else if (!throwIfNoEntry) {\n            return undefined;\n        }\n        else {\n            throw createError(ENOENT, 'lstat', filename);\n        }\n    };\n    Volume.prototype.lstatSync = function (path, options) {\n        var _a = getStatOptions(options), _b = _a.throwIfNoEntry, throwIfNoEntry = _b === void 0 ? true : _b, _c = _a.bigint, bigint = _c === void 0 ? false : _c;\n        return this.lstatBase(pathToFilename(path), bigint, throwIfNoEntry);\n    };\n    Volume.prototype.lstat = function (path, a, b) {\n        var _a = getStatOptsAndCb(a, b), _b = _a[0], _c = _b.throwIfNoEntry, throwIfNoEntry = _c === void 0 ? true : _c, _d = _b.bigint, bigint = _d === void 0 ? false : _d, callback = _a[1];\n        this.wrapAsync(this.lstatBase, [pathToFilename(path), bigint, throwIfNoEntry], callback);\n    };\n    Volume.prototype.statBase = function (filename, bigint, throwIfNoEntry) {\n        if (bigint === void 0) { bigint = false; }\n        if (throwIfNoEntry === void 0) { throwIfNoEntry = true; }\n        var link = this.getResolvedLink(filenameToSteps(filename));\n        if (link) {\n            return Stats_1.default.build(link.getNode(), bigint);\n        }\n        else if (!throwIfNoEntry) {\n            return undefined;\n        }\n        else {\n            throw createError(ENOENT, 'stat', filename);\n        }\n    };\n    Volume.prototype.statSync = function (path, options) {\n        var _a = getStatOptions(options), _b = _a.bigint, bigint = _b === void 0 ? true : _b, _c = _a.throwIfNoEntry, throwIfNoEntry = _c === void 0 ? true : _c;\n        return this.statBase(pathToFilename(path), bigint, throwIfNoEntry);\n    };\n    Volume.prototype.stat = function (path, a, b) {\n        var _a = getStatOptsAndCb(a, b), _b = _a[0], _c = _b.bigint, bigint = _c === void 0 ? false : _c, _d = _b.throwIfNoEntry, throwIfNoEntry = _d === void 0 ? true : _d, callback = _a[1];\n        this.wrapAsync(this.statBase, [pathToFilename(path), bigint, throwIfNoEntry], callback);\n    };\n    Volume.prototype.fstatBase = function (fd, bigint) {\n        if (bigint === void 0) { bigint = false; }\n        var file = this.getFileByFd(fd);\n        if (!file)\n            throw createError(EBADF, 'fstat');\n        return Stats_1.default.build(file.node, bigint);\n    };\n    Volume.prototype.fstatSync = function (fd, options) {\n        return this.fstatBase(fd, getStatOptions(options).bigint);\n    };\n    Volume.prototype.fstat = function (fd, a, b) {\n        var _a = getStatOptsAndCb(a, b), opts = _a[0], callback = _a[1];\n        this.wrapAsync(this.fstatBase, [fd, opts.bigint], callback);\n    };\n    Volume.prototype.renameBase = function (oldPathFilename, newPathFilename) {\n        var link = this.getLink(filenameToSteps(oldPathFilename));\n        if (!link)\n            throw createError(ENOENT, 'rename', oldPathFilename, newPathFilename);\n        // TODO: Check if it is directory, if non-empty, we cannot move it, right?\n        var newPathSteps = filenameToSteps(newPathFilename);\n        // Check directory exists for the new location.\n        var newPathDirLink = this.getLinkParent(newPathSteps);\n        if (!newPathDirLink)\n            throw createError(ENOENT, 'rename', oldPathFilename, newPathFilename);\n        // TODO: Also treat cases with directories and symbolic links.\n        // TODO: See: http://man7.org/linux/man-pages/man2/rename.2.html\n        // Remove hard link from old folder.\n        var oldLinkParent = link.parent;\n        if (oldLinkParent) {\n            oldLinkParent.deleteChild(link);\n        }\n        // Rename should overwrite the new path, if that exists.\n        var name = newPathSteps[newPathSteps.length - 1];\n        link.name = name;\n        link.steps = __spreadArray(__spreadArray([], newPathDirLink.steps, true), [name], false);\n        newPathDirLink.setChild(link.getName(), link);\n    };\n    Volume.prototype.renameSync = function (oldPath, newPath) {\n        var oldPathFilename = pathToFilename(oldPath);\n        var newPathFilename = pathToFilename(newPath);\n        this.renameBase(oldPathFilename, newPathFilename);\n    };\n    Volume.prototype.rename = function (oldPath, newPath, callback) {\n        var oldPathFilename = pathToFilename(oldPath);\n        var newPathFilename = pathToFilename(newPath);\n        this.wrapAsync(this.renameBase, [oldPathFilename, newPathFilename], callback);\n    };\n    Volume.prototype.existsBase = function (filename) {\n        return !!this.statBase(filename);\n    };\n    Volume.prototype.existsSync = function (path) {\n        try {\n            return this.existsBase(pathToFilename(path));\n        }\n        catch (err) {\n            return false;\n        }\n    };\n    Volume.prototype.exists = function (path, callback) {\n        var _this = this;\n        var filename = pathToFilename(path);\n        if (typeof callback !== 'function')\n            throw Error(ERRSTR.CB);\n        (0, setImmediate_1.default)(function () {\n            try {\n                callback(_this.existsBase(filename));\n            }\n            catch (err) {\n                callback(false);\n            }\n        });\n    };\n    Volume.prototype.accessBase = function (filename, mode) {\n        var link = this.getLinkOrThrow(filename, 'access');\n        // TODO: Verify permissions\n    };\n    Volume.prototype.accessSync = function (path, mode) {\n        if (mode === void 0) { mode = F_OK; }\n        var filename = pathToFilename(path);\n        mode = mode | 0;\n        this.accessBase(filename, mode);\n    };\n    Volume.prototype.access = function (path, a, b) {\n        var mode = F_OK;\n        var callback;\n        if (typeof a !== 'function') {\n            mode = a | 0; // cast to number\n            callback = validateCallback(b);\n        }\n        else {\n            callback = a;\n        }\n        var filename = pathToFilename(path);\n        this.wrapAsync(this.accessBase, [filename, mode], callback);\n    };\n    Volume.prototype.appendFileSync = function (id, data, options) {\n        if (options === void 0) { options = appendFileDefaults; }\n        var opts = getAppendFileOpts(options);\n        // force append behavior when using a supplied file descriptor\n        if (!opts.flag || isFd(id))\n            opts.flag = 'a';\n        this.writeFileSync(id, data, opts);\n    };\n    Volume.prototype.appendFile = function (id, data, a, b) {\n        var _a = getAppendFileOptsAndCb(a, b), opts = _a[0], callback = _a[1];\n        // force append behavior when using a supplied file descriptor\n        if (!opts.flag || isFd(id))\n            opts.flag = 'a';\n        this.writeFile(id, data, opts, callback);\n    };\n    Volume.prototype.readdirBase = function (filename, options) {\n        var steps = filenameToSteps(filename);\n        var link = this.getResolvedLink(steps);\n        if (!link)\n            throw createError(ENOENT, 'readdir', filename);\n        var node = link.getNode();\n        if (!node.isDirectory())\n            throw createError(ENOTDIR, 'scandir', filename);\n        if (options.withFileTypes) {\n            var list_1 = [];\n            for (var name_2 in link.children) {\n                var child = link.getChild(name_2);\n                if (!child || name_2 === '.' || name_2 === '..') {\n                    continue;\n                }\n                list_1.push(Dirent_1.default.build(child, options.encoding));\n            }\n            if (!isWin && options.encoding !== 'buffer')\n                list_1.sort(function (a, b) {\n                    if (a.name < b.name)\n                        return -1;\n                    if (a.name > b.name)\n                        return 1;\n                    return 0;\n                });\n            return list_1;\n        }\n        var list = [];\n        for (var name_3 in link.children) {\n            if (name_3 === '.' || name_3 === '..') {\n                continue;\n            }\n            list.push((0, encoding_1.strToEncoding)(name_3, options.encoding));\n        }\n        if (!isWin && options.encoding !== 'buffer')\n            list.sort();\n        return list;\n    };\n    Volume.prototype.readdirSync = function (path, options) {\n        var opts = getReaddirOptions(options);\n        var filename = pathToFilename(path);\n        return this.readdirBase(filename, opts);\n    };\n    Volume.prototype.readdir = function (path, a, b) {\n        var _a = getReaddirOptsAndCb(a, b), options = _a[0], callback = _a[1];\n        var filename = pathToFilename(path);\n        this.wrapAsync(this.readdirBase, [filename, options], callback);\n    };\n    Volume.prototype.readlinkBase = function (filename, encoding) {\n        var link = this.getLinkOrThrow(filename, 'readlink');\n        var node = link.getNode();\n        if (!node.isSymlink())\n            throw createError(EINVAL, 'readlink', filename);\n        var str = sep + node.symlink.join(sep);\n        return (0, encoding_1.strToEncoding)(str, encoding);\n    };\n    Volume.prototype.readlinkSync = function (path, options) {\n        var opts = getDefaultOpts(options);\n        var filename = pathToFilename(path);\n        return this.readlinkBase(filename, opts.encoding);\n    };\n    Volume.prototype.readlink = function (path, a, b) {\n        var _a = getDefaultOptsAndCb(a, b), opts = _a[0], callback = _a[1];\n        var filename = pathToFilename(path);\n        this.wrapAsync(this.readlinkBase, [filename, opts.encoding], callback);\n    };\n    Volume.prototype.fsyncBase = function (fd) {\n        this.getFileByFdOrThrow(fd, 'fsync');\n    };\n    Volume.prototype.fsyncSync = function (fd) {\n        this.fsyncBase(fd);\n    };\n    Volume.prototype.fsync = function (fd, callback) {\n        this.wrapAsync(this.fsyncBase, [fd], callback);\n    };\n    Volume.prototype.fdatasyncBase = function (fd) {\n        this.getFileByFdOrThrow(fd, 'fdatasync');\n    };\n    Volume.prototype.fdatasyncSync = function (fd) {\n        this.fdatasyncBase(fd);\n    };\n    Volume.prototype.fdatasync = function (fd, callback) {\n        this.wrapAsync(this.fdatasyncBase, [fd], callback);\n    };\n    Volume.prototype.ftruncateBase = function (fd, len) {\n        var file = this.getFileByFdOrThrow(fd, 'ftruncate');\n        file.truncate(len);\n    };\n    Volume.prototype.ftruncateSync = function (fd, len) {\n        this.ftruncateBase(fd, len);\n    };\n    Volume.prototype.ftruncate = function (fd, a, b) {\n        var len = typeof a === 'number' ? a : 0;\n        var callback = validateCallback(typeof a === 'number' ? b : a);\n        this.wrapAsync(this.ftruncateBase, [fd, len], callback);\n    };\n    Volume.prototype.truncateBase = function (path, len) {\n        var fd = this.openSync(path, 'r+');\n        try {\n            this.ftruncateSync(fd, len);\n        }\n        finally {\n            this.closeSync(fd);\n        }\n    };\n    Volume.prototype.truncateSync = function (id, len) {\n        if (isFd(id))\n            return this.ftruncateSync(id, len);\n        this.truncateBase(id, len);\n    };\n    Volume.prototype.truncate = function (id, a, b) {\n        var len = typeof a === 'number' ? a : 0;\n        var callback = validateCallback(typeof a === 'number' ? b : a);\n        if (isFd(id))\n            return this.ftruncate(id, len, callback);\n        this.wrapAsync(this.truncateBase, [id, len], callback);\n    };\n    Volume.prototype.futimesBase = function (fd, atime, mtime) {\n        var file = this.getFileByFdOrThrow(fd, 'futimes');\n        var node = file.node;\n        node.atime = new Date(atime * 1000);\n        node.mtime = new Date(mtime * 1000);\n    };\n    Volume.prototype.futimesSync = function (fd, atime, mtime) {\n        this.futimesBase(fd, toUnixTimestamp(atime), toUnixTimestamp(mtime));\n    };\n    Volume.prototype.futimes = function (fd, atime, mtime, callback) {\n        this.wrapAsync(this.futimesBase, [fd, toUnixTimestamp(atime), toUnixTimestamp(mtime)], callback);\n    };\n    Volume.prototype.utimesBase = function (filename, atime, mtime) {\n        var fd = this.openSync(filename, 'r');\n        try {\n            this.futimesBase(fd, atime, mtime);\n        }\n        finally {\n            this.closeSync(fd);\n        }\n    };\n    Volume.prototype.utimesSync = function (path, atime, mtime) {\n        this.utimesBase(pathToFilename(path), toUnixTimestamp(atime), toUnixTimestamp(mtime));\n    };\n    Volume.prototype.utimes = function (path, atime, mtime, callback) {\n        this.wrapAsync(this.utimesBase, [pathToFilename(path), toUnixTimestamp(atime), toUnixTimestamp(mtime)], callback);\n    };\n    Volume.prototype.mkdirBase = function (filename, modeNum) {\n        var steps = filenameToSteps(filename);\n        // This will throw if user tries to create root dir `fs.mkdirSync('/')`.\n        if (!steps.length) {\n            throw createError(EEXIST, 'mkdir', filename);\n        }\n        var dir = this.getLinkParentAsDirOrThrow(filename, 'mkdir');\n        // Check path already exists.\n        var name = steps[steps.length - 1];\n        if (dir.getChild(name))\n            throw createError(EEXIST, 'mkdir', filename);\n        dir.createChild(name, this.createNode(true, modeNum));\n    };\n    /**\n     * Creates directory tree recursively.\n     * @param filename\n     * @param modeNum\n     */\n    Volume.prototype.mkdirpBase = function (filename, modeNum) {\n        var fullPath = resolve(filename);\n        var fullPathSansSlash = fullPath.substring(1);\n        var steps = !fullPathSansSlash ? [] : fullPathSansSlash.split(sep);\n        var link = this.root;\n        var created = false;\n        for (var i = 0; i < steps.length; i++) {\n            var step = steps[i];\n            if (!link.getNode().isDirectory())\n                throw createError(ENOTDIR, 'mkdir', link.getPath());\n            var child = link.getChild(step);\n            if (child) {\n                if (child.getNode().isDirectory())\n                    link = child;\n                else\n                    throw createError(ENOTDIR, 'mkdir', child.getPath());\n            }\n            else {\n                link = link.createChild(step, this.createNode(true, modeNum));\n                created = true;\n            }\n        }\n        return created ? fullPath : undefined;\n    };\n    Volume.prototype.mkdirSync = function (path, options) {\n        var opts = getMkdirOptions(options);\n        var modeNum = modeToNumber(opts.mode, 511);\n        var filename = pathToFilename(path);\n        if (opts.recursive)\n            return this.mkdirpBase(filename, modeNum);\n        this.mkdirBase(filename, modeNum);\n    };\n    Volume.prototype.mkdir = function (path, a, b) {\n        var opts = getMkdirOptions(a);\n        var callback = validateCallback(typeof a === 'function' ? a : b);\n        var modeNum = modeToNumber(opts.mode, 511);\n        var filename = pathToFilename(path);\n        if (opts.recursive)\n            this.wrapAsync(this.mkdirpBase, [filename, modeNum], callback);\n        else\n            this.wrapAsync(this.mkdirBase, [filename, modeNum], callback);\n    };\n    // legacy interface\n    Volume.prototype.mkdirpSync = function (path, mode) {\n        return this.mkdirSync(path, { mode: mode, recursive: true });\n    };\n    Volume.prototype.mkdirp = function (path, a, b) {\n        var mode = typeof a === 'function' ? undefined : a;\n        var callback = validateCallback(typeof a === 'function' ? a : b);\n        this.mkdir(path, { mode: mode, recursive: true }, callback);\n    };\n    Volume.prototype.mkdtempBase = function (prefix, encoding, retry) {\n        if (retry === void 0) { retry = 5; }\n        var filename = prefix + this.genRndStr();\n        try {\n            this.mkdirBase(filename, 511 /* MODE.DIR */);\n            return (0, encoding_1.strToEncoding)(filename, encoding);\n        }\n        catch (err) {\n            if (err.code === EEXIST) {\n                if (retry > 1)\n                    return this.mkdtempBase(prefix, encoding, retry - 1);\n                else\n                    throw Error('Could not create temp dir.');\n            }\n            else\n                throw err;\n        }\n    };\n    Volume.prototype.mkdtempSync = function (prefix, options) {\n        var encoding = getDefaultOpts(options).encoding;\n        if (!prefix || typeof prefix !== 'string')\n            throw new TypeError('filename prefix is required');\n        nullCheck(prefix);\n        return this.mkdtempBase(prefix, encoding);\n    };\n    Volume.prototype.mkdtemp = function (prefix, a, b) {\n        var _a = getDefaultOptsAndCb(a, b), encoding = _a[0].encoding, callback = _a[1];\n        if (!prefix || typeof prefix !== 'string')\n            throw new TypeError('filename prefix is required');\n        if (!nullCheck(prefix))\n            return;\n        this.wrapAsync(this.mkdtempBase, [prefix, encoding], callback);\n    };\n    Volume.prototype.rmdirBase = function (filename, options) {\n        var opts = getRmdirOptions(options);\n        var link = this.getLinkAsDirOrThrow(filename, 'rmdir');\n        // Check directory is empty.\n        if (link.length && !opts.recursive)\n            throw createError(ENOTEMPTY, 'rmdir', filename);\n        this.deleteLink(link);\n    };\n    Volume.prototype.rmdirSync = function (path, options) {\n        this.rmdirBase(pathToFilename(path), options);\n    };\n    Volume.prototype.rmdir = function (path, a, b) {\n        var opts = getRmdirOptions(a);\n        var callback = validateCallback(typeof a === 'function' ? a : b);\n        this.wrapAsync(this.rmdirBase, [pathToFilename(path), opts], callback);\n    };\n    Volume.prototype.rmBase = function (filename, options) {\n        if (options === void 0) { options = {}; }\n        var link = this.getResolvedLink(filename);\n        if (!link) {\n            // \"stat\" is used to match Node's native error message.\n            if (!options.force)\n                throw createError(ENOENT, 'stat', filename);\n            return;\n        }\n        if (link.getNode().isDirectory()) {\n            if (!options.recursive) {\n                throw createError(ERR_FS_EISDIR, 'rm', filename);\n            }\n        }\n        this.deleteLink(link);\n    };\n    Volume.prototype.rmSync = function (path, options) {\n        this.rmBase(pathToFilename(path), options);\n    };\n    Volume.prototype.rm = function (path, a, b) {\n        var _a = getRmOptsAndCb(a, b), opts = _a[0], callback = _a[1];\n        this.wrapAsync(this.rmBase, [pathToFilename(path), opts], callback);\n    };\n    Volume.prototype.fchmodBase = function (fd, modeNum) {\n        var file = this.getFileByFdOrThrow(fd, 'fchmod');\n        file.chmod(modeNum);\n    };\n    Volume.prototype.fchmodSync = function (fd, mode) {\n        this.fchmodBase(fd, modeToNumber(mode));\n    };\n    Volume.prototype.fchmod = function (fd, mode, callback) {\n        this.wrapAsync(this.fchmodBase, [fd, modeToNumber(mode)], callback);\n    };\n    Volume.prototype.chmodBase = function (filename, modeNum) {\n        var fd = this.openSync(filename, 'r');\n        try {\n            this.fchmodBase(fd, modeNum);\n        }\n        finally {\n            this.closeSync(fd);\n        }\n    };\n    Volume.prototype.chmodSync = function (path, mode) {\n        var modeNum = modeToNumber(mode);\n        var filename = pathToFilename(path);\n        this.chmodBase(filename, modeNum);\n    };\n    Volume.prototype.chmod = function (path, mode, callback) {\n        var modeNum = modeToNumber(mode);\n        var filename = pathToFilename(path);\n        this.wrapAsync(this.chmodBase, [filename, modeNum], callback);\n    };\n    Volume.prototype.lchmodBase = function (filename, modeNum) {\n        var fd = this.openBase(filename, O_RDWR, 0, false);\n        try {\n            this.fchmodBase(fd, modeNum);\n        }\n        finally {\n            this.closeSync(fd);\n        }\n    };\n    Volume.prototype.lchmodSync = function (path, mode) {\n        var modeNum = modeToNumber(mode);\n        var filename = pathToFilename(path);\n        this.lchmodBase(filename, modeNum);\n    };\n    Volume.prototype.lchmod = function (path, mode, callback) {\n        var modeNum = modeToNumber(mode);\n        var filename = pathToFilename(path);\n        this.wrapAsync(this.lchmodBase, [filename, modeNum], callback);\n    };\n    Volume.prototype.fchownBase = function (fd, uid, gid) {\n        this.getFileByFdOrThrow(fd, 'fchown').chown(uid, gid);\n    };\n    Volume.prototype.fchownSync = function (fd, uid, gid) {\n        validateUid(uid);\n        validateGid(gid);\n        this.fchownBase(fd, uid, gid);\n    };\n    Volume.prototype.fchown = function (fd, uid, gid, callback) {\n        validateUid(uid);\n        validateGid(gid);\n        this.wrapAsync(this.fchownBase, [fd, uid, gid], callback);\n    };\n    Volume.prototype.chownBase = function (filename, uid, gid) {\n        var link = this.getResolvedLinkOrThrow(filename, 'chown');\n        var node = link.getNode();\n        node.chown(uid, gid);\n        // if(node.isFile() || node.isSymlink()) {\n        //\n        // } else if(node.isDirectory()) {\n        //\n        // } else {\n        // TODO: What do we do here?\n        // }\n    };\n    Volume.prototype.chownSync = function (path, uid, gid) {\n        validateUid(uid);\n        validateGid(gid);\n        this.chownBase(pathToFilename(path), uid, gid);\n    };\n    Volume.prototype.chown = function (path, uid, gid, callback) {\n        validateUid(uid);\n        validateGid(gid);\n        this.wrapAsync(this.chownBase, [pathToFilename(path), uid, gid], callback);\n    };\n    Volume.prototype.lchownBase = function (filename, uid, gid) {\n        this.getLinkOrThrow(filename, 'lchown').getNode().chown(uid, gid);\n    };\n    Volume.prototype.lchownSync = function (path, uid, gid) {\n        validateUid(uid);\n        validateGid(gid);\n        this.lchownBase(pathToFilename(path), uid, gid);\n    };\n    Volume.prototype.lchown = function (path, uid, gid, callback) {\n        validateUid(uid);\n        validateGid(gid);\n        this.wrapAsync(this.lchownBase, [pathToFilename(path), uid, gid], callback);\n    };\n    Volume.prototype.watchFile = function (path, a, b) {\n        var filename = pathToFilename(path);\n        var options = a;\n        var listener = b;\n        if (typeof options === 'function') {\n            listener = a;\n            options = null;\n        }\n        if (typeof listener !== 'function') {\n            throw Error('\"watchFile()\" requires a listener function');\n        }\n        var interval = 5007;\n        var persistent = true;\n        if (options && typeof options === 'object') {\n            if (typeof options.interval === 'number')\n                interval = options.interval;\n            if (typeof options.persistent === 'boolean')\n                persistent = options.persistent;\n        }\n        var watcher = this.statWatchers[filename];\n        if (!watcher) {\n            watcher = new this.StatWatcher();\n            watcher.start(filename, persistent, interval);\n            this.statWatchers[filename] = watcher;\n        }\n        watcher.addListener('change', listener);\n        return watcher;\n    };\n    Volume.prototype.unwatchFile = function (path, listener) {\n        var filename = pathToFilename(path);\n        var watcher = this.statWatchers[filename];\n        if (!watcher)\n            return;\n        if (typeof listener === 'function') {\n            watcher.removeListener('change', listener);\n        }\n        else {\n            watcher.removeAllListeners('change');\n        }\n        if (watcher.listenerCount('change') === 0) {\n            watcher.stop();\n            delete this.statWatchers[filename];\n        }\n    };\n    Volume.prototype.createReadStream = function (path, options) {\n        return new this.ReadStream(path, options);\n    };\n    Volume.prototype.createWriteStream = function (path, options) {\n        return new this.WriteStream(path, options);\n    };\n    // watch(path: PathLike): FSWatcher;\n    // watch(path: PathLike, options?: IWatchOptions | string): FSWatcher;\n    Volume.prototype.watch = function (path, options, listener) {\n        var filename = pathToFilename(path);\n        var givenOptions = options;\n        if (typeof options === 'function') {\n            listener = options;\n            givenOptions = null;\n        }\n        // tslint:disable-next-line prefer-const\n        var _a = getDefaultOpts(givenOptions), persistent = _a.persistent, recursive = _a.recursive, encoding = _a.encoding;\n        if (persistent === undefined)\n            persistent = true;\n        if (recursive === undefined)\n            recursive = false;\n        var watcher = new this.FSWatcher();\n        watcher.start(filename, persistent, recursive, encoding);\n        if (listener) {\n            watcher.addListener('change', listener);\n        }\n        return watcher;\n    };\n    /**\n     * Global file descriptor counter. UNIX file descriptors start from 0 and go sequentially\n     * up, so here, in order not to conflict with them, we choose some big number and descrease\n     * the file descriptor of every new opened file.\n     * @type {number}\n     * @todo This should not be static, right?\n     */\n    Volume.fd = 0x7fffffff;\n    return Volume;\n}());\nexports.Volume = Volume;\nfunction emitStop(self) {\n    self.emit('stop');\n}\nvar StatWatcher = /** @class */ (function (_super) {\n    __extends(StatWatcher, _super);\n    function StatWatcher(vol) {\n        var _this = _super.call(this) || this;\n        _this.onInterval = function () {\n            try {\n                var stats = _this.vol.statSync(_this.filename);\n                if (_this.hasChanged(stats)) {\n                    _this.emit('change', stats, _this.prev);\n                    _this.prev = stats;\n                }\n            }\n            finally {\n                _this.loop();\n            }\n        };\n        _this.vol = vol;\n        return _this;\n    }\n    StatWatcher.prototype.loop = function () {\n        this.timeoutRef = this.setTimeout(this.onInterval, this.interval);\n    };\n    StatWatcher.prototype.hasChanged = function (stats) {\n        // if(!this.prev) return false;\n        if (stats.mtimeMs > this.prev.mtimeMs)\n            return true;\n        if (stats.nlink !== this.prev.nlink)\n            return true;\n        return false;\n    };\n    StatWatcher.prototype.start = function (path, persistent, interval) {\n        if (persistent === void 0) { persistent = true; }\n        if (interval === void 0) { interval = 5007; }\n        this.filename = pathToFilename(path);\n        this.setTimeout = persistent\n            ? setTimeout.bind(typeof globalThis !== 'undefined' ? globalThis : global)\n            : setTimeoutUnref_1.default;\n        this.interval = interval;\n        this.prev = this.vol.statSync(this.filename);\n        this.loop();\n    };\n    StatWatcher.prototype.stop = function () {\n        clearTimeout(this.timeoutRef);\n        process_1.default.nextTick(emitStop, this);\n    };\n    return StatWatcher;\n}(events_1.EventEmitter));\nexports.StatWatcher = StatWatcher;\nvar pool;\nfunction allocNewPool(poolSize) {\n    pool = (0, buffer_1.bufferAllocUnsafe)(poolSize);\n    pool.used = 0;\n}\nutil.inherits(FsReadStream, stream_1.Readable);\nexports.ReadStream = FsReadStream;\nfunction FsReadStream(vol, path, options) {\n    if (!(this instanceof FsReadStream))\n        return new FsReadStream(vol, path, options);\n    this._vol = vol;\n    // a little bit bigger buffer and water marks by default\n    options = Object.assign({}, getOptions(options, {}));\n    if (options.highWaterMark === undefined)\n        options.highWaterMark = 64 * 1024;\n    stream_1.Readable.call(this, options);\n    this.path = pathToFilename(path);\n    this.fd = options.fd === undefined ? null : options.fd;\n    this.flags = options.flags === undefined ? 'r' : options.flags;\n    this.mode = options.mode === undefined ? 438 : options.mode;\n    this.start = options.start;\n    this.end = options.end;\n    this.autoClose = options.autoClose === undefined ? true : options.autoClose;\n    this.pos = undefined;\n    this.bytesRead = 0;\n    if (this.start !== undefined) {\n        if (typeof this.start !== 'number') {\n            throw new TypeError('\"start\" option must be a Number');\n        }\n        if (this.end === undefined) {\n            this.end = Infinity;\n        }\n        else if (typeof this.end !== 'number') {\n            throw new TypeError('\"end\" option must be a Number');\n        }\n        if (this.start > this.end) {\n            throw new Error('\"start\" option must be <= \"end\" option');\n        }\n        this.pos = this.start;\n    }\n    if (typeof this.fd !== 'number')\n        this.open();\n    this.on('end', function () {\n        if (this.autoClose) {\n            if (this.destroy)\n                this.destroy();\n        }\n    });\n}\nFsReadStream.prototype.open = function () {\n    var self = this; // tslint:disable-line no-this-assignment\n    this._vol.open(this.path, this.flags, this.mode, function (er, fd) {\n        if (er) {\n            if (self.autoClose) {\n                if (self.destroy)\n                    self.destroy();\n            }\n            self.emit('error', er);\n            return;\n        }\n        self.fd = fd;\n        self.emit('open', fd);\n        // start the flow of data.\n        self.read();\n    });\n};\nFsReadStream.prototype._read = function (n) {\n    if (typeof this.fd !== 'number') {\n        return this.once('open', function () {\n            this._read(n);\n        });\n    }\n    if (this.destroyed)\n        return;\n    if (!pool || pool.length - pool.used < kMinPoolSpace) {\n        // discard the old pool.\n        allocNewPool(this._readableState.highWaterMark);\n    }\n    // Grab another reference to the pool in the case that while we're\n    // in the thread pool another read() finishes up the pool, and\n    // allocates a new one.\n    var thisPool = pool;\n    var toRead = Math.min(pool.length - pool.used, n);\n    var start = pool.used;\n    if (this.pos !== undefined)\n        toRead = Math.min(this.end - this.pos + 1, toRead);\n    // already read everything we were supposed to read!\n    // treat as EOF.\n    if (toRead <= 0)\n        return this.push(null);\n    // the actual read.\n    var self = this; // tslint:disable-line no-this-assignment\n    this._vol.read(this.fd, pool, pool.used, toRead, this.pos, onread);\n    // move the pool positions, and internal position for reading.\n    if (this.pos !== undefined)\n        this.pos += toRead;\n    pool.used += toRead;\n    function onread(er, bytesRead) {\n        if (er) {\n            if (self.autoClose && self.destroy) {\n                self.destroy();\n            }\n            self.emit('error', er);\n        }\n        else {\n            var b = null;\n            if (bytesRead > 0) {\n                self.bytesRead += bytesRead;\n                b = thisPool.slice(start, start + bytesRead);\n            }\n            self.push(b);\n        }\n    }\n};\nFsReadStream.prototype._destroy = function (err, cb) {\n    this.close(function (err2) {\n        cb(err || err2);\n    });\n};\nFsReadStream.prototype.close = function (cb) {\n    var _this = this;\n    var _a;\n    if (cb)\n        this.once('close', cb);\n    if (this.closed || typeof this.fd !== 'number') {\n        if (typeof this.fd !== 'number') {\n            this.once('open', closeOnOpen);\n            return;\n        }\n        return process_1.default.nextTick(function () { return _this.emit('close'); });\n    }\n    // Since Node 18, there is only a getter for '.closed'.\n    // The first branch mimics other setters from Readable.\n    // See https://github.com/nodejs/node/blob/v18.0.0/lib/internal/streams/readable.js#L1243\n    if (typeof ((_a = this._readableState) === null || _a === void 0 ? void 0 : _a.closed) === 'boolean') {\n        this._readableState.closed = true;\n    }\n    else {\n        this.closed = true;\n    }\n    this._vol.close(this.fd, function (er) {\n        if (er)\n            _this.emit('error', er);\n        else\n            _this.emit('close');\n    });\n    this.fd = null;\n};\n// needed because as it will be called with arguments\n// that does not match this.close() signature\nfunction closeOnOpen(fd) {\n    this.close();\n}\nutil.inherits(FsWriteStream, stream_1.Writable);\nexports.WriteStream = FsWriteStream;\nfunction FsWriteStream(vol, path, options) {\n    if (!(this instanceof FsWriteStream))\n        return new FsWriteStream(vol, path, options);\n    this._vol = vol;\n    options = Object.assign({}, getOptions(options, {}));\n    stream_1.Writable.call(this, options);\n    this.path = pathToFilename(path);\n    this.fd = options.fd === undefined ? null : options.fd;\n    this.flags = options.flags === undefined ? 'w' : options.flags;\n    this.mode = options.mode === undefined ? 438 : options.mode;\n    this.start = options.start;\n    this.autoClose = options.autoClose === undefined ? true : !!options.autoClose;\n    this.pos = undefined;\n    this.bytesWritten = 0;\n    if (this.start !== undefined) {\n        if (typeof this.start !== 'number') {\n            throw new TypeError('\"start\" option must be a Number');\n        }\n        if (this.start < 0) {\n            throw new Error('\"start\" must be >= zero');\n        }\n        this.pos = this.start;\n    }\n    if (options.encoding)\n        this.setDefaultEncoding(options.encoding);\n    if (typeof this.fd !== 'number')\n        this.open();\n    // dispose on finish.\n    this.once('finish', function () {\n        if (this.autoClose) {\n            this.close();\n        }\n    });\n}\nFsWriteStream.prototype.open = function () {\n    this._vol.open(this.path, this.flags, this.mode, function (er, fd) {\n        if (er) {\n            if (this.autoClose && this.destroy) {\n                this.destroy();\n            }\n            this.emit('error', er);\n            return;\n        }\n        this.fd = fd;\n        this.emit('open', fd);\n    }.bind(this));\n};\nFsWriteStream.prototype._write = function (data, encoding, cb) {\n    if (!(data instanceof buffer_1.Buffer || data instanceof Uint8Array))\n        return this.emit('error', new Error('Invalid data'));\n    if (typeof this.fd !== 'number') {\n        return this.once('open', function () {\n            this._write(data, encoding, cb);\n        });\n    }\n    var self = this; // tslint:disable-line no-this-assignment\n    this._vol.write(this.fd, data, 0, data.length, this.pos, function (er, bytes) {\n        if (er) {\n            if (self.autoClose && self.destroy) {\n                self.destroy();\n            }\n            return cb(er);\n        }\n        self.bytesWritten += bytes;\n        cb();\n    });\n    if (this.pos !== undefined)\n        this.pos += data.length;\n};\nFsWriteStream.prototype._writev = function (data, cb) {\n    if (typeof this.fd !== 'number') {\n        return this.once('open', function () {\n            this._writev(data, cb);\n        });\n    }\n    var self = this; // tslint:disable-line no-this-assignment\n    var len = data.length;\n    var chunks = new Array(len);\n    var size = 0;\n    for (var i = 0; i < len; i++) {\n        var chunk = data[i].chunk;\n        chunks[i] = chunk;\n        size += chunk.length;\n    }\n    var buf = buffer_1.Buffer.concat(chunks);\n    this._vol.write(this.fd, buf, 0, buf.length, this.pos, function (er, bytes) {\n        if (er) {\n            if (self.destroy)\n                self.destroy();\n            return cb(er);\n        }\n        self.bytesWritten += bytes;\n        cb();\n    });\n    if (this.pos !== undefined)\n        this.pos += size;\n};\nFsWriteStream.prototype.close = function (cb) {\n    var _this = this;\n    var _a;\n    if (cb)\n        this.once('close', cb);\n    if (this.closed || typeof this.fd !== 'number') {\n        if (typeof this.fd !== 'number') {\n            this.once('open', closeOnOpen);\n            return;\n        }\n        return process_1.default.nextTick(function () { return _this.emit('close'); });\n    }\n    // Since Node 18, there is only a getter for '.closed'.\n    // The first branch mimics other setters from Writable.\n    // See https://github.com/nodejs/node/blob/v18.0.0/lib/internal/streams/writable.js#L766\n    if (typeof ((_a = this._writableState) === null || _a === void 0 ? void 0 : _a.closed) === 'boolean') {\n        this._writableState.closed = true;\n    }\n    else {\n        this.closed = true;\n    }\n    this._vol.close(this.fd, function (er) {\n        if (er)\n            _this.emit('error', er);\n        else\n            _this.emit('close');\n    });\n    this.fd = null;\n};\nFsWriteStream.prototype._destroy = FsReadStream.prototype._destroy;\n// There is no shutdown() for files.\nFsWriteStream.prototype.destroySoon = FsWriteStream.prototype.end;\n// ---------------------------------------- FSWatcher\nvar FSWatcher = /** @class */ (function (_super) {\n    __extends(FSWatcher, _super);\n    function FSWatcher(vol) {\n        var _this = _super.call(this) || this;\n        _this._filename = '';\n        _this._filenameEncoded = '';\n        // _persistent: boolean = true;\n        _this._recursive = false;\n        _this._encoding = encoding_1.ENCODING_UTF8;\n        // inode -> removers\n        _this._listenerRemovers = new Map();\n        _this._onParentChild = function (link) {\n            if (link.getName() === _this._getName()) {\n                _this._emit('rename');\n            }\n        };\n        _this._emit = function (type) {\n            _this.emit('change', type, _this._filenameEncoded);\n        };\n        _this._persist = function () {\n            _this._timer = setTimeout(_this._persist, 1e6);\n        };\n        _this._vol = vol;\n        return _this;\n        // TODO: Emit \"error\" messages when watching.\n        // this._handle.onchange = function(status, eventType, filename) {\n        //     if (status < 0) {\n        //         self._handle.close();\n        //         const error = !filename ?\n        //             errnoException(status, 'Error watching file for changes:') :\n        //             errnoException(status, `Error watching file ${filename} for changes:`);\n        //         error.filename = filename;\n        //         self.emit('error', error);\n        //     } else {\n        //         self.emit('change', eventType, filename);\n        //     }\n        // };\n    }\n    FSWatcher.prototype._getName = function () {\n        return this._steps[this._steps.length - 1];\n    };\n    FSWatcher.prototype.start = function (path, persistent, recursive, encoding) {\n        var _this = this;\n        if (persistent === void 0) { persistent = true; }\n        if (recursive === void 0) { recursive = false; }\n        if (encoding === void 0) { encoding = encoding_1.ENCODING_UTF8; }\n        this._filename = pathToFilename(path);\n        this._steps = filenameToSteps(this._filename);\n        this._filenameEncoded = (0, encoding_1.strToEncoding)(this._filename);\n        // this._persistent = persistent;\n        this._recursive = recursive;\n        this._encoding = encoding;\n        try {\n            this._link = this._vol.getLinkOrThrow(this._filename, 'FSWatcher');\n        }\n        catch (err) {\n            var error = new Error(\"watch \".concat(this._filename, \" \").concat(err.code));\n            error.code = err.code;\n            error.errno = err.code;\n            throw error;\n        }\n        var watchLinkNodeChanged = function (link) {\n            var _a;\n            var filepath = link.getPath();\n            var node = link.getNode();\n            var onNodeChange = function () {\n                var filename = relative(_this._filename, filepath);\n                if (!filename) {\n                    filename = _this._getName();\n                }\n                return _this.emit('change', 'change', filename);\n            };\n            node.on('change', onNodeChange);\n            var removers = (_a = _this._listenerRemovers.get(node.ino)) !== null && _a !== void 0 ? _a : [];\n            removers.push(function () { return node.removeListener('change', onNodeChange); });\n            _this._listenerRemovers.set(node.ino, removers);\n        };\n        var watchLinkChildrenChanged = function (link) {\n            var _a;\n            var node = link.getNode();\n            // when a new link added\n            var onLinkChildAdd = function (l) {\n                _this.emit('change', 'rename', relative(_this._filename, l.getPath()));\n                setTimeout(function () {\n                    // 1. watch changes of the new link-node\n                    watchLinkNodeChanged(l);\n                    // 2. watch changes of the new link-node's children\n                    watchLinkChildrenChanged(l);\n                });\n            };\n            // when a new link deleted\n            var onLinkChildDelete = function (l) {\n                // remove the listeners of the children nodes\n                var removeLinkNodeListeners = function (curLink) {\n                    var ino = curLink.getNode().ino;\n                    var removers = _this._listenerRemovers.get(ino);\n                    if (removers) {\n                        removers.forEach(function (r) { return r(); });\n                        _this._listenerRemovers.delete(ino);\n                    }\n                    Object.values(curLink.children).forEach(function (childLink) {\n                        if (childLink) {\n                            removeLinkNodeListeners(childLink);\n                        }\n                    });\n                };\n                removeLinkNodeListeners(l);\n                _this.emit('change', 'rename', relative(_this._filename, l.getPath()));\n            };\n            // children nodes changed\n            Object.entries(link.children).forEach(function (_a) {\n                var name = _a[0], childLink = _a[1];\n                if (childLink && name !== '.' && name !== '..') {\n                    watchLinkNodeChanged(childLink);\n                }\n            });\n            // link children add/remove\n            link.on('child:add', onLinkChildAdd);\n            link.on('child:delete', onLinkChildDelete);\n            var removers = (_a = _this._listenerRemovers.get(node.ino)) !== null && _a !== void 0 ? _a : [];\n            removers.push(function () {\n                link.removeListener('child:add', onLinkChildAdd);\n                link.removeListener('child:delete', onLinkChildDelete);\n            });\n            if (recursive) {\n                Object.entries(link.children).forEach(function (_a) {\n                    var name = _a[0], childLink = _a[1];\n                    if (childLink && name !== '.' && name !== '..') {\n                        watchLinkChildrenChanged(childLink);\n                    }\n                });\n            }\n        };\n        watchLinkNodeChanged(this._link);\n        watchLinkChildrenChanged(this._link);\n        var parent = this._link.parent;\n        if (parent) {\n            // parent.on('child:add', this._onParentChild);\n            parent.setMaxListeners(parent.getMaxListeners() + 1);\n            parent.on('child:delete', this._onParentChild);\n        }\n        if (persistent)\n            this._persist();\n    };\n    FSWatcher.prototype.close = function () {\n        clearTimeout(this._timer);\n        this._listenerRemovers.forEach(function (removers) {\n            removers.forEach(function (r) { return r(); });\n        });\n        this._listenerRemovers.clear();\n        var parent = this._link.parent;\n        if (parent) {\n            // parent.removeListener('child:add', this._onParentChild);\n            parent.removeListener('child:delete', this._onParentChild);\n        }\n    };\n    return FSWatcher;\n}(events_1.EventEmitter));\nexports.FSWatcher = FSWatcher;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fsSyncMethods = exports.fsProps = exports.fsAsyncMethods = void 0;\nvar fsProps = ['constants', 'F_OK', 'R_OK', 'W_OK', 'X_OK', 'Stats'];\nexports.fsProps = fsProps;\nvar fsSyncMethods = ['renameSync', 'ftruncateSync', 'truncateSync', 'chownSync', 'fchownSync', 'lchownSync', 'chmodSync', 'fchmodSync', 'lchmodSync', 'statSync', 'lstatSync', 'fstatSync', 'linkSync', 'symlinkSync', 'readlinkSync', 'realpathSync', 'unlinkSync', 'rmdirSync', 'mkdirSync', 'mkdirpSync', 'readdirSync', 'closeSync', 'openSync', 'utimesSync', 'futimesSync', 'fsyncSync', 'writeSync', 'readSync', 'readFileSync', 'writeFileSync', 'appendFileSync', 'existsSync', 'accessSync', 'fdatasyncSync', 'mkdtempSync', 'copyFileSync', 'rmSync', 'createReadStream', 'createWriteStream'];\nexports.fsSyncMethods = fsSyncMethods;\nvar fsAsyncMethods = ['rename', 'ftruncate', 'truncate', 'chown', 'fchown', 'lchown', 'chmod', 'fchmod', 'lchmod', 'stat', 'lstat', 'fstat', 'link', 'symlink', 'readlink', 'realpath', 'unlink', 'rmdir', 'mkdir', 'mkdirp', 'readdir', 'close', 'open', 'utimes', 'futimes', 'fsync', 'write', 'read', 'readFile', 'writeFile', 'appendFile', 'exists', 'access', 'fdatasync', 'mkdtemp', 'copyFile', 'rm', 'watchFile', 'unwatchFile', 'watch'];\nexports.fsAsyncMethods = fsAsyncMethods;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fs = exports.createFsFromVolume = exports.vol = exports.Volume = void 0;\nvar Stats_1 = require(\"./Stats\");\nvar Dirent_1 = require(\"./Dirent\");\nvar volume_1 = require(\"./volume\");\nvar _a = require('fs-monkey/lib/util/lists'), fsSyncMethods = _a.fsSyncMethods, fsAsyncMethods = _a.fsAsyncMethods;\nvar constants_1 = require(\"./constants\");\nvar F_OK = constants_1.constants.F_OK, R_OK = constants_1.constants.R_OK, W_OK = constants_1.constants.W_OK, X_OK = constants_1.constants.X_OK;\nexports.Volume = volume_1.Volume;\n// Default volume.\nexports.vol = new volume_1.Volume();\nfunction createFsFromVolume(vol) {\n    var fs = { F_OK: F_OK, R_OK: R_OK, W_OK: W_OK, X_OK: X_OK, constants: constants_1.constants, Stats: Stats_1.default, Dirent: Dirent_1.default };\n    // Bind FS methods.\n    for (var _i = 0, fsSyncMethods_1 = fsSyncMethods; _i < fsSyncMethods_1.length; _i++) {\n        var method = fsSyncMethods_1[_i];\n        if (typeof vol[method] === 'function')\n            fs[method] = vol[method].bind(vol);\n    }\n    for (var _a = 0, fsAsyncMethods_1 = fsAsyncMethods; _a < fsAsyncMethods_1.length; _a++) {\n        var method = fsAsyncMethods_1[_a];\n        if (typeof vol[method] === 'function')\n            fs[method] = vol[method].bind(vol);\n    }\n    fs.StatWatcher = vol.StatWatcher;\n    fs.FSWatcher = vol.FSWatcher;\n    fs.WriteStream = vol.WriteStream;\n    fs.ReadStream = vol.ReadStream;\n    fs.promises = vol.promises;\n    fs._toUnixTimestamp = volume_1.toUnixTimestamp;\n    return fs;\n}\nexports.createFsFromVolume = createFsFromVolume;\nexports.fs = createFsFromVolume(exports.vol);\nmodule.exports = __assign(__assign({}, module.exports), exports.fs);\nmodule.exports.semantic = true;\n"],"names":["constants","getBigInt","Stats_1","constants_1","require$$0","getBigInt_1","require$$1","S_IFMT","S_IFDIR","S_IFREG","S_IFBLK","S_IFCHR","S_IFLNK","S_IFIFO","S_IFSOCK","Stats","node","bigint","stats","uid","gid","atime","mtime","ctime","getStatNumber","number","ctimeMs","property","__spreadArray","this","to","from","pack","i","l","ar","exports","buffer_1","bufferV0P12Ponyfill","arg0","args","_i","bufferAllocUnsafe","bufferFrom","__extends","extendStatics","d","b","p","__","assert","util","kCode","messages","makeNodeError","Base","_super","NodeError","key","_this","message","g","global","AssertionError","options","msg","fmt","E","sym","val","bufferOutOfBounds","err","servers","enc","invalidArgType","name","len","actual","value","expected","oneOf","missingArgs","size","determiner","names","type","a","thing","isWriting","errors","assertEncoding","encoding","strToEncoding","str","Dirent_1","encoding_1","Dirent","link","dirent","mode","assertPath","path","normalizeStringPosix","allowAboveRoot","res","lastSegmentLength","lastSlash","dots","code","lastSlashIndex","_format","sep","pathObject","dir","base","posix","resolvedPath","resolvedAbsolute","cwd","isAbsolute","trailingSeparator","joined","arg","fromStart","fromEnd","fromLen","toStart","toEnd","toLen","length","lastCommonSep","fromCode","toCode","out","hasRoot","end","matchedSlash","ext","start","extIdx","firstNonSlashEnd","startDot","startPart","preDotState","ret","pathBrowserify","process","browserModule","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","Item","array","noop","setImmediate_1","_setImmediate","process_1","maybeReturnProcess","createProcess","require$$2","events_1","require$$3","require$$4","O_APPEND","getuid","_a","_b","getgid","Node","ino","perm","nlink","buf","steps","off","pos","newBuf","actualLen","Link","vol","parent","child","stop","step","File","flags","fd","position","offset","bytes","setTimeoutUnref_1","setTimeoutUnref","callback","time","ref","promises","promisify","fn","getResult","input","resolve","reject","error","result","FileHandle","data","buffer","bytesRead","bytesWritten","createPromisesApi","src","dest","existingPath","newPath","prefix","id","oldPath","target","correctPath_1","correctPath","unixify","isWin","removeTrailingSeparator","isSeparator","_char","normalizePath","stripTrailing","filepath","pathModule","node_1","require$$5","require$$6","require$$7","stream_1","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","promises_1","require$$14","resolveCrossPlatform","O_RDONLY","O_WRONLY","O_RDWR","O_CREAT","O_EXCL","O_TRUNC","O_SYNC","O_DIRECTORY","F_OK","COPYFILE_EXCL","COPYFILE_FICLONE_FORCE","relative","join","dirname","kMinPoolSpace","ERRSTR","ERRSTR_OPTS","tipeof","ENOENT","EBADF","EINVAL","EPERM","EPROTO","EEXIST","ENOTDIR","EMFILE","EACCES","EISDIR","ENOTEMPTY","ENOSYS","ERR_FS_EISDIR","formatError","errorCode","func","path2","pathFormatted","createError","Constructor","FLAGS","flagsToNumber","flagsNum","getOptions","defaults","opts","optsGenerator","validateCallback","optsAndCbGenerator","getOpts","optsDefaults","getDefaultOpts","getDefaultOptsAndCb","readFileOptsDefaults","getReadFileOptions","writeFileDefaults","getWriteFileOptions","appendFileDefaults","getAppendFileOpts","getAppendFileOptsAndCb","realpathDefaults","getRealpathOptions","getRealpathOptsAndCb","mkdirDefaults","getMkdirOptions","rmdirDefaults","getRmdirOptions","getRmOpts","getRmOptsAndCb","readdirDefaults","getReaddirOptions","getReaddirOptsAndCb","statDefaults","getStatOptions","getStatOptsAndCb","getPathFromURLPosix","url","pathname","n","third","pathToFilename","require$$15","pathString","nullCheck","filename","_resolve_1","unixify_1","require$$16","filenameToSteps","fullPath","fullPathSansSlash","pathToSteps","dataToStr","dataToBuffer","bufferToEncoding","er","_modeToNumber","def","modeToNumber","isFd","validateFd","toUnixTimestamp","validateUid","validateGid","flattenJSON","nestedJSON","flatJSON","flatten","pathPrefix","contentOrNode","joinedPath","Volume","props","root","self","StatWatcher","_ReadStream","FsReadStream","class_1","_WriteStream","FsWriteStream","class_2","FSWatcher","json","isDirectory","releasedFd","funcName","filenameOrSteps","file","method","isEmpty","children","name_1","dirPath","paths","isRelative","links","paths_1","links_1","mountpoint","resolveSymlinks","realLink","modeNum","dirLink","fileName","isUserFd","userOwnsFd","c","isBuffer","e","tipa","tipb","tipc","tipd","cb","written","filename1","filename2","steps1","link1","steps2","dir2","srcFilename","destFilename","existingPathFilename","newPathFilename","targetFilename","pathFilename","pathSteps","symlink","throwIfNoEntry","_c","_d","oldPathFilename","newPathSteps","newPathDirLink","oldLinkParent","list_1","name_2","list","name_3","created","retry","listener","interval","persistent","watcher","givenOptions","recursive","emitStop","pool","allocNewPool","poolSize","thisPool","toRead","onread","err2","closeOnOpen","chunks","chunk","watchLinkNodeChanged","onNodeChange","removers","watchLinkChildrenChanged","onLinkChildAdd","onLinkChildDelete","removeLinkNodeListeners","curLink","r","childLink","lists","fsProps","fsSyncMethods","fsAsyncMethods","__assign","t","s","volume_1","R_OK","W_OK","X_OK","createFsFromVolume","fs","fsSyncMethods_1","fsAsyncMethods_1","module"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}