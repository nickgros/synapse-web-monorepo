import{j as k,F as ht,a as ct}from"./jsx-runtime-095bf462.js";import{P as o}from"./index-58d3fd43.js";import{r as ve}from"./index-8db94870.js";import{_ as Oe}from"./tslib.es6-9c2726d7.js";import{bP as pt}from"./SynapseClient-2be0d786.js";import{U as gt}from"./UserOrTeamBadge-a61a11d2.js";import"./_commonjsHelpers-042e6b4d.js";import"./SynapseConstants-442c550d.js";import"./OrientationBanner-d057b0e6.js";import"./FullWidthAlert-7e419f2a.js";import"./AlertTitle-d92dfb78.js";import"./styled-96220216.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-4abd396b.js";import"./createSvgIcon-102248e7.js";import"./Paper-8ac7942c.js";import"./IconButton-1e0dd4f6.js";import"./ButtonBase-0195d275.js";import"./emotion-react.browser.esm-8516f11f.js";import"./assertThisInitialized-081f9914.js";import"./inheritsLoose-c82a83d4.js";import"./TransitionGroupContext-f2b81dde.js";import"./useForkRef-f2aa3d66.js";import"./useIsFocusVisible-bbf13f29.js";import"./Typography-c5b8eeae.js";import"./extendSxProp-d749f662.js";import"./Stack-f7ee2fdc.js";import"./Box-891dc3c7.js";import"./useTheme-a5fe342b.js";import"./Grow-15d1c4f6.js";import"./isHostComponent-fa76b8d9.js";import"./index-8ce4a492.js";import"./utils-60a28f01.js";import"./ClickAwayListener-36b79525.js";import"./Tooltip-e6a8fad5.js";import"./Button-d3d5b3a8.js";import"./getEndpoint-ac94413e.js";import"./Link-9ad54ce1.js";import"./isArray-5e3f9107.js";import"./StringUtils-2ea3ab4d.js";import"./dayjs.min-59ef0ea6.js";import"./tiny-invariant-dd7d57d2.js";import"./CheckCircleTwoTone-cd25e954.js";import"./inputBaseClasses-f1eaf41c.js";import"./Fade-5a6f6506.js";import"./IconSvg-0d658098.js";import"./ErrorOutlined-b4a8c67a.js";import"./GetAppTwoTone-9a0869d1.js";import"./InfoOutlined-1265fd90.js";import"./UserCard-01d092c9.js";import"./cloneDeep-10097a43.js";import"./_baseClone-334bb579.js";import"./_Uint8Array-c823438b.js";import"./_baseTimes-8cccc40f.js";import"./SkeletonTable-a476cc8b.js";import"./times-f1713f37.js";import"./isSymbol-7c514724.js";import"./Skeleton-a24326d8.js";import"./ToastMessage-cdf61efe.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./Popover-3ba117be.js";import"./Modal-3a262027.js";import"./Backdrop-1b2a4bbc.js";import"./getScrollbarSize-ac846fe6.js";import"./ownerWindow-2c76219e.js";import"./createChainedFunction-0bab83cf.js";var I={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he=60103,ce=60106,U=60107,W=60108,B=60114,_=60109,F=60110,j=60112,q=60113,be=60120,z=60115,Y=60116,Ue=60121,We=60122,Be=60117,_e=60129,Fe=60131;if(typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;he=b("react.element"),ce=b("react.portal"),U=b("react.fragment"),W=b("react.strict_mode"),B=b("react.profiler"),_=b("react.provider"),F=b("react.context"),j=b("react.forward_ref"),q=b("react.suspense"),be=b("react.suspense_list"),z=b("react.memo"),Y=b("react.lazy"),Ue=b("react.block"),We=b("react.server.block"),Be=b("react.fundamental"),_e=b("react.debug_trace_mode"),Fe=b("react.legacy_hidden")}function M(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case he:switch(e=e.type,e){case U:case B:case W:case q:case be:return e;default:switch(e=e&&e.$$typeof,e){case F:case j:case Y:case z:case _:return e;default:return s}}case ce:return s}}}var ft=_,mt=he,It=j,yt=U,vt=Y,wt=z,St=ce,bt=B,Ht=W,xt=q;I.ContextConsumer=F;I.ContextProvider=ft;I.Element=mt;I.ForwardRef=It;I.Fragment=yt;I.Lazy=vt;I.Memo=wt;I.Portal=St;I.Profiler=bt;I.StrictMode=Ht;I.Suspense=xt;I.isAsyncMode=function(){return!1};I.isConcurrentMode=function(){return!1};I.isContextConsumer=function(e){return M(e)===F};I.isContextProvider=function(e){return M(e)===_};I.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===he};I.isForwardRef=function(e){return M(e)===j};I.isFragment=function(e){return M(e)===U};I.isLazy=function(e){return M(e)===Y};I.isMemo=function(e){return M(e)===z};I.isPortal=function(e){return M(e)===ce};I.isProfiler=function(e){return M(e)===B};I.isStrictMode=function(e){return M(e)===W};I.isSuspense=function(e){return M(e)===q};I.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===U||e===B||e===_e||e===W||e===q||e===be||e===Fe||typeof e=="object"&&e!==null&&(e.$$typeof===Y||e.$$typeof===z||e.$$typeof===_||e.$$typeof===F||e.$$typeof===j||e.$$typeof===Be||e.$$typeof===Ue||e[0]===We)};I.typeOf=M;function Me(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Ae(e,s){return(!s||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Ie(e,s){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var i=getComputedStyle(e,null);return Ae(i.overflowY,s)||Ae(i.overflowX,s)||function(t){var u=function(h){if(!h.ownerDocument||!h.ownerDocument.defaultView)return null;try{return h.ownerDocument.defaultView.frameElement}catch{return null}}(t);return!!u&&(u.clientHeight<t.scrollHeight||u.clientWidth<t.scrollWidth)}(e)}return!1}function re(e,s,i,t,u,h,d,c){return h<e&&d>s||h>e&&d<s?0:h<=e&&c<=i||d>=s&&c>=i?h-e-t:d>s&&c<i||h<e&&c>i?d-s+u:0}var Ct=function(e,s){var i=window,t=s.scrollMode,u=s.block,h=s.inline,d=s.boundary,c=s.skipOverflowHiddenElements,D=typeof d=="function"?d:function(dt){return dt!==d};if(!Me(e))throw new TypeError("Invalid target");for(var y,H,n=document.scrollingElement||document.documentElement,r=[],l=e;Me(l)&&D(l);){if((l=(H=(y=l).parentElement)==null?y.getRootNode().host||null:H)===n){r.push(l);break}l!=null&&l===document.body&&Ie(l)&&!Ie(document.documentElement)||l!=null&&Ie(l,c)&&r.push(l)}for(var a=i.visualViewport?i.visualViewport.width:innerWidth,p=i.visualViewport?i.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,f=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),S=g.height,v=g.width,E=g.top,O=g.right,N=g.bottom,V=g.left,x=u==="start"||u==="nearest"?E:u==="end"?N:E+S/2,C=h==="center"?V+v/2:h==="end"?O:V,pe=[],ge=0;ge<r.length;ge++){var w=r[ge],T=w.getBoundingClientRect(),X=T.height,Q=T.width,Z=T.top,fe=T.right,me=T.bottom,G=T.left;if(t==="if-needed"&&E>=0&&V>=0&&N<=p&&O<=a&&E>=Z&&N<=me&&V>=G&&O<=fe)return pe;var J=getComputedStyle(w),ee=parseInt(J.borderLeftWidth,10),te=parseInt(J.borderTopWidth,10),ne=parseInt(J.borderRightWidth,10),ie=parseInt(J.borderBottomWidth,10),R=0,$=0,se="offsetWidth"in w?w.offsetWidth-w.clientWidth-ee-ne:0,oe="offsetHeight"in w?w.offsetHeight-w.clientHeight-te-ie:0,xe="offsetWidth"in w?w.offsetWidth===0?0:Q/w.offsetWidth:0,Ce="offsetHeight"in w?w.offsetHeight===0?0:X/w.offsetHeight:0;if(n===w)R=u==="start"?x:u==="end"?x-p:u==="nearest"?re(f,f+p,p,te,ie,f+x,f+x+S,S):x-p/2,$=h==="start"?C:h==="center"?C-a/2:h==="end"?C-a:re(m,m+a,a,ee,ne,m+C,m+C+v,v),R=Math.max(0,R+f),$=Math.max(0,$+m);else{R=u==="start"?x-Z-te:u==="end"?x-me+ie+oe:u==="nearest"?re(Z,me,X,te,ie+oe,x,x+S,S):x-(Z+X/2)+oe/2,$=h==="start"?C-G-ee:h==="center"?C-(G+Q/2)+se/2:h==="end"?C-fe+ne+se:re(G,fe,Q,ee,ne+se,C,C+v,v);var Ee=w.scrollLeft,De=w.scrollTop;x+=De-(R=Math.max(0,Math.min(De+R/Ce,w.scrollHeight-X/Ce+oe))),C+=Ee-($=Math.max(0,Math.min(Ee+$/xe,w.scrollWidth-Q/xe+se)))}pe.push({el:w,top:R,left:$})}return pe};let Et=0;function Pe(e){return typeof e=="function"?e:P}function P(){}function je(e,s){if(!e)return;Ct(e,{boundary:s,block:"nearest",scrollMode:"if-needed"}).forEach(t=>{let{el:u,top:h,left:d}=t;u.scrollTop=h,u.scrollLeft=d})}function Ne(e,s,i){return e===s||s instanceof i.Node&&e.contains&&e.contains(s)}function He(e,s){let i;function t(){i&&clearTimeout(i)}function u(){for(var h=arguments.length,d=new Array(h),c=0;c<h;c++)d[c]=arguments[c];t(),i=setTimeout(()=>{i=null,e(...d)},s)}return u.cancel=t,u}function A(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return function(t){for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return s.some(c=>(c&&c(t,...h),t.preventDownshiftDefault||t.hasOwnProperty("nativeEvent")&&t.nativeEvent.preventDownshiftDefault))}}function Re(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return t=>{s.forEach(u=>{typeof u=="function"?u(t):u&&(u.current=t)})}}function Dt(){return String(Et++)}function qe(e){let{isOpen:s,resultCount:i,previousResultCount:t}=e;return s?i?i!==t?`${i} result${i===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function $e(e,s){return e=Array.isArray(e)?e[0]:e,!e&&s?s:e}function Ot(e){return typeof e.type=="string"}function Mt(e){return e.props}const At=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function le(e){e===void 0&&(e={});const s={};return At.forEach(i=>{e.hasOwnProperty(i)&&(s[i]=e[i])}),s}function Pt(e,s){return Object.keys(e).reduce((i,t)=>(i[t]=we(s,t)?s[t]:e[t],i),{})}function we(e,s){return e[s]!==void 0}function Ve(e){const{key:s,keyCode:i}=e;return i>=37&&i<=40&&s.indexOf("Arrow")!==0?`Arrow${s}`:s}function ye(e,s,i,t,u){if(u===void 0&&(u=!0),i===0)return-1;const h=i-1;(typeof s!="number"||s<0||s>=i)&&(s=e>0?-1:h+1);let d=s+e;d<0?d=u?h:0:d>h&&(d=u?0:h);const c=K(e,d,i,t,u);return c===-1?s>=i?-1:s:c}function K(e,s,i,t,u){const h=t(s);if(!h||!h.hasAttribute("disabled"))return s;if(e>0){for(let d=s+1;d<i;d++)if(!t(d).hasAttribute("disabled"))return d}else for(let d=s-1;d>=0;d--)if(!t(d).hasAttribute("disabled"))return d;return u?e>0?K(1,0,i,t,!1):K(-1,i-1,i,t,!1):-1}function Te(e,s,i,t){return t===void 0&&(t=!0),s.some(u=>u&&(Ne(u,e,i)||t&&Ne(u,i.document.activeElement,i)))}const Nt=He(e=>{Ye(e).textContent=""},500);function ze(e,s){const i=Ye(s);e&&(i.textContent=e,Nt(s))}function Ye(e){e===void 0&&(e=document);let s=e.getElementById("a11y-status-message");return s||(s=e.createElement("div"),s.setAttribute("id","a11y-status-message"),s.setAttribute("role","status"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-relevant","additions text"),Object.assign(s.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(s),s)}const Xe=0,Qe=1,Ze=2,ae=3,de=4,Ge=5,Je=6,et=7,tt=8,nt=9,it=10,st=11,ot=12,rt=13,lt=14,ut=15,at=16;var Rt=Object.freeze({__proto__:null,unknown:Xe,mouseUp:Qe,itemMouseEnter:Ze,keyDownArrowUp:ae,keyDownArrowDown:de,keyDownEscape:Ge,keyDownEnter:Je,keyDownHome:et,keyDownEnd:tt,clickItem:nt,blurInput:it,changeInput:st,keyDownSpaceButton:ot,clickButton:rt,blurButton:lt,controlledPropUpdatedSelectedItem:ut,touchEnd:at});const $t=(()=>{class e extends ve.Component{constructor(i){var t;super(i),t=this,this.id=this.props.id||`downshift-${Dt()}`,this.menuId=this.props.menuId||`${this.id}-menu`,this.labelId=this.props.labelId||`${this.id}-label`,this.inputId=this.props.inputId||`${this.id}-input`,this.getItemId=this.props.getItemId||(n=>`${this.id}-item-${n}`),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.timeoutIds=[],this.internalSetTimeout=(n,r)=>{const l=setTimeout(()=>{this.timeoutIds=this.timeoutIds.filter(a=>a!==l),n()},r);this.timeoutIds.push(l)},this.setItemCount=n=>{this.itemCount=n},this.unsetItemCount=()=>{this.itemCount=null},this.setHighlightedIndex=function(n,r){n===void 0&&(n=t.props.defaultHighlightedIndex),r===void 0&&(r={}),r=le(r),t.internalSetState({highlightedIndex:n,...r})},this.clearSelection=n=>{this.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:this.props.defaultHighlightedIndex,isOpen:this.props.defaultIsOpen},n)},this.selectItem=(n,r,l)=>{r=le(r),this.internalSetState({isOpen:this.props.defaultIsOpen,highlightedIndex:this.props.defaultHighlightedIndex,selectedItem:n,inputValue:this.props.itemToString(n),...r},l)},this.selectItemAtIndex=(n,r,l)=>{const a=this.items[n];a!=null&&this.selectItem(a,r,l)},this.selectHighlightedItem=(n,r)=>this.selectItemAtIndex(this.getState().highlightedIndex,n,r),this.internalSetState=(n,r)=>{let l,a;const p={},m=typeof n=="function";return!m&&n.hasOwnProperty("inputValue")&&this.props.onInputValueChange(n.inputValue,{...this.getStateAndHelpers(),...n}),this.setState(f=>{f=this.getState(f);let g=m?n(f):n;g=this.props.stateReducer(f,g),l=g.hasOwnProperty("selectedItem");const S={};return l&&g.selectedItem!==f.selectedItem&&(a=g.selectedItem),g.type=g.type||Xe,Object.keys(g).forEach(v=>{f[v]!==g[v]&&(p[v]=g[v]),v!=="type"&&(g[v],we(this.props,v)||(S[v]=g[v]))}),m&&g.hasOwnProperty("inputValue")&&this.props.onInputValueChange(g.inputValue,{...this.getStateAndHelpers(),...g}),S},()=>{Pe(r)(),Object.keys(p).length>1&&this.props.onStateChange(p,this.getStateAndHelpers()),l&&this.props.onSelect(n.selectedItem,this.getStateAndHelpers()),a!==void 0&&this.props.onChange(a,this.getStateAndHelpers()),this.props.onUserAction(p,this.getStateAndHelpers())})},this.rootRef=n=>this._rootNode=n,this.getRootProps=function(n,r){let{refKey:l="ref",ref:a,...p}=n===void 0?{}:n,{suppressRefError:m=!1}=r===void 0?{}:r;t.getRootProps.called=!0,t.getRootProps.refKey=l,t.getRootProps.suppressRefError=m;const{isOpen:f}=t.getState();return{[l]:Re(a,t.rootRef),role:"combobox","aria-expanded":f,"aria-haspopup":"listbox","aria-owns":f?t.menuId:null,"aria-labelledby":t.labelId,...p}},this.keyDownHandlers={ArrowDown(n){if(n.preventDefault(),this.getState().isOpen){const r=n.shiftKey?5:1;this.moveHighlightedIndex(r,{type:de})}else this.internalSetState({isOpen:!0,type:de},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ye(1,l,r,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(a,{type:de})}})},ArrowUp(n){if(n.preventDefault(),this.getState().isOpen){const r=n.shiftKey?-5:-1;this.moveHighlightedIndex(r,{type:ae})}else this.internalSetState({isOpen:!0,type:ae},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ye(-1,l,r,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(a,{type:ae})}})},Enter(n){if(n.which===229)return;const{isOpen:r,highlightedIndex:l}=this.getState();if(r&&l!=null){n.preventDefault();const a=this.items[l],p=this.getItemNodeFromIndex(l);if(a==null||p&&p.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Je})}},Escape(n){n.preventDefault(),this.reset({type:Ge,...!this.state.isOpen&&{selectedItem:null,inputValue:""}})}},this.buttonKeyDownHandlers={...this.keyDownHandlers," "(n){n.preventDefault(),this.toggleMenu({type:ot})}},this.inputKeyDownHandlers={...this.keyDownHandlers,Home(n){const{isOpen:r}=this.getState();if(!r)return;n.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=K(1,0,l,p=>this.getItemNodeFromIndex(p),!1);this.setHighlightedIndex(a,{type:et})},End(n){const{isOpen:r}=this.getState();if(!r)return;n.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=K(-1,l-1,l,p=>this.getItemNodeFromIndex(p),!1);this.setHighlightedIndex(a,{type:tt})}},this.getToggleButtonProps=function(n){let{onClick:r,onPress:l,onKeyDown:a,onKeyUp:p,onBlur:m,...f}=n===void 0?{}:n;const{isOpen:g}=t.getState(),S={onClick:A(r,t.buttonHandleClick),onKeyDown:A(a,t.buttonHandleKeyDown),onKeyUp:A(p,t.buttonHandleKeyUp),onBlur:A(m,t.buttonHandleBlur)},v=f.disabled?{}:S;return{type:"button",role:"button","aria-label":g?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,...v,...f}},this.buttonHandleKeyUp=n=>{n.preventDefault()},this.buttonHandleKeyDown=n=>{const r=Ve(n);this.buttonKeyDownHandlers[r]&&this.buttonKeyDownHandlers[r].call(this,n)},this.buttonHandleClick=n=>{n.preventDefault(),this.props.environment.document.activeElement===this.props.environment.document.body&&n.target.focus(),this.internalSetTimeout(()=>this.toggleMenu({type:rt}))},this.buttonHandleBlur=n=>{const r=n.target;this.internalSetTimeout(()=>{!this.isMouseDown&&(this.props.environment.document.activeElement==null||this.props.environment.document.activeElement.id!==this.inputId)&&this.props.environment.document.activeElement!==r&&this.reset({type:lt})})},this.getLabelProps=n=>({htmlFor:this.inputId,id:this.labelId,...n}),this.getInputProps=function(n){let{onKeyDown:r,onBlur:l,onChange:a,onInput:p,onChangeText:m,...f}=n===void 0?{}:n,g,S={};g="onChange";const{inputValue:v,isOpen:E,highlightedIndex:O}=t.getState();return f.disabled||(S={[g]:A(a,p,t.inputHandleChange),onKeyDown:A(r,t.inputHandleKeyDown),onBlur:A(l,t.inputHandleBlur)}),{"aria-autocomplete":"list","aria-activedescendant":E&&typeof O=="number"&&O>=0?t.getItemId(O):null,"aria-controls":E?t.menuId:null,"aria-labelledby":t.labelId,autoComplete:"off",value:v,id:t.inputId,...S,...f}},this.inputHandleKeyDown=n=>{const r=Ve(n);r&&this.inputKeyDownHandlers[r]&&this.inputKeyDownHandlers[r].call(this,n)},this.inputHandleChange=n=>{this.internalSetState({type:st,isOpen:!0,inputValue:n.target.value,highlightedIndex:this.props.defaultHighlightedIndex})},this.inputHandleBlur=()=>{this.internalSetTimeout(()=>{const n=this.props.environment.document&&!!this.props.environment.document.activeElement&&!!this.props.environment.document.activeElement.dataset&&this.props.environment.document.activeElement.dataset.toggle&&this._rootNode&&this._rootNode.contains(this.props.environment.document.activeElement);!this.isMouseDown&&!n&&this.reset({type:it})})},this.menuRef=n=>{this._menuNode=n},this.getMenuProps=function(n,r){let{refKey:l="ref",ref:a,...p}=n===void 0?{}:n,{suppressRefError:m=!1}=r===void 0?{}:r;return t.getMenuProps.called=!0,t.getMenuProps.refKey=l,t.getMenuProps.suppressRefError=m,{[l]:Re(a,t.menuRef),role:"listbox","aria-labelledby":p&&p["aria-label"]?null:t.labelId,id:t.menuId,...p}},this.getItemProps=function(n){let{onMouseMove:r,onMouseDown:l,onClick:a,onPress:p,index:m,item:f=void 0,...g}=n===void 0?{}:n;m===void 0?(t.items.push(f),m=t.items.indexOf(f)):t.items[m]=f;const S="onClick",v=a,E={onMouseMove:A(r,()=>{m!==t.getState().highlightedIndex&&(t.setHighlightedIndex(m,{type:Ze}),t.avoidScrolling=!0,t.internalSetTimeout(()=>t.avoidScrolling=!1,250))}),onMouseDown:A(l,N=>{N.preventDefault()}),[S]:A(v,()=>{t.selectItemAtIndex(m,{type:nt})})},O=g.disabled?{onMouseDown:E.onMouseDown}:E;return{id:t.getItemId(m),role:"option","aria-selected":t.getState().highlightedIndex===m,...O,...g}},this.clearItems=()=>{this.items=[]},this.reset=function(n,r){n===void 0&&(n={}),n=le(n),t.internalSetState(l=>{let{selectedItem:a}=l;return{isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,inputValue:t.props.itemToString(a),...n}},r)},this.toggleMenu=function(n,r){n===void 0&&(n={}),n=le(n),t.internalSetState(l=>{let{isOpen:a}=l;return{isOpen:!a,...a&&{highlightedIndex:t.props.defaultHighlightedIndex},...n}},()=>{const{isOpen:l,highlightedIndex:a}=t.getState();l&&t.getItemCount()>0&&typeof a=="number"&&t.setHighlightedIndex(a,n),Pe(r)()})},this.openMenu=n=>{this.internalSetState({isOpen:!0},n)},this.closeMenu=n=>{this.internalSetState({isOpen:!1},n)},this.updateStatus=He(()=>{const n=this.getState(),r=this.items[n.highlightedIndex],l=this.getItemCount(),a=this.props.getA11yStatusMessage({itemToString:this.props.itemToString,previousResultCount:this.previousResultCount,resultCount:l,highlightedItem:r,...n});this.previousResultCount=l,ze(a,this.props.environment.document)},200);const{defaultHighlightedIndex:u,initialHighlightedIndex:h=u,defaultIsOpen:d,initialIsOpen:c=d,initialInputValue:D="",initialSelectedItem:y=null}=this.props,H=this.getState({highlightedIndex:h,isOpen:c,inputValue:D,selectedItem:y});H.selectedItem!=null&&this.props.initialInputValue===void 0&&(H.inputValue=this.props.itemToString(H.selectedItem)),this.state=H}internalClearTimeouts(){this.timeoutIds.forEach(i=>{clearTimeout(i)}),this.timeoutIds=[]}getState(i){return i===void 0&&(i=this.state),Pt(i,this.props)}getItemCount(){let i=this.items.length;return this.itemCount!=null?i=this.itemCount:this.props.itemCount!==void 0&&(i=this.props.itemCount),i}getItemNodeFromIndex(i){return this.props.environment.document.getElementById(this.getItemId(i))}scrollHighlightedItemIntoView(){{const i=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(i,this._menuNode)}}moveHighlightedIndex(i,t){const u=this.getItemCount(),{highlightedIndex:h}=this.getState();if(u>0){const d=ye(i,h,u,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(d,t)}}getStateAndHelpers(){const{highlightedIndex:i,inputValue:t,selectedItem:u,isOpen:h}=this.getState(),{itemToString:d}=this.props,{id:c}=this,{getRootProps:D,getToggleButtonProps:y,getLabelProps:H,getMenuProps:n,getInputProps:r,getItemProps:l,openMenu:a,closeMenu:p,toggleMenu:m,selectItem:f,selectItemAtIndex:g,selectHighlightedItem:S,setHighlightedIndex:v,clearSelection:E,clearItems:O,reset:N,setItemCount:V,unsetItemCount:x,internalSetState:C}=this;return{getRootProps:D,getToggleButtonProps:y,getLabelProps:H,getMenuProps:n,getInputProps:r,getItemProps:l,reset:N,openMenu:a,closeMenu:p,toggleMenu:m,selectItem:f,selectItemAtIndex:g,selectHighlightedItem:S,setHighlightedIndex:v,clearSelection:E,clearItems:O,setItemCount:V,unsetItemCount:x,setState:C,itemToString:d,id:c,highlightedIndex:i,inputValue:t,isOpen:h,selectedItem:u}}componentDidMount(){{const i=()=>{this.isMouseDown=!0},t=D=>{this.isMouseDown=!1,!Te(D.target,[this._rootNode,this._menuNode],this.props.environment)&&this.getState().isOpen&&this.reset({type:Qe},()=>this.props.onOuterClick(this.getStateAndHelpers()))},u=()=>{this.isTouchMove=!1},h=()=>{this.isTouchMove=!0},d=D=>{const y=Te(D.target,[this._rootNode,this._menuNode],this.props.environment,!1);!this.isTouchMove&&!y&&this.getState().isOpen&&this.reset({type:at},()=>this.props.onOuterClick(this.getStateAndHelpers()))},{environment:c}=this.props;c.addEventListener("mousedown",i),c.addEventListener("mouseup",t),c.addEventListener("touchstart",u),c.addEventListener("touchmove",h),c.addEventListener("touchend",d),this.cleanup=()=>{this.internalClearTimeouts(),this.updateStatus.cancel(),c.removeEventListener("mousedown",i),c.removeEventListener("mouseup",t),c.removeEventListener("touchstart",u),c.removeEventListener("touchmove",h),c.removeEventListener("touchend",d)}}}shouldScroll(i,t){const{highlightedIndex:u}=this.props.highlightedIndex===void 0?this.getState():this.props,{highlightedIndex:h}=t.highlightedIndex===void 0?i:t;return u&&this.getState().isOpen&&!i.isOpen||u!==h}componentDidUpdate(i,t){we(this.props,"selectedItem")&&this.props.selectedItemChanged(i.selectedItem,this.props.selectedItem)&&this.internalSetState({type:ut,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,i)&&this.scrollHighlightedItemIntoView(),this.updateStatus()}componentWillUnmount(){this.cleanup()}render(){const i=$e(this.props.children,P);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;const t=$e(i(this.getStateAndHelpers()));if(!t)return null;if(this.getRootProps.called||this.props.suppressRefError)return t;if(Ot(t))return ve.cloneElement(t,this.getRootProps(Mt(t)))}}return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:qe,itemToString:s=>s==null?"":String(s),onStateChange:P,onInputValueChange:P,onUserAction:P,onChange:P,onSelect:P,onOuterClick:P,selectedItemChanged:(s,i)=>s!==i,environment:typeof window>"u"?{}:window,stateReducer:(s,i)=>i,suppressRefError:!1,scrollIntoView:je},e.stateChangeTypes=Rt,e})();var Vt=$t;function Tt(e,s){return s.changes}function kt(e){const{selectedItem:s,itemToString:i}=e;return s?`${i(s)} has been selected.`:""}He((e,s)=>{ze(e(),s)},200);function Lt(e){return e?String(e):""}const L={itemToString:Lt,stateReducer:Tt,getA11ySelectionMessage:kt,scrollIntoView:je,circularNavigation:!1,environment:typeof window>"u"?{}:window};o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.func,o.string,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});function Kt(e){var s=e.isOpen,i=e.resultCount,t=e.previousResultCount;return s?i?i!==t?"".concat(i," result").concat(i===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}Oe(Oe({},L),{getA11yStatusMessage:Kt});o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.string,o.string,o.string,o.func,o.string,o.string,o.func,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});({...L});function Ut(e){const{removedSelectedItem:s,itemToString:i}=e;return`${i(s)} has been removed.`}o.array,o.array,o.array,o.func,o.func,o.func,o.number,o.number,o.number,o.func,o.func,o.string,o.string,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});L.itemToString,L.stateReducer,L.environment;const Se=e=>{const{id:s,onSelectCallback:i,filterUserIds:t,typeFilter:u}=e,[h,d]=ve.useState([]),c=async y=>{try{const H=await pt(y,u),n=t!=null&&t.length?H.children.filter(r=>!t.includes(r.ownerId)):H.children;d(n)}catch(H){console.log("onInputValueChange",H)}},D=y=>{i&&i(y)};return k(ht,{children:k(Vt,{onInputValueChange:y=>{c(y)},onChange:y=>D(y),itemToString:y=>y!=null&&y.name?y.name:"",children:({getInputProps:y,getMenuProps:H,getItemProps:n,isOpen:r,inputValue:l})=>ct("div",{className:"user-search-box",children:[k("input",{...y({className:"form-control",id:s,type:"search",role:"searchbox",placeholder:"Enter the name..."}),style:{marginBottom:"0"}}),k("ul",{...H(),className:r?"users-visible":"",role:"list",children:r?h.filter(a=>!l||`${a.firstName} ${a.lastName}`.includes(l)||a.userName.includes(l)).map((a,p)=>k("li",{...n({key:a.ownerId,index:p,item:a}),children:k(gt,{userGroupHeader:a,disableHref:!0,showFullName:!0})},`userSearchBox-${p}`)):null})]})})})};try{Se.displayName="UserSearchBox",Se.__docgenInfo={description:"",displayName:"UserSearchBox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},onSelectCallback:{defaultValue:null,description:"",name:"onSelectCallback",required:!1,type:{name:"((selected: UserGroupHeader) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterUserIds:{defaultValue:null,description:"",name:"filterUserIds",required:!1,type:{name:"string[]"}}}}}catch{}const ti={title:"UI/UserSearchBox",component:Se},ue={};var ke,Le,Ke;ue.parameters={...ue.parameters,docs:{...(ke=ue.parameters)==null?void 0:ke.docs,source:{originalSource:"{}",...(Ke=(Le=ue.parameters)==null?void 0:Le.docs)==null?void 0:Ke.source}}};const ni=["Demo"];export{ue as Demo,ni as __namedExportsOrder,ti as default};
//# sourceMappingURL=UserSearchBox.stories-220a153f.js.map
