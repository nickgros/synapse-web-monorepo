import{a as I,j as e}from"./jsx-runtime-095bf462.js";import{x as S,o as M}from"./SynapseConstants-351603e3.js";import{r as y}from"./index-8db94870.js";import"./getEndpoint-ac94413e.js";import{u as U,E as $}from"./SynapseClient-a57981a2.js";import{g as u}from"./queryUtils-2f4c3cc4.js";import{a as b}from"./useGetQueryResultBundle-0745a0f4.js";import{d as w}from"./dayjs.min-8d4ef725.js";import{f as Y}from"./DateFormatter-67e11a32.js";const f=({id:r,name:p,description:s,type:o,toolDetailPageURL:i,date:d,...n})=>I("div",{...n,className:`cardContainer FeaturedToolCard bootstrap-4-backport ${n.className??""}`,children:[e("div",{className:"FeaturedToolCard__Type",children:e("span",{className:"SRC-tag",children:o})}),e("div",{className:"FeaturedToolCard__Date",children:Y(w(parseInt(d)),"MMMM YYYY")}),e("div",{className:"FeaturedToolCard__Name",children:p}),e("div",{className:"FeaturedToolCard__Description",children:s}),e("div",{children:e("a",{className:"FeaturedToolCard__Link",href:`${i}${r}`,children:"View Tool"})})]});try{f.displayName="FeaturedToolCard",f.__docgenInfo={description:"",displayName:"FeaturedToolCard",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},toolDetailPageURL:{defaultValue:null,description:"",name:"toolDetailPageURL",required:!0,type:{name:"string"}},date:{defaultValue:null,description:"",name:"date",required:!0,type:{name:"string"}}}}}catch{}const C=({entityId:r,toolDetailPageURL:p,idColumnName:s="id",nameColumnName:o="name",descriptionColumnName:i="description",typeColumnName:d="type",dateColumnName:n="date"})=>{const q=`SELECT "${s}", "${o}", "${i}", "${d}", "${n}" FROM ${r} ORDER BY ROW_ID DESC LIMIT 3`,v={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,partMask:S|M,query:{sql:q}},{accessToken:h}=U(),[E,F]=y.useState([]),[_,N]=y.useState(),{data:a,error:m}=b(v);return y.useEffect(()=>{(()=>{try{const c=u(s,a),R=u(o,a),D=u(d,a),L=u(i,a),V=u(n,a),g=(a==null?void 0:a.queryResult.queryResults.rows.map(T=>{T.values.some(x=>x===null)&&console.warn("Row has null value(s)");const l=T.values;return{name:l[R],description:l[L],type:l[D],id:l[c],date:l[V]}}))??[];if(m)throw m;if(g.length===0)return;F(g)}catch(c){console.error(c),N(c)}})()},[r,h,a,m,s,o,d,i,n]),_?e($,{error:_}):e("div",{className:"FeaturedToolList",children:E.map(t=>e(f,{name:t.name,type:t.type,description:t.description,id:t.id,date:t.date,toolDetailPageURL:p},t.id))})};try{C.displayName="FeaturedToolsList",C.__docgenInfo={description:`Display a set of FeaturedToolCards (driven by a Table/View). Driven by the following annotations/column names:
'id', 'name', 'type', and 'description'.`,displayName:"FeaturedToolsList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},toolDetailPageURL:{defaultValue:null,description:"",name:"toolDetailPageURL",required:!0,type:{name:"string"}},idColumnName:{defaultValue:{value:"id"},description:"",name:"idColumnName",required:!1,type:{name:"string"}},nameColumnName:{defaultValue:{value:"name"},description:"",name:"nameColumnName",required:!1,type:{name:"string"}},descriptionColumnName:{defaultValue:{value:"description"},description:"",name:"descriptionColumnName",required:!1,type:{name:"string"}},typeColumnName:{defaultValue:{value:"type"},description:"",name:"typeColumnName",required:!1,type:{name:"string"}},dateColumnName:{defaultValue:{value:"date"},description:"",name:"dateColumnName",required:!1,type:{name:"string"}}}}}catch{}export{C as F};
//# sourceMappingURL=FeaturedToolsList-907de51e.js.map
