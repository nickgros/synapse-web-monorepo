{"version":3,"file":"useWaitForDOMRef-b2ebcbef.js","sources":["../../../../node_modules/.pnpm/@restart+hooks@0.4.8_react@18.2.0/node_modules/@restart/hooks/esm/useUpdatedRef.js","../../../../node_modules/.pnpm/@restart+hooks@0.4.8_react@18.2.0/node_modules/@restart/hooks/esm/useWillUnmount.js","../../../../node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.2.0_react@18.2.0/node_modules/react-overlays/esm/useWaitForDOMRef.js"],"sourcesContent":["import { useRef } from 'react';\n/**\n * Returns a ref that is immediately updated with the new value\n *\n * @param value The Ref value\n * @category refs\n */\n\nexport default function useUpdatedRef(value) {\n  var valueRef = useRef(value);\n  valueRef.current = value;\n  return valueRef;\n}","import useUpdatedRef from './useUpdatedRef';\nimport { useEffect } from 'react';\n/**\n * Attach a callback that fires when a component unmounts\n *\n * @param fn Handler to run when the component unmounts\n * @category effects\n */\n\nexport default function useWillUnmount(fn) {\n  var onUnmount = useUpdatedRef(fn);\n  useEffect(function () {\n    return function () {\n      return onUnmount.current();\n    };\n  }, []);\n}","import ownerDocument from 'dom-helpers/ownerDocument';\nimport { useState, useEffect } from 'react';\nexport var resolveContainerRef = function resolveContainerRef(ref) {\n  var _ref;\n\n  if (typeof document === 'undefined') return null;\n  if (ref == null) return ownerDocument().body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  var _useState = useState(function () {\n    return resolveContainerRef(ref);\n  }),\n      resolvedRef = _useState[0],\n      setRef = _useState[1];\n\n  if (!resolvedRef) {\n    var earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  useEffect(function () {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(function () {\n    var nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}"],"names":["useUpdatedRef","value","valueRef","useRef","useWillUnmount","fn","onUnmount","useEffect","resolveContainerRef","ref","_ref","ownerDocument","useWaitForDOMRef","onResolved","_useState","useState","resolvedRef","setRef","earlyRef","nextRef"],"mappings":"wFAQe,SAASA,EAAcC,EAAO,CAC3C,IAAIC,EAAWC,SAAOF,CAAK,EAC3B,OAAAC,EAAS,QAAUD,EACZC,CACT,CCHe,SAASE,EAAeC,EAAI,CACzC,IAAIC,EAAYN,EAAcK,CAAE,EAChCE,EAAAA,UAAU,UAAY,CACpB,OAAO,UAAY,CACjB,OAAOD,EAAU,SACvB,CACG,EAAE,CAAE,CAAA,CACP,CCdO,IAAIE,EAAsB,SAA6BC,EAAK,CACjE,IAAIC,EAEJ,OAAI,OAAO,SAAa,IAAoB,KACxCD,GAAO,KAAaE,EAAa,EAAG,MACpC,OAAOF,GAAQ,aAAYA,EAAMA,EAAG,GACpCA,GAAO,YAAaA,IAAKA,EAAMA,EAAI,UAClCC,EAAOD,IAAQ,MAAQC,EAAK,UAAiBD,GAAO,KAE3D,EACe,SAASG,EAAiBH,EAAKI,EAAY,CACxD,IAAIC,EAAYC,EAAAA,SAAS,UAAY,CACnC,OAAOP,EAAoBC,CAAG,CAClC,CAAG,EACGO,EAAcF,EAAU,CAAC,EACzBG,EAASH,EAAU,CAAC,EAExB,GAAI,CAACE,EAAa,CAChB,IAAIE,EAAWV,EAAoBC,CAAG,EAClCS,GAAUD,EAAOC,CAAQ,CAC9B,CAEDX,OAAAA,EAAAA,UAAU,UAAY,CAChBM,GAAcG,GAChBH,EAAWG,CAAW,CAE5B,EAAK,CAACH,EAAYG,CAAW,CAAC,EAC5BT,EAAAA,UAAU,UAAY,CACpB,IAAIY,EAAUX,EAAoBC,CAAG,EAEjCU,IAAYH,GACdC,EAAOE,CAAO,CAEpB,EAAK,CAACV,EAAKO,CAAW,CAAC,EACdA,CACT"}