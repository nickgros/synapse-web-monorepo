import{j as n,a as c}from"./jsx-runtime-9dc53467.js";import{r as B,R as s}from"./index-76fb7be0.js";import{I as P}from"./IconSvg-b2c8dc9b.js";import{B as m}from"./Button-a2b8b546.js";import{T as f}from"./Typography-62cfc992.js";import{M as h,P as L}from"./Tooltip-e8bd1358.js";import{F as S}from"./Fade-3c4a970e.js";import{P as _}from"./Paper-625f2e68.js";import{M as q}from"./MenuList-7e60caa0.js";import{M as V}from"./MenuItem-100d659d.js";import{L as N,a as E}from"./ListItemText-6aa96f84.js";import{D as F}from"./Divider-1f110b7b.js";import{C as R}from"./ClickAwayListener-3907f9d7.js";function x(d){const{buttonTooltip:p,dropdownButtonText:y,items:l=[],convertSingleItemToButton:I=!0,renderMenuIfNoItems:b=!1,buttonProps:v={}}=d,r=B.useId(),[i,t]=s.useState(!1),a=s.useRef(null),u=l.flat().length;if(!b&&u===0)return null;if(I&&u===1){const e=l.flat()[0];return n(m,{component:"href"in e?"a":"button",title:e.tooltipText,variant:"outlined",href:"href"in e?e.href:void 0,rel:"href"in e?"noopener noreferrer":void 0,onClick:"onClick"in e?e.onClick:void 0,disabled:e.disabled,children:n(f,{variant:"buttonLink",children:e.text})})}const T=()=>{t(e=>!e)},g=e=>{a.current&&a.current.contains(e.target)||t(!1)};function w(e){e.key==="Tab"?(e.preventDefault(),t(!1)):e.key==="Escape"&&t(!1)}return c(s.Fragment,{children:[n(h,{title:p?n("div",{style:{whiteSpace:"pre-line"},children:p}):void 0,placement:"top",children:n("span",{children:n(m,{variant:"outlined",ref:a,id:`composition-button-${r}`,"aria-controls":i?`composition-menu-${r}`:void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",onClick:T,...v,children:n(f,{variant:"buttonLink",children:y})})})}),n(L,{open:i,anchorEl:a.current,role:void 0,placement:"bottom-end",transition:!0,style:{zIndex:10},children:({TransitionProps:e})=>n(S,{...e,children:n(_,{children:n(R,{onClickAway:g,children:n(q,{autoFocusItem:i,id:`composition-menu-${r}`,"aria-labelledby":`composition-button-${r}`,onKeyDown:w,children:l.map((M,k,C)=>[M.map(o=>n(h,{title:o.tooltipText,placement:"left",children:c(V,{component:"a",sx:{"&:hover":{color:"unset"},"&:focus":{color:"unset",textDecoration:"unset"}},disabled:o.disabled,href:"href"in o?o.href:void 0,rel:"href"in o?"noopener noreferrer":void 0,style:{pointerEvents:"auto"},onClick:D=>{!o.disabled&&"onClick"in o&&o.onClick&&(t(!1),o.onClick(D))},children:[n(N,{style:{minWidth:"30px"},children:o.icon&&n(P,{icon:o.icon,sx:{width:"17px",height:"17px",...o.iconSx},wrap:!1})}),n(E,{primaryTypographyProps:{variant:"smallText1",sx:o.textSx},sx:{marginTop:0},children:o.text})]})},o.text)),k<C.length-1&&n(F,{})])})})})})})]})}try{x.displayName="DropdownMenu",x.__docgenInfo={description:"The DropdownMenu component provides a generic way to compose a MUI dropdown menu.",displayName:"DropdownMenu",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"DropdownMenuItem[][]"}},dropdownButtonText:{defaultValue:null,description:"",name:"dropdownButtonText",required:!0,type:{name:"string"}},buttonTooltip:{defaultValue:null,description:"",name:"buttonTooltip",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},convertSingleItemToButton:{defaultValue:null,description:"",name:"convertSingleItemToButton",required:!1,type:{name:"boolean"}},renderMenuIfNoItems:{defaultValue:null,description:"",name:"renderMenuIfNoItems",required:!1,type:{name:"boolean"}}}}}catch{}export{x as D};
