import{j as s,a as I}from"./jsx-runtime-9dc53467.js";import{r}from"./index-76fb7be0.js";import{d as _}from"./ExitToApp-9f490da3.js";import{S as c}from"./SpinnerButton-0414e793.js";import"./OrientationBanner-1bd00e8c.js";import"./getEndpoint-ac94413e.js";import{m as k,w}from"./SynapseClient-d7905674.js";import{u as E}from"./useGetEntityChallenge-93286298.js";import{u as T}from"./useGetUserTeams-51a45bf8.js";import{u as R}from"./useTeamMembers-0b7c99aa.js";import{B as q}from"./Box-56def3ff.js";const S="",b=({projectId:f,onChallengeError:a,onJoinClick:m,onLeaveClick:p})=>{const{accessToken:l}=k(),[e,v]=r.useState(),{data:n}=w(),[g,h]=r.useState(!1),[C,x]=r.useState(!1),[y,i]=r.useState(!0),[d,u]=r.useState();return r.useEffect(()=>{d&&a&&a(d)},[d,a]),E(f,{enabled:!!l&&!e,onSettled:(t,o)=>{t&&v(t),o&&(i(!1),u(o))}}),R((e==null?void 0:e.participantTeamId)??S,(n==null?void 0:n.ownerId)??S,{enabled:!!e&&!!n,onSettled:(t,o)=>{t===null&&(h(!1),i(!1)),t!==null&&h(!0),o&&(i(!1),u(o))}}),T((e==null?void 0:e.id)??"0",20,{enabled:!!e&&!!l,onSettled:(t,o)=>{t&&x(t.results.length>0),o&&u(o),i(!1)}}),y?s(c,{showSpinner:!0,children:"Loading..."}):I(q,{children:[(!g||!C)&&s(c,{disableElevation:!0,variant:"contained",onClick:()=>l&&m?m():void 0,sx:{color:"white",backgroundColor:"#109488",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"white",backgroundColor:"#109488"},":active":{color:"white",backgroundColor:"#109488"},":visited":{color:"white",backgroundColor:"#109488"}},children:"Register for this Challenge"}),g&&C&&s(c,{disableElevation:!0,variant:"outlined",endIcon:s(_,{}),onClick:()=>p?p():void 0,sx:{borderColor:"white",color:"white",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"#172430",borderColor:"#172430"}},children:"Leave Challenge"})]})};try{b.displayName="ChallengeRegisterButton",b.__docgenInfo={description:"",displayName:"ChallengeRegisterButton",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},onChallengeError:{defaultValue:null,description:"",name:"onChallengeError",required:!1,type:{name:"((error: SynapseClientError) => void)"}},onJoinClick:{defaultValue:null,description:"",name:"onJoinClick",required:!1,type:{name:"(() => void)"}},onLeaveClick:{defaultValue:null,description:"",name:"onLeaveClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{b as C};
//# sourceMappingURL=ChallengeRegisterButton-f1ee6834.js.map
