import{a as i,j as l}from"./jsx-runtime-095bf462.js";import{r as s,R as P}from"./index-8db94870.js";import{Q as y,y as f,z as h,a as c,B as C,x as g,C as k,G as w,H as b,J as x,K as S,L as E,N as v,O as R,P as T,R as Q,T as _,U as O,V as D,W as A,X as M,Y as I,Z as N,_ as B,$ as K}from"./SynapseClient-a57981a2.js";import{S as U}from"./ToastMessage-27c60e7f.js";import{d as W}from"./dayjs.min-8d4ef725.js";import{S as j}from"./getEndpoint-ac94413e.js";import{h as F}from"./styled-29603136.js";var p={exports:{}};p.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var H=p.exports;async function q(){let e=await w(),t;try{t=await b(e)}catch(o){throw o instanceof x&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await S(),e=void 0),o}let a;return e&&E(e).then(o=>{a=W(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new y(f);function L(e){const t=j[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const V={default:v,sageBionetworks:R,mtb:T,arkPortal:Q,adKnowledgePortal:_,nfPortal:O,bsmnPortal:D,psychEncodePortal:A,stopAdPortal:M,digitalHealthPortal:I,crcResearcherPortal:N,cancerComplexityPortal:B,elPortal:K};function d(e){const{storybookContext:t}=e;s.useEffect(()=>{L(t.globals.stack||t.parameters.stack)},[t.globals.stack]);const[a,o]=P.useState(void 0);h(),s.useEffect(()=>{q().then(n=>{o(n.accessToken)})}),s.useEffect(()=>{async function n(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}n()},[a]);const u=s.useMemo(()=>({accessToken:a,isInExperimentalMode:c.isInSynapseExperimentalMode(),utcTime:c.getUseUtcTimeFromCookie(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]),m=F(C,{palette:V[t.globals.palette]});return i(g,{queryClient:r,synapseContext:u,theme:m,children:[t.globals.showReactQueryDevtools&&l(H.ReactQueryDevtools,{}),i(k,{children:[l(U,{}),l("main",{children:e.children})]})]},a)}try{d.displayName="StorybookComponentWrapper",d.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:'{ globals: { stack?: SynapseStack | undefined; palette: "default" | "sageBionetworks" | "mtb" | "arkPortal" | "adKnowledgePortal" | "nfPortal" | "bsmnPortal" | "psychEncodePortal" | ... 4 more ... | "elPortal"; showReactQueryDevtools?: boolean | undefined; }; parameters: { ...; }; }'}}}}}catch{}export{d as S,q as s};
//# sourceMappingURL=StorybookComponentWrapper-fb6d2a4c.js.map
