{"version":3,"file":"LoginAwareButton.stories-e0e58478.js","sources":["../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/ExitToApp.js","../../src/components/widgets/LoginAwareButton.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'ExitToApp');\nexports.default = _default;","import * as React from 'react'\nimport { Button, ButtonProps } from '@mui/material'\nimport { Link, LinkProps } from 'react-router-dom'\nimport { SRC_SIGN_IN_CLASS } from '../../utils/SynapseConstants'\nimport { useSynapseContext } from '../../utils/context'\n\n/* Allow component to behave as a MUI Button or a React Router Link */\nexport type LoginAwareButtonProps = ButtonProps &\n  Partial<Pick<LinkProps, 'to' | 'replace'>>\n\nexport const LoginAwareButton: React.FunctionComponent<\n  LoginAwareButtonProps\n> = (props: LoginAwareButtonProps) => {\n  const { accessToken } = useSynapseContext()\n  const isSignedIn = !!accessToken\n  const mergedProps = { ...props }\n  const linkProps = {\n    to: props.to,\n    replace: props.replace,\n  }\n  delete mergedProps.to\n  delete mergedProps.replace\n  if (!isSignedIn) {\n    /* If token is missing, add css class to flag button to require login before continuing */\n    delete mergedProps.href\n    mergedProps.className = SRC_SIGN_IN_CLASS\n  }\n  let linkBtn = <Button {...mergedProps}>{mergedProps.children}</Button>\n  if (isSignedIn && linkProps.to && !mergedProps.href) {\n    linkBtn = (\n      <Link to={linkProps.to} replace={linkProps.replace}>\n        {linkBtn}\n      </Link>\n    )\n  }\n  return linkBtn\n}\n"],"names":["_interopRequireDefault","require$$0","ExitToApp","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","LoginAwareButton","props","accessToken","useSynapseContext","isSignedIn","mergedProps","linkProps","SRC_SIGN_IN_CLASS","linkBtn","jsx","Button","Link"],"mappings":"qrDAEIA,EAAyBC,EAC7B,OAAO,eAAeC,EAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACD,IAAeC,EAAAD,EAAA,QAAG,OACdE,EAAiBJ,EAAuBK,EAAA,CAAgC,EACxEC,EAAcC,EACdC,KAAeJ,EAAe,YAA2BE,EAAY,KAAK,OAAQ,CACpF,EAAG,sKACL,CAAC,EAAG,WAAW,EACfH,EAAAD,EAAA,QAAkBM,ECFX,MAAAC,EAAAC,GAAA,CAGL,KAAA,CAAA,YAAAC,GAAAC,IACAC,EAAA,CAAA,CAAAF,EACAG,EAAA,CAAA,GAAAJ,GACAK,EAAA,CAAkB,GAAAL,EAAA,GACN,QAAAA,EAAA,OACK,EAEjB,OAAAI,EAAA,GACA,OAAAA,EAAA,QACAD,IAEE,OAAAC,EAAA,KACAA,EAAA,UAAAE,GAEF,IAAAC,EAAAC,EAAAC,EAAA,CAAA,GAAAL,EAAA,SAAAA,EAAA,QAAA,CAAA,EACA,OAAAD,GAAAE,EAAA,IAAA,CAAAD,EAAA,OACEG,EAAAC,EAAAE,EAAA,CAAA,GAAAL,EAAA,GAAA,QAAAA,EAAA,QAAA,SAAAE,CAAA,CAAA,GAMFA,CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0]}