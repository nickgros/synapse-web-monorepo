import{_ as C}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-4abd396b.js";import{a as H,g as N,s as _,e as $,_ as E,f as U,h as A}from"./styled-96220216.js";import{r as u}from"./index-8db94870.js";import"./index-953d39fd.js";import{j as I,a as O}from"./jsx-runtime-095bf462.js";import{a as z,u as W}from"./useForkRef-f2aa3d66.js";import{g as B}from"./getScrollbarSize-ac846fe6.js";import{o as k}from"./isHostComponent-fa76b8d9.js";const V=u.createContext({}),q=V;function G(t){return H("MuiList",t)}N("MuiList",["root","padding","dense","subheader"]);const J=["children","className","component","dense","disablePadding","subheader"],Q=t=>{const{classes:e,disablePadding:s,dense:p,subheader:c}=t;return A({root:["root",!s&&"padding",p&&"dense",c&&"subheader"]},G,e)},X=_("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disablePadding&&e.padding,s.dense&&e.dense,s.subheader&&e.subheader]}})(({ownerState:t})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Y=u.forwardRef(function(e,s){const p=$({props:e,name:"MuiList"}),{children:c,className:g,component:d="ul",dense:r=!1,disablePadding:m=!1,subheader:b}=p,x=E(p,J),w=u.useMemo(()=>({dense:r}),[r]),L=C({},p,{component:d,dense:r,disablePadding:m}),f=Q(L);return I(q.Provider,{value:w,children:O(X,C({as:d,className:U(f.root,g),ref:s,ownerState:L},x,{children:[b,c]}))})}),Z=Y,ee=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function M(t,e,s){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:s?null:t.firstChild}function D(t,e,s){return t===e?s?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:s?null:t.lastChild}function R(t,e){if(e===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:e.repeating?s[0]===e.keys[0]:s.indexOf(e.keys.join(""))===0}function y(t,e,s,p,c,g){let d=!1,r=c(t,e,e?s:!1);for(;r;){if(r===t.firstChild){if(d)return!1;d=!0}const m=p?!1:r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||!R(r,g)||m)r=c(t,r,s);else return r.focus(),!0}return!1}const te=u.forwardRef(function(e,s){const{actions:p,autoFocus:c=!1,autoFocusItem:g=!1,children:d,className:r,disabledItemsFocusable:m=!1,disableListWrap:b=!1,onKeyDown:x,variant:w="selectedMenu"}=e,L=E(e,ee),f=u.useRef(null),F=u.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});z(()=>{c&&f.current.focus()},[c]),u.useImperativeHandle(p,()=>({adjustStyleForScrollbar:(n,i)=>{const l=!f.current.style.width;if(n.clientHeight<f.current.clientHeight&&l){const h=`${B(k(n))}px`;f.current.style[i.direction==="rtl"?"paddingLeft":"paddingRight"]=h,f.current.style.width=`calc(100% + ${h})`}return f.current}}),[]);const K=n=>{const i=f.current,l=n.key,h=k(i).activeElement;if(l==="ArrowDown")n.preventDefault(),y(i,h,b,m,M);else if(l==="ArrowUp")n.preventDefault(),y(i,h,b,m,D);else if(l==="Home")n.preventDefault(),y(i,null,b,m,M);else if(l==="End")n.preventDefault(),y(i,null,b,m,D);else if(l.length===1){const o=F.current,v=l.toLowerCase(),S=performance.now();o.keys.length>0&&(S-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&v!==o.keys[0]&&(o.repeating=!1)),o.lastTime=S,o.keys.push(v);const j=h&&!o.repeating&&R(h,o);o.previousKeyMatched&&(j||y(i,h,!1,m,M,o))?n.preventDefault():o.previousKeyMatched=!1}x&&x(n)},P=W(f,s);let a=-1;u.Children.forEach(d,(n,i)=>{if(!u.isValidElement(n)){a===i&&(a+=1,a>=d.length&&(a=-1));return}n.props.disabled||(w==="selectedMenu"&&n.props.selected||a===-1)&&(a=i),a===i&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(a+=1,a>=d.length&&(a=-1))});const T=u.Children.map(d,(n,i)=>{if(i===a){const l={};return g&&(l.autoFocus=!0),n.props.tabIndex===void 0&&w==="selectedMenu"&&(l.tabIndex=0),u.cloneElement(n,l)}return n});return I(Z,C({role:"menu",ref:P,className:r,onKeyDown:K,tabIndex:c?0:-1},L,{children:T}))}),ce=te;export{q as L,ce as M,Z as a};
//# sourceMappingURL=MenuList-f2b66e01.js.map
