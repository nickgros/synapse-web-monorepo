{"version":3,"file":"CreateProjectModal-c75bfc33.js","sources":["../../src/components/CreateProjectModal.tsx"],"sourcesContent":["import { Alert } from '@mui/material'\nimport React, { useState } from 'react'\nimport SynapseClient from '../synapse-client'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\nimport { ConfirmationDialog } from './ConfirmationDialog/ConfirmationDialog'\nimport FullWidthAlert from './FullWidthAlert/FullWidthAlert'\nimport TextField from './TextField/TextField'\n\nexport type CreateProjectModalProps = {\n  isShowingModal?: boolean\n  onClose: () => void\n}\n\nexport const CreateProjectModal: React.FunctionComponent<\n  CreateProjectModalProps\n> = ({ isShowingModal = false, onClose }) => {\n  const { accessToken } = useSynapseContext()\n  const [projectName, setProjectName] = useState<string>('')\n  const [isShowingSuccessAlert, setIsShowingSuccessAlert] =\n    useState<boolean>(false)\n  const [errorMessage, setErrorMessage] = useState<string>()\n  const hide = () => {\n    setProjectName('')\n    setErrorMessage(undefined)\n    onClose()\n  }\n  const onCreateProject = async () => {\n    try {\n      const newProject = await SynapseClient.createProject(\n        projectName,\n        accessToken,\n      )\n      setIsShowingSuccessAlert(true)\n      hide()\n      window.location.href = `/#!Synapse:${newProject.id}`\n    } catch (err) {\n      if (err.reason) {\n        setErrorMessage(err.reason)\n      } else {\n        setErrorMessage(err.toString())\n      }\n    }\n  }\n\n  const dialogContent = (\n    <>\n      <TextField\n        id=\"projectInput\"\n        label=\"Project Name\"\n        value={projectName}\n        fullWidth\n        onChange={event => {\n          setProjectName(event.target.value)\n        }}\n        inputProps={{\n          onKeyDown: (event: React.KeyboardEvent<HTMLInputElement>) => {\n            if (event.key === 'Enter') {\n              if (projectName !== '') {\n                onCreateProject()\n              }\n            }\n          },\n        }}\n      />\n      {errorMessage && <Alert severity=\"error\">{errorMessage}</Alert>}\n    </>\n  )\n\n  return (\n    <>\n      <ConfirmationDialog\n        open={isShowingModal}\n        title=\"Create a new Project\"\n        content={dialogContent}\n        confirmButtonText=\"Save\"\n        onConfirm={() => {\n          void onCreateProject()\n        }}\n        onCancel={hide}\n        maxWidth=\"md\"\n      />\n      <FullWidthAlert\n        show={isShowingSuccessAlert}\n        variant=\"info\"\n        title=\"Project created\"\n        description=\"\"\n        autoCloseAfterDelayInSeconds={10}\n        onClose={() => {\n          setIsShowingSuccessAlert(false)\n        }}\n      />\n    </>\n  )\n}\n"],"names":["CreateProjectModal","isShowingModal","onClose","accessToken","useSynapseContext","projectName","setProjectName","useState","isShowingSuccessAlert","setIsShowingSuccessAlert","errorMessage","setErrorMessage","hide","onCreateProject","newProject","SynapseClient","err","jsxs","Fragment","jsx","ConfirmationDialog","TextField","event","Alert","FullWidthAlert"],"mappings":"0VAaO,MAAAA,EAAA,CAAA,CAAA,eAAAC,EAAA,GAAA,QAAAC,CAAA,IAAA,CAGL,KAAA,CAAA,YAAAC,GAAAC,IACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAA,EAAA,EAEA,CAAAG,EAAAC,CAAA,EAAAJ,EAAA,SAAA,EACAK,EAAA,IAAA,CACEN,EAAA,EAAA,EACAK,EAAA,MAAA,EACAT,GAAQ,EAEVW,EAAA,SAAA,CACE,GAAA,CACE,MAAAC,EAAA,MAAAC,EAAA,cAAuCV,EACrCF,CACA,EAEFM,EAAA,EAAA,EACAG,IACA,OAAA,SAAA,KAAA,cAAAE,EAAA,IAAgD,OAAAE,EAAA,CAEhDA,EAAA,OACEL,EAAAK,EAAA,MAAA,EAEAL,EAAAK,EAAA,SAAA,CAAA,CACF,CACF,EA2BF,OAAAC,EAAAC,EAAA,CAAA,SAAA,CAEIC,EAAAC,EAAC,CAAA,KAAAnB,EACO,MAAA,uBACA,QA5BZgB,EAAAC,EAAA,CAAA,SAAA,CAEIC,EAAAE,EAAC,CAAA,GAAA,eACI,MAAA,eACG,MAAAhB,EACC,UAAA,GACE,SAAAiB,GAAA,CAEPhB,EAAAgB,EAAA,OAAA,KAAA,CAAiC,EACnC,WAAA,CACY,UAAAA,GAAA,CAERA,EAAA,MAAA,SACEjB,IAAA,IACEQ,GAEJ,CACF,CACF,CAAA,EACFH,GAAAS,EAAAI,EAAA,CAAA,SAAA,QAAA,SAAAb,EAAA,CACuD,CAAA,CAAA,EAS5C,kBAAA,OACS,UAAA,IAAA,CAEhBG,EAAA,CAAqB,EACvB,SAAAD,EACU,SAAA,IACD,CAAA,EACXO,EACAK,EAAC,CAAA,KAAAhB,EACO,QAAA,OACE,MAAA,kBACF,YAAA,GACM,6BAAA,GACkB,QAAA,IAAA,CAE5BC,EAAA,EAAA,CAA8B,CAChC,CAAA,CACF,CAAA,CAAA,CAGN"}