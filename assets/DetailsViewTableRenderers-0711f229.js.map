{"version":3,"file":"DetailsViewTableRenderers-0711f229.js","sources":["../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/ChatBubbleTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/DescriptionTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/LinkOffTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/LocalOfferTwoTone.js","../../src/lib/utils/hooks/useGetIsAllSelectedInfiniteList.ts","../../src/lib/utils/hooks/SynapseAPI/search/useSearch.ts","../../src/lib/utils/hooks/SynapseAPI/user/useProjects.ts","../../../../node_modules/.pnpm/memoize-one@5.2.1/node_modules/memoize-one/dist/memoize-one.esm.js","../../../../node_modules/.pnpm/react-window@1.8.8_react-dom@18.2.0_react@18.2.0/node_modules/react-window/dist/index.esm.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableHeader.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/utils.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/GridTable.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableHeaderRow.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableRow.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableHeaderCell.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableCell.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/Column.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/SortOrder.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/ExpandIcon.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/SortIndicator.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/ColumnResizer.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/ColumnManager.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/BaseTable.js","../../../../node_modules/.pnpm/react-virtualized-auto-sizer@1.0.7_react-dom@18.2.0_react@18.2.0/node_modules/react-virtualized-auto-sizer/dist/index.esm.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/AutoResizer.js","../../src/lib/containers/EntityBadgeIcons.tsx","../../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/utilities.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexSplitter.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexEvents.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/Polyfills.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexContainer.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexHandle.js","../../../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js","../../../../node_modules/.pnpm/resize-observer-polyfill@1.5.1/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../../../node_modules/.pnpm/react-measure@2.5.2_react-dom@18.2.0_react@18.2.0/node_modules/react-measure/dist/index.esm.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexElement.js","../../src/lib/containers/entity_finder/Breadcrumbs.tsx","../../src/lib/containers/entity_finder/VersionSelectionType.ts","../../src/lib/containers/entity_finder/details/view/VersionColumnHeader.tsx","../../src/lib/containers/entity_finder/details/view/DetailsView.tsx","../../src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx","../../src/lib/containers/entity_finder/details/EntityDetailsList.tsx","../../src/lib/containers/entity_finder/SelectionPane.tsx","../../../../node_modules/.pnpm/react-merge-refs@1.1.0/node_modules/react-merge-refs/dist/react-merge-refs.esm.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_react-dom@18.2.0_react-window@1.8.8_react@18.2.0/node_modules/react-vtree/dist/es/utils.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_react-dom@18.2.0_react-window@1.8.8_react@18.2.0/node_modules/react-vtree/dist/es/Tree.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_react-dom@18.2.0_react-window@1.8.8_react@18.2.0/node_modules/react-vtree/dist/es/VariableSizeTree.js","../../src/lib/containers/entity_finder/tree/VirtualizedTree.tsx","../../src/lib/containers/entity_finder/tree/EntityTree.tsx","../../src/lib/containers/entity_finder/useEntitySelection.ts","../../src/lib/containers/entity_finder/EntityFinder.tsx","../../src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"m4 18 2-2h14V4H4z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"\n}, \"1\")], 'ChatBubbleTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\"\n}, \"1\")], 'DescriptionTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z\"\n}), 'LinkOffTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01 4 11V4h7v-.01l9 9-7 7.02z\"\n}, \"1\"), /*#__PURE__*/_jsx(\"circle\", {\n  cx: \"6.5\",\n  cy: \"6.5\",\n  r: \"1.5\"\n}, \"2\")], 'LocalOfferTwoTone');","import { useEffect, useState } from 'react'\nimport { FetchNextPageOptions, InfiniteQueryObserverResult } from 'react-query'\nimport { SynapseClientError } from '../SynapseClientError'\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination, in which case it's recommended to use the hook version\n * of this function to get updates as pages are fetched and updated.\n *\n * We don't currently support an indeterminate checkbox state because that would require always fetching all pages of a given query, which does not scale.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport function getIsAllSelectedFromInfiniteList<TItem, TFetchResult>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n): boolean {\n  if (items.length === 0 || numSelected === 0) {\n    return false\n  } else {\n    const allSelectableFetchedChildrenAreSelected = items.every(\n      e => isSelected(e) || !isSelectable(e),\n    )\n    if (\n      allSelectableFetchedChildrenAreSelected &&\n      hasNextPage &&\n      fetchNextPage &&\n      !isFetchingNextPage\n    ) {\n      // We don't yet know if the checkbox should be true or false, so get the next page\n      fetchNextPage()\n      return false\n    } else {\n      if (isFetchingNextPage) {\n        // Wait for the next page to be retrieved\n        return false\n      }\n\n      // At this point, we've fetched all of the pages or encountered an unselected entity\n      // The checkbox should be true if there are no unselected entities, and there's at least one selectable entity\n      const selectableEntitiesArePresent = items.some(e => isSelectable(e))\n      return (\n        allSelectableFetchedChildrenAreSelected && selectableEntitiesArePresent\n      )\n    }\n  }\n}\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination.\n *\n * There is also a non-hook version of this function that can be called in contexts where hooks cannot be used.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport default function useGetIsAllSelectedFromInfiniteList<\n  TItem,\n  TFetchResult,\n>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n) {\n  const [isSelectAll, setIsSelectAll] = useState(false)\n  useEffect(() => {\n    setIsSelectAll(\n      getIsAllSelectedFromInfiniteList(\n        items,\n        numSelected,\n        isSelected,\n        isSelectable,\n        hasNextPage,\n        fetchNextPage,\n        isFetchingNextPage,\n      ),\n    )\n  }, [\n    items,\n    numSelected,\n    fetchNextPage,\n    hasNextPage,\n    isSelected,\n    isSelectable,\n    isFetchingNextPage,\n  ])\n\n  return isSelectAll\n}\n","import {\n  QueryFunctionContext,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { SearchQuery, SearchResults } from '../../../synapseTypes/Search'\n\nexport function useSearch(\n  query: SearchQuery,\n  options?: UseQueryOptions<SearchResults, SynapseClientError, SearchResults>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<SearchResults, SynapseClientError>(\n    keyFactory.getSearchEntitiesQueryKey(query),\n    () => SynapseClient.searchEntities(query, accessToken),\n    options,\n  )\n}\n\nexport function useSearchInfinite(\n  query: Omit<SearchQuery, 'start'>,\n  options?: UseInfiniteQueryOptions<\n    SearchResults,\n    SynapseClientError,\n    SearchResults\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useInfiniteQuery<SearchResults, SynapseClientError>(\n    keyFactory.getSearchEntitiesQueryKey(query),\n    async (context: QueryFunctionContext) => {\n      return SynapseClient.searchEntities(\n        { ...query, start: context.pageParam },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: prevPage => {\n        if (prevPage.start + prevPage.hits.length === prevPage.found) {\n          return null\n        } else {\n          return prevPage.start + prevPage.hits.length\n        }\n      },\n    },\n  )\n}\n","import {\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { ProjectHeaderList } from '../../../synapseTypes'\nimport { GetProjectsParameters } from '../../../synapseTypes/GetProjectsParams'\n\nexport function useGetProjects(\n  params?: GetProjectsParameters,\n  options?: UseQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<ProjectHeaderList, SynapseClientError>(\n    keyFactory.getMyProjectsQueryKey(params),\n    () => SynapseClient.getMyProjects(accessToken!, params),\n    options,\n  )\n}\n\nexport function useGetProjectsInfinite(\n  params: GetProjectsParameters,\n  options?: UseInfiniteQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useInfiniteQuery<ProjectHeaderList, SynapseClientError>(\n    keyFactory.getMyProjectsQueryKey(params),\n    async context => {\n      return await SynapseClient.getMyProjects(accessToken!, {\n        ...params,\n        nextPageToken: context.pageParam,\n      })\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var _this$props2 = this.props,\n          itemCount = _this$props2.itemCount,\n          layout = _this$props2.layout;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1)); // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n\n      var scrollbarSize = 0;\n\n      if (this._outerRef) {\n        var outerRef = this._outerRef;\n\n        if (layout === 'vertical') {\n          scrollbarSize = outerRef.scrollWidth > outerRef.clientWidth ? getScrollbarSize() : 0;\n        } else {\n          scrollbarSize = outerRef.scrollHeight > outerRef.clientHeight ? getScrollbarSize() : 0;\n        }\n      }\n\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps, scrollbarSize));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          initialScrollOffset = _this$props3.initialScrollOffset,\n          layout = _this$props3.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props4 = this.props,\n          direction = _this$props4.direction,\n          layout = _this$props4.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          className = _this$props5.className,\n          direction = _this$props5.direction,\n          height = _this$props5.height,\n          innerRef = _this$props5.innerRef,\n          innerElementType = _this$props5.innerElementType,\n          innerTagName = _this$props5.innerTagName,\n          itemCount = _this$props5.itemCount,\n          itemData = _this$props5.itemData,\n          _this$props5$itemKey = _this$props5.itemKey,\n          itemKey = _this$props5$itemKey === void 0 ? defaultItemKey$1 : _this$props5$itemKey,\n          layout = _this$props5.layout,\n          outerElementType = _this$props5.outerElementType,\n          outerTagName = _this$props5.outerTagName,\n          style = _this$props5.style,\n          useIsScrolling = _this$props5.useIsScrolling,\n          width = _this$props5.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props6 = this.props,\n          itemCount = _this$props6.itemCount,\n          overscanCount = _this$props6.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar TableHeader = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableHeader, _React$PureComponent);\n\n  function TableHeader(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.renderHeaderRow = _this.renderHeaderRow.bind(_assertThisInitialized(_this));\n    _this.renderFrozenRow = _this.renderFrozenRow.bind(_assertThisInitialized(_this));\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TableHeader.prototype;\n\n  _proto.scrollTo = function scrollTo(offset) {\n    var _this2 = this;\n\n    requestAnimationFrame(function () {\n      if (_this2.headerRef) _this2.headerRef.scrollLeft = offset;\n    });\n  };\n\n  _proto.renderHeaderRow = function renderHeaderRow(height, index) {\n    var _this$props = this.props,\n        columns = _this$props.columns,\n        headerRenderer = _this$props.headerRenderer;\n    if (height <= 0) return null;\n    var style = {\n      width: '100%',\n      height: height\n    };\n    return headerRenderer({\n      style: style,\n      columns: columns,\n      headerIndex: index\n    });\n  };\n\n  _proto.renderFrozenRow = function renderFrozenRow(rowData, index) {\n    var _this$props2 = this.props,\n        columns = _this$props2.columns,\n        rowHeight = _this$props2.rowHeight,\n        rowRenderer = _this$props2.rowRenderer;\n    var style = {\n      width: '100%',\n      height: rowHeight\n    }; // for frozen row the `rowIndex` is negative\n\n    var rowIndex = -index - 1;\n    return rowRenderer({\n      style: style,\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        className = _this$props3.className,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        rowWidth = _this$props3.rowWidth,\n        headerHeight = _this$props3.headerHeight,\n        frozenData = _this$props3.frozenData;\n    if (height <= 0) return null;\n    var style = {\n      width: width,\n      height: height,\n      position: 'relative',\n      overflow: 'hidden'\n    };\n    var innerStyle = {\n      width: rowWidth,\n      height: height\n    };\n    var rowHeights = Array.isArray(headerHeight) ? headerHeight : [headerHeight];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      role: \"grid\",\n      ref: this._setRef,\n      className: className,\n      style: style\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      style: innerStyle\n    }, rowHeights.map(this.renderHeaderRow), frozenData.map(this.renderFrozenRow)));\n  };\n\n  _proto._setRef = function _setRef(ref) {\n    this.headerRef = ref;\n  };\n\n  return TableHeader;\n}(React.PureComponent);\n\nTableHeader.propTypes = {\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  rowWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default TableHeader;\n//# sourceMappingURL=TableHeader.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nexport function renderElement(renderer, props) {\n  if ( /*#__PURE__*/React.isValidElement(renderer)) {\n    if (!props) return renderer;\n    return /*#__PURE__*/React.cloneElement(renderer, props);\n  } else if (typeof renderer === 'function') {\n    return /*#__PURE__*/React.createElement(renderer, props);\n  } else {\n    return null;\n  }\n}\nexport function normalizeColumns(elements) {\n  var columns = [];\n  React.Children.forEach(elements, function (element) {\n    if ( /*#__PURE__*/React.isValidElement(element) && element.key) {\n      var column = _objectSpread(_objectSpread({}, element.props), {}, {\n        key: element.key\n      });\n\n      columns.push(column);\n    }\n  });\n  return columns;\n}\nexport function isObjectEqual(objA, objB, ignoreFunction) {\n  if (ignoreFunction === void 0) {\n    ignoreFunction = true;\n  }\n\n  if (objA === objB) return true;\n  if (objA === null && objB === null) return true;\n  if (objA === null || objB === null) return false;\n  if (typeof objA !== 'object' || typeof objB !== 'object') return false;\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    var key = keysA[i];\n\n    if (key === '_owner' && objA.$$typeof) {\n      // React-specific: avoid traversing React elements' _owner.\n      //  _owner contains circular references\n      // and is not needed when comparing the actual elements (and not their owners)\n      continue;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    var valueAType = typeof valueA;\n    if (valueAType !== typeof valueB) return false;\n    if (valueAType === 'function' && ignoreFunction) continue;\n\n    if (valueAType === 'object') {\n      if (!isObjectEqual(valueA, valueB, ignoreFunction)) return false;else continue;\n    }\n\n    if (valueA !== valueB) return false;\n  }\n\n  return true;\n}\nexport function callOrReturn(funcOrValue) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof funcOrValue === 'function' ? funcOrValue.apply(void 0, args) : funcOrValue;\n}\nexport function hasChildren(data) {\n  return Array.isArray(data.children) && data.children.length > 0;\n}\nexport function unflatten(array, rootId, dataKey, parentKey) {\n  if (rootId === void 0) {\n    rootId = null;\n  }\n\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n\n  if (parentKey === void 0) {\n    parentKey = 'parentId';\n  }\n\n  var tree = [];\n  var childrenMap = {};\n  var length = array.length;\n\n  for (var i = 0; i < length; i++) {\n    var item = _objectSpread({}, array[i]);\n\n    var id = item[dataKey];\n    var parentId = item[parentKey];\n\n    if (Array.isArray(item.children)) {\n      childrenMap[id] = item.children.concat(childrenMap[id] || []);\n    } else if (!childrenMap[id]) {\n      childrenMap[id] = [];\n    }\n\n    item.children = childrenMap[id];\n\n    if (parentId !== undefined && parentId !== rootId) {\n      if (!childrenMap[parentId]) childrenMap[parentId] = [];\n      childrenMap[parentId].push(item);\n    } else {\n      tree.push(item);\n    }\n  }\n\n  return tree;\n}\nexport function flattenOnKeys(tree, keys, depthMap, dataKey) {\n  if (depthMap === void 0) {\n    depthMap = {};\n  }\n\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n\n  if (!keys || !keys.length) return tree;\n  var array = [];\n  var keysSet = new Set();\n  keys.forEach(function (x) {\n    return keysSet.add(x);\n  });\n  var stack = [].concat(tree);\n  stack.forEach(function (x) {\n    return depthMap[x[dataKey]] = 0;\n  });\n\n  var _loop = function _loop() {\n    var item = stack.shift();\n    array.push(item);\n\n    if (keysSet.has(item[dataKey]) && Array.isArray(item.children) && item.children.length > 0) {\n      stack = [].concat(item.children, stack);\n      item.children.forEach(function (x) {\n        return depthMap[x[dataKey]] = depthMap[item[dataKey]] + 1;\n      });\n    }\n  };\n\n  while (stack.length > 0) {\n    _loop();\n  }\n\n  return array;\n} // Babel7 changed the behavior of @babel/plugin-transform-spread in https://github.com/babel/babel/pull/6763\n// [...array] is transpiled to array.concat() while it was [].concat(array) before\n// this change breaks immutable array(seamless-immutable), [...array] should always return mutable array\n\nexport function cloneArray(array) {\n  if (!Array.isArray(array)) return [];\n  return [].concat(array);\n}\nexport function noop() {}\nexport function toString(value) {\n  if (typeof value === 'string') return value;\n  if (value === null || value === undefined) return '';\n  return value.toString ? value.toString() : '';\n}\n\nfunction getPathSegments(path) {\n  var pathArray = path.split('.');\n  var parts = [];\n\n  for (var i = 0; i < pathArray.length; i++) {\n    var p = pathArray[i];\n\n    while (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n      p = p.slice(0, -1) + '.';\n      p += pathArray[++i];\n    }\n\n    parts.push(p);\n  }\n\n  return parts;\n} // changed from https://github.com/sindresorhus/dot-prop/blob/master/index.js\n\n\nexport function getValue(object, path, defaultValue) {\n  if (object === null || typeof object !== 'object' || typeof path !== 'string') {\n    return defaultValue;\n  }\n\n  var pathArray = getPathSegments(path);\n\n  for (var i = 0; i < pathArray.length; i++) {\n    if (!Object.prototype.propertyIsEnumerable.call(object, pathArray[i])) {\n      return defaultValue;\n    }\n\n    object = object[pathArray[i]];\n\n    if (object === undefined || object === null) {\n      if (i !== pathArray.length - 1) {\n        return defaultValue;\n      }\n\n      break;\n    }\n  }\n\n  return object;\n} // copied from https://www.30secondsofcode.org/js/s/debounce\n\nexport var debounce = function debounce(fn, ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  var timeoutId;\n  return function () {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, ms);\n  };\n}; // copied from https://www.30secondsofcode.org/js/s/throttle\n\nexport var throttle = function throttle(fn, wait) {\n  var inThrottle, lastFn, lastTime;\n  return function () {\n    var context = this,\n        args = arguments;\n\n    if (!inThrottle) {\n      fn.apply(context, args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(function () {\n        if (Date.now() - lastTime >= wait) {\n          fn.apply(context, args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n}; // copied from https://github.com/react-bootstrap/dom-helpers\n\nvar scrollbarSize;\nexport function getScrollbarSize(recalculate) {\n  if (!scrollbarSize && scrollbarSize !== 0 || recalculate) {\n    if (typeof window !== 'undefined' && window.document && window.document.createElement) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return scrollbarSize;\n}\nexport function addClassName(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\"))) {\n      el.className += \" \" + className;\n    }\n  }\n}\nexport function removeClassName(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\", 'g'), '');\n  }\n}\nexport function getEstimatedTotalRowsHeight(data, estimatedRowHeight) {\n  return typeof estimatedRowHeight === 'function' ? data.reduce(function (height, rowData, rowIndex) {\n    return height + estimatedRowHeight({\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  }, 0) : data.length * estimatedRowHeight;\n}\n//# sourceMappingURL=utils.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"containerStyle\", \"classPrefix\", \"className\", \"data\", \"frozenData\", \"width\", \"height\", \"rowHeight\", \"estimatedRowHeight\", \"getRowHeight\", \"headerWidth\", \"bodyWidth\", \"useIsScrolling\", \"onScroll\", \"hoveredRowKey\", \"overscanRowCount\", \"style\", \"onScrollbarPresenceChange\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { FixedSizeGrid, VariableSizeGrid } from 'react-window';\nimport memoize from 'memoize-one';\nimport Header from './TableHeader';\nimport { getEstimatedTotalRowsHeight } from './utils';\n/**\n * A wrapper of the Grid for internal only\n */\n\nvar GridTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(GridTable, _React$PureComponent);\n\n  function GridTable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._setHeaderRef = _this._setHeaderRef.bind(_assertThisInitialized(_this));\n    _this._setBodyRef = _this._setBodyRef.bind(_assertThisInitialized(_this));\n    _this._setInnerRef = _this._setInnerRef.bind(_assertThisInitialized(_this));\n    _this._itemKey = _this._itemKey.bind(_assertThisInitialized(_this));\n    _this._getBodyWidth = _this._getBodyWidth.bind(_assertThisInitialized(_this));\n    _this._handleItemsRendered = _this._handleItemsRendered.bind(_assertThisInitialized(_this));\n    _this._resetColumnWidthCache = memoize(function (bodyWidth) {\n      if (!_this.props.estimatedRowHeight) return;\n      _this.bodyRef && _this.bodyRef.resetAfterColumnIndex(0, false);\n    });\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = GridTable.prototype;\n\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (!this.props.estimatedRowHeight) return;\n    this.bodyRef && this.bodyRef.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  };\n\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.headerRef && this.headerRef.forceUpdate();\n    this.bodyRef && this.bodyRef.forceUpdate();\n  };\n\n  _proto.scrollToPosition = function scrollToPosition(args) {\n    this.headerRef && this.headerRef.scrollTo(args.scrollLeft);\n    this.bodyRef && this.bodyRef.scrollTo(args);\n  };\n\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this.bodyRef && this.bodyRef.scrollTo({\n      scrollTop: scrollTop\n    });\n  };\n\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this.headerRef && this.headerRef.scrollTo(scrollLeft);\n    this.bodyRef && this.bodyRef.scrollToPosition({\n      scrollLeft: scrollLeft\n    });\n  };\n\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (align === void 0) {\n      align = 'auto';\n    }\n\n    this.bodyRef && this.bodyRef.scrollToItem({\n      rowIndex: rowIndex,\n      align: align\n    });\n  };\n\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n        data = _this$props.data,\n        rowHeight = _this$props.rowHeight,\n        estimatedRowHeight = _this$props.estimatedRowHeight;\n\n    if (estimatedRowHeight) {\n      return this.innerRef && this.innerRef.clientHeight || this._getEstimatedTotalRowsHeight(data, estimatedRowHeight);\n    }\n\n    return data.length * rowHeight;\n  };\n\n  _proto.renderRow = function renderRow(args) {\n    var _this$props2 = this.props,\n        data = _this$props2.data,\n        columns = _this$props2.columns,\n        rowRenderer = _this$props2.rowRenderer;\n    var rowData = data[args.rowIndex];\n    return rowRenderer(_objectSpread(_objectSpread({}, args), {}, {\n      columns: columns,\n      rowData: rowData\n    }));\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        containerStyle = _this$props3.containerStyle,\n        classPrefix = _this$props3.classPrefix,\n        className = _this$props3.className,\n        data = _this$props3.data,\n        frozenData = _this$props3.frozenData,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        rowHeight = _this$props3.rowHeight,\n        estimatedRowHeight = _this$props3.estimatedRowHeight,\n        getRowHeight = _this$props3.getRowHeight,\n        headerWidth = _this$props3.headerWidth,\n        bodyWidth = _this$props3.bodyWidth,\n        useIsScrolling = _this$props3.useIsScrolling,\n        onScroll = _this$props3.onScroll,\n        hoveredRowKey = _this$props3.hoveredRowKey,\n        overscanRowCount = _this$props3.overscanRowCount,\n        style = _this$props3.style,\n        onScrollbarPresenceChange = _this$props3.onScrollbarPresenceChange,\n        rest = _objectWithoutPropertiesLoose(_this$props3, _excluded);\n\n    var headerHeight = this._getHeaderHeight();\n\n    var frozenRowCount = frozenData.length;\n    var frozenRowsHeight = rowHeight * frozenRowCount;\n    var cls = cn(classPrefix + \"__table\", className);\n    var containerProps = containerStyle ? {\n      style: containerStyle\n    } : null;\n    var Grid = estimatedRowHeight ? VariableSizeGrid : FixedSizeGrid;\n\n    this._resetColumnWidthCache(bodyWidth);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: \"table\",\n      className: cls\n    }, containerProps), /*#__PURE__*/React.createElement(Grid, _extends({}, rest, {\n      className: classPrefix + \"__body\",\n      ref: this._setBodyRef,\n      innerRef: this._setInnerRef,\n      itemKey: this._itemKey,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.max(height - headerHeight - frozenRowsHeight, 0),\n      rowHeight: estimatedRowHeight ? getRowHeight : rowHeight,\n      estimatedRowHeight: typeof estimatedRowHeight === 'function' ? undefined : estimatedRowHeight,\n      rowCount: data.length,\n      overscanRowCount: overscanRowCount,\n      columnWidth: estimatedRowHeight ? this._getBodyWidth : bodyWidth,\n      columnCount: 1,\n      overscanColumnCount: 0,\n      useIsScrolling: useIsScrolling,\n      hoveredRowKey: hoveredRowKey,\n      onScroll: onScroll,\n      onItemsRendered: this._handleItemsRendered,\n      children: this.renderRow\n    })), headerHeight + frozenRowsHeight > 0 &&\n    /*#__PURE__*/\n    // put header after body and reverse the display order via css\n    // to prevent header's shadow being covered by body\n    React.createElement(Header, _extends({}, rest, {\n      className: classPrefix + \"__header\",\n      ref: this._setHeaderRef,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.min(headerHeight + frozenRowsHeight, height),\n      rowWidth: headerWidth,\n      rowHeight: rowHeight,\n      headerHeight: this.props.headerHeight,\n      headerRenderer: this.props.headerRenderer,\n      rowRenderer: this.props.rowRenderer,\n      hoveredRowKey: frozenRowCount > 0 ? hoveredRowKey : null\n    })));\n  };\n\n  _proto._setHeaderRef = function _setHeaderRef(ref) {\n    this.headerRef = ref;\n  };\n\n  _proto._setBodyRef = function _setBodyRef(ref) {\n    this.bodyRef = ref;\n  };\n\n  _proto._setInnerRef = function _setInnerRef(ref) {\n    this.innerRef = ref;\n  };\n\n  _proto._itemKey = function _itemKey(_ref) {\n    var rowIndex = _ref.rowIndex;\n    var _this$props4 = this.props,\n        data = _this$props4.data,\n        rowKey = _this$props4.rowKey;\n    return data[rowIndex][rowKey];\n  };\n\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n\n    return headerHeight;\n  };\n\n  _proto._getBodyWidth = function _getBodyWidth() {\n    return this.props.bodyWidth;\n  };\n\n  _proto._handleItemsRendered = function _handleItemsRendered(_ref2) {\n    var overscanRowStartIndex = _ref2.overscanRowStartIndex,\n        overscanRowStopIndex = _ref2.overscanRowStopIndex,\n        visibleRowStartIndex = _ref2.visibleRowStartIndex,\n        visibleRowStopIndex = _ref2.visibleRowStopIndex;\n    this.props.onRowsRendered({\n      overscanStartIndex: overscanRowStartIndex,\n      overscanStopIndex: overscanRowStopIndex,\n      startIndex: visibleRowStartIndex,\n      stopIndex: visibleRowStopIndex\n    });\n  };\n\n  return GridTable;\n}(React.PureComponent);\n\nGridTable.propTypes = {\n  containerStyle: PropTypes.object,\n  classPrefix: PropTypes.string,\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  headerWidth: PropTypes.number.isRequired,\n  bodyWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  getRowHeight: PropTypes.func,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  useIsScrolling: PropTypes.bool,\n  overscanRowCount: PropTypes.number,\n  hoveredRowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  style: PropTypes.object,\n  onScrollbarPresenceChange: PropTypes.func,\n  onScroll: PropTypes.func,\n  onRowsRendered: PropTypes.func,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default GridTable;\n//# sourceMappingURL=GridTable.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"style\", \"columns\", \"headerIndex\", \"cellRenderer\", \"headerRenderer\", \"expandColumnKey\", \"expandIcon\", \"tagName\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n/**\n * HeaderRow component for BaseTable\n */\n\nvar TableHeaderRow = function TableHeaderRow(_ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      columns = _ref.columns,\n      headerIndex = _ref.headerIndex,\n      cellRenderer = _ref.cellRenderer,\n      headerRenderer = _ref.headerRenderer,\n      expandColumnKey = _ref.expandColumnKey,\n      ExpandIcon = _ref.expandIcon,\n      Tag = _ref.tagName,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var cells = columns.map(function (column, columnIndex) {\n    return cellRenderer({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      expandIcon: column.key === expandColumnKey && /*#__PURE__*/React.createElement(ExpandIcon, null)\n    });\n  });\n\n  if (headerRenderer) {\n    cells = renderElement(headerRenderer, {\n      cells: cells,\n      columns: columns,\n      headerIndex: headerIndex\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n    className: className,\n    style: style\n  }), cells);\n};\n\nTableHeaderRow.defaultProps = {\n  tagName: 'div'\n};\nTableHeaderRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  headerIndex: PropTypes.number,\n  cellRenderer: PropTypes.func,\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  expandColumnKey: PropTypes.string,\n  expandIcon: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableHeaderRow;\n//# sourceMappingURL=TableHeaderRow.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"isScrolling\", \"className\", \"style\", \"columns\", \"rowIndex\", \"rowData\", \"expandColumnKey\", \"depth\", \"rowEventHandlers\", \"estimatedRowHeight\", \"rowRenderer\", \"cellRenderer\", \"expandIconRenderer\", \"tagName\", \"rowKey\", \"getIsResetting\", \"onRowHover\", \"onRowExpand\", \"onRowHeightChange\"],\n    _excluded2 = [\"height\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n/**\n * Row component for BaseTable\n */\n\nvar TableRow = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableRow, _React$PureComponent);\n\n  function TableRow(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.state = {\n      measured: false\n    };\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    _this._handleExpand = _this._handleExpand.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TableRow.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.estimatedRowHeight && this.props.rowIndex >= 0 && this._measureHeight(true);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this2 = this;\n\n    if (this.props.estimatedRowHeight && this.props.rowIndex >= 0 && // should not re-measure if it's updated after measured and reset\n    !this.props.getIsResetting() && this.state.measured && prevState.measured) {\n      this.setState({\n        measured: false\n      }, function () {\n        return _this2._measureHeight();\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n        isScrolling = _this$props.isScrolling,\n        className = _this$props.className,\n        style = _this$props.style,\n        columns = _this$props.columns,\n        rowIndex = _this$props.rowIndex,\n        rowData = _this$props.rowData,\n        expandColumnKey = _this$props.expandColumnKey,\n        depth = _this$props.depth,\n        rowEventHandlers = _this$props.rowEventHandlers,\n        estimatedRowHeight = _this$props.estimatedRowHeight,\n        rowRenderer = _this$props.rowRenderer,\n        cellRenderer = _this$props.cellRenderer,\n        expandIconRenderer = _this$props.expandIconRenderer,\n        Tag = _this$props.tagName,\n        rowKey = _this$props.rowKey,\n        getIsResetting = _this$props.getIsResetting,\n        onRowHover = _this$props.onRowHover,\n        onRowExpand = _this$props.onRowExpand,\n        onRowHeightChange = _this$props.onRowHeightChange,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    /* eslint-enable no-unused-vars */\n\n\n    var expandIcon = expandIconRenderer({\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      onExpand: this._handleExpand\n    });\n    var cells = columns.map(function (column, columnIndex) {\n      return cellRenderer({\n        isScrolling: isScrolling,\n        columns: columns,\n        column: column,\n        columnIndex: columnIndex,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        expandIcon: column.key === expandColumnKey && expandIcon\n      });\n    });\n\n    if (rowRenderer) {\n      cells = renderElement(rowRenderer, {\n        isScrolling: isScrolling,\n        cells: cells,\n        columns: columns,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        depth: depth\n      });\n    }\n\n    var eventHandlers = this._getEventHandlers(rowEventHandlers);\n\n    if (estimatedRowHeight && rowIndex >= 0) {\n      var height = style.height,\n          otherStyles = _objectWithoutPropertiesLoose(style, _excluded2);\n\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n        ref: this._setRef,\n        className: className,\n        style: this.state.measured ? style : otherStyles\n      }, this.state.measured && eventHandlers), cells);\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n      className: className,\n      style: style\n    }, eventHandlers), cells);\n  };\n\n  _proto._setRef = function _setRef(ref) {\n    this.ref = ref;\n  };\n\n  _proto._handleExpand = function _handleExpand(expanded) {\n    var _this$props2 = this.props,\n        onRowExpand = _this$props2.onRowExpand,\n        rowData = _this$props2.rowData,\n        rowIndex = _this$props2.rowIndex,\n        rowKey = _this$props2.rowKey;\n    onRowExpand && onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n  };\n\n  _proto._measureHeight = function _measureHeight(initialMeasure) {\n    if (!this.ref) return;\n    var _this$props3 = this.props,\n        style = _this$props3.style,\n        rowKey = _this$props3.rowKey,\n        onRowHeightChange = _this$props3.onRowHeightChange,\n        rowIndex = _this$props3.rowIndex,\n        columns = _this$props3.columns;\n    var height = this.ref.getBoundingClientRect().height;\n    this.setState({\n      measured: true\n    }, function () {\n      if (initialMeasure || height !== style.height) onRowHeightChange(rowKey, height, rowIndex, columns[0] && !columns[0].__placeholder__ && columns[0].frozen);\n    });\n  };\n\n  _proto._getEventHandlers = function _getEventHandlers(handlers) {\n    if (handlers === void 0) {\n      handlers = {};\n    }\n\n    var _this$props4 = this.props,\n        rowData = _this$props4.rowData,\n        rowIndex = _this$props4.rowIndex,\n        rowKey = _this$props4.rowKey,\n        onRowHover = _this$props4.onRowHover;\n    var eventHandlers = {};\n    Object.keys(handlers).forEach(function (eventKey) {\n      var callback = handlers[eventKey];\n\n      if (typeof callback === 'function') {\n        eventHandlers[eventKey] = function (event) {\n          callback({\n            rowData: rowData,\n            rowIndex: rowIndex,\n            rowKey: rowKey,\n            event: event\n          });\n        };\n      }\n    });\n\n    if (onRowHover) {\n      var mouseEnterHandler = eventHandlers['onMouseEnter'];\n\n      eventHandlers['onMouseEnter'] = function (event) {\n        onRowHover({\n          hovered: true,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseEnterHandler && mouseEnterHandler(event);\n      };\n\n      var mouseLeaveHandler = eventHandlers['onMouseLeave'];\n\n      eventHandlers['onMouseLeave'] = function (event) {\n        onRowHover({\n          hovered: false,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseLeaveHandler && mouseLeaveHandler(event);\n      };\n    }\n\n    return eventHandlers;\n  };\n\n  return TableRow;\n}(React.PureComponent);\n\nTableRow.defaultProps = {\n  tagName: 'div'\n};\nTableRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  rowData: PropTypes.object.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  expandColumnKey: PropTypes.string,\n  depth: PropTypes.number,\n  rowEventHandlers: PropTypes.object,\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  cellRenderer: PropTypes.func,\n  expandIconRenderer: PropTypes.func,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  getIsResetting: PropTypes.func,\n  onRowHover: PropTypes.func,\n  onRowExpand: PropTypes.func,\n  onRowHeightChange: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableRow;\n//# sourceMappingURL=TableRow.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * HeaderCell component for BaseTable\n */\n\nvar TableHeaderCell = function TableHeaderCell(_ref) {\n  var className = _ref.className,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, column.title);\n};\n\nTableHeaderCell.propTypes = {\n  className: PropTypes.string,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number\n};\nexport default TableHeaderCell;\n//# sourceMappingURL=TableHeaderCell.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { toString } from './utils';\n/**\n * Cell component for BaseTable\n */\n\nvar TableCell = function TableCell(_ref) {\n  var className = _ref.className,\n      cellData = _ref.cellData,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex,\n      rowData = _ref.rowData,\n      rowIndex = _ref.rowIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.isValidElement(cellData) ? cellData : toString(cellData));\n};\n\nTableCell.propTypes = {\n  className: PropTypes.string,\n  cellData: PropTypes.any,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number,\n  rowData: PropTypes.object,\n  rowIndex: PropTypes.number\n};\nexport default TableCell;\n//# sourceMappingURL=TableCell.js.map","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport var Alignment = {\n  LEFT: 'left',\n  CENTER: 'center',\n  RIGHT: 'right'\n};\nexport var FrozenDirection = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  DEFAULT: true,\n  NONE: false\n};\n/**\n * Column for BaseTable\n */\n\nvar Column = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Column, _React$Component);\n\n  function Column() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  return Column;\n}(React.Component);\n\nColumn.propTypes = {\n  /**\n   * Class name for the column cell, could be a callback to return the class name\n   * The callback is of the shape of `({ cellData, columns, column, columnIndex, rowData, rowIndex }) => string`\n   */\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Class name for the column header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, column, columnIndex, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Custom style for the column cell, including the header cells\n   */\n  style: PropTypes.object,\n\n  /**\n   * Title for the column header\n   */\n  title: PropTypes.string,\n\n  /**\n   * Data key for the column cell, could be \"a.b.c\"\n   */\n  dataKey: PropTypes.string,\n\n  /**\n   * Custom cell data getter\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => node`\n   */\n  dataGetter: PropTypes.func,\n\n  /**\n   * Alignment of the column cell\n   */\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /**\n   * Flex grow style, defaults to 0\n   */\n  flexGrow: PropTypes.number,\n\n  /**\n   * Flex shrink style, defaults to 1 for flexible table and 0 for fixed table\n   */\n  flexShrink: PropTypes.number,\n\n  /**\n   * The width of the column, gutter width is not included\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n   * Maximum width of the column, used if the column is resizable\n   */\n  maxWidth: PropTypes.number,\n\n  /**\n   * Minimum width of the column, used if the column is resizable\n   */\n  minWidth: PropTypes.number,\n\n  /**\n   * Whether the column is frozen and what's the frozen side\n   */\n  frozen: PropTypes.oneOf(['left', 'right', true, false]),\n\n  /**\n   * Whether the column is hidden\n   */\n  hidden: PropTypes.bool,\n\n  /**\n   * Whether the column is resizable, defaults to false\n   */\n  resizable: PropTypes.bool,\n\n  /**\n   * Whether the column is sortable, defaults to false\n   */\n  sortable: PropTypes.bool,\n\n  /**\n   * Custom column cell renderer\n   * The renderer receives props `{ cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }`\n   */\n  cellRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom column header renderer\n   * The renderer receives props `{ columns, column, columnIndex, headerIndex, container }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n};\nColumn.Alignment = Alignment;\nColumn.FrozenDirection = FrozenDirection;\nexport default Column;\n//# sourceMappingURL=Column.js.map","/**\n * Sort order for BaseTable\n */\nvar SortOrder = {\n  /**\n   * Sort data in ascending order\n   */\n  ASC: 'asc',\n\n  /**\n   * Sort data in descending order\n   */\n  DESC: 'desc'\n};\nexport default SortOrder;\n//# sourceMappingURL=SortOrder.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"expandable\", \"expanded\", \"indentSize\", \"depth\", \"onExpand\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n/**\n * default ExpandIcon for BaseTable\n */\n\nvar ExpandIcon = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ExpandIcon, _React$PureComponent);\n\n  function ExpandIcon(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ExpandIcon.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        expandable = _this$props.expandable,\n        expanded = _this$props.expanded,\n        indentSize = _this$props.indentSize,\n        depth = _this$props.depth,\n        onExpand = _this$props.onExpand,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    if (!expandable && indentSize === 0) return null;\n    var cls = cn('BaseTable__expand-icon', {\n      'BaseTable__expand-icon--expanded': expanded\n    });\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      className: cls,\n      onClick: expandable && onExpand ? this._handleClick : null,\n      style: {\n        fontFamily: 'initial',\n        cursor: 'pointer',\n        userSelect: 'none',\n        width: '16px',\n        minWidth: '16px',\n        height: '16px',\n        lineHeight: '16px',\n        fontSize: '16px',\n        textAlign: 'center',\n        transition: 'transform 0.15s ease-out',\n        transform: \"rotate(\" + (expandable && expanded ? 90 : 0) + \"deg)\",\n        marginLeft: depth * indentSize\n      }\n    }), expandable && \"\\u25B8\");\n  };\n\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var _this$props2 = this.props,\n        onExpand = _this$props2.onExpand,\n        expanded = _this$props2.expanded;\n    onExpand(!expanded);\n  };\n\n  return ExpandIcon;\n}(React.PureComponent);\n\nExpandIcon.defaultProps = {\n  depth: 0,\n  indentSize: 16\n};\nExpandIcon.propTypes = {\n  expandable: PropTypes.bool,\n  expanded: PropTypes.bool,\n  indentSize: PropTypes.number,\n  depth: PropTypes.number,\n  onExpand: PropTypes.func\n};\nexport default ExpandIcon;\n//# sourceMappingURL=ExpandIcon.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport SortOrder from './SortOrder';\n/**\n * default SortIndicator for BaseTable\n */\n\nvar SortIndicator = function SortIndicator(_ref) {\n  var sortOrder = _ref.sortOrder,\n      className = _ref.className,\n      style = _ref.style;\n  var cls = cn('BaseTable__sort-indicator', className, {\n    'BaseTable__sort-indicator--descending': sortOrder === SortOrder.DESC\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: _objectSpread({\n      userSelect: 'none',\n      width: '16px',\n      height: '16px',\n      lineHeight: '16px',\n      textAlign: 'center'\n    }, style)\n  }, sortOrder === SortOrder.DESC ? \"\\u2193\" : \"\\u2191\");\n};\n\nSortIndicator.propTypes = {\n  sortOrder: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nexport default SortIndicator;\n//# sourceMappingURL=SortIndicator.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"style\", \"column\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"minWidth\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { noop, addClassName, removeClassName } from './utils';\nvar INVALID_VALUE = null; // copied from https://github.com/mzabriskie/react-draggable/blob/master/lib/utils/domFns.js\n\nexport function addUserSelectStyles(doc) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nexport function removeUserSelectStyles(doc) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n\n    if (doc.selection) {\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\nvar dragEventFor = eventsFor.mouse;\n/**\n * ColumnResizer for BaseTable\n */\n\nvar ColumnResizer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ColumnResizer, _React$PureComponent);\n\n  function ColumnResizer(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.isDragging = false;\n    _this.lastX = INVALID_VALUE;\n    _this.width = 0;\n    _this._setHandleRef = _this._setHandleRef.bind(_assertThisInitialized(_this));\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    _this._handleMouseDown = _this._handleMouseDown.bind(_assertThisInitialized(_this));\n    _this._handleMouseUp = _this._handleMouseUp.bind(_assertThisInitialized(_this));\n    _this._handleTouchStart = _this._handleTouchStart.bind(_assertThisInitialized(_this));\n    _this._handleTouchEnd = _this._handleTouchEnd.bind(_assertThisInitialized(_this));\n    _this._handleDragStart = _this._handleDragStart.bind(_assertThisInitialized(_this));\n    _this._handleDragStop = _this._handleDragStop.bind(_assertThisInitialized(_this));\n    _this._handleDrag = _this._handleDrag.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ColumnResizer.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.handleRef) {\n      var ownerDocument = this.handleRef.ownerDocument;\n      ownerDocument.removeEventListener(eventsFor.mouse.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.mouse.stop, this._handleDragStop);\n      ownerDocument.removeEventListener(eventsFor.touch.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.touch.stop, this._handleDragStop);\n      removeUserSelectStyles(ownerDocument);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        style = _this$props.style,\n        column = _this$props.column,\n        onResizeStart = _this$props.onResizeStart,\n        onResize = _this$props.onResize,\n        onResizeStop = _this$props.onResizeStop,\n        minWidth = _this$props.minWidth,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      ref: this._setHandleRef,\n      onClick: this._handleClick,\n      onMouseDown: this._handleMouseDown,\n      onMouseUp: this._handleMouseUp,\n      onTouchStart: this._handleTouchStart,\n      onTouchEnd: this._handleTouchEnd,\n      style: _objectSpread({\n        userSelect: 'none',\n        touchAction: 'none',\n        position: 'absolute',\n        top: 0,\n        bottom: 0,\n        right: 0,\n        cursor: 'col-resize'\n      }, style)\n    }));\n  };\n\n  _proto._setHandleRef = function _setHandleRef(ref) {\n    this.handleRef = ref;\n  };\n\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n  };\n\n  _proto._handleMouseDown = function _handleMouseDown(e) {\n    dragEventFor = eventsFor.mouse;\n\n    this._handleDragStart(e);\n  };\n\n  _proto._handleMouseUp = function _handleMouseUp(e) {\n    dragEventFor = eventsFor.mouse;\n\n    this._handleDragStop(e);\n  };\n\n  _proto._handleTouchStart = function _handleTouchStart(e) {\n    dragEventFor = eventsFor.touch;\n\n    this._handleDragStart(e);\n  };\n\n  _proto._handleTouchEnd = function _handleTouchEnd(e) {\n    dragEventFor = eventsFor.touch;\n\n    this._handleDragStop(e);\n  };\n\n  _proto._handleDragStart = function _handleDragStart(e) {\n    if (typeof e.button === 'number' && e.button !== 0) return;\n    this.isDragging = true;\n    this.lastX = INVALID_VALUE;\n    this.width = this.props.column.width;\n    this.props.onResizeStart(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    addUserSelectStyles(ownerDocument);\n    ownerDocument.addEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.addEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n\n  _proto._handleDragStop = function _handleDragStop(e) {\n    if (!this.isDragging) return;\n    this.isDragging = false;\n    this.props.onResizeStop(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    removeUserSelectStyles(ownerDocument);\n    ownerDocument.removeEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.removeEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n\n  _proto._handleDrag = function _handleDrag(e) {\n    var clientX = e.clientX;\n\n    if (e.type === eventsFor.touch.move) {\n      e.preventDefault();\n      if (e.targetTouches && e.targetTouches[0]) clientX = e.targetTouches[0].clientX;\n    }\n\n    var offsetParent = this.handleRef.offsetParent;\n    var offsetParentRect = offsetParent.getBoundingClientRect();\n    var x = clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\n    if (this.lastX === INVALID_VALUE) {\n      this.lastX = x;\n      return;\n    }\n\n    var _this$props2 = this.props,\n        column = _this$props2.column,\n        MIN_WIDTH = _this$props2.minWidth;\n    var width = column.width,\n        maxWidth = column.maxWidth,\n        _column$minWidth = column.minWidth,\n        minWidth = _column$minWidth === void 0 ? MIN_WIDTH : _column$minWidth;\n    var movedX = x - this.lastX;\n    if (!movedX) return;\n    this.width = this.width + movedX;\n    this.lastX = x;\n    var newWidth = this.width;\n\n    if (maxWidth && newWidth > maxWidth) {\n      newWidth = maxWidth;\n    } else if (newWidth < minWidth) {\n      newWidth = minWidth;\n    }\n\n    if (newWidth === width) return;\n    this.props.onResize(column, newWidth);\n  };\n\n  return ColumnResizer;\n}(React.PureComponent);\n\nColumnResizer.defaultProps = {\n  onResizeStart: noop,\n  onResize: noop,\n  onResizeStop: noop,\n  minWidth: 30\n};\nColumnResizer.propTypes = {\n  /**\n   * Custom style for the drag handler\n   */\n  style: PropTypes.object,\n\n  /**\n   * The column object to be dragged\n   */\n  column: PropTypes.object,\n\n  /**\n   * A callback function when resizing started\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStart: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column\n   * The callback is of the shape of `(column, width) => *`\n   */\n  onResize: PropTypes.func,\n\n  /**\n   * A callback function when resizing stopped\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStop: PropTypes.func,\n\n  /**\n   * Minimum width of the column could be resized to if the column's `minWidth` is not set\n   */\n  minWidth: PropTypes.number\n};\nexport default ColumnResizer;\n//# sourceMappingURL=ColumnResizer.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { FrozenDirection } from './Column';\n\nvar ColumnManager = /*#__PURE__*/function () {\n  function ColumnManager(columns, fixed) {\n    this._origColumns = [];\n    this.reset(columns, fixed);\n  }\n\n  var _proto = ColumnManager.prototype;\n\n  _proto._cache = function _cache(key, fn) {\n    if (key in this._cached) return this._cached[key];\n    this._cached[key] = fn();\n    return this._cached[key];\n  };\n\n  _proto.reset = function reset(columns, fixed) {\n    var _this = this;\n\n    this._columns = columns.map(function (column) {\n      var width = column.width;\n\n      if (column.resizable) {\n        // don't reset column's `width` if `width` prop doesn't change\n        var idx = _this._origColumns.findIndex(function (x) {\n          return x.key === column.key;\n        });\n\n        if (idx >= 0 && _this._origColumns[idx].width === column.width) {\n          width = _this._columns[idx].width;\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, column), {}, {\n        width: width\n      });\n    });\n    this._origColumns = columns;\n    this._fixed = fixed;\n    this._cached = {};\n    this._columnStyles = this.recomputeColumnStyles();\n  };\n\n  _proto.resetCache = function resetCache() {\n    this._cached = {};\n  };\n\n  _proto.getOriginalColumns = function getOriginalColumns() {\n    return this._origColumns;\n  };\n\n  _proto.getColumns = function getColumns() {\n    return this._columns;\n  };\n\n  _proto.getVisibleColumns = function getVisibleColumns() {\n    var _this2 = this;\n\n    return this._cache('visibleColumns', function () {\n      return _this2._columns.filter(function (column) {\n        return !column.hidden;\n      });\n    });\n  };\n\n  _proto.hasFrozenColumns = function hasFrozenColumns() {\n    var _this3 = this;\n\n    return this._cache('hasFrozenColumns', function () {\n      return _this3._fixed && _this3.getVisibleColumns().some(function (column) {\n        return !!column.frozen;\n      });\n    });\n  };\n\n  _proto.hasLeftFrozenColumns = function hasLeftFrozenColumns() {\n    var _this4 = this;\n\n    return this._cache('hasLeftFrozenColumns', function () {\n      return _this4._fixed && _this4.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n\n  _proto.hasRightFrozenColumns = function hasRightFrozenColumns() {\n    var _this5 = this;\n\n    return this._cache('hasRightFrozenColumns', function () {\n      return _this5._fixed && _this5.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n\n  _proto.getMainColumns = function getMainColumns() {\n    var _this6 = this;\n\n    return this._cache('mainColumns', function () {\n      var columns = _this6.getVisibleColumns();\n\n      if (!_this6.hasFrozenColumns()) return columns;\n      var mainColumns = [];\n\n      _this6.getLeftFrozenColumns().forEach(function (column) {\n        var _objectSpread2;\n\n        //columns placeholder for the fixed table above them\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread2 = {}, _objectSpread2[ColumnManager.PlaceholderKey] = true, _objectSpread2)));\n      });\n\n      _this6.getVisibleColumns().forEach(function (column) {\n        if (!column.frozen) mainColumns.push(column);\n      });\n\n      _this6.getRightFrozenColumns().forEach(function (column) {\n        var _objectSpread3;\n\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread3 = {}, _objectSpread3[ColumnManager.PlaceholderKey] = true, _objectSpread3)));\n      });\n\n      return mainColumns;\n    });\n  };\n\n  _proto.getLeftFrozenColumns = function getLeftFrozenColumns() {\n    var _this7 = this;\n\n    return this._cache('leftFrozenColumns', function () {\n      if (!_this7._fixed) return [];\n      return _this7.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n\n  _proto.getRightFrozenColumns = function getRightFrozenColumns() {\n    var _this8 = this;\n\n    return this._cache('rightFrozenColumns', function () {\n      if (!_this8._fixed) return [];\n      return _this8.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n\n  _proto.getColumn = function getColumn(key) {\n    var idx = this._columns.findIndex(function (column) {\n      return column.key === key;\n    });\n\n    return this._columns[idx];\n  };\n\n  _proto.getColumnsWidth = function getColumnsWidth() {\n    var _this9 = this;\n\n    return this._cache('columnsWidth', function () {\n      return _this9.recomputeColumnsWidth(_this9.getVisibleColumns());\n    });\n  };\n\n  _proto.getLeftFrozenColumnsWidth = function getLeftFrozenColumnsWidth() {\n    var _this10 = this;\n\n    return this._cache('leftFrozenColumnsWidth', function () {\n      return _this10.recomputeColumnsWidth(_this10.getLeftFrozenColumns());\n    });\n  };\n\n  _proto.getRightFrozenColumnsWidth = function getRightFrozenColumnsWidth() {\n    var _this11 = this;\n\n    return this._cache('rightFrozenColumnsWidth', function () {\n      return _this11.recomputeColumnsWidth(_this11.getRightFrozenColumns());\n    });\n  };\n\n  _proto.recomputeColumnsWidth = function recomputeColumnsWidth(columns) {\n    return columns.reduce(function (width, column) {\n      return width + column.width;\n    }, 0);\n  };\n\n  _proto.setColumnWidth = function setColumnWidth(key, width) {\n    var column = this.getColumn(key);\n    column.width = width;\n    this._cached = {};\n    this._columnStyles[column.key] = this.recomputeColumnStyle(column);\n  };\n\n  _proto.getColumnStyle = function getColumnStyle(key) {\n    return this._columnStyles[key];\n  };\n\n  _proto.getColumnStyles = function getColumnStyles() {\n    return this._columnStyles;\n  };\n\n  _proto.recomputeColumnStyle = function recomputeColumnStyle(column) {\n    var flexGrow = 0;\n    var flexShrink = 0;\n\n    if (!this._fixed) {\n      flexGrow = typeof column.flexGrow === 'number' ? column.flexGrow : 0;\n      flexShrink = typeof column.flexShrink === 'number' ? column.flexShrink : 1;\n    } // workaround for Flex bug on IE: https://github.com/philipwalton/flexbugs#flexbug-7\n\n\n    var flexValue = flexGrow + \" \" + flexShrink + \" auto\";\n\n    var style = _objectSpread(_objectSpread({}, column.style), {}, {\n      flex: flexValue,\n      msFlex: flexValue,\n      WebkitFlex: flexValue,\n      width: column.width,\n      overflow: 'hidden'\n    });\n\n    if (!this._fixed && column.maxWidth) {\n      style.maxWidth = column.maxWidth;\n    }\n\n    if (!this._fixed && column.minWidth) {\n      style.minWidth = column.minWidth;\n    }\n\n    return style;\n  };\n\n  _proto.recomputeColumnStyles = function recomputeColumnStyles() {\n    var _this12 = this;\n\n    return this._columns.reduce(function (styles, column) {\n      styles[column.key] = _this12.recomputeColumnStyle(column);\n      return styles;\n    }, {});\n  };\n\n  return ColumnManager;\n}();\n\nexport { ColumnManager as default };\nColumnManager.PlaceholderKey = '__placeholder__';\n//# sourceMappingURL=ColumnManager.js.map","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"tagName\"],\n    _excluded2 = [\"tagName\"],\n    _excluded3 = [\"width\", \"headerHeight\", \"rowHeight\", \"fixed\", \"estimatedRowHeight\"],\n    _excluded4 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"],\n    _excluded5 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport memoize from 'memoize-one';\nimport GridTable from './GridTable';\nimport TableHeaderRow from './TableHeaderRow';\nimport TableRow from './TableRow';\nimport TableHeaderCell from './TableHeaderCell';\nimport TableCell from './TableCell';\nimport Column, { Alignment, FrozenDirection } from './Column';\nimport SortOrder from './SortOrder';\nimport ExpandIcon from './ExpandIcon';\nimport SortIndicator from './SortIndicator';\nimport ColumnResizer from './ColumnResizer';\nimport ColumnManager from './ColumnManager';\nimport { renderElement, normalizeColumns, getScrollbarSize as defaultGetScrollbarSize, getEstimatedTotalRowsHeight, isObjectEqual, callOrReturn, hasChildren, flattenOnKeys, cloneArray, getValue, throttle, debounce, noop } from './utils';\nvar getColumns = memoize(function (columns, children) {\n  return columns || normalizeColumns(children);\n});\n\nvar getContainerStyle = function getContainerStyle(width, maxWidth, height) {\n  return {\n    width: width,\n    maxWidth: maxWidth,\n    height: height,\n    overflow: 'hidden'\n  };\n};\n\nvar DEFAULT_COMPONENTS = {\n  TableCell: TableCell,\n  TableHeaderCell: TableHeaderCell,\n  ExpandIcon: ExpandIcon,\n  SortIndicator: SortIndicator\n};\nvar RESIZE_THROTTLE_WAIT = 50; // used for memoization\n\nvar EMPTY_ARRAY = [];\n/**\n * React table component\n */\n\nvar BaseTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(BaseTable, _React$PureComponent);\n\n  function BaseTable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    var columns = props.columns,\n        children = props.children,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys;\n    _this.state = {\n      scrollbarSize: 0,\n      hoveredRowKey: null,\n      resizingKey: null,\n      resizingWidth: 0,\n      expandedRowKeys: cloneArray(defaultExpandedRowKeys)\n    };\n    _this.columnManager = new ColumnManager(getColumns(columns, children), props.fixed);\n    _this._setContainerRef = _this._setContainerRef.bind(_assertThisInitialized(_this));\n    _this._setMainTableRef = _this._setMainTableRef.bind(_assertThisInitialized(_this));\n    _this._setLeftTableRef = _this._setLeftTableRef.bind(_assertThisInitialized(_this));\n    _this._setRightTableRef = _this._setRightTableRef.bind(_assertThisInitialized(_this));\n    _this.renderExpandIcon = _this.renderExpandIcon.bind(_assertThisInitialized(_this));\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    _this.renderRowCell = _this.renderRowCell.bind(_assertThisInitialized(_this));\n    _this.renderHeader = _this.renderHeader.bind(_assertThisInitialized(_this));\n    _this.renderHeaderCell = _this.renderHeaderCell.bind(_assertThisInitialized(_this));\n    _this._handleScroll = _this._handleScroll.bind(_assertThisInitialized(_this));\n    _this._handleVerticalScroll = _this._handleVerticalScroll.bind(_assertThisInitialized(_this));\n    _this._handleRowsRendered = _this._handleRowsRendered.bind(_assertThisInitialized(_this));\n    _this._handleRowHover = _this._handleRowHover.bind(_assertThisInitialized(_this));\n    _this._handleRowExpand = _this._handleRowExpand.bind(_assertThisInitialized(_this));\n    _this._handleColumnResize = throttle(_this._handleColumnResize.bind(_assertThisInitialized(_this)), RESIZE_THROTTLE_WAIT);\n    _this._handleColumnResizeStart = _this._handleColumnResizeStart.bind(_assertThisInitialized(_this));\n    _this._handleColumnResizeStop = _this._handleColumnResizeStop.bind(_assertThisInitialized(_this));\n    _this._handleColumnSort = _this._handleColumnSort.bind(_assertThisInitialized(_this));\n    _this._handleFrozenRowHeightChange = _this._handleFrozenRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._handleRowHeightChange = _this._handleRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._getLeftTableContainerStyle = memoize(getContainerStyle);\n    _this._getRightTableContainerStyle = memoize(getContainerStyle);\n    _this._flattenOnKeys = memoize(function (tree, keys, dataKey) {\n      _this._depthMap = {};\n      return flattenOnKeys(tree, keys, _this._depthMap, dataKey);\n    });\n    _this._resetColumnManager = memoize(function (columns, fixed) {\n      _this.columnManager.reset(columns, fixed);\n\n      if (_this.props.estimatedRowHeight && fixed) {\n        if (!_this.columnManager.hasLeftFrozenColumns()) {\n          _this._leftRowHeightMap = {};\n        }\n\n        if (!_this.columnManager.hasRightFrozenColumns()) {\n          _this._rightRowHeightMap = {};\n        }\n      }\n    }, function (newArgs, lastArgs) {\n      return isObjectEqual(newArgs, lastArgs, _this.props.ignoreFunctionInColumnCompare);\n    });\n    _this._isResetting = false;\n    _this._resetIndex = null;\n    _this._rowHeightMap = {};\n    _this._rowHeightMapBuffer = {};\n    _this._mainRowHeightMap = {};\n    _this._leftRowHeightMap = {};\n    _this._rightRowHeightMap = {};\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this._getRowHeight = _this._getRowHeight.bind(_assertThisInitialized(_this));\n    _this._updateRowHeights = debounce(function () {\n      _this._isResetting = true;\n      _this._rowHeightMap = _objectSpread(_objectSpread({}, _this._rowHeightMap), _this._rowHeightMapBuffer);\n\n      _this.resetAfterRowIndex(_this._resetIndex, false);\n\n      _this._rowHeightMapBuffer = {};\n      _this._resetIndex = null;\n\n      _this.forceUpdateTable();\n\n      _this.forceUpdate();\n\n      _this._isResetting = false;\n    }, 0);\n    _this._scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    _this._scrollHeight = 0;\n    _this._lastScannedRowIndex = -1;\n    _this._hasDataChangedSinceEndReached = true;\n    _this._data = props.data;\n    _this._depthMap = {};\n    _this._horizontalScrollbarSize = 0;\n    _this._verticalScrollbarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    return _this;\n  }\n  /**\n   * Get the DOM node of the table\n   */\n\n\n  var _proto = BaseTable.prototype;\n\n  _proto.getDOMNode = function getDOMNode() {\n    return this.tableNode;\n  }\n  /**\n   * Get the column manager\n   */\n  ;\n\n  _proto.getColumnManager = function getColumnManager() {\n    return this.columnManager;\n  }\n  /**\n   * Get internal `expandedRowKeys` state\n   */\n  ;\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return expandedRowKeys !== undefined ? expandedRowKeys || EMPTY_ARRAY : this.state.expandedRowKeys;\n  }\n  /**\n   * Get the expanded state, fallback to normal state if not expandable.\n   */\n  ;\n\n  _proto.getExpandedState = function getExpandedState() {\n    return {\n      expandedData: this._data,\n      expandedRowKeys: this.getExpandedRowKeys(),\n      expandedDepthMap: this._depthMap\n    };\n  }\n  /**\n   * Get the total height of all rows, including expanded rows.\n   */\n  ;\n\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n        rowHeight = _this$props.rowHeight,\n        estimatedRowHeight = _this$props.estimatedRowHeight;\n\n    if (estimatedRowHeight) {\n      return this.table ? this.table.getTotalRowsHeight() : this._getEstimatedTotalRowsHeight(this._data, estimatedRowHeight);\n    }\n\n    return this._data.length * rowHeight;\n  }\n  /**\n   * Get the total width of all columns.\n   */\n  ;\n\n  _proto.getTotalColumnsWidth = function getTotalColumnsWidth() {\n    return this.columnManager.getColumnsWidth();\n  }\n  /**\n   * Forcefully re-render the inner Grid component.\n   *\n   * Calling `forceUpdate` on `Table` may not re-render the inner Grid since it uses `shallowCompare` as a performance optimization.\n   * Use this method if you want to manually trigger a re-render.\n   * This may be appropriate if the underlying row data has changed but the row sizes themselves have not.\n   */\n  ;\n\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.table && this.table.forceUpdateTable();\n    this.leftTable && this.leftTable.forceUpdateTable();\n    this.rightTable && this.rightTable.forceUpdateTable();\n  }\n  /**\n   * Reset cached offsets for positioning after a specific rowIndex, should be used only in dynamic mode(estimatedRowHeight is provided)\n   *\n   * @param {number} rowIndex\n   * @param {boolean} shouldForceUpdate\n   */\n  ;\n\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = true;\n    }\n\n    if (!this.props.estimatedRowHeight) return;\n    this.table && this.table.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.leftTable && this.leftTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.rightTable && this.rightTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  }\n  /**\n   * Reset row height cache, useful if `data` changed entirely, should be used only in dynamic mode(estimatedRowHeight is provided)\n   */\n  ;\n\n  _proto.resetRowHeightCache = function resetRowHeightCache() {\n    if (!this.props.estimatedRowHeight) return;\n    this._resetIndex = null;\n    this._rowHeightMapBuffer = {};\n    this._rowHeightMap = {};\n    this._mainRowHeightMap = {};\n    this._leftRowHeightMap = {};\n    this._rightRowHeightMap = {};\n  }\n  /**\n   * Scroll to the specified offset.\n   * Useful for animating position changes.\n   *\n   * @param {object} offset\n   */\n  ;\n\n  _proto.scrollToPosition = function scrollToPosition(offset) {\n    this._scroll = offset;\n    this.table && this.table.scrollToPosition(offset);\n    this.leftTable && this.leftTable.scrollToTop(offset.scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(offset.scrollTop);\n  }\n  /**\n   * Scroll to the specified offset vertically.\n   *\n   * @param {number} scrollTop\n   */\n  ;\n\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this._scroll.scrollTop = scrollTop;\n    this.table && this.table.scrollToPosition(this._scroll);\n    this.leftTable && this.leftTable.scrollToTop(scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(scrollTop);\n  }\n  /**\n   * Scroll to the specified offset horizontally.\n   *\n   * @param {number} scrollLeft\n   */\n  ;\n\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this._scroll.scrollLeft = scrollLeft;\n    this.table && this.table.scrollToPosition(this._scroll);\n  }\n  /**\n   * Scroll to the specified row.\n   * By default, the table will scroll as little as possible to ensure the row is visible.\n   * You can control the alignment of the row though by specifying an align property. Acceptable values are:\n   *\n   * - `auto` (default) - Scroll as little as possible to ensure the row is visible.\n   * - `smart` - Same as `auto` if it is less than one viewport away, or it's the same as`center`.\n   * - `center` - Center align the row within the table.\n   * - `end` - Align the row to the bottom side of the table.\n   * - `start` - Align the row to the top side of the table.\n   *\n   * @param {number} rowIndex\n   * @param {string} align\n   */\n  ;\n\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (align === void 0) {\n      align = 'auto';\n    }\n\n    this.table && this.table.scrollToRow(rowIndex, align);\n    this.leftTable && this.leftTable.scrollToRow(rowIndex, align);\n    this.rightTable && this.rightTable.scrollToRow(rowIndex, align);\n  }\n  /**\n   * Set `expandedRowKeys` manually.\n   * This method is available only if `expandedRowKeys` is uncontrolled.\n   *\n   * @param {array} expandedRowKeys\n   */\n  ;\n\n  _proto.setExpandedRowKeys = function setExpandedRowKeys(expandedRowKeys) {\n    // if `expandedRowKeys` is controlled\n    if (this.props.expandedRowKeys !== undefined) return;\n    this.setState({\n      expandedRowKeys: cloneArray(expandedRowKeys)\n    });\n  };\n\n  _proto.renderExpandIcon = function renderExpandIcon(_ref) {\n    var rowData = _ref.rowData,\n        rowIndex = _ref.rowIndex,\n        depth = _ref.depth,\n        onExpand = _ref.onExpand;\n    var _this$props2 = this.props,\n        rowKey = _this$props2.rowKey,\n        expandColumnKey = _this$props2.expandColumnKey,\n        expandIconProps = _this$props2.expandIconProps;\n    if (!expandColumnKey) return null;\n    var expandable = rowIndex >= 0 && hasChildren(rowData);\n    var expanded = rowIndex >= 0 && this.getExpandedRowKeys().indexOf(rowData[rowKey]) >= 0;\n    var extraProps = callOrReturn(expandIconProps, {\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    });\n\n    var ExpandIcon = this._getComponent('ExpandIcon');\n\n    return /*#__PURE__*/React.createElement(ExpandIcon, _extends({\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    }, extraProps, {\n      onExpand: onExpand\n    }));\n  };\n\n  _proto.renderRow = function renderRow(_ref2) {\n    var _cn;\n\n    var isScrolling = _ref2.isScrolling,\n        columns = _ref2.columns,\n        rowData = _ref2.rowData,\n        rowIndex = _ref2.rowIndex,\n        style = _ref2.style;\n    var _this$props3 = this.props,\n        rowClassName = _this$props3.rowClassName,\n        rowRenderer = _this$props3.rowRenderer,\n        rowEventHandlers = _this$props3.rowEventHandlers,\n        expandColumnKey = _this$props3.expandColumnKey,\n        estimatedRowHeight = _this$props3.estimatedRowHeight;\n    var rowClass = callOrReturn(rowClassName, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var extraProps = callOrReturn(this.props.rowProps, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var rowKey = rowData[this.props.rowKey];\n    var depth = this._depthMap[rowKey] || 0;\n    var className = cn(this._prefixClass('row'), rowClass, (_cn = {}, _cn[this._prefixClass(\"row--depth-\" + depth)] = !!expandColumnKey && rowIndex >= 0, _cn[this._prefixClass('row--expanded')] = !!expandColumnKey && this.getExpandedRowKeys().indexOf(rowKey) >= 0, _cn[this._prefixClass('row--hovered')] = !isScrolling && rowKey === this.state.hoveredRowKey, _cn[this._prefixClass('row--frozen')] = depth === 0 && rowIndex < 0, _cn[this._prefixClass('row--customized')] = rowRenderer, _cn));\n    var hasFrozenColumns = this.columnManager.hasFrozenColumns();\n\n    var rowProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"row-\" + rowKey,\n      isScrolling: isScrolling,\n      className: className,\n      style: style,\n      columns: columns,\n      rowIndex: rowIndex,\n      rowData: rowData,\n      rowKey: rowKey,\n      expandColumnKey: expandColumnKey,\n      depth: depth,\n      rowEventHandlers: rowEventHandlers,\n      rowRenderer: rowRenderer,\n      // for frozen rows we use fixed rowHeight\n      estimatedRowHeight: rowIndex >= 0 ? estimatedRowHeight : undefined,\n      getIsResetting: this._getIsResetting,\n      cellRenderer: this.renderRowCell,\n      expandIconRenderer: this.renderExpandIcon,\n      onRowExpand: this._handleRowExpand,\n      // for fixed table, we need to sync the hover state across the inner tables\n      onRowHover: hasFrozenColumns ? this._handleRowHover : null,\n      onRowHeightChange: hasFrozenColumns ? this._handleFrozenRowHeightChange : this._handleRowHeightChange\n    });\n\n    return /*#__PURE__*/React.createElement(TableRow, rowProps);\n  };\n\n  _proto.renderRowCell = function renderRowCell(_ref3) {\n    var _cn2;\n\n    var isScrolling = _ref3.isScrolling,\n        columns = _ref3.columns,\n        column = _ref3.column,\n        columnIndex = _ref3.columnIndex,\n        rowData = _ref3.rowData,\n        rowIndex = _ref3.rowIndex,\n        expandIcon = _ref3.expandIcon;\n\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('row-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n\n    var className = column.className,\n        dataKey = column.dataKey,\n        dataGetter = column.dataGetter,\n        cellRenderer = column.cellRenderer;\n\n    var TableCell = this._getComponent('TableCell');\n\n    var cellData = dataGetter ? dataGetter({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    }) : getValue(rowData, dataKey);\n    var cellProps = {\n      isScrolling: isScrolling,\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      container: this\n    };\n    var cell = renderElement(cellRenderer || /*#__PURE__*/React.createElement(TableCell, {\n      className: this._prefixClass('row-cell-text')\n    }), cellProps);\n    var cellCls = callOrReturn(className, {\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var cls = cn(this._prefixClass('row-cell'), cellCls, (_cn2 = {}, _cn2[this._prefixClass('row-cell--align-center')] = column.align === Alignment.CENTER, _cn2[this._prefixClass('row-cell--align-right')] = column.align === Alignment.RIGHT, _cn2));\n    var extraProps = callOrReturn(this.props.cellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n\n    var _ref4 = extraProps || {},\n        tagName = _ref4.tagName,\n        rest = _objectWithoutPropertiesLoose(_ref4, _excluded);\n\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key)\n    }), expandIcon, cell);\n  };\n\n  _proto.renderHeader = function renderHeader(_ref5) {\n    var _cn3;\n\n    var columns = _ref5.columns,\n        headerIndex = _ref5.headerIndex,\n        style = _ref5.style;\n    var _this$props4 = this.props,\n        headerClassName = _this$props4.headerClassName,\n        headerRenderer = _this$props4.headerRenderer;\n    var headerClass = callOrReturn(headerClassName, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var extraProps = callOrReturn(this.props.headerProps, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var className = cn(this._prefixClass('header-row'), headerClass, (_cn3 = {}, _cn3[this._prefixClass('header-row--resizing')] = !!this.state.resizingKey, _cn3[this._prefixClass('header-row--customized')] = headerRenderer, _cn3));\n\n    var headerProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"header-\" + headerIndex,\n      className: className,\n      style: style,\n      columns: columns,\n      headerIndex: headerIndex,\n      headerRenderer: headerRenderer,\n      cellRenderer: this.renderHeaderCell,\n      expandColumnKey: this.props.expandColumnKey,\n      expandIcon: this._getComponent('ExpandIcon')\n    });\n\n    return /*#__PURE__*/React.createElement(TableHeaderRow, headerProps);\n  };\n\n  _proto.renderHeaderCell = function renderHeaderCell(_ref6) {\n    var _cn4, _cn5;\n\n    var columns = _ref6.columns,\n        column = _ref6.column,\n        columnIndex = _ref6.columnIndex,\n        headerIndex = _ref6.headerIndex,\n        expandIcon = _ref6.expandIcon;\n\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"header-\" + headerIndex + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('header-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n\n    var headerClassName = column.headerClassName,\n        headerRenderer = column.headerRenderer;\n    var _this$props5 = this.props,\n        sortBy = _this$props5.sortBy,\n        sortState = _this$props5.sortState,\n        headerCellProps = _this$props5.headerCellProps;\n\n    var TableHeaderCell = this._getComponent('TableHeaderCell');\n\n    var SortIndicator = this._getComponent('SortIndicator');\n\n    var cellProps = {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      container: this\n    };\n    var cell = renderElement(headerRenderer || /*#__PURE__*/React.createElement(TableHeaderCell, {\n      className: this._prefixClass('header-cell-text')\n    }), cellProps);\n    var sorting, sortOrder;\n\n    if (sortState) {\n      var order = sortState[column.key];\n      sorting = order === SortOrder.ASC || order === SortOrder.DESC;\n      sortOrder = sorting ? order : SortOrder.ASC;\n    } else {\n      sorting = column.key === sortBy.key;\n      sortOrder = sorting ? sortBy.order : SortOrder.ASC;\n    }\n\n    var cellCls = callOrReturn(headerClassName, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n    var cls = cn(this._prefixClass('header-cell'), cellCls, (_cn4 = {}, _cn4[this._prefixClass('header-cell--align-center')] = column.align === Alignment.CENTER, _cn4[this._prefixClass('header-cell--align-right')] = column.align === Alignment.RIGHT, _cn4[this._prefixClass('header-cell--sortable')] = column.sortable, _cn4[this._prefixClass('header-cell--sorting')] = sorting, _cn4[this._prefixClass('header-cell--resizing')] = column.key === this.state.resizingKey, _cn4));\n    var extraProps = callOrReturn(headerCellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n\n    var _ref7 = extraProps || {},\n        tagName = _ref7.tagName,\n        rest = _objectWithoutPropertiesLoose(_ref7, _excluded2);\n\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"header-\" + headerIndex + \"-cell-\" + column.key,\n      onClick: column.sortable ? this._handleColumnSort : null\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key),\n      \"data-key\": column.key\n    }), expandIcon, cell, column.sortable && /*#__PURE__*/React.createElement(SortIndicator, {\n      sortOrder: sortOrder,\n      className: cn(this._prefixClass('sort-indicator'), (_cn5 = {}, _cn5[this._prefixClass('sort-indicator--descending')] = sortOrder === SortOrder.DESC, _cn5))\n    }), column.resizable && /*#__PURE__*/React.createElement(ColumnResizer, {\n      className: this._prefixClass('column-resizer'),\n      column: column,\n      onResizeStart: this._handleColumnResizeStart,\n      onResizeStop: this._handleColumnResizeStop,\n      onResize: this._handleColumnResize\n    }));\n  };\n\n  _proto.renderMainTable = function renderMainTable() {\n    var _this$props6 = this.props,\n        width = _this$props6.width,\n        headerHeight = _this$props6.headerHeight,\n        rowHeight = _this$props6.rowHeight,\n        fixed = _this$props6.fixed,\n        estimatedRowHeight = _this$props6.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props6, _excluded3);\n\n    var height = this._getTableHeight();\n\n    var tableWidth = width - this._verticalScrollbarSize;\n\n    if (fixed) {\n      var columnsWidth = this.columnManager.getColumnsWidth(); // make sure `scrollLeft` is always integer to fix a sync bug when scrolling to end horizontally\n\n      tableWidth = Math.max(Math.round(columnsWidth), tableWidth);\n    }\n\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      className: this._prefixClass('table-main'),\n      ref: this._setMainTableRef,\n      data: this._data,\n      columns: this.columnManager.getMainColumns(),\n      width: width,\n      height: height,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: tableWidth + (fixed ? this._verticalScrollbarSize : 0),\n      bodyWidth: tableWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleScroll,\n      onRowsRendered: this._handleRowsRendered\n    }));\n  };\n\n  _proto.renderLeftTable = function renderLeftTable() {\n    if (!this.columnManager.hasLeftFrozenColumns()) return null;\n\n    var _this$props7 = this.props,\n        width = _this$props7.width,\n        headerHeight = _this$props7.headerHeight,\n        rowHeight = _this$props7.rowHeight,\n        estimatedRowHeight = _this$props7.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props7, _excluded4);\n\n    var containerHeight = this._getFrozenContainerHeight();\n\n    var offset = this._verticalScrollbarSize || 20;\n    var columnsWidth = this.columnManager.getLeftFrozenColumnsWidth();\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-left'),\n      ref: this._setLeftTableRef,\n      data: this._data,\n      columns: this.columnManager.getLeftFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + offset,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + offset,\n      bodyWidth: columnsWidth + offset,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n\n  _proto.renderRightTable = function renderRightTable() {\n    if (!this.columnManager.hasRightFrozenColumns()) return null;\n\n    var _this$props8 = this.props,\n        width = _this$props8.width,\n        headerHeight = _this$props8.headerHeight,\n        rowHeight = _this$props8.rowHeight,\n        estimatedRowHeight = _this$props8.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props8, _excluded5);\n\n    var containerHeight = this._getFrozenContainerHeight();\n\n    var columnsWidth = this.columnManager.getRightFrozenColumnsWidth();\n    var scrollbarWidth = this._verticalScrollbarSize;\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth + scrollbarWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-right'),\n      ref: this._setRightTableRef,\n      data: this._data,\n      columns: this.columnManager.getRightFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + scrollbarWidth,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + scrollbarWidth,\n      bodyWidth: columnsWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n\n  _proto.renderResizingLine = function renderResizingLine() {\n    var _this$props9 = this.props,\n        width = _this$props9.width,\n        fixed = _this$props9.fixed;\n    var resizingKey = this.state.resizingKey;\n    if (!fixed || !resizingKey) return null;\n    var columns = this.columnManager.getMainColumns();\n    var idx = columns.findIndex(function (column) {\n      return column.key === resizingKey;\n    });\n    var column = columns[idx];\n    var columnWidth = column.width,\n        frozen = column.frozen;\n    var leftWidth = this.columnManager.recomputeColumnsWidth(columns.slice(0, idx));\n    var left = leftWidth + columnWidth;\n\n    if (!frozen) {\n      left -= this._scroll.scrollLeft;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      var rightWidth = this.columnManager.recomputeColumnsWidth(columns.slice(idx + 1));\n\n      if (rightWidth + columnWidth > width - this._verticalScrollbarSize) {\n        left = columnWidth;\n      } else {\n        left = width - this._verticalScrollbarSize - rightWidth;\n      }\n    }\n\n    var style = {\n      left: left,\n      height: this._getTableHeight() - this._horizontalScrollbarSize\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('resizing-line'),\n      style: style\n    });\n  };\n\n  _proto.renderFooter = function renderFooter() {\n    var _this$props10 = this.props,\n        footerHeight = _this$props10.footerHeight,\n        footerRenderer = _this$props10.footerRenderer;\n    if (footerHeight === 0) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('footer'),\n      style: {\n        height: footerHeight\n      }\n    }, renderElement(footerRenderer));\n  };\n\n  _proto.renderEmptyLayer = function renderEmptyLayer() {\n    var _this$props11 = this.props,\n        data = _this$props11.data,\n        frozenData = _this$props11.frozenData,\n        footerHeight = _this$props11.footerHeight,\n        emptyRenderer = _this$props11.emptyRenderer;\n    if (data && data.length || frozenData && frozenData.length) return null;\n\n    var headerHeight = this._getHeaderHeight();\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('empty-layer'),\n      style: {\n        top: headerHeight,\n        bottom: footerHeight\n      }\n    }, renderElement(emptyRenderer));\n  };\n\n  _proto.renderOverlay = function renderOverlay() {\n    var overlayRenderer = this.props.overlayRenderer;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('overlay')\n    }, !!overlayRenderer && renderElement(overlayRenderer));\n  };\n\n  _proto.render = function render() {\n    var _cn6;\n\n    var _this$props12 = this.props,\n        columns = _this$props12.columns,\n        children = _this$props12.children,\n        width = _this$props12.width,\n        fixed = _this$props12.fixed,\n        data = _this$props12.data,\n        frozenData = _this$props12.frozenData,\n        expandColumnKey = _this$props12.expandColumnKey,\n        disabled = _this$props12.disabled,\n        className = _this$props12.className,\n        style = _this$props12.style,\n        footerHeight = _this$props12.footerHeight,\n        classPrefix = _this$props12.classPrefix,\n        estimatedRowHeight = _this$props12.estimatedRowHeight;\n\n    this._resetColumnManager(getColumns(columns, children), fixed);\n\n    var _data = expandColumnKey ? this._flattenOnKeys(data, this.getExpandedRowKeys(), this.props.rowKey) : data;\n\n    if (this._data !== _data) {\n      this.resetAfterRowIndex(0, false);\n      this._data = _data;\n    } // should be after `this._data` assigned\n\n\n    this._calcScrollbarSizes();\n\n    this._totalRowsHeight = this.getTotalRowsHeight();\n\n    var containerStyle = _objectSpread(_objectSpread({}, style), {}, {\n      width: width,\n      height: this._getTableHeight() + footerHeight,\n      position: 'relative'\n    });\n\n    var cls = cn(classPrefix, className, (_cn6 = {}, _cn6[classPrefix + \"--fixed\"] = fixed, _cn6[classPrefix + \"--expandable\"] = !!expandColumnKey, _cn6[classPrefix + \"--empty\"] = data.length === 0, _cn6[classPrefix + \"--has-frozen-rows\"] = frozenData.length > 0, _cn6[classPrefix + \"--has-frozen-columns\"] = this.columnManager.hasFrozenColumns(), _cn6[classPrefix + \"--disabled\"] = disabled, _cn6[classPrefix + \"--dynamic\"] = !!estimatedRowHeight, _cn6));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this._setContainerRef,\n      className: cls,\n      style: containerStyle\n    }, this.renderFooter(), this.renderMainTable(), this.renderLeftTable(), this.renderRightTable(), this.renderResizingLine(), this.renderEmptyLayer(), this.renderOverlay());\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var scrollbarSize = this.props.getScrollbarSize();\n\n    if (scrollbarSize > 0) {\n      this.setState({\n        scrollbarSize: scrollbarSize\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props13 = this.props,\n        data = _this$props13.data,\n        height = _this$props13.height,\n        maxHeight = _this$props13.maxHeight,\n        estimatedRowHeight = _this$props13.estimatedRowHeight;\n\n    if (data !== prevProps.data) {\n      this._lastScannedRowIndex = -1;\n      this._hasDataChangedSinceEndReached = true;\n    }\n\n    if (maxHeight !== prevProps.maxHeight || height !== prevProps.height) {\n      this._maybeCallOnEndReached();\n    }\n\n    this._maybeScrollbarPresenceChange();\n\n    if (estimatedRowHeight) {\n      if (this.getTotalRowsHeight() !== this._totalRowsHeight) {\n        this.forceUpdate();\n      }\n    }\n  };\n\n  _proto._prefixClass = function _prefixClass(className) {\n    return this.props.classPrefix + \"__\" + className;\n  };\n\n  _proto._setContainerRef = function _setContainerRef(ref) {\n    this.tableNode = ref;\n  };\n\n  _proto._setMainTableRef = function _setMainTableRef(ref) {\n    this.table = ref;\n  };\n\n  _proto._setLeftTableRef = function _setLeftTableRef(ref) {\n    this.leftTable = ref;\n  };\n\n  _proto._setRightTableRef = function _setRightTableRef(ref) {\n    this.rightTable = ref;\n  };\n\n  _proto._getComponent = function _getComponent(name) {\n    if (this.props.components && this.props.components[name]) return this.props.components[name];\n    return DEFAULT_COMPONENTS[name];\n  } // for dynamic row height\n  ;\n\n  _proto._getRowHeight = function _getRowHeight(rowIndex) {\n    var _this$props14 = this.props,\n        estimatedRowHeight = _this$props14.estimatedRowHeight,\n        rowKey = _this$props14.rowKey;\n    return this._rowHeightMap[this._data[rowIndex][rowKey]] || callOrReturn(estimatedRowHeight, {\n      rowData: this._data[rowIndex],\n      rowIndex: rowIndex\n    });\n  };\n\n  _proto._getIsResetting = function _getIsResetting() {\n    return this._isResetting;\n  };\n\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n\n    return headerHeight;\n  };\n\n  _proto._getFrozenRowsHeight = function _getFrozenRowsHeight() {\n    var _this$props15 = this.props,\n        frozenData = _this$props15.frozenData,\n        rowHeight = _this$props15.rowHeight;\n    return frozenData.length * rowHeight;\n  };\n\n  _proto._getTableHeight = function _getTableHeight() {\n    var _this$props16 = this.props,\n        height = _this$props16.height,\n        maxHeight = _this$props16.maxHeight,\n        footerHeight = _this$props16.footerHeight;\n    var tableHeight = height - footerHeight;\n\n    if (maxHeight > 0) {\n      var frozenRowsHeight = this._getFrozenRowsHeight();\n\n      var totalRowsHeight = this.getTotalRowsHeight();\n\n      var headerHeight = this._getHeaderHeight();\n\n      var totalHeight = headerHeight + frozenRowsHeight + totalRowsHeight + this._horizontalScrollbarSize;\n      tableHeight = Math.min(totalHeight, maxHeight - footerHeight);\n    }\n\n    return tableHeight;\n  };\n\n  _proto._getBodyHeight = function _getBodyHeight() {\n    return this._getTableHeight() - this._getHeaderHeight() - this._getFrozenRowsHeight();\n  };\n\n  _proto._getFrozenContainerHeight = function _getFrozenContainerHeight() {\n    var maxHeight = this.props.maxHeight;\n    var tableHeight = this._getTableHeight() - (this._data.length > 0 ? this._horizontalScrollbarSize : 0); // in auto height mode tableHeight = totalHeight\n\n    if (maxHeight > 0) return tableHeight;\n\n    var totalHeight = this.getTotalRowsHeight() + this._getHeaderHeight() + this._getFrozenRowsHeight();\n\n    return Math.min(tableHeight, totalHeight);\n  };\n\n  _proto._calcScrollbarSizes = function _calcScrollbarSizes() {\n    var _this$props17 = this.props,\n        fixed = _this$props17.fixed,\n        width = _this$props17.width;\n    var scrollbarSize = this.state.scrollbarSize;\n    var totalRowsHeight = this.getTotalRowsHeight();\n    var totalColumnsWidth = this.getTotalColumnsWidth();\n    var prevHorizontalScrollbarSize = this._horizontalScrollbarSize;\n    var prevVerticalScrollbarSize = this._verticalScrollbarSize;\n\n    if (scrollbarSize === 0) {\n      this._horizontalScrollbarSize = 0;\n      this._verticalScrollbarSize = 0;\n    } else {\n      // we have to set `this._horizontalScrollbarSize` before calling `this._getBodyHeight`\n      if (!fixed || totalColumnsWidth <= width - scrollbarSize) {\n        this._horizontalScrollbarSize = 0;\n        this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() ? scrollbarSize : 0;\n      } else {\n        if (totalColumnsWidth > width) {\n          this._horizontalScrollbarSize = scrollbarSize;\n          this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() - this._horizontalScrollbarSize ? scrollbarSize : 0;\n        } else {\n          this._horizontalScrollbarSize = 0;\n          this._verticalScrollbarSize = 0;\n\n          if (totalRowsHeight > this._getBodyHeight()) {\n            this._horizontalScrollbarSize = scrollbarSize;\n            this._verticalScrollbarSize = scrollbarSize;\n          }\n        }\n      }\n    }\n\n    if (prevHorizontalScrollbarSize !== this._horizontalScrollbarSize || prevVerticalScrollbarSize !== this._verticalScrollbarSize) {\n      this._scrollbarPresenceChanged = true;\n    }\n  };\n\n  _proto._maybeScrollbarPresenceChange = function _maybeScrollbarPresenceChange() {\n    if (this._scrollbarPresenceChanged) {\n      var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n      this._scrollbarPresenceChanged = false;\n      onScrollbarPresenceChange({\n        size: this.state.scrollbarSize,\n        horizontal: this._horizontalScrollbarSize > 0,\n        vertical: this._verticalScrollbarSize > 0\n      });\n    }\n  };\n\n  _proto._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _this$props18 = this.props,\n        onEndReached = _this$props18.onEndReached,\n        onEndReachedThreshold = _this$props18.onEndReachedThreshold;\n    var scrollTop = this._scroll.scrollTop;\n    var scrollHeight = this.getTotalRowsHeight();\n\n    var clientHeight = this._getBodyHeight();\n\n    if (!onEndReached || !clientHeight || !scrollHeight) return;\n    var distanceFromEnd = scrollHeight - scrollTop - clientHeight + this._horizontalScrollbarSize;\n\n    if (this._lastScannedRowIndex >= 0 && distanceFromEnd <= onEndReachedThreshold && (this._hasDataChangedSinceEndReached || scrollHeight !== this._scrollHeight)) {\n      this._hasDataChangedSinceEndReached = false;\n      this._scrollHeight = scrollHeight;\n      onEndReached({\n        distanceFromEnd: distanceFromEnd\n      });\n    }\n  };\n\n  _proto._handleScroll = function _handleScroll(args) {\n    var lastScrollTop = this._scroll.scrollTop;\n    this.scrollToPosition(args);\n    this.props.onScroll(args);\n    if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n\n  _proto._handleVerticalScroll = function _handleVerticalScroll(_ref8) {\n    var scrollTop = _ref8.scrollTop;\n    var lastScrollTop = this._scroll.scrollTop;\n    if (scrollTop !== lastScrollTop) this.scrollToTop(scrollTop);\n    if (scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n\n  _proto._handleRowsRendered = function _handleRowsRendered(args) {\n    this.props.onRowsRendered(args);\n\n    if (args.overscanStopIndex > this._lastScannedRowIndex) {\n      this._lastScannedRowIndex = args.overscanStopIndex;\n\n      this._maybeCallOnEndReached();\n    }\n  };\n\n  _proto._handleRowHover = function _handleRowHover(_ref9) {\n    var hovered = _ref9.hovered,\n        rowKey = _ref9.rowKey;\n    this.setState({\n      hoveredRowKey: hovered ? rowKey : null\n    });\n  };\n\n  _proto._handleRowExpand = function _handleRowExpand(_ref10) {\n    var expanded = _ref10.expanded,\n        rowData = _ref10.rowData,\n        rowIndex = _ref10.rowIndex,\n        rowKey = _ref10.rowKey;\n    var expandedRowKeys = cloneArray(this.getExpandedRowKeys());\n\n    if (expanded) {\n      if (!expandedRowKeys.indexOf(rowKey) >= 0) expandedRowKeys.push(rowKey);\n    } else {\n      var index = expandedRowKeys.indexOf(rowKey);\n\n      if (index > -1) {\n        expandedRowKeys.splice(index, 1);\n      }\n    } // if `expandedRowKeys` is uncontrolled, update internal state\n\n\n    if (this.props.expandedRowKeys === undefined) {\n      this.setState({\n        expandedRowKeys: expandedRowKeys\n      });\n    }\n\n    this.props.onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n    this.props.onExpandedRowsChange(expandedRowKeys);\n  };\n\n  _proto._handleColumnResize = function _handleColumnResize(_ref11, width) {\n    var key = _ref11.key;\n    this.columnManager.setColumnWidth(key, width);\n    this.setState({\n      resizingWidth: width\n    });\n    var column = this.columnManager.getColumn(key);\n    this.props.onColumnResize({\n      column: column,\n      width: width\n    });\n  };\n\n  _proto._handleColumnResizeStart = function _handleColumnResizeStart(_ref12) {\n    var key = _ref12.key;\n    this.setState({\n      resizingKey: key\n    });\n  };\n\n  _proto._handleColumnResizeStop = function _handleColumnResizeStop() {\n    var _this$state = this.state,\n        resizingKey = _this$state.resizingKey,\n        resizingWidth = _this$state.resizingWidth;\n    this.setState({\n      resizingKey: null,\n      resizingWidth: 0\n    });\n    if (!resizingKey || !resizingWidth) return;\n    var column = this.columnManager.getColumn(resizingKey);\n    this.props.onColumnResizeEnd({\n      column: column,\n      width: resizingWidth\n    });\n  };\n\n  _proto._handleColumnSort = function _handleColumnSort(event) {\n    var key = event.currentTarget.dataset.key;\n    var _this$props19 = this.props,\n        sortBy = _this$props19.sortBy,\n        sortState = _this$props19.sortState,\n        onColumnSort = _this$props19.onColumnSort;\n    var order = SortOrder.ASC;\n\n    if (sortState) {\n      order = sortState[key] === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    } else if (key === sortBy.key) {\n      order = sortBy.order === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    }\n\n    var column = this.columnManager.getColumn(key);\n    onColumnSort({\n      column: column,\n      key: key,\n      order: order\n    });\n  };\n\n  _proto._handleFrozenRowHeightChange = function _handleFrozenRowHeightChange(rowKey, size, rowIndex, frozen) {\n    if (!frozen) {\n      this._mainRowHeightMap[rowKey] = size;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      this._rightRowHeightMap[rowKey] = size;\n    } else {\n      this._leftRowHeightMap[rowKey] = size;\n    }\n\n    var height = Math.max(this._mainRowHeightMap[rowKey] || 0, this._leftRowHeightMap[rowKey] || 0, this._rightRowHeightMap[rowKey] || 0);\n\n    if (this._rowHeightMap[rowKey] !== height) {\n      this._handleRowHeightChange(rowKey, height, rowIndex);\n    }\n  };\n\n  _proto._handleRowHeightChange = function _handleRowHeightChange(rowKey, size, rowIndex) {\n    if (this._resetIndex === null) this._resetIndex = rowIndex;else if (this._resetIndex > rowIndex) this._resetIndex = rowIndex;\n    this._rowHeightMapBuffer[rowKey] = size;\n\n    this._updateRowHeights();\n  };\n\n  return BaseTable;\n}(React.PureComponent);\n\nBaseTable.Column = Column;\nBaseTable.PlaceholderKey = ColumnManager.PlaceholderKey;\nBaseTable.defaultProps = {\n  classPrefix: 'BaseTable',\n  rowKey: 'id',\n  data: [],\n  frozenData: [],\n  fixed: false,\n  headerHeight: 50,\n  rowHeight: 50,\n  footerHeight: 0,\n  defaultExpandedRowKeys: [],\n  sortBy: {},\n  useIsScrolling: false,\n  overscanRowCount: 1,\n  onEndReachedThreshold: 500,\n  getScrollbarSize: defaultGetScrollbarSize,\n  ignoreFunctionInColumnCompare: true,\n  onScroll: noop,\n  onRowsRendered: noop,\n  onScrollbarPresenceChange: noop,\n  onRowExpand: noop,\n  onExpandedRowsChange: noop,\n  onColumnSort: noop,\n  onColumnResize: noop,\n  onColumnResizeEnd: noop\n};\nBaseTable.propTypes = {\n  /**\n   * Prefix for table's inner className\n   */\n  classPrefix: PropTypes.string,\n\n  /**\n   * Class name for the table\n   */\n  className: PropTypes.string,\n\n  /**\n   * Custom style for the table\n   */\n  style: PropTypes.object,\n\n  /**\n   * A collection of Column\n   */\n  children: PropTypes.node,\n\n  /**\n   * Columns for the table\n   */\n  columns: PropTypes.arrayOf(PropTypes.shape(Column.propTypes)),\n\n  /**\n   * The data for the table\n   */\n  data: PropTypes.array.isRequired,\n\n  /**\n   * The data be frozen to top, `rowIndex` is negative and started from `-1`\n   */\n  frozenData: PropTypes.array,\n\n  /**\n   * The key field of each data item\n   */\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\n  /**\n   * The width of the table\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n   * The height of the table, will be ignored if `maxHeight` is set\n   */\n  height: PropTypes.number,\n\n  /**\n   * The max height of the table, the table's height will auto change when data changes,\n   * will turns to vertical scroll if reaches the max height\n   */\n  maxHeight: PropTypes.number,\n\n  /**\n   * The height of each table row, will be only used by frozen rows if `estimatedRowHeight` is set\n   */\n  rowHeight: PropTypes.number,\n\n  /**\n   * Estimated row height, the real height will be measure dynamically according to the content\n   * The callback is of the shape of `({ rowData, rowIndex }) => number`\n   */\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n\n  /**\n   * The height of the table header, set to 0 to hide the header, could be an array to render multi headers.\n   */\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n\n  /**\n   * The height of the table footer\n   */\n  footerHeight: PropTypes.number,\n\n  /**\n   * Whether the width of the columns are fixed or flexible\n   */\n  fixed: PropTypes.bool,\n\n  /**\n   * Whether the table is disabled\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Custom renderer on top of the table component\n   */\n  overlayRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom renderer when the length of data is 0\n   */\n  emptyRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom footer renderer, available only if `footerHeight` is larger then 0\n   */\n  footerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom header renderer\n   * The renderer receives props `{ cells, columns, headerIndex }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom row renderer\n   * The renderer receives props `{ isScrolling, cells, columns, rowData, rowIndex, depth }`\n   */\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Class name for the table header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Class name for the table row, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, rowData, rowIndex }) => string`\n   */\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Extra props applied to header element\n   * The handler is of the shape of `({ columns, headerIndex }) object`\n   */\n  headerProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to header cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, headerIndex }) => object`\n   */\n  headerCellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to row element\n   * The handler is of the shape of `({ columns, rowData, rowIndex }) => object`\n   */\n  rowProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to row cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => object`\n   */\n  cellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to ExpandIcon component\n   * The handler is of the shape of `({ rowData, rowIndex, depth, expandable, expanded }) => object`\n   */\n  expandIconProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * The key for the expand column which render the expand icon if the data is a tree\n   */\n  expandColumnKey: PropTypes.string,\n\n  /**\n   * Default expanded row keys when initialize the table\n   */\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n\n  /**\n   * Controlled expanded row keys\n   */\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n\n  /**\n   * A callback function when expand or collapse a tree node\n   * The handler is of the shape of `({ expanded, rowData, rowIndex, rowKey }) => *`\n   */\n  onRowExpand: PropTypes.func,\n\n  /**\n   * A callback function when the expanded row keys changed\n   * The handler is of the shape of `(expandedRowKeys) => *`\n   */\n  onExpandedRowsChange: PropTypes.func,\n\n  /**\n   * The sort state for the table, will be ignored if `sortState` is set\n   */\n  sortBy: PropTypes.shape({\n    /**\n     * Sort key\n     */\n    key: PropTypes.string,\n\n    /**\n     * Sort order\n     */\n    order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])\n  }),\n\n  /**\n   * Multiple columns sort state for the table\n   *\n   * example:\n   * ```js\n   * {\n   *   'column-0': SortOrder.ASC,\n   *   'column-1': SortOrder.DESC,\n   * }\n   * ```\n   */\n  sortState: PropTypes.object,\n\n  /**\n   * A callback function for the header cell click event\n   * The handler is of the shape of `({ column, key, order }) => *`\n   */\n  onColumnSort: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column width\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResize: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column width ends\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResizeEnd: PropTypes.func,\n\n  /**\n   * Adds an additional isScrolling parameter to the row renderer.\n   * This parameter can be used to show a placeholder row while scrolling.\n   */\n  useIsScrolling: PropTypes.bool,\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list\n   */\n  overscanRowCount: PropTypes.number,\n\n  /**\n   * Custom scrollbar size measurement\n   */\n  getScrollbarSize: PropTypes.func,\n\n  /**\n   * A callback function when scrolling the table\n   * The handler is of the shape of `({ scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested }) => *`\n   *\n   * `scrollLeft` and `scrollTop` are numbers.\n   *\n   * `horizontalDirection` and `verticalDirection` are either `forward` or `backward`.\n   *\n   * `scrollUpdateWasRequested` is a boolean. This value is true if the scroll was caused by `scrollTo*`,\n   * and false if it was the result of a user interaction in the browser.\n   */\n  onScroll: PropTypes.func,\n\n  /**\n   * A callback function when scrolling the table within `onEndReachedThreshold` of the bottom\n   * The handler is of the shape of `({ distanceFromEnd }) => *`\n   */\n  onEndReached: PropTypes.func,\n\n  /**\n   * Threshold in pixels for calling `onEndReached`.\n   */\n  onEndReachedThreshold: PropTypes.number,\n\n  /**\n   * A callback function with information about the slice of rows that were just rendered\n   * The handler is of the shape of `({ overscanStartIndex, overscanStopIndex, startIndex， stopIndex }) => *`\n   */\n  onRowsRendered: PropTypes.func,\n\n  /**\n   * A callback function when the scrollbar presence state changed\n   * The handler is of the shape of `({ size, vertical, horizontal }) => *`\n   */\n  onScrollbarPresenceChange: PropTypes.func,\n\n  /**\n   * A object for the row event handlers\n   * Each of the keys is row event name, like `onClick`, `onDoubleClick` and etc.\n   * Each of the handlers is of the shape of `({ rowData, rowIndex, rowKey, event }) => *`\n   */\n  rowEventHandlers: PropTypes.object,\n\n  /**\n   * whether to ignore function properties while comparing column definition\n   */\n  ignoreFunctionInColumnCompare: PropTypes.bool,\n\n  /**\n   * A object for the custom components, like `ExpandIcon` and `SortIndicator`\n   */\n  components: PropTypes.shape({\n    TableCell: PropTypes.elementType,\n    TableHeaderCell: PropTypes.elementType,\n    ExpandIcon: PropTypes.elementType,\n    SortIndicator: PropTypes.elementType\n  })\n};\nexport default BaseTable;\n//# sourceMappingURL=BaseTable.js.map","import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n/**\n * Decorator component that automatically adjusts the width and height of a single child\n */\n\nvar AutoResizer = function AutoResizer(_ref) {\n  var className = _ref.className,\n      width = _ref.width,\n      height = _ref.height,\n      children = _ref.children,\n      onResize = _ref.onResize;\n  var disableWidth = typeof width === 'number';\n  var disableHeight = typeof height === 'number';\n\n  if (disableWidth && disableHeight) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      style: {\n        width: width,\n        height: height,\n        position: 'relative'\n      }\n    }, children({\n      width: width,\n      height: height\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(AutoSizer, {\n    className: className,\n    disableWidth: disableWidth,\n    disableHeight: disableHeight,\n    onResize: onResize\n  }, function (size) {\n    return children({\n      width: disableWidth ? width : size.width,\n      height: disableHeight ? height : size.height\n    });\n  });\n};\n\nAutoResizer.propTypes = {\n  /**\n   * Class name for the component\n   */\n  className: PropTypes.string,\n\n  /**\n   * the width of the component, will be the container's width if not set\n   */\n  width: PropTypes.number,\n\n  /**\n   * the height of the component, will be the container's width if not set\n   */\n  height: PropTypes.number,\n\n  /**\n   * A callback function to render the children component\n   * The handler is of the shape of `({ width, height }) => node`\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * A callback function when the size of the table container changed if the width and height are not set\n   * The handler is of the shape of `({ width, height }) => *`\n   */\n  onResize: PropTypes.func\n};\nexport default AutoResizer;\n//# sourceMappingURL=AutoResizer.js.map","import {\n  ChatBubbleTwoTone,\n  CheckTwoTone,\n  DescriptionTwoTone,\n  LinkOffTwoTone,\n  LocalOfferTwoTone,\n  LockTwoTone,\n  PublicTwoTone,\n} from '@mui/icons-material'\nimport { isEmpty } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useDeleteEntity } from '../utils/hooks/SynapseAPI/entity/useEntity'\nimport {\n  useGetSchemaBinding,\n  useGetValidationResults,\n} from '../utils/hooks/SynapseAPI/entity/useEntityBoundSchema'\nimport useGetEntityBundle from '../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport {\n  ANONYMOUS_PRINCIPAL_ID,\n  AUTHENTICATED_PRINCIPAL_ID,\n  PUBLIC_PRINCIPAL_ID,\n  ALL_ENTITY_BUNDLE_FIELDS,\n} from '../utils/SynapseConstants'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { EntityBundle, EntityType } from '../utils/synapseTypes'\nimport { EntityModal, EntityModalTabs } from './entity/metadata/EntityModal'\nimport WarningDialog from './synapse_form_wrapper/WarningDialog'\nimport { Tooltip } from '@mui/material'\n\nfunction isPublic(bundle: EntityBundle): boolean {\n  return bundle.benefactorAcl.resourceAccess.some(ra => {\n    return (\n      ra.principalId === AUTHENTICATED_PRINCIPAL_ID ||\n      ra.principalId === PUBLIC_PRINCIPAL_ID ||\n      ra.principalId === ANONYMOUS_PRINCIPAL_ID\n    )\n  })\n}\n\nexport const ENTITY_BADGE_ICONS_TOOLTIP_ID = 'EntityBadgeIconsTooltipID'\n\nexport type EntityBadgeIconsProps = {\n  entityId: string\n  versionNumber?: number\n  flexWrap?: // possible settings for flex-wrap\n  | 'wrap'\n    | 'nowrap'\n    | '-moz-initial'\n    | 'inherit'\n    | 'initial'\n    | 'revert'\n    | 'unset'\n    | 'wrap-reverse'\n  justifyContent?: 'flex-start' | 'flex-end' | string\n  /** Shows an icon indicating if the entity is 'public' or 'private'. Default true  */\n  showIsPublicPrivate?: boolean\n  /** Shows an icon if the entity has sharing settings set on itself. Default true  */\n  showHasLocalSharingSettings?: boolean\n  /** Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true  */\n  showHasAnnotations?: boolean\n  /** Shows an icon if the entity a wiki. Default true  */\n  showHasWiki?: boolean\n  /** Shows an icon if the entity has been mentioned in discussion threads. Default true  */\n  showHasDiscussionThread?: boolean\n  /* Shows an 'unlink' button if the entity is a link and the user has permission to delete it. Default true */\n  showUnlink?: boolean\n  /* Invoked after the entity is unlinked/deleted in case there is cleanup to do. Returns the entityId */\n  onUnlink?: (entityId: string) => void\n  onUnlinkError?: (error: unknown) => void\n  /** Whether or not the badges (e.g. Annotations) can trigger opening a modal on click */\n  canOpenModal: boolean\n  /** Whether this component should render a ReactTooltip or if an external component is managing it */\n  renderTooltipComponent: boolean\n}\n\n/**\n * Stateless component used to show icons that show an entity's status.\n * Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java\n */\nexport const EntityBadgeIcons = (props: EntityBadgeIconsProps) => {\n  const {\n    entityId,\n    versionNumber,\n    flexWrap = 'nowrap',\n    justifyContent = 'flex-start',\n    showIsPublicPrivate = true,\n    showHasLocalSharingSettings = true,\n    showHasAnnotations = true,\n    showHasWiki = true,\n    showHasDiscussionThread = true,\n    showUnlink = true,\n    onUnlink = () => {\n      /* noop */\n    },\n    onUnlinkError = () => {\n      /* noop */\n    },\n    canOpenModal,\n  } = props\n\n  enum SchemaConformanceState {\n    NO_SCHEMA = '', // or not in experimental mode\n    VALID = 'Valid',\n    INVALID = 'Invalid',\n    ANNOTATIONS_MISSING = 'Missing',\n  }\n\n  const { ref, inView } = useInView()\n\n  const { data: bundle } = useGetEntityBundle(\n    entityId,\n    versionNumber,\n    ALL_ENTITY_BUNDLE_FIELDS,\n    {\n      enabled: inView,\n      staleTime: 60 * 1000, // 60 seconds\n    },\n  )\n  const [showModal, setShowModal] = useState(false)\n  const [showUnlinkConfirmModal, setShowUnlinkConfirmModal] = useState(false)\n  const [schemaConformance, setSchemaConformance] = useState(\n    SchemaConformanceState.NO_SCHEMA,\n  )\n\n  const { isInExperimentalMode } = useSynapseContext()\n\n  const { data: boundSchema } = useGetSchemaBinding(entityId, {\n    enabled: isInExperimentalMode && inView,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  const { data: schemaValidationResults } = useGetValidationResults(entityId, {\n    enabled: isInExperimentalMode && inView && !!boundSchema,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  // The maximum number of annotations to show in the popover\n  const maxAnnosToShow = 10\n  const annotationsCount =\n    bundle?.annotations && !isEmpty(bundle.annotations.annotations)\n      ? Object.keys(bundle.annotations.annotations).length\n      : 0\n\n  useEffect(() => {\n    if (isInExperimentalMode && schemaValidationResults) {\n      if (schemaValidationResults.isValid) {\n        setSchemaConformance(SchemaConformanceState.VALID)\n      } else if (annotationsCount) {\n        // If annotations exist, then indicate that they are invalid\n        setSchemaConformance(SchemaConformanceState.INVALID)\n      } else {\n        // If annotations are missing, it's still invalid, but should appear differently\n        setSchemaConformance(SchemaConformanceState.ANNOTATIONS_MISSING)\n      }\n    }\n  }, [\n    schemaValidationResults,\n    isInExperimentalMode,\n    annotationsCount,\n    bundle,\n    SchemaConformanceState.VALID,\n    SchemaConformanceState.INVALID,\n    SchemaConformanceState.ANNOTATIONS_MISSING,\n  ])\n\n  const { mutate: unlinkEntity } = useDeleteEntity({\n    onSuccess: (_, entityId) => {\n      onUnlink(entityId)\n    },\n    onError: onUnlinkError,\n  })\n\n  /**\n   * Convert the list of annotations to a string of <tr>...anno1</tr><tr>...anno2</tr>...\n   * If there are no annotations, this is the empty string ('')\n   */\n  const annotationsTableRows = (\n    <>\n      {bundle\n        ? Object.entries(bundle.annotations?.annotations ?? []).reduce(\n            (previous, current, index) => {\n              if (\n                index < maxAnnosToShow ||\n                (index === maxAnnosToShow &&\n                  maxAnnosToShow === annotationsCount)\n              ) {\n                return (\n                  <>\n                    {previous}\n                    <tr>\n                      <td>\n                        <b>{current[0]}</b>\n                      </td>\n                      <td>{current[1].value.join(', ')}</td>\n                    </tr>\n                  </>\n                )\n              } else {\n                return previous\n              }\n            },\n            <></>,\n          )\n        : ''}\n    </>\n  )\n  // We also show the schema name if there is one (and we're in experimental mode)\n  const valiationSchemaTableRow = (\n    <>\n      {isInExperimentalMode && boundSchema ? (\n        <tr>\n          <td>\n            <b>Validation Schema</b>\n          </td>\n          <td>{boundSchema.jsonSchemaVersionInfo.schemaName}</td>\n        </tr>\n      ) : (\n        ''\n      )}\n    </>\n  )\n  const annotationsHtml = (\n    <div className=\"EntityBadgeTooltip\">\n      {schemaValidationResults ? <p>{schemaConformance} Annotations</p> : ''}\n      <table>\n        {annotationsTableRows ? annotationsTableRows : ''}\n        {valiationSchemaTableRow}\n      </table>\n      {annotationsCount > maxAnnosToShow ? (\n        <p>and {annotationsCount - maxAnnosToShow} more</p>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n  return (\n    <div className=\"EntityBadge\" ref={ref} style={{ flexWrap, justifyContent }}>\n      {bundle && (\n        <>\n          <div onClick={e => e.stopPropagation()}>\n            <EntityModal\n              entityId={entityId}\n              show={showModal}\n              showTabs={false}\n              onClose={() => setShowModal(false)}\n              initialTab={EntityModalTabs.ANNOTATIONS}\n            />\n          </div>\n          {showIsPublicPrivate && bundle.benefactorAcl && isPublic(bundle) ? (\n            <Tooltip title=\"Public\" enterNextDelay={100} placement=\"right\">\n              <PublicTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-public-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showIsPublicPrivate && bundle.benefactorAcl && !isPublic(bundle) ? (\n            <Tooltip title=\"Private\" enterNextDelay={100} placement=\"right\">\n              <LockTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-private-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showHasLocalSharingSettings &&\n          bundle.benefactorAcl &&\n          entityId === bundle.benefactorAcl.id ? (\n            <Tooltip\n              title=\"Sharing Settings have been set\"\n              enterNextDelay={100}\n              placement=\"right\"\n            >\n              <CheckTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'sharing-settings-icon'}\n              />\n            </Tooltip>\n          ) : null}\n\n          {showHasAnnotations &&\n            !!(annotationsCount || schemaValidationResults) && (\n              <Tooltip\n                title={annotationsHtml}\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <LocalOfferTwoTone\n                  aria-hidden={false}\n                  role={canOpenModal ? 'button' : 'img'}\n                  className={`EntityBadge__Badge ${schemaConformance}`}\n                  style={canOpenModal ? { cursor: 'pointer' } : undefined}\n                  onClick={canOpenModal ? () => setShowModal(true) : undefined}\n                  data-html={true}\n                  data-testid={'annotations-icon'}\n                />\n              </Tooltip>\n            )}\n          {showHasWiki && bundle.rootWikiId && (\n            <Tooltip title=\"Has a wiki\" enterNextDelay={100} placement=\"right\">\n              <DescriptionTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'wiki-icon'}\n              />\n            </Tooltip>\n          )}\n          {showHasDiscussionThread &&\n            !!bundle.threadCount &&\n            !!(bundle.threadCount > 0) && (\n              <Tooltip\n                title=\"Has been mentioned in discussion\"\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <ChatBubbleTwoTone\n                  aria-hidden={false}\n                  role=\"img\"\n                  className=\"EntityBadge__Badge\"\n                  data-testid={'discussion-icon'}\n                />\n              </Tooltip>\n            )}\n          {showUnlink &&\n            bundle.entityType === EntityType.LINK &&\n            bundle.permissions?.canDelete && (\n              <>\n                <WarningDialog\n                  open={showUnlinkConfirmModal}\n                  title=\"Confirm Unlink\"\n                  content={\n                    'Are you sure you want to remove this link? The original object will not be changed.'\n                  }\n                  confirmButtonText=\"Unlink\"\n                  confirmButtonColor=\"error\"\n                  onConfirm={() => {\n                    unlinkEntity(entityId)\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                  onCancel={() => {\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                />\n                <Tooltip\n                  title=\"Remove this link\"\n                  enterNextDelay={100}\n                  placement=\"right\"\n                >\n                  <LinkOffTwoTone\n                    aria-hidden={false}\n                    role=\"button\"\n                    onClick={() => setShowUnlinkConfirmModal(true)}\n                    className=\"EntityBadge__Badge Unlink\"\n                    data-testid={'unlink-icon'}\n                  />\n                </Tooltip>\n              </>\n            )}\n        </>\n      )}\n    </div>\n  )\n}\n","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\n\n/////////////////////////////////////////////////////////\n// Browser Utils\n//\n/////////////////////////////////////////////////////////\nclass Browser {\n  // Check if not running on server\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  } // Opera 8.0+ (UA detection to detect Blink/v8-powered Opera)\n\n\n  static isOpera() {\n    return Browser.isBrowser() && (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0);\n  } // Firefox 1.0+\n\n\n  static isFirefox() {\n    return Browser.isBrowser() && typeof InstallTrigger !== 'undefined';\n  } // Safari 3.0+\n\n\n  static isSafari() {\n    if (!Browser.isBrowser()) {\n      return false;\n    }\n\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  } // Internet Explorer 6-11\n\n\n  static isIE() {\n    /*@cc_on!@*/\n    return Browser.isBrowser() && !!document.documentMode;\n  } // Edge 20+\n\n\n  static isEdge() {\n    return Browser.isBrowser() && !Browser.isIE() && !!window.StyleMedia;\n  } // Chrome 1+\n\n\n  static isChrome() {\n    return Browser.isBrowser() && !!window.chrome && !!window.chrome.webstore;\n  } // Blink engine detection\n\n\n  static isBlink() {\n    return Browser.isBrowser() && (Browser.isChrome() || Browser.isOpera()) && !!window.CSS;\n  }\n\n  static getUserAgent() {\n    return typeof navigator === 'undefined' ? '' : navigator.userAgent;\n  }\n\n  static isAndroid() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Android/i);\n  }\n\n  static isBlackBerry() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/BlackBerry/i);\n  }\n\n  static isIOS() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/iPhone|iPad|iPod/i);\n  }\n\n  static isOpera() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Opera Mini/i);\n  }\n\n  static isWindows() {\n    return Browser.isBrowser() && Browser.isWindowsDesktop() || Browser.isWindowsMobile();\n  }\n\n  static isWindowsMobile() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/IEMobile/i);\n  }\n\n  static isWindowsDesktop() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/WPDesktop/i);\n  }\n\n  static isMobile() {\n    return Browser.isBrowser() && (Browser.isWindowsMobile() || Browser.isBlackBerry() || Browser.isAndroid() || Browser.isIOS());\n  }\n\n} /////////////////////////////////////////////////////////\n// Returns only the props that start with \"data-\"\n//\n/////////////////////////////////////////////////////////\n\n\nconst getDataProps = props => {\n  return Object.keys(props).reduce((prev, key) => {\n    if (key.substr(0, 5) === 'data-') {\n      return _objectSpread({}, prev, {\n        [key]: props[key]\n      });\n    }\n\n    return prev;\n  }, {});\n};\n\nexport { getDataProps, Browser };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexSplitter\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport { Browser, getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexSplitter extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexSplitter, null).type : element.type === ReflexSplitter;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", React.createRef());\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n\n  render() {\n    const className = [Browser.isMobile() ? 'reflex-thin' : '', ...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-splitter'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexSplitter, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexSplitter, \"defaultProps\", {\n  document: typeof document !== 'undefined' ? document : null,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {} /////////////////////////////////////////////////////////\n  // Determines if element is a splitter\n  // or wraps a splitter\n  //\n  /////////////////////////////////////////////////////////\n\n});","///////////////////////////////////////////////////////////\n// ReflexEvents\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nclass ReflexEvents {\n  constructor() {\n    this._events = {};\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  on(events, fct) {\n    events.split(' ').forEach(event => {\n      this._events[event] = this._events[event] || [];\n\n      this._events[event].push(fct);\n    });\n    return this;\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  off(events, fct) {\n    if (events == undefined) {\n      this._events = {};\n      return;\n    }\n\n    events.split(' ').forEach(event => {\n      if (event in this._events === false) return;\n\n      if (fct) {\n        this._events[event].splice(this._events[event].indexOf(fct), 1);\n      } else {\n        this._events[event] = [];\n      }\n    });\n    return this;\n  }\n\n  emit(event\n  /* , args... */\n  ) {\n    if (this._events[event] === undefined) return;\n\n    var tmpArray = this._events[event].slice();\n\n    for (var i = 0; i < tmpArray.length; ++i) {\n      var result = tmpArray[i].apply(this, Array.prototype.slice.call(arguments, 1));\n\n      if (result !== undefined) {\n        return result;\n      }\n    }\n\n    return undefined;\n  }\n\n}\n\nexport default ReflexEvents;","if (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (valueToFind, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      } // 1. Let O be ? ToObject(this value).\n\n\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If len is 0, return false.\n\n      if (len === 0) {\n        return false;\n      } // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n\n\n      var n = fromIndex | 0; // 5. If n ≥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      } // 7. Repeat, while k < len\n\n\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(valueToFind, elementK) is true, return true.\n        if (sameValueZero(o[k], valueToFind)) {\n          return true;\n        } // c. Increase k by 1. \n\n\n        k++;\n      } // 8. Return false\n\n\n      return false;\n    }\n  });\n}\n\nif (!Math.sign) {\n  Math.sign = function (x) {\n    return (x > 0) - (x < 0) || +x;\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexContainer\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexSplitter from './ReflexSplitter';\nimport ReflexEvents from './ReflexEvents';\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './Polyfills';\nexport default class ReflexContainer extends React.Component {\n  /////////////////////////////////////////////////////////\n  // orientation: Orientation of the layout container\n  //              valid values are ['horizontal', 'vertical'] \n  // maxRecDepth: Maximun recursion depth to solve initial flex\n  //              of layout elements based on user provided values\n  // className: Space separated classnames to apply custom styles \n  //            to the layout container  \n  // style: allows passing inline style to the container\n  /////////////////////////////////////////////////////////\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onWindowResize\", () => {\n      this.setState({\n        flexData: this.computeFlexData()\n      });\n    });\n\n    _defineProperty(this, \"onStartResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          document.body.classList.add('reflex-row-resize');\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          document.body.classList.add('reflex-col-resize');\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      this.elements = [this.children[data.index - 1], this.children[data.index + 1]];\n      this.emitElementsEvent(this.elements, 'onStartResize');\n    });\n\n    _defineProperty(this, \"onResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n      const offset = this.getOffset(pos, data.domElement);\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      if (offset) {\n        const availableOffset = this.computeAvailableOffset(data.index, offset);\n\n        if (availableOffset) {\n          this.elements = this.dispatchOffset(data.index, availableOffset);\n          this.adjustFlex(this.elements);\n          this.setState({\n            resizing: true\n          }, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n          });\n        }\n      }\n    });\n\n    _defineProperty(this, \"onStopResize\", data => {\n      document.body.classList.remove('reflex-row-resize');\n      document.body.classList.remove('reflex-col-resize');\n      const resizedRefs = this.elements ? this.elements.map(element => {\n        return element.ref;\n      }) : [];\n      const elements = this.children.filter(child => {\n        return !ReflexSplitter.isA(child) && resizedRefs.includes(child.ref);\n      });\n      this.emitElementsEvent(elements, 'onStopResize');\n      this.setState({\n        resizing: false\n      });\n    });\n\n    _defineProperty(this, \"onElementSize\", data => {\n      return new Promise(resolve => {\n        try {\n          const idx = data.index;\n          const size = this.getSize(this.children[idx]);\n          const offset = data.size - size;\n          const dir = data.direction;\n          const splitterIdx = idx + dir;\n          const availableOffset = this.computeAvailableOffset(splitterIdx, dir * offset);\n          this.elements = null;\n\n          if (availableOffset) {\n            this.elements = this.dispatchOffset(splitterIdx, availableOffset);\n            this.adjustFlex(this.elements);\n          }\n\n          this.setState(this.state, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n            resolve();\n          });\n        } catch (ex) {\n          // TODO handle exception ...\n          console.log(ex);\n        }\n      });\n    });\n\n    this.events = new ReflexEvents();\n    this.children = [];\n    this.state = {\n      flexData: []\n    };\n    this.ref = React.createRef();\n  }\n\n  componentDidMount() {\n    const flexData = this.computeFlexData();\n    const {\n      windowResizeAware\n    } = this.props;\n\n    if (windowResizeAware) {\n      window.addEventListener('resize', this.onWindowResize);\n    }\n\n    this.setState({\n      windowResizeAware,\n      flexData\n    });\n    this.events.on('element.size', this.onElementSize);\n    this.events.on('startResize', this.onStartResize);\n    this.events.on('stopResize', this.onStopResize);\n    this.events.on('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    this.events.off();\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  getValidChildren(props = this.props) {\n    return this.toArray(props.children).filter(child => {\n      return !!child;\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const children = this.getValidChildren(this.props);\n\n    if (children.length !== this.state.flexData.length || prevProps.orientation !== this.props.orientation || this.flexHasChanged(prevProps)) {\n      const flexData = this.computeFlexData(children, this.props);\n      this.setState({\n        flexData\n      });\n    }\n\n    if (this.props.windowResizeAware !== this.state.windowResizeAware) {\n      !this.props.windowResizeAware ? window.removeEventListener('resize', this.onWindowResize) : window.addEventListener('resize', this.onWindowResize);\n      this.setState({\n        windowResizeAware: this.props.windowResizeAware\n      });\n    }\n  } // UNSAFE_componentWillReceiveProps(props) {\n  //   const children = this.getValidChildren(props)\n  //   if (children.length !== this.state.flexData.length || \n  //     props.orientation !== this.props.orientation || \n  //     this.flexHasChanged(props)) \n  //   {\n  //     const flexData = this.computeFlexData(\n  //       children, props)\n  //     this.setState({\n  //       flexData\n  //     });\n  //   }\n  //   if (props.windowResizeAware !== this.state.windowResizeAware) {\n  //     !props.windowResizeAware\n  //       ? window.removeEventListener('resize', this.onWindowResize)\n  //       : window.addEventListener('resize', this.onWindowResize)\n  //     this.setState({\n  //       windowResizeAware: props.windowResizeAware\n  //     })\n  //   }\n  // } \n  /////////////////////////////////////////////////////////\n  // attempts to preserve current flex on window resize\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Check if flex has changed: this allows updating the\n  // component when different flex is passed as property\n  // to one or several children\n  //\n  /////////////////////////////////////////////////////////\n  flexHasChanged(prevProps) {\n    const prevChildrenFlex = this.getValidChildren(prevProps).map(child => {\n      return child.props.flex || 0;\n    });\n    const childrenFlex = this.getValidChildren().map(child => {\n      return child.props.flex || 0;\n    });\n    return !childrenFlex.every((flex, idx) => {\n      return flex === prevChildrenFlex[idx];\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns size of a ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getSize(element) {\n    const domElement = element.ref.current;\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        return domElement.offsetHeight;\n\n      case 'vertical':\n      default:\n        return domElement.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Computes offset from pointer position\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getOffset(pos, domElement) {\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = domElement.getBoundingClientRect();\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        {\n          const offset = pos.clientY - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientY >= top) {\n              return offset;\n            }\n          } else {\n            if (pos.clientY <= bottom) {\n              return offset;\n            }\n          }\n\n          break;\n        }\n\n      case 'vertical':\n      default:\n        {\n          const offset = pos.clientX - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientX > left) {\n              return offset;\n            }\n          } else {\n            if (pos.clientX < right) {\n              return offset;\n            }\n          }\n        }\n        break;\n    }\n\n    return 0;\n  } /////////////////////////////////////////////////////////\n  // Handles startResize event\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Adjusts flex after a dispatch to make sure\n  // total flex of modified elements remains the same\n  //\n  /////////////////////////////////////////////////////////\n  adjustFlex(elements) {\n    const diffFlex = elements.reduce((sum, element) => {\n      const idx = element.props.index;\n      const previousFlex = element.props.flex;\n      const nextFlex = this.state.flexData[idx].flex;\n      return sum + (previousFlex - nextFlex) / elements.length;\n    }, 0);\n    elements.forEach(element => {\n      this.state.flexData[element.props.index].flex += diffFlex;\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns available offset for a given raw offset value\n  // This checks how much the panes can be stretched and\n  // shrink, then returns the min\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableOffset(idx, offset) {\n    const stretch = this.computeAvailableStretch(idx, offset);\n    const shrink = this.computeAvailableShrink(idx, offset);\n    const availableOffset = Math.min(stretch, shrink) * Math.sign(offset);\n    return availableOffset;\n  } /////////////////////////////////////////////////////////\n  // Returns true if the next splitter than the one at idx\n  // can propagate the drag. This can happen if that\n  // next element is actually a splitter and it has\n  // propagate=true property set\n  //\n  /////////////////////////////////////////////////////////\n\n\n  checkPropagate(idx, direction) {\n    if (direction > 0) {\n      if (idx < this.children.length - 2) {\n        const child = this.children[idx + 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    } else {\n      if (idx > 2) {\n        const child = this.children[idx - 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    }\n\n    return false;\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available stretch at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const maxSize = child.props.maxSize;\n    const availableStretch = maxSize - size;\n\n    if (availableStretch < Math.abs(offset)) {\n      if (this.checkPropagate(idx, -1 * offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableStretch);\n        return availableStretch + this.computeAvailableStretch(offset < 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableStretch, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available shrink at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const minSize = Math.max(child.props.minSize, 0);\n    const availableShrink = size - minSize;\n\n    if (availableShrink < Math.abs(offset)) {\n      if (this.checkPropagate(idx, offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableShrink);\n        return availableShrink + this.computeAvailableShrink(offset > 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableShrink, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Returns flex value for unit pixel\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computePixelFlex(orientation = this.props.orientation) {\n    if (!this.ref.current) {\n      console.warn('Unable to locate ReflexContainer dom node');\n      return 0.0;\n    }\n\n    switch (orientation) {\n      case 'horizontal':\n        if (this.ref.current.offsetHeight === 0.0) {\n          console.warn('Found ReflexContainer with height=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetHeight;\n\n      case 'vertical':\n      default:\n        if (this.ref.current.offsetWidth === 0.0) {\n          console.warn('Found ReflexContainer with width=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Adds offset to a given ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  addOffset(element, offset) {\n    const size = this.getSize(element);\n    const idx = element.props.index;\n    const newSize = Math.max(size + offset, 0);\n    const currentFlex = this.state.flexData[idx].flex;\n    const newFlex = currentFlex > 0 ? currentFlex * newSize / size : this.computePixelFlex() * newSize;\n    this.state.flexData[idx].flex = !isFinite(newFlex) || isNaN(newFlex) ? 0 : newFlex;\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches stretch offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.min(child.props.maxSize, size + Math.abs(offset));\n    const dispatchedStretch = newSize - size;\n    this.addOffset(child, dispatchedStretch);\n\n    if (dispatchedStretch < Math.abs(offset)) {\n      const nextIdx = idx - Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) - dispatchedStretch);\n      return [child, ...this.dispatchStretch(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches shrink offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.max(child.props.minSize, size - Math.abs(offset));\n    const dispatchedShrink = newSize - size;\n    this.addOffset(child, dispatchedShrink);\n\n    if (Math.abs(dispatchedShrink) < Math.abs(offset)) {\n      const nextIdx = idx + Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) + dispatchedShrink);\n      return [child, ...this.dispatchShrink(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Dispatch offset at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchOffset(idx, offset) {\n    return [...this.dispatchStretch(idx, offset), ...this.dispatchShrink(idx, offset)];\n  } /////////////////////////////////////////////////////////\n  // Emits given if event for each given element\n  // if present in the component props\n  //\n  /////////////////////////////////////////////////////////\n\n\n  emitElementsEvent(elements, event) {\n    this.toArray(elements).forEach(component => {\n      if (component.props[event]) {\n        component.props[event]({\n          domElement: component.ref.current,\n          component\n        });\n      }\n    });\n  } /////////////////////////////////////////////////////////\n  // Computes initial flex data based on provided flex\n  // properties. By default each ReflexElement gets\n  // evenly arranged within its container\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeFlexData(children = this.getValidChildren(), props = this.props) {\n    const pixelFlex = this.computePixelFlex(props.orientation);\n\n    const computeFreeFlex = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && entry.constrained) {\n          return sum - entry.flex;\n        }\n\n        return sum;\n      }, 1.0);\n    };\n\n    const computeFreeElements = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && !entry.constrained) {\n          return sum + 1;\n        }\n\n        return sum;\n      }, 0.0);\n    };\n\n    const flexDataInit = children.map(child => {\n      const props = child.props;\n      return {\n        maxFlex: (props.maxSize || Number.MAX_VALUE) * pixelFlex,\n        sizeFlex: (props.size || Number.MAX_VALUE) * pixelFlex,\n        minFlex: (props.minSize || 1) * pixelFlex,\n        constrained: props.flex !== undefined,\n        flex: props.flex || 0,\n        type: child.type\n      };\n    });\n\n    const computeFlexDataRec = (flexDataIn, depth = 0) => {\n      let hasContrain = false;\n      const freeElements = computeFreeElements(flexDataIn);\n      const freeFlex = computeFreeFlex(flexDataIn);\n      const flexDataOut = flexDataIn.map(entry => {\n        if (ReflexSplitter.isA(entry)) {\n          return entry;\n        }\n\n        const proposedFlex = !entry.constrained ? freeFlex / freeElements : entry.flex;\n        const constrainedFlex = Math.min(entry.sizeFlex, Math.min(entry.maxFlex, Math.max(entry.minFlex, proposedFlex)));\n        const constrained = entry.constrained || constrainedFlex !== proposedFlex;\n        hasContrain = hasContrain || constrained;\n        return _objectSpread({}, entry, {\n          flex: constrainedFlex,\n          constrained\n        });\n      });\n      return hasContrain && depth < this.props.maxRecDepth ? computeFlexDataRec(flexDataOut, depth + 1) : flexDataOut;\n    };\n\n    const flexData = computeFlexDataRec(flexDataInit);\n    return flexData.map(entry => {\n      return {\n        flex: !ReflexSplitter.isA(entry) ? entry.flex : 0.0,\n        ref: React.createRef()\n      };\n    });\n  } /////////////////////////////////////////////////////////\n  // Utility method to ensure given argument is\n  // returned as an array\n  //\n  /////////////////////////////////////////////////////////\n\n\n  toArray(obj) {\n    return obj ? Array.isArray(obj) ? obj : [obj] : [];\n  } /////////////////////////////////////////////////////////\n  // Render container. This will clone all original child\n  // components in order to pass some internal properties\n  // used to handle resizing logic\n  //\n  /////////////////////////////////////////////////////////\n\n\n  render() {\n    const className = [this.state.resizing ? 'reflex-resizing' : '', ...this.props.className.split(' '), this.props.orientation, 'reflex-container'].join(' ').trim();\n    this.children = React.Children.map(this.getValidChildren(), (child, index) => {\n      if (index > this.state.flexData.length - 1) {\n        return React.createElement(\"div\", null);\n      }\n\n      const flexData = this.state.flexData[index];\n\n      const newProps = _objectSpread({}, child.props, {\n        maxSize: child.props.maxSize || Number.MAX_VALUE,\n        orientation: this.props.orientation,\n        minSize: child.props.minSize || 1,\n        events: this.events,\n        flex: flexData.flex,\n        ref: flexData.ref,\n        index\n      });\n\n      return React.cloneElement(child, newProps);\n    });\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      style: this.props.style,\n      className: className,\n      ref: this.ref\n    }), this.children);\n  }\n\n}\n\n_defineProperty(ReflexContainer, \"propTypes\", {\n  windowResizeAware: PropTypes.bool,\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  maxRecDepth: PropTypes.number,\n  className: PropTypes.string,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexContainer, \"defaultProps\", {\n  orientation: 'horizontal',\n  windowResizeAware: false,\n  maxRecDepth: 100,\n  className: '',\n  style: {}\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexHandle\n// By Philippe Leefsma\n// June 2018\n//\n///////////////////////////////////////////////////////////\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexHandle extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexHandle, null).type : element.type === ReflexHandle;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", React.createRef());\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n\n  render() {\n    const className = [...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-handle'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexHandle, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexHandle, \"defaultProps\", {\n  document: typeof document === 'undefined' ? null : document,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {}\n});","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n\n/**\n * Returns the global window object associated with provided element.\n */\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\n\nexport default Measure;\nexport { withContentRect };\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexElement\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexHandle from './ReflexHandle';\nimport { getDataProps } from './utilities';\nimport throttle from 'lodash.throttle';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst toArray = obj => {\n  return obj ? Array.isArray(obj) ? obj : [obj] : [];\n};\n\nclass SizeAwareReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onResize\", rect => {\n      const {\n        resizeHeight,\n        resizeWidth\n      } = this.props;\n      const {\n        height,\n        width\n      } = rect.bounds;\n      this.setDimensions(_objectSpread({}, resizeHeight && {\n        height\n      }, resizeWidth && {\n        width\n      }));\n    });\n\n    this.setDimensions = throttle(dimensions => {\n      this.setState(dimensions);\n    }, this.props.propagateDimensionsRate / 1000);\n    this.state = {\n      height: \"100%\",\n      width: \"100%\"\n    };\n  }\n\n  renderChildren() {\n    const {\n      propagateDimensions\n    } = this.props;\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({\n          dimensions: propagateDimensions && this.state\n        }, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      if (propagateDimensions) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          dimensions: this.state\n        }));\n      }\n\n      return child;\n    });\n  }\n\n  render() {\n    return React.createElement(Measure, {\n      bounds: true,\n      onResize: this.onResize\n    }, ({\n      measureRef\n    }) => {\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        className: \"reflex-size-aware\"\n      }, React.createElement(\"div\", {\n        style: this.state\n      }, this.renderChildren()));\n    });\n  }\n\n}\n\nclass ReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: props.size\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.size !== prevState.size) {\n      return _objectSpread({}, prevState, {\n        size: nextProps.size\n      });\n    }\n\n    return null;\n  }\n\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.size !== this.state.size) {\n      const directions = toArray(this.props.direction);\n\n      for (let direction of directions) {\n        await this.props.events.emit('element.size', {\n          index: this.props.index,\n          size: this.props.size,\n          direction\n        });\n      }\n    }\n  }\n\n  renderChildren() {\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      return child;\n    });\n  }\n\n  render() {\n    const className = [...this.props.className.split(' '), this.props.orientation, 'reflex-element'].join(' ').trim();\n\n    const style = _objectSpread({}, this.props.style, {\n      flexGrow: this.props.flex,\n      flexShrink: 1,\n      flexBasis: '0%'\n    });\n\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      ref: this.props.innerRef,\n      className: className,\n      style: style\n    }), this.props.propagateDimensions ? React.createElement(SizeAwareReflexElement, this.props) : this.renderChildren());\n  }\n\n}\n\n_defineProperty(ReflexElement, \"propTypes\", {\n  propagateDimensions: PropTypes.bool,\n  resizeHeight: PropTypes.bool,\n  resizeWidth: PropTypes.bool,\n  className: PropTypes.string,\n  size: PropTypes.number\n});\n\n_defineProperty(ReflexElement, \"defaultProps\", {\n  propagateDimensionsRate: 100,\n  propagateDimensions: false,\n  resizeHeight: true,\n  resizeWidth: true,\n  direction: [1],\n  className: ''\n});\n\nexport default React.forwardRef((props, ref) => {\n  return React.createElement(ReflexElement, _extends({\n    innerRef: ref\n  }, props));\n});","import React from 'react'\n\nexport type BreadcrumbItem = {\n  name: string\n  isCurrent: boolean\n  action?: () => void\n}\n\nexport type BreadcrumbsProps = {\n  items: BreadcrumbItem[]\n  maxItemCount?: number\n}\n\nexport const Breadcrumbs: React.FunctionComponent<BreadcrumbsProps> = ({\n  items,\n  maxItemCount = 4,\n}: BreadcrumbsProps) => {\n  const truncateBreadcrumbs = items.length > maxItemCount\n  if (truncateBreadcrumbs) {\n    items = items.slice(-maxItemCount)\n  }\n  return (\n    <div className=\"Breadcrumbs\">\n      {items.length > 0 && <span>You are in: </span>}\n      {truncateBreadcrumbs && (\n        <>\n          <button className=\"BreadcrumbItem Current\">...</button>\n          <span>&gt;</span>\n        </>\n      )}\n      {items.map((item, index) => (\n        <>\n          <button\n            className={`BreadcrumbItem ${item.isCurrent ? 'Current' : ''}`}\n            key={index}\n            onClick={event => {\n              event.preventDefault()\n              if (item.action) {\n                item.action()\n              }\n            }}\n          >\n            {item.name}\n          </button>\n          {index !== items.length - 1 && <span>&gt;</span>}\n        </>\n      ))}\n    </div>\n  )\n}\n","/**\n * Documents the possible EntityFinder version selection configurations\n */\nexport enum VersionSelectionType {\n  /** Versions cannot be selected. In dual-pane mode, the version column will not be shown. */\n  DISALLOWED = 'DISALLOWED',\n  /** A numbered version must be selected. The current version of tables will not be shown. */\n  REQUIRED = 'REQUIRED',\n  /**\n   * Versions can be selected, including \"Always Latest\" version for any versionable entity type.\n   * This should be selected if updates to the entity will not be \"tracked\" by the use case,\n   * i.e. the widget will update when the entity is updated.\n   */\n  TRACKED = 'TRACKED',\n  /**\n   * Versions can be selected. Tables and views will allow selection of the \"Current\"/\"Draft\" version.\n   * This should be selected if updates to the entity will not be \"tracked\" by the use case.\n   */\n  UNTRACKED = 'UNTRACKED',\n}\n","import React from 'react'\nimport { HelpPopover } from '../../../HelpPopover'\nimport { VersionSelectionType } from '../../VersionSelectionType'\n\nconst CHOOSE_REFERENCE =\n  'Choose which version of this item you would like to reference.'\nconst CHOOSE_ACTION =\n  'Choose which version of this item you would like to perform this action on.'\nconst ALWAYS_LATEST_VERSION_EXPLANATION =\n  'If you would like the selection to update as new versions are created, choose \"Always Latest Version\".'\n\nexport function VersionColumnHeader(props: {\n  versionSelection: VersionSelectionType\n}) {\n  const { versionSelection } = props\n  let helpCopy = ''\n  switch (versionSelection) {\n    case VersionSelectionType.REQUIRED:\n      helpCopy = CHOOSE_REFERENCE\n      break\n    case VersionSelectionType.TRACKED:\n      helpCopy = CHOOSE_REFERENCE + ' ' + ALWAYS_LATEST_VERSION_EXPLANATION\n      break\n    case VersionSelectionType.UNTRACKED:\n      // If the selected version isn't being tracked, then this is most likely a one-time action\n      helpCopy = CHOOSE_ACTION\n      break\n    case VersionSelectionType.DISALLOWED:\n    default:\n    // this column is not shown in these cases.\n  }\n  return (\n    <>\n      Version\n      <HelpPopover\n        className=\"SRC-margin-left-5\"\n        markdownText={helpCopy}\n        placement=\"right\"\n      />\n    </>\n  )\n}\n","import BaseTable, {\n  AutoResizer,\n  Column,\n} from '@sage-bionetworks/react-base-table'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useQueryClient } from 'react-query'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n  isVersionableEntityType,\n} from '../../../../utils/functions/EntityTypeUtils'\nimport { getEntityVersions } from '../../../../utils/SynapseClient'\nimport { useSynapseContext } from '../../../../utils/SynapseContext'\nimport {\n  Direction,\n  EntityChildrenRequest,\n  EntityHeader,\n  EntityType,\n  SortBy,\n} from '../../../../utils/synapseTypes'\nimport { BlockingLoader } from '../../../LoadingScreen'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { EntityFinderHeader } from '../../EntityFinderHeader'\nimport { VersionSelectionType } from '../../VersionSelectionType'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport {\n  BadgeIconsRenderer,\n  CellRendererProps,\n  CreatedOnRenderer,\n  CustomSortIndicator,\n  DetailsViewCheckboxRenderer,\n  DetailsViewVersionRenderer,\n  EmptyRenderer,\n  EntityIdAndVersionNumber,\n  LoadingRenderer,\n  ModifiedByRenderer,\n  ModifiedOnRenderer,\n  TypeIconRenderer,\n} from './DetailsViewTableRenderers'\nimport { VersionColumnHeader } from './VersionColumnHeader'\n\nconst MIN_TABLE_WIDTH = 1200\nconst ROW_HEIGHT = 46\n\nexport type DetailsViewProps = EntityDetailsListSharedProps & {\n  entities: EntityFinderHeader[]\n  isLoading: boolean\n  hasNextPage?: boolean\n  fetchNextPage?: () => Promise<any>\n  isFetchingNextPage?: boolean\n  /** The current sort of the view. If the view cannot be sorted, set this to `undefined` */\n  sort?: { sortBy: SortBy; sortDirection: Direction }\n  /** If sortable, `setSort` will be invoked when the user tries to change the sort */\n  setSort?: (soryBy: SortBy, sortDirection: Direction) => void\n  noResultsPlaceholder?: React.ReactElement\n  /** We defer to the configuration component to determine this */\n  selectAllIsChecked?: boolean\n  /** This request object is only used to tell react-query to cancel fetching all children at once. */\n  getChildrenInfiniteRequestObject?: EntityChildrenRequest\n  /** The total number of entities that can be retrieved */\n  totalEntities?: number\n}\n\n/**\n * Describes the shape of the data passed to the BaseTable\n */\nexport type EntityFinderTableViewRowData = EntityFinderHeader & {\n  entityId: string\n  versionNumber?: number\n  entityType: EntityType\n  isSelected: boolean\n  isDisabled: boolean\n  isVersionableEntity: boolean\n  currentSelectedVersion?: number\n}\n\n/**\n * Displays a list of entities in a table.\n *\n * If the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\n * When the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\n * an \"infinite scroll\" pattern, so entities should not be removed from the list when loading the next page.\n *\n * @param param0\n */\nexport const DetailsView: React.FunctionComponent<DetailsViewProps> = ({\n  entities,\n  isLoading,\n  hasNextPage,\n  fetchNextPage,\n  isFetchingNextPage,\n  versionSelection,\n  selectColumnType,\n  selected,\n  visibleTypes,\n  selectableTypes,\n  toggleSelection,\n  sort,\n  setSort,\n  noResultsPlaceholder,\n  enableSelectAll,\n  selectAllIsChecked = false,\n  getChildrenInfiniteRequestObject,\n  totalEntities,\n  setCurrentContainer,\n}) => {\n  const queryClient = useQueryClient()\n\n  const { accessToken } = useSynapseContext()\n\n  const showSelectColumn = selectColumnType !== 'none'\n\n  const [shouldSelectAll, setShouldSelectAll] = useState(false)\n  const [showLoadingScreen, setShowLoadingScreen] = useState(false)\n\n  const cancelQuery = () => {\n    // It's likely that the user will be throttled by the Synapse backend and may be waiting a\n    // noticeable amount of time for the current request, so cancel it (in addition to cancelling future requests)\n    queryClient.cancelQueries([\n      'entitychildren',\n      getChildrenInfiniteRequestObject,\n    ])\n    setShowLoadingScreen(false)\n    setShouldSelectAll(false)\n  }\n  type DetailsViewRowAppearance = 'hidden' | 'disabled' | 'selected' | 'default'\n\n  const determineRowAppearance = (\n    entity: EntityFinderHeader,\n  ): DetailsViewRowAppearance => {\n    if (!visibleTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'hidden'\n    } else if (!selectableTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'disabled'\n    } else if (selected.has(entity.id)) {\n      return 'selected'\n    } else {\n      return 'default'\n    }\n  }\n\n  useEffect(() => {\n    async function handleSelectAll() {\n      if (shouldSelectAll) {\n        if (hasNextPage && fetchNextPage) {\n          // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n          setShowLoadingScreen(true)\n          if (!isFetchingNextPage) {\n            fetchNextPage()\n          }\n        } else {\n          if (selectAllIsChecked) {\n            // All of the items are selected, so we will deselect all\n            toggleSelection(\n              entities\n                .filter(e => {\n                  // Collect just entities that are selected\n                  // An entity may be in the list and unselected because it isn't of a selectable type\n                  return selected.has(e.id)\n                })\n                .map(e => {\n                  const selectedVersion = selected.get(e.id)\n                  return {\n                    targetId: e.id,\n                    targetVersionNumber:\n                      selectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : selectedVersion,\n                  }\n                }),\n            )\n          } else {\n            // Not all of the items are selected, so we will select all\n            toggleSelection(\n              await Promise.all(\n                entities\n                  .filter(e => {\n                    // must filter just selectable types or else any entities of unselectable types will get selected\n                    const type = getEntityTypeFromHeader(e)\n                    // also exclude already-selected entities, since we don't want to toggle those\n                    return (\n                      !selected.has(e.id) &&\n                      selectableTypes.includes(type) &&\n                      visibleTypes.includes(type)\n                    )\n                  })\n                  .map(async e => {\n                    let latestVersion: number | undefined\n                    if (\n                      versionSelection === VersionSelectionType.REQUIRED &&\n                      isVersionableEntityType(getEntityTypeFromHeader(e))\n                    ) {\n                      // If VersionSelectionType.REQUIRED, then we need to supply a version with the entity.\n                      // We may already have the version from the header:\n                      if (\n                        Object.prototype.hasOwnProperty.call(e, 'versionNumber')\n                      ) {\n                        latestVersion = (e as EntityHeader).versionNumber\n                      }\n                      if (!latestVersion) {\n                        // Failsafe if we didn't get the version in the header. This is rare/unlikely, since the only cases we're sure we don't get versions are:\n                        //  - ProjectHeaders (which are versionless)\n                        //  - Search Results (for which we don't support Select All)\n                        // For large lists, there's a good chance for this to trigger throttling.\n\n                        // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n                        setShowLoadingScreen(true)\n\n                        const versions = await queryClient.fetchQuery(\n                          ['entity', e.id, 'versions', { offset: 0, limit: 1 }],\n                          () => getEntityVersions(e.id, accessToken, 0, 1),\n                        )\n                        // we pick the first version in the list because it is the most recent\n                        latestVersion = versions.results[0]?.versionNumber\n                      }\n                    }\n                    return {\n                      targetId: e.id,\n                      targetVersionNumber: latestVersion,\n                    }\n                  }),\n              ),\n            )\n          }\n          setShouldSelectAll(false)\n          setShowLoadingScreen(false)\n        }\n      }\n    }\n    handleSelectAll()\n  }, [\n    accessToken,\n    entities,\n    fetchNextPage,\n    hasNextPage,\n    versionSelection,\n    queryClient,\n    isFetchingNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    selected,\n    shouldSelectAll,\n    toggleSelection,\n    visibleTypes,\n  ])\n\n  const tableData = entities.reduce(\n    (entities: EntityFinderTableViewRowData[], entity) => {\n      const appearance = determineRowAppearance(entity)\n      if (appearance !== 'hidden') {\n        // only include entities that should not be hidden\n        const entityType = getEntityTypeFromHeader(entity)\n\n        const currentSelectedVersion = selected.get(entity.id)\n        let versionNumber: number | undefined = undefined\n        if ('versionNumber' in entity) {\n          if (\n            currentSelectedVersion != null &&\n            currentSelectedVersion !== NO_VERSION_NUMBER\n          ) {\n            // if a version is selected, the row should show that version's data\n            versionNumber = currentSelectedVersion\n          } else if (versionSelection === VersionSelectionType.REQUIRED) {\n            // if a version is not selected, but version selection is required, the row should show the latest version's data\n            versionNumber = entity.versionNumber\n          }\n          // otherwise, show the current version's data (versionNumber is undefined)\n        }\n\n        entities.push({\n          ...entity,\n          entityId: entity.id,\n          versionNumber: versionNumber,\n          entityType: entityType,\n          isSelected: appearance === 'selected',\n          isDisabled: appearance === 'disabled',\n          isVersionableEntity: isVersionableEntityType(entityType),\n          currentSelectedVersion: currentSelectedVersion,\n        })\n      }\n      return entities\n    },\n    [],\n  )\n\n  const SelectAllCheckboxRenderer = useMemo(() => {\n    // Enabled if there's at least one visible & selectable entity, OR there's a page we haven't fetched\n    const isEnabled =\n      hasNextPage ||\n      entities.filter(\n        e =>\n          selectableTypes.includes(getEntityTypeFromHeader(e)) &&\n          visibleTypes.includes(getEntityTypeFromHeader(e)),\n      ).length > 0\n    return (\n      enableSelectAll && (\n        <div\n          data-testid=\"Select All\"\n          style={isEnabled ? { cursor: 'pointer' } : { cursor: 'not-allowed' }}\n          onClick={() => {\n            if (isEnabled) {\n              setShouldSelectAll(true)\n            }\n          }}\n        >\n          <Checkbox\n            label=\"Select All\"\n            hideLabel={true}\n            className=\"SRC-pointer-events-none\"\n            checked={selectAllIsChecked}\n            disabled={!isEnabled}\n            onChange={() => {\n              // no-op\n            }}\n          />\n        </div>\n      )\n    )\n  }, [\n    enableSelectAll,\n    entities,\n    hasNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    visibleTypes,\n  ])\n\n  const NameRenderer = useCallback(\n    (props: CellRendererProps<EntityFinderTableViewRowData>) => {\n      if (setCurrentContainer && isContainerType(props.rowData.entityType)) {\n        return (\n          <span\n            role=\"link\"\n            className=\"EntityFinderTableCellContainerLink\"\n            onClick={e => {\n              e.stopPropagation()\n              setCurrentContainer(props.rowData.id)\n            }}\n          >\n            {props.rowData.name}\n          </span>\n        )\n      } else {\n        return props.rowData.name\n      }\n    },\n    [setCurrentContainer],\n  )\n\n  const sortState = {}\n  if (sort) {\n    sortState[sort.sortBy] = sort.sortDirection.toLowerCase()\n  }\n\n  return (\n    <div className=\"EntityFinderDetailsView bootstrap-4-backport\">\n      <BlockingLoader\n        show={showLoadingScreen}\n        currentProgress={entities.length}\n        totalProgress={totalEntities}\n        hintText={\n          totalEntities\n            ? `${entities.length.toLocaleString()} of ${totalEntities?.toLocaleString()}`\n            : `Fetching ${entities.length.toLocaleString()}`\n        }\n        headlineText={'Fetching selected items'}\n        onCancel={cancelQuery}\n      />\n      <AutoResizer className=\"DetailsViewAutosizer\">\n        {({ height, width }: { height: number; width: number }) => (\n          <BaseTable<EntityFinderTableViewRowData>\n            classPrefix=\"DetailsViewTable\"\n            data={tableData}\n            height={height}\n            width={width > MIN_TABLE_WIDTH ? width : MIN_TABLE_WIDTH}\n            rowHeight={ROW_HEIGHT}\n            overscanRowCount={5}\n            // Apply classes to the rows for styling\n            rowClassName={({ rowIndex }: { rowIndex: number }) => {\n              let className = 'EntityFinderDetailsViewRow'\n              if (rowIndex % 2 === 0) {\n                // Apply a class based on index so we can get alternating colors\n                // We don't use CSSs nth-child because the rows are virtualized, so an even child might change to odd on-the-fly\n                className += ' isEven'\n              }\n              return className\n            }}\n            // Apply aria roles to the rows for a11y/styling\n            rowProps={({ rowData }) => {\n              return {\n                'aria-selected': rowData.isSelected,\n                'aria-disabled': rowData.isDisabled,\n              }\n            }}\n            headerCellProps={{\n              role: 'columnheader',\n            }}\n            // Sorting:\n            sortState={sortState}\n            components={{ SortIndicator: CustomSortIndicator }}\n            onColumnSort={({ key, order }) => {\n              if (sort && setSort) {\n                setSort(\n                  key as SortBy,\n                  order === 'asc' ? Direction.ASC : Direction.DESC,\n                )\n              }\n            }}\n            rowEventHandlers={{\n              onClick: ({ rowData }) => {\n                const { id, isDisabled, isVersionableEntity } = rowData\n                let { currentSelectedVersion } = rowData\n                if (!isDisabled) {\n                  if (\n                    isVersionableEntity &&\n                    versionSelection === VersionSelectionType.REQUIRED &&\n                    currentSelectedVersion == null &&\n                    Object.prototype.hasOwnProperty.call(\n                      rowData,\n                      'versionNumber',\n                    )\n                  ) {\n                    currentSelectedVersion = (rowData as EntityHeader)\n                      .versionNumber\n                    // Note that here we aren't handling the case where the header doesn't have a version, e.g. a search result\n                    // That case is actually handled by the VersionRenderer, which has an effect that will toggle the selection after data is fetched.\n                  }\n\n                  toggleSelection({\n                    targetId: id,\n                    targetVersionNumber:\n                      currentSelectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : currentSelectedVersion,\n                  })\n                }\n              },\n            }}\n            onEndReached={() => {\n              if (hasNextPage && fetchNextPage && !isFetchingNextPage) {\n                fetchNextPage()\n              }\n            }}\n            emptyRenderer={\n              isLoading\n                ? LoadingRenderer\n                : () => (\n                    <EmptyRenderer\n                      noResultsPlaceholder={noResultsPlaceholder}\n                    />\n                  )\n            }\n          >\n            {showSelectColumn && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"isSelected\"\n                title=\"\"\n                minWidth={50}\n                maxWidth={50}\n                width={50}\n                dataKey=\"isSelected\"\n                headerRenderer={SelectAllCheckboxRenderer}\n                cellRenderer={DetailsViewCheckboxRenderer}\n              />\n            )}\n            <Column<EntityFinderTableViewRowData>\n              key=\"type\"\n              title=\"\"\n              minWidth={45}\n              maxWidth={45}\n              width={45}\n              dataKey=\"entityType\"\n              align=\"center\"\n              cellRenderer={TypeIconRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.NAME}\n              title=\"Name\"\n              width={800}\n              sortable={sort != null}\n              resizable={true}\n              cellRenderer={NameRenderer}\n            />\n            <Column<EntityIdAndVersionNumber>\n              key=\"badge\"\n              title=\"\"\n              width={75}\n              maxWidth={75}\n              minWidth={75}\n              cellRenderer={BadgeIconsRenderer}\n            />\n\n            <Column<EntityFinderTableViewRowData>\n              key=\"id\"\n              width={130}\n              dataKey=\"id\"\n              title=\"ID\"\n              minWidth={130}\n            />\n            {versionSelection !== VersionSelectionType.DISALLOWED && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"version\"\n                minWidth={150}\n                width={500}\n                title=\"Version\"\n                cellRenderer={props => (\n                  <DetailsViewVersionRenderer\n                    versionSelection={versionSelection}\n                    toggleSelection={toggleSelection}\n                    {...props}\n                  />\n                )}\n                headerRenderer={\n                  <VersionColumnHeader versionSelection={versionSelection} />\n                }\n              />\n            )}\n            <Column<EntityIdAndVersionNumber>\n              key={SortBy.CREATED_ON}\n              sortable={sort != null}\n              title=\"Created On\"\n              width={220}\n              minWidth={170}\n              cellRenderer={CreatedOnRenderer}\n            />\n            <Column<EntityIdAndVersionNumber>\n              key={SortBy.MODIFIED_ON}\n              title=\"Modified On\"\n              width={220}\n              minWidth={170}\n              sortable={sort != null}\n              cellRenderer={ModifiedOnRenderer}\n            />\n            <Column<EntityIdAndVersionNumber>\n              key=\"modifiedBy\"\n              title=\"Modified By\"\n              width={500}\n              resizable\n              cellRenderer={ModifiedByRenderer}\n            />\n          </BaseTable>\n        )}\n      </AutoResizer>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useGetEntityChildrenInfinite } from '../../../../utils/hooks/SynapseAPI/entity/useGetEntityChildren'\nimport { Direction, SortBy } from '../../../../utils/synapseTypes'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\n\ntype EntityChildrenDetailsProps = EntityDetailsListSharedProps & {\n  parentContainerId: string\n}\n\nexport const EntityChildrenDetails: React.FunctionComponent<\n  EntityChildrenDetailsProps\n> = ({ parentContainerId, ...sharedProps }) => {\n  const [sortBy, setSortBy] = useState<SortBy>(SortBy.NAME)\n  const [sortDirection, setSortDirection] = useState<Direction>(Direction.ASC)\n\n  const getChildrenInfiniteRequestObject = {\n    parentId: parentContainerId,\n    includeTotalChildCount: true,\n    includeTypes: sharedProps.visibleTypes,\n    sortBy: sortBy,\n    sortDirection: sortDirection,\n  }\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetEntityChildrenInfinite(getChildrenInfiniteRequestObject, {\n      useErrorBoundary: true,\n    })\n  const entities = data?.pages.flatMap(page => page.page) ?? []\n  const totalEntities = data?.pages[0].totalChildCount\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      sort={{ sortBy, sortDirection }}\n      setSort={(newSortBy, newSortDirection) => {\n        setSortBy(newSortBy)\n        setSortDirection(newSortDirection)\n      }}\n      selectAllIsChecked={selectAllCheckboxState}\n      getChildrenInfiniteRequestObject={getChildrenInfiniteRequestObject}\n      totalEntities={totalEntities}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetFavoritesInfinite } from '../../../../utils/hooks/SynapseAPI/user/useFavorites'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype FavoritesDetailsProps = EntityDetailsListSharedProps\n\nexport const FavoritesDetails: React.FunctionComponent<\n  FavoritesDetailsProps\n> = ({ ...sharedProps }) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useGetFavoritesInfinite('NAME', 'ASC', { useErrorBoundary: true })\n\n  const entities = data?.pages.flatMap(page => page.results) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetProjectsInfinite } from '../../../../utils/hooks/SynapseAPI/user/useProjects'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { ProjectHeader } from '../../../../utils/synapseTypes'\nimport { GetProjectsParameters } from '../../../../utils/synapseTypes/GetProjectsParams'\nimport { EntityHeaderFromProjectHeader } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype ProjectListDetailsProps = EntityDetailsListSharedProps & {\n  projectsParams: GetProjectsParameters\n}\n\nexport function toEntityHeader(\n  projectHeader: ProjectHeader,\n): EntityHeaderFromProjectHeader {\n  return {\n    ...projectHeader,\n    type: 'org.sagebionetworks.repo.model.Project',\n  }\n}\n\nexport const ProjectListDetails: React.FunctionComponent<\n  ProjectListDetailsProps\n> = ({ projectsParams, ...sharedProps }) => {\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetProjectsInfinite(projectsParams, { useErrorBoundary: true })\n\n  const projects =\n    data?.pages.flatMap(page => page.results).map(toEntityHeader) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    projects,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={projects}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { convertToConcreteEntityType } from '../../../../utils/functions/EntityTypeUtils'\nimport { useSearchInfinite } from '../../../../utils/hooks/SynapseAPI/search/useSearch'\nimport { Hit, SearchQuery } from '../../../../utils/synapseTypes/Search'\nimport { EntityHeaderFromHit } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype SearchDetailsProps = EntityDetailsListSharedProps & {\n  searchQuery: SearchQuery\n}\n\nfunction toEntityHeader(hit: Hit): EntityHeaderFromHit {\n  return {\n    name: hit.name,\n    id: hit.id,\n    type: convertToConcreteEntityType(hit.node_type),\n    createdOn: hit.created_on.toString(),\n    modifiedOn: hit.modified_on.toString(),\n    createdBy: hit.created_by,\n    modifiedBy: hit.modified_by,\n  }\n}\n\nexport const SearchDetails: React.FunctionComponent<SearchDetailsProps> = ({\n  searchQuery,\n  ...sharedProps\n}) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useSearchInfinite(searchQuery, {\n      enabled: !!searchQuery.queryTerm,\n      useErrorBoundary: true,\n    })\n\n  if (searchQuery.queryTerm) {\n    return (\n      <DetailsView\n        entities={\n          data?.pages.flatMap(page => page.hits).map(toEntityHeader) ?? []\n        }\n        isLoading={isLoading}\n        hasNextPage={hasNextPage}\n        fetchNextPage={fetchNextPage}\n        isFetchingNextPage={isFetchingNextPage}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"No results found\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg\"\n            />\n            <p>\n              No results for &ldquo;{searchQuery.queryTerm.join(' ')}&rdquo;\n            </p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  } else {\n    return (\n      <DetailsView\n        entities={[]}\n        isLoading={false}\n        hasNextPage={false}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"Begin searching\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg\"\n            />\n            <p>Enter a term or Synapse ID to start searching</p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  }\n}\n","import { Map } from 'immutable'\nimport React, { Dispatch, SetStateAction, useState } from 'react'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { getIsAllSelectedFromInfiniteList } from '../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityType, Reference } from '../../../utils/synapseTypes'\nimport { GetProjectsParameters } from '../../../utils/synapseTypes/GetProjectsParams'\nimport { SearchQuery } from '../../../utils/synapseTypes/Search'\nimport { SynapseErrorBoundary } from '../../error/ErrorBanner'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport { EntityTreeContainer } from '../tree/EntityTree'\nimport { VersionSelectionType } from '../VersionSelectionType'\nimport { EntityChildrenDetails } from './configurations/EntityChildrenDetails'\nimport { FavoritesDetails } from './configurations/FavoritesDetails'\nimport { ProjectListDetails } from './configurations/ProjectListDetails'\nimport { SearchDetails } from './configurations/SearchDetails'\nimport { DetailsView } from './view/DetailsView'\n\nexport enum EntityDetailsListDataConfigurationType {\n  HEADER_LIST, // simply displays one or more entity headers. incompatible with pagination\n  PARENT_CONTAINER, // retrieve the children for a given entity ID\n  USER_PROJECTS, // retrieve the user's projects (using the parameters)\n  USER_FAVORITES, // retrieve the user's favorites (using the parameters)\n  ENTITY_SEARCH, // Search for an entity\n  PROMPT, // Show no entities and instruct the user to make a selection\n}\n\nexport type EntityDetailsListDataConfiguration = {\n  type: EntityDetailsListDataConfigurationType\n  /** Defined if type is HEADER_LIST */\n  headerList?: Pick<EntityFinderHeader, 'id' | 'name' | 'type'>[]\n  /** Defined if type is PARENT_CONTAINER */\n  parentContainerId?: string\n  /** Defined if type is USER_PROJECTS */\n  getProjectParams?: GetProjectsParameters\n  /** Defined if type is ENTITY_SEARCH */\n  query?: SearchQuery\n}\n\n/**\n * These props are set by a parent to this component, but they are not affected by the configuration.\n * We collect them into this type to simplify passing them through to the view.\n */\nexport type EntityDetailsListSharedProps = {\n  versionSelection: VersionSelectionType\n  selectColumnType: 'checkbox' | 'none'\n  enableSelectAll: boolean\n  visibleTypes: EntityType[]\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  isIdSelected: (header: EntityFinderHeader) => boolean\n  isSelectable: (header: EntityFinderHeader) => boolean\n  toggleSelection: (entity: Reference | Reference[]) => void\n  setCurrentContainer?: Dispatch<SetStateAction<EntityTreeContainer>>\n}\n\nexport type EntityDetailsListProps = EntityDetailsListSharedProps & {\n  configuration: EntityDetailsListDataConfiguration\n}\n\nexport const EntityDetailsList: React.FunctionComponent<\n  EntityDetailsListProps\n> = ({ configuration, ...sharedProps }) => {\n  /**\n   * This component simply uses the data configuration prop to determine which configuration component\n   * to use. Each configuration component has its own logic to utilize different Synapse APIs.\n   * The configuration components also manage view props that are more tightly-coupled with data,\n   * such as pagination and sorting.\n   *\n   * In the future, if we wanted to reuse this in other contexts (e.g. not selecting entities), we should consider refactoring\n   * to support different 'Row' components, determining the correct one determined at this level.\n   */\n\n  const [component, setComponent] = useState(<></>)\n\n  useDeepCompareEffect(() => {\n    const getComponentFromConfiguration = (\n      config: EntityDetailsListDataConfiguration,\n    ) => {\n      switch (config.type) {\n        case EntityDetailsListDataConfigurationType.PARENT_CONTAINER:\n          return (\n            <EntityChildrenDetails\n              parentContainerId={config.parentContainerId!}\n              {...sharedProps}\n            />\n          )\n\n        case EntityDetailsListDataConfigurationType.HEADER_LIST:\n          return (\n            <DetailsView\n              entities={config.headerList as EntityFinderHeader[]}\n              isLoading={false}\n              hasNextPage={false}\n              {...sharedProps}\n              enableSelectAll={sharedProps.enableSelectAll}\n              selectAllIsChecked={getIsAllSelectedFromInfiniteList(\n                (config.headerList as EntityFinderHeader[]) ?? [],\n                sharedProps.selected.size,\n                sharedProps.isIdSelected,\n                sharedProps.isSelectable,\n              )}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.USER_FAVORITES:\n          return <FavoritesDetails {...sharedProps} />\n        case EntityDetailsListDataConfigurationType.ENTITY_SEARCH:\n          return <SearchDetails searchQuery={config.query!} {...sharedProps} />\n\n        case EntityDetailsListDataConfigurationType.USER_PROJECTS:\n          return (\n            <ProjectListDetails\n              projectsParams={config.getProjectParams!}\n              {...sharedProps}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.PROMPT:\n          return (\n            <DetailsView\n              entities={[]}\n              isLoading={false}\n              noResultsPlaceholder={\n                <div>\n                  Use the left panel to browse Synapse, then make a selection in\n                  this panel\n                </div>\n              }\n              {...sharedProps}\n              enableSelectAll={false}\n            />\n          )\n\n        default:\n          console.warn(\n            'The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ',\n            config,\n          )\n          return <></>\n      }\n    }\n    setComponent(getComponentFromConfiguration(configuration))\n  }, [configuration, sharedProps])\n\n  return <SynapseErrorBoundary>{component}</SynapseErrorBoundary>\n}\n","import { Clear } from '@mui/icons-material'\nimport React, { useEffect, useState } from 'react'\nimport useGetEntityBundle from '../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { Reference } from '../../utils/synapseTypes'\nimport { Typography } from '@mui/material'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\nimport { Map } from 'immutable'\nimport { Skeleton } from '@mui/material'\nimport { Tooltip } from '@mui/material'\nimport { TOOLTIP_DELAY_SHOW } from '../table/SynapseTableConstants'\n\nexport type SelectionPaneProps = {\n  title: string | ((count: number) => string)\n  selectedEntities: Map<string, number>\n  toggleSelection: (entity: Reference) => void\n}\n\nexport const SelectionPane: React.FC<SelectionPaneProps> = ({\n  title,\n  selectedEntities,\n  toggleSelection,\n}: SelectionPaneProps) => {\n  if (typeof title === 'function') {\n    title = title(selectedEntities.size)\n  }\n  return (\n    <div className=\"EntityFinderSelectionPane alert alert-warning\">\n      <Typography variant={'headline3'} display={'inline'}>\n        {title}\n      </Typography>\n      {selectedEntities.size <= 200 ? (\n        <div className={'EntityFinderSelectionPane__Items'}>\n          {Array.from(selectedEntities.keys()).map(id => {\n            const version = selectedEntities.get(id)\n            return (\n              <div\n                key={`${id}${\n                  version !== NO_VERSION_NUMBER ? `.${version}` : ''\n                }`}\n              >\n                <EntityPathDisplay\n                  entity={{\n                    targetId: id,\n                    targetVersionNumber:\n                      version !== NO_VERSION_NUMBER ? version : undefined,\n                  }}\n                  toggleSelection={toggleSelection}\n                ></EntityPathDisplay>\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <Typography variant=\"smallText1\">\n          Too many items to show here\n        </Typography>\n      )}\n    </div>\n  )\n}\n\nconst EntityPathDisplay: React.FunctionComponent<{\n  entity: Reference\n  toggleSelection: (entity: Reference) => void\n}> = ({ entity, toggleSelection }) => {\n  const { data: bundle } = useGetEntityBundle(\n    entity.targetId,\n    entity.targetVersionNumber,\n  )\n\n  const [entityName, setEntityName] = useState('')\n  const [fullPath, setFullPath] = useState('')\n  const [displayedPath, setDisplayedPath] = useState('')\n\n  useEffect(() => {\n    if (bundle?.path?.path) {\n      const header = bundle.path.path[bundle.path.path.length - 1]\n      setEntityName(header.name ?? header.id)\n      const path = bundle.path.path.slice(1, bundle.path.path.length - 1) // drop the first element, which is always syn4489 \"root\"\n      setFullPath(path.map(header => header.name).join('/'))\n      if (path.length < 4) {\n        // Show the full path from project to entity\n        setDisplayedPath(fullPath)\n      } else {\n        const projectName: string = path[0]!.name\n        // Truncate the path, showing only project, parent, and self\n        setDisplayedPath(\n          projectName + // Project\n            '/…/' +\n            path\n              .slice(path.length - 1) // drop everything except parent and self\n              .map(header => header.name)\n              .join('/'),\n        )\n      }\n    }\n  }, [bundle, fullPath])\n\n  return (\n    <div className=\"EntityFinderSelectionPane__Row\">\n      {bundle && (\n        <EntityTypeIcon className=\"EntityIcon\" type={bundle.entityType} />\n      )}\n      <Tooltip\n        title={`${fullPath}/${entityName}`}\n        enterNextDelay={TOOLTIP_DELAY_SHOW}\n        placement=\"top\"\n      >\n        <span>{displayedPath ? displayedPath + '/' : ''}</span>\n      </Tooltip>\n      {entityName ? (\n        <span className=\"EntityFinderSelectionPane__Row__EntityName\">\n          {entityName}\n        </span>\n      ) : (\n        <Skeleton width={500} />\n      )}\n      {entity.targetVersionNumber && (\n        <span> (Version {entity.targetVersionNumber})</span>\n      )}\n      <Clear\n        className=\"EntityFinderSelectionPane__Row__DeselectButton\"\n        onClick={() => {\n          toggleSelection(entity)\n        }}\n      />\n    </div>\n  )\n}\n","function mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nexport default mergeRefs;\n//# sourceMappingURL=react-merge-refs.esm.js.map\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport var noop = function noop() {};\nexport var identity = function identity(value) {\n  return value;\n};\nexport var createBasicRecord = function createBasicRecord(pub, parent) {\n  if (parent === void 0) {\n    parent = null;\n  }\n\n  return {\n    child: null,\n    isShown: parent ? parent.public.isOpen && parent.isShown : true,\n    parent: parent,\n    public: pub,\n    sibling: null,\n    visited: false\n  };\n};\nexport var getIdByIndex = function getIdByIndex(index, _ref) {\n  var getRecordData = _ref.getRecordData;\n\n  var _getRecordData = getRecordData(index),\n      id = _getRecordData.data.id;\n\n  return id;\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/* eslint-disable no-labels,max-depth,complexity */\nimport React, { createRef, PureComponent } from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { noop } from './utils';\n// eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/prefer-readonly-parameter-types\nexport var Row = function Row(_ref) {\n  var index = _ref.index,\n      _ref$data = _ref.data,\n      Node = _ref$data.component,\n      getRecordData = _ref$data.getRecordData,\n      treeData = _ref$data.treeData,\n      style = _ref.style,\n      isScrolling = _ref.isScrolling;\n  var data = getRecordData(index);\n  return /*#__PURE__*/React.createElement(Node, Object.assign({\n    isScrolling: isScrolling,\n    style: style,\n    treeData: treeData\n  }, data));\n};\n\n// If refresh is required, we will run the TreeWalker. It will completely\n// update all requests and reset every state to default.\nvar generateNewTree = function generateNewTree(_ref2, _ref3, state) {\n  var createRecord = _ref2.createRecord;\n  var buildingTaskTimeout = _ref3.buildingTaskTimeout,\n      placeholder = _ref3.placeholder,\n      _ref3$async = _ref3.async,\n      async = _ref3$async === void 0 ? false : _ref3$async,\n      treeWalker = _ref3.treeWalker;\n  var shouldPreservePreviousState = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  async && state.records !== undefined;\n  var previousRecords = state.records;\n  var order = [];\n  var records = new Map();\n  var requestIdleCallbackOptions = buildingTaskTimeout ? {\n    timeout: buildingTaskTimeout\n  } : undefined;\n  var meta = new WeakMap();\n  var iter = treeWalker();\n\n  var _iter$next = iter.next(),\n      root = _iter$next.value; // Each record has a link to a parent, the next sibling and the next child.\n  // Having this info, we can perform a depth-first traverse.\n\n\n  var rootRecord = createRecord(root.data, state, undefined, shouldPreservePreviousState ? previousRecords.get(root.data.id) : undefined);\n  records.set(rootRecord.public.data.id, rootRecord);\n  meta.set(rootRecord, root);\n  var currentRecord = rootRecord;\n  var isTraversingRoot = true;\n  var tempRecord = rootRecord;\n  var useIdleCallback = typeof 'requestIdleCallback' !== 'undefined' && placeholder !== undefined && // If placeholder is set to null and this is the first build, idle callback\n  // won't be used. It is necessary for trees with async data which can be\n  // extremely complex but the first build is quite easy. During the following\n  // idle callbacks the old tree will be shown.\n  !(placeholder === null && !state.order);\n  var hasTime = useIdleCallback ? function (deadline) {\n    return deadline.timeRemaining() > 0;\n  } : function () {\n    return true;\n  };\n\n  var task = function task(deadline) {\n    while (currentRecord !== null) {\n      if (!hasTime(deadline)) {\n        requestIdleCallback(task, requestIdleCallbackOptions);\n        return;\n      }\n\n      if (!currentRecord.visited) {\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        var _iter$next2 = iter.next(meta.get(currentRecord)),\n            child = _iter$next2.value; // When the generator returns the undefined value we consider that all\n        // children are already sent and we need to select the new parent\n        // element to get its children.\n\n\n        if (child === undefined) {\n          if (isTraversingRoot) {\n            isTraversingRoot = false;\n          } else {\n            if (currentRecord.isShown) {\n              order.push(currentRecord.public.data.id);\n            }\n\n            currentRecord.visited = currentRecord.child !== null;\n            currentRecord = currentRecord.child !== null ? currentRecord.child : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n          }\n\n          tempRecord = currentRecord;\n          continue;\n        }\n\n        var childRecord = createRecord(child.data, state, isTraversingRoot ? undefined : currentRecord, shouldPreservePreviousState ? previousRecords.get(child.data.id) : undefined);\n        records.set(childRecord.public.data.id, childRecord);\n        meta.set(childRecord, child);\n\n        if (!isTraversingRoot && tempRecord === currentRecord) {\n          tempRecord.child = childRecord;\n        } else {\n          tempRecord.sibling = childRecord;\n        }\n\n        tempRecord = childRecord;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n        tempRecord = currentRecord;\n      }\n    }\n\n    if (useIdleCallback) {\n      state.setState({\n        order: order,\n        records: records,\n        updateRequest: {}\n      });\n    }\n  };\n\n  if (useIdleCallback) {\n    requestIdleCallback(task, requestIdleCallbackOptions);\n  } else {\n    task();\n  } // If we want to preserve the previous state and use the requestIdleCallback,\n  // we need to return the old state.\n\n\n  return placeholder !== undefined && async && state.order ? state : {\n    order: order,\n    records: records\n  };\n};\n\nvar MAX_FUNCTION_ARGUMENTS = 32768;\nvar SPLICE_DEFAULT_ARGUMENTS_NUMBER = 2; // If we need to perform only the update, treeWalker won't be used. Update will\n// work internally, traversing only the subtree of elements that require\n// update through the opennessState option.\n\nvar updateExistingTree = function updateExistingTree(_ref4, _ref5) {\n  var order = _ref4.order,\n      records = _ref4.records;\n  var opennessState = _ref5.opennessState;\n\n  if (typeof opennessState !== 'object') {\n    return null;\n  }\n\n  for (var id in opennessState) {\n    if (!records.has(id)) {\n      continue;\n    }\n\n    var opts = opennessState[id];\n    var ownerRecord = records.get(id); // Here we unify the shape of openness state options\n\n    var _ref6 = typeof opts === 'boolean' ? {\n      open: opts\n    } : opts,\n        open = _ref6.open,\n        _ref6$subtreeCallback = _ref6.subtreeCallback,\n        subtreeCallback = _ref6$subtreeCallback === void 0 ? noop : _ref6$subtreeCallback;\n\n    var update = noop;\n    var apply = noop;\n\n    if (ownerRecord.isShown) {\n      if (open) {\n        (function () {\n          // If received rules require us to open the subtree, we have 2 cases:\n          // 1. The node is not opened yet. In this case we simply have to\n          // calculate and add new ids.\n          // 2. The node is opened already. In this case we have to remove all\n          // existing ids and replace them with new ids.\n          var index = order.indexOf(id); // Here we calculate a count of visible subtree nodes to remove from\n          // `order`. Then we will replace the gap with the updated list of\n          // subtree nodes.\n\n          var recordNextToSubtree = ownerRecord;\n\n          while (recordNextToSubtree !== null) {\n            if (recordNextToSubtree.sibling !== null) {\n              recordNextToSubtree = recordNextToSubtree.sibling;\n              break;\n            }\n\n            recordNextToSubtree = recordNextToSubtree.parent;\n          }\n\n          var countToRemove = recordNextToSubtree === null ? order.length - 1 - index : order.indexOf(recordNextToSubtree.public.data.id) - 1 - index;\n          var orderParts = [[index + 1, countToRemove]]; // Unfortunately, splice cannot work with big arrays. If array exceeds\n          // some length it may fire an exception. The length is specific for\n          // each engine; e.g., MDN says about 65536 for Webkit. So, to avoid this\n          // overflow, I split `order` parts to chunks by 32768 elements in each\n          // one. These chunks will be sent as arguments to the `splice` method.\n          //\n          // To avoid array concatenations which may cause Major GC, I set two\n          // first arguments as `splice`'s `start` and `deleteCount` arguments.\n\n          update = function update(record) {\n            // We have to consider only the newly shown elements that are not in\n            // the order list yet. We should do it AFTER the visibility update\n            // happens because otherwise we won't be able to distinguish if the\n            // element should be included in the order list.\n            // Update record visibility\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n\n            if (record.isShown) {\n              var currentOrderPart = orderParts[orderParts.length - 1];\n              currentOrderPart.push(record.public.data.id);\n\n              if (currentOrderPart.length === MAX_FUNCTION_ARGUMENTS + SPLICE_DEFAULT_ARGUMENTS_NUMBER) {\n                orderParts.push([index + 1 + MAX_FUNCTION_ARGUMENTS * orderParts.length, 0]);\n              }\n            }\n          };\n\n          apply = function apply() {\n            for (var i = 0; i < orderParts.length; i++) {\n              var _ref7;\n\n              // @ts-expect-error: too generic for TS\n              (_ref7 = order).splice.apply(_ref7, orderParts[i]);\n            }\n          };\n        })();\n      } else if (ownerRecord.public.isOpen) {\n        (function () {\n          // If received rules require us to close the subtree, we have to remove\n          // all subtree ids from the order list.\n          var index = order.indexOf(id);\n          var count = 0;\n\n          update = function update(record) {\n            // We have to consider only currently visible subtree nodes BEFORE\n            // their visibility is updated. Otherwise we will have incorrect\n            // number of items to remove: we cannot remove elements that are not\n            // in the order list.\n            //\n            // If we do it after the visibility update, we will be unable to\n            // understand if the element is still in the order list.\n            if (record.isShown) {\n              count += 1;\n            } // Update record visibility\n\n\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n          };\n\n          apply = function apply() {\n            // Remove data after element with index\n            order.splice(index + 1, count);\n          };\n        })();\n      }\n    }\n\n    var currentRecord = ownerRecord;\n\n    while (currentRecord !== null) {\n      if (!currentRecord.visited) {\n        currentRecord.public.isOpen = currentRecord === ownerRecord ? open : currentRecord.public.isOpen;\n        subtreeCallback(currentRecord.public, ownerRecord.public);\n\n        if (currentRecord !== ownerRecord) {\n          update(currentRecord);\n        }\n\n        currentRecord.visited = currentRecord.child !== null; // This algorithm is a bit different from the visit algorithm in the\n        // tree generator. We are restricted with the bounds of a subtree and\n        // shouldn't go over it. So we cannot search for the ownerRecord's\n        // parent or sibling because it will lead us out of the subtree.\n\n        currentRecord = // Look for child in any case\n        currentRecord.child !== null ? currentRecord.child : // Stop looking for next element if currentRecord is root.\n        currentRecord === ownerRecord ? null : // Otherwise, look for sibling or parent\n        currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord === ownerRecord ? null : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      }\n    }\n\n    apply();\n  }\n\n  return {\n    order: order,\n    records: records,\n    updateRequest: {}\n  };\n};\n\nexport var createTreeComputer = function createTreeComputer(creatorOptions) {\n  return function (props, state, options) {\n    return options.refresh ? generateNewTree(creatorOptions, props, state) : updateExistingTree(state, options);\n  };\n};\n\nvar Tree = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(Tree, _PureComponent);\n\n  Tree.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    var _props$listRef = props.listRef,\n        listRef = _props$listRef === void 0 ? null : _props$listRef,\n        treeWalker = props.treeWalker;\n    var computeTree = state.computeTree,\n        list = state.list,\n        order = state.order,\n        oldTreeWalker = state.treeWalker;\n    return _extends({\n      attachRefs: mergeRefs([list, listRef])\n    }, treeWalker !== oldTreeWalker || !order ? computeTree(props, state, {\n      refresh: true\n    }) : null, {\n      treeWalker: treeWalker\n    });\n  };\n\n  function Tree(props, context) {\n    var _this;\n\n    _this = _PureComponent.call(this, props, context) || this;\n    _this.getRecordData = _this.getRecordData.bind(_assertThisInitialized(_this));\n    /* eslint-disable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    _this.state = {\n      list: /*#__PURE__*/createRef(),\n      recomputeTree: _this.recomputeTree.bind(_assertThisInitialized(_this)),\n      setState: _this.setState.bind(_assertThisInitialized(_this))\n    };\n    /* eslint-enable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    return _this;\n  }\n\n  var _proto = Tree.prototype;\n\n  _proto.getItemData = function getItemData() {\n    var _this$props = this.props,\n        component = _this$props.children,\n        treeData = _this$props.itemData;\n    return {\n      component: component,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      getRecordData: this.getRecordData,\n      treeData: treeData\n    };\n  };\n\n  _proto.getRecordData = function getRecordData(index) {\n    var _this$state = this.state,\n        order = _this$state.order,\n        records = _this$state.records;\n    return records.get(order[index]).public;\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return new Promise(function (resolve) {\n      _this2.setState(function (prevState) {\n        return prevState.computeTree(_this2.props, prevState, {\n          opennessState: state\n        });\n      }, resolve);\n    });\n  };\n\n  _proto.scrollTo = function scrollTo(scrollOffset) {\n    var _this$state$list$curr;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr = this.state.list.current) == null ? void 0 : _this$state$list$curr.scrollTo(scrollOffset);\n  };\n\n  _proto.scrollToItem = function scrollToItem(id, align) {\n    var _this$state$list$curr2;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr2 = this.state.list.current) == null ? void 0 : _this$state$list$curr2.scrollToItem(this.state.order.indexOf(id), align);\n  };\n\n  return Tree;\n}(PureComponent);\n\nTree.defaultProps = {\n  rowComponent: Row\n};\nexport default Tree;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport { VariableSizeList } from 'react-window';\nimport Tree, { createTreeComputer } from './Tree';\nimport { createBasicRecord, getIdByIndex } from './utils';\nvar computeTree = createTreeComputer({\n  createRecord: function createRecord(data, _ref, parent, previousRecord) {\n    var recomputeTree = _ref.recomputeTree,\n        resetAfterId = _ref.resetAfterId;\n    var record = createBasicRecord({\n      data: data,\n      height: previousRecord ? previousRecord.public.height : data.defaultHeight,\n      isOpen: previousRecord ? previousRecord.public.isOpen : data.isOpenByDefault,\n      resize: function resize(height, shouldForceUpdate) {\n        record.public.height = height;\n        resetAfterId(record.public.data.id, shouldForceUpdate);\n      },\n      setOpen: function setOpen(state) {\n        var _recomputeTree;\n\n        return recomputeTree((_recomputeTree = {}, _recomputeTree[data.id] = state, _recomputeTree));\n      }\n    }, parent);\n    return record;\n  }\n});\nexport var VariableSizeTree = /*#__PURE__*/function (_Tree) {\n  _inheritsLoose(VariableSizeTree, _Tree);\n\n  function VariableSizeTree(props, context) {\n    var _this;\n\n    _this = _Tree.call(this, props, context) || this;\n    _this.getItemSize = _this.getItemSize.bind(_assertThisInitialized(_this));\n    _this.state = _extends({}, _this.state, {\n      computeTree: computeTree,\n      resetAfterId: _this.resetAfterId.bind(_assertThisInitialized(_this))\n    });\n    return _this;\n  }\n\n  var _proto = VariableSizeTree.prototype;\n\n  _proto.resetAfterId = function resetAfterId(id, shouldForceUpdate) {\n    var _list$current;\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = false;\n    }\n\n    var _this$state = this.state,\n        list = _this$state.list,\n        order = _this$state.order;\n    (_list$current = list.current) == null ? void 0 : _list$current.resetAfterIndex(order.indexOf(id), shouldForceUpdate);\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return _Tree.prototype.recomputeTree.call(this, state).then(function () {\n      var _this2$state$list$cur;\n\n      (_this2$state$list$cur = _this2.state.list.current) == null ? void 0 : _this2$state$list$cur.resetAfterIndex(0, true);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        placeholder = _this$props.placeholder,\n        itemSize = _this$props.itemSize,\n        rowComponent = _this$props.rowComponent,\n        treeWalker = _this$props.treeWalker,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"placeholder\", \"itemSize\", \"rowComponent\", \"treeWalker\"]);\n\n    var _this$state2 = this.state,\n        attachRefs = _this$state2.attachRefs,\n        order = _this$state2.order;\n    return placeholder && order.length === 0 ? placeholder : /*#__PURE__*/React.createElement(VariableSizeList, Object.assign({}, rest, {\n      itemCount: order.length,\n      itemData: this.getItemData() // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemKey: getIdByIndex // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemSize: itemSize != null ? itemSize : this.getItemSize // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      ref: attachRefs\n    }), rowComponent);\n  };\n\n  _proto.getItemSize = function getItemSize(index) {\n    return this.getRecordData(index).height;\n  };\n\n  return VariableSizeTree;\n}(Tree);","import { Skeleton } from '@mui/material'\nimport { Map } from 'immutable'\nimport { cloneDeep } from 'lodash-es'\nimport dayjs from 'dayjs'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport {\n  TreeWalker,\n  TreeWalkerValue,\n  VariableSizeNodeData,\n  VariableSizeNodePublicState,\n  VariableSizeTree,\n} from 'react-vtree'\nimport { NodeComponentProps } from 'react-vtree/dist/es/Tree'\nimport { SynapseClient } from '../../../utils'\nimport { formatDate } from '../../../utils/functions/DateFormatter'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n} from '../../../utils/functions/EntityTypeUtils'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { EntityType } from '../../../utils/synapseTypes'\nimport { Tooltip } from '@mui/material'\nimport { Writable } from '../../../utils/types/Writable'\nimport { Typography } from '@mui/material'\nimport { EntityBadgeIcons } from '../../EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../EntityIcon'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { UserCard } from '../../UserCard'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\n\nexport enum EntityTreeNodeType {\n  /** The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection */\n  SINGLE_PANE,\n  /** The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection */\n  DUAL_PANE,\n}\n\ntype NodeChildren = Readonly<{\n  /** The node's children. If undefined, then children have not been fetched. */\n  children?: EntityHeaderNode[]\n  /** The token used to fetch the next page of children for this entity. If this property is nullish and children is defined, then all children have been fetched. */\n  childrenNextPageToken?: string | null\n}>\n\ntype EntityHeaderNode = (\n  | EntityFinderHeader\n  // Only will have a subset of fields if the node is fetched via the entity path:\n  | Pick<EntityFinderHeader, 'id' | 'name' | 'type'>\n) &\n  NodeChildren\ntype PaginationNode = { __paginationNode: true }\n\ntype TreeNode = EntityHeaderNode | RootNodeConfiguration | PaginationNode\n\nfunction getTreeNodeType(\n  node: TreeNode,\n): 'entityHeader' | 'rootNodeConfiguration' | 'pagination' {\n  if ('__paginationNode' in node) {\n    return 'pagination'\n  }\n  return 'id' in node ? 'entityHeader' : 'rootNodeConfiguration'\n}\n\nfunction isPaginationNode(node: TreeNode): node is PaginationNode {\n  return getTreeNodeType(node) === 'pagination'\n}\n\nfunction isEntityHeaderNode(node: TreeNode): node is EntityHeaderNode {\n  return getTreeNodeType(node) === 'entityHeader'\n}\n\nfunction isRootNodeConfiguration(\n  node: TreeNode,\n): node is RootNodeConfiguration {\n  return getTreeNodeType(node) === 'rootNodeConfiguration'\n}\n\nfunction hasMoreChildren(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return node.hasNextPage\n  }\n\n  return node.children == null || node.childrenNextPageToken != null\n}\n\nfunction isLeafNode(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return false\n  } else {\n    return (\n      // Entity is not a container\n      !isContainerType(getEntityTypeFromHeader(node)) ||\n      // OR Children have been fetched (nonnull) and there are 0 children\n      (node.children != null && node.children.length === 0)\n    )\n  }\n}\n\nexport type TreeData = VariableSizeNodeData &\n  Readonly<{\n    node: TreeNode\n    getNextPageOfChildren: () => Promise<void>\n    isLeaf: boolean\n    nestingLevel: number\n    setSelectedId: (entityId: string) => void\n    treeNodeType: EntityTreeNodeType\n    isSelected: boolean\n    isDisabled: boolean\n  }>\n\ntype NodeMeta = Readonly<{\n  nestingLevel: number\n  node: TreeNode\n}>\n\nexport type RootNodeConfiguration = {\n  show: boolean\n  nodeText: string\n  children: EntityHeaderNode[]\n  /** If undefined, no more entities to fetch */\n  fetchNextPage: () => Promise<void>\n  hasNextPage: boolean\n}\n\n/**\n * Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.\n * Exported for testing purposes only.\n * @param config\n * @returns\n */\nexport const getNodeData = (config: {\n  node: TreeNode\n  nestingLevel: number\n  getNextPageOfChildren: () => Promise<void>\n  setSelectedId: (entityId: string) => void\n  treeNodeType: EntityTreeNodeType\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  autoExpand: (entityId: string) => boolean\n  defaultHeight: number\n  currentContainer?: string | 'root' | null\n}): TreeWalkerValue<TreeData, NodeMeta> => {\n  const {\n    node,\n    nestingLevel,\n    getNextPageOfChildren,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    selectableTypes,\n    autoExpand,\n    defaultHeight,\n    currentContainer,\n  } = config\n\n  if (isPaginationNode(node)) {\n    throw new Error('Cannot create data for a pagination node')\n  }\n\n  const id = isRootNodeConfiguration(node) ? 'root' : node.id\n\n  const isSelected =\n    treeNodeType === EntityTreeNodeType.SINGLE_PANE\n      ? selected.has(id)\n      : currentContainer === id\n  const isDisabled =\n    !isRootNodeConfiguration(node) &&\n    !selectableTypes.includes(getEntityTypeFromHeader(node))\n\n  const isOpenByDefault = autoExpand(id)\n  /*\n   * If the node is open by default and we haven't fetched its children,\n   * fetch the first page (otherwise we won't fetch unless re-toggled)\n   */\n  if (isOpenByDefault && node.children == null && hasMoreChildren(node)) {\n    getNextPageOfChildren()\n  }\n\n  return {\n    data: {\n      node,\n      getNextPageOfChildren,\n      id: id,\n      isLeaf: isLeafNode(node),\n      isOpenByDefault: isOpenByDefault,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n      defaultHeight,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\n/**\n * Node component for the react-vtree virtualized tree. Exported only for testing purposes\n */\nexport function Node(\n  props: NodeComponentProps<TreeData, VariableSizeNodePublicState<TreeData>>,\n) {\n  const {\n    data: {\n      node,\n      getNextPageOfChildren,\n      isLeaf,\n      id,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n    },\n    isOpen,\n    style,\n    setOpen,\n  } = props\n\n  const [isLoading, setLoading] = useState(false)\n\n  const nodeText = isEntityHeaderNode(node) ? (\n    <span>{node.name}</span>\n  ) : isRootNodeConfiguration(node) ? (\n    <span>{node.nodeText}</span>\n  ) : (\n    // Pagination node\n    <Skeleton width={100} />\n  )\n\n  // We only use this for pagination nodes. If the pagination node comes into view, then immediately call `getNextPageOfChildren`\n  const { ref, inView } = useInView()\n  useEffect(() => {\n    if (isPaginationNode(node) && inView) {\n      getNextPageOfChildren()\n    }\n  }, [node, inView, getNextPageOfChildren])\n\n  const toggleExpand = useCallback(async () => {\n    if (hasMoreChildren(node)) {\n      setLoading(true)\n      await getNextPageOfChildren()\n      await setOpen(!isOpen)\n      setLoading(false)\n    } else {\n      await setOpen(!isOpen)\n    }\n  }, [getNextPageOfChildren, node, isOpen, setOpen])\n\n  /**\n   * If in the dual-pane view, expand a node when it becomes selected\n   */\n  useEffect(() => {\n    if (\n      treeNodeType === EntityTreeNodeType.DUAL_PANE &&\n      isSelected &&\n      !isOpen\n    ) {\n      toggleExpand()\n    }\n    // Intentionally only toggle the expanded state when isSelected changes, otherwise the node cannot be un-expanded\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSelected])\n\n  /**\n   * If the height is 0, the node is purposefully hidden. Just render a fragment.\n   */\n  if ('height' in style && style.height === 0) {\n    return <></>\n  }\n\n  let tooltipContent: React.ReactNode = ''\n  if (isEntityHeaderNode(node)) {\n    tooltipContent = (\n      <div style={{ textAlign: 'center' }}>\n        <Typography display=\"inline\" component=\"span\" variant=\"smallText1\">\n          {node.name}\n          <br />\n          <b>ID: </b>\n          {node.id}\n          {'modifiedBy' in node && (\n            <>\n              <br />\n              <b>Modified By: </b>\n              <UserCard\n                showFullName\n                disableLink\n                showCardOnHover={false}\n                size=\"SMALL USER CARD\"\n                ownerId={node.modifiedBy.toString()}\n              />\n            </>\n          )}\n          {'modifiedOn' in node && (\n            <>\n              <br />\n              <b>Modified On: </b>\n              {formatDate(dayjs(node.modifiedOn))}\n            </>\n          )}\n        </Typography>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className={`Node ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectNode'\n          : 'BrowseNode'\n      }`}\n      aria-selected={isSelected}\n      aria-disabled={isDisabled}\n      onClick={event => {\n        event.stopPropagation()\n        if (!isDisabled) {\n          setSelectedId(id)\n        }\n      }}\n      style={{\n        ...style,\n        paddingLeft: `${20 + nestingLevel * 20}px`,\n      }}\n    >\n      {!isLeaf && (\n        <button\n          className=\"ExpandButton\"\n          type=\"button\"\n          onClick={event => {\n            event.stopPropagation()\n            toggleExpand()\n          }}\n        >\n          {isLoading ? <SynapseSpinner size={10} /> : isOpen ? '▾' : '▸'}\n        </button>\n      )}\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && ( // SWC-5592\n        <div className=\"EntityIcon\">\n          {isEntityHeaderNode(node) && (\n            <EntityTypeIcon type={getEntityTypeFromHeader(node)} />\n          )}\n        </div>\n      )}\n\n      <div className=\"EntityName\" ref={ref}>\n        <Tooltip title={tooltipContent} placement=\"right\">\n          {nodeText}\n        </Tooltip>\n      </div>\n\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && (\n        <EntityBadgeIcons\n          entityId={id}\n          showHasDiscussionThread={false}\n          showHasWiki={false}\n          showUnlink={false}\n          canOpenModal={false}\n          renderTooltipComponent={true}\n        />\n      )}\n    </div>\n  )\n}\n\n/**\n * Extracted from the React component for testing purposes\n * @returns a generator function compatible with react-vtree\n */\nexport function getTreeWalkerFunction(\n  rootNode: RootNodeConfiguration,\n  setSelectedId: VirtualizedTreeProps['setSelectedId'],\n  treeNodeType: VirtualizedTreeProps['treeNodeType'],\n  selected: VirtualizedTreeProps['selected'],\n  selectableTypes: VirtualizedTreeProps['selectableTypes'],\n  autoExpand: VirtualizedTreeProps['autoExpand'],\n  itemSize: (index?: number) => number,\n  currentContainer: VirtualizedTreeProps['currentContainer'],\n  fetchNextPageOfChildren: (node: Writable<EntityHeaderNode>) => Promise<void>,\n): TreeWalker<TreeData, NodeMeta> {\n  return function* treeWalker() {\n    // Step [1]: Define the root node of our tree.\n    yield getNodeData({\n      node: rootNode,\n      nestingLevel: 0,\n      getNextPageOfChildren: rootNode.fetchNextPage,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      defaultHeight: itemSize(),\n      currentContainer,\n    })\n\n    while (true) {\n      // Step [2]: Get the parent node and nesting level, which will be passed into the Generator.next function by react-vtree.\n      // Yielding `undefined` indicates to react-vtree that we've finished iterating children from the last time we were in the loop.\n      const parentMeta = yield\n\n      if (\n        !isPaginationNode(parentMeta.node) &&\n        (parentMeta.node.children || hasMoreChildren(parentMeta.node))\n      ) {\n        for (let i = 0; i < (parentMeta.node.children ?? []).length; i++) {\n          // Step [3]: Yielding all the children of the parent\n          const childNode = parentMeta.node.children![i]\n\n          yield getNodeData({\n            node: childNode,\n            nestingLevel: parentMeta.nestingLevel + 1,\n            getNextPageOfChildren: () => fetchNextPageOfChildren(childNode),\n            setSelectedId,\n            treeNodeType,\n            selected,\n            selectableTypes,\n            autoExpand,\n            defaultHeight: itemSize(),\n            currentContainer,\n          })\n        }\n\n        // Step [4] - If the parent node has more children, render a \"pagination node\" that will fetch more children when it comes into view (via intersection observer)\n        if (\n          parentMeta.node.children != null &&\n          hasMoreChildren(parentMeta.node)\n        ) {\n          const paginationNode: PaginationNode = {\n            __paginationNode: true,\n          }\n          const paginationTreeWalkerValue: TreeWalkerValue<TreeData, NodeMeta> =\n            {\n              data: {\n                id: parentMeta.data.id + '-pagination',\n                node: paginationNode,\n                isOpenByDefault: false,\n                getNextPageOfChildren: parentMeta.data.getNextPageOfChildren,\n                isLeaf: true,\n                isSelected: false,\n                defaultHeight: itemSize(),\n                isDisabled: true,\n                nestingLevel: parentMeta.nestingLevel + 1,\n                setSelectedId: () => {},\n                treeNodeType,\n              },\n              nestingLevel: parentMeta.nestingLevel + 1,\n              node: {\n                __paginationNode: true,\n              },\n            }\n          yield paginationTreeWalkerValue\n        }\n      }\n    }\n  }\n}\n\nexport type VirtualizedTreeProps = Readonly<{\n  treeNodeType: EntityTreeNodeType\n  rootNodeConfiguration: RootNodeConfiguration\n  setSelectedId: (entityId: string) => void\n  selected: Map<string, number>\n  /* currentContainer is the container whose contents are shown on in the right pane in dual-pane configuration, and may only be defined when treeNodeType is DUAL_PANE */\n  currentContainer?: string | 'root' | null\n  autoExpand: (entityId: string) => boolean\n  selectableTypes: EntityType[]\n  visibleTypes: EntityType[]\n}>\n\n/**\n * Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window\n * to only render visible nodes, which eliminates performance issues as seen in SWC-5978.\n */\nexport const VirtualizedTree = (props: VirtualizedTreeProps) => {\n  const {\n    rootNodeConfiguration,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    currentContainer,\n    selectableTypes,\n    visibleTypes,\n    autoExpand,\n  } = props\n\n  const { accessToken } = useSynapseContext()\n\n  const [rootNode, setRootNode] = useState<RootNodeConfiguration>(\n    rootNodeConfiguration,\n  )\n\n  useEffect(() => {\n    setRootNode(rootNodeConfiguration)\n  }, [rootNodeConfiguration, rootNodeConfiguration.children])\n\n  // This function is used by VariableSizeTree to identify the size of each node in the tree.\n  const itemSize = useCallback(\n    (index?: number) => {\n      /**\n       * We must have a root node, but we don't always want to show it.\n       * In those cases, set the height of the root node to 0.\n       */\n      if (index === 0 && !rootNodeConfiguration.show) {\n        return 0\n      }\n      /**\n       * The height of all other nodes in the tree varies depending on the tree node type.\n       */\n      return treeNodeType === EntityTreeNodeType.DUAL_PANE ? 30 : 60\n    },\n    [treeNodeType, rootNodeConfiguration.show],\n  )\n\n  /**\n   * Fetches the next page of children for a given node. After fetching the children, this method will make a deep clone of the\n   *  full tree, including the new data, and updates the state of the component\n   */\n  const fetchNextPageOfChildren = useCallback(\n    // Because we update the root node with a copy at the end of this function, we can write to the node under update.\n    async (node: Writable<EntityHeaderNode>) => {\n      // Fetch the children of the node\n      const children = await SynapseClient.getEntityChildren(\n        {\n          parentId: node.id,\n          nextPageToken: node.childrenNextPageToken,\n          includeTypes: visibleTypes,\n        },\n        accessToken,\n      )\n\n      // Update the node data -- add the children and store the nextPageToken\n      if (node.children) {\n        node.children.push(...children.page)\n      } else {\n        node.children = children.page\n      }\n      node.childrenNextPageToken = children.nextPageToken\n\n      // cloneDeep is required to re-render the tree with the new children\n      setRootNode(cloneDeep(rootNode))\n    },\n    [rootNode, accessToken, visibleTypes],\n  )\n\n  /**\n   * treeWalker is a generator function used by react-vtree to generate the tree structure. The tree is re-built when the function is updated,\n   * so the dependencies specified in useCallback are important.\n   */\n  const memoizedTreeWalker = useCallback(\n    getTreeWalkerFunction(\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      itemSize,\n      currentContainer,\n      fetchNextPageOfChildren,\n    ),\n    [\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      currentContainer,\n      fetchNextPageOfChildren,\n      itemSize,\n    ],\n  )\n\n  return (\n    <AutoSizer disableWidth>\n      {({ height }: { height: number }) => (\n        <VariableSizeTree\n          treeWalker={memoizedTreeWalker}\n          itemSize={itemSize}\n          height={height}\n          async={true}\n          width=\"100%\"\n        >\n          {Node}\n        </VariableSizeTree>\n      )}\n    </AutoSizer>\n  )\n}\n","import { Map } from 'immutable'\nimport React, {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { convertToEntityType } from '../../../utils/functions/EntityTypeUtils'\nimport { SYNAPSE_ENTITY_ID_REGEX } from '../../../utils/functions/RegularExpressions'\nimport useGetEntityBundle from '../../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport {\n  useGetEntityHeader,\n  useGetEntityPath,\n  useGetFavorites,\n  useGetProjectsInfinite,\n} from '../../../utils/hooks/SynapseAPI'\nimport { ALL_ENTITY_BUNDLE_FIELDS } from '../../../utils/SynapseConstants'\nimport { EntityPath, EntityType, Reference } from '../../../utils/synapseTypes'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { BreadcrumbItem } from '../Breadcrumbs'\nimport { toEntityHeader } from '../details/configurations/ProjectListDetails'\nimport {\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from '../details/EntityDetailsList'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport {\n  EntityTreeNodeType,\n  RootNodeConfiguration,\n  VirtualizedTree,\n} from './VirtualizedTree'\nimport { displayToast } from '../../ToastMessage'\n\nconst isEntityIdInPath = (entityId: string, path: EntityPath): boolean => {\n  for (const eh of path.path) {\n    if (entityId === eh.id) {\n      return true\n    }\n  }\n  return false\n}\n\nexport enum FinderScope {\n  CURRENT_PROJECT = 'Current Project',\n  ALL_PROJECTS = 'All Projects',\n  CREATED_BY_ME = 'Projects Created By Me',\n  FAVORITES = 'My Favorites',\n}\n\nfunction getScopeOptionDefaultContainer(\n  scope: FinderScope,\n): EntityTreeContainer {\n  switch (scope) {\n    case FinderScope.FAVORITES:\n      return 'root'\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return null\n  }\n}\n\nfunction getScopeOptionNodeName(scope: FinderScope): string {\n  switch (scope) {\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return 'Projects'\n    case FinderScope.FAVORITES:\n      return 'Favorites'\n  }\n}\n\n/**\n * Indicates which container is selected when the tree is used to control another component. If 'root', then the top-level entities\n * should be shown in the other component. If a synID, then that entity's children should be shown in the other component. If null,\n * then a selection has not been made.\n */\nexport type EntityTreeContainer = string | 'root' | null\n\n// if the first item is selected (matching the dropdown), then output a configuration. otherwise, output a synId\nexport type EntityTreeProps = {\n  initialScope?: FinderScope\n  /** To show the current project, projectId must be defined */\n  projectId?: string\n  initialContainer: EntityTreeContainer\n  currentContainer: EntityTreeContainer\n  setCurrentContainer: Dispatch<SetStateAction<EntityTreeContainer>>\n  showDropdown: boolean\n  selectedEntities: Map<string, number>\n  visibleTypes?: EntityType[]\n  toggleSelection?: (entity: Reference) => void\n  setDetailsViewConfiguration?: (\n    configuration: EntityDetailsListDataConfiguration,\n  ) => void\n  setBreadcrumbItems?: (items: BreadcrumbItem[]) => void\n  /** Determines whether to show the root node corresponding to the selected scope */\n  showScopeAsRootNode?: boolean\n  treeNodeType: EntityTreeNodeType\n  /** The entity types that may be selected. */\n  selectableTypes: EntityType[]\n}\n\n/**\n * The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n *\n * The tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.\n */\nexport function EntityTree(props: EntityTreeProps) {\n  const {\n    initialScope = FinderScope.CURRENT_PROJECT,\n    projectId,\n    initialContainer = null,\n    currentContainer,\n    setCurrentContainer,\n    visibleTypes = [EntityType.PROJECT, EntityType.FOLDER],\n    toggleSelection,\n    selectedEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    showScopeAsRootNode = true,\n    treeNodeType,\n    selectableTypes,\n  } = props\n\n  const DEFAULT_CONFIGURATION: EntityDetailsListDataConfiguration = {\n    type: EntityDetailsListDataConfigurationType.PROMPT,\n  }\n\n  const [scope, setScope] = useState(initialScope)\n\n  useEffect(() => {\n    if (setDetailsViewConfiguration) {\n      setDetailsViewConfiguration(DEFAULT_CONFIGURATION)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const setSelectedId = useCallback(\n    (entityId: string) => {\n      if (toggleSelection) {\n        toggleSelection({ targetId: entityId })\n      }\n      setCurrentContainer(entityId)\n    },\n    [setCurrentContainer, toggleSelection],\n  )\n\n  // For these scopes, use the `useGetProjectsInfinite` hook\n  const useProjectData =\n    scope === FinderScope.ALL_PROJECTS || scope === FinderScope.CREATED_BY_ME\n\n  const {\n    data: projectData,\n    fetchNextPage: fetchNextPageProjects,\n    hasNextPage: hasNextPageProjects,\n    isLoading: isLoadingProjects,\n  } = useGetProjectsInfinite(\n    scope === FinderScope.CREATED_BY_ME\n      ? { filter: 'CREATED', sort: 'PROJECT_NAME', sortDirection: 'ASC' }\n      : { sort: 'PROJECT_NAME', sortDirection: 'ASC' },\n    {\n      enabled: useProjectData,\n      // Don't refetch the projects. Updating the entity headers will drop all the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n    },\n  )\n\n  const { data: currentContainerBundle, isSuccess: isSuccessBundle } =\n    useGetEntityBundle(currentContainer!, undefined, ALL_ENTITY_BUNDLE_FIELDS, {\n      enabled: !!currentContainer && currentContainer !== 'root',\n      useErrorBoundary: true,\n    })\n\n  const { data: favorites, isLoading: isLoadingFavorites } = useGetFavorites(\n    'NAME',\n    'ASC',\n    {\n      select: data => ({\n        // TODO: https://sagebionetworks.jira.com/browse/PLFM-6652\n        ...data,\n        results: data.results.filter(eh =>\n          visibleTypes.includes(convertToEntityType(eh.type)),\n        ),\n      }),\n      // Don't refetch the projects. Updating the entity headers will drop all the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n      useErrorBoundary: true,\n    },\n  )\n\n  const { data: initialContainerPath } = useGetEntityPath(initialContainer!, {\n    enabled: !!(\n      projectId &&\n      initialContainer &&\n      initialContainer.match(SYNAPSE_ENTITY_ID_REGEX)\n    ),\n    refetchInterval: Infinity,\n    useErrorBoundary: true,\n  })\n\n  const {\n    data: projectHeader,\n    isLoading: isLoadingProjectHeader,\n    error: fetchProjectError,\n  } = useGetEntityHeader(projectId!, {\n    enabled: !!(projectId ?? initialContainerPath?.path[1]?.id),\n    refetchInterval: Infinity,\n  })\n\n  if (\n    FinderScope.CURRENT_PROJECT === scope &&\n    projectId &&\n    fetchProjectError &&\n    fetchProjectError.status === 403\n  ) {\n    // The user doesn't have access to the project, so let's change the scope to something else\n    displayToast(\n      `You don't have access to the current project (${projectId}).`,\n      'warning',\n    )\n    setScope(FinderScope.CREATED_BY_ME)\n  }\n\n  // Populates the first level of entities in the tree view\n  const {\n    topLevelEntities,\n    isLoading,\n  }: {\n    topLevelEntities: Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[]\n    isLoading: boolean\n  } = useMemo(() => {\n    let topLevelEntities: Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[] =\n      []\n    let isLoading: boolean = false\n    switch (scope) {\n      case FinderScope.ALL_PROJECTS:\n      case FinderScope.CREATED_BY_ME:\n        if (projectData) {\n          topLevelEntities = projectData.pages\n            .flatMap(page => page.results)\n            .map(toEntityHeader)\n        }\n        isLoading = isLoadingProjects\n        break\n      case FinderScope.FAVORITES: {\n        topLevelEntities = favorites?.results ?? []\n        isLoading = isLoadingFavorites\n        break\n      }\n      case FinderScope.CURRENT_PROJECT:\n        if (projectHeader) {\n          // use projectHeader as topLevelEntities\n          topLevelEntities = [projectHeader]\n          isLoading = isLoadingProjectHeader\n        }\n        break\n      default:\n        throw new Error('No scope selected')\n    }\n    return { topLevelEntities, isLoading }\n  }, [\n    favorites?.results,\n    isLoadingFavorites,\n    isLoadingProjectHeader,\n    isLoadingProjects,\n    projectData,\n    projectHeader,\n    scope,\n  ])\n\n  // Creates the configuration for the details view and invokes the callback\n  useEffect(() => {\n    if (setDetailsViewConfiguration || setBreadcrumbItems) {\n      let detailsViewConfig: EntityDetailsListDataConfiguration\n      let breadcrumbItems: BreadcrumbItem[] = []\n      if (currentContainer === null) {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PROMPT,\n        }\n        breadcrumbItems = []\n      } else if (currentContainer === 'root') {\n        switch (scope) {\n          case FinderScope.ALL_PROJECTS:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n            }\n            break\n          case FinderScope.CREATED_BY_ME:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n              getProjectParams: {\n                filter: 'CREATED',\n              },\n            }\n            break\n          case FinderScope.CURRENT_PROJECT:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n              headerList: topLevelEntities,\n            }\n            break\n          case FinderScope.FAVORITES:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_FAVORITES,\n            }\n            break\n        }\n        breadcrumbItems = [\n          {\n            name: scope,\n            isCurrent: true,\n            action: () => {\n              setCurrentContainer('root')\n            },\n          },\n        ]\n      } else {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PARENT_CONTAINER,\n          parentContainerId: currentContainer,\n        }\n        if (currentContainerBundle) {\n          breadcrumbItems = [\n            {\n              name: scope,\n              isCurrent: false,\n              action: () => {\n                setCurrentContainer('root')\n              },\n            },\n            ...currentContainerBundle.path.path\n              .slice(1) // Remove the root entity, syn4489\n              .map(entity => {\n                return {\n                  name: entity.name ?? entity.id,\n                  isCurrent: entity.id === currentContainer,\n                  action: () => {\n                    setCurrentContainer(entity.id)\n                  },\n                }\n              }),\n          ]\n        }\n      }\n      if (setDetailsViewConfiguration) {\n        setDetailsViewConfiguration(detailsViewConfig)\n      }\n      if (setBreadcrumbItems) {\n        setBreadcrumbItems(breadcrumbItems)\n      }\n    }\n  }, [\n    scope,\n    currentContainer,\n    topLevelEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    currentContainerBundle,\n    isSuccessBundle,\n    setCurrentContainer,\n  ])\n\n  const rootNodeConfiguration: RootNodeConfiguration = useMemo(\n    () => ({\n      show: showScopeAsRootNode,\n      nodeText: getScopeOptionNodeName(scope),\n      children: topLevelEntities,\n      fetchNextPage: async () => {\n        await fetchNextPageProjects()\n      },\n      hasNextPage: useProjectData && hasNextPageProjects! && !isLoadingProjects,\n    }),\n    [\n      showScopeAsRootNode,\n      scope,\n      topLevelEntities,\n      useProjectData,\n      hasNextPageProjects,\n      isLoadingProjects,\n      fetchNextPageProjects,\n    ],\n  )\n\n  const shouldAutoExpand = useCallback(\n    (entityId: string) => {\n      if (entityId === 'root') {\n        return true\n      } else {\n        return !!(\n          scope === FinderScope.CURRENT_PROJECT &&\n          initialContainerPath &&\n          isEntityIdInPath(entityId, initialContainerPath)\n        )\n      }\n    },\n    [scope, initialContainerPath],\n  )\n\n  return (\n    <div\n      className={`TreeView ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectTree'\n          : 'BrowseTree'\n      }`}\n    >\n      <div className=\"Header\">\n        <div className=\"Browse\">Browse:</div>\n        <div onClick={e => e.stopPropagation()}>\n          <Dropdown>\n            <Dropdown.Toggle variant=\"gray-primary-500\" id=\"dropdown-basic\">\n              {scope}\n            </Dropdown.Toggle>\n            <Dropdown.Menu role=\"menu\">\n              {Object.values(FinderScope).map(scopeOption => {\n                if (\n                  scopeOption === FinderScope.CURRENT_PROJECT &&\n                  projectId == null\n                ) {\n                  return <React.Fragment key={scopeOption} />\n                }\n                return (\n                  <Dropdown.Item\n                    role=\"menuitem\"\n                    key={scopeOption}\n                    onClick={e => {\n                      e.stopPropagation()\n                      if (scope !== scopeOption) {\n                        setScope(scopeOption)\n                        setCurrentContainer(\n                          getScopeOptionDefaultContainer(scopeOption),\n                        )\n                      }\n                    }}\n                  >\n                    {scopeOption}\n                  </Dropdown.Item>\n                )\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </div>\n      {isLoading ? (\n        <div className=\"Placeholder\">\n          <SynapseSpinner size={30} />\n        </div>\n      ) : (\n        <div className=\"Tree\" role=\"tree\">\n          <VirtualizedTree\n            selected={selectedEntities}\n            visibleTypes={visibleTypes}\n            autoExpand={shouldAutoExpand}\n            rootNodeConfiguration={rootNodeConfiguration}\n            treeNodeType={treeNodeType}\n            selectableTypes={selectableTypes}\n            currentContainer={currentContainer}\n            setSelectedId={setSelectedId}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useCallback, useReducer } from 'react'\nimport { Map } from 'immutable'\nimport { Reference } from '../../utils/synapseTypes'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\n\nexport function useEntitySelection(selectMultiple: boolean) {\n  /**\n   *\n   * @param entity The entity to check selected status\n   * @param selected the list of selected entities\n   * @returns a boolean array of length equal to entities.length denoting selection status\n   */\n  const isSelected = useCallback(\n    (entity: Reference, selected: Map<string, number>): boolean => {\n      const match = selected.get(entity.targetId)\n      if (match == null) {\n        return false\n      }\n      if (match === NO_VERSION_NUMBER) {\n        return entity.targetVersionNumber === undefined\n      }\n      return match === entity.targetVersionNumber\n    },\n    [],\n  )\n\n  /**\n   * Given the existing selections and a list of toggled references, return the new list of selections\n   * @param selected\n   * @param toggledReference\n   * @returns\n   */\n  const entitySelectionReducer = useCallback(\n    (\n      selected: Map<string, number>,\n      toggledReferences: Reference | Reference[],\n    ): Map<string, number> => {\n      const newSelected = selected.withMutations(map => {\n        // Note: we currently don't allow selecting two versions of the same entity, so we replace previous selected version with new selected version\n        if (!Array.isArray(toggledReferences)) {\n          toggledReferences = [toggledReferences]\n        }\n        toggledReferences.forEach(toggledReference => {\n          if (isSelected(toggledReference, selected)) {\n            // remove from selection\n            map.delete(toggledReference.targetId)\n          } else {\n            // add to selection\n            if (!selectMultiple) {\n              map.clear()\n            }\n            map.set(\n              toggledReference.targetId,\n              toggledReference.targetVersionNumber ?? NO_VERSION_NUMBER,\n            )\n          }\n        })\n      })\n\n      return newSelected\n    },\n    [isSelected, selectMultiple],\n  )\n\n  return useReducer(entitySelectionReducer, Map<string, number>())\n}\n","import pluralize from 'pluralize'\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Button, FormControl } from 'react-bootstrap'\nimport { useErrorHandler } from 'react-error-boundary'\nimport { ReflexContainer, ReflexElement, ReflexSplitter } from 'react-reflex'\nimport 'react-reflex/styles.css'\nimport { SizeMe } from 'react-sizeme'\nimport Arrow from '../../assets/icons/Arrow'\nimport { SynapseClient } from '../../utils'\nimport {\n  entityTypeToFriendlyName,\n  getEntityTypeFromHeader,\n} from '../../utils/functions/EntityTypeUtils'\nimport { parseSynId } from '../../utils/functions/RegularExpressions'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { Reference } from '../../utils/synapseTypes'\nimport { EntityType } from '../../utils/synapseTypes/EntityType'\nimport { KeyValue } from '../../utils/synapseTypes/Search'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport IconSvg from '../IconSvg'\nimport { BreadcrumbItem, Breadcrumbs, BreadcrumbsProps } from './Breadcrumbs'\nimport {\n  EntityDetailsList,\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from './details/EntityDetailsList'\nimport { EntityFinderHeader } from './EntityFinderHeader'\nimport { SelectionPane } from './SelectionPane'\nimport { EntityTree, EntityTreeContainer, FinderScope } from './tree/EntityTree'\nimport { EntityTreeNodeType } from './tree/VirtualizedTree'\nimport { useEntitySelection } from './useEntitySelection'\nimport { VersionSelectionType } from './VersionSelectionType'\n\nconst DEFAULT_SELECTABLE_TYPES = Object.values(EntityType)\nconst TABLE_DEFAULT_VISIBLE_TYPES = Object.values(EntityType)\nconst TREE_DEFAULT_VISIBLE_TYPES = [EntityType.PROJECT, EntityType.FOLDER]\n\n// In the map used to track selections, we use -1 to denote 'selected without version'\n// This is necessary because undefined is returned by map.get when the item is not in the map\nexport const NO_VERSION_NUMBER = -1\n\nconst searchForOnlyTypesBooleanQuery = (\n  entityTypes: EntityType[],\n): KeyValue[] => {\n  // Boolean query terms will be combined with AND, and there's no way to OR.\n  // So we will negate searching for all omitted types.\n  const allTypes = Object.values(EntityType)\n  const typesToOmit = allTypes.filter(type => !entityTypes.includes(type))\n  return typesToOmit.map(type => ({\n    key: 'node_type',\n    value: type.toString(),\n    not: true,\n  }))\n}\n\nexport type EntityFinderProps = {\n  /** Whether or not it is possible to select multiple entities */\n  selectMultiple: boolean\n  /** Callback invoked when the selection changes */\n  onSelectedChange: (selected: Reference[]) => void\n  /** The initial appearance of the entity finder. Possible values include \"Current Project\", \"All Projects\", \"Projects Created By Me\", \"My Favorites\" */\n  initialScope: FinderScope\n  /** The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be \"Current Project\" */\n  projectId?: string\n  /** The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId` */\n  initialContainer: string | 'root' | null\n  /** Determines if versions are selectable, and if so, how they should be shown. Default is \"TRACKED\" */\n  versionSelection?: VersionSelectionType\n  /** The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInList?: EntityType[]\n  /** The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search */\n  selectableTypes?: EntityType[]\n  /** The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInTree?: EntityType[]\n  /** The text to show before the list of selected entities */\n  selectedCopy?: string | ((count: number) => string)\n  /** Whether to show only the tree. If `true`, the tree will be used to make selections */\n  treeOnly?: boolean\n}\n\nexport const EntityFinder: React.FunctionComponent<EntityFinderProps> = ({\n  initialScope,\n  projectId,\n  initialContainer = null,\n  selectMultiple,\n  onSelectedChange,\n  versionSelection = VersionSelectionType.TRACKED,\n  selectableTypes = DEFAULT_SELECTABLE_TYPES,\n  visibleTypesInList = TABLE_DEFAULT_VISIBLE_TYPES,\n  visibleTypesInTree = TREE_DEFAULT_VISIBLE_TYPES,\n  selectedCopy = selectMultiple ? count => `Selected (${count})` : 'Selected',\n  treeOnly = false,\n}: EntityFinderProps) => {\n  const { accessToken } = useSynapseContext()\n\n  const [searchActive, setSearchActive] = useState(false)\n  // The raw value of the search input box:\n  const [searchInput, setSearchInput] = useState<string>()\n  // The \"parsed\" search terms, which are only calculated when Enter is pressed:\n  const [searchTerms, setSearchTerms] = useState<string[]>()\n  const [breadcrumbsProps, setBreadcrumbsProps] = useState<BreadcrumbsProps>({\n    items: [],\n  })\n  const [searchByIdResults, setSearchByIdResults] = useState<\n    EntityFinderHeader[]\n  >([])\n  const [configFromTreeView, setConfigFromTreeView] =\n    useState<EntityDetailsListDataConfiguration>({\n      type: EntityDetailsListDataConfigurationType.PROMPT,\n    })\n\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  // If a type is selectable, it should be visible in the tree/list (depending on treeOnly)\n  const selectableAndVisibleTypesInTree = useMemo(\n    () => [...visibleTypesInTree, ...selectableTypes],\n    [visibleTypesInTree, selectableTypes],\n  )\n  const selectableAndVisibleTypesInList = useMemo(\n    () => [...visibleTypesInList, ...selectableTypes],\n    [visibleTypesInList, selectableTypes],\n  )\n\n  // For dual-pane, this state variable indicates which container is selected in the tree view and should be shown in the table view\n  const [currentContainer, setCurrentContainer] =\n    useState<EntityTreeContainer>(initialContainer)\n\n  const handleError = useErrorHandler()\n\n  const setBreadcrumbs = useCallback(\n    (items: BreadcrumbItem[]) => {\n      setBreadcrumbsProps({\n        items,\n      })\n    },\n    [setBreadcrumbsProps],\n  )\n\n  const [selectedEntities, toggleSelection] = useEntitySelection(selectMultiple)\n\n  const isIdSelected = useCallback(\n    (entity: EntityFinderHeader) => {\n      return selectedEntities.has(entity.id)\n    },\n    [selectedEntities],\n  )\n\n  const isSelectable = useCallback(\n    (entity: EntityFinderHeader) => {\n      const type = getEntityTypeFromHeader(entity)\n      return selectableTypes.includes(type)\n    },\n    [selectableTypes],\n  )\n\n  useEffect(() => {\n    // When it changes, convert the map of selected items to a list of references and invoke the callback\n    onSelectedChange(\n      selectedEntities.toArray().map(([id, version]) => {\n        return {\n          targetId: id,\n          targetVersionNumber:\n            version === NO_VERSION_NUMBER ? undefined : version,\n        }\n      }),\n    )\n  }, [selectedEntities, onSelectedChange])\n\n  useEffect(() => {\n    if (searchTerms?.length === 1) {\n      const searchTermReference = parseSynId(searchTerms[0])\n      if (searchTermReference) {\n        SynapseClient.getEntityHeaders([searchTermReference], accessToken)\n          .then(response => {\n            setSearchByIdResults(response.results)\n          })\n          .catch(e => handleError(e))\n      }\n    } else {\n      setSearchByIdResults([])\n    }\n  }, [accessToken, searchTerms, handleError])\n\n  const mainPanelClass = searchActive\n    ? 'MainPanelSearch'\n    : treeOnly\n    ? 'MainPanelSinglePane'\n    : 'MainPanelDualPane'\n\n  let searchButtonText\n  const tableArray = [\n    'table',\n    'entityview',\n    'materializedview',\n    'submissionview',\n    'dataset',\n    'datasetcollection',\n  ]\n  if (selectableTypes.length === 1) {\n    searchButtonText = `Search for ${pluralize(\n      entityTypeToFriendlyName(selectableTypes[0]),\n    )}`\n  } else if (selectableTypes.every(element => tableArray.includes(element))) {\n    searchButtonText = 'Search for Tables'\n  } else {\n    searchButtonText = 'Search all of Synapse'\n  }\n\n  return (\n    <SynapseErrorBoundary>\n      <div className=\"bootstrap-4-backport EntityFinder\">\n        <div className=\"EntityFinder__Search\" data-active={searchActive}>\n          <>\n            {searchActive ? (\n              <Button\n                variant=\"gray-primary-500\"\n                onClick={() => {\n                  setSearchActive(false)\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n              >\n                <Arrow arrowDirection=\"left\" style={{ height: '16px' }} />\n                Back to Browse\n              </Button>\n            ) : (\n              <Button\n                variant=\"sds-primary\"\n                className=\"EntityFinder__Search__SearchButton\"\n                onClick={() => {\n                  setSearchActive(true)\n                  searchInputRef.current!.focus()\n                }}\n              >\n                <IconSvg icon=\"search\" />\n                {searchButtonText}\n              </Button>\n            )}\n            <span className=\"SearchIcon\">\n              <IconSvg icon=\"search\" />\n            </span>\n            <FormControl\n              role=\"textbox\"\n              ref={searchInputRef}\n              aria-hidden={!searchActive}\n              className=\"EntityFinder__Search__Input\"\n              type=\"search\"\n              placeholder=\"Search by name, Wiki contents, or Synapse ID\"\n              value={searchInput}\n              onChange={event => {\n                setSearchInput(event.target.value)\n              }}\n              onKeyDown={(event: any) => {\n                if (event.key === 'Enter') {\n                  if (event.target.value === '') {\n                    setSearchTerms(undefined)\n                  } else {\n                    setSearchTerms(event.target.value.trim().split(' '))\n                  }\n                }\n              }}\n            />\n            {searchInput && (\n              <span\n                className=\"ClearSearchIcon\"\n                onClick={() => {\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n              >\n                <IconSvg icon=\"close\" label=\"Clear Search\" />\n              </span>\n            )}\n          </>\n        </div>\n        <div className={`EntityFinder__MainPanel ${mainPanelClass}`}>\n          {/* We have a separate Details component for search in order to preserve state in the other component between searches */}\n          {searchActive && (\n            <EntityDetailsList\n              configuration={\n                searchByIdResults && searchByIdResults.length > 0\n                  ? {\n                      type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n                      headerList: searchByIdResults,\n                    }\n                  : {\n                      type: EntityDetailsListDataConfigurationType.ENTITY_SEARCH,\n                      query: {\n                        queryTerm: searchTerms,\n                        booleanQuery:\n                          searchForOnlyTypesBooleanQuery(selectableTypes),\n                      },\n                    }\n              }\n              versionSelection={versionSelection}\n              selectColumnType={selectMultiple ? 'checkbox' : 'none'}\n              selected={selectedEntities}\n              isIdSelected={isIdSelected}\n              isSelectable={isSelectable}\n              visibleTypes={selectableTypes}\n              selectableTypes={selectableTypes}\n              toggleSelection={toggleSelection}\n              enableSelectAll={selectMultiple}\n              // Intentionally do not pass \"setCurrentContainer\" -- search does not use the tree so it has nothing to update\n              setCurrentContainer={undefined}\n            />\n          )}\n          {\n            <div style={searchActive ? { display: 'none' } : {}}>\n              {treeOnly ? (\n                <div>\n                  <EntityTree\n                    toggleSelection={toggleSelection}\n                    showDropdown={true}\n                    visibleTypes={selectableAndVisibleTypesInTree}\n                    initialScope={initialScope}\n                    selectedEntities={selectedEntities}\n                    projectId={projectId}\n                    initialContainer={initialContainer}\n                    currentContainer={currentContainer}\n                    setCurrentContainer={setCurrentContainer}\n                    showScopeAsRootNode={false}\n                    treeNodeType={EntityTreeNodeType.SINGLE_PANE}\n                    selectableTypes={selectableTypes}\n                  />\n                </div>\n              ) : (\n                <div className=\"EntityFinderReflexContainer\">\n                  <SizeMe>\n                    {({ size }) => (\n                      <ReflexContainer\n                        key={(!!size.width).toString()}\n                        orientation=\"vertical\"\n                        windowResizeAware\n                      >\n                        <ReflexElement\n                          className=\"TreeViewReflexElement\"\n                          flex={0.24}\n                        >\n                          <EntityTree\n                            selectedEntities={selectedEntities}\n                            setDetailsViewConfiguration={setConfigFromTreeView}\n                            showDropdown={true}\n                            visibleTypes={visibleTypesInTree}\n                            initialScope={initialScope}\n                            projectId={projectId}\n                            initialContainer={initialContainer}\n                            currentContainer={currentContainer}\n                            setCurrentContainer={setCurrentContainer}\n                            treeNodeType={EntityTreeNodeType.DUAL_PANE}\n                            setBreadcrumbItems={setBreadcrumbs}\n                            selectableTypes={visibleTypesInTree}\n                          />\n                        </ReflexElement>\n                        <ReflexSplitter></ReflexSplitter>\n                        <ReflexElement className=\"DetailsViewReflexElement\">\n                          <EntityDetailsList\n                            configuration={configFromTreeView}\n                            versionSelection={versionSelection}\n                            selected={selectedEntities}\n                            isIdSelected={isIdSelected}\n                            isSelectable={isSelectable}\n                            visibleTypes={selectableAndVisibleTypesInList}\n                            selectableTypes={selectableTypes}\n                            selectColumnType={\n                              selectMultiple ? 'checkbox' : 'none'\n                            }\n                            toggleSelection={toggleSelection}\n                            enableSelectAll={selectMultiple}\n                            setCurrentContainer={setCurrentContainer}\n                          />\n                          <Breadcrumbs {...breadcrumbsProps} />\n                        </ReflexElement>\n                      </ReflexContainer>\n                    )}\n                  </SizeMe>\n                </div>\n              )}\n            </div>\n          }\n        </div>\n\n        {selectedEntities.size > 0 && (\n          <SelectionPane\n            title={selectedCopy}\n            selectedEntities={selectedEntities}\n            toggleSelection={toggleSelection}\n          />\n        )}\n      </div>\n    </SynapseErrorBoundary>\n  )\n}\n\nexport default EntityFinder\n","import { Skeleton, Tooltip } from '@mui/material'\nimport BaseTable, {\n  CallOrReturn,\n  ColumnShape,\n  SortOrder,\n} from '@sage-bionetworks/react-base-table'\nimport dayjs from 'dayjs'\nimport React, { SyntheticEvent, useEffect } from 'react'\nimport { Form } from 'react-bootstrap'\nimport SortIcon from '../../../../assets/icons/Sort'\nimport { formatDate } from '../../../../utils/functions/DateFormatter'\nimport { isTableType } from '../../../../utils/functions/EntityTypeUtils'\nimport {\n  useGetEntity,\n  useGetVersionsInfinite,\n} from '../../../../utils/hooks/SynapseAPI/entity/useEntity'\nimport useGetEntityBundle from '../../../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { SMALL_USER_CARD } from '../../../../utils/SynapseConstants'\nimport {\n  EntityRef,\n  EntityType,\n  Reference,\n} from '../../../../utils/synapseTypes'\nimport { EntityBadgeIcons } from '../../../EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../../EntityIcon'\nimport { EntityLink } from '../../../EntityLink'\nimport IconSvg from '../../../IconSvg'\nimport { SynapseSpinner } from '../../../LoadingScreen'\nimport { DatasetItemsEditorTableData } from '../../../table/datasets/DatasetItemsEditor'\nimport UserCard from '../../../UserCard'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { VersionSelectionType } from '../../VersionSelectionType'\nimport { EntityFinderTableViewRowData } from './DetailsView'\n\n// TODO: Consider sharing logic with SynapseTableCell.tsx\n\nexport type CellRendererProps<T> = {\n  cellData: any\n  columns: ColumnShape<T>[]\n  column: ColumnShape<T>\n  columnIndex: number\n  rowData: T\n  rowIndex: number\n  container: BaseTable<T>\n  isScrolling?: boolean\n}\n\nexport type CellRenderer<T> = CallOrReturn<\n  React.ReactNode,\n  CellRendererProps<T>\n>\n\n/**\n * The data across tables may differ, but it has entity ID and version, then it can use many of these renderers\n */\nexport type EntityIdAndVersionNumber = {\n  entityId: string\n  versionNumber?: number\n}\n\nexport const CustomSortIndicator = ({\n  className,\n  sortOrder,\n}: {\n  className: string\n  sortOrder: SortOrder\n}) => {\n  return (\n    <SortIcon\n      className={className}\n      active={true}\n      role=\"button\"\n      style={{ height: '20px', marginLeft: 'auto' }}\n      direction={sortOrder}\n    />\n  )\n}\n\n/**\n * Renders Entity Badges using the entity bundle.\n * @param props\n * @returns\n */\nexport function BadgeIconsRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  return (\n    <EntityBadgeIcons\n      entityId={props.rowData.entityId}\n      versionNumber={props.rowData.versionNumber}\n      showHasDiscussionThread={false}\n      showHasWiki={false}\n      showUnlink={false}\n      canOpenModal={false}\n      // We render the tooltip component outside of the table so it plays nicely with list virtualization\n      // https://github.com/wwayne/react-tooltip/issues/300#issuecomment-468042592\n      renderTooltipComponent={false}\n    />\n  )\n}\n\nexport function DateRenderer({ cellData }: { cellData?: string }) {\n  return <>{(cellData && formatDate(dayjs(cellData))) ?? <></>}</>\n}\n\n/**\n * Renders 'modifiedOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedOnRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity.modifiedOn} />\n}\n\n/**\n * Renders 'createdOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function CreatedOnRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity?.createdOn} />\n}\n\nexport function EntityNameRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return bundle ? (\n    <EntityLink\n      className=\"EntityNameWithIconRenderer\"\n      entity={bundle.entity}\n      link={false}\n    />\n  ) : (\n    <></>\n  )\n}\n\nexport function ProjectRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: entityBundle, isLoading: isLoadingBundle } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n  const { data: project, isLoading: isLoadingProjectEntity } = useGetEntity(\n    entityBundle?.path.path[1].id ?? '',\n    undefined,\n    { enabled: !!entityBundle },\n  )\n\n  if (isLoadingBundle || isLoadingProjectEntity) {\n    return <Skeleton width={200} />\n  }\n\n  return project ? <EntityLink entity={project} /> : <></>\n}\n\nexport function UserCardRenderer({ cellData }: { cellData?: string }) {\n  return (\n    <UserCard\n      ownerId={cellData}\n      size={SMALL_USER_CARD}\n      openLinkInNewTab={true}\n    />\n  )\n}\n\n/**\n * Renders 'modifiedBy' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedByRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <UserCardRenderer {...props} cellData={bundle?.entity.modifiedBy} />\n}\n\nexport function LoadingRenderer() {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      <SynapseSpinner size={30} />\n    </div>\n  )\n}\n\nexport const DetailsViewCheckboxRenderer: ColumnShape<EntityFinderTableViewRowData>['cellRenderer'] =\n  props => {\n    const { rowData } = props\n    const { isSelected, isDisabled } = rowData\n    return (\n      !isDisabled && (\n        <Checkbox\n          label={`Select ${rowData.entityId}`}\n          hideLabel={true}\n          className=\"SRC-pointer-events-none\"\n          checked={isSelected}\n          onChange={() => {\n            // no-op\n          }}\n        />\n      )\n    )\n  }\n\nexport const TypeIconRenderer: ColumnShape<EntityFinderTableViewRowData>['cellRenderer'] =\n  props => {\n    const { cellData } = props\n    return (\n      <EntityTypeIcon\n        className=\"EntityFinderTableCellEntityIcon\"\n        type={cellData as EntityType}\n      />\n    )\n  }\n\nexport function EmptyRenderer({\n  noResultsPlaceholder,\n}: {\n  noResultsPlaceholder: React.ReactNode\n}) {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      {noResultsPlaceholder || <div>Empty</div>}\n    </div>\n  )\n}\n\nexport const DatasetEditorVersionRenderer = ({\n  rowData,\n  toggleSelection,\n}: CellRendererProps<DatasetItemsEditorTableData> & {\n  toggleSelection: (entity: EntityRef) => void\n}) => {\n  const { entityId, versionNumber } = rowData\n\n  const {\n    data: versionData,\n    isError,\n    fetchNextPage,\n    isFetchingNextPage,\n    hasNextPage,\n  } = useGetVersionsInfinite(entityId, {\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n  const currentVersionHasBeenRetrieved = !!versions.find(\n    version => version.versionNumber === versionNumber,\n  )\n  useEffect(() => {\n    if (!currentVersionHasBeenRetrieved && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage()\n    }\n  }, [\n    currentVersionHasBeenRetrieved,\n    hasNextPage,\n    isFetchingNextPage,\n    fetchNextPage,\n  ])\n\n  if (isError) {\n    return <>{versionNumber}</>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 && (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={versionNumber}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              entityId: entityId,\n              versionNumber: version,\n            })\n          }}\n        >\n          {\n            /* The selected version number doesn't exist */\n            !currentVersionHasBeenRetrieved &&\n              !hasNextPage &&\n              !isFetchingNextPage && (\n                <option disabled key={versionNumber} value={versionNumber}>\n                  {versionNumber} (Not Found)\n                </option>\n              )\n          }\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                {version.versionNumber}\n                {version.isLatestVersion && ' (Latest)'}\n              </option>\n            )\n          })}\n        </Form.Control>\n      )}\n    </div>\n  )\n}\n\nfunction getLatestVersionText(\n  versionSelection: VersionSelectionType,\n  entityType: EntityType,\n) {\n  let versionDisplay = 'Latest'\n  let snapshotDisplay = ''\n  if (isTableType(entityType)) {\n    if (entityType === EntityType.DATASET) {\n      versionDisplay = 'Draft'\n      snapshotDisplay = 'Stable Version'\n    } else {\n      versionDisplay = 'Current'\n      snapshotDisplay = 'Snapshot'\n    }\n  }\n\n  if (versionSelection === VersionSelectionType.TRACKED) {\n    return `Always ${versionDisplay} Version`\n  } else if (versionSelection === VersionSelectionType.REQUIRED) {\n    return (\n      <>\n        {versionDisplay}\n\n        <IconSvg\n          icon=\"helpOutlineTwoTone\"\n          label={`No ${snapshotDisplay} exists. The ${versionDisplay} version will be referenced until a new ${snapshotDisplay} is created.`}\n          sx={{\n            width: '12px',\n            paddingLeft: '0.2rem',\n          }}\n        />\n      </>\n    )\n  }\n\n  return `${versionDisplay} Version`\n}\n\nexport const DetailsViewVersionRenderer = ({\n  rowData,\n  versionSelection,\n  toggleSelection,\n}: CellRendererProps<EntityFinderTableViewRowData> & {\n  versionSelection: VersionSelectionType\n  toggleSelection: (entity: Reference | Reference[]) => void\n}) => {\n  const {\n    id,\n    entityType,\n    isVersionableEntity,\n    isSelected,\n    currentSelectedVersion,\n  } = rowData\n  const { data: versionData } = useGetVersionsInfinite(id, {\n    enabled: isVersionableEntity,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n\n  useEffect(() => {\n    // If VersionSelectionType.REQUIRED, and the user has selected this entity and hasn't selected a version, then we force a version selection\n    if (\n      isSelected &&\n      versionSelection == VersionSelectionType.REQUIRED &&\n      currentSelectedVersion === NO_VERSION_NUMBER &&\n      versions.length > 0\n    ) {\n      toggleSelection({\n        targetId: id,\n        targetVersionNumber: versions[0].versionNumber,\n      })\n    }\n  }, [\n    currentSelectedVersion,\n    id,\n    isSelected,\n    versionSelection,\n    toggleSelection,\n    versions,\n  ])\n\n  const showLatestVersion =\n    versionSelection === VersionSelectionType.TRACKED ||\n    (versionSelection === VersionSelectionType.UNTRACKED &&\n      isTableType(entityType))\n\n  const latestVersionText = getLatestVersionText(versionSelection, entityType)\n\n  if (!isSelected || !isVersionableEntity) {\n    return <></>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 ? (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={currentSelectedVersion}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              targetId: id,\n              targetVersionNumber:\n                version === NO_VERSION_NUMBER ? undefined : version,\n            })\n          }}\n        >\n          {showLatestVersion && (\n            <option value={NO_VERSION_NUMBER}>{latestVersionText}</option>\n          )}\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                Version {version.versionNumber}\n              </option>\n            )\n          })}\n        </Form.Control>\n      ) : (\n        latestVersionText\n      )}\n    </div>\n  )\n}\n\nexport function DatasetEditorCheckboxRenderer<\n  T extends EntityIdAndVersionNumber & {\n    isSelected: boolean\n    isDisabled?: boolean\n    setSelected: (newValue: boolean) => void\n  },\n>(props: CellRendererProps<T>) {\n  const { isSelected, isDisabled, setSelected, entityId } = props.rowData\n  return (\n    !isDisabled && (\n      <Checkbox\n        data-testid={`dataset-editor-checkbox-${entityId}`}\n        disabled={isDisabled}\n        label={`Select ${entityId}`}\n        hideLabel={true}\n        checked={isSelected}\n        onChange={value => {\n          setSelected(value)\n        }}\n      />\n    )\n  )\n}\n\nexport const EntityErrorRenderer = <T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) => {\n  const { entityId, versionNumber } = props.rowData\n  const { error, isError } = useGetEntity(entityId, versionNumber)\n\n  let message = error?.reason\n\n  if (error?.status === 403) {\n    message = \"You don't have permission to view this entity.\"\n  } else if (error?.status === 404) {\n    message = 'The entity or version does not exist. It may have been deleted.'\n  }\n\n  if (!isError) {\n    return <></>\n  } else {\n    return (\n      <Tooltip\n        title={message ?? ''}\n        placement=\"right\"\n        className=\"EntityBadgeTooltip\"\n      >\n        <div className=\"EntityErrorRenderer\">\n          <IconSvg icon=\"warningOutlined\" />\n        </div>\n      </Tooltip>\n    )\n  }\n}\n"],"names":["ChatBubbleTwoTone","createSvgIcon","_jsx","DescriptionTwoTone","LinkOffTwoTone","LocalOfferTwoTone","getIsAllSelectedFromInfiniteList","items","numSelected","isSelected","isSelectable","hasNextPage","fetchNextPage","isFetchingNextPage","allSelectableFetchedChildrenAreSelected","e","selectableEntitiesArePresent","useGetIsAllSelectedFromInfiniteList","isSelectAll","setIsSelectAll","useState","useEffect","useSearchInfinite","query","options","accessToken","keyFactory","useSynapseContext","useInfiniteQuery","context","SynapseClient.searchEntities","prevPage","useGetProjectsInfinite","params","SynapseClient.getMyProjects","page","safeIsNaN","value","isEqual","first","second","areInputsEqual","newInputs","lastInputs","i","memoizeOne","resultFn","lastThis","lastArgs","lastResult","calledOnce","memoized","newArgs","_i","hasNativePerformanceNow","now","cancelTimeout","timeoutID","requestTimeout","callback","delay","start","tick","size","getScrollbarSize","recalculate","div","style","cachedRTLResult","getRTLOffsetType","outerDiv","outerStyle","innerDiv","innerStyle","IS_SCROLLING_DEBOUNCE_INTERVAL","defaultItemKey","_ref","columnIndex","rowIndex","createGridComponent","_ref2","_class","getColumnOffset","getColumnStartIndexForOffset","getColumnStopIndexForStartIndex","getColumnWidth","getEstimatedTotalHeight","getEstimatedTotalWidth","getOffsetForColumnAndAlignment","getOffsetForRowAndAlignment","getRowHeight","getRowOffset","getRowStartIndexForOffset","getRowStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","_inheritsLoose","Grid","props","_this","_assertThisInitialized","overscanColumnStartIndex","overscanColumnStopIndex","overscanRowStartIndex","overscanRowStopIndex","visibleColumnStartIndex","visibleColumnStopIndex","visibleRowStartIndex","visibleRowStopIndex","scrollLeft","scrollTop","horizontalScrollDirection","verticalScrollDirection","scrollUpdateWasRequested","_this$props","columnWidth","direction","rowHeight","itemStyleCache","key","_offset","isRtl","_","__","___","event","_event$currentTarget","clientHeight","clientWidth","scrollHeight","scrollWidth","prevState","calculatedScrollLeft","calculatedScrollTop","ref","outerRef","nextProps","validateSharedProps","_proto","_ref3","_ref4","_ref4$align","align","_this$props2","columnCount","height","rowCount","width","_this$state","scrollbarSize","estimatedTotalHeight","estimatedTotalWidth","horizontalScrollbarSize","verticalScrollbarSize","_this$props3","initialScrollLeft","initialScrollTop","_this$state2","_this$props4","children","className","innerRef","innerElementType","innerTagName","itemData","_this$props4$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","isScrolling","_this$_getHorizontalR","columnStartIndex","columnStopIndex","_this$_getVerticalRan","rowStartIndex","rowStopIndex","_rowIndex","_columnIndex","createElement","_extends","_this$props5","onItemsRendered","onScroll","_this$_getHorizontalR2","_overscanColumnStartIndex","_overscanColumnStopIndex","_visibleColumnStartIndex","_visibleColumnStopIndex","_this$_getVerticalRan2","_overscanRowStartIndex","_overscanRowStopIndex","_visibleRowStartIndex","_visibleRowStopIndex","_this$state3","_horizontalScrollDirection","_scrollLeft","_scrollTop","_scrollUpdateWasRequested","_verticalScrollDirection","_this$props6","overscanColumnCount","overscanColumnsCount","overscanCount","_this$state4","overscanCountResolved","startIndex","stopIndex","overscanBackward","overscanForward","_this$props7","overscanRowCount","overscanRowsCount","_this$state5","PureComponent","_ref5","_ref6","DEFAULT_ESTIMATED_ITEM_SIZE","rowMetadataMap","estimatedRowHeight","lastMeasuredRowIndex","totalSizeOfMeasuredRows","itemMetadata","numUnmeasuredItems","totalSizeOfUnmeasuredItems","columnMetadataMap","estimatedColumnWidth","lastMeasuredColumnIndex","getItemMetadata","itemType","index","instanceProps","itemMetadataMap","itemSize","lastMeasuredIndex","offset","findNearestItem","lastMeasuredItemOffset","findNearestItemBinarySearch","findNearestItemExponentialSearch","high","low","middle","currentOffset","itemCount","interval","getOffsetForIndexAndAlignment","scrollOffset","estimatedTotalSize","maxOffset","minOffset","VariableSizeGrid","instance","shouldForceUpdate","_ref6$shouldForceUpda","_ref7","IS_SCROLLING_DEBOUNCE_INTERVAL$1","defaultItemKey$1","data","createListComponent","getItemOffset","getEstimatedTotalSize","getItemSize","getStartIndexForOffset","getStopIndexForStartIndex","List","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","scrollDirection","layout","isHorizontal","offsetHorizontal","_event$currentTarget2","validateSharedProps$1","initialScrollOffset","_this$props5$itemKey","_this$_getRangeToRend","_index","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_scrollDirection","_scrollOffset","DEFAULT_ESTIMATED_ITEM_SIZE$1","getItemMetadata$1","findNearestItem$1","findNearestItemBinarySearch$1","findNearestItemExponentialSearch$1","estimatedItemSize","totalSizeOfMeasuredItems","VariableSizeList","FixedSizeGrid","lastColumnOffset","middleOffset","_ref8","lastRowOffset","_ref9","_ref10","left","numVisibleColumns","_ref11","_ref12","top","numVisibleRows","_ref13","TableHeader","_React$PureComponent","_this2","columns","headerRenderer","rowData","rowRenderer","rowWidth","headerHeight","frozenData","rowHeights","React","PropTypes","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","target","source","_defineProperty","renderElement","renderer","normalizeColumns","elements","element","column","isObjectEqual","objA","objB","ignoreFunction","keysA","keysB","valueA","valueB","valueAType","callOrReturn","funcOrValue","_len","args","_key","hasChildren","flattenOnKeys","tree","depthMap","dataKey","array","keysSet","x","stack","_loop","item","cloneArray","noop","toString","getPathSegments","path","pathArray","parts","p","getValue","defaultValue","debounce","fn","ms","timeoutId","_len2","_key2","throttle","wait","inThrottle","lastFn","lastTime","scrollDiv","addClassName","el","removeClassName","getEstimatedTotalRowsHeight","_excluded","GridTable","memoize","bodyWidth","containerStyle","classPrefix","headerWidth","hoveredRowKey","rest","_objectWithoutPropertiesLoose","frozenRowCount","frozenRowsHeight","cls","cn","containerProps","Header","rowKey","sum","TableHeaderRow","headerIndex","cellRenderer","expandColumnKey","ExpandIcon","Tag","cells","_excluded2","TableRow","prevProps","depth","rowEventHandlers","expandIconRenderer","expandIcon","eventHandlers","otherStyles","expanded","onRowExpand","initialMeasure","onRowHeightChange","handlers","onRowHover","eventKey","mouseEnterHandler","mouseLeaveHandler","TableHeaderCell","TableCell","cellData","Alignment","FrozenDirection","Column","_React$Component","SortOrder","expandable","indentSize","onExpand","SortIndicator","sortOrder","INVALID_VALUE","addUserSelectStyles","doc","styleEl","removeUserSelectStyles","selection","eventsFor","dragEventFor","ColumnResizer","ownerDocument","clientX","offsetParent","offsetParentRect","MIN_WIDTH","maxWidth","_column$minWidth","minWidth","movedX","newWidth","ColumnManager","fixed","idx","_this3","_this4","_this5","_this6","mainColumns","_objectSpread2","_objectSpread3","_this7","_this8","_this9","_this10","_this11","flexGrow","flexShrink","flexValue","_this12","styles","_excluded3","_excluded4","_excluded5","getColumns","getContainerStyle","DEFAULT_COMPONENTS","RESIZE_THROTTLE_WAIT","EMPTY_ARRAY","BaseTable","defaultExpandedRowKeys","expandedRowKeys","expandIconProps","extraProps","_cn","rowClassName","rowClass","hasFrozenColumns","rowProps","_cn2","dataGetter","cellProps","cell","cellCls","tagName","_cn3","headerClassName","headerClass","headerProps","_cn4","_cn5","sortBy","sortState","headerCellProps","sorting","order","tableWidth","columnsWidth","containerHeight","_this$props8","scrollbarWidth","_this$props9","resizingKey","frozen","leftWidth","rightWidth","_this$props10","footerHeight","footerRenderer","_this$props11","emptyRenderer","overlayRenderer","_cn6","_this$props12","disabled","_data","_this$props13","maxHeight","name","_this$props14","_this$props15","_this$props16","tableHeight","totalRowsHeight","totalHeight","_this$props17","totalColumnsWidth","prevHorizontalScrollbarSize","prevVerticalScrollbarSize","onScrollbarPresenceChange","_this$props18","onEndReached","onEndReachedThreshold","distanceFromEnd","lastScrollTop","hovered","resizingWidth","_this$props19","onColumnSort","defaultGetScrollbarSize","classCallCheck","Constructor","createClass","defineProperties","descriptor","protoProps","staticProps","inherits","subClass","superClass","possibleConstructorReturn","self","call","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","err","windowObject","cancelFrame","requestFrame","TIMEOUT_DURATION","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","requestAnimationFrameFn","animationFrameID","createDetectElementResize","nonce","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","triggers","expand","contract","expandChild","animation","keyframeprefix","domPrefixes","startEvents","pfx","elm","createStyles","css","head","addResizeListener","elementStyle","expandTrigger","contractTrigger","removeResizeListener","AutoSizer","_temp","_ret","disableHeight","disableWidth","onResize","_height","_width","_style","paddingLeft","paddingRight","paddingTop","paddingBottom","newHeight","autoSizer","_props","_state","childParams","bailoutOnChildren","AutoResizer","isPublic","bundle","ra","AUTHENTICATED_PRINCIPAL_ID","PUBLIC_PRINCIPAL_ID","ANONYMOUS_PRINCIPAL_ID","EntityBadgeIcons","entityId","versionNumber","flexWrap","justifyContent","showIsPublicPrivate","showHasLocalSharingSettings","showHasAnnotations","showHasWiki","showHasDiscussionThread","showUnlink","onUnlink","onUnlinkError","canOpenModal","SchemaConformanceState","SchemaConformanceState2","inView","useInView","useGetEntityBundle","ALL_ENTITY_BUNDLE_FIELDS","showModal","setShowModal","showUnlinkConfirmModal","setShowUnlinkConfirmModal","schemaConformance","setSchemaConformance","isInExperimentalMode","boundSchema","useGetSchemaBinding","schemaValidationResults","useGetValidationResults","maxAnnosToShow","annotationsCount","isEmpty","unlinkEntity","useDeleteEntity","entityId2","annotationsTableRows","jsx","Fragment","_a","previous","current","jsxs","valiationSchemaTableRow","annotationsHtml","EntityModal","EntityModalTabs","Tooltip","PublicTwoTone","LockTwoTone","CheckTwoTone","EntityType","_b","WarningDialog","defineProperty","Browser","getDataProps","prev","ReflexSplitter","domElement","ReflexEvents","events","fct","tmpArray","result","valueToFind","fromIndex","o","len","n","k","sameValueZero","y","ReflexContainer","pos","availableOffset","resizedRefs","child","resolve","dir","splitterIdx","ex","flexData","windowResizeAware","prevChildrenFlex","flex","bottom","right","diffFlex","previousFlex","nextFlex","stretch","shrink","childIdx","availableStretch","nextOffset","minSize","availableShrink","orientation","newSize","currentFlex","newFlex","dispatchedStretch","nextIdx","dispatchedShrink","component","pixelFlex","computeFreeFlex","entry","computeFreeElements","flexDataInit","computeFlexDataRec","flexDataIn","hasContrain","freeElements","freeFlex","flexDataOut","proposedFlex","constrainedFlex","constrained","obj","newProps","ReflexHandle","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","func","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","type","isObjectLike","isSymbol","other","isBinary","lodash_throttle","MapShim","getIndex","class_1","entries","ctx","isBrowser","global$1","requestAnimationFrame$1","trailingTimeout","leadingCall","trailingCall","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","ResizeObserverController","observer","observers","changesDetected","activeObservers","propertyName","isReflowProperty","defineConfigurable","getWindowOf","ownerGlobal","emptyRect","createRectInit","toFloat","getBordersSize","positions","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getHTMLElementContentRect","horizPad","vertPad","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","getContentRect","createReadOnlyRect","Constr","rect","ResizeObservation","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","observations","observation","ResizeObserver","method","types","getTypes","allowedTypes","node","calculations","withContentRect","WrappedComponent","_Component","WithContentRect","Component","Measure","measure","measureRef","toArray","SizeAwareReflexElement","resizeHeight","resizeWidth","dimensions","propagateDimensions","validChildren","ReflexElement","snapshot","directions","ReflexElement$1","Breadcrumbs","maxItemCount","truncateBreadcrumbs","VersionSelectionType","CHOOSE_REFERENCE","CHOOSE_ACTION","ALWAYS_LATEST_VERSION_EXPLANATION","VersionColumnHeader","versionSelection","helpCopy","HelpPopover","MIN_TABLE_WIDTH","ROW_HEIGHT","DetailsView","entities","isLoading","selectColumnType","selected","visibleTypes","selectableTypes","toggleSelection","sort","setSort","noResultsPlaceholder","enableSelectAll","selectAllIsChecked","getChildrenInfiniteRequestObject","totalEntities","setCurrentContainer","queryClient","useQueryClient","showSelectColumn","shouldSelectAll","setShouldSelectAll","showLoadingScreen","setShowLoadingScreen","cancelQuery","determineRowAppearance","entity","getEntityTypeFromHeader","handleSelectAll","selectedVersion","NO_VERSION_NUMBER","latestVersion","isVersionableEntityType","getEntityVersions","tableData","entities2","appearance","entityType","currentSelectedVersion","SelectAllCheckboxRenderer","useMemo","isEnabled","Checkbox","NameRenderer","useCallback","isContainerType","BlockingLoader","CustomSortIndicator","Direction","id","isDisabled","isVersionableEntity","LoadingRenderer","EmptyRenderer","DetailsViewCheckboxRenderer","TypeIconRenderer","SortBy","BadgeIconsRenderer","DetailsViewVersionRenderer","CreatedOnRenderer","ModifiedOnRenderer","ModifiedByRenderer","EntityChildrenDetails","parentContainerId","sharedProps","setSortBy","sortDirection","setSortDirection","useGetEntityChildrenInfinite","selectAllCheckboxState","newSortBy","newSortDirection","FavoritesDetails","useGetFavoritesInfinite","toEntityHeader","projectHeader","ProjectListDetails","projectsParams","projects","hit","convertToConcreteEntityType","SearchDetails","searchQuery","EntityDetailsListDataConfigurationType","EntityDetailsListDataConfigurationType2","EntityDetailsList","configuration","setComponent","useDeepCompareEffect","config","SynapseErrorBoundary","SelectionPane","title","selectedEntities","Typography","version","EntityPathDisplay","entityName","setEntityName","fullPath","setFullPath","displayedPath","setDisplayedPath","header","header2","projectName","EntityTypeIcon","TOOLTIP_DELAY_SHOW","Skeleton","Clear","mergeRefs","refs","createBasicRecord","pub","parent","getIdByIndex","getRecordData","_getRecordData","Row","_ref$data","Node","treeData","generateNewTree","state","createRecord","buildingTaskTimeout","placeholder","_ref3$async","async","treeWalker","shouldPreservePreviousState","previousRecords","records","requestIdleCallbackOptions","meta","iter","_iter$next","rootRecord","currentRecord","isTraversingRoot","tempRecord","useIdleCallback","hasTime","deadline","task","_iter$next2","childRecord","MAX_FUNCTION_ARGUMENTS","SPLICE_DEFAULT_ARGUMENTS_NUMBER","updateExistingTree","opennessState","opts","ownerRecord","open","_ref6$subtreeCallback","subtreeCallback","update","apply","recordNextToSubtree","countToRemove","orderParts","record","currentOrderPart","count","createTreeComputer","creatorOptions","Tree","_props$listRef","listRef","computeTree","list","oldTreeWalker","createRef","_this$state$list$curr","_this$state$list$curr2","previousRecord","recomputeTree","resetAfterId","_recomputeTree","VariableSizeTree","_Tree","_list$current","_this2$state$list$cur","rowComponent","attachRefs","EntityTreeNodeType","EntityTreeNodeType2","getTreeNodeType","isPaginationNode","isEntityHeaderNode","isRootNodeConfiguration","hasMoreChildren","isLeafNode","getNodeData","nestingLevel","getNextPageOfChildren","setSelectedId","treeNodeType","autoExpand","defaultHeight","currentContainer","isOpenByDefault","isLeaf","isOpen","setOpen","setLoading","nodeText","toggleExpand","tooltipContent","UserCard","formatDate","dayjs","SynapseSpinner","getTreeWalkerFunction","rootNode","fetchNextPageOfChildren","parentMeta","childNode","paginationNode","VirtualizedTree","rootNodeConfiguration","setRootNode","SynapseClient.getEntityChildren","cloneDeep","memoizedTreeWalker","isEntityIdInPath","eh","FinderScope","FinderScope2","getScopeOptionDefaultContainer","scope","getScopeOptionNodeName","EntityTree","initialScope","projectId","initialContainer","setDetailsViewConfiguration","setBreadcrumbItems","showScopeAsRootNode","DEFAULT_CONFIGURATION","setScope","useProjectData","projectData","fetchNextPageProjects","hasNextPageProjects","isLoadingProjects","currentContainerBundle","isSuccessBundle","favorites","isLoadingFavorites","useGetFavorites","convertToEntityType","initialContainerPath","useGetEntityPath","SYNAPSE_ENTITY_ID_REGEX","isLoadingProjectHeader","fetchProjectError","useGetEntityHeader","displayToast","topLevelEntities","topLevelEntities2","isLoading2","detailsViewConfig","breadcrumbItems","shouldAutoExpand","Dropdown","scopeOption","useEntitySelection","selectMultiple","match","entitySelectionReducer","toggledReferences","map","toggledReference","useReducer","Map","DEFAULT_SELECTABLE_TYPES","TABLE_DEFAULT_VISIBLE_TYPES","TREE_DEFAULT_VISIBLE_TYPES","searchForOnlyTypesBooleanQuery","entityTypes","EntityFinder","onSelectedChange","visibleTypesInList","visibleTypesInTree","selectedCopy","treeOnly","searchActive","setSearchActive","searchInput","setSearchInput","searchTerms","setSearchTerms","breadcrumbsProps","setBreadcrumbsProps","searchByIdResults","setSearchByIdResults","configFromTreeView","setConfigFromTreeView","searchInputRef","useRef","selectableAndVisibleTypesInTree","selectableAndVisibleTypesInList","handleError","useErrorHandler","setBreadcrumbs","isIdSelected","searchTermReference","parseSynId","SynapseClient.getEntityHeaders","response","mainPanelClass","searchButtonText","tableArray","pluralize","entityTypeToFriendlyName","Button","Arrow","IconSvg","FormControl","SizeMe","SortIcon","DateRenderer","EntityNameRenderer","EntityLink","ProjectRenderer","entityBundle","isLoadingBundle","project","isLoadingProjectEntity","useGetEntity","UserCardRenderer","SMALL_USER_CARD","DatasetEditorVersionRenderer","versionData","isError","useGetVersionsInfinite","versions","currentVersionHasBeenRetrieved","Form","getLatestVersionText","versionDisplay","snapshotDisplay","isTableType","showLatestVersion","latestVersionText","DatasetEditorCheckboxRenderer","setSelected","EntityErrorRenderer","error","message"],"mappings":"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"}