import{a as wo,g as bo,s as so,h as Eo,_ as C,b as m,j as Q,k as To}from"./styled-2fcfc37a.js";import{r as a}from"./index-76fb7be0.js";import{j as z}from"./jsx-runtime-9dc53467.js";import{M as Ro}from"./Modal-e14847db.js";import{P as So}from"./Paper-699baef2.js";import{u as Oo}from"./useForkRef-8feb2ebf.js";import{o as Z,i as Co}from"./isHostComponent-fa76b8d9.js";import{o as oo,d as zo}from"./ownerWindow-2c76219e.js";import{u as eo,G as _o}from"./Grow-241280c4.js";function ko(t){return wo("MuiPopover",t)}bo("MuiPopover",["root","paper"]);const Mo=["onEntering"],Lo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Wo=["slotProps"];function to(t,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=t.height/2:o==="bottom"&&(s=t.height),s}function ro(t,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=t.width/2:o==="right"&&(s=t.width),s}function no(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function _(t){return typeof t=="function"?t():t}const $o=t=>{const{classes:o}=t;return To({root:["root"],paper:["paper"]},ko,o)},Do=so(Ro,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),Ho=so(So,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jo=a.forwardRef(function(o,s){var k,M,L;const y=Eo({props:o,name:"MuiPopover"}),{action:io,anchorEl:p,anchorOrigin:P={vertical:"top",horizontal:"left"},anchorPosition:W,anchorReference:v="anchorEl",children:lo,className:ao,container:po,elevation:$=8,marginThreshold:i=16,open:f,PaperProps:co={},slots:x,slotProps:w,transformOrigin:g={vertical:"top",horizontal:"left"},TransitionComponent:b=_o,transitionDuration:E="auto",TransitionProps:{onEntering:D}={},disableScrollLock:T=!1}=y,H=C(y.TransitionProps,Mo),fo=C(y,Lo),u=(k=w==null?void 0:w.paper)!=null?k:co,R=a.useRef(),uo=Oo(R,u.ref),S=m({},y,{anchorOrigin:P,anchorReference:v,elevation:$,marginThreshold:i,externalPaperSlotProps:u,transformOrigin:g,TransitionComponent:b,transitionDuration:E,TransitionProps:H}),j=$o(S),N=a.useCallback(()=>{if(v==="anchorPosition")return W;const e=_(p),n=(e&&e.nodeType===1?e:Z(R.current).body).getBoundingClientRect();return{top:n.top+to(n,P.vertical),left:n.left+ro(n,P.horizontal)}},[p,P.horizontal,P.vertical,W,v]),A=a.useCallback(e=>({vertical:to(e,g.vertical),horizontal:ro(e,g.horizontal)}),[g.horizontal,g.vertical]),U=a.useCallback(e=>{const r={width:e.offsetWidth,height:e.offsetHeight},n=A(r);if(v==="none")return{top:null,left:null,transformOrigin:no(n)};const V=N();let d=V.top-n.vertical,h=V.left-n.horizontal;const X=d+r.height,Y=h+r.width,q=oo(_(p)),J=q.innerHeight-i,K=q.innerWidth-i;if(i!==null&&d<i){const l=d-i;d-=l,n.vertical+=l}else if(i!==null&&X>J){const l=X-J;d-=l,n.vertical+=l}if(i!==null&&h<i){const l=h-i;h-=l,n.horizontal+=l}else if(Y>K){const l=Y-K;h-=l,n.horizontal+=l}return{top:`${Math.round(d)}px`,left:`${Math.round(h)}px`,transformOrigin:no(n)}},[p,v,N,A,i]),[ho,F]=a.useState(f),c=a.useCallback(()=>{const e=R.current;if(!e)return;const r=U(e);r.top!==null&&(e.style.top=r.top),r.left!==null&&(e.style.left=r.left),e.style.transformOrigin=r.transformOrigin,F(!0)},[U]);a.useEffect(()=>(T&&window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)),[p,T,c]);const mo=(e,r)=>{D&&D(e,r),c()},Po=()=>{F(!1)};a.useEffect(()=>{f&&c()}),a.useImperativeHandle(io,()=>f?{updatePosition:()=>{c()}}:null,[f,c]),a.useEffect(()=>{if(!f)return;const e=zo(()=>{c()}),r=oo(p);return r.addEventListener("resize",e),()=>{e.clear(),r.removeEventListener("resize",e)}},[p,f,c]);let G=E;E==="auto"&&!b.muiSupportAuto&&(G=void 0);const vo=po||(p?Z(_(p)).body:void 0),O=(M=x==null?void 0:x.root)!=null?M:Do,I=(L=x==null?void 0:x.paper)!=null?L:Ho,go=eo({elementType:I,externalSlotProps:m({},u,{style:ho?u.style:m({},u.style,{opacity:0})}),additionalProps:{elevation:$,ref:uo},ownerState:S,className:Q(j.paper,u==null?void 0:u.className)}),B=eo({elementType:O,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:fo,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:vo,open:f},ownerState:S,className:Q(j.root,ao)}),{slotProps:yo}=B,xo=C(B,Wo);return z(O,m({},xo,!Co(O)&&{slotProps:yo,disableScrollLock:T},{children:z(b,m({appear:!0,in:f,onEntering:mo,onExited:Po,timeout:G},H,{children:z(I,m({},go,{children:lo}))}))}))}),Yo=jo;export{Yo as P,Ho as a};
//# sourceMappingURL=Popover-c33e50fa.js.map
