import{S as f}from"./RegularExpressions-bc0adf55.js";import{C as i,b as u}from"./QueryFilter-ab706eb8.js";const p=3;function c(e){return e.match(f)?e.substring(p):e}const S=(e,r=u.LIKE)=>{if(!e)return;const n=t=>t.startsWith("QueryWrapper"),l=Object.keys(e);if(!(l.length===0||l.every(n)))return Object.keys(e).filter(t=>!n(t)).map(t=>{switch(r){case u.EQUAL:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:t,operator:r,values:[e[t]]};case u.IN:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:t,operator:r,values:e[t].split(",")};case i.HAS:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:t,function:r,values:e[t].split(",")};case u.LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:t,operator:r,values:[`%${c(e[t])}%`]};case i.HAS_LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:t,function:r,values:e[t].split(",").map(s=>`%${c(s)}%`)}}})},y=e=>{const r=e.match(/(from)\s+(syn)\d+/gi);return r&&r[0]?r[0].substr(5).trim():""},d=e=>{const n=/from\s+(syn\d+)(?:\.(\d+))?/i.exec(e);return n?{entityId:n[1],versionNumber:n[2]?parseInt(n[2]):void 0}:null},F=(e,r)=>{const n=[],l=r.map(o=>o.values),t=e.map(o=>o.name);return l.forEach((o,s)=>{n[s]={},o.forEach((a,m)=>{n[s][t[m]]=a})}),n};export{d as a,S as g,y as p,F as r};
//# sourceMappingURL=sqlFunctions-783bb8e8.js.map
