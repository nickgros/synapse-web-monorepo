import{j as r,a as T,F as L}from"./jsx-runtime-095bf462.js";import{w as Kt,T as U,G as B,h as Y,j as $,k as _t,l as ge,m as Z,n as Q,o as At,q as Xt,t as Yt,s as wt,v as xt,x as Zt,y as Qt,z as ea,E as Ft,I as Vt,J as ta,K as le,N as aa,O as ra,P as z,Q as ft,R as na,S as ia,i as oa,U as la,V as sa,c as da}from"./ConfirmationDialog-007834c9.js";import{r as se,i as de,a as ce}from"./jsx-runtime_commonjs-proxy-255f87f5.js";import{d as It}from"./ContentCopy-61409328.js";import{I as ue}from"./IconButton-5d241967.js";import{B as G}from"./Box-653de305.js";import{P as Ye}from"./Paper-e7d00d51.js";import{T as me,F as Ze}from"./TextField-ffa078b8.js";import{T as pe}from"./Typography-387311b4.js";import{L as fe,a as Qe}from"./MenuList-524109eb.js";import{a as be,g as Se,s as H,u as Te,_ as re,e as ae,f as Ce,b as ie,L as ca,c as qt}from"./styled-29603136.js";import{_ as q}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-8498a53a.js";import{r as w,R as ee}from"./index-8db94870.js";import{l as ua}from"./listItemButtonClasses-9ede265d.js";import{B as ma}from"./ButtonBase-2d6e1c83.js";import{u as pa,a as Bt}from"./useForkRef-1b9aecd1.js";import{i as ha}from"./isMuiElement-08f54e3c.js";import{i as yt}from"./isHostComponent-fa76b8d9.js";import{L as fa,a as ya}from"./ListItemText-6603b0db.js";import{u as ga,d as va,F as ba,j as et,a as tt}from"./InputLabel-fc988d78.js";import{B as at}from"./Button-5c815620.js";import{D as Rt}from"./Divider-96abe89d.js";import{S as Sa,F as rt,C as Nt}from"./FormControlLabel-d1d0ee28.js";import{c as Ta,u as Ca}from"./Grow-e114a38b.js";import{c as ne,S as _a}from"./createSvgIcon-cc5dda5a.js";import{c as Aa}from"./createChainedFunction-0bab83cf.js";import{S as wa}from"./RangeSlider-8eb02b35.js";import{M as xa}from"./MenuItem-ba29a202.js";import{a as nt,m as it,d as ot,bc as kt,bb as lt}from"./SynapseClient-3fe62353.js";import{g as Fa,B as Va}from"./getEndpoint-ac94413e.js";import{d as Ia,e as qa}from"./useEntity-c66fe381.js";import"./OrientationBanner-646a27ec.js";import{S as Ba}from"./LoadingScreen-7013a393.js";import{F as Ra}from"./FullWidthAlert-4144e1c5.js";import{m as Dt}from"./EntityTypeUtils-af0b7516.js";import{g as Na,f as ka}from"./groupBy-5d10f997.js";import{i as Da}from"./unCamelCase-7aed4528.js";import{d as Pa}from"./dayjs.min-8d4ef725.js";import{C as Ea}from"./CalendarWithIconFormGroup-c02ad32f.js";import{b as ja}from"./use-deep-compare-effect.esm-08e85271.js";import{d as $a}from"./ToastMessage-27c60e7f.js";import{T as st}from"./Tooltip-f9c1481b.js";import{C as Oa}from"./SelectionCriteriaPill-94e6202c.js";import{A as he}from"./AlertTitle-2a627105.js";import{L as La}from"./Link-c02845c3.js";function Ma(e){return be("MuiFormGroup",e)}Se("MuiFormGroup",["root","row","error"]);const Wa=["className","row"],Ga=e=>{const{classes:t,row:a,error:n}=e;return Ce({root:["root",a&&"row",n&&"error"]},Ma,t)},Ua=H("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.row&&t.row]}})(({ownerState:e})=>q({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),za=w.forwardRef(function(t,a){const n=Te({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=n,c=re(n,Wa),m=ga(),s=va({props:n,muiFormControl:m,states:["error"]}),h=q({},n,{row:o,error:s.error}),p=Ga(h);return r(Ua,q({className:ae(p.root,i),ownerState:h,ref:a},c))}),Pt=za;function Ha(e){return be("MuiListItem",e)}const Ja=Se("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),te=Ja;function Ka(e){return be("MuiListItemSecondaryAction",e)}Se("MuiListItemSecondaryAction",["root","disableGutters"]);const Xa=["className"],Ya=e=>{const{disableGutters:t,classes:a}=e;return Ce({root:["root",t&&"disableGutters"]},Ka,a)},Za=H("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.disableGutters&&t.disableGutters]}})(({ownerState:e})=>q({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Et=w.forwardRef(function(t,a){const n=Te({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=n,o=re(n,Xa),c=w.useContext(fe),m=q({},n,{disableGutters:c.disableGutters}),s=Ya(m);return r(Za,q({className:ae(s.root,i),ownerState:m,ref:a},o))});Et.muiName="ListItemSecondaryAction";const Qa=Et,er=["className"],tr=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ar=(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]},rr=e=>{const{alignItems:t,button:a,classes:n,dense:i,disabled:o,disableGutters:c,disablePadding:m,divider:s,hasSecondaryAction:h,selected:p}=e;return Ce({root:["root",i&&"dense",!c&&"gutters",!m&&"padding",s&&"divider",o&&"disabled",a&&"button",t==="flex-start"&&"alignItemsFlexStart",h&&"secondaryAction",p&&"selected"],container:["container"]},Ha,n)},nr=H("div",{name:"MuiListItem",slot:"Root",overridesResolver:ar})(({theme:e,ownerState:t})=>q({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&q({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${ua.root}`]:{paddingRight:48}},{[`&.${te.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${te.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ie(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${te.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ie(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${te.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${te.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ie(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ie(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),ir=H("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),or=w.forwardRef(function(t,a){const n=Te({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:c=!1,children:m,className:s,component:h,components:p={},componentsProps:g={},ContainerComponent:u="li",ContainerProps:{className:d}={},dense:f=!1,disabled:y=!1,disableGutters:l=!1,disablePadding:v=!1,divider:S=!1,focusVisibleClassName:C,secondaryAction:_,selected:b=!1,slotProps:A={},slots:x={}}=n,R=re(n.ContainerProps,er),I=re(n,tr),M=w.useContext(fe),E=w.useMemo(()=>({dense:f||M.dense||!1,alignItems:i,disableGutters:l}),[i,M.dense,f,l]),k=w.useRef(null);pa(()=>{o&&k.current&&k.current.focus()},[o]);const F=w.Children.toArray(m),W=F.length&&ha(F[F.length-1],["ListItemSecondaryAction"]),D=q({},n,{alignItems:i,autoFocus:o,button:c,dense:E.dense,disabled:y,disableGutters:l,disablePadding:v,divider:S,hasSecondaryAction:W,selected:b}),O=rr(D),V=Bt(k,a),j=x.root||p.Root||nr,P=A.root||g.root||{},J=q({className:ae(O.root,P.className,s),disabled:y},I);let K=h||"li";return c&&(J.component=h||"div",J.focusVisibleClassName=ae(te.focusVisible,C),K=ma),W?(K=!J.component&&!h?"div":K,u==="li"&&(K==="li"?K="div":J.component==="li"&&(J.component="div")),r(fe.Provider,{value:E,children:T(ir,q({as:u,className:ae(O.container,d),ref:V,ownerState:D},R,{children:[r(j,q({},P,!yt(j)&&{as:K,ownerState:q({},D,P.ownerState)},J,{children:F})),F.pop()]}))})):r(fe.Provider,{value:E,children:T(j,q({},P,{as:K,ref:V},!yt(j)&&{ownerState:q({},D,P.ownerState)},J,{children:[F,_&&r(Qa,{children:_})]}))})}),dt=or,lr=ne(r("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),sr=ne(r("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),dr=H("span")({position:"relative",display:"flex"}),cr=H(lr)({transform:"scale(1)"}),ur=H(sr)(({theme:e,ownerState:t})=>q({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function jt(e){const{checked:t=!1,classes:a={},fontSize:n}=e,i=q({},e,{checked:t});return T(dr,{className:a.root,ownerState:i,children:[r(cr,{fontSize:n,className:a.background,ownerState:i}),r(ur,{fontSize:n,className:a.dot,ownerState:i})]})}const mr=w.createContext(void 0),$t=mr;function pr(){return w.useContext($t)}function hr(e){return be("MuiRadio",e)}const fr=Se("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),gt=fr,yr=["checked","checkedIcon","color","icon","name","onChange","size","className"],gr=e=>{const{classes:t,color:a}=e,n={root:["root",`color${qt(a)}`]};return q({},t,Ce(n,hr,t))},vr=H(Sa,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`color${qt(a.color)}`]]}})(({theme:e,ownerState:t})=>q({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ie(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${gt.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${gt.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function br(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const vt=r(jt,{checked:!0}),bt=r(jt,{}),Sr=w.forwardRef(function(t,a){var n,i;const o=Te({props:t,name:"MuiRadio"}),{checked:c,checkedIcon:m=vt,color:s="primary",icon:h=bt,name:p,onChange:g,size:u="medium",className:d}=o,f=re(o,yr),y=q({},o,{color:s,size:u}),l=gr(y),v=pr();let S=c;const C=Aa(g,v&&v.onChange);let _=p;return v&&(typeof S>"u"&&(S=br(v.value,o.value)),typeof _>"u"&&(_=v.name)),r(vr,q({type:"radio",icon:w.cloneElement(h,{fontSize:(n=bt.props.fontSize)!=null?n:u}),checkedIcon:w.cloneElement(m,{fontSize:(i=vt.props.fontSize)!=null?i:u}),ownerState:y,classes:l,name:_,checked:S,onChange:C,ref:a,className:ae(l.root,d)},f))}),Tr=Sr,Cr=["actions","children","defaultValue","name","onChange","value"],_r=w.forwardRef(function(t,a){const{actions:n,children:i,defaultValue:o,name:c,onChange:m,value:s}=t,h=re(t,Cr),p=w.useRef(null),[g,u]=Ta({controlled:s,default:o,name:"RadioGroup"});w.useImperativeHandle(n,()=>({focus:()=>{let l=p.current.querySelector("input:not(:disabled):checked");l||(l=p.current.querySelector("input:not(:disabled)")),l&&l.focus()}}),[]);const d=Bt(a,p),f=Ca(c),y=w.useMemo(()=>({name:f,onChange(l){u(l.target.value),m&&m(l,l.target.value)},value:g}),[f,m,u,g]);return r($t.Provider,{value:y,children:r(Pt,q({role:"radiogroup",ref:d},h,{children:i}))})}),Ar=_r,wr=ne(r("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),xr=ne(r("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Fr=ne(r("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Ot=ne(r("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");function Vr(e,t){const{accessToken:a,keyFactory:n}=nt();return it(n.getEntityBoundJsonSchemaQueryKey(e),()=>ot.getSchemaBinding(e,a),t)}function Bi(e,t){const{accessToken:a,keyFactory:n}=nt();return it(n.getEntitySchemaValidationResultsQueryKey(e),()=>ot.getSchemaValidationResults(e,a),t)}function Ir(e,t){const{keyFactory:a}=nt();return it(a.getValidationSchemaQueryKey(e),async()=>(await ot.getValidationSchema(e)).validationSchema,t)}var ct={},qr=de;Object.defineProperty(ct,"__esModule",{value:!0});var Lt=ct.default=void 0,Br=qr(se()),Rr=ce,Nr=(0,Br.default)((0,Rr.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");Lt=ct.default=Nr;var ut={},kr=de;Object.defineProperty(ut,"__esModule",{value:!0});var Mt=ut.default=void 0,Dr=kr(se()),Pr=ce,Er=(0,Dr.default)((0,Pr.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");Mt=ut.default=Er;var mt={},jr=de;Object.defineProperty(mt,"__esModule",{value:!0});var Wt=mt.default=void 0,$r=jr(se()),Or=ce,Lr=(0,$r.default)((0,Or.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");Wt=mt.default=Lr;var pt={},Mr=de;Object.defineProperty(pt,"__esModule",{value:!0});var Gt=pt.default=void 0,Wr=Mr(se()),Gr=ce,Ur=(0,Wr.default)((0,Gr.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");Gt=pt.default=Ur;var ht={},zr=de;Object.defineProperty(ht,"__esModule",{value:!0});var Ut=ht.default=void 0,Hr=zr(se()),Jr=ce,Kr=(0,Hr.default)((0,Jr.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");Ut=ht.default=Kr;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(this,arguments)}function X(e,t){if(e==null)return{};var a={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(a[i]=e[i]);return a}var Xr=["uiSchema","registry"];function Yr(e){var t=e.registry,a=X(e,Xr),n=t.translateString;return r(ue,N({title:n(U.AddItemButton)},a,{color:"primary",children:r(Lt,{})}))}function Zr(e){var t=e.children,a=e.disabled,n=e.hasToolbar,i=e.hasCopy,o=e.hasMoveDown,c=e.hasMoveUp,m=e.hasRemove,s=e.index,h=e.onCopyIndexClick,p=e.onDropIndexClick,g=e.onReorderClick,u=e.readonly,d=e.uiSchema,f=e.registry,y=f.templates.ButtonTemplates,l=y.CopyButton,v=y.MoveDownButton,S=y.MoveUpButton,C=y.RemoveButton,_={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return T(B,{container:!0,alignItems:"center",children:[r(B,{item:!0,xs:!0,style:{overflow:"auto"},children:r(G,{mb:2,children:r(Ye,{elevation:2,children:r(G,{p:2,children:t})})})}),n&&T(B,{item:!0,children:[(c||o)&&r(S,{style:_,disabled:a||u||!c,onClick:g(s,s-1),uiSchema:d,registry:f}),(c||o)&&r(v,{style:_,disabled:a||u||!o,onClick:g(s,s+1),uiSchema:d,registry:f}),i&&r(l,{style:_,disabled:a||u,onClick:h(s),uiSchema:d,registry:f}),m&&r(C,{style:_,disabled:a||u,onClick:p(s),uiSchema:d,registry:f})]})]})}var Qr=["key"];function en(e){var t=e.canAdd,a=e.disabled,n=e.idSchema,i=e.uiSchema,o=e.items,c=e.onAddClick,m=e.readonly,s=e.registry,h=e.required,p=e.schema,g=e.title,u=Y(i),d=$("ArrayFieldDescriptionTemplate",s,u),f=$("ArrayFieldItemTemplate",s,u),y=$("ArrayFieldTitleTemplate",s,u),l=s.templates.ButtonTemplates.AddButton;return r(Ye,{elevation:2,children:T(G,{p:2,children:[r(y,{idSchema:n,title:u.title||g,schema:p,uiSchema:i,required:h,registry:s}),r(d,{idSchema:n,description:u.description||p.description,schema:p,uiSchema:i,registry:s}),T(B,{container:!0,children:[o&&o.map(function(v){var S=v.key,C=X(v,Qr);return r(f,N({},C),S)}),t&&r(B,{container:!0,justifyContent:"flex-end",children:r(B,{item:!0,children:r(G,{mt:2,children:r(l,{className:"array-item-add",onClick:c,disabled:a||m,uiSchema:i,registry:s})})})})]},"array-item-list-"+n.$id)]})})}var tn=["id","name","placeholder","required","readonly","disabled","type","label","hideLabel","value","onChange","onChangeOverride","onBlur","onFocus","autofocus","options","schema","uiSchema","rawErrors","formContext","registry","InputLabelProps"],an=["step","min","max"],rn=["date","datetime-local","file","time"];function nn(e){var t=e.id,a=e.placeholder,n=e.required,i=e.readonly,o=e.disabled,c=e.type,m=e.label,s=e.hideLabel,h=e.value,p=e.onChange,g=e.onChangeOverride,u=e.onBlur,d=e.onFocus,f=e.autofocus,y=e.options,l=e.schema,v=e.rawErrors,S=v===void 0?[]:v,C=e.InputLabelProps,_=X(e,tn),b=_t(l,c,y),A=b.step,x=b.min,R=b.max,I=X(b,an),M=N({inputProps:N({step:A,min:x,max:R},l.examples?{list:ge(t)}:void 0)},I),E=function(O){var V=O.target.value;return p(V===""?y.emptyValue:V)},k=function(O){var V=O.target.value;return u(t,V)},F=function(O){var V=O.target.value;return d(t,V)},W=rn.includes(c)?N({},C,{shrink:!0}):C;return T(L,{children:[r(me,N({id:t,name:t,placeholder:a,label:Z(m||void 0,s,!1),autoFocus:f,required:n,disabled:o||i},M,{value:h||h===0?h:"",error:S.length>0,onChange:g||E,onBlur:k,onFocus:F,InputLabelProps:W},_,{"aria-describedby":Q(t,!!l.examples)})),Array.isArray(l.examples)&&r("datalist",{id:ge(t),children:l.examples.concat(l.default&&!l.examples.includes(l.default)?[l.default]:[]).map(function(D){return r("option",{value:D},D)})})]})}function on(e){var t=e.id,a=e.description;return a?r(pe,{id:t,variant:"subtitle2",style:{marginTop:"5px"},children:a}):null}function ln(e){var t=e.errors,a=e.registry,n=a.translateString;return r(Ye,{elevation:2,children:T(G,{mb:2,p:2,children:[r(pe,{variant:"h6",children:n(U.ErrorsLabel)}),r(Qe,{dense:!0,children:t.map(function(i,o){return T(dt,{children:[r(fa,{children:r(Mt,{color:"error"})}),r(ya,{primary:i.stack})]},o)})})]})})}var sn=["icon","color","uiSchema","registry"],dn=["iconType"];function _e(e){var t=e.icon,a=e.color,n=X(e,sn);return r(ue,N({},n,{size:"small",color:a,children:t}))}function cn(e){var t=e.registry.translateString;return r(_e,N({title:t(U.CopyButton)},e,{icon:r(It,{fontSize:"small"})}))}function un(e){var t=e.registry.translateString;return r(_e,N({title:t(U.MoveDownButton)},e,{icon:r(Wt,{fontSize:"small"})}))}function mn(e){var t=e.registry.translateString;return r(_e,N({title:t(U.MoveUpButton)},e,{icon:r(Gt,{fontSize:"small"})}))}function pn(e){var t=e.iconType,a=X(e,dn),n=a.registry.translateString;return r(_e,N({title:n(U.RemoveButton)},a,{color:"error",icon:r(Ut,{fontSize:t==="default"?void 0:"small"})}))}function hn(e){var t=e.errors,a=t===void 0?[]:t,n=e.idSchema;if(a.length===0)return null;var i=At(n);return r(Qe,{dense:!0,disablePadding:!0,children:a.map(function(o,c){return r(dt,{disableGutters:!0,children:r(Ze,{id:i,children:o})},c)})})}function fn(e){var t=e.idSchema,a=e.help;if(!a)return null;var n=Xt(t);return r(Ze,{id:n,children:a})}function yn(e){var t=e.id,a=e.children,n=e.classNames,i=e.style,o=e.disabled,c=e.displayLabel,m=e.hidden,s=e.label,h=e.onDropPropertyClick,p=e.onKeyChange,g=e.readonly,u=e.required,d=e.rawErrors,f=d===void 0?[]:d,y=e.errors,l=e.help,v=e.rawDescription,S=e.schema,C=e.uiSchema,_=e.registry,b=Y(C),A=$("WrapIfAdditionalTemplate",_,b);return m?r("div",{style:{display:"none"},children:a}):r(A,{classNames:n,style:i,disabled:o,id:t,label:s,onDropPropertyClick:h,onKeyChange:p,readonly:g,required:u,schema:S,uiSchema:C,registry:_,children:T(ba,{fullWidth:!0,error:!!f.length,required:u,children:[a,c&&v?r(pe,{variant:"caption",color:"textSecondary",children:v}):null,y,l]})})}function gn(e){var t=e.description,a=e.title,n=e.properties,i=e.required,o=e.disabled,c=e.readonly,m=e.uiSchema,s=e.idSchema,h=e.schema,p=e.formData,g=e.onAddClick,u=e.registry,d=Y(m),f=$("TitleFieldTemplate",u,d),y=$("DescriptionFieldTemplate",u,d),l=u.templates.ButtonTemplates.AddButton;return T(L,{children:[a&&r(f,{id:Yt(s),title:a,required:i,schema:h,uiSchema:m,registry:u}),t&&r(y,{id:wt(s),description:t,schema:h,uiSchema:m,registry:u}),T(B,{container:!0,spacing:2,style:{marginTop:"10px"},children:[n.map(function(v,S){return v.hidden?v.content:r(B,{item:!0,xs:12,style:{marginBottom:"10px"},children:v.content},S)}),xt(h,m,p)&&r(B,{container:!0,justifyContent:"flex-end",children:r(B,{item:!0,children:r(l,{className:"object-property-expand",onClick:g(h),disabled:o||c,uiSchema:m,registry:u})})})]})]})}function vn(e){var t=e.uiSchema,a=Zt(t),n=a.submitText,i=a.norender,o=a.props,c=o===void 0?{}:o;return i?null:r(G,{marginTop:3,children:r(at,N({type:"submit",variant:"contained",color:"primary"},c,{children:n}))})}function bn(e){var t=e.id,a=e.title;return T(G,{id:t,mb:1,mt:1,children:[r(pe,{variant:"h5",children:a}),r(Rt,{})]})}function Sn(e){var t=e.children,a=e.classNames,n=e.style,i=e.disabled,o=e.id,c=e.label,m=e.onDropPropertyClick,s=e.onKeyChange,h=e.readonly,p=e.required,g=e.schema,u=e.uiSchema,d=e.registry,f=d.templates,y=d.translateString,l=f.ButtonTemplates.RemoveButton,v=y(U.KeyLabel,[c]),S=le in g,C={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!S)return r("div",{className:a,style:n,children:t});var _=function(A){var x=A.target;return s(x.value)};return T(B,{container:!0,alignItems:"center",spacing:2,className:a,style:n,children:[r(B,{item:!0,xs:!0,children:r(me,{fullWidth:!0,required:p,label:v,defaultValue:c,disabled:i||h,id:o+"-key",name:o+"-key",onBlur:h?void 0:_,type:"text"})}),r(B,{item:!0,xs:!0,children:t}),r(B,{item:!0,children:r(l,{iconType:"default",style:C,disabled:i||h,onClick:m(c),uiSchema:u,registry:d})})]},o+"-key")}function Tn(){return{ArrayFieldItemTemplate:Zr,ArrayFieldTemplate:en,BaseInputTemplate:nn,ButtonTemplates:{AddButton:Yr,CopyButton:cn,MoveDownButton:un,MoveUpButton:mn,RemoveButton:pn,SubmitButton:vn},DescriptionFieldTemplate:on,ErrorListTemplate:ln,FieldErrorTemplate:hn,FieldHelpTemplate:fn,FieldTemplate:yn,ObjectFieldTemplate:gn,TitleFieldTemplate:bn,WrapIfAdditionalTemplate:Sn}}function Cn(e){var t,a=e.schema,n=e.id,i=e.value,o=e.disabled,c=e.readonly,m=e.label,s=m===void 0?"":m,h=e.hideLabel,p=e.autofocus,g=e.onChange,u=e.onBlur,d=e.onFocus,f=e.registry,y=e.options,l=e.uiSchema,v=$("DescriptionFieldTemplate",f,y),S=Qt(a),C=function(R,I){return g(I)},_=function(R){var I=R.target.value;return u(n,I)},b=function(R){var I=R.target.value;return d(n,I)},A=(t=y.description)!=null?t:a.description;return T(L,{children:[!h&&!!A&&r(v,{id:wt(n),description:A,schema:a,uiSchema:l,registry:f}),r(rt,{control:r(Nt,{id:n,name:n,checked:typeof i>"u"?!1:!!i,required:S,disabled:o||c,autoFocus:p,onChange:C,onBlur:_,onFocus:b,"aria-describedby":Q(n)}),label:Z(s,h,!1)})]})}function _n(e){var t=e.label,a=e.hideLabel,n=e.id,i=e.disabled,o=e.options,c=e.value,m=e.autofocus,s=e.readonly,h=e.required,p=e.onChange,g=e.onBlur,u=e.onFocus,d=o.enumOptions,f=o.enumDisabled,y=o.inline,l=o.emptyValue,v=Array.isArray(c)?c:[c],S=function(A){return function(x){var R=x.target.checked;p(R?aa(A,v,d):ra(A,v,d))}},C=function(A){var x=A.target.value;return g(n,z(x,d,l))},_=function(A){var x=A.target.value;return u(n,z(x,d,l))};return T(L,{children:[Z(r(et,{required:h,htmlFor:n,children:t||void 0}),a),r(Pt,{id:n,row:!!y,children:Array.isArray(d)&&d.map(function(b,A){var x=ea(b.value,v),R=Array.isArray(f)&&f.indexOf(b.value)!==-1,I=r(Nt,{id:Ft(n,A),name:n,checked:x,disabled:i||R||s,autoFocus:m&&A===0,onChange:S(A),onBlur:C,onFocus:_,"aria-describedby":Q(n)});return r(rt,{control:I,label:b.label},A)})})]})}function An(e){var t,a=e.id,n=e.options,i=e.value,o=e.required,c=e.disabled,m=e.readonly,s=e.label,h=e.hideLabel,p=e.onChange,g=e.onBlur,u=e.onFocus,d=n.enumOptions,f=n.enumDisabled,y=n.emptyValue,l=function(A,x){return p(z(x,d,y))},v=function(A){var x=A.target.value;return g(a,z(x,d,y))},S=function(A){var x=A.target.value;return u(a,z(x,d,y))},C=n?n.inline:!1,_=(t=Vt(i,d))!=null?t:null;return T(L,{children:[Z(r(et,{required:o,htmlFor:a,children:s||void 0}),h),r(Ar,{id:a,name:a,value:_,row:C,onChange:l,onBlur:v,onFocus:S,"aria-describedby":Q(a),children:Array.isArray(d)&&d.map(function(b,A){var x=Array.isArray(f)&&f.indexOf(b.value)!==-1,R=r(rt,{control:r(Tr,{name:a,id:Ft(a,A),color:"primary"}),label:b.label,value:String(A),disabled:c||x||m},A);return R})})]})}function wn(e){var t=e.value,a=e.readonly,n=e.disabled,i=e.onBlur,o=e.onFocus,c=e.options,m=e.schema,s=e.onChange,h=e.required,p=e.label,g=e.hideLabel,u=e.id,d=N({value:t,label:p,id:u,name:u},ta(m)),f=function(S,C){s(C??c.emptyValue)},y=function(S){var C=S.target.value;return i(u,C)},l=function(S){var C=S.target.value;return o(u,C)};return T(L,{children:[Z(r(et,{required:h,htmlFor:u,children:p||void 0}),g),r(wa,N({disabled:n||a,onChange:f,onBlur:y,onFocus:l,valueLabelDisplay:"auto"},d,{"aria-describedby":Q(u)}))]})}var xn=["schema","id","name","options","label","hideLabel","required","disabled","placeholder","readonly","value","multiple","autofocus","onChange","onBlur","onFocus","rawErrors","registry","uiSchema","hideError","formContext"];function Fn(e){var t=e.id,a=e.options,n=e.label,i=e.hideLabel,o=e.required,c=e.disabled,m=e.placeholder,s=e.readonly,h=e.value,p=e.multiple,g=e.autofocus,u=e.onChange,d=e.onBlur,f=e.onFocus,y=e.rawErrors,l=y===void 0?[]:y,v=X(e,xn),S=a.enumOptions,C=a.enumDisabled,_=a.emptyValue;p=typeof p>"u"?!1:!!p;var b=p?[]:"",A=typeof h>"u"||p&&h.length<1||!p&&h===b,x=function(k){var F=k.target.value;return u(z(F,S,_))},R=function(k){var F=k.target.value;return d(t,z(F,S,_))},I=function(k){var F=k.target.value;return f(t,z(F,S,_))},M=Vt(h,S,p);return r(me,N({id:t,name:t,label:Z(n||void 0,i,!1),value:A?b:M,required:o,disabled:c||s,autoFocus:g,placeholder:m,error:l.length>0,onChange:x,onBlur:R,onFocus:I},v,{select:!0,InputLabelProps:N({},v.InputLabelProps,{shrink:!A}),SelectProps:N({},v.SelectProps,{multiple:p}),"aria-describedby":Q(t),children:Array.isArray(S)&&S.map(function(E,k){var F=E.value,W=E.label,D=Array.isArray(C)&&C.indexOf(F)!==-1;return r(xa,{value:String(k),disabled:D,children:W},k)})}))}function Vn(e){var t=e.options,a=e.registry,n=$("BaseInputTemplate",a,t),i=5;return(typeof t.rows=="string"||typeof t.rows=="number")&&(i=t.rows),r(n,N({},e,{multiline:!0,rows:i}))}function In(){return{CheckboxWidget:Cn,CheckboxesWidget:_n,RadioWidget:An,RangeWidget:wn,SelectWidget:Fn,TextareaWidget:Vn}}function qn(){return{templates:Tn(),widgets:In()}}function Bn(){return Kt(qn())}var Rn=Bn();const ve=e=>r(_a,{...e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{d:"M14 10H2V12H14V10ZM14 6H2V8H14V6ZM18 14V10H16V14H12V16H16V20H18V16H22V14H18ZM2 16H10V14H2V16Z"})});try{ve.displayName="AddToList",ve.__docgenInfo={description:"",displayName:"AddToList",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).
You can use the \`htmlColor\` prop to apply a color attribute to the SVG element.`,name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"disabled"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"error"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"medium"'},{value:'"large"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:`The shape-rendering attribute. The behavior of the different options is described on the
[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).
If you are having issues with blurry icons you should investigate this prop.`,name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:`Provides a human-readable title for the element that contains it.
https://www.w3.org/TR/SVG-access/#Equivalent`,name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:`Allows you to redefine what the coordinates without units mean inside an SVG element.
For example, if the SVG element is 500 (width) by 200 (height),
and you pass viewBox="0 0 50 20",
this means that the coordinates inside the SVG will go from the top left corner (0,0)
to bottom right (50,20) and each unit will be worth 10px.`,name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}}}catch{}function Nn(e){const t={};return Object.keys(e).forEach(a=>{let n=e[a];Array.isArray(n)?(n=n.filter(i=>i!=null),kt(n)||(t[a]=n)):t[a]=n}),t}function we(e){var t,a;return(t=e.property)!=null&&t.startsWith("[")?e.property.substring(2,e.property.length-2):(a=e.property)!=null&&a.startsWith(".")?e.property.substring(1):e.property||""}function kn(e){return t=>{const a=Na(t,n=>n.property);return Object.keys(a).map(n=>{const i=a[n];i.some(m=>m.message==="should match some schema in anyOf")&&i.every(m=>m.message==="should be string"||m.message==="should be equal to constant"?!0:m.message==="should match some schema in anyOf")&&i.length>0&&(i[0].message="should be equal to one of the allowed values",a[n]=[i[0]])}),t=ka(a),e&&(t=t.map(n=>{const i=we(n);return i&&Dt[e].includes(i)&&(n.message=`"${i}" is a reserved internal key and cannot be used.`),n})),t}}function xe(e){return Array.isArray(e)?e:typeof e=="string"?e.split(",").map(t=>t.trim()):[e]}const oe=ee.createContext(void 0);function Fe(e){return r(oe.Provider,{value:e.value,children:e.children})}const St=oe.Consumer;function Dn(){return w.useContext(oe)}try{Fe.displayName="AdditionalPropertyContextProvider",Fe.__docgenInfo={description:"",displayName:"AdditionalPropertyContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"AdditionalPropertyContextType"}}}}}catch{}try{oe.displayName="AdditionalPropertyContext",oe.__docgenInfo={description:"The `AdditionalPropertyContext` is a custom context object used to pass the `dropProperty` handler to the items within\na particular additional property.\n\nIn RJSF, dropping an entire additional property is handled at the `object` level. In this Synapse UI,\nwe treat all additional properties (a.k.a. custom annotations) as arrays, and render the delete control at the `array`\nlevel. RJSF does not normally provide the drop property handler at the `array` level, so we capture it and pass it\nalong using this context.",displayName:"AdditionalPropertyContext",props:{}}}catch{}try{St.displayName="AdditionalPropertyContextConsumer",St.__docgenInfo={description:"",displayName:"AdditionalPropertyContextConsumer",props:{}}}catch{}const zt=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/;var ye=(e=>(e.STRING="String",e.INTEGER="Integer",e.FLOAT="Float",e.BOOLEAN="Boolean",e.DATETIME="Datetime",e))(ye||{});function Ve(e){return e.length===0?"String":e.every(t=>typeof t=="number"||t==="NaN")?e.every(t=>Number.isInteger(t))?"Integer":"Float":e.every(t=>typeof t=="boolean")?"Boolean":e.every(t=>typeof t=="string")&&e.every(t=>!!zt.exec(t))?"Datetime":"String"}function Tt(e,t){switch(t){case"Integer":return e.map(a=>Number.isNaN(Number(a))?0:Math.floor(Number(a)));case"Float":return e.map(a=>{const n=parseFloat(a);return Number.isNaN(n)?"NaN":Number.isInteger(n)?n.toFixed(1):n});case"Datetime":return e.map(a=>typeof a=="string"&&zt.exec(a)?a:new Date().toISOString());case"Boolean":return e.map(a=>!!a);case"String":default:return e.map(a=>String(a))}}function Ie(e){switch(e){case"Datetime":return{type:"string",format:"datetime"};case"Boolean":return{type:"boolean"};case"Float":return{type:"number"};case"Integer":return{type:"integer"};case"String":default:return{type:"string"}}}function qe(e){const{formData:t,onChange:a,registry:n,schema:i,name:o,onDropPropertyClick:c,idSchema:m}=e,s=m.$id,{ArrayField:h}=n.fields,{SelectWidget:p}=n.widgets,[g,u]=w.useState(Ve(xe(t))),[d,f]=w.useState(g);w.useEffect(()=>{function l(){if(Array.isArray(t)){const v=t.length===0||t.every(C=>C==null||C==""),S=Tt(t,d);(v||d!==g)&&Da(t,S)&&u(d)}}l()},[d]),w.useEffect(()=>{function l(){if(Array.isArray(t))if(t.every(v=>v==null))c(o)(new CustomEvent("dropEmptyProperty"));else{const v=Tt(t,d);u(d),a(v)}}l()},[g]);const y=Ie(g);return Array.isArray(t)?T(Fe,{value:{dropProperty:l=>{c(o)(l)}},children:[T(B,{item:!0,xs:2,children:[r(tt,{htmlFor:`${s}-type`,children:"Type"}),r(p,{name:"Type",id:`${s}-type`,schema:{},options:{enumOptions:Object.keys(ye).map(l=>({label:ye[l],value:ye[l]}))},value:g,onChange:l=>{f(l)},disabled:e.disabled,readOnly:e.readonly,required:!0,isClearable:!1,onBlur:()=>{},onFocus:()=>{},registry:n,label:"Type"})]}),r(B,{item:!0,xs:7,children:r(h,{...e,schema:{...i,items:{...y}}})}),g!==d&&r(Ra,{variant:"warning",title:"Data may be lost when converting types",description:`Are you sure you want to convert ${o} from ${g} to ${d}? Current values may be lost on conversion.`,primaryButtonConfig:{text:"Convert",onClick:()=>{u(d)}},secondaryButtonConfig:{text:"Cancel",onClick:()=>{f(g)}},isGlobal:!1})]}):(a(xe(t)),r(L,{}))}try{Ve.displayName="guessPropertyType",Ve.__docgenInfo={description:"",displayName:"guessPropertyType",props:{}}}catch{}try{Ie.displayName="getSchemaForPropertyType",Ie.__docgenInfo={description:"Maps a Synapse Annotation PropertyType to a JSON Schema that captures the type and format.",displayName:"getSchemaForPropertyType",props:{}}}catch{}try{qe.displayName="AdditionalPropertiesSchemaField",qe.__docgenInfo={description:`react-jsonschema-form SchemaField override for "additionalProperties" only. In Synapse these are "custom annotations".
Modifies the data to provide full compatibility with Synapse annotations features.

This component provides these enhancements to the SchemaField:
- Supports selecting a type, and changing the input widget appropriately
- Identifying the type on mount
- Treat all field values as arrays
- When the last array value is removed, remove the entire key from the form.`,displayName:"AdditionalPropertiesSchemaField",props:{onDropPropertyClick:{defaultValue:null,description:"",name:"onDropPropertyClick",required:!0,type:{name:"(key: string) => (event: any) => void"}}}}}catch{}const Be=e=>{const{SelectWidget:t}=e.registry.widgets;return r(t,{...e,options:{enumOptions:[{value:!0,label:"true"},{value:!1,label:"false"}]}})};try{Be.displayName="BooleanWidget",Be.__docgenInfo={description:"Select widget compatible with react-jsonschema-form booleans",displayName:"BooleanWidget",props:{}}}catch{}const Re=({disabled:e,value:t,onChange:a})=>r(Ea,{disabled:e,value:t?Pa(t):"",setterCallback:n=>{n==null||typeof n=="string"?a(n):a(n.toISOString())}});try{Re.displayName="DateTimeWidget",Re.__docgenInfo={description:"DateTime picker widget compatible with react-jsonschema-form and Synapse Datetime annotations.",displayName:"DateTimeWidget",props:{}}}catch{}function Ne(e){const{description:t,disabled:a,formData:n,idSchema:i,onAddClick:o,properties:c,readonly:m,registry:s,required:h,schema:p,title:g,uiSchema:u}=e,d=Y(u),f=$("TitleFieldTemplate",s,d),y=$("DescriptionFieldTemplate",s,d),l=w.useRef(new Set);return ja(()=>{if("properties"in p&&p.properties){const v=Object.keys(p.properties),S=new Set(v.filter(C=>!p.properties[C][le]));if(l.current!=null){const C=Array.from(l.current).filter(_=>!S.has(_)&&!!n&&n[_]!=null&&Array.isArray(n[_])&&n[_].filter(b=>b!=null).length>0);C.length>0&&$a(`The following annotations are no longer specified by the schema and have been converted to custom fields: ${C.join(", ")}.`,"warning",{title:"Fields No Longer Specified By Schema"})}l.current=S}},[p.properties]),T("fieldset",{id:i.$id,children:[(d.title||g)&&r(f,{id:`${i.$id}__title`,schema:p,title:d.title||g,required:h,uiSchema:u,registry:s}),(d.description||t)&&r(y,{id:`${i.$id}__description`,description:d.description||t,registry:s,schema:p}),c.map(v=>v.content),xt(p,u,n)&&r(st,{title:"Add a new custom field",placement:"top",children:r(at,{sx:{my:2},variant:"contained",className:"object-property-expand",onClick:o(p),disabled:a||m,"aria-label":"Add Custom Field",children:r(ve,{})})})]})}try{Ne.displayName="ObjectFieldTemplate",Ne.__docgenInfo={description:`Derived from the base ObjectFieldTemplate with annotations-editor-specific changes
- Custom button for adding additional properties
- Tracks properties to show a toast message if a property is converted to an additionalProperty because it was
  dropped from the schema (e.g. in a conditional schema)

See https://github.com/rjsf-team/react-jsonschema-form/blob/main/packages/mui/src/ObjectFieldTemplate/ObjectFieldTemplate.tsx`,displayName:"ObjectFieldTemplate",props:{title:{defaultValue:null,description:"A string value containing the title for the object",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"A string value containing the description for the object",name:"description",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the object is disabled",name:"disabled",required:!1,type:{name:"boolean"}},properties:{defaultValue:null,description:"An array of objects representing the properties in the object",name:"properties",required:!0,type:{name:"ObjectFieldTemplatePropertyType[]"}},onAddClick:{defaultValue:null,description:"Returns a function that adds a new property to the object (to be used with additionalProperties)",name:"onAddClick",required:!0,type:{name:"(schema: S) => () => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the object is read-only",name:"readonly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the object is required",name:"required",required:!1,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this object",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this object field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},idSchema:{defaultValue:null,description:"An object containing the id for this object & ids for its properties",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}},errorSchema:{defaultValue:null,description:"The optional validation errors in the form of an `ErrorSchema`",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},formData:{defaultValue:null,description:"The form data for the object",name:"formData",required:!1,type:{name:"T"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to Form",name:"formContext",required:!1,type:{name:"GenericObjectType"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}const ke=e=>{const{BaseInputTemplate:t}=e.registry.templates;let a;return(e.schema.type==="number"||e.schema.type==="integer")&&(a="text"),r(t,{...e,options:{...e.options,inputType:a}})};try{ke.displayName="TextWidget",ke.__docgenInfo={description:`This TextWidget is almost identical to the rjsf TextWidget, except we handle numbers like strings to prevent issues if
the actual annotation data is not a string.`,displayName:"TextWidget",props:{}}}catch{}try{Widget.displayName="Widget",Widget.__docgenInfo={description:"The definition of a React-based Widget component",displayName:"Widget",props:{}}}catch{}function De(e){const{fields:{ObjectField:t}}=ia();return w.useEffect(()=>{const{schema:a,formData:n,onChange:i}=e,o={...n};a[ft]&&(Object.entries(a[ft]).forEach(([c,m])=>{const s=o[c];m[le]?Array.isArray(s)||(o[c]=xe(s)):typeof m=="object"&&"type"in m&&m.type!=="array"&&Array.isArray(s)&&(o[c]=s.map(h=>`${h}`).join(", "))}),na(n,o)||i(o))}),r(t,{...e})}try{De.displayName="CustomObjectField",De.__docgenInfo={description:"Extends the @rjsf/core `ObjectField` and just adds a custom hook for Synapse annotation business logic",displayName:"CustomObjectField",props:{}}}catch{}function Pe(e){const{children:t,disabled:a,hasToolbar:n,hasCopy:i,hasMoveDown:o,hasMoveUp:c,hasRemove:m,index:s,onCopyIndexClick:h,onDropIndexClick:p,onReorderClick:g,readonly:u,uiSchema:d,registry:f,onAddIndexClick:y}=e,{CopyButton:l,MoveDownButton:v,MoveUpButton:S,RemoveButton:C,AddButton:_}=f.templates.ButtonTemplates;return T(B,{container:!0,gap:2,justifyContent:"space-between",className:"array-item",children:[r(B,{item:!0,xs:!0,children:r(G,{mb:2,children:t})}),n&&T(B,{item:!0,sx:{alignSelf:"start",my:1},display:"flex",flexDirection:"row",gap:1,justifyContent:"flex-start",children:[(c||o)&&r(S,{disabled:a||u||!c,onClick:g(s,s-1),uiSchema:d,registry:f}),(c||o)&&r(v,{disabled:a||u||!o,onClick:g(s,s+1),uiSchema:d,registry:f}),i&&r(l,{disabled:a||u,onClick:h(s),uiSchema:d,registry:f}),m&&r(C,{"aria-label":"Remove",disabled:a||u,onClick:p(s),uiSchema:d,registry:f}),r(_,{disabled:a||u,uiSchema:d,registry:f,"aria-label":"Add New",onClick:y(s+1)})]})]})}try{Pe.displayName="ArrayFieldItemTemplate",Pe.__docgenInfo={description:"The `ArrayFieldItemTemplate` component is the template used to render an items of an array.",displayName:"ArrayFieldItemTemplate",props:{children:{defaultValue:null,description:"The html for the item's content",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},className:{defaultValue:null,description:"The className string",name:"className",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array item is disabled",name:"disabled",required:!0,type:{name:"boolean"}},canAdd:{defaultValue:null,description:"A boolean value stating whether new items can be added to the array",name:"canAdd",required:!0,type:{name:"boolean"}},hasCopy:{defaultValue:null,description:"A boolean value stating whether the array item can be copied, assumed false if missing",name:"hasCopy",required:!0,type:{name:"boolean"}},hasMoveDown:{defaultValue:null,description:"A boolean value stating whether the array item can be moved down",name:"hasMoveDown",required:!0,type:{name:"boolean"}},hasMoveUp:{defaultValue:null,description:"A boolean value stating whether the array item can be moved up",name:"hasMoveUp",required:!0,type:{name:"boolean"}},hasRemove:{defaultValue:null,description:"A boolean value stating whether the array item can be removed",name:"hasRemove",required:!0,type:{name:"boolean"}},hasToolbar:{defaultValue:null,description:"A boolean value stating whether the array item has a toolbar",name:"hasToolbar",required:!0,type:{name:"boolean"}},index:{defaultValue:null,description:"A number stating the index the array item occurs in `items`",name:"index",required:!0,type:{name:"number"}},totalItems:{defaultValue:null,description:"A number stating the total number `items` in the array",name:"totalItems",required:!0,type:{name:"number"}},onAddIndexClick:{defaultValue:null,description:"Returns a function that adds a new item at `index`",name:"onAddIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onCopyIndexClick:{defaultValue:null,description:"Returns a function that copies the item at `index` into the position at `index + 1`",name:"onCopyIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onDropIndexClick:{defaultValue:null,description:"Returns a function that removes the item at `index`",name:"onDropIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onReorderClick:{defaultValue:null,description:"Returns a function that swaps the items at `index` with `newIndex`",name:"onReorderClick",required:!0,type:{name:"(index: number, newIndex: number) => (event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array item is read-only",name:"readonly",required:!0,type:{name:"boolean"}},key:{defaultValue:null,description:"A stable, unique key for the array item",name:"key",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"The schema object for this array item",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this array item",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function Ee(e){const{idSchema:t,uiSchema:a,items:n,registry:i,schema:o}=e,c=Y(a),m=$("ArrayFieldTitleTemplate",i,c),s=$("ArrayFieldDescriptionTemplate",i,c),h=$("ArrayFieldItemTemplate",i,c),p=!!e.schema[le],g=Dn(),[u,d]=w.useState(!1);return w.useEffect(()=>{e.items.length===0&&e.onAddClick()},[e]),T(G,{id:t.$id,className:e.className,children:[T("div",{className:"LabelContainer",children:[r(m,{...e}),!p&&r(st,{title:"More Info",children:r(ue,{onClick:f=>{f.preventDefault(),d(!u)},"aria-expanded":u,size:"small",children:r(Ot,{color:"primary",sx:{width:"16px",height:"16px"}})})})]}),n&&r(L,{children:n.map(({key:f,index:y,...l})=>r(h,{index:y,...l,hasCopy:!0,hasMoveUp:n.length>1&&y!=0,hasMoveDown:n.length>1&&y!=n.length-1,hasRemove:p||n.length>1,onDropIndexClick:p&&n.length==1&&g?v=>S=>{g.dropProperty(S)}:l.onDropIndexClick},f))}),r(lt,{className:"field-description",in:u,children:r(s,{idSchema:t,schema:o,description:(c.description||o.description)??"",uiSchema:a,registry:i})})]})}try{Ee.displayName="ArrayFieldTemplate",Ee.__docgenInfo={description:"The `ArrayFieldTemplate` component is the template used to render all items in an array.",displayName:"ArrayFieldTemplate",props:{canAdd:{defaultValue:null,description:"A boolean value stating whether new elements can be added to the array",name:"canAdd",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"The className string",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array is disabled",name:"disabled",required:!1,type:{name:"boolean"}},idSchema:{defaultValue:null,description:"An object containing the id for this object & ids for its properties",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}},items:{defaultValue:null,description:"An array of objects representing the items in the array",name:"items",required:!0,type:{name:"ArrayFieldTemplateItemType<T, S, F>[]"}},onAddClick:{defaultValue:null,description:"A function that adds a new item to the array",name:"onAddClick",required:!0,type:{name:"(event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array is read-only",name:"readonly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the array is required",name:"required",required:!1,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this array",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this array field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},title:{defaultValue:null,description:"A string value containing the title for the array",name:"title",required:!0,type:{name:"string"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to Form",name:"formContext",required:!1,type:{name:"GenericObjectType"}},formData:{defaultValue:null,description:"The formData for this array",name:"formData",required:!1,type:{name:"T"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this widget",name:"rawErrors",required:!1,type:{name:"string[]"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function je(e){const{id:t,classNames:a,disabled:n,label:i,onKeyChange:o,readonly:c,required:m,schema:s,children:h,registry:p}=e,{translateString:g}=p,u=g(U.KeyLabel,[""]);if(!(le in s))return r("div",{className:a,children:h});const f=({target:y})=>{y&&o(y.value)};return r("div",{className:a,children:T(B,{container:!0,sx:{my:2},columnSpacing:2,rowSpacing:0,children:[r(B,{item:!0,xs:3,children:r(me,{fullWidth:!0,required:m,label:u,defaultValue:i,disabled:n||c,id:`${t}-key`,name:`${t}-key`,onBlur:c?void 0:f,type:"text"})}),h]})})}try{je.displayName="WrapIfAdditionalTemplate",je.__docgenInfo={description:"The `WrapIfAdditional` component is used by the `FieldTemplate` to rename, or remove properties that are\npart of an `additionalProperties` part of a schema.",displayName:"WrapIfAdditionalTemplate",props:{children:{defaultValue:null,description:"The field or widget component instance for this field row",name:"children",required:!0,type:{name:"ReactNode"}},style:{defaultValue:null,description:"An object containing the style as defined in the `uiSchema`",name:"style",required:!1,type:{name:"StyleHTMLAttributes<any>"}},label:{defaultValue:null,description:"The computed label for this field, as a string",name:"label",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"The id of the field in the hierarchy. You can use it to render a label targeting the wrapped widget",name:"id",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the field is disabled",name:"disabled",required:!0,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this field",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},readonly:{defaultValue:null,description:"A boolean value stating if the field is read-only",name:"readonly",required:!0,type:{name:"boolean"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},onDropPropertyClick:{defaultValue:null,description:"The property drop/removal event handler; Called when a field is removed in an additionalProperty context",name:"onDropPropertyClick",required:!0,type:{name:"(value: string) => () => void"}},classNames:{defaultValue:null,description:"A string containing the base CSS classes, merged with any custom ones defined in your uiSchema",name:"classNames",required:!1,type:{name:"string"}},onKeyChange:{defaultValue:null,description:"The key change event handler; Called when the key associated with a field is changed for an additionalProperty",name:"onKeyChange",required:!0,type:{name:"(value: string) => () => void"}}}}}catch{}function $e(e){const{id:t,label:a,children:n,errors:i,help:o,description:c,hidden:m,required:s,displayLabel:h,registry:p,uiSchema:g,schema:u}=e,d=Y(g),f=$("WrapIfAdditionalTemplate",p,d),[y,l]=w.useState(!1);return m?r("div",{className:"hidden",children:n}):T(f,{...e,children:[(h||u.type==="boolean")&&T("div",{className:"LabelContainer",children:[T(tt,{htmlFor:t,children:[a,s&&r("span",{className:"required",children:"*"})]}),r(st,{title:"More Info",children:r(ue,{onClick:v=>{v.preventDefault(),l(!y)},"aria-expanded":y,size:"small",children:r(Ot,{color:"primary",sx:{width:"16px",height:"16px"}})})})]}),n,r(B,{item:!0,xs:12,children:i}),r(lt,{className:"field-description",in:y,children:c}),o]})}try{$e.displayName="FieldTemplate",$e.__docgenInfo={description:"",displayName:"FieldTemplate",props:{id:{defaultValue:null,description:"The id of the field in the hierarchy. You can use it to render a label targeting the wrapped widget",name:"id",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"A string containing the base CSS classes, merged with any custom ones defined in your uiSchema",name:"classNames",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"An object containing the style as defined in the `uiSchema`",name:"style",required:!1,type:{name:"StyleHTMLAttributes<any>"}},label:{defaultValue:null,description:"The computed label for this field, as a string",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"A component instance rendering the field description, if one is defined (this will use any custom\n`DescriptionField` defined)",name:"description",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawDescription:{defaultValue:null,description:"A string containing any `ui:description` uiSchema directive defined",name:"rawDescription",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The field or widget component instance for this field row",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},errors:{defaultValue:null,description:"A component instance listing any encountered errors for this field",name:"errors",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this field",name:"rawErrors",required:!1,type:{name:"string[]"}},help:{defaultValue:null,description:"A component instance rendering any `ui:help` uiSchema directive defined",name:"help",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawHelp:{defaultValue:null,description:"A string containing any `ui:help` uiSchema directive defined. **NOTE:** `rawHelp` will be `undefined` if passed\n`ui:help` is a React component instead of a string",name:"rawHelp",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"A boolean value stating if the field should be hidden",name:"hidden",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"A boolean value stating if the field is read-only",name:"readonly",required:!0,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"A boolean value stating if the field is disabled",name:"disabled",required:!0,type:{name:"boolean"}},displayLabel:{defaultValue:null,description:`A boolean value stating if the label should be rendered or not. This is useful for nested fields in arrays where
you don't want to clutter the UI`,name:"displayLabel",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this field",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to `Form`",name:"formContext",required:!1,type:{name:"GenericObjectType"}},formData:{defaultValue:null,description:"The formData for this field",name:"formData",required:!1,type:{name:"T"}},onChange:{defaultValue:null,description:"The value change event handler; Can be called with a new value to change the value for this field",name:"onChange",required:!0,type:{name:"(newFormData: any, es?: ErrorSchema<any> | undefined, id?: string | undefined) => any"}},onKeyChange:{defaultValue:null,description:"The key change event handler; Called when the key associated with a field is changed for an additionalProperty",name:"onKeyChange",required:!0,type:{name:"(value: string) => () => void"}},onDropPropertyClick:{defaultValue:null,description:"The property drop/removal event handler; Called when a field is removed in an additionalProperty context",name:"onDropPropertyClick",required:!0,type:{name:"(value: string) => () => void"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function Oe(e){const{title:t,required:a}=e;return T(tt,{children:[t,a&&r("span",{className:"required",children:"*"})]})}try{Oe.displayName="ArrayFieldTitleTemplate",Oe.__docgenInfo={description:"Custom title template for array fields.",displayName:"ArrayFieldTitleTemplate",props:{required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for the field being titled",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this title field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},title:{defaultValue:null,description:"The title for the field being rendered",name:"title",required:!1,type:{name:"string"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}}}}}catch{}const Ht={minWidth:"unset",width:"40px",height:"40px"};function Le({uiSchema:e,registry:t,...a}){const{translateString:n}=t;return r(at,{title:n(U.AddItemButton),...a,color:"primary",variant:"contained",sx:Ht,children:r(wr,{})})}function Pn(e){switch(e){case"copy":return r(It,{fontSize:"inherit"});case"moveUp":return r(Fr,{fontSize:"inherit"});case"moveDown":return r(xr,{fontSize:"inherit"});case"remove":return r(Oa,{fontSize:"inherit"});default:throw new Error(`Unexpected iconType ${e}`)}}function Ae(e){const{iconType:t,buttonType:a,...n}=e,{registry:{translateString:i}}=n;return r(ue,{title:i(U.RemoveButton),...n,color:"default",sx:Ht,children:Pn(a)})}function Me(e){return r(Ae,{...e,buttonType:"remove"})}function We(e){return r(Ae,{...e,buttonType:"copy"})}function Ge(e){return r(Ae,{...e,buttonType:"moveUp"})}function Ue(e){return r(Ae,{...e,buttonType:"moveDown"})}const En={AddButton:Le,RemoveButton:Me,MoveUpButton:Ge,MoveDownButton:Ue,CopyButton:We};try{Le.displayName="AddButton",Le.__docgenInfo={description:"",displayName:"AddButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Me.displayName="RemoveButton",Me.__docgenInfo={description:"",displayName:"RemoveButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{We.displayName="CopyButton",We.__docgenInfo={description:"",displayName:"CopyButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Ge.displayName="MoveUpButton",Ge.__docgenInfo={description:"",displayName:"MoveUpButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Ue.displayName="MoveDownButton",Ue.__docgenInfo={description:"",displayName:"MoveDownButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function Jt(e){if(Array.isArray(e)||typeof e=="boolean")return"unknown";const{type:t,enum:a}=e;return t==="array"&&typeof e.items=="object"?`List of ${Jt(e.items)}`:a?"enumeration":Array.isArray(t)?t.reduce((n,i)=>`${n}, ${i}`,""):t||"unknown"}function ze(e){const{description:t,schema:a}=e,n=Jt(a);return r(lt,{className:"field-description",in:!0,children:r("table",{className:"FieldDescriptionTable",children:T("tbody",{children:[t&&T("tr",{children:[r("th",{children:"Description"}),r("td",{children:t})]}),T("tr",{children:[r("th",{children:"Type"}),r("td",{children:n})]})]})})})}try{ze.displayName="FieldDescriptionTable",ze.__docgenInfo={description:"",displayName:"FieldDescriptionTable",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}}}}}catch{}function He(e){const{description:t,schema:a={}}=e;return a.type==="object"?r(pe,{variant:"body1",sx:{my:2},children:t}):r(ze,{schema:a,description:t})}try{He.displayName="DescriptionFieldTemplate",He.__docgenInfo={description:"",displayName:"DescriptionFieldTemplate",props:{id:{defaultValue:null,description:"The id of the field description in the hierarchy",name:"id",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"RJSFSchema"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this description field",name:"uiSchema",required:!1,type:{name:"UiSchema<any, RJSFSchema, any>"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<any, RJSFSchema, any>"}}}}}catch{}function Je(e){const{idSchema:t,description:a,registry:n,schema:i,uiSchema:o}=e,c=Y(o,n.globalUiOptions),{label:m}=c;if(m===!1)return null;const s=$("DescriptionFieldTemplate",n,c),h=`${t.$id}__description`;return r(s,{id:h,description:a??"",schema:i,uiSchema:o,registry:n})}try{Je.displayName="ArrayFieldDescriptionTemplate",Je.__docgenInfo={description:"The `ArrayFieldDescriptionTemplate` component renders a `DescriptionFieldTemplate` with an `id` derived from\nthe `idSchema`.\n\nIdentical to @rjsf/core ArrayFieldDescriptionTemplate except this renders something if there is no description.\nOur description field also includes the type, so it should always be rendered.",displayName:"ArrayFieldDescriptionTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this description field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}}}}}catch{}const jn=["date","datetime-local","file","time"];function Ke(e){const{id:t,name:a,placeholder:n,required:i,readonly:o,disabled:c,type:m,label:s,value:h,onChange:p,onChangeOverride:g,onBlur:u,onFocus:d,autofocus:f,options:y,schema:l,uiSchema:v,rawErrors:S=[],formContext:C,registry:_,InputLabelProps:b,...A}=e,x=!0,R=_t(l,m,y),{step:I,min:M,max:E,...k}=R,F={inputProps:{step:I,min:M,max:E,...l.examples?{list:ge(t)}:void 0},...k},W=({target:{value:P}})=>p(P===""?y.emptyValue:P),D=({target:{value:P}})=>u(t,P),O=({target:{value:P}})=>d(t,P),V=jn.includes(m)?{...b,shrink:!0}:b;let j;return(l.default||l.const)&&(j=JSON.stringify(l.default||l.const)+" (derived)"),T(L,{children:[r(me,{id:t,name:t,placeholder:j||n,label:Z(s||void 0,x,!1),autoFocus:f,required:!1,disabled:c||o,...F,value:h||h===0?h:"",error:S.length>0,onChange:g||W,onBlur:D,onFocus:O,InputLabelProps:V,...A,inputProps:{"aria-label":t},"aria-describedby":Q(t,!!l.examples)}),Array.isArray(l.examples)&&r("datalist",{id:ge(t),children:l.examples.concat(l.default&&!l.examples.includes(l.default)?[l.default]:[]).map(P=>r("option",{value:P},P))})]})}try{Ke.displayName="BaseInputTemplate",Ke.__docgenInfo={description:"The `BaseInputTemplate` is the template to use to render the basic `<input>` component for the `core` theme.\nIt is used as the template for rendering many of the <input> based widgets that differ by `type` and callbacks only.\nIt can be customized/overridden for other themes or individual implementations as needed.",displayName:"BaseInputTemplate",props:{}}}catch{}function Xe(e){const{errors:t=[],idSchema:a}=e;if(t.length===0)return null;const n=At(a);return r(Qe,{dense:!0,disablePadding:!0,children:t.map((i,o)=>r(dt,{disableGutters:!0,children:r(Ze,{id:n,sx:{color:"error.main"},children:i})},o))})}try{Xe.displayName="FieldErrorTemplate",Xe.__docgenInfo={description:"The `FieldErrorTemplate` component renders the errors local to the particular field",displayName:"FieldErrorTemplate",props:{errorSchema:{defaultValue:null,description:"The errorSchema constructed by `Form`",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},errors:{defaultValue:null,description:"An array of the errors",name:"errors",required:!1,type:{name:"(string | ReactElement<any, string | JSXElementConstructor<any>>)[]"}},idSchema:{defaultValue:null,description:"The tree of unique ids for every child field",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}},schema:{defaultValue:null,description:"The schema that was passed to field",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema that was passed to field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function $n(e){return e?Dt[e].reduce((t,a)=>(t[`^${a}$`]={not:{}},t),{}):{}}function Ct(e){const{entityId:t,schemaId:a,validationSchema:n,liveValidate:i=!1,onSuccess:o=()=>{},onCancel:c,formRef:m,onChange:s}=e,h=w.useRef(null),p=m??h,[g,u]=ee.useState(void 0),[d,f]=ee.useState(void 0),[y,l]=ee.useState(void 0),[v,S]=ee.useState(!1),[C,_]=ee.useState(!1),{entityMetadata:b,annotations:A}=Ia(t,{staleTime:1/0,enabled:!!t,useErrorBoundary:!0}),x=w.useMemo(()=>$n(b==null?void 0:b.concreteType),[b==null?void 0:b.concreteType]),R=w.useCallback(kn(b==null?void 0:b.concreteType),[b==null?void 0:b.concreteType]);w.useEffect(()=>{A&&u(A)},[A]);const{data:I,isLoading:M}=Vr(t,{enabled:!!t,refetchOnWindowFocus:!1,useErrorBoundary:!0}),{data:E,isLoading:k}=Ir(a??(I==null?void 0:I.jsonSchemaVersionInfo.$id)??"",{enabled:!!a||!!I,useErrorBoundary:!0}),F=n||E,W=M||k,D=qa({onSuccess:()=>{o()},onError:V=>{l(V),S(!0)}});function O(){D.mutate({...Nn(g??{}),...b})}return r("div",{className:"AnnotationEditor",children:W?r("div",{className:"LoadingPlaceholder",children:r(Ba,{size:30})}):T(L,{children:[b&&I&&T(he,{severity:"info",sx:{mb:2},children:[r("b",{children:b.name})," requires scientific annotations specified by ",r("b",{children:I.jsonSchemaVersionInfo.$id}),". ",r("b",{children:r(La,{href:`${Fa(Va.REPO_ENDPOINT)}/repo/v1/schema/type/registered/${I.jsonSchemaVersionInfo.$id}`,target:"_blank",rel:"noopener noreferrer",children:"View required schema (JSON)"})})]}),b&&(!g||kt(g))&&I===null&&T(he,{severity:"info",children:[r("b",{children:b.name})," has no annotations. Click the"," ",r(ve,{})," button to annotate."]}),T(Rn,{validator:oa,className:"AnnotationEditorForm",liveValidate:i,noHtml5Validate:!0,experimental_defaultFormStateBehavior:{emptyObjectFields:"skipDefaults"},fields:{ObjectField:De},templates:{ArrayFieldDescriptionTemplate:Je,ArrayFieldItemTemplate:Pe,ArrayFieldTemplate:Ee,ArrayFieldTitleTemplate:Oe,BaseInputTemplate:Ke,FieldErrorTemplate:Xe,FieldTemplate:$e,ObjectFieldTemplate:Ne,WrapIfAdditionalTemplate:je,ButtonTemplates:En,DescriptionFieldTemplate:He,ErrorListTemplate:()=>null},ref:p,disabled:D.isLoading,schema:{...F??{},patternProperties:{...(F==null?void 0:F.patternProperties)??{},...x},additionalProperties:(F==null?void 0:F.additionalProperties)??!0},uiSchema:{"ui:options":{copyable:!0,duplicateKeySuffixSeparator:"_"},additionalProperties:{"ui:field":qe}},transformErrors:R,formData:g,onChange:({formData:V})=>{s&&s(V),u(V),f(void 0)},onSubmit:({formData:V,errors:j},P)=>{P.preventDefault(),j&&j.length>0&&f(j),S(!1),u(V),O()},onError:V=>{f(V),d&&t&&_(!0)},widgets:{TextWidget:ke,DateTimeWidget:Re,SelectWidget:la,CheckboxWidget:Be},children:[d&&T(he,{severity:"error",sx:{my:2},children:[r("b",{children:"Validation errors found:"}),r("ul",{children:d.map((V,j)=>T("li",{children:[r("b",{children:`${we(V)}: `})," ",`${V.message}`]},j))})]}),y&&v&&T(he,{severity:"error",sx:{my:2},children:["Annotations could not be updated: ",y.reason]}),!m&&T(L,{children:[r(Rt,{sx:{my:2}}),r(G,{display:"flex",justifyContent:"space-between",sx:{gridRowStart:5},children:r(sa,{hasCancelButton:c!==void 0,onCancel:()=>{c&&c()},onConfirm:()=>{p.current.formElement.current.requestSubmit()},confirmButtonText:t?"Save":"Validate"})})]})]}),C&&r(da,{open:!0,onConfirm:()=>{O(),_(!1)},onCancel:()=>{_(!1)},title:"Update Annotations",content:T(L,{children:[r("div",{children:"The following errors exist with the annotations you entered:"}),r("div",{children:r("ul",{children:(d??[]).map((V,j)=>T("li",{children:[r("b",{children:`${we(V)}: `})," ",`${V.message}`]},j))})}),r("div",{children:"Are you sure you want to save the invalid annotations?"})]}),confirmButtonText:"Save"})]})})}try{Ct.displayName="SchemaDrivenAnnotationEditor",Ct.__docgenInfo={description:`Renders a form for editing an entity's annotations. The component also supports supplying just a schema ID,
but work to support annotation flows without an entity (i.e. before creating entities) is not yet complete.`,displayName:"SchemaDrivenAnnotationEditor",props:{entityId:{defaultValue:null,description:"The entity whose annotations should be edited with the form",name:"entityId",required:!1,type:{name:"string"}},schemaId:{defaultValue:null,description:"If no entity ID is supplied, the schema to use for the form",name:"schemaId",required:!1,type:{name:"string"}},validationSchema:{defaultValue:null,description:"May be used to directly provide a JSON Schema to use for the form",name:"validationSchema",required:!1,type:{name:"JSONSchema7"}},formRef:{defaultValue:null,description:"Optionally supply a ref to the form to handle submission externally with `formRef.current.submit()`. If provided, the editor will not render its own submit UI.",name:"formRef",required:!1,type:{name:"RefObject<Form<any, RJSFSchema, any>>"}},liveValidate:{defaultValue:null,description:"Provide live input validation. This can cause major performance degradation.",name:"liveValidate",required:!1,type:{name:"boolean"}},onSuccess:{defaultValue:null,description:"Invoked after a successful form submission",name:"onSuccess",required:!1,type:{name:"(() => void)"}},onCancel:{defaultValue:null,description:"If defined and formRef is not supplied, shows a 'Cancel' button and runs this effect on click",name:"onCancel",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"Passes new form data upon each change to the form",name:"onChange",required:!1,type:{name:"((annotations: Record<string, any>) => void)"}}}}}catch{}export{Ct as S,Bi as a,Vr as u};
//# sourceMappingURL=SchemaDrivenAnnotationEditor-4070f781.js.map
