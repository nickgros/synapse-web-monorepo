import{a as r,j as e,F as x}from"./jsx-runtime-095bf462.js";import{r as d,R as pe}from"./index-8db94870.js";import{L as ue,B as he,N as Se}from"./react-router-dom-a3787782.js";import{u as fe,dn as Re,br as te,ag as ie,a0 as ve,S as be}from"./EntityTypeUtils-c0754991.js";import{I as G}from"./IconSvg-4f1f40fa.js";import{S as F}from"./LoadingScreen-f2cda167.js";import{a as H,U as M}from"./UserSearchBoxV2-b8516169.js";import{d as g}from"./dayjs.min-8d4ef725.js";import{S as se,A as ae}from"./SynapseConstants-667d004c.js";import{a3 as D}from"./ConfirmationDialog-ef52ae38.js";import{D as E}from"./EntityChildren-7cd71d6e.js";import{U as oe}from"./UserCard-67e8bf43.js";import{P as ne}from"./getEndpoint-ac94413e.js";import{u as Ce}from"./useInfiniteQuery-46551c1d.js";import{S as _}from"./Sort-4e07cbf2.js";import{f as q}from"./DateFormatter-d3635489.js";import{T as z}from"./Table-cc9cf777.js";import{u as ce}from"./upperFirst-79e605a3.js";import{T as I}from"./Typography-0933b2f6.js";import{B as T}from"./Button-5637ed55.js";import{b as Ae}from"./useDataAccessSubmission-67d165a8.js";import{S as X}from"./AccessSubmission-8298a5cd.js";import{U as y}from"./UserOrTeamBadge-3d78b22e.js";import{A as le}from"./AccessRequirementSearchBox-67bd8e5d.js";import{u as Y,f as Q,M as Ee,S as Ie,g as w,h as Ne}from"./react-router-c75a8065.js";import{F as N,a as W}from"./FormLabel-7b55e02a.js";import{o as $}from"./omitBy-142a0395.js";import{E as ye}from"./EntityFinderModal-37b008dc.js";import{F as De}from"./DetailsViewTableRenderers-6cfd4235.js";import{n as ge}from"./useAccessRequirements-d811112b.js";import{E as _e}from"./EntityLink-2e3c6625.js";import{I as qe}from"./CalendarWithIconFormGroup-230743a3.js";import{S as K}from"./ManagedACTAccessRequirementStatus-9671fe8d.js";import{S as Te}from"./SubmissionPage-91ac80f7.js";import"./_commonjsHelpers-042e6b4d.js";import"./inheritsLoose-c82a83d4.js";import"./extends-98964cd2.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./isArray-5e3f9107.js";import"./index-8ce4a492.js";import"./SvgIcon-4c933a0b.js";import"./styled-f64e11ba.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-29d231ba.js";import"./Box-13f1aabd.js";import"./extendSxProp-29a14132.js";import"./Button-891a522f.js";import"./ButtonBase-4f599170.js";import"./emotion-react.browser.esm-4b1ddfee.js";import"./assertThisInitialized-081f9914.js";import"./TransitionGroupContext-0df7f063.js";import"./useForkRef-f2aa3d66.js";import"./utils-724ac38b.js";import"./useTheme-14d0ce71.js";import"./Alert-fbdd8ab9.js";import"./createWithBsPrefix-f259edae.js";import"./index-58d3fd43.js";import"./Tooltip-72c76487.js";import"./isHostComponent-fa76b8d9.js";import"./Clear-72bafe95.js";import"./Backdrop-31335125.js";import"./Fade-f7811978.js";import"./LinearProgress-c62c2bf1.js";import"./Select-457c486b.esm-39815c2e.js";import"./isNativeReflectConstruct-e378569d.js";import"./use-deep-compare-effect.esm-08e85271.js";import"./index-5d0cf067.js";import"./uniq-03e0f78c.js";import"./_baseSlice-cf92e063.js";import"./_isIterateeCall-5908d970.js";import"./_MapCache-63bc30b2.js";import"./_baseTimes-8cccc40f.js";import"./_isIndex-af14b756.js";import"./times-119486a7.js";import"./isSymbol-7c514724.js";import"./_cacheHas-23b24ee0.js";import"./without-41805cd9.js";import"./toString-cc90cb98.js";import"./_baseRest-599e211e.js";import"./isArrayLikeObject-eace96d7.js";import"./_setToArray-3d6ec6fd.js";import"./Skeleton-3aad52b9.js";import"./jsx-runtime_commonjs-proxy-27924edb.js";import"./createChainedFunction-0bab83cf.js";import"./ownerWindow-2c76219e.js";import"./isMuiElement-08f54e3c.js";import"./WideButton-9612d606.js";import"./RegularExpressions-bc0adf55.js";import"./react-intersection-observer.modern-64b519d2.js";import"./SkeletonTable-07643186.js";import"./EntityIcon-9e77a21c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./uniq-db6de665.js";import"./mapValues-e7962af0.js";import"./isPlainObject-c3b03d84.js";import"./now-26f68cf8.js";import"./unCamelCase-e738d267.js";import"./hasIn-908e8762.js";import"./_Uint8Array-2af4fe33.js";import"./pick-e61aa1e3.js";import"./_baseClone-f37793cd.js";import"./sortBy-aa18c6da.js";import"./_baseFor-d254fa1e.js";import"./RequestDownloadCard-06c436b7.js";import"./ActionRequiredCard-5df2f3a0.js";import"./Icon-08253b47.js";import"./Paper-2b624eab.js";import"./ToastMessage-def67892.js";import"./FullWidthAlert-93fbddb4.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./factory-837f2467.js";import"./sqlFunctions-c6452e41.js";import"./QueryFilter-f9a776c2.js";import"./useEntity-247bb023.js";import"./useMutation-2555c422.js";import"./mutation-d6c43fe0.js";import"./SynapseTableConstants-942d2b0b.js";import"./useDownloadList-ca6470f2.js";import"./useGetQueryResultBundle-316e1090.js";import"./merge-470984dc.js";import"./NoSearchResults-460db635.js";import"./NoData-59ea70fa.js";import"./UserCardList-49873214.js";import"./queryUtils-a1a9997c.js";import"./cloneDeep-1b095792.js";import"./StandaloneLoginForm-ab23fe94.js";import"./LoginFlowBackButton-210f7ef5.js";import"./TextField-647c939b.js";import"./InputLabel-2be762b1.js";import"./inputBaseClasses-2e8dfab0.js";import"./react-is.production.min-a192e302.js";import"./Popover-45a8559b.js";import"./Modal-b99e76f4.js";import"./getScrollbarSize-ac846fe6.js";import"./MenuList-bded4610.js";import"./TextField-68617772.js";import"./Link-2921f78c.js";import"./IconButton-74239a2b.js";import"./DialogTitle-b2b86bbe.js";import"./Stack-98e16f53.js";import"./Alert-61691a15.js";import"./ResearchProjectForm-2ada4dfd.js";import"./DataAccessRequestAccessorsFilesForm-b3020e5f.js";import"./AccessorChange-69229743.js";import"./RestrictionInformation-4ed2591e.js";import"./RadioGroup-bf0fed90.js";import"./Form-ee9e64e2.js";import"./FormGroup-a255fd2e.js";import"./FileUpload-2474e7d0.js";import"./Divider-0430dee5.js";import"./AuthenticatedRequirement-34777faa.js";import"./RequirementItem-476964f5.js";import"./ConditionalWrapper-51b8d1ed.js";import"./Avatar-c25dcc6a.js";import"./CertificationRequirement-8232820c.js";import"./ValidationRequirement-db90f749.js";import"./TwoFactorAuthEnabledRequirement-c91e992a.js";import"./TwoFactorEnrollmentForm-ab5d40ac.js";import"./LeftRightPanel-f2174d90.js";import"./Typography-fd50ec33.js";import"./Dialog-f99dbb4e.js";import"./ElementWithTooltip-10669eed.js";import"./QueryCount-feedf01f.js";import"./RangeSlider-209042a9.js";import"./react-sizeme-0d7fb727.js";import"./ColorGradient-fc5a110b.js";import"./colorPalette-43310703.js";import"./SelectionCriteriaPill-b5b6abe1.js";import"./IconList-a62c9dbe.js";import"./SynapseVideo-04b46480.js";import"./infiniteQueryBehavior-57771409.js";import"./Col-8dbe8567.js";import"./WarningDialog-52a35c70.js";import"./SchemaDrivenAnnotationEditor-72e65d38.js";import"./groupBy-4fad58a8.js";import"./EntityModal-35676977.js";import"./FileHandleUtils-73dcc74f.js";import"./UploadDestination-5ff3844f.js";import"./Arrow-2daa9f04.js";import"./useFavorites-bb55e887.js";import"./immutable.es-400ccb6d.js";import"./ErrorChip-0bbc2929.js";import"./localizedFormat-3e4d3f54.js";import"./Grid-a66e185d.js";import"./InputAdornment-edf819e0.js";import"./RejectDataAccessRequestModal-59e01087.js";import"./toLower-271fcf43.js";function Pe(i,h){const{accessToken:t,keyFactory:s}=fe();return Ce(s.searchAccessApprovalsQueryKey(i),async p=>await Re({...i,nextPageToken:p.pageParam},t),{...h,getNextPageParam:p=>p.nextPageToken})}const k=({accessorId:i,accessRequirementId:h})=>{const[t,s]=d.useState({field:D.MODIFIED_ON,direction:E.DESC}),p=d.useMemo(()=>({accessorId:i,accessRequirementId:h,sort:[t]}),[i,h,t]),{data:u,hasNextPage:m,fetchNextPage:f,isLoading:n}=Pe(p),S=(u==null?void 0:u.pages.flatMap(o=>o.results))??[],R=o=>{t.field===o?s({field:o,direction:t.direction===E.DESC?E.ASC:E.DESC}):s({field:o,direction:E.DESC})};return r("div",{className:"AccessApprovalsTable bootstrap-4-backport",children:[r(z,{striped:!0,borderless:!0,bordered:!1,children:[e("thead",{children:r("tr",{children:[e("th",{children:"AR ID"}),e("th",{children:"Access Requirement Name"}),e("th",{children:"Submitter"}),e("th",{children:"Status"}),e("th",{children:r("span",{className:"SRC-split",children:[e("span",{children:"Modified Date"}),e(_,{role:"button",active:t.field===D.MODIFIED_ON,direction:t.field==="MODIFIED_ON"?t.direction==="DESC"?E.DESC:E.ASC:E.DESC,onClick:()=>R(D.MODIFIED_ON)})]})}),e("th",{children:r("span",{className:"SRC-split",children:[e("span",{children:"Expires"}),e(_,{role:"button",active:t.field===D.EXPIRED_ON,direction:t.field==="EXPIRED_ON"?t.direction==="DESC"?E.DESC:E.ASC:E.DESC,onClick:()=>R(D.EXPIRED_ON)})]})})]})}),e("tbody",{children:S.map(o=>r("tr",{children:[e("td",{children:e("a",{href:`${ne.PORTAL}#!AccessRequirement:AR_ID=${o.accessRequirementId}`,children:o.accessRequirementId})}),e("td",{children:o.accessRequirementName}),e("td",{children:e(oe,{size:se,ownerId:o.submitterId})}),e("td",{children:ce(o.state.toLocaleLowerCase())}),e("td",{children:q(g(o.modifiedOn))}),e("td",{className:`${o.expiredOn?new Date>new Date(o.expiredOn)?"expired":"":"non-expire"} remove-border`,children:o.expiredOn?q(g(o.expiredOn)):"Never"})]},o.id))})]}),n&&e("div",{className:"SRC-center-text",children:e(F,{size:40})}),!n&&S.length===0&&e(I,{className:"SRC-center-text",variant:"body1",children:"No Results"}),m?e(T,{variant:"outline",onClick:()=>f,children:"Show More"}):""]})};try{k.displayName="AccessApprovalsTable",k.__docgenInfo={description:"",displayName:"AccessApprovalsTable",props:{accessorId:{defaultValue:null,description:"",name:"accessorId",required:!0,type:{name:"string"}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}}}}}catch{}const L=({showSubmitter:i,showStatus:h,showRequesters:t,accessorId:s,accessRequirementId:p,reviewerId:u,submissionState:m,reviewerFilterType:f})=>{const[n,S]=d.useState({field:X.CREATED_ON,direction:E.DESC}),R=d.useMemo(()=>({accessorId:s,accessRequirementId:p,submissionState:m,reviewerId:u,reviewerFilterType:f,sort:[n]}),[s,p,m,u,f,n]),{data:o,hasNextPage:A,fetchNextPage:v,isLoading:b}=Ae(R),l=(o==null?void 0:o.pages.flatMap(a=>a.results))??[],c=a=>{n.field===a?S({field:a,direction:n.direction==="DESC"?"ASC":"DESC"}):S({field:a,direction:"DESC"})};return r("div",{className:"bootstrap-4-backport AccessSubmissionTable",children:[r(z,{striped:!0,borderless:!0,bordered:!1,children:[e("thead",{children:r("tr",{children:[e("th",{children:"REQUEST"}),e("th",{children:"Access Requirement Name"}),i&&e("th",{children:"Submitter"}),h&&e("th",{children:"Status"}),t&&e("th",{children:"Requesters"}),e("th",{children:"Reviewer(s)"}),r("th",{children:["Created Date",e(_,{role:"button",style:{float:"right"},active:n.field==="CREATED_ON","aria-label":"Sort by Created On",direction:n.field==="CREATED_ON"?n.direction==="DESC"?"DESC":"ASC":"DESC",onClick:()=>c(X.CREATED_ON)})]})]})}),e("tbody",{children:l.map(a=>r("tr",{children:[e("td",{children:e(ue,{to:`/Submissions/${a.id}`,children:a.id})}),e("td",{children:a.accessRequirementName}),i&&e("td",{children:e(y,{principalId:a.submitterId})}),h&&e("td",{children:ce(a.state.toLocaleLowerCase())}),t&&r("td",{children:[e(y,{principalId:a.submitterId}),a.accessorChanges.filter(C=>a.submitterId!==C.userId).map(C=>e("li",{children:e(oe,{size:se,ownerId:C.userId,className:"requester"})},C.userId))]}),e("td",{children:a.accessRequirementReviewerIds.length===0?e(y,{principalId:ae}):a.accessRequirementReviewerIds.map(C=>e(y,{principalId:C},C))}),e("td",{children:q(g(a.createdOn))})]},a.id))})]}),b&&e("div",{className:"SRC-center-text",children:e(F,{size:40})}),!b&&l.length==0&&e(I,{className:"SRC-center-text",variant:"body1",children:"No Results"}),A?e(T,{variant:"outline",onClick:()=>{v()},children:"Show More"}):""]})};try{L.displayName="AccessRequestSubmissionTable",L.__docgenInfo={description:"",displayName:"AccessRequestSubmissionTable",props:{showSubmitter:{defaultValue:null,description:"",name:"showSubmitter",required:!1,type:{name:"boolean"}},showStatus:{defaultValue:null,description:"",name:"showStatus",required:!1,type:{name:"boolean"}},showRequesters:{defaultValue:null,description:"",name:"showRequesters",required:!1,type:{name:"boolean"}},accessorId:{defaultValue:null,description:"",name:"accessorId",required:!1,type:{name:"string"}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},reviewerId:{defaultValue:null,description:"",name:"reviewerId",required:!1,type:{name:"string"}},submissionState:{defaultValue:null,description:"",name:"submissionState",required:!1,type:{name:"enum",value:[{value:'"SUBMITTED"'},{value:'"APPROVED"'},{value:'"REJECTED"'},{value:'"CANCELLED"'}]}},reviewerFilterType:{defaultValue:null,description:"",name:"reviewerFilterType",required:!1,type:{name:"enum",value:[{value:'"ALL"'},{value:'"ACT_ONLY"'},{value:'"DELEGATED_ONLY"'}]}}}}}catch{}const we=()=>{const[i,h]=d.useState(),[t,s]=d.useState(""),[p,u]=d.useState({accessorId:t,accessRequirementId:i}),[m,f]=d.useState({showStatus:!0,showSubmitter:!0,accessorId:t,accessRequirementId:i}),{data:n}=te(),S=n==null?void 0:n.isACTMember,R=Y(),o=Q(),A=500,v=d.useCallback(l=>{s(l||"")},[]);d.useEffect(()=>{(()=>{const c=new URLSearchParams(R.search);h(c.get("accessRequirementId")??void 0),s(c.get("accessorId")??"")})()},[R.search]),H(()=>{((c,a)=>{const C=new URLSearchParams($({accessRequirementId:c,accessorId:a},P=>P===void 0||P===""));o.replace({pathname:R.pathname,search:C.toString()})})(i,t),u({accessorId:t,accessRequirementId:i}),f({showStatus:!0,showSubmitter:!0,accessorId:t,accessRequirementId:i})},[i,t,o,R.pathname],A);const b=()=>r("div",{className:"text-center",children:[e("img",{className:"SearchPlaceholderImage",alt:"Begin searching",src:"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg"}),e(I,{variant:"body1Italic",children:"Select a user using the search field above to view their data access history"})]});return r("div",{className:"UserHistoryDashboard bootstrap-4-backport",children:[r("div",{className:"InputPanel",children:[r("div",{children:[e(N,{htmlFor:"user-filter",children:"Select a user to view their access history"}),e(M,{inputId:"user-filter",onChange:v,defaultValue:t,placeholder:"Search for a user name",typeFilter:ie.USERS_ONLY})]}),t&&r("div",{children:[e(N,{htmlFor:"arName-filter",children:"Filter by Access Requirement Name"}),e(le,{inputId:"arName-filter",placeholder:"Search for an Access Requirement Name ",onChange:h})]})]}),t?r(x,{children:[r(I,{variant:"headline3",children:["Submissions including ",e(y,{principalId:t})]}),e(L,{...m}),S&&r(x,{children:[e(I,{variant:"headline3",children:"Status in Access Requirements"}),e(k,{...p})]})]}):e(b,{})]})};function V(i){const{nameContains:h,relatedProjectId:t,reviewerId:s,accessType:p,onCreateNewAccessRequirementClicked:u}=i,[m,f]=d.useState({field:"CREATED_ON",direction:"DESC"}),n=d.useMemo(()=>({nameContains:h,relatedProjectId:t,reviewerId:s,accessType:p,sort:[m]}),[h,t,s,p,m]),{data:S,hasNextPage:R,fetchNextPage:o,isLoading:A}=ge(n),v=(S==null?void 0:S.pages.flatMap(l=>l.results))??[],b=l=>{m.field===l?f({field:l,direction:m.direction==="DESC"?"ASC":"DESC"}):f({field:l,direction:"DESC"})};return r("div",{className:"bootstrap-4-backport",children:[r("div",{className:"SRC-split",children:[e(I,{variant:"headline3",style:{marginBottom:0},children:"Access Requirements"}),u&&r(T,{variant:"outline",onClick:u,children:[e(G,{icon:"favTwoTone",sx:{paddingRight:"0.2rem"}}),"New Access Requirement"]})]}),r("div",{className:"AccessRequirementsTable",children:[r(z,{striped:!0,borderless:!0,bordered:!1,children:[e("thead",{className:"access-requirements-header",children:r("tr",{children:[e("th",{children:"AR ID"}),e("th",{children:r("span",{className:"SRC-split",children:[e("span",{children:"Access Requirement Name"}),e(_,{role:"button",onClick:()=>b("NAME"),"aria-label":"Sort by Name",active:m.field==="NAME",direction:m.field==="NAME"?m.direction:"DESC"})]})}),e("th",{children:"Related to Projects"}),e("th",{children:"Reviewer"}),e("th",{children:"Last Modified"}),e("th",{children:r("span",{className:"SRC-split",children:[e("span",{children:"Created On"}),e(_,{role:"button",onClick:()=>b("CREATED_ON"),active:m.field==="CREATED_ON","aria-label":"Sort by Created On",direction:m.field==="CREATED_ON"?m.direction:"DESC"})]})})]})}),e("tbody",{children:v.map(l=>r("tr",{children:[e("td",{children:e("a",{href:`${ne.PORTAL}#!AccessRequirement:AR_ID=${l.id}`,children:l.id})}),e("td",{children:l.name}),e("td",{children:l.relatedProjectIds.map(c=>r(pe.Fragment,{children:[e(_e,{entity:c})," ",r("span",{className:"InlineLabel",children:["(",c,")"]}),e("br",{})]},c))}),e("td",{children:l.reviewerIds.length===0?e(y,{principalId:ae}):l.reviewerIds.map(c=>e(y,{principalId:c},c))}),e("td",{children:q(g(l.modifiedOn))}),e("td",{children:q(g(l.createdOn))})]},l.id))})]}),A&&e("div",{className:"SRC-center-text",children:e(F,{size:40})}),!A&&v.length===0&&e(I,{className:"SRC-center-text",variant:"body1",children:"No Results"}),R?e(T,{variant:"outline",onClick:()=>{o()},children:"Show More"}):e(x,{})]})]})}try{V.displayName="AccessRequirementTable",V.__docgenInfo={description:"",displayName:"AccessRequirementTable",props:{nameContains:{defaultValue:null,description:"",name:"nameContains",required:!1,type:{name:"string"}},relatedProjectId:{defaultValue:null,description:"",name:"relatedProjectId",required:!1,type:{name:"string"}},reviewerId:{defaultValue:null,description:"",name:"reviewerId",required:!1,type:{name:"string"}},accessType:{defaultValue:null,description:"",name:"accessType",required:!1,type:{name:"enum",value:[{value:'"CREATE"'},{value:'"READ"'},{value:'"UPDATE"'},{value:'"DELETE"'},{value:'"CHANGE_PERMISSIONS"'},{value:'"DOWNLOAD"'},{value:'"UPLOAD"'},{value:'"PARTICIPATE"'},{value:'"SUBMIT"'},{value:'"READ_PRIVATE_SUBMISSION"'},{value:'"UPDATE_SUBMISSION"'},{value:'"DELETE_SUBMISSION"'},{value:'"TEAM_MEMBERSHIP_UPDATE"'},{value:'"SEND_MESSAGE"'},{value:'"CHANGE_SETTINGS"'},{value:'"MODERATE"'},{value:'"REVIEW_SUBMISSIONS"'}]}},onCreateNewAccessRequirementClicked:{defaultValue:null,description:"",name:"onCreateNewAccessRequirementClicked",required:!1,type:{name:"(() => void)"}}}}}catch{}function B(i){const{onCreateNewAccessRequirementClicked:t}=i,s=Y(),p=Q(),[u,m]=d.useState(""),[f,n]=d.useState(void 0),[S,R]=d.useState(void 0);d.useEffect(()=>{function c(){const a=new URLSearchParams(s.search);m(a.get("nameContains")??""),n(a.get("relatedProjectId")??void 0),R(a.get("reviewerId")??void 0)}c()},[s.search]);const[o,A]=d.useState(!1),[v,b]=d.useState({nameContains:u,relatedProjectId:f,reviewerId:S,onCreateNewAccessRequirementClicked:t});H(()=>{function c(a,C,P){const de=$({nameContains:a,relatedProjectId:C,reviewerId:P},J=>J===void 0||J===""),me=new URLSearchParams(de);p.replace({pathname:s.pathname,search:me.toString()})}b({nameContains:u,relatedProjectId:f,reviewerId:S,onCreateNewAccessRequirementClicked:t}),c(u,f,S)},[u,f,S,t,p,s.pathname],500);const l=d.useCallback(c=>{R(c||void 0)},[]);return r("div",{className:"AccessRequirementDashboard bootstrap-4-backport",children:[e(ye,{configuration:{initialScope:De.ALL_PROJECTS,initialContainer:null,selectMultiple:!1,selectableTypes:[ve.PROJECT]},show:o,onClose:()=>{A(!1)},onCancel:()=>{A(!1)},title:"Select Project to Filter Access Requirements",promptCopy:"Select a project to find Access Requirements that are associated with that project. Access Requirements will be found if the Access Requirement is applied to the project, or if it is applied to any item inside the project.",onConfirm:c=>{n(c[0].targetId),A(!1)},confirmButtonCopy:"Select"}),r("div",{className:"InputPanel",children:[r("div",{children:[e(N,{htmlFor:"ar-name-filter",children:"Filter by Access Requirement Name"}),r(qe,{children:[e(W,{id:"ar-name-filter",type:"text",placeholder:"Search for an Access Requirement Name",value:u,onChange:c=>{m(c.target.value)}}),e(G,{icon:"searchOutlined"})]})]}),r("div",{children:[e(N,{htmlFor:"project-id-filter",children:"Filter by Project"}),r("div",{className:"ProjectIdInputGroup",children:[e(W,{id:"project-id-filter",type:"text",placeholder:"Enter a project SynID",value:f,onChange:c=>{const a=c.target.value;n(a===""?void 0:a)}}),e(T,{variant:"outline",onClick:()=>{A(!0)},children:"Browse"})]})]}),r("div",{children:[e(N,{htmlFor:"reviewer-filter",children:"Filter by Reviewer"}),e(M,{inputId:"reviewer-filter",placeholder:"Search for a username or team name",defaultValue:S,onChange:l})]})]}),e(V,{...v})]})}try{B.displayName="AccessRequirementDashboard",B.__docgenInfo={description:"",displayName:"AccessRequirementDashboard",props:{onCreateNewAccessRequirementClicked:{defaultValue:null,description:"",name:"onCreateNewAccessRequirementClicked",required:!1,type:{name:"(() => void)"}}}}}catch{}const Oe=()=>{const[i,h]=d.useState(),[t,s]=d.useState(),[p,u]=d.useState(),[m,f]=d.useState({accessRequirementId:i,accessorId:t,reviewerId:p,showRequesters:!0,submissionState:K.SUBMITTED}),n=Y(),S=Q(),R=500;d.useEffect(()=>{(()=>{const b=new URLSearchParams(n.search);h(b.get("accessRequirementId")??void 0),s(b.get("accessorId")??void 0),u(b.get("reviewerId")??void 0)})()},[n.search]);const o=d.useCallback(v=>{s(v||void 0)},[]),A=d.useCallback(v=>{u(v||void 0)},[]);return H(()=>{((b,l,c)=>{const a=new URLSearchParams($({accessRequirementId:b,accessorId:l,reviewerId:c},C=>C===void 0||C===""));S.replace({pathname:n.pathname,search:a.toString()})})(i,t,p),f({accessRequirementId:i,accessorId:t,reviewerId:p,showRequesters:!0,submissionState:K.SUBMITTED})},[i,t,p,S,n.pathname],R),r("div",{className:"AccessSubmissionDashboard bootstrap-4-backport",children:[r("div",{className:"InputPanel",children:[r("div",{children:[e(N,{htmlFor:"arId-filter",children:"Filter by Access Requirement Name"}),e(le,{inputId:"arId-filter",onChange:h,placeholder:"Search for an Access Requirement Name "})]}),r("div",{children:[e(N,{htmlFor:"requester-filter",children:"Filter by Requester"}),e(M,{inputId:"requester-filter",placeholder:"Search for a user name",defaultValue:t,onChange:o,typeFilter:ie.USERS_ONLY})]}),r("div",{children:[e(N,{htmlFor:"reviewer-filter",children:"Filter by Reviewer"}),e(M,{inputId:"reviewer-filter",placeholder:"Search for a user or team name",defaultValue:p,onChange:A})]})]}),e(I,{variant:"headline3",children:"Access Request Submissions"}),e(L,{...m})]})};function U(i){const{href:h,children:t,icon:s}=i;return r(Se,{className:"Tab",role:"tab",to:h,children:[e(G,{icon:s,sx:{paddingRight:"0.2rem"}}),e(I,{variant:"buttonLink",children:t})]})}function j(i){const{routerBaseName:h="#!DataAccessManagement:default",useMemoryRouter:t=!1}=i,{data:s,isLoading:p}=te(),u=s==null?void 0:s.isACTMember,m=(s==null?void 0:s.isACTMember)||(s==null?void 0:s.isARReviewer),f=d.useCallback(n=>t?e(Ee,{...n}):e(he,{...n}),[t]);return p?e(F,{size:50}):e(f,{basename:h,children:r("div",{className:"ReviewerDashboard",children:[r("div",{className:"Tabs",role:"tablist",children:[u&&e(U,{href:"/AccessRequirements",icon:"accessClosed",children:"Access Requirements"}),m&&e(U,{href:"/Submissions",icon:"discussion",children:"Submissions"}),m&&e(U,{href:"/UserAccessHistory",icon:"history",children:"User Access History"})]}),e("div",{className:"TabContentContainer",children:e(be,{children:r(Ie,{children:[u&&e(w,{path:"/AccessRequirements",children:e(B,{})}),m&&[e(w,{exact:!0,path:"/Submissions",children:e(Oe,{})},"/Submissions"),e(w,{path:"/Submissions/:id",children:e(Me,{})},"/Submissions/:id")],e(w,{exact:!0,path:"/UserAccessHistory",children:e(we,{})})]})})})]})})}function Me(){const{id:i}=Ne();return e(Te,{submissionId:i})}try{j.displayName="ReviewerDashboard",j.__docgenInfo={description:"",displayName:"ReviewerDashboard",props:{routerBaseName:{defaultValue:null,description:"Used to determine the base path for the component. Default is #!DataAccessManagement:default",name:"routerBaseName",required:!1,type:{name:"string"}},useMemoryRouter:{defaultValue:null,description:"If true use a MemoryRouter, which prevents the browser URL from updating. For demo purposes only.",name:"useMemoryRouter",required:!1,type:{name:"boolean"}}}}}catch{}const os={title:"Governance/ReviewerDashboard",component:j},O={args:{useMemoryRouter:!0,routerBaseName:"#!/Other Components/ReviewerDashboard"}};var Z,ee,re;O.parameters={...O.parameters,docs:{...(Z=O.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: {
    useMemoryRouter: true,
    routerBaseName: '#!/Other Components/ReviewerDashboard'
  }
}`,...(re=(ee=O.parameters)==null?void 0:ee.docs)==null?void 0:re.source}}};const ns=["Demo"];export{O as Demo,ns as __namedExportsOrder,os as default};
//# sourceMappingURL=ReviewerDashboard.stories-e3c446ce.js.map
