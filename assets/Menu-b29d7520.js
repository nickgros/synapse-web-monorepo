import{_ as f}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-55b21f7f.js";import{a as ho,g as Po,s as A,c as vo,_ as k,e as Q,f as go,E as bo}from"./styled-87b6157a.js";import{r as i}from"./index-76fb7be0.js";import"./index-c71daf5e.js";import{u as Eo}from"./useTheme-58bb7d64.js";import{j as W}from"./jsx-runtime-9dc53467.js";import{M as Co}from"./Modal-a7690934.js";import{P as Oo}from"./Paper-625f2e68.js";import{u as Lo}from"./useForkRef-8feb2ebf.js";import{o as po,i as _o}from"./isHostComponent-fa76b8d9.js";import{o as co,d as zo}from"./ownerWindow-2c76219e.js";import{a as X,G as Do}from"./Grow-08403985.js";import{M as No}from"./MenuList-7e60caa0.js";function $o(t){return ho("MuiPopover",t)}Po("MuiPopover",["root","paper"]);const Fo=["onEntering"],Io=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ko=["slotProps"];function uo(t,o){let r=0;return typeof o=="number"?r=o:o==="center"?r=t.height/2:o==="bottom"&&(r=t.height),r}function fo(t,o){let r=0;return typeof o=="number"?r=o:o==="center"?r=t.width/2:o==="right"&&(r=t.width),r}function mo(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function J(t){return typeof t=="function"?t():t}const Wo=t=>{const{classes:o}=t;return go({root:["root"],paper:["paper"]},$o,o)},Ao=A(Co,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),Mo=A(Oo,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ho=i.forwardRef(function(o,r){var z,D,g;const v=vo({props:o,name:"MuiPopover"}),{action:H,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:m="anchorEl",children:U,className:j,container:Y,elevation:N=8,marginThreshold:n=16,open:p,PaperProps:$={},slots:M,slotProps:y,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:S=Do,transitionDuration:b="auto",TransitionProps:{onEntering:T}={},disableScrollLock:x=!1}=v,G=k(v.TransitionProps,Fo),F=k(v,Io),h=(z=y==null?void 0:y.paper)!=null?z:$,I=i.useRef(),E=Lo(I,h.ref),C=f({},v,{anchorOrigin:d,anchorReference:m,elevation:N,marginThreshold:n,externalPaperSlotProps:h,transformOrigin:w,TransitionComponent:S,transitionDuration:b,TransitionProps:G}),K=Wo(C),V=i.useCallback(()=>{if(m==="anchorPosition")return R;const e=J(c),l=(e&&e.nodeType===1?e:po(I.current).body).getBoundingClientRect();return{top:l.top+uo(l,d.vertical),left:l.left+fo(l,d.horizontal)}},[c,d.horizontal,d.vertical,R,m]),B=i.useCallback(e=>({vertical:uo(e,w.vertical),horizontal:fo(e,w.horizontal)}),[w.horizontal,w.vertical]),a=i.useCallback(e=>{const s={width:e.offsetWidth,height:e.offsetHeight},l=B(s);if(m==="none")return{top:null,left:null,transformOrigin:mo(l)};const ro=V();let L=ro.top-l.vertical,_=ro.left-l.horizontal;const no=L+s.height,so=_+s.width,io=co(J(c)),ao=io.innerHeight-n,lo=io.innerWidth-n;if(n!==null&&L<n){const u=L-n;L-=u,l.vertical+=u}else if(n!==null&&no>ao){const u=no-ao;L-=u,l.vertical+=u}if(n!==null&&_<n){const u=_-n;_-=u,l.horizontal+=u}else if(so>lo){const u=so-lo;_-=u,l.horizontal+=u}return{top:`${Math.round(L)}px`,left:`${Math.round(_)}px`,transformOrigin:mo(l)}},[c,m,V,B,n]),[O,Z]=i.useState(p),P=i.useCallback(()=>{const e=I.current;if(!e)return;const s=a(e);s.top!==null&&(e.style.top=s.top),s.left!==null&&(e.style.left=s.left),e.style.transformOrigin=s.transformOrigin,Z(!0)},[a]);i.useEffect(()=>(x&&window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)),[c,x,P]);const yo=(e,s)=>{T&&T(e,s),P()},wo=()=>{Z(!1)};i.useEffect(()=>{p&&P()}),i.useImperativeHandle(H,()=>p?{updatePosition:()=>{P()}}:null,[p,P]),i.useEffect(()=>{if(!p)return;const e=zo(()=>{P()}),s=co(c);return s.addEventListener("resize",e),()=>{e.clear(),s.removeEventListener("resize",e)}},[c,p,P]);let oo=b;b==="auto"&&!S.muiSupportAuto&&(oo=void 0);const To=Y||(c?po(J(c)).body:void 0),q=(D=M==null?void 0:M.root)!=null?D:Ao,to=(g=M==null?void 0:M.paper)!=null?g:Mo,xo=X({elementType:to,externalSlotProps:f({},h,{style:O?h.style:f({},h.style,{opacity:0})}),additionalProps:{elevation:N,ref:E},ownerState:C,className:Q(K.paper,h==null?void 0:h.className)}),eo=X({elementType:q,externalSlotProps:(y==null?void 0:y.root)||{},externalForwardedProps:F,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:To,open:p},ownerState:C,className:Q(K.root,j)}),{slotProps:Ro}=eo,So=k(eo,ko);return W(q,f({},So,!_o(q)&&{slotProps:Ro,disableScrollLock:x},{children:W(S,f({appear:!0,in:p,onEntering:yo,onExited:wo,timeout:oo},G,{children:W(to,f({},xo,{children:U}))}))}))}),Uo=Ho;function jo(t){return ho("MuiMenu",t)}Po("MuiMenu",["root","paper","list"]);const Go=["onEntering"],Ko=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Vo={vertical:"top",horizontal:"right"},Bo={vertical:"top",horizontal:"left"},Xo=t=>{const{classes:o}=t;return go({root:["root"],paper:["paper"],list:["list"]},jo,o)},Yo=A(Uo,{shouldForwardProp:t=>bo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,o)=>o.root})({}),qo=A(Mo,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Jo=A(No,{name:"MuiMenu",slot:"List",overridesResolver:(t,o)=>o.list})({outline:0}),Qo=i.forwardRef(function(o,r){var z,D;const g=vo({props:o,name:"MuiMenu"}),{autoFocus:v=!0,children:H,className:c,disableAutoFocusItem:d=!1,MenuListProps:R={},onClose:m,open:U,PaperProps:j={},PopoverClasses:Y,transitionDuration:N="auto",TransitionProps:{onEntering:n}={},variant:p="selectedMenu",slots:$={},slotProps:M={}}=g,y=k(g.TransitionProps,Go),w=k(g,Ko),S=Eo(),b=S.direction==="rtl",T=f({},g,{autoFocus:v,disableAutoFocusItem:d,MenuListProps:R,onEntering:n,PaperProps:j,transitionDuration:N,TransitionProps:y,variant:p}),x=Xo(T),G=v&&!d&&U,F=i.useRef(null),h=(a,O)=>{F.current&&F.current.adjustStyleForScrollbar(a,S),n&&n(a,O)},I=a=>{a.key==="Tab"&&(a.preventDefault(),m&&m(a,"tabKeyDown"))};let E=-1;i.Children.map(H,(a,O)=>{i.isValidElement(a)&&(a.props.disabled||(p==="selectedMenu"&&a.props.selected||E===-1)&&(E=O))});const C=(z=$.paper)!=null?z:qo,K=(D=M.paper)!=null?D:j,V=X({elementType:$.root,externalSlotProps:M.root,ownerState:T,className:[x.root,c]}),B=X({elementType:C,externalSlotProps:K,ownerState:T,className:x.paper});return W(Yo,f({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?Vo:Bo,slots:{paper:C,root:$.root},slotProps:{root:V,paper:B},open:U,ref:r,transitionDuration:N,TransitionProps:f({onEntering:h},y),ownerState:T},w,{classes:Y,children:W(Jo,f({onKeyDown:I,actions:F,autoFocus:v&&(E===-1||d),autoFocusItem:G,variant:p},R,{className:Q(x.list,R.className),children:H}))}))}),ft=Qo;export{ft as M,Uo as P};
