{"version":3,"file":"ShowMore-0d3229ca.js","sources":["../../src/components/ShowMore/ShowMore.tsx"],"sourcesContent":["import React from 'react'\nconst CHAR_COUNT_CUTOFF = 400\n\ntype ShowMoreState = {\n  showMore: boolean\n}\n\nexport type ShowMoreProps = {\n  summary: string\n  maxCharacterCount?: number\n}\n\nexport default class ShowMore extends React.Component<\n  ShowMoreProps,\n  ShowMoreState\n> {\n  constructor(props: ShowMoreProps) {\n    super(props)\n    this.state = {\n      showMore: false,\n    }\n    this.toggleShowMore = this.toggleShowMore.bind(this)\n  }\n\n  public toggleShowMore(event: React.MouseEvent<HTMLAnchorElement>) {\n    event.preventDefault()\n    this.setState({\n      showMore: true,\n    })\n  }\n\n  getCutoff = (summary: string, maxCharacterCount: number) => {\n    let previewText = ''\n    if (!summary) {\n      return { previewText }\n    }\n    let hiddenText = ''\n    const summarySplit = summary.split(' ')\n    // find num words to join such that its >= char_count_cutoff\n    let i = 0\n    while (previewText.length < maxCharacterCount && i < summarySplit.length) {\n      previewText += `${summarySplit[i]} `\n      i += 1\n    }\n    if (i < summarySplit.length - 1) {\n      hiddenText = summarySplit.slice(i).join(' ')\n    }\n    return { previewText, hiddenText }\n  }\n\n  public render() {\n    const { summary, maxCharacterCount = CHAR_COUNT_CUTOFF } = this.props\n    const meetsCharRequirements = summary && summary.length >= maxCharacterCount\n    const { previewText, hiddenText } = this.getCutoff(\n      summary,\n      maxCharacterCount,\n    )\n    const showMoreButton = meetsCharRequirements && (\n      <a\n        style={{ fontSize: '14px', cursor: 'pointer', marginLeft: '5px' }}\n        onClick={this.toggleShowMore}\n        className=\"highlight-link\"\n      >\n        ...Show More\n      </a>\n    )\n    return (\n      <React.Fragment>\n        <span>\n          {previewText}\n          <span className={this.state.showMore ? '' : 'SRC-hidden'}>\n            {hiddenText}\n          </span>\n        </span>\n        {!this.state.showMore && showMoreButton}\n      </React.Fragment>\n    )\n  }\n}\n"],"names":["CHAR_COUNT_CUTOFF","ShowMore","React","props","__publicField","summary","maxCharacterCount","previewText","hiddenText","summarySplit","i","event","meetsCharRequirements","showMoreButton","jsx","jsxs"],"mappings":"qQACA,MAAAA,EAAA,IAWA,MAAAC,UAAAC,EAAA,SAAA,CAGE,YAAAC,EAAA,CAEE,MAAAA,CAAA,EAYFC,EAAA,iBAAA,CAAAC,EAAAC,IAAA,CAGE,IAAAC,EAAA,GACA,GAAA,CAAAF,EACE,MAAA,CAAA,YAAAE,CAAA,EAEF,IAAAC,EAAA,GACA,MAAAC,EAAAJ,EAAA,MAAA,GAAA,EAEA,IAAAK,EAAA,EACA,KAAAH,EAAA,OAAAD,GAAAI,EAAAD,EAAA,QACEF,GAAA,GAAAE,EAAAC,CAAA,CAAA,IACAA,GAAA,EAEF,OAAAA,EAAAD,EAAA,OAAA,IACED,EAAAC,EAAA,MAAAC,CAAA,EAAA,KAAA,GAAA,GAEF,CAAA,YAAAH,EAAA,WAAAC,EAAiC,GA7BjC,KAAA,MAAA,CAAa,SAAA,EACD,EAEZ,KAAA,eAAA,KAAA,eAAA,KAAA,IAAA,CAAmD,CACrD,eAAAG,EAAA,CAGEA,EAAA,eAAA,EACA,KAAA,SAAA,CAAc,SAAA,EACF,CAAA,CACX,CAoBH,QAAA,CAGE,KAAA,CAAA,QAAAN,EAAA,kBAAAC,EAAAN,CAAA,EAAA,KAAA,MACAY,EAAAP,GAAAA,EAAA,QAAAC,EACA,CAAA,YAAAC,EAAA,WAAAC,CAAA,EAAA,KAAA,UAAyCH,EACvCC,CACA,EAEFO,EAAAD,GAAAE,EACE,IAAC,CAAA,MAAA,CAAA,SAAA,OAAA,OAAA,UAAA,WAAA,KAAA,EACiE,QAAA,KAAA,eAClD,UAAA,iBACJ,SAAA,cACX,CAAA,EAIH,OAAAC,EAAAb,EAAA,SAAA,CAAA,SAAA,CAEIa,EAAA,OAAA,CAAA,SAAA,CACGR,EAAAO,EAAA,OAAA,CAAA,UAAA,KAAA,MAAA,SAAA,GAAA,aAAA,SAAAN,CAAA,CAAA,CAGD,EAAA,EACF,CAAA,KAAA,MAAA,UAAAK,CACyB,CAAA,CAAA,CAC3B,CAGN"}