import{_ as y}from"./extends-98964cd2.js";import{_ as K}from"./objectWithoutPropertiesLoose-4f48578a.js";import{r as l}from"./index-f1f749bf.js";import{a as I,c as j}from"./contains-33365353.js";import{i as U,j as q,k as B,l as W,m as N,o as G,n as H,q as Y,s as z}from"./Clear-a9f76abf.js";import{o as J,u as O,l as $}from"./createWithBsPrefix-e09f51dd.js";import{R as Q}from"./index-96c5f47c.js";import{h as k}from"./hasClass-ec9efd32.js";import{u as E}from"./Button-7d415009.js";function V(e){var t=I();return[e[0],l.useCallback(function(r){if(t())return e[1](r)},[t,e[1]])]}var X=U({defaultModifiers:[q,B,W,N,G,H,Y,z]}),D=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Z={name:"applyStyles",enabled:!1},ee={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var a=r.elements,i=a.reference,s=a.popper;if("removeAttribute"in i){var p=(i.getAttribute("aria-describedby")||"").split(",").filter(function(v){return v.trim()!==s.id});p.length?i.setAttribute("aria-describedby",p.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var r,a=t.state,i=a.elements,s=i.popper,p=i.reference,v=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&v==="tooltip"&&"setAttribute"in p){var m=p.getAttribute("aria-describedby");if(m&&m.split(",").indexOf(s.id)!==-1)return;p.setAttribute("aria-describedby",m?m+","+s.id:s.id)}}},te=[];function we(e,t,r){var a=r===void 0?{}:r,i=a.enabled,s=i===void 0?!0:i,p=a.placement,v=p===void 0?"bottom":p,m=a.strategy,u=m===void 0?"absolute":m,b=a.modifiers,f=b===void 0?te:b,n=K(a,["enabled","placement","strategy","modifiers"]),o=l.useRef(),d=l.useCallback(function(){var w;(w=o.current)==null||w.update()},[]),c=l.useCallback(function(){var w;(w=o.current)==null||w.forceUpdate()},[]),M=V(l.useState({placement:v,update:d,forceUpdate:c,attributes:{},styles:{popper:D(u),arrow:{}}})),C=M[0],g=M[1],S=l.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(T){var h=T.state,_={},P={};Object.keys(h.elements).forEach(function(R){_[R]=h.styles[R],P[R]=h.attributes[R]}),g({state:h,styles:_,attributes:P,update:d,forceUpdate:c,placement:h.placement})}}},[d,c,g]);return l.useEffect(function(){!o.current||!s||o.current.setOptions({placement:v,strategy:u,modifiers:[].concat(f,[S,Z])})},[u,v,S,s]),l.useEffect(function(){if(!(!s||e==null||t==null))return o.current=X(e,t,y({},n,{placement:v,strategy:u,modifiers:[].concat(f,[ee,S])})),function(){o.current!=null&&(o.current.destroy(),o.current=void 0,g(function(w){return y({},w,{attributes:{},styles:{popper:D(u)}})}))}},[s,e,t]),C}function re(e){return e&&"setState"in e?Q.findDOMNode(e):e??null}const ne=function(e){return J(re(e))};var oe=27,L=function(){};function ae(e){return e.button===0}function ie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var x=function(t){return t&&("current"in t?t.current:t)};function Me(e,t,r){var a=r===void 0?{}:r,i=a.disabled,s=a.clickTrigger,p=s===void 0?"click":s,v=l.useRef(!1),m=t||L,u=l.useCallback(function(n){var o,d=x(e);v.current=!d||ie(n)||!ae(n)||!!j(d,(o=n.composedPath==null?void 0:n.composedPath()[0])!=null?o:n.target)},[e]),b=O(function(n){v.current||m(n)}),f=O(function(n){n.keyCode===oe&&m(n)});l.useEffect(function(){if(!(i||e==null)){var n=window.event,o=ne(x(e)),d=$(o,p,u,!0),c=$(o,p,function(g){if(g===n){n=void 0;return}b(g)}),M=$(o,"keyup",function(g){if(g===n){n=void 0;return}f(g)}),C=[];return"ontouchstart"in o.documentElement&&(C=[].slice.call(o.body.children).map(function(g){return $(g,"mousemove",L)})),function(){d(),c(),M(),C.forEach(function(g){return g()})}}},[e,i,p,u,b,f])}function se(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function ue(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function he(e){var t,r,a,i,s=e.enabled,p=e.enableEvents,v=e.placement,m=e.flip,u=e.offset,b=e.fixed,f=e.containerPadding,n=e.arrowElement,o=e.popperConfig,d=o===void 0?{}:o,c=se(d.modifiers);return y({},d,{placement:v,enabled:s,strategy:b?"fixed":d.strategy,modifiers:ue(y({},c,{eventListeners:{enabled:p},preventOverflow:y({},c.preventOverflow,{options:f?y({padding:f},(t=c.preventOverflow)==null?void 0:t.options):(r=c.preventOverflow)==null?void 0:r.options}),offset:{options:y({offset:u},(a=c.offset)==null?void 0:a.options)},arrow:y({},c.arrow,{enabled:!!n,options:y({},(i=c.arrow)==null?void 0:i.options,{element:n})}),flip:y({enabled:!!m},c.flip)}))})}var F=function(t){return!t||typeof t=="function"?t:function(r){t.current=r}};function fe(e,t){var r=F(e),a=F(t);return function(i){r&&r(i),a&&a(i)}}function Ce(e,t){return l.useMemo(function(){return fe(e,t)},[e,t])}function A(e){var t=window.getComputedStyle(e),r=parseFloat(t.marginTop)||0,a=parseFloat(t.marginRight)||0,i=parseFloat(t.marginBottom)||0,s=parseFloat(t.marginLeft)||0;return{top:r,right:a,bottom:i,left:s}}function Re(){var e=l.useRef(null),t=l.useRef(null),r=l.useRef(null),a=E(void 0,"popover"),i=E(void 0,"dropdown-menu"),s=l.useCallback(function(u){!u||!(k(u,a)||k(u,i))||(t.current=A(u),u.style.margin="0",e.current=u)},[a,i]),p=l.useMemo(function(){return{name:"offset",options:{offset:function(b){var f=b.placement;if(!t.current)return[0,0];var n=t.current,o=n.top,d=n.left,c=n.bottom,M=n.right;switch(f.split("-")[0]){case"top":return[0,c];case"left":return[0,M];case"bottom":return[0,o];case"right":return[0,d];default:return[0,0]}}}}},[t]),v=l.useMemo(function(){return{name:"arrow",options:{padding:function(){if(!r.current)return 0;var b=r.current,f=b.top,n=b.right,o=f||n;return{top:o,left:o,right:o,bottom:o}}}}},[r]),m=l.useMemo(function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",fn:function(){},requiresIfExists:["arrow"],effect:function(b){var f=b.state;if(!(!e.current||!f.elements.arrow||!k(e.current,a))){if(f.modifiersData["arrow#persistent"]){var n=A(f.elements.arrow),o=n.top,d=n.right,c=o||d;f.modifiersData["arrow#persistent"].padding={top:c,left:c,right:c,bottom:c}}else r.current=A(f.elements.arrow);return f.elements.arrow.style.margin="0",function(){f.elements.arrow&&(f.elements.arrow.style.margin="")}}}}},[a]);return[s,[p,v,m]]}export{we as a,Me as b,Re as c,he as m,re as s,Ce as u};
//# sourceMappingURL=usePopperMarginModifiers-95563bac.js.map
