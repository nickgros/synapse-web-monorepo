var xC=Object.defineProperty;var NC=(e,t,n)=>t in e?xC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var je=(e,t,n)=>(NC(e,typeof t!="symbol"?t+"":t,n),n);import{j as m,a as L,F as Q}from"./jsx-runtime-095bf462.js";import{r as IC,i as TC,a as RC}from"./jsx-runtime_commonjs-proxy-effa3e08.js";import{r as P,R as B}from"./index-8db94870.js";import{g as It,c as Kr}from"./_commonjsHelpers-042e6b4d.js";import{u as Ve,am as pa,aL as Xa,S as Je,aM as pb,aN as PC,aO as lr,aP as AC,I as Vc,b as hb,a as kC,aQ as $C,aR as Ni,aS as yp,aT as mb,aU as qC,aV as vb,aW as FC,aX as pe,aY as Ii,aZ as gb,f as Pt,a_ as DC,a$ as OC,g as LC,E as bp,b0 as VC,b1 as MC,b2 as Kh,ak as yb,Z as BC,b3 as zC,b4 as UC,b5 as HC}from"./SynapseClient-c43c6534.js";import{W as ha}from"./WideButton-83898569.js";import{i as WC,a as wp,b as Sp,c as Mc,d as qo,e as Fo,f as jC,g as QC,h as GC,j as YC}from"./IsType-0acbe7b9.js";import{S as $s,l as _p}from"./LoadingScreen-62f7a4ed.js";import{u as XC,U as na,a as bb,g as KC}from"./UserCard-6ee404cb.js";import{T as ZC,M as JC,S as Do,m as ma,n as va,o as Ep,V as Ka,p as qs,q as e1,r as t1,s as r1,t as Fs,u as Ds,v as Os,w as Ls,x as $l,y as n1,E as Bc,h as Cp,z as a1,C as i1,j as wb,B as xp,H as o1,I as Sb,O as zc,J as Zh,G as s1,F as l1,K as Jh}from"./SynapseConstants-1ebc8be6.js";import{A as _b}from"./Alert-e578e9d5.js";import{p as u1,S as Eb,D as c1}from"./RegularExpressions-bc0adf55.js";import{u as ga}from"./react-intersection-observer.modern-64b519d2.js";import{u as Cb}from"./useInfiniteQuery-f8eb063d.js";import{f as Za}from"./DateFormatter-16f01884.js";import{d as ur}from"./dayjs.min-8d4ef725.js";import{S as Np}from"./SkeletonTable-548d1d1b.js";import{S as gn}from"./Skeleton-cbf43066.js";import{c as xb,b as d1,d as jn,f as f1,a as aa,g as Nb,h as Ib,j as p1,i as Tb}from"./EntityTypeUtils-9aa47355.js";import{P as cr,g as h1,B as m1}from"./getEndpoint-ac94413e.js";import{u as Oo,T as Ct,t as Uc}from"./Tooltip-b11baf92.js";import{T as Fe}from"./Typography-b4a6e0b5.js";import{E as em}from"./EntityIcon-d369a612.js";import{I as Le,a as v1,L as g1,S as y1,t as b1,H as w1}from"./IconSvg-f04d8c2b.js";import{c as Vs}from"./_commonjs-dynamic-modules-302442b1.js";import{_ as S1,a as Rb,b as _1,c as Pb,k as Ms,d as E1,e as C1,f as x1,g as N1,h as Ab,i as I1,j as T1,l as R1,m as kb,n as $b,o as qb,u as Fb,p as P1}from"./uniq-12747539.js";import{d as kn,e as Db,f as ya,a as dr,g as tn,r as A1,h as k1,j as Ob,k as Lb,l as Ip,n as Tp,o as $1,p as Rp,q as rn,s as q1,c as F1,t as Pp,u as Ti,v as D1,w as O1,x as L1,b as Vb,y as Ap,z as kp,A as V1,B as Mb,C as Bb,D as M1,E as B1,F as z1,G as U1,H as Bs,I as H1,J as W1,K as j1,L as zb,M as Ub,_ as Q1}from"./mapValues-b2620c05.js";import{b as G1,c as $p}from"./isPlainObject-ef616bd3.js";import{t as Y1,r as X1}from"./now-ace1e546.js";import"./index-8ce4a492.js";import{d as K1,i as La,u as Z1,t as J1,a as ex}from"./unCamelCase-b0f19cba.js";import{u as tx,R as rx}from"./RequestDownloadCard-3e17172b.js";import{d as Zr,C as nx}from"./ToastMessage-6e66d93f.js";import{_ as nn}from"./objectWithoutPropertiesLoose-4f48578a.js";import{_ as Ce}from"./extends-98964cd2.js";import{g as ba,e as wa,s as vt,m as Yt,f as Sa,i as Bt,j as _a,k as On}from"./styled-2cba4329.js";import{k as Hb,c as Wb}from"./emotion-react.browser.esm-9ef79d4e.js";import{c as jb,P as Qb}from"./factory-837f2467.js";import{p as an,a as Gb,g as qp}from"./SqlFunctions-cc0089fb.js";import{u as Ri}from"./useEntity-98abbff7.js";import{T as Lo,N as ax,I as tm}from"./SynapseTableConstants-942d2b0b.js";import{c as on}from"./createSvgIcon-02cd1a2a.js";import{u as Vo,a as ix,b as Yb}from"./use-deep-compare-effect.esm-08e85271.js";import{u as ox,a as sx}from"./useDownloadList-1bef3ea6.js";import{a as Xb,u as Kb,b as lx}from"./useGetQueryResultBundle-d8d5d7d9.js";import{A as Br}from"./Alert-19607992.js";import{B as $t}from"./Button-b9be626b.js";import{B as ct}from"./Box-fe8ef83e.js";import{s as ux}from"./NoSearchResults-460db635.js";import{s as cx}from"./NoData-59ea70fa.js";import{P as qe}from"./index-58d3fd43.js";import{_ as dx}from"./pick-32e8f1da.js";import{g as fx}from"./sortBy-03557842.js";import{i as Zb,r as Jb,h as ew,a as tw}from"./queryUtils-65153fed.js";import{c as Ur}from"./cloneDeep-b0e5bc4f.js";import{a as px,b as Fp,c as rw,d as hx,e as mx,f as vx,g as gx,h as yx,u as nw,i as aw}from"./useAccessRequirements-97deb603.js";import{u as Wa,S as bx}from"./UserSearchBoxV2-18c7df1d.js";import{S as wx}from"./StandaloneLoginForm-e22acc5b.js";import{D as Ja,a as ei,b as Dp}from"./DialogTitle-cac35fb9.js";import{S as Pi}from"./Stack-49641969.js";import{I as zs}from"./IconButton-d433d837.js";import{R as Sx}from"./ResearchProjectForm-735ebb6d.js";import{D as _x}from"./DataAccessRequestAccessorsFilesForm-5dc51008.js";import{A as Ex}from"./AuthenticatedRequirement-1a6e37b4.js";import{C as Cx}from"./CertificationRequirement-c31b6ee3.js";import{V as xx}from"./ValidationRequirement-ff1b7e73.js";import{T as Nx}from"./TwoFactorAuthEnabledRequirement-fd74e6f7.js";import{R as Op,a as ir}from"./RequirementItem-8ca4e3d4.js";import{L as Kt}from"./Link-50e57cb4.js";import{M as iw}from"./Dialog-1654f0cb.js";import{A as ow}from"./ActionRequiredCard-0ed4ea78.js";import{D as ft,E as Nn,C as Lp,a as Ix,S as Tx}from"./ElementWithTooltip-cf8645cc.js";import"./react-is.production.min-a192e302.js";import{u as Us}from"./useTheme-d9b5c73e.js";import{d as Hc,o as sw}from"./ownerWindow-698471fc.js";import{B as Vp}from"./ButtonBase-bdd58ec3.js";import{u as ql}from"./useEventCallback-65e61675.js";import{o as Rx}from"./ownerDocument-613eb639.js";import{Q as Px}from"./QueryCount-71843946.js";import{S as Ax}from"./SvgIcon-bc070951.js";import{I as Hs}from"./Icon-7617ea50.js";import{u as kx}from"./uniqueId-4d05949d.js";import{R as $x}from"./RadioGroup-bf0fed90.js";import{R as qx}from"./RangeSlider-55f98cb8.js";import{r as Fx}from"./react-sizeme-0d7fb727.js";import{g as Dx}from"./ColorGradient-fc5a110b.js";import{I as Ox}from"./InfoOutlined-d944994d.js";import{S as Lx}from"./SelectionCriteriaPill-119428aa.js";import{_ as Vx,e as rm,f as Fl,v as Mx,b as nm,g as Bx,i as zx,u as Ux,S as Hx,d as Wx}from"./Select-457c486b.esm-aea63717.js";import{I as jx}from"./IconList-eb458b26.js";import{B as Qx}from"./Button-5637ed55.js";import{U as Gx}from"./UserCardList-05b58239.js";import{E as Wc}from"./EntityLink-7b29b408.js";import{u as Yx}from"./useControlled-be22aa93.js";import{e as Gi}from"./_MapCache-bceaa486.js";import{u as Xx,U as Kx}from"./UserOrTeamBadge-26b27778.js";import{S as Zx}from"./SynapseVideo-dd82de73.js";let Ln;function lw(){if(Ln)return Ln;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Ln="reverse",e.scrollLeft>0?Ln="default":(e.scrollLeft=1,e.scrollLeft===0&&(Ln="negative")),document.body.removeChild(e),Ln}function am(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(lw()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Jx(e){return ba("MuiCircularProgress",e)}wa("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const eN=["className","color","disableShrink","size","style","thickness","value","variant"];let Ws=e=>e,im,om,sm,lm;const kr=44,tN=Hb(im||(im=Ws`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),rN=Hb(om||(om=Ws`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),nN=e=>{const{classes:t,variant:n,color:a,disableShrink:r}=e,i={root:["root",n,`color${Yt(a)}`],svg:["svg"],circle:["circle",`circle${Yt(n)}`,r&&"circleDisableShrink"]};return _a(i,Jx,t)},aN=vt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Yt(n.color)}`]]}})(({ownerState:e,theme:t})=>Ce({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Wb(sm||(sm=Ws`
      animation: ${0} 1.4s linear infinite;
    `),tN)),iN=vt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),oN=vt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Yt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Ce({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Wb(lm||(lm=Ws`
      animation: ${0} 1.4s ease-in-out infinite;
    `),rN)),sN=P.forwardRef(function(t,n){const a=Sa({props:t,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=a,p=nn(a,eN),f=Ce({},a,{color:i,disableShrink:o,size:s,thickness:c,value:u,variant:d}),h=nN(f),v={},g={},b={};if(d==="determinate"){const E=2*Math.PI*((kr-c)/2);v.strokeDasharray=E.toFixed(3),b["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*E).toFixed(3)}px`,g.transform="rotate(-90deg)"}return m(aN,Ce({className:Bt(h.root,r),style:Ce({width:s,height:s},g,l),ownerState:f,ref:n,role:"progressbar"},b,p,{children:m(iN,{className:h.svg,ownerState:f,viewBox:`${kr/2} ${kr/2} ${kr} ${kr}`,children:m(oN,{className:h.circle,style:v,ownerState:f,cx:kr,cy:kr,r:(kr-c)/2,fill:"none",strokeWidth:c})})}))}),lN=sN;function uN(e){return ba("MuiPagination",e)}wa("MuiPagination",["root","ul","outlined","text"]);const cN=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function dN(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:a=1,defaultPage:r=1,disabled:i=!1,hideNextButton:o=!1,hidePrevButton:s=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:p=1}=e,f=nn(e,cN),[h,v]=Yx({controlled:c,default:r,name:n,state:"page"}),g=(T,R)=>{c||v(R),l&&l(T,R)},b=(T,R)=>{const q=R-T+1;return Array.from({length:q},(k,I)=>T+I)},E=b(1,Math.min(t,a)),y=b(Math.max(a-t+1,t+1),a),_=Math.max(Math.min(h-p,a-t-p*2-1),t+2),w=Math.min(Math.max(h+p,t+p*2+2),y.length>0?y[0]-2:a-1),S=[...u?["first"]:[],...s?[]:["previous"],...E,..._>t+2?["start-ellipsis"]:t+1<a-t?[t+1]:[],...b(_,w),...w<a-t-1?["end-ellipsis"]:a-t>t?[a-t]:[],...y,...o?[]:["next"],...d?["last"]:[]],C=T=>{switch(T){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return a;default:return null}},x=S.map(T=>typeof T=="number"?{onClick:R=>{g(R,T)},type:"page",page:T,selected:T===h,disabled:i,"aria-current":T===h?"true":void 0}:{onClick:R=>{g(R,C(T))},type:T,page:C(T),selected:!1,disabled:i||T.indexOf("ellipsis")===-1&&(T==="next"||T==="last"?h>=a:h<=1)});return Ce({items:x},f)}function fN(e){return ba("MuiPaginationItem",e)}const pN=wa("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),Mt=pN,um=on(m("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),cm=on(m("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),dm=on(m("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),fm=on(m("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),hN=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],uw=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Yt(n.size)}`],n.variant==="text"&&t[`text${Yt(n.color)}`],n.variant==="outlined"&&t[`outlined${Yt(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},mN=e=>{const{classes:t,color:n,disabled:a,selected:r,size:i,shape:o,type:s,variant:l}=e,c={root:["root",`size${Yt(i)}`,l,o,n!=="standard"&&`${l}${Yt(n)}`,a&&"disabled",r&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return _a(c,fN,t)},vN=vt("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:uw})(({theme:e,ownerState:t})=>Ce({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Mt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),gN=vt(Vp,{name:"MuiPaginationItem",slot:"Root",overridesResolver:uw})(({theme:e,ownerState:t})=>Ce({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Mt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Mt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mt.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:On(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Mt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:On(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${Mt.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>Ce({},t.variant==="text"&&{[`&.${Mt.selected}`]:Ce({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${Mt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${Mt.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Mt.selected}`]:Ce({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:On(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:On(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:On(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:On(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${Mt.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),yN=vt("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>Ce({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),bN=P.forwardRef(function(t,n){const a=Sa({props:t,name:"MuiPaginationItem"}),{className:r,color:i="standard",component:o,components:s={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:p="medium",slots:f={},type:h="page",variant:v="text"}=a,g=nn(a,hN),b=Ce({},a,{color:i,disabled:l,selected:u,shape:d,size:p,type:h,variant:v}),E=Us(),y=mN(b),w=(E.direction==="rtl"?{previous:f.next||s.next||fm,next:f.previous||s.previous||dm,last:f.first||s.first||um,first:f.last||s.last||cm}:{previous:f.previous||s.previous||dm,next:f.next||s.next||fm,first:f.first||s.first||um,last:f.last||s.last||cm})[h];return h==="start-ellipsis"||h==="end-ellipsis"?m(vN,{ref:n,ownerState:b,className:Bt(y.root,r),children:"…"}):L(gN,Ce({ref:n,ownerState:b,component:o,disabled:l,className:Bt(y.root,r)},g,{children:[h==="page"&&c,w?m(yN,{as:w,ownerState:b,className:y.icon}):null]}))}),wN=bN,SN=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],_N=e=>{const{classes:t,variant:n}=e;return _a({root:["root",n],ul:["ul"]},uN,t)},EN=vt("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),CN=vt("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function xN(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const NN=P.forwardRef(function(t,n){const a=Sa({props:t,name:"MuiPagination"}),{boundaryCount:r=1,className:i,color:o="standard",count:s=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=xN,hideNextButton:d=!1,hidePrevButton:p=!1,renderItem:f=x=>m(wN,Ce({},x)),shape:h="circular",showFirstButton:v=!1,showLastButton:g=!1,siblingCount:b=1,size:E="medium",variant:y="text"}=a,_=nn(a,SN),{items:w}=dN(Ce({},a,{componentName:"Pagination"})),S=Ce({},a,{boundaryCount:r,color:o,count:s,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:p,renderItem:f,shape:h,showFirstButton:v,showLastButton:g,siblingCount:b,size:E,variant:y}),C=_N(S);return m(EN,Ce({"aria-label":"pagination navigation",className:Bt(C.root,i),ownerState:S,ref:n},_,{children:m(CN,{className:C.ul,ownerState:S,children:w.map((x,T)=>m("li",{children:f(Ce({},x,{color:o,"aria-label":u(x.type,x.page,x.selected),shape:h,size:E,variant:y}))},T))})}))}),IN=NN;function TN(e){return ba("MuiTab",e)}const RN=wa("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),dn=RN,PN=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],AN=e=>{const{classes:t,textColor:n,fullWidth:a,wrapped:r,icon:i,label:o,selected:s,disabled:l}=e,c={root:["root",i&&o&&"labelIcon",`textColor${Yt(n)}`,a&&"fullWidth",r&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return _a(c,TN,t)},kN=vt(Vp,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Yt(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>Ce({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${dn.iconWrapper}`]:Ce({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${dn.selected}`]:{opacity:1},[`&.${dn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${dn.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${dn.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${dn.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${dn.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),$N=P.forwardRef(function(t,n){const a=Sa({props:t,name:"MuiTab"}),{className:r,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:p,onClick:f,onFocus:h,selected:v,selectionFollowsFocus:g,textColor:b="inherit",value:E,wrapped:y=!1}=a,_=nn(a,PN),w=Ce({},a,{disabled:i,disableFocusRipple:o,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:s,textColor:b,wrapped:y}),S=AN(w),C=l&&d&&P.isValidElement(l)?P.cloneElement(l,{className:Bt(S.iconWrapper,l.props.className)}):l,x=R=>{!v&&p&&p(R,E),f&&f(R)},T=R=>{g&&!v&&p&&p(R,E),h&&h(R)};return L(kN,Ce({focusRipple:!o,className:Bt(S.root,r),ref:n,role:"tab","aria-selected":v,disabled:i,onClick:x,onFocus:T,ownerState:w,tabIndex:v?0:-1},_,{children:[c==="top"||c==="start"?L(P.Fragment,{children:[C,d]}):L(P.Fragment,{children:[d,C]}),u]}))}),Dl=$N,qN=on(m("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),FN=on(m("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function DN(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function ON(e,t,n,a={},r=()=>{}){const{ease:i=DN,duration:o=300}=a;let s=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=p=>{if(c){r(new Error("Animation cancelled"));return}s===null&&(s=p);const f=Math.min(1,(p-s)/o);if(t[e]=i(f)*(n-l)+l,f>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(d)};return l===n?(r(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const LN=["onChange"],VN={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function MN(e){const{onChange:t}=e,n=nn(e,LN),a=P.useRef(),r=P.useRef(null),i=()=>{a.current=r.current.offsetHeight-r.current.clientHeight};return P.useEffect(()=>{const o=Hc(()=>{const l=a.current;i(),l!==a.current&&t(a.current)}),s=sw(r.current);return s.addEventListener("resize",o),()=>{o.clear(),s.removeEventListener("resize",o)}},[t]),P.useEffect(()=>{i(),t(a.current)},[t]),m("div",Ce({style:VN,ref:r},n))}function BN(e){return ba("MuiTabScrollButton",e)}const zN=wa("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),UN=zN,HN=["className","slots","slotProps","direction","orientation","disabled"],WN=e=>{const{classes:t,orientation:n,disabled:a}=e;return _a({root:["root",n,a&&"disabled"]},BN,t)},jN=vt(Vp,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>Ce({width:40,flexShrink:0,opacity:.8,[`&.${UN.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),QN=P.forwardRef(function(t,n){var a,r;const i=Sa({props:t,name:"MuiTabScrollButton"}),{className:o,slots:s={},slotProps:l={},direction:c}=i,u=nn(i,HN),p=Us().direction==="rtl",f=Ce({isRtl:p},i),h=WN(f),v=(a=s.StartScrollButtonIcon)!=null?a:qN,g=(r=s.EndScrollButtonIcon)!=null?r:FN,b=Oo({elementType:v,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),E=Oo({elementType:g,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return m(jN,Ce({component:"div",className:Bt(h.root,o),ref:n,role:null,ownerState:f,tabIndex:null},u,{children:c==="left"?m(v,Ce({},b)):m(g,Ce({},E))}))}),GN=QN;function YN(e){return ba("MuiTabs",e)}const XN=wa("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Ol=XN,KN=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],pm=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,hm=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Yi=(e,t,n)=>{let a=!1,r=n(e,t);for(;r;){if(r===e.firstChild){if(a)return;a=!0}const i=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||i)r=n(e,r);else{r.focus();return}}},ZN=e=>{const{vertical:t,fixed:n,hideScrollbar:a,scrollableX:r,scrollableY:i,centered:o,scrollButtonsHideMobile:s,classes:l}=e;return _a({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",a&&"hideScrollbar",r&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]},YN,l)},JN=vt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ol.scrollButtons}`]:t.scrollButtons},{[`& .${Ol.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>Ce({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Ol.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),eI=vt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>Ce({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),tI=vt("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>Ce({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),rI=vt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>Ce({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),nI=vt(MN,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),mm={},aI=P.forwardRef(function(t,n){const a=Sa({props:t,name:"MuiTabs"}),r=Us(),i=r.direction==="rtl",{"aria-label":o,"aria-labelledby":s,action:l,centered:c=!1,children:u,className:d,component:p="div",allowScrollButtonsMobile:f=!1,indicatorColor:h="primary",onChange:v,orientation:g="horizontal",ScrollButtonComponent:b=GN,scrollButtons:E="auto",selectionFollowsFocus:y,slots:_={},slotProps:w={},TabIndicatorProps:S={},TabScrollButtonProps:C={},textColor:x="primary",value:T,variant:R="standard",visibleScrollbar:q=!1}=a,k=nn(a,KN),I=R==="scrollable",N=g==="vertical",$=N?"scrollTop":"scrollLeft",F=N?"top":"left",A=N?"bottom":"right",V=N?"clientHeight":"clientWidth",O=N?"height":"width",U=Ce({},a,{component:p,allowScrollButtonsMobile:f,indicatorColor:h,orientation:g,vertical:N,scrollButtons:E,textColor:x,variant:R,visibleScrollbar:q,fixed:!I,hideScrollbar:I&&!q,scrollableX:I&&!N,scrollableY:I&&N,centered:c&&!I,scrollButtonsHideMobile:!f}),H=ZN(U),G=Oo({elementType:_.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:U}),X=Oo({elementType:_.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:U}),[Y,K]=P.useState(!1),[J,ne]=P.useState(mm),[fe,ye]=P.useState({start:!1,end:!1}),[ie,ve]=P.useState({overflow:"hidden",scrollbarWidth:0}),Ae=new Map,he=P.useRef(null),te=P.useRef(null),me=()=>{const Z=he.current;let re;if(Z){const Ie=Z.getBoundingClientRect();re={clientWidth:Z.clientWidth,scrollLeft:Z.scrollLeft,scrollTop:Z.scrollTop,scrollLeftNormalized:am(Z,r.direction),scrollWidth:Z.scrollWidth,top:Ie.top,bottom:Ie.bottom,left:Ie.left,right:Ie.right}}let Ee;if(Z&&T!==!1){const Ie=te.current.children;if(Ie.length>0){const Qe=Ie[Ae.get(T)];Ee=Qe?Qe.getBoundingClientRect():null}}return{tabsMeta:re,tabMeta:Ee}},we=ql(()=>{const{tabsMeta:Z,tabMeta:re}=me();let Ee=0,Ie;if(N)Ie="top",re&&Z&&(Ee=re.top-Z.top+Z.scrollTop);else if(Ie=i?"right":"left",re&&Z){const Xe=i?Z.scrollLeftNormalized+Z.clientWidth-Z.scrollWidth:Z.scrollLeft;Ee=(i?-1:1)*(re[Ie]-Z[Ie]+Xe)}const Qe={[Ie]:Ee,[O]:re?re[O]:0};if(isNaN(J[Ie])||isNaN(J[O]))ne(Qe);else{const Xe=Math.abs(J[Ie]-Qe[Ie]),Ot=Math.abs(J[O]-Qe[O]);(Xe>=1||Ot>=1)&&ne(Qe)}}),ae=(Z,{animation:re=!0}={})=>{re?ON($,he.current,Z,{duration:r.transitions.duration.standard}):he.current[$]=Z},Ye=Z=>{let re=he.current[$];N?re+=Z:(re+=Z*(i?-1:1),re*=i&&lw()==="reverse"?-1:1),ae(re)},ke=()=>{const Z=he.current[V];let re=0;const Ee=Array.from(te.current.children);for(let Ie=0;Ie<Ee.length;Ie+=1){const Qe=Ee[Ie];if(re+Qe[V]>Z){Ie===0&&(re=Z);break}re+=Qe[V]}return re},He=()=>{Ye(-1*ke())},ut=()=>{Ye(ke())},$e=P.useCallback(Z=>{ve({overflow:null,scrollbarWidth:Z})},[]),ee=()=>{const Z={};Z.scrollbarSizeListener=I?m(nI,{onChange:$e,className:Bt(H.scrollableX,H.hideScrollbar)}):null;const re=fe.start||fe.end,Ee=I&&(E==="auto"&&re||E===!0);return Z.scrollButtonStart=Ee?m(b,Ce({slots:{StartScrollButtonIcon:_.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:G},orientation:g,direction:i?"right":"left",onClick:He,disabled:!fe.start},C,{className:Bt(H.scrollButtons,C.className)})):null,Z.scrollButtonEnd=Ee?m(b,Ce({slots:{EndScrollButtonIcon:_.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:X},orientation:g,direction:i?"left":"right",onClick:ut,disabled:!fe.end},C,{className:Bt(H.scrollButtons,C.className)})):null,Z},ue=ql(Z=>{const{tabsMeta:re,tabMeta:Ee}=me();if(!(!Ee||!re)){if(Ee[F]<re[F]){const Ie=re[$]+(Ee[F]-re[F]);ae(Ie,{animation:Z})}else if(Ee[A]>re[A]){const Ie=re[$]+(Ee[A]-re[A]);ae(Ie,{animation:Z})}}}),de=ql(()=>{if(I&&E!==!1){const{scrollTop:Z,scrollHeight:re,clientHeight:Ee,scrollWidth:Ie,clientWidth:Qe}=he.current;let Xe,Ot;if(N)Xe=Z>1,Ot=Z<re-Ee-1;else{const Lt=am(he.current,r.direction);Xe=i?Lt<Ie-Qe-1:Lt>1,Ot=i?Lt>1:Lt<Ie-Qe-1}(Xe!==fe.start||Ot!==fe.end)&&ye({start:Xe,end:Ot})}});P.useEffect(()=>{const Z=Hc(()=>{he.current&&(we(),de())}),re=sw(he.current);re.addEventListener("resize",Z);let Ee;return typeof ResizeObserver<"u"&&(Ee=new ResizeObserver(Z),Array.from(te.current.children).forEach(Ie=>{Ee.observe(Ie)})),()=>{Z.clear(),re.removeEventListener("resize",Z),Ee&&Ee.disconnect()}},[we,de]);const Ne=P.useMemo(()=>Hc(()=>{de()}),[de]);P.useEffect(()=>()=>{Ne.clear()},[Ne]),P.useEffect(()=>{K(!0)},[]),P.useEffect(()=>{we(),de()}),P.useEffect(()=>{ue(mm!==J)},[ue,J]),P.useImperativeHandle(l,()=>({updateIndicator:we,updateScrollButtons:de}),[we,de]);const ge=m(rI,Ce({},S,{className:Bt(H.indicator,S.className),ownerState:U,style:Ce({},J,S.style)}));let ht=0;const Se=P.Children.map(u,Z=>{if(!P.isValidElement(Z))return null;const re=Z.props.value===void 0?ht:Z.props.value;Ae.set(re,ht);const Ee=re===T;return ht+=1,P.cloneElement(Z,Ce({fullWidth:R==="fullWidth",indicator:Ee&&!Y&&ge,selected:Ee,selectionFollowsFocus:y,onChange:v,textColor:x,value:re},ht===1&&T===!1&&!Z.props.tabIndex?{tabIndex:0}:{}))}),We=Z=>{const re=te.current,Ee=Rx(re).activeElement;if(Ee.getAttribute("role")!=="tab")return;let Qe=g==="horizontal"?"ArrowLeft":"ArrowUp",Xe=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&i&&(Qe="ArrowRight",Xe="ArrowLeft"),Z.key){case Qe:Z.preventDefault(),Yi(re,Ee,hm);break;case Xe:Z.preventDefault(),Yi(re,Ee,pm);break;case"Home":Z.preventDefault(),Yi(re,null,pm);break;case"End":Z.preventDefault(),Yi(re,null,hm);break}},Be=ee();return L(JN,Ce({className:Bt(H.root,d),ownerState:U,ref:n,as:p},k,{children:[Be.scrollButtonStart,Be.scrollbarSizeListener,L(eI,{className:H.scroller,ownerState:U,style:{overflow:ie.overflow,[N?`margin${i?"Left":"Right"}`:"marginBottom"]:q?void 0:-ie.scrollbarWidth},ref:he,onScroll:Ne,children:[m(tI,{"aria-label":o,"aria-labelledby":s,"aria-orientation":g==="vertical"?"vertical":null,className:H.flexContainer,ownerState:U,onKeyDown:We,ref:te,role:"tablist",children:Se}),Y&&ge]}),Be.scrollButtonEnd]}))}),iI=aI,oI=on(m("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"WarningSharp"),sI=on([m("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4.2 12.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z",opacity:".3"},"0"),m("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"},"1")],"WatchLaterTwoTone");var Mp={},lI=TC;Object.defineProperty(Mp,"__esModule",{value:!0});var cw=Mp.default=void 0,uI=lI(IC()),cI=RC,dI=(0,uI.default)((0,cI.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");cw=Mp.default=dI;var jc={exports:{}},at={},Qc={exports:{}},$n={};function dw(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function fI(e,t,n){}function pI(e,t,n){}var hI=/javascript\s*\:/img;function mI(e,t){return hI.test(t)?"":t}$n.whiteList=dw();$n.getDefaultWhiteList=dw;$n.onAttr=fI;$n.onIgnoreAttr=pI;$n.safeAttrValue=mI;var vI={indexOf:function(e,t){var n,a;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var a,r;if(Array.prototype.forEach)return e.forEach(t,n);for(a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Pa=vI;function gI(e,t){e=Pa.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,a=!1,r=0,i=0,o="";function s(){if(!a){var u=Pa.trim(e.slice(r,i)),d=u.indexOf(":");if(d!==-1){var p=Pa.trim(u.slice(0,d)),f=Pa.trim(u.slice(d+1));if(p){var h=t(r,o.length,p,f,u);h&&(o+=h+"; ")}}}r=i+1}for(;i<n;i++){var l=e[i];if(l==="/"&&e[i+1]==="*"){var c=e.indexOf("*/",i+2);if(c===-1)break;i=c+1,r=i+1,a=!1}else l==="("?a=!0:l===")"?a=!1:l===";"?a||s():l===`
`&&s()}return Pa.trim(o)}var yI=gI,Xi=$n,bI=yI;function vm(e){return e==null}function wI(e){var t={};for(var n in e)t[n]=e[n];return t}function fw(e){e=wI(e||{}),e.whiteList=e.whiteList||Xi.whiteList,e.onAttr=e.onAttr||Xi.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Xi.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Xi.safeAttrValue,this.options=e}fw.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,r=n.onAttr,i=n.onIgnoreAttr,o=n.safeAttrValue,s=bI(e,function(l,c,u,d,p){var f=a[u],h=!1;if(f===!0?h=f:typeof f=="function"?h=f(d):f instanceof RegExp&&(h=f.test(d)),h!==!0&&(h=!1),d=o(u,d),!!d){var v={position:c,sourcePosition:l,source:p,isWhite:h};if(h){var g=r(u,d,v);return vm(g)?u+":"+d:g}else{var g=i(u,d,v);if(!vm(g))return g}}});return s};var SI=fw;(function(e,t){var n=$n,a=SI;function r(o,s){var l=new a(s);return l.process(o)}t=e.exports=r,t.FilterCSS=a;for(var i in n)t[i]=n[i];typeof window<"u"&&(window.filterCSS=e.exports)})(Qc,Qc.exports);var Bp=Qc.exports,zp={indexOf:function(e,t){var n,a;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var a,r;if(Array.prototype.forEach)return e.forEach(t,n);for(a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},_I=Bp.FilterCSS,EI=Bp.getDefaultWhiteList,Mo=zp;function pw(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var hw=new _I;function CI(e,t,n){}function xI(e,t,n){}function NI(e,t,n){}function II(e,t,n){}function mw(e){return e.replace(RI,"&lt;").replace(PI,"&gt;")}function TI(e,t,n,a){if(n=Sw(n),t==="href"||t==="src"){if(n=Mo.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(Ki.lastIndex=0,Ki.test(n))return""}else if(t==="style"){if(gm.lastIndex=0,gm.test(n)||(ym.lastIndex=0,ym.test(n)&&(Ki.lastIndex=0,Ki.test(n))))return"";a!==!1&&(a=a||hw,n=a.process(n))}return n=_w(n),n}var RI=/</g,PI=/>/g,AI=/"/g,kI=/&quot;/g,$I=/&#([a-zA-Z0-9]*);?/gim,qI=/&colon;?/gim,FI=/&newline;?/gim,Ki=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,gm=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ym=/u\s*r\s*l\s*\(.*/gi;function vw(e){return e.replace(AI,"&quot;")}function gw(e){return e.replace(kI,'"')}function yw(e){return e.replace($I,function(n,a){return a[0]==="x"||a[0]==="X"?String.fromCharCode(parseInt(a.substr(1),16)):String.fromCharCode(parseInt(a,10))})}function bw(e){return e.replace(qI,":").replace(FI," ")}function ww(e){for(var t="",n=0,a=e.length;n<a;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return Mo.trim(t)}function Sw(e){return e=gw(e),e=yw(e),e=bw(e),e=ww(e),e}function _w(e){return e=vw(e),e=mw(e),e}function DI(){return""}function OI(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function a(o){return n?!0:Mo.indexOf(e,o)!==-1}var r=[],i=!1;return{onIgnoreTag:function(o,s,l){if(a(o))if(l.isClosing){var c="[/removed]",u=l.position+c.length;return r.push([i!==!1?i:l.position,u]),i=!1,c}else return i||(i=l.position),"[removed]";else return t(o,s,l)},remove:function(o){var s="",l=0;return Mo.forEach(r,function(c){s+=o.slice(l,c[0]),l=c[1]}),s+=o.slice(l),s}}}function LI(e){for(var t="",n=0;n<e.length;){var a=e.indexOf("<!--",n);if(a===-1){t+=e.slice(n);break}t+=e.slice(n,a);var r=e.indexOf("-->",a);if(r===-1)break;n=r+3}return t}function VI(e){var t=e.split("");return t=t.filter(function(n){var a=n.charCodeAt(0);return a===127?!1:a<=31?a===10||a===13:!0}),t.join("")}at.whiteList=pw();at.getDefaultWhiteList=pw;at.onTag=CI;at.onIgnoreTag=xI;at.onTagAttr=NI;at.onIgnoreTagAttr=II;at.safeAttrValue=TI;at.escapeHtml=mw;at.escapeQuote=vw;at.unescapeQuote=gw;at.escapeHtmlEntities=yw;at.escapeDangerHtml5Entities=bw;at.clearNonPrintableCharacter=ww;at.friendlyAttrValue=Sw;at.escapeAttrValue=_w;at.onIgnoreTagStripAll=DI;at.StripTagBody=OI;at.stripCommentTag=LI;at.stripBlankChar=VI;at.cssFilter=hw;at.getDefaultCSSWhiteList=EI;var js={},Or=zp;function MI(e){var t=Or.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=Or.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function BI(e){return e.slice(0,2)==="</"}function zI(e,t,n){var a="",r=0,i=!1,o=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(i===!1){if(d==="<"){i=s;continue}}else if(o===!1){if(d==="<"){a+=n(e.slice(r,s)),i=s,r=s;continue}if(d===">"||s===l-1){a+=n(e.slice(r,i)),u=e.slice(i,s+1),c=MI(u),a+=t(i,a.length,c,u,BI(u)),r=s+1,i=!1;continue}if(d==='"'||d==="'")for(var p=1,f=e.charAt(s-p);f.trim()===""||f==="=";){if(f==="="){o=d;continue e}f=e.charAt(s-++p)}}else if(d===o){o=!1;continue}}return r<l&&(a+=n(e.substr(r))),a}var UI=/[^a-zA-Z0-9\\_:.-]/gim;function HI(e,t){var n=0,a=0,r=[],i=!1,o=e.length;function s(p,f){if(p=Or.trim(p),p=p.replace(UI,"").toLowerCase(),!(p.length<1)){var h=t(p,f||"");h&&r.push(h)}}for(var l=0;l<o;l++){var c=e.charAt(l),u,d;if(i===!1&&c==="="){i=e.slice(n,l),n=l+1,a=e.charAt(n)==='"'||e.charAt(n)==="'"?n:jI(e,l+1);continue}if(i!==!1&&l===a){if(d=e.indexOf(c,l+1),d===-1)break;u=Or.trim(e.slice(a+1,d)),s(i,u),i=!1,l=d,n=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(d=WI(e,l),d===-1){u=Or.trim(e.slice(n,l)),s(u),i=!1,n=l+1;continue}else{l=d-1;continue}else if(d=QI(e,l-1),d===-1){u=Or.trim(e.slice(n,l)),u=bm(u),s(i,u),i=!1,n=l+1;continue}else continue}return n<e.length&&(i===!1?s(e.slice(n)):s(i,bm(Or.trim(e.slice(n))))),Or.trim(r.join(" "))}function WI(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function jI(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function QI(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function GI(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function bm(e){return GI(e)?e.substr(1,e.length-2):e}js.parseTag=zI;js.parseAttr=HI;var YI=Bp.FilterCSS,Wt=at,Ew=js,XI=Ew.parseTag,KI=Ew.parseAttr,xo=zp;function Zi(e){return e==null}function ZI(e){var t=xo.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=xo.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=xo.trim(e.slice(0,-1))),{html:e,closing:n}}function JI(e){var t={};for(var n in e)t[n]=e[n];return t}function eT(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(a){return a.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function Cw(e){e=JI(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Wt.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=eT(e.whiteList||e.allowList):e.whiteList=Wt.whiteList,e.onTag=e.onTag||Wt.onTag,e.onTagAttr=e.onTagAttr||Wt.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Wt.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Wt.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Wt.safeAttrValue,e.escapeHtml=e.escapeHtml||Wt.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new YI(e.css))}Cw.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,r=n.onTag,i=n.onIgnoreTag,o=n.onTagAttr,s=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=Wt.stripBlankChar(e)),n.allowCommentTag||(e=Wt.stripCommentTag(e));var d=!1;n.stripIgnoreTagBody&&(d=Wt.StripTagBody(n.stripIgnoreTagBody,i),i=d.onIgnoreTag);var p=XI(e,function(f,h,v,g,b){var E={sourcePosition:f,position:h,isClosing:b,isWhite:Object.prototype.hasOwnProperty.call(a,v)},y=r(v,g,E);if(!Zi(y))return y;if(E.isWhite){if(E.isClosing)return"</"+v+">";var _=ZI(g),w=a[v],S=KI(_.html,function(C,x){var T=xo.indexOf(w,C)!==-1,R=o(v,C,x,T);return Zi(R)?T?(x=l(v,C,x,u),x?C+'="'+x+'"':C):(R=s(v,C,x,T),Zi(R)?void 0:R):R});return g="<"+v,S&&(g+=" "+S),_.closing&&(g+=" /"),g+=">",g}else return y=i(v,g,E),Zi(y)?c(g):y},c);return d&&(p=d.remove(p)),p};var tT=Cw;(function(e,t){var n=at,a=js,r=tT;function i(s,l){var c=new r(l);return c.process(s)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=r,function(){for(var s in n)t[s]=n[s];for(var l in a)t[l]=a[l]}(),typeof window<"u"&&(window.filterXSS=e.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(jc,jc.exports);var rT=jc.exports;const xw=It(rT),Nw={whiteList:{a:["target","href","title","ref"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],body:[],br:[],button:["class"],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["class"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],g:[],h1:["toc"],h2:["toc"],h3:["toc"],h4:["toc"],h5:["toc"],h6:["toc"],head:[],header:[],hr:[],html:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:["class"],mark:[],nav:[],noscript:[],ol:["class"],p:[],pre:[],s:[],section:[],small:[],span:["data-widgetparams","class","id"],sub:[],summary:[],sup:[],strong:[],svg:[],table:["width","border","align","valign","class"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign","class"],thead:["class","align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:["class"],video:["autoplay","controls","loop","preload","src","height","width"]},stripIgnoreTagBody:!0,allowCommentTag:!1,css:!1,onIgnoreTag:function(e,t,n){if(e==="!doctype")return t},safeAttrValue:function(e,t,n){return e==="img"&&t==="src"?n&&(n.startsWith("data:image/")||n.startsWith("http"))?n:"":n}};function Gc(e){let t="";const{align:n="",highlight:a=""}=e,r=a==="true",i=n.toLowerCase();i==="left"&&(t+="floatleft "),i==="right"&&(t+="floatright ");const o=i==="center",s=r?"secondary":"neutral",l=m(ha,{href:e.url,className:t,variant:"contained",color:s,sx:{"&:hover":{backgroundColor:r?void 0:"secondary.main",color:"white"},...!o&&e.url&&{margin:"20px 20px 20px 0px"}},children:e.text});return o?m("div",{style:{textAlign:"center"},children:l}):m("span",{children:l})}try{Gc.displayName="MarkdownButton",Gc.__docgenInfo={description:"",displayName:"MarkdownButton",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"string"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}}}}}catch{}async function nT(e,t,n){const a=new Set;try{let r=await Xa(n,e,t);for(;WC(r);){if(a.has(r.id))throw new Error("Link forms a cycle.");a.add(r.id),r=await Xa(n,r.linksTo.targetId,r.linksTo.targetVersionNumber)}return r}catch(r){throw new Error(`${e} could not be resolved.
${r.message}`)}}function aT(e,t,n){const{accessToken:a}=Ve();return pa(["resolveLinkEntity",e,t],()=>nT(e,t,a),n)}function Iw(e,t,n=pb,a){const{accessToken:r,keyFactory:i}=Ve();return pa(i.getEntityBundleQueryKey(e,t,n),()=>Je.getEntityBundleV2(e,n,t,r),a)}function iT(e,t,n){const{accessToken:a,keyFactory:r}=Ve();return pa(r.getIsUserMemberOfTeamQueryKey(e,t),()=>Je.getIsUserMemberOfTeam(e,t,a),n)}function oT(e){const{rawHtml:t,isLoading:n,isTrusted:a}=e;return P.useMemo(()=>{if(!n)return a?t:xw(t,Nw)},[n,a,t])}function Yc(e){const{createdByUserId:t,rawHtml:n}=e,a=P.useRef(null),[r,i]=P.useState(100),{data:o,isLoading:s}=iT(ZC,t),l=()=>{if(a!=null&&a.current&&(a!=null&&a.current.contentWindow)){let d=a.current.contentWindow.document.body.scrollHeight;d<450&&(d=450),(!r||Math.abs(d-r)>70)&&i(d+50)}};P.useEffect(()=>{setInterval(()=>{l()},500)},[n]);const u=oT({rawHtml:n,isLoading:s,isTrusted:!!o});return s?m($s,{}):L(Q,{children:[n!==u&&m(_b,{variant:"info",dismissible:!1,show:!0,transition:!1,children:"Limited rendering only."}),m("iframe",{ref:a,srcDoc:u,height:`${r}px`,style:{border:0,width:"100%"}})]})}try{Yc.displayName="HtmlPreview",Yc.__docgenInfo={description:"Renders raw HTML. Uses file handle data to determine if the content should be sanitized.",displayName:"HtmlPreview",props:{createdByUserId:{defaultValue:null,description:"",name:"createdByUserId",required:!0,type:{name:"string"}},rawHtml:{defaultValue:null,description:"",name:"rawHtml",required:!0,type:{name:"string"}}}}}catch{}var nt=(e=>(e.PLAINTEXT="PLAINTEXT",e.CODE="CODE",e.ZIP="ZIP",e.CSV="CSV",e.IMAGE="IMAGE",e.NONE="NONE",e.TAB="TAB",e.HTML="HTML",e.PDF="PDF",e.IPYNB="IPYNB",e.VIDEO="VIDEO",e.MARKDOWN="MARKDOWN",e.TIFF="TIFF",e))(nt||{});const sT=30*JC;function Bo(e){const{fileHandle:t,fileHandleAssociation:n,previewType:a}=e,r={requestedFiles:[n],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1},{data:i,isLoading:o}=XC(t,r,sT,{useErrorBoundary:!0});return o?m($s,{}):a===nt.HTML?m(Yc,{rawHtml:i,createdByUserId:t.createdBy}):(a!==nt.NONE&&console.warn(`Rendering a preview of type ${a} is not supported in Portals`),m(Q,{}))}try{Bo.displayName="FileHandleContentRenderer",Bo.__docgenInfo={description:"Fetches the content for and renders the contents of a file handle.",displayName:"FileHandleContentRenderer",props:{fileHandle:{defaultValue:null,description:"The file handle whose contents should be downloaded and rendered",name:"fileHandle",required:!0,type:{name:"FileHandle"}},fileHandleAssociation:{defaultValue:null,description:"The association between the file handle and an object which will give the user permission to access the file data",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},previewType:{defaultValue:null,description:"Informs how to render the file data",name:"previewType",required:!0,type:{name:"enum",value:[{value:'"PLAINTEXT"'},{value:'"CODE"'},{value:'"ZIP"'},{value:'"CSV"'},{value:'"IMAGE"'},{value:'"NONE"'},{value:'"TAB"'},{value:'"HTML"'},{value:'"PDF"'},{value:'"IPYNB"'},{value:'"VIDEO"'},{value:'"MARKDOWN"'},{value:'"TIFF"'}]}}}}}catch{}const Tw=["image/bmp","image/pjpeg","image/jpeg","image/jpg","image/jpe","image/gif","image/png","image/svg+xml"],lT=[".mp4",".m4a",".m4p",".m4b",".m4r",".m4v"],uT=[".ogv",".ogg"],cT=[...lT,...uT,".webm"],dT=[".cwl",".wdl",".json",".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],fT=[".md",".markdown",".rmd"];function pT(e){const t=e.lastIndexOf(".");return t===-1?null:e.substring(t)}function hT(e){if(!wp(e))return nt.NONE;const t=pT(e.fileName);return t&&cT.includes(t)?nt.VIDEO:t===".ipynb"?nt.IPYNB:Tw.includes(e.contentType)?nt.IMAGE:e.contentType==="text/html"?nt.HTML:e.contentType.toLowerCase().startsWith("application/pdf")?nt.PDF:t&&dT.includes(t)?nt.CODE:t&&fT.includes(t)?nt.MARKDOWN:e.contentType==="image/tiff"?nt.TIFF:nt.NONE}function mT(e,t){const n=e.contentType;return wp(e)?Tw.includes(e.contentType)?nt.IMAGE:n.toLowerCase().startsWith("text/")?n.toLowerCase()==="text/csv"?t.contentType==="application/zip"?nt.ZIP:nt.CSV:n.toLowerCase()==="text/tab-separated-values"?nt.TAB:nt.PLAINTEXT:n.toLowerCase().startsWith("application/pdf")?nt.PDF:nt.NONE:nt.NONE}function Xc(e){const{bundle:t}=e,{accessToken:n}=Ve(),a=!!n;if(!Sp(t.entity))throw new Error(`Entity ${t.entity.id} is not a FileEntity`);const r=t.entity.dataFileHandleId,i=t.fileHandles.find(s=>s.id===r);if(!i&&!a)return m(_b,{dismissible:!1,show:!0,variant:"danger",transition:!1,children:m(PC,{})});if(i){const s=hT(i);if(s!==nt.NONE)return m(Bo,{fileHandle:i,fileHandleAssociation:{fileHandleId:r,associateObjectId:t.entity.id,associateObjectType:lr.FileEntity},previewType:s})}const o=t.fileHandles.find(s=>wp(s)&&s.isPreview);if(o&&i){const s=mT(o,i);if(s!==nt.NONE)return m(Bo,{fileHandle:o,fileHandleAssociation:{fileHandleId:o.id,associateObjectId:t.entity.id,associateObjectType:lr.FileEntity},previewType:s})}throw new Error(`Could not render a preview for entity: ${t.entity.id}`)}try{Xc.displayName="FileEntityPreview",Xc.__docgenInfo={description:`Given an entity bundle that contains a FileEntity, render a preview of the file. The rendered preview will be determined based on the
content type and file name of the file handle(s) associated with the FileEntity.`,displayName:"FileEntityPreview",props:{bundle:{defaultValue:null,description:"An entity bundle containing a FileEntity, and its fileHandles",name:"bundle",required:!0,type:{name:"EntityBundle"}}}}}catch{}function Kc(e){const{entityId:t,versionNumber:n}=e,{data:a,isLoading:r}=aT(t,n),i=a&&Sp(a),{data:o,isLoading:s}=Iw(a==null?void 0:a.id,a==null?void 0:a.versionNumber,pb,{enabled:!!i,useErrorBoundary:!0});if(r||s)return m($s,{});if(i)return m(Xc,{bundle:o});throw new Error(`${t} is not a File and cannot be previewed.`)}try{Kc.displayName="EntityPreview",Kc.__docgenInfo={description:"Returns a preview of an entity. Currently only works for FileEntities, and Links that resolve to FileEntities.",displayName:"EntityPreview",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function Zc(e){const t=u1(e.entityId);if(t==null)throw new Error(`${e.entityId} is not a valid Synapse ID`);const n=parseInt(e.versionNumber??""),a=t.targetId,r=Number.isNaN(n)?t.targetVersionNumber:n;return m(Kc,{entityId:a,versionNumber:r})}try{Zc.displayName="MarkdownEntityPreview",Zc.__docgenInfo={description:"",displayName:"MarkdownEntityPreview",props:{entityId:{defaultValue:null,description:'A Synapse Entity ID that may optionally contain a "dot" version, e.g. syn123 or syn123.2',name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"An optional Entity version number.",name:"versionNumber",required:!1,type:{name:"string"}}}}}catch{}function vT(e,t){const{accessToken:n,keyFactory:a}=Ve(),r={accessRequirementId:e};return Cb(a.getApprovedSubmissionInfoQueryKey(r),async i=>await Je.getApprovedSubmissionInfo({...r,nextPageToken:i.pageParam},n),{...t,getNextPageParam:i=>i.nextPageToken})}const Jc=({info:e})=>m(Q,{children:e&&L("p",{className:"SubmissionInfoCard",children:[m("strong",{children:" Project Lead: "})," ",m("span",{children:e.projectLead})," ",m("br",{}),m("strong",{children:" Institution: "})," ",m("span",{children:e.institution})," ",m("br",{}),m("strong",{children:" Data Access Request Submitted By: "})," ",m(na,{ownerId:e.submittedBy,size:Do})," ",m("br",{}),L("strong",{children:[" ","Intended Data Use Statement (accepted on"," ",Za(ur(e.modifiedOn),"M/D/YYYY"),"):"]}),m(Nt,{markdown:e.intendedDataUseStatement}),e.accessorChanges&&e.accessorChanges.map(t=>L("div",{children:[m(na,{ownerId:t.userId,size:Do})," ",t.type]},`${t.userId}-${t.type}`))]})}),zo=()=>L("p",{className:"SubmissionInfoCard",children:[m(Np,{numCols:1,numRows:4}),m(gn,{variant:"rectangular",width:"100%",height:80})]});try{Jc.displayName="SubmissionInfoCard",Jc.__docgenInfo={description:"",displayName:"SubmissionInfoCard",props:{info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"SubmissionInfo"}}}}}catch{}try{zo.displayName="LoadingSubmissionInfoCard",zo.__docgenInfo={description:"",displayName:"LoadingSubmissionInfoCard",props:{}}}catch{}const ed=e=>{const{accessRequirementId:t}=e,{ref:n,inView:a}=ga(),{data:r,status:i,isLoading:o,hasNextPage:s,isFetchingNextPage:l,fetchNextPage:c}=vT(t,{useErrorBoundary:!0});P.useEffect(()=>{i==="success"&&!l&&s&&c&&a&&c()},[i,s,l,c,a]);const u=(r==null?void 0:r.pages.flatMap(d=>d.results))??[];return L(Q,{children:[u.length>0&&L("div",{className:"IDUReport",children:[u.map(d=>L(B.Fragment,{children:[m(Jc,{info:d}),m("hr",{})]},JSON.stringify(d))),m("div",{ref:n})]}),(o||l)&&L(Q,{children:[m(zo,{}),m(zo,{})]})]})};try{ed.displayName="IDUReport",ed.__docgenInfo={description:"",displayName:"IDUReport",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"string"}}}}}catch{}function td(e){const{accessRestrictionId:t}=e;return m(ed,{accessRequirementId:t})}try{td.displayName="MarkdownIDUReport",td.__docgenInfo={description:"",displayName:"MarkdownIDUReport",props:{accessRestrictionId:{defaultValue:null,description:"",name:"accessRestrictionId",required:!0,type:{name:"string"}}}}}catch{}function Tt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,a;n<e.length;n++)(a=Tt(e[n]))!==""&&(t+=(t&&" ")+a);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const wm=e=>{let t;const n=new Set,a=(l,c)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=c??typeof u!="object"?u:Object.assign({},t,u),n.forEach(p=>p(t,d))}},r=()=>t,s={setState:a,getState:r,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(a,r,s),s},gT=e=>e?wm(e):wm;var Rw={exports:{}},Pw={},Aw={exports:{}},kw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=P;function yT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bT=typeof Object.is=="function"?Object.is:yT,wT=ia.useState,ST=ia.useEffect,_T=ia.useLayoutEffect,ET=ia.useDebugValue;function CT(e,t){var n=t(),a=wT({inst:{value:n,getSnapshot:t}}),r=a[0].inst,i=a[1];return _T(function(){r.value=n,r.getSnapshot=t,Ll(r)&&i({inst:r})},[e,n,t]),ST(function(){return Ll(r)&&i({inst:r}),e(function(){Ll(r)&&i({inst:r})})},[e]),ET(n),n}function Ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bT(e,n)}catch{return!0}}function xT(e,t){return t()}var NT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xT:CT;kw.useSyncExternalStore=ia.useSyncExternalStore!==void 0?ia.useSyncExternalStore:NT;Aw.exports=kw;var IT=Aw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=P,TT=IT;function RT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PT=typeof Object.is=="function"?Object.is:RT,AT=TT.useSyncExternalStore,kT=Qs.useRef,$T=Qs.useEffect,qT=Qs.useMemo,FT=Qs.useDebugValue;Pw.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var i=kT(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=qT(function(){function l(f){if(!c){if(c=!0,u=f,f=a(f),r!==void 0&&o.hasValue){var h=o.value;if(r(h,f))return d=h}return d=f}if(h=d,PT(u,f))return h;var v=a(f);return r!==void 0&&r(h,v)?h:(u=f,d=v)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,a,r]);var s=AT(e,i[0],i[1]);return $T(function(){o.hasValue=!0,o.value=s},[s]),FT(s),s};Rw.exports=Pw;var DT=Rw.exports;const OT=It(DT),{useSyncExternalStoreWithSelector:LT}=OT;function VT(e,t=e.getState,n){const a=LT(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return P.useDebugValue(a),a}function qt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,r]of e)if(!Object.is(r,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!Object.is(e[n[a]],t[n[a]]))return!1;return!0}var MT={value:()=>{}};function Gs(){for(var e=0,t=arguments.length,n={},a;e<t;++e){if(!(a=arguments[e]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new No(n)}function No(e){this._=e}function BT(e,t){return e.trim().split(/^|\s+/).map(function(n){var a="",r=n.indexOf(".");if(r>=0&&(a=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}No.prototype=Gs.prototype={constructor:No,on:function(e,t){var n=this._,a=BT(e+"",n),r,i=-1,o=a.length;if(arguments.length<2){for(;++i<o;)if((r=(e=a[i]).type)&&(r=zT(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(r=(e=a[i]).type)n[r]=Sm(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Sm(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new No(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),a=0,r,i;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};function zT(e,t){for(var n=0,a=e.length,r;n<a;++n)if((r=e[n]).name===t)return r.value}function Sm(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=MT,e=e.slice(0,a).concat(e.slice(a+1));break}return n!=null&&e.push({name:t,value:n}),e}var rd="http://www.w3.org/1999/xhtml";const _m={svg:"http://www.w3.org/2000/svg",xhtml:rd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ys(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_m.hasOwnProperty(t)?{space:_m[t],local:e}:e}function UT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===rd&&t.documentElement.namespaceURI===rd?t.createElement(e):t.createElementNS(n,e)}}function HT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $w(e){var t=Ys(e);return(t.local?HT:UT)(t)}function WT(){}function Up(e){return e==null?WT:function(){return this.querySelector(e)}}function jT(e){typeof e!="function"&&(e=Up(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Ft(a,this._parents)}function QT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function GT(){return[]}function qw(e){return e==null?GT:function(){return this.querySelectorAll(e)}}function YT(e){return function(){return QT(e.apply(this,arguments))}}function XT(e){typeof e=="function"?e=YT(e):e=qw(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i)for(var o=t[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(a.push(e.call(l,l.__data__,c,o)),r.push(l));return new Ft(a,r)}function Fw(e){return function(){return this.matches(e)}}function Dw(e){return function(t){return t.matches(e)}}var KT=Array.prototype.find;function ZT(e){return function(){return KT.call(this.children,e)}}function JT(){return this.firstElementChild}function eR(e){return this.select(e==null?JT:ZT(typeof e=="function"?e:Dw(e)))}var tR=Array.prototype.filter;function rR(){return Array.from(this.children)}function nR(e){return function(){return tR.call(this.children,e)}}function aR(e){return this.selectAll(e==null?rR:nR(typeof e=="function"?e:Dw(e)))}function iR(e){typeof e!="function"&&(e=Fw(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new Ft(a,this._parents)}function Ow(e){return new Array(e.length)}function oR(){return new Ft(this._enter||this._groups.map(Ow),this._parents)}function Uo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Uo.prototype={constructor:Uo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function sR(e){return function(){return e}}function lR(e,t,n,a,r,i){for(var o=0,s,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],a[o]=s):n[o]=new Uo(e,i[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function uR(e,t,n,a,r,i,o){var s,l,c=new Map,u=t.length,d=i.length,p=new Array(u),f;for(s=0;s<u;++s)(l=t[s])&&(p[s]=f=o.call(l,l.__data__,s,t)+"",c.has(f)?r[s]=l:c.set(f,l));for(s=0;s<d;++s)f=o.call(e,i[s],s,i)+"",(l=c.get(f))?(a[s]=l,l.__data__=i[s],c.delete(f)):n[s]=new Uo(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(p[s])===l&&(r[s]=l)}function cR(e){return e.__data__}function dR(e,t){if(!arguments.length)return Array.from(this,cR);var n=t?uR:lR,a=this._parents,r=this._groups;typeof e!="function"&&(e=sR(e));for(var i=r.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=a[c],d=r[c],p=d.length,f=fR(e.call(u,u&&u.__data__,c,a)),h=f.length,v=s[c]=new Array(h),g=o[c]=new Array(h),b=l[c]=new Array(p);n(u,d,v,g,b,f,t);for(var E=0,y=0,_,w;E<h;++E)if(_=v[E]){for(E>=y&&(y=E+1);!(w=g[y])&&++y<h;);_._next=w||null}}return o=new Ft(o,a),o._enter=s,o._exit=l,o}function fR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pR(){return new Ft(this._exit||this._groups.map(Ow),this._parents)}function hR(e,t,n){var a=this.enter(),r=this,i=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),a&&r?a.merge(r).order():r}function mR(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,i=a.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c=n[l],u=a[l],d=c.length,p=s[l]=new Array(d),f,h=0;h<d;++h)(f=c[h]||u[h])&&(p[h]=f);for(;l<r;++l)s[l]=n[l];return new Ft(s,this._parents)}function vR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],r=a.length-1,i=a[r],o;--r>=0;)(o=a[r])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function gR(e){e||(e=yR);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var o=n[i],s=o.length,l=r[i]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ft(r,this._parents).order()}function yR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wR(){return Array.from(this)}function SR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}return null}function _R(){let e=0;for(const t of this)++e;return e}function ER(){return!this.node()}function CR(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&e.call(s,s.__data__,i,r);return this}function xR(e){return function(){this.removeAttribute(e)}}function NR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IR(e,t){return function(){this.setAttribute(e,t)}}function TR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function RR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function PR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function AR(e,t){var n=Ys(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((t==null?n.local?NR:xR:typeof t=="function"?n.local?PR:RR:n.local?TR:IR)(n,t))}function Lw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kR(e){return function(){this.style.removeProperty(e)}}function $R(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qR(e,t,n){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function FR(e,t,n){return arguments.length>1?this.each((t==null?kR:typeof t=="function"?qR:$R)(e,t,n??"")):oa(this.node(),e)}function oa(e,t){return e.style.getPropertyValue(t)||Lw(e).getComputedStyle(e,null).getPropertyValue(t)}function DR(e){return function(){delete this[e]}}function OR(e,t){return function(){this[e]=t}}function LR(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function VR(e,t){return arguments.length>1?this.each((t==null?DR:typeof t=="function"?LR:OR)(e,t)):this.node()[e]}function Vw(e){return e.trim().split(/^|\s+/)}function Hp(e){return e.classList||new Mw(e)}function Mw(e){this._node=e,this._names=Vw(e.getAttribute("class")||"")}Mw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Bw(e,t){for(var n=Hp(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function zw(e,t){for(var n=Hp(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function MR(e){return function(){Bw(this,e)}}function BR(e){return function(){zw(this,e)}}function zR(e,t){return function(){(t.apply(this,arguments)?Bw:zw)(this,e)}}function UR(e,t){var n=Vw(e+"");if(arguments.length<2){for(var a=Hp(this.node()),r=-1,i=n.length;++r<i;)if(!a.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?zR:t?MR:BR)(n,t))}function HR(){this.textContent=""}function WR(e){return function(){this.textContent=e}}function jR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function QR(e){return arguments.length?this.each(e==null?HR:(typeof e=="function"?jR:WR)(e)):this.node().textContent}function GR(){this.innerHTML=""}function YR(e){return function(){this.innerHTML=e}}function XR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function KR(e){return arguments.length?this.each(e==null?GR:(typeof e=="function"?XR:YR)(e)):this.node().innerHTML}function ZR(){this.nextSibling&&this.parentNode.appendChild(this)}function JR(){return this.each(ZR)}function eP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tP(){return this.each(eP)}function rP(e){var t=typeof e=="function"?e:$w(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function nP(){return null}function aP(e,t){var n=typeof e=="function"?e:$w(e),a=t==null?nP:typeof t=="function"?t:Up(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function iP(){var e=this.parentNode;e&&e.removeChild(this)}function oP(){return this.each(iP)}function sP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uP(e){return this.select(e?lP:sP)}function cP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dP(e){return function(t){e.call(this,t,this.__data__)}}function fP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",a=t.indexOf(".");return a>=0&&(n=t.slice(a+1),t=t.slice(0,a)),{type:t,name:n}})}function pP(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++a]=i;++a?t.length=a:delete this.__on}}}function hP(e,t,n){return function(){var a=this.__on,r,i=dP(t);if(a){for(var o=0,s=a.length;o<s;++o)if((r=a[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},a?a.push(r):this.__on=[r]}}function mP(e,t,n){var a=fP(e+""),r,i=a.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(r=0,u=s[l];r<i;++r)if((o=a[r]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?hP:pP,r=0;r<i;++r)this.each(s(a[r],t,n));return this}function Uw(e,t,n){var a=Lw(e),r=a.CustomEvent;typeof r=="function"?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function vP(e,t){return function(){return Uw(this,e,t)}}function gP(e,t){return function(){return Uw(this,e,t.apply(this,arguments))}}function yP(e,t){return this.each((typeof t=="function"?gP:vP)(e,t))}function*bP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length,o;r<i;++r)(o=a[r])&&(yield o)}var Hw=[null];function Ft(e,t){this._groups=e,this._parents=t}function Ai(){return new Ft([[document.documentElement]],Hw)}function wP(){return this}Ft.prototype=Ai.prototype={constructor:Ft,select:jT,selectAll:XT,selectChild:eR,selectChildren:aR,filter:iR,data:dR,enter:oR,exit:pR,join:hR,merge:mR,selection:wP,order:vR,sort:gR,call:bR,nodes:wR,node:SR,size:_R,empty:ER,each:CR,attr:AR,style:FR,property:VR,classed:UR,text:QR,html:KR,raise:JR,lower:tP,append:rP,insert:aP,remove:oP,clone:uP,datum:cP,on:mP,dispatch:yP,[Symbol.iterator]:bP};function Qt(e){return typeof e=="string"?new Ft([[document.querySelector(e)]],[document.documentElement]):new Ft([[e]],Hw)}function SP(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ar(e,t){if(e=SP(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const _P={passive:!1},ti={capture:!0,passive:!1};function Vl(e){e.stopImmediatePropagation()}function Xn(e){e.preventDefault(),e.stopImmediatePropagation()}function Ww(e){var t=e.document.documentElement,n=Qt(e).on("dragstart.drag",Xn,ti);"onselectstart"in t?n.on("selectstart.drag",Xn,ti):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jw(e,t){var n=e.document.documentElement,a=Qt(e).on("dragstart.drag",null);t&&(a.on("click.drag",Xn,ti),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ji=e=>()=>e;function nd(e,{sourceEvent:t,subject:n,target:a,identifier:r,active:i,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}nd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function EP(e){return!e.ctrlKey&&!e.button}function CP(){return this.parentNode}function xP(e,t){return t??{x:e.x,y:e.y}}function NP(){return navigator.maxTouchPoints||"ontouchstart"in this}function IP(){var e=EP,t=CP,n=xP,a=NP,r={},i=Gs("start","drag","end"),o=0,s,l,c,u,d=0;function p(_){_.on("mousedown.drag",f).filter(a).on("touchstart.drag",g).on("touchmove.drag",b,_P).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(_,w){if(!(u||!e.call(this,_,w))){var S=y(this,t.call(this,_,w),_,w,"mouse");S&&(Qt(_.view).on("mousemove.drag",h,ti).on("mouseup.drag",v,ti),Ww(_.view),Vl(_),c=!1,s=_.clientX,l=_.clientY,S("start",_))}}function h(_){if(Xn(_),!c){var w=_.clientX-s,S=_.clientY-l;c=w*w+S*S>d}r.mouse("drag",_)}function v(_){Qt(_.view).on("mousemove.drag mouseup.drag",null),jw(_.view,c),Xn(_),r.mouse("end",_)}function g(_,w){if(e.call(this,_,w)){var S=_.changedTouches,C=t.call(this,_,w),x=S.length,T,R;for(T=0;T<x;++T)(R=y(this,C,_,w,S[T].identifier,S[T]))&&(Vl(_),R("start",_,S[T]))}}function b(_){var w=_.changedTouches,S=w.length,C,x;for(C=0;C<S;++C)(x=r[w[C].identifier])&&(Xn(_),x("drag",_,w[C]))}function E(_){var w=_.changedTouches,S=w.length,C,x;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<S;++C)(x=r[w[C].identifier])&&(Vl(_),x("end",_,w[C]))}function y(_,w,S,C,x,T){var R=i.copy(),q=ar(T||S,w),k,I,N;if((N=n.call(_,new nd("beforestart",{sourceEvent:S,target:p,identifier:x,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:R}),C))!=null)return k=N.x-q[0]||0,I=N.y-q[1]||0,function $(F,A,V){var O=q,U;switch(F){case"start":r[x]=$,U=o++;break;case"end":delete r[x],--o;case"drag":q=ar(V||A,w),U=o;break}R.call(F,_,new nd(F,{sourceEvent:A,subject:N,target:p,identifier:x,active:U,x:q[0]+k,y:q[1]+I,dx:q[0]-O[0],dy:q[1]-O[1],dispatch:R}),C)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ji(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:Ji(_),p):t},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Ji(_),p):n},p.touchable=function(_){return arguments.length?(a=typeof _=="function"?_:Ji(!!_),p):a},p.on=function(){var _=i.on.apply(i,arguments);return _===i?p:_},p.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,p):Math.sqrt(d)},p}function Wp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qw(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function ki(){}var ri=.7,Ho=1/ri,Kn="\\s*([+-]?\\d+)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TP=/^#([0-9a-f]{3,8})$/,RP=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),PP=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),AP=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${ni}\\)$`),kP=new RegExp(`^rgba\\(${sr},${sr},${sr},${ni}\\)$`),$P=new RegExp(`^hsl\\(${ni},${sr},${sr}\\)$`),qP=new RegExp(`^hsla\\(${ni},${sr},${sr},${ni}\\)$`),Em={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wp(ki,ai,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cm,formatHex:Cm,formatHex8:FP,formatHsl:DP,formatRgb:xm,toString:xm});function Cm(){return this.rgb().formatHex()}function FP(){return this.rgb().formatHex8()}function DP(){return Gw(this).formatHsl()}function xm(){return this.rgb().formatRgb()}function ai(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TP.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nm(t):n===3?new Et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?eo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?eo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RP.exec(e))?new Et(t[1],t[2],t[3],1):(t=PP.exec(e))?new Et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AP.exec(e))?eo(t[1],t[2],t[3],t[4]):(t=kP.exec(e))?eo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$P.exec(e))?Rm(t[1],t[2]/100,t[3]/100,1):(t=qP.exec(e))?Rm(t[1],t[2]/100,t[3]/100,t[4]):Em.hasOwnProperty(e)?Nm(Em[e]):e==="transparent"?new Et(NaN,NaN,NaN,0):null}function Nm(e){return new Et(e>>16&255,e>>8&255,e&255,1)}function eo(e,t,n,a){return a<=0&&(e=t=n=NaN),new Et(e,t,n,a)}function OP(e){return e instanceof ki||(e=ai(e)),e?(e=e.rgb(),new Et(e.r,e.g,e.b,e.opacity)):new Et}function ad(e,t,n,a){return arguments.length===1?OP(e):new Et(e,t,n,a??1)}function Et(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Wp(Et,ad,Qw(ki,{brighter(e){return e=e==null?Ho:Math.pow(Ho,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ri:Math.pow(ri,e),new Et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Et(yn(this.r),yn(this.g),yn(this.b),Wo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Im,formatHex:Im,formatHex8:LP,formatRgb:Tm,toString:Tm}));function Im(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}`}function LP(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}${mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tm(){const e=Wo(this.opacity);return`${e===1?"rgb(":"rgba("}${yn(this.r)}, ${yn(this.g)}, ${yn(this.b)}${e===1?")":`, ${e})`}`}function Wo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mn(e){return e=yn(e),(e<16?"0":"")+e.toString(16)}function Rm(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gt(e,t,n,a)}function Gw(e){if(e instanceof Gt)return new Gt(e.h,e.s,e.l,e.opacity);if(e instanceof ki||(e=ai(e)),!e)return new Gt;if(e instanceof Gt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,s=i-r,l=(i+r)/2;return s?(t===i?o=(n-a)/s+(n<a)*6:n===i?o=(a-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+r:2-i-r,o*=60):s=l>0&&l<1?0:o,new Gt(o,s,l,e.opacity)}function VP(e,t,n,a){return arguments.length===1?Gw(e):new Gt(e,t,n,a??1)}function Gt(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Wp(Gt,VP,Qw(ki,{brighter(e){return e=e==null?Ho:Math.pow(Ho,e),new Gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ri:Math.pow(ri,e),new Gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new Et(Ml(e>=240?e-240:e+120,r,a),Ml(e,r,a),Ml(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new Gt(Pm(this.h),to(this.s),to(this.l),Wo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wo(this.opacity);return`${e===1?"hsl(":"hsla("}${Pm(this.h)}, ${to(this.s)*100}%, ${to(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pm(e){return e=(e||0)%360,e<0?e+360:e}function to(e){return Math.max(0,Math.min(1,e||0))}function Ml(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yw=e=>()=>e;function MP(e,t){return function(n){return e+n*t}}function BP(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function zP(e){return(e=+e)==1?Xw:function(t,n){return n-t?BP(t,n,e):Yw(isNaN(t)?n:t)}}function Xw(e,t){var n=t-e;return n?MP(e,n):Yw(isNaN(e)?t:e)}const Am=function e(t){var n=zP(t);function a(r,i){var o=n((r=ad(r)).r,(i=ad(i)).r),s=n(r.g,i.g),l=n(r.b,i.b),c=Xw(r.opacity,i.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return a.gamma=e,a}(1);function Lr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var id=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bl=new RegExp(id.source,"g");function UP(e){return function(){return e}}function HP(e){return function(t){return e(t)+""}}function WP(e,t){var n=id.lastIndex=Bl.lastIndex=0,a,r,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(a=id.exec(e))&&(r=Bl.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(a=a[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Lr(a,r)})),n=Bl.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?HP(l[0].x):UP(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var km=180/Math.PI,od={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kw(e,t,n,a,r,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*a)&&(n-=e*l,a-=t*l),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,l/=s),e*a<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*km,skewX:Math.atan(l)*km,scaleX:o,scaleY:s}}var ro;function jP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?od:Kw(t.a,t.b,t.c,t.d,t.e,t.f)}function QP(e){return e==null||(ro||(ro=document.createElementNS("http://www.w3.org/2000/svg","g")),ro.setAttribute("transform",e),!(e=ro.transform.baseVal.consolidate()))?od:(e=e.matrix,Kw(e.a,e.b,e.c,e.d,e.e,e.f))}function Zw(e,t,n,a){function r(c){return c.length?c.pop()+" ":""}function i(c,u,d,p,f,h){if(c!==d||u!==p){var v=f.push("translate(",null,t,null,n);h.push({i:v-4,x:Lr(c,d)},{i:v-2,x:Lr(u,p)})}else(d||p)&&f.push("translate("+d+t+p+n)}function o(c,u,d,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:d.push(r(d)+"rotate(",null,a)-2,x:Lr(c,u)})):u&&d.push(r(d)+"rotate("+u+a)}function s(c,u,d,p){c!==u?p.push({i:d.push(r(d)+"skewX(",null,a)-2,x:Lr(c,u)}):u&&d.push(r(d)+"skewX("+u+a)}function l(c,u,d,p,f,h){if(c!==d||u!==p){var v=f.push(r(f)+"scale(",null,",",null,")");h.push({i:v-4,x:Lr(c,d)},{i:v-2,x:Lr(u,p)})}else(d!==1||p!==1)&&f.push(r(f)+"scale("+d+","+p+")")}return function(c,u){var d=[],p=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,p),o(c.rotate,u.rotate,d,p),s(c.skewX,u.skewX,d,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,p),c=u=null,function(f){for(var h=-1,v=p.length,g;++h<v;)d[(g=p[h]).i]=g.x(f);return d.join("")}}}var GP=Zw(jP,"px, ","px)","deg)"),YP=Zw(QP,", ",")",")"),XP=1e-12;function $m(e){return((e=Math.exp(e))+1/e)/2}function KP(e){return((e=Math.exp(e))-1/e)/2}function ZP(e){return((e=Math.exp(2*e))-1)/(e+1)}const JP=function e(t,n,a){function r(i,o){var s=i[0],l=i[1],c=i[2],u=o[0],d=o[1],p=o[2],f=u-s,h=d-l,v=f*f+h*h,g,b;if(v<XP)b=Math.log(p/c)/t,g=function(C){return[s+C*f,l+C*h,c*Math.exp(t*C*b)]};else{var E=Math.sqrt(v),y=(p*p-c*c+a*v)/(2*c*n*E),_=(p*p-c*c-a*v)/(2*p*n*E),w=Math.log(Math.sqrt(y*y+1)-y),S=Math.log(Math.sqrt(_*_+1)-_);b=(S-w)/t,g=function(C){var x=C*b,T=$m(w),R=c/(n*E)*(T*ZP(t*x+w)-KP(w));return[s+R*f,l+R*h,c*T/$m(t*x+w)]}}return g.duration=b*1e3*t/Math.SQRT2,g}return r.rho=function(i){var o=Math.max(.001,+i),s=o*o,l=s*s;return e(o,s,l)},r}(Math.SQRT2,2,4);var sa=0,Va=0,Aa=0,Jw=1e3,jo,Ma,Qo=0,In=0,Xs=0,ii=typeof performance=="object"&&performance.now?performance:Date,e0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jp(){return In||(e0(eA),In=ii.now()+Xs)}function eA(){In=0}function Go(){this._call=this._time=this._next=null}Go.prototype=t0.prototype={constructor:Go,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?jp():+n)+(t==null?0:+t),!this._next&&Ma!==this&&(Ma?Ma._next=this:jo=this,Ma=this),this._call=e,this._time=n,sd()},stop:function(){this._call&&(this._call=null,this._time=1/0,sd())}};function t0(e,t,n){var a=new Go;return a.restart(e,t,n),a}function tA(){jp(),++sa;for(var e=jo,t;e;)(t=In-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sa}function qm(){In=(Qo=ii.now())+Xs,sa=Va=0;try{tA()}finally{sa=0,nA(),In=0}}function rA(){var e=ii.now(),t=e-Qo;t>Jw&&(Xs-=t,Qo=e)}function nA(){for(var e,t=jo,n,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jo=n);Ma=e,sd(a)}function sd(e){if(!sa){Va&&(Va=clearTimeout(Va));var t=e-In;t>24?(e<1/0&&(Va=setTimeout(qm,e-ii.now()-Xs)),Aa&&(Aa=clearInterval(Aa))):(Aa||(Qo=ii.now(),Aa=setInterval(rA,Jw)),sa=1,e0(qm))}}function Fm(e,t,n){var a=new Go;return t=t==null?0:+t,a.restart(r=>{a.stop(),e(r+t)},t,n),a}var aA=Gs("start","end","cancel","interrupt"),iA=[],r0=0,Dm=1,ld=2,Io=3,Om=4,ud=5,To=6;function Ks(e,t,n,a,r,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;oA(e,n,{name:t,index:a,group:r,on:aA,tween:iA,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:r0})}function Qp(e,t){var n=Jt(e,t);if(n.state>r0)throw new Error("too late; already scheduled");return n}function fr(e,t){var n=Jt(e,t);if(n.state>Io)throw new Error("too late; already running");return n}function Jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oA(e,t,n){var a=e.__transition,r;a[t]=n,n.timer=t0(i,0,n.time);function i(c){n.state=Dm,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,p,f;if(n.state!==Dm)return l();for(u in a)if(f=a[u],f.name===n.name){if(f.state===Io)return Fm(o);f.state===Om?(f.state=To,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete a[u]):+u<t&&(f.state=To,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete a[u])}if(Fm(function(){n.state===Io&&(n.state=Om,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ld,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ld){for(n.state=Io,r=new Array(p=n.tween.length),u=0,d=-1;u<p;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ud,1),d=-1,p=r.length;++d<p;)r[d].call(e,u);n.state===ud&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=To,n.timer.stop(),delete a[t];for(var c in a)return;delete e.__transition}}function Ro(e,t){var n=e.__transition,a,r,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((a=n[o]).name!==t){i=!1;continue}r=a.state>ld&&a.state<ud,a.state=To,a.timer.stop(),a.on.call(r?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete n[o]}i&&delete e.__transition}}function sA(e){return this.each(function(){Ro(this,e)})}function lA(e,t){var n,a;return function(){var r=fr(this,e),i=r.tween;if(i!==n){a=n=i;for(var o=0,s=a.length;o<s;++o)if(a[o].name===t){a=a.slice(),a.splice(o,1);break}}r.tween=a}}function uA(e,t,n){var a,r;if(typeof n!="function")throw new Error;return function(){var i=fr(this,e),o=i.tween;if(o!==a){r=(a=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}i.tween=r}}function cA(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a=Jt(this.node(),n).tween,r=0,i=a.length,o;r<i;++r)if((o=a[r]).name===e)return o.value;return null}return this.each((t==null?lA:uA)(n,e,t))}function Gp(e,t,n){var a=e._id;return e.each(function(){var r=fr(this,a);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Jt(r,a).value[t]}}function n0(e,t){var n;return(typeof t=="number"?Lr:t instanceof ai?Am:(n=ai(t))?(t=n,Am):WP)(e,t)}function dA(e){return function(){this.removeAttribute(e)}}function fA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pA(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttribute(e);return o===r?null:o===a?i:i=t(a=o,n)}}function hA(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===a?i:i=t(a=o,n)}}function mA(e,t,n){var a,r,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s)))}}function vA(e,t,n){var a,r,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s)))}}function gA(e,t){var n=Ys(e),a=n==="transform"?YP:n0;return this.attrTween(e,typeof t=="function"?(n.local?vA:mA)(n,a,Gp(this,"attr."+e,t)):t==null?(n.local?fA:dA)(n):(n.local?hA:pA)(n,a,t))}function yA(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bA(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function wA(e,t){var n,a;function r(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&bA(e,i)),n}return r._value=t,r}function SA(e,t){var n,a;function r(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&yA(e,i)),n}return r._value=t,r}function _A(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var a=Ys(e);return this.tween(n,(a.local?wA:SA)(a,t))}function EA(e,t){return function(){Qp(this,e).delay=+t.apply(this,arguments)}}function CA(e,t){return t=+t,function(){Qp(this,e).delay=t}}function xA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?EA:CA)(t,e)):Jt(this.node(),t).delay}function NA(e,t){return function(){fr(this,e).duration=+t.apply(this,arguments)}}function IA(e,t){return t=+t,function(){fr(this,e).duration=t}}function TA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NA:IA)(t,e)):Jt(this.node(),t).duration}function RA(e,t){if(typeof t!="function")throw new Error;return function(){fr(this,e).ease=t}}function PA(e){var t=this._id;return arguments.length?this.each(RA(t,e)):Jt(this.node(),t).ease}function AA(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;fr(this,e).ease=n}}function kA(e){if(typeof e!="function")throw new Error;return this.each(AA(this._id,e))}function $A(e){typeof e!="function"&&(e=Fw(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i=t[r],o=i.length,s=a[r]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new Nr(a,this._parents,this._name,this._id)}function qA(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),p,f=0;f<u;++f)(p=l[f]||c[f])&&(d[f]=p);for(;s<a;++s)o[s]=t[s];return new Nr(o,this._parents,this._name,this._id)}function FA(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function DA(e,t,n){var a,r,i=FA(t)?Qp:fr;return function(){var o=i(this,e),s=o.on;s!==a&&(r=(a=s).copy()).on(t,n),o.on=r}}function OA(e,t){var n=this._id;return arguments.length<2?Jt(this.node(),n).on.on(e):this.each(DA(n,e,t))}function LA(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function VA(){return this.on("end.remove",LA(this._id))}function MA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Up(e));for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o)for(var s=a[o],l=s.length,c=i[o]=new Array(l),u,d,p=0;p<l;++p)(u=s[p])&&(d=e.call(u,u.__data__,p,s))&&("__data__"in u&&(d.__data__=u.__data__),c[p]=d,Ks(c[p],t,n,p,c,Jt(u,n)));return new Nr(i,this._parents,t,n)}function BA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qw(e));for(var a=this._groups,r=a.length,i=[],o=[],s=0;s<r;++s)for(var l=a[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var p=e.call(u,u.__data__,d,l),f,h=Jt(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&Ks(f,t,n,v,p,h);i.push(p),o.push(u)}return new Nr(i,o,t,n)}var zA=Ai.prototype.constructor;function UA(){return new zA(this._groups,this._parents)}function HA(e,t){var n,a,r;return function(){var i=oa(this,e),o=(this.style.removeProperty(e),oa(this,e));return i===o?null:i===n&&o===a?r:r=t(n=i,a=o)}}function a0(e){return function(){this.style.removeProperty(e)}}function WA(e,t,n){var a,r=n+"",i;return function(){var o=oa(this,e);return o===r?null:o===a?i:i=t(a=o,n)}}function jA(e,t,n){var a,r,i;return function(){var o=oa(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),oa(this,e))),o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}function QA(e,t){var n,a,r,i="style."+t,o="end."+i,s;return function(){var l=fr(this,e),c=l.on,u=l.value[i]==null?s||(s=a0(t)):void 0;(c!==n||r!==u)&&(a=(n=c).copy()).on(o,r=u),l.on=a}}function GA(e,t,n){var a=(e+="")=="transform"?GP:n0;return t==null?this.styleTween(e,HA(e,a)).on("end.style."+e,a0(e)):typeof t=="function"?this.styleTween(e,jA(e,a,Gp(this,"style."+e,t))).each(QA(this._id,e)):this.styleTween(e,WA(e,a,t),n).on("end.style."+e,null)}function YA(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function XA(e,t,n){var a,r;function i(){var o=t.apply(this,arguments);return o!==r&&(a=(r=o)&&YA(e,o,n)),a}return i._value=t,i}function KA(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,XA(e,t,n??""))}function ZA(e){return function(){this.textContent=e}}function JA(e){return function(){var t=e(this);this.textContent=t??""}}function ek(e){return this.tween("text",typeof e=="function"?JA(Gp(this,"text",e)):ZA(e==null?"":e+""))}function tk(e){return function(t){this.textContent=e.call(this,t)}}function rk(e){var t,n;function a(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&tk(r)),t}return a._value=e,a}function nk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rk(e))}function ak(){for(var e=this._name,t=this._id,n=i0(),a=this._groups,r=a.length,i=0;i<r;++i)for(var o=a[i],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Jt(l,t);Ks(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Nr(a,this._parents,e,n)}function ik(){var e,t,n=this,a=n._id,r=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--r===0&&i()}};n.each(function(){var c=fr(this,a),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&i()})}var ok=0;function Nr(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function i0(){return++ok}var gr=Ai.prototype;Nr.prototype={constructor:Nr,select:MA,selectAll:BA,selectChild:gr.selectChild,selectChildren:gr.selectChildren,filter:$A,merge:qA,selection:UA,transition:ak,call:gr.call,nodes:gr.nodes,node:gr.node,size:gr.size,empty:gr.empty,each:gr.each,on:OA,attr:gA,attrTween:_A,style:GA,styleTween:KA,text:ek,textTween:nk,remove:VA,tween:cA,delay:xA,duration:TA,ease:PA,easeVarying:kA,end:ik,[Symbol.iterator]:gr[Symbol.iterator]};function sk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lk={time:null,delay:0,duration:250,ease:sk};function uk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ck(e){var t,n;e instanceof Nr?(t=e._id,e=e._name):(t=i0(),(n=lk).time=jp(),e=e==null?null:e+"");for(var a=this._groups,r=a.length,i=0;i<r;++i)for(var o=a[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Ks(l,e,t,c,o,n||uk(l,t));return new Nr(a,this._parents,e,t)}Ai.prototype.interrupt=sA;Ai.prototype.transition=ck;const no=e=>()=>e;function dk(e,{sourceEvent:t,target:n,transform:a,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function Sr(e,t,n){this.k=e,this.x=t,this.y=n}Sr.prototype={constructor:Sr,scale:function(e){return e===1?this:new Sr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Sr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jr=new Sr(1,0,0);Sr.prototype;function zl(e){e.stopImmediatePropagation()}function ka(e){e.preventDefault(),e.stopImmediatePropagation()}function fk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function pk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Lm(){return this.__zoom||jr}function hk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mk(){return navigator.maxTouchPoints||"ontouchstart"in this}function vk(e,t,n){var a=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function gk(){var e=fk,t=pk,n=vk,a=hk,r=mk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=JP,c=Gs("start","zoom","end"),u,d,p,f=500,h=150,v=0,g=10;function b(N){N.property("__zoom",Lm).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",R).filter(r).on("touchstart.zoom",q).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(N,$,F,A){var V=N.selection?N.selection():N;V.property("__zoom",Lm),N!==V?w(N,$,F,A):V.interrupt().each(function(){S(this,arguments).event(A).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(N,$,F,A){b.scaleTo(N,function(){var V=this.__zoom.k,O=typeof $=="function"?$.apply(this,arguments):$;return V*O},F,A)},b.scaleTo=function(N,$,F,A){b.transform(N,function(){var V=t.apply(this,arguments),O=this.__zoom,U=F==null?_(V):typeof F=="function"?F.apply(this,arguments):F,H=O.invert(U),G=typeof $=="function"?$.apply(this,arguments):$;return n(y(E(O,G),U,H),V,o)},F,A)},b.translateBy=function(N,$,F,A){b.transform(N,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),o)},null,A)},b.translateTo=function(N,$,F,A,V){b.transform(N,function(){var O=t.apply(this,arguments),U=this.__zoom,H=A==null?_(O):typeof A=="function"?A.apply(this,arguments):A;return n(jr.translate(H[0],H[1]).scale(U.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof F=="function"?-F.apply(this,arguments):-F),O,o)},A,V)};function E(N,$){return $=Math.max(i[0],Math.min(i[1],$)),$===N.k?N:new Sr($,N.x,N.y)}function y(N,$,F){var A=$[0]-F[0]*N.k,V=$[1]-F[1]*N.k;return A===N.x&&V===N.y?N:new Sr(N.k,A,V)}function _(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function w(N,$,F,A){N.on("start.zoom",function(){S(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(A).end()}).tween("zoom",function(){var V=this,O=arguments,U=S(V,O).event(A),H=t.apply(V,O),G=F==null?_(H):typeof F=="function"?F.apply(V,O):F,X=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),Y=V.__zoom,K=typeof $=="function"?$.apply(V,O):$,J=l(Y.invert(G).concat(X/Y.k),K.invert(G).concat(X/K.k));return function(ne){if(ne===1)ne=K;else{var fe=J(ne),ye=X/fe[2];ne=new Sr(ye,G[0]-fe[0]*ye,G[1]-fe[1]*ye)}U.zoom(null,ne)}})}function S(N,$,F){return!F&&N.__zooming||new C(N,$)}function C(N,$){this.that=N,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,$),this.taps=0}C.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,$){return this.mouse&&N!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var $=Qt(this.that).datum();c.call(N,this.that,new dk(N,{sourceEvent:this.sourceEvent,target:b,type:N,transform:this.that.__zoom,dispatch:c}),$)}};function x(N,...$){if(!e.apply(this,arguments))return;var F=S(this,$).event(N),A=this.__zoom,V=Math.max(i[0],Math.min(i[1],A.k*Math.pow(2,a.apply(this,arguments)))),O=ar(N);if(F.wheel)(F.mouse[0][0]!==O[0]||F.mouse[0][1]!==O[1])&&(F.mouse[1]=A.invert(F.mouse[0]=O)),clearTimeout(F.wheel);else{if(A.k===V)return;F.mouse=[O,A.invert(O)],Ro(this),F.start()}ka(N),F.wheel=setTimeout(U,h),F.zoom("mouse",n(y(E(A,V),F.mouse[0],F.mouse[1]),F.extent,o));function U(){F.wheel=null,F.end()}}function T(N,...$){if(p||!e.apply(this,arguments))return;var F=N.currentTarget,A=S(this,$,!0).event(N),V=Qt(N.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",X,!0),O=ar(N,F),U=N.clientX,H=N.clientY;Ww(N.view),zl(N),A.mouse=[O,this.__zoom.invert(O)],Ro(this),A.start();function G(Y){if(ka(Y),!A.moved){var K=Y.clientX-U,J=Y.clientY-H;A.moved=K*K+J*J>v}A.event(Y).zoom("mouse",n(y(A.that.__zoom,A.mouse[0]=ar(Y,F),A.mouse[1]),A.extent,o))}function X(Y){V.on("mousemove.zoom mouseup.zoom",null),jw(Y.view,A.moved),ka(Y),A.event(Y).end()}}function R(N,...$){if(e.apply(this,arguments)){var F=this.__zoom,A=ar(N.changedTouches?N.changedTouches[0]:N,this),V=F.invert(A),O=F.k*(N.shiftKey?.5:2),U=n(y(E(F,O),A,V),t.apply(this,$),o);ka(N),s>0?Qt(this).transition().duration(s).call(w,U,A,N):Qt(this).call(b.transform,U,A,N)}}function q(N,...$){if(e.apply(this,arguments)){var F=N.touches,A=F.length,V=S(this,$,N.changedTouches.length===A).event(N),O,U,H,G;for(zl(N),U=0;U<A;++U)H=F[U],G=ar(H,this),G=[G,this.__zoom.invert(G),H.identifier],V.touch0?!V.touch1&&V.touch0[2]!==G[2]&&(V.touch1=G,V.taps=0):(V.touch0=G,O=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),O&&(V.taps<2&&(d=G[0],u=setTimeout(function(){u=null},f)),Ro(this),V.start())}}function k(N,...$){if(this.__zooming){var F=S(this,$).event(N),A=N.changedTouches,V=A.length,O,U,H,G;for(ka(N),O=0;O<V;++O)U=A[O],H=ar(U,this),F.touch0&&F.touch0[2]===U.identifier?F.touch0[0]=H:F.touch1&&F.touch1[2]===U.identifier&&(F.touch1[0]=H);if(U=F.that.__zoom,F.touch1){var X=F.touch0[0],Y=F.touch0[1],K=F.touch1[0],J=F.touch1[1],ne=(ne=K[0]-X[0])*ne+(ne=K[1]-X[1])*ne,fe=(fe=J[0]-Y[0])*fe+(fe=J[1]-Y[1])*fe;U=E(U,Math.sqrt(ne/fe)),H=[(X[0]+K[0])/2,(X[1]+K[1])/2],G=[(Y[0]+J[0])/2,(Y[1]+J[1])/2]}else if(F.touch0)H=F.touch0[0],G=F.touch0[1];else return;F.zoom("touch",n(y(U,H,G),F.extent,o))}}function I(N,...$){if(this.__zooming){var F=S(this,$).event(N),A=N.changedTouches,V=A.length,O,U;for(zl(N),p&&clearTimeout(p),p=setTimeout(function(){p=null},f),O=0;O<V;++O)U=A[O],F.touch0&&F.touch0[2]===U.identifier?delete F.touch0:F.touch1&&F.touch1[2]===U.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(U=ar(U,this),Math.hypot(d[0]-U[0],d[1]-U[1])<g)){var H=Qt(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return b.wheelDelta=function(N){return arguments.length?(a=typeof N=="function"?N:no(+N),b):a},b.filter=function(N){return arguments.length?(e=typeof N=="function"?N:no(!!N),b):e},b.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:no(!!N),b):r},b.extent=function(N){return arguments.length?(t=typeof N=="function"?N:no([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),b):t},b.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],b):[i[0],i[1]]},b.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(N){return arguments.length?(n=N,b):n},b.duration=function(N){return arguments.length?(s=+N,b):s},b.interpolate=function(N){return arguments.length?(l=N,b):l},b.on=function(){var N=c.on.apply(c,arguments);return N===c?b:N},b.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,b):Math.sqrt(v)},b.tapDistance=function(N){return arguments.length?(g=+N,b):g},b}const Zs=P.createContext(null),yk=Zs.Provider,Jr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},o0=Jr.error001();function ot(e,t){const n=P.useContext(Zs);if(n===null)throw new Error(o0);return VT(n,e,t)}const gt=()=>{const e=P.useContext(Zs);if(e===null)throw new Error(o0);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},bk=e=>e.userSelectionActive?"none":"all";function s0({position:e,children:t,className:n,style:a,...r}){const i=ot(bk),o=`${e}`.split("-");return m("div",{className:Tt(["react-flow__panel",n,...o]),style:{...a,pointerEvents:i},...r,children:t})}function wk({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:m(s0,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Sk=({x:e,y:t,label:n,labelStyle:a={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const d=P.useRef(null),[p,f]=P.useState({x:0,y:0,width:0,height:0}),h=Tt(["react-flow__edge-textwrapper",c]);return P.useEffect(()=>{if(d.current){const v=d.current.getBBox();f({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:L("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:h,visibility:p.width?"visible":"hidden",...u,children:[r&&m("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),m("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:a,children:n}),l]})};var _k=P.memo(Sk);const Yp=e=>({width:e.offsetWidth,height:e.offsetHeight}),la=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Xp=(e={x:0,y:0},t)=>({x:la(e.x,t[0][0],t[1][0]),y:la(e.y,t[0][1],t[1][1])}),Vm=(e,t,n)=>e<t?la(Math.abs(e-t),1,50)/50:e>n?-la(Math.abs(e-n),1,50)/50:0,l0=(e,t)=>{const n=Vm(e.x,35,t.width-35)*20,a=Vm(e.y,35,t.height-35)*20;return[n,a]},u0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ek=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),c0=({x:e,y:t,width:n,height:a})=>({x:e,y:t,x2:e+n,y2:t+a}),Ck=({x:e,y:t,x2:n,y2:a})=>({x:e,y:t,width:n-e,height:a-t}),Mm=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),cd=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*a)},xk=e=>zt(e.width)&&zt(e.height)&&zt(e.x)&&zt(e.y),zt=e=>!isNaN(e)&&isFinite(e),dt=Symbol.for("internals"),d0=["Enter"," ","Escape"],Nk=(e,t)=>{},Ik=e=>"nativeEvent"in e;function dd(e){var r,i;const t=Ik(e)?e.nativeEvent:e,n=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const f0=e=>"clientX"in e,Qr=(e,t)=>{var i,o;const n=f0(e),a=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:a-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},$i=({path:e,labelX:t,labelY:n,label:a,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:s,labelBgBorderRadius:l,style:c,markerEnd:u,markerStart:d,interactionWidth:p=20})=>L(Q,{children:[m("path",{style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:d}),p&&m("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&zt(t)&&zt(n)?m(_k,{x:t,y:n,label:a,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:s,labelBgBorderRadius:l}):null]});$i.displayName="BaseEdge";function $a(e,t,n){return n===void 0?n:a=>{const r=t().edges.find(i=>i.id===e);r&&n(a,{...r})}}function p0({sourceX:e,sourceY:t,targetX:n,targetY:a}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,o=Math.abs(a-t)/2,s=a<t?a+o:a-o;return[i,s,r,o]}function h0({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:r,sourceControlY:i,targetControlX:o,targetControlY:s}){const l=e*.125+r*.375+o*.375+n*.125,c=t*.125+i*.375+s*.375+a*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var Tn;(function(e){e.Strict="strict",e.Loose="loose"})(Tn||(Tn={}));var Zn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Zn||(Zn={}));var oi;(function(e){e.Partial="partial",e.Full="full"})(oi||(oi={}));var wr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(wr||(wr={}));var si;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(si||(si={}));var se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(se||(se={}));function Bm({pos:e,x1:t,y1:n,x2:a,y2:r}){return e===se.Left||e===se.Right?[.5*(t+a),n]:[t,.5*(n+r)]}function m0({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:a,targetY:r,targetPosition:i=se.Top}){const[o,s]=Bm({pos:n,x1:e,y1:t,x2:a,y2:r}),[l,c]=Bm({pos:i,x1:a,y1:r,x2:e,y2:t}),[u,d,p,f]=h0({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${o},${s} ${l},${c} ${a},${r}`,u,d,p,f]}const Kp=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=se.Bottom,targetPosition:i=se.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,interactionWidth:v})=>{const[g,b,E]=m0({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i});return m($i,{path:g,labelX:b,labelY:E,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,interactionWidth:v})});Kp.displayName="SimpleBezierEdge";const zm={[se.Left]:{x:-1,y:0},[se.Right]:{x:1,y:0},[se.Top]:{x:0,y:-1},[se.Bottom]:{x:0,y:1}},Tk=({source:e,sourcePosition:t=se.Bottom,target:n})=>t===se.Left||t===se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Um=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Rk({source:e,sourcePosition:t=se.Bottom,target:n,targetPosition:a=se.Top,center:r,offset:i}){const o=zm[t],s=zm[a],l={x:e.x+o.x*i,y:e.y+o.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=Tk({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",p=u[d];let f=[],h,v;const[g,b,E,y]=p0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*s[d]===-1){h=r.x||g,v=r.y||b;const w=[{x:h,y:l.y},{x:h,y:c.y}],S=[{x:l.x,y:v},{x:c.x,y:v}];o[d]===p?f=d==="x"?w:S:f=d==="x"?S:w}else{const w=[{x:l.x,y:c.y}],S=[{x:c.x,y:l.y}];if(d==="x"?f=o.x===p?S:w:f=o.y===p?w:S,t!==a){const C=d==="x"?"y":"x",x=o[d]===s[C],T=l[C]>c[C],R=l[C]<c[C];(o[d]===1&&(!x&&T||x&&R)||o[d]!==1&&(!x&&R||x&&T))&&(f=d==="x"?w:S)}h=f[0].x,v=f[0].y}return[[e,l,...f,c,n],h,v,E,y]}function Pk(e,t,n,a){const r=Math.min(Um(e,t)/2,Um(t,n)/2,a),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+r*c},${o}Q ${i},${o} ${i},${o+r*u}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+r*l}Q ${i},${o} ${i+r*s},${o}`}function fd({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:a,targetY:r,targetPosition:i=se.Top,borderRadius:o=5,centerX:s,centerY:l,offset:c=20}){const[u,d,p,f,h]=Rk({source:{x:e,y:t},sourcePosition:n,target:{x:a,y:r},targetPosition:i,center:{x:s,y:l},offset:c});return[u.reduce((g,b,E)=>{let y="";return E>0&&E<u.length-1?y=Pk(u[E-1],b,u[E+1],o):y=`${E===0?"M":"L"}${b.x} ${b.y}`,g+=y,g},""),d,p,f,h]}const Js=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=se.Bottom,targetPosition:p=se.Top,markerEnd:f,markerStart:h,pathOptions:v,interactionWidth:g})=>{const[b,E,y]=fd({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:a,targetPosition:p,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return m($i,{path:b,labelX:E,labelY:y,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:h,interactionWidth:g})});Js.displayName="SmoothStepEdge";const Zp=P.memo(e=>{var t;return m(Js,{...e,pathOptions:P.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Zp.displayName="StepEdge";function Ak({sourceX:e,sourceY:t,targetX:n,targetY:a}){const[r,i,o,s]=p0({sourceX:e,sourceY:t,targetX:n,targetY:a});return[`M ${e},${t}L ${n},${a}`,r,i,o,s]}const Jp=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:f})=>{const[h,v,g]=Ak({sourceX:e,sourceY:t,targetX:n,targetY:a});return m($i,{path:h,labelX:v,labelY:g,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:f})});Jp.displayName="StraightEdge";function ao(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Hm({pos:e,x1:t,y1:n,x2:a,y2:r,c:i}){switch(e){case se.Left:return[t-ao(t-a,i),n];case se.Right:return[t+ao(a-t,i),n];case se.Top:return[t,n-ao(n-r,i)];case se.Bottom:return[t,n+ao(r-n,i)]}}function v0({sourceX:e,sourceY:t,sourcePosition:n=se.Bottom,targetX:a,targetY:r,targetPosition:i=se.Top,curvature:o=.25}){const[s,l]=Hm({pos:n,x1:e,y1:t,x2:a,y2:r,c:o}),[c,u]=Hm({pos:i,x1:a,y1:r,x2:e,y2:t,c:o}),[d,p,f,h]=h0({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${a},${r}`,d,p,f,h]}const Yo=P.memo(({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=se.Bottom,targetPosition:i=se.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,pathOptions:v,interactionWidth:g})=>{const[b,E,y]=v0({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i,curvature:v==null?void 0:v.curvature});return m($i,{path:b,labelX:E,labelY:y,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:f,markerStart:h,interactionWidth:g})});Yo.displayName="BezierEdge";const eh=P.createContext(null),kk=eh.Provider;eh.Consumer;const $k=()=>P.useContext(eh),qk=e=>"id"in e&&"source"in e&&"target"in e,Fk=({source:e,sourceHandle:t,target:n,targetHandle:a})=>`reactflow__edge-${e}${t||""}-${n}${a||""}`,pd=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`,Dk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Ok=(e,t)=>{if(!e.source||!e.target)return t;let n;return qk(e)?n={...e}:n={...e,id:Fk(e)},Dk(n,t)?t:t.concat(n)},g0=({x:e,y:t},[n,a,r],i,[o,s])=>{const l={x:(e-n)/r,y:(t-a)/r};return i?{x:o*Math.round(l.x/o),y:s*Math.round(l.y/s)}:l},Lk=({x:e,y:t},[n,a,r])=>({x:e*r+n,y:t*r+a}),Jn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],a=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-a};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-a}:r}},y0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((a,r)=>{const{x:i,y:o}=Jn(r,t).positionAbsolute;return Ek(a,c0({x:i,y:o,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ck(n)},b0=(e,t,[n,a,r]=[0,0,1],i=!1,o=!1,s=[0,0])=>{const l={x:(t.x-n)/r,y:(t.y-a)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach(u=>{const{width:d,height:p,selectable:f=!0,hidden:h=!1}=u;if(o&&!f||h)return!1;const{positionAbsolute:v}=Jn(u,s),g={x:v.x,y:v.y,width:d||0,height:p||0},b=cd(l,g),E=typeof d>"u"||typeof p>"u"||d===null||p===null,y=i&&b>0,_=(d||0)*(p||0);(E||y||b>=_||u.dragging)&&c.push(u)}),c},th=(e,t)=>{const n=e.map(a=>a.id);return t.filter(a=>n.includes(a.source)||n.includes(a.target))},w0=(e,t,n,a,r,i=.1)=>{const o=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(o,s),c=la(l,a,r),u=e.x+e.width/2,d=e.y+e.height/2,p=t/2-u*c,f=n/2-d*c;return[p,f,c]},fn=(e,t=0)=>e.transition().duration(t);function Wm(e,t,n,a){return(t[n]||[]).reduce((r,i)=>{var o,s;return`${e.id}-${i.id}-${n}`!==a&&r.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+i.y+i.height/2}),r},[])}function Vk(e,t,n){let a=null,r=1/0;return n.forEach(i=>{const o=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));o<=t&&o<r&&(r=o,a=i)}),a}const Mk={source:null,target:null,sourceHandle:null,targetHandle:null};function S0(e,t,n,a,r,i,o,s){const l=i==="target",c=s.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:u,y:d}=Qr(e),p=s.elementFromPoint(u,d),f=p!=null&&p.classList.contains("react-flow__handle")?p:c,h={handleDomNode:f,isValid:!1,connection:Mk,endHandle:null};if(f){const v=_0(void 0,f),g=f.getAttribute("data-nodeid"),b=f.getAttribute("data-handleid"),E=f.classList.contains("connectable"),y=f.classList.contains("connectableend"),_={source:l?g:a,sourceHandle:l?b:r,target:l?a:g,targetHandle:l?r:b};h.connection=_,E&&y&&(n===Tn.Strict?l&&v==="source"||!l&&v==="target":g!==a||b!==r)&&(h.endHandle={nodeId:g,handleId:b,type:v},h.isValid=o(_))}return h}function Bk({nodes:e,nodeId:t,handleId:n,handleType:a}){return e.reduce((r,i)=>{if(i[dt]){const{handleBounds:o}=i[dt];let s=[],l=[];o&&(s=Wm(i,o,"source",`${t}-${n}-${a}`),l=Wm(i,o,"target",`${t}-${n}-${a}`)),r.push(...s,...l)}return r},[])}function _0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ul(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function zk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function E0({event:e,handleId:t,nodeId:n,onConnect:a,isTarget:r,getState:i,setState:o,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=u0(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:f,connectionRadius:h,onConnectStart:v,panBy:g,getNodes:b,cancelConnection:E}=i();let y=0,_;const{x:w,y:S}=Qr(e),C=u==null?void 0:u.elementFromPoint(w,S),x=_0(l,C),T=p==null?void 0:p.getBoundingClientRect();if(!T||!x)return;let R,q=Qr(e,T),k=!1,I=null,N=!1,$=null;const F=Bk({nodes:b(),nodeId:n,handleId:t,handleType:x}),A=()=>{if(!f)return;const[U,H]=l0(q,T);g({x:U,y:H}),y=requestAnimationFrame(A)};o({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:x,connectionStartHandle:{nodeId:n,handleId:t,type:x},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:x});function V(U){const{transform:H}=i();q=Qr(U,T),_=Vk(g0(q,H,!1,[1,1]),h,F),k||(A(),k=!0);const G=S0(U,_,d,n,t,r?"target":"source",s,u);if($=G.handleDomNode,I=G.connection,N=G.isValid,o({connectionPosition:_&&N?Lk({x:_.x,y:_.y},H):q,connectionStatus:zk(!!_,N),connectionEndHandle:G.endHandle}),!_&&!N&&!$)return Ul(R);I.source!==I.target&&$&&(Ul(R),R=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",N),$.classList.toggle("react-flow__handle-valid",N))}function O(U){var H,G;(_||$)&&I&&N&&(a==null||a(I)),(G=(H=i()).onConnectEnd)==null||G.call(H,U),l&&(c==null||c(U)),Ul(R),E(),cancelAnimationFrame(y),k=!1,N=!1,I=null,$=null,u.removeEventListener("mousemove",V),u.removeEventListener("mouseup",O),u.removeEventListener("touchmove",V),u.removeEventListener("touchend",O)}u.addEventListener("mousemove",V),u.addEventListener("mouseup",O),u.addEventListener("touchmove",V),u.addEventListener("touchend",O)}const jm=()=>!0,Uk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Hk=(e,t,n)=>a=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:o}=a;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===t&&(r==null?void 0:r.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},C0=P.forwardRef(({type:e="source",position:t=se.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:o,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...p},f)=>{var T,R;const h=o||null,v=e==="target",g=gt(),b=$k(),{connectOnClick:E,noPanClassName:y}=ot(Uk,qt),{connecting:_,clickConnecting:w}=ot(Hk(b,h,e));b||(R=(T=g.getState()).onError)==null||R.call(T,"010",Jr.error010());const S=q=>{const{defaultEdgeOptions:k,onConnect:I,hasDefaultEdges:N}=g.getState(),$={...k,...q};if(N){const{edges:F,setEdges:A}=g.getState();A(Ok($,F))}I==null||I($),s==null||s($)},C=q=>{if(!b)return;const k=f0(q);r&&(k&&q.button===0||!k)&&E0({event:q,handleId:h,nodeId:b,onConnect:S,isTarget:v,getState:g.getState,setState:g.setState,isValidConnection:n||g.getState().isValidConnection||jm}),k?u==null||u(q):d==null||d(q)},x=q=>{const{onClickConnectStart:k,onClickConnectEnd:I,connectionClickStartHandle:N,connectionMode:$,isValidConnection:F}=g.getState();if(!b||!N&&!r)return;if(!N){k==null||k(q,{nodeId:b,handleId:h,handleType:e}),g.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:h}});return}const A=u0(q.target),V=n||F||jm,{connection:O,isValid:U}=S0(q,{nodeId:b,id:h,type:e},$,N.nodeId,N.handleId||null,N.type,V,A);U&&S(O),I==null||I(q),g.setState({connectionClickStartHandle:null})};return m("div",{"data-handleid":h,"data-nodeid":b,"data-handlepos":t,"data-id":`${b}-${h}-${e}`,className:Tt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!v,target:v,connectable:a,connectablestart:r,connectableend:i,connecting:w,connectionindicator:a&&(r&&!_||i&&_)}]),onMouseDown:C,onTouchStart:C,onClick:E?x:void 0,ref:f,...p,children:l})});C0.displayName="Handle";var Xo=P.memo(C0);const x0=({data:e,isConnectable:t,targetPosition:n=se.Top,sourcePosition:a=se.Bottom})=>L(Q,{children:[m(Xo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,m(Xo,{type:"source",position:a,isConnectable:t})]});x0.displayName="DefaultNode";var hd=P.memo(x0);const N0=({data:e,isConnectable:t,sourcePosition:n=se.Bottom})=>L(Q,{children:[e==null?void 0:e.label,m(Xo,{type:"source",position:n,isConnectable:t})]});N0.displayName="InputNode";var I0=P.memo(N0);const T0=({data:e,isConnectable:t,targetPosition:n=se.Top})=>L(Q,{children:[m(Xo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});T0.displayName="OutputNode";var R0=P.memo(T0);const rh=()=>null;rh.displayName="GroupNode";const Wk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),io=e=>e.id;function jk(e,t){return qt(e.selectedNodes.map(io),t.selectedNodes.map(io))&&qt(e.selectedEdges.map(io),t.selectedEdges.map(io))}const P0=P.memo(({onSelectionChange:e})=>{const t=gt(),{selectedNodes:n,selectedEdges:a}=ot(Wk,jk);return P.useEffect(()=>{var i,o;const r={nodes:n,edges:a};e==null||e(r),(o=(i=t.getState()).onSelectionChange)==null||o.call(i,r)},[n,a,e]),null});P0.displayName="SelectionListener";const Qk=e=>!!e.onSelectionChange;function Gk({onSelectionChange:e}){const t=ot(Qk);return e||t?m(P0,{onSelectionChange:e}):null}const Yk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Vn(e,t){P.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Re(e,t,n){P.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Xk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:r,onConnectStart:i,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:f,elevateNodesOnSelect:h,minZoom:v,maxZoom:g,nodeExtent:b,onNodesChange:E,onEdgesChange:y,elementsSelectable:_,connectionMode:w,snapGrid:S,snapToGrid:C,translateExtent:x,connectOnClick:T,defaultEdgeOptions:R,fitView:q,fitViewOptions:k,onNodesDelete:I,onEdgesDelete:N,onNodeDrag:$,onNodeDragStart:F,onNodeDragStop:A,onSelectionDrag:V,onSelectionDragStart:O,onSelectionDragStop:U,noPanClassName:H,nodeOrigin:G,rfId:X,autoPanOnConnect:Y,autoPanOnNodeDrag:K,onError:J,connectionRadius:ne,isValidConnection:fe})=>{const{setNodes:ye,setEdges:ie,setDefaultNodesAndEdges:ve,setMinZoom:Ae,setMaxZoom:he,setTranslateExtent:te,setNodeExtent:me,reset:we}=ot(Yk,qt),ae=gt();return P.useEffect(()=>{const Ye=a==null?void 0:a.map(ke=>({...ke,...R}));return ve(n,Ye),()=>{we()}},[]),Re("defaultEdgeOptions",R,ae.setState),Re("connectionMode",w,ae.setState),Re("onConnect",r,ae.setState),Re("onConnectStart",i,ae.setState),Re("onConnectEnd",o,ae.setState),Re("onClickConnectStart",s,ae.setState),Re("onClickConnectEnd",l,ae.setState),Re("nodesDraggable",c,ae.setState),Re("nodesConnectable",u,ae.setState),Re("nodesFocusable",d,ae.setState),Re("edgesFocusable",p,ae.setState),Re("edgesUpdatable",f,ae.setState),Re("elementsSelectable",_,ae.setState),Re("elevateNodesOnSelect",h,ae.setState),Re("snapToGrid",C,ae.setState),Re("snapGrid",S,ae.setState),Re("onNodesChange",E,ae.setState),Re("onEdgesChange",y,ae.setState),Re("connectOnClick",T,ae.setState),Re("fitViewOnInit",q,ae.setState),Re("fitViewOnInitOptions",k,ae.setState),Re("onNodesDelete",I,ae.setState),Re("onEdgesDelete",N,ae.setState),Re("onNodeDrag",$,ae.setState),Re("onNodeDragStart",F,ae.setState),Re("onNodeDragStop",A,ae.setState),Re("onSelectionDrag",V,ae.setState),Re("onSelectionDragStart",O,ae.setState),Re("onSelectionDragStop",U,ae.setState),Re("noPanClassName",H,ae.setState),Re("nodeOrigin",G,ae.setState),Re("rfId",X,ae.setState),Re("autoPanOnConnect",Y,ae.setState),Re("autoPanOnNodeDrag",K,ae.setState),Re("onError",J,ae.setState),Re("connectionRadius",ne,ae.setState),Re("isValidConnection",fe,ae.setState),Vn(e,ye),Vn(t,ie),Vn(v,Ae),Vn(g,he),Vn(x,te),Vn(b,me),null},Qm={display:"none"},Kk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},A0="react-flow__node-desc",k0="react-flow__edge-desc",Zk="react-flow__aria-live",Jk=e=>e.ariaLiveMessage;function e$({rfId:e}){const t=ot(Jk);return m("div",{id:`${Zk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Kk,children:t})}function t$({rfId:e,disableKeyboardA11y:t}){return L(Q,{children:[L("div",{id:`${A0}-${e}`,style:Qm,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m("div",{id:`${k0}-${e}`,style:Qm,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&m(e$,{rfId:e})]})}const r$=(e,t,n)=>n===se.Left?e-t:n===se.Right?e+t:e,n$=(e,t,n)=>n===se.Top?e-t:n===se.Bottom?e+t:e,Gm="react-flow__edgeupdater",Ym=({position:e,centerX:t,centerY:n,radius:a=10,onMouseDown:r,onMouseEnter:i,onMouseOut:o,type:s})=>m("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:o,className:Tt([Gm,`${Gm}-${s}`]),cx:r$(t,a,e),cy:n$(n,a,e),r:a,stroke:"transparent",fill:"transparent"}),a$=()=>!0;var Mn=e=>{const t=({id:n,className:a,type:r,data:i,onClick:o,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:g,source:b,target:E,sourceX:y,sourceY:_,targetX:w,targetY:S,sourcePosition:C,targetPosition:x,elementsSelectable:T,hidden:R,sourceHandleId:q,targetHandleId:k,onContextMenu:I,onMouseEnter:N,onMouseMove:$,onMouseLeave:F,edgeUpdaterRadius:A,onEdgeUpdate:V,onEdgeUpdateStart:O,onEdgeUpdateEnd:U,markerEnd:H,markerStart:G,rfId:X,ariaLabel:Y,isFocusable:K,isUpdatable:J,pathOptions:ne,interactionWidth:fe})=>{const ye=P.useRef(null),[ie,ve]=P.useState(!1),[Ae,he]=P.useState(!1),te=gt(),me=P.useMemo(()=>`url(#${pd(G,X)})`,[G,X]),we=P.useMemo(()=>`url(#${pd(H,X)})`,[H,X]);if(R)return null;const ae=We=>{const{edges:Be,addSelectedEdges:Z}=te.getState();if(T&&(te.setState({nodesSelectionActive:!1}),Z([n])),o){const re=Be.find(Ee=>Ee.id===n);o(We,re)}},Ye=$a(n,te.getState,s),ke=$a(n,te.getState,I),He=$a(n,te.getState,N),ut=$a(n,te.getState,$),$e=$a(n,te.getState,F),ee=(We,Be)=>{if(We.button!==0)return;const{edges:Z,isValidConnection:re}=te.getState(),Ee=Be?E:b,Ie=(Be?k:q)||null,Qe=Be?"target":"source",Xe=re||a$,Ot=Be,Lt=Z.find(hr=>hr.id===n);he(!0),O==null||O(We,Lt,Qe);const Na=hr=>{he(!1),U==null||U(hr,Lt,Qe)};E0({event:We,handleId:Ie,nodeId:Ee,onConnect:hr=>V==null?void 0:V(Lt,hr),isTarget:Ot,getState:te.getState,setState:te.setState,isValidConnection:Xe,edgeUpdaterType:Qe,onEdgeUpdateEnd:Na})},ue=We=>ee(We,!0),de=We=>ee(We,!1),Ne=()=>ve(!0),ge=()=>ve(!1),ht=!T&&!o,Se=We=>{var Be;if(d0.includes(We.key)&&T){const{unselectNodesAndEdges:Z,addSelectedEdges:re,edges:Ee}=te.getState();We.key==="Escape"?((Be=ye.current)==null||Be.blur(),Z({edges:[Ee.find(Qe=>Qe.id===n)]})):re([n])}};return L("g",{className:Tt(["react-flow__edge",`react-flow__edge-${r}`,a,{selected:l,animated:c,inactive:ht,updating:ie}]),onClick:ae,onDoubleClick:Ye,onContextMenu:ke,onMouseEnter:He,onMouseMove:ut,onMouseLeave:$e,onKeyDown:K?Se:void 0,tabIndex:K?0:void 0,role:K?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${b} to ${E}`,"aria-describedby":K?`${k0}-${X}`:void 0,ref:ye,children:[!Ae&&m(e,{id:n,source:b,target:E,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,data:i,style:g,sourceX:y,sourceY:_,targetX:w,targetY:S,sourcePosition:C,targetPosition:x,sourceHandleId:q,targetHandleId:k,markerStart:me,markerEnd:we,pathOptions:ne,interactionWidth:fe}),J&&L(Q,{children:[(J==="source"||J===!0)&&m(Ym,{position:C,centerX:y,centerY:_,radius:A,onMouseDown:ue,onMouseEnter:Ne,onMouseOut:ge,type:"source"}),(J==="target"||J===!0)&&m(Ym,{position:x,centerX:w,centerY:S,radius:A,onMouseDown:de,onMouseEnter:Ne,onMouseOut:ge,type:"target"})]})]})};return t.displayName="EdgeWrapper",P.memo(t)};function i$(e){const t={default:Mn(e.default||Yo),straight:Mn(e.bezier||Jp),step:Mn(e.step||Zp),smoothstep:Mn(e.step||Js),simplebezier:Mn(e.simplebezier||Kp)},n={},a=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,i)=>(r[i]=Mn(e[i]||Yo),r),n);return{...t,...a}}function Xm(e,t,n=null){const a=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case se.Top:return{x:a+i/2,y:r};case se.Right:return{x:a+i,y:r+o/2};case se.Bottom:return{x:a+i/2,y:r+o};case se.Left:return{x:a,y:r+o/2}}}function Km(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const o$=(e,t,n,a,r,i)=>{const o=Xm(n,e,t),s=Xm(i,a,r);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function s$({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:a,targetWidth:r,targetHeight:i,width:o,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+a,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=c0({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),p=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*p)>0}function Zm(e){var a,r,i,o,s;const t=((a=e==null?void 0:e[dt])==null?void 0:a.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function $0(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:$0(n,t):!1}function Jm(e,t,n){let a=e;do{if(a!=null&&a.matches(t))return!0;if(a===n.current)return!1;a=a.parentElement}while(a);return!1}function l$(e,t,n,a){return Array.from(e.values()).filter(r=>(r.selected||r.id===a)&&(!r.parentNode||!$0(r,e))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var i,o;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=r.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=r.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function q0(e,t,n,a,r=[0,0],i){let o=e.extent||a;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const c=n.get(e.parentNode),{x:u,y:d}=Jn(c,r).positionAbsolute;o=c&&zt(u)&&zt(d)&&zt(c.width)&&zt(c.height)?[[u+e.width*r[0],d+e.height*r[1]],[u+c.width-e.width+e.width*r[0],d+c.height-e.height+e.height*r[1]]]:o}else i==null||i("005",Jr.error005()),o=a;else if(e.extent&&e.parentNode){const c=n.get(e.parentNode),{x:u,y:d}=Jn(c,r).positionAbsolute;o=[[e.extent[0][0]+u,e.extent[0][1]+d],[e.extent[1][0]+u,e.extent[1][1]+d]]}let s={x:0,y:0};if(e.parentNode){const c=n.get(e.parentNode);s=Jn(c,r).positionAbsolute}const l=o?Xp(t,o):t;return{position:{x:l.x-s.x,y:l.y-s.y},positionAbsolute:l}}function Hl({nodeId:e,dragItems:t,nodeInternals:n}){const a=t.map(r=>({...n.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?a.find(r=>r.id===e):a[0],a]}const ev=(e,t,n,a)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),o=t.getBoundingClientRect(),s={x:o.width*a[0],y:o.height*a[1]};return i.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-s.x)/n,y:(c.top-o.top-s.y)/n,...Yp(l)}})};function qa(e,t,n){return n===void 0?n:a=>{const r=t().nodeInternals.get(e);n(a,{...r})}}function md({id:e,store:t,unselect:n=!1,nodeRef:a}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&o)&&(i({nodes:[l]}),requestAnimationFrame(()=>{var c;return(c=a==null?void 0:a.current)==null?void 0:c.blur()})):r([e])}function u$(){const e=gt();return P.useCallback(({sourceEvent:n})=>{const{transform:a,snapGrid:r,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-a[0])/a[2],y:(s-a[1])/a[2]};return{xSnapped:i?r[0]*Math.round(l.x/r[0]):l.x,ySnapped:i?r[1]*Math.round(l.y/r[1]):l.y,...l}},[])}function Wl(e){return(t,n,a)=>e==null?void 0:e(t,a)}function F0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:a,nodeId:r,isSelectable:i,selectNodesOnDrag:o}){const s=gt(),[l,c]=P.useState(!1),u=P.useRef([]),d=P.useRef({x:null,y:null}),p=P.useRef(0),f=P.useRef(null),h=P.useRef({x:0,y:0}),v=P.useRef(null),g=P.useRef(!1),b=u$();return P.useEffect(()=>{if(e!=null&&e.current){const E=Qt(e.current),y=({x:w,y:S})=>{const{nodeInternals:C,onNodeDrag:x,onSelectionDrag:T,updateNodePositions:R,nodeExtent:q,snapGrid:k,snapToGrid:I,nodeOrigin:N,onError:$}=s.getState();d.current={x:w,y:S};let F=!1;if(u.current=u.current.map(V=>{const O={x:w-V.distance.x,y:S-V.distance.y};I&&(O.x=k[0]*Math.round(O.x/k[0]),O.y=k[1]*Math.round(O.y/k[1]));const U=q0(V,O,C,q,N,$);return F=F||V.position.x!==U.position.x||V.position.y!==U.position.y,V.position=U.position,V.positionAbsolute=U.positionAbsolute,V}),!F)return;R(u.current,!0,!0),c(!0);const A=r?x:Wl(T);if(A&&v.current){const[V,O]=Hl({nodeId:r,dragItems:u.current,nodeInternals:C});A(v.current,V,O)}},_=()=>{if(!f.current)return;const[w,S]=l0(h.current,f.current);if(w!==0||S!==0){const{transform:C,panBy:x}=s.getState();d.current.x=(d.current.x??0)-w/C[2],d.current.y=(d.current.y??0)-S/C[2],y(d.current),x({x:w,y:S})}p.current=requestAnimationFrame(_)};if(t)E.on(".drag",null);else{const w=IP().on("start",S=>{var F;const{nodeInternals:C,multiSelectionActive:x,domNode:T,nodesDraggable:R,unselectNodesAndEdges:q,onNodeDragStart:k,onSelectionDragStart:I}=s.getState(),N=r?k:Wl(I);!o&&!x&&r&&((F=C.get(r))!=null&&F.selected||q()),r&&i&&o&&md({id:r,store:s,nodeRef:e});const $=b(S);if(d.current=$,u.current=l$(C,R,$,r),N&&u.current){const[A,V]=Hl({nodeId:r,dragItems:u.current,nodeInternals:C});N(S.sourceEvent,A,V)}f.current=(T==null?void 0:T.getBoundingClientRect())||null,h.current=Qr(S.sourceEvent,f.current)}).on("drag",S=>{const C=b(S),{autoPanOnNodeDrag:x}=s.getState();!g.current&&x&&(g.current=!0,_()),(d.current.x!==C.xSnapped||d.current.y!==C.ySnapped)&&u.current&&(v.current=S.sourceEvent,h.current=Qr(S.sourceEvent,f.current),y(C))}).on("end",S=>{if(c(!1),g.current=!1,cancelAnimationFrame(p.current),u.current){const{updateNodePositions:C,nodeInternals:x,onNodeDragStop:T,onSelectionDragStop:R}=s.getState(),q=r?T:Wl(R);if(C(u.current,!1,!1),q){const[k,I]=Hl({nodeId:r,dragItems:u.current,nodeInternals:x});q(S.sourceEvent,k,I)}}}).filter(S=>{const C=S.target;return!S.button&&(!n||!Jm(C,`.${n}`,e))&&(!a||Jm(C,a,e))});return E.call(w),()=>{E.on(".drag",null)}}}},[e,t,n,a,i,s,r,o,b]),l}function D0(){const e=gt();return P.useCallback(n=>{const{nodeInternals:a,nodeExtent:r,updateNodePositions:i,getNodes:o,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=o().filter(E=>E.selected&&(E.draggable||u&&typeof E.draggable>"u")),p=s?l[0]:5,f=s?l[1]:5,h=n.isShiftPressed?4:1,v=n.x*p*h,g=n.y*f*h,b=d.map(E=>{if(E.positionAbsolute){const y={x:E.positionAbsolute.x+v,y:E.positionAbsolute.y+g};s&&(y.x=l[0]*Math.round(y.x/l[0]),y.y=l[1]*Math.round(y.y/l[1]));const{positionAbsolute:_,position:w}=q0(E,y,a,r,void 0,c);E.position=w,E.positionAbsolute=_}return E});i(b,!0,!1)},[])}const ea={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Fa=e=>{const t=({id:n,type:a,data:r,xPos:i,yPos:o,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:p,onMouseLeave:f,onContextMenu:h,onDoubleClick:v,style:g,className:b,isDraggable:E,isSelectable:y,isConnectable:_,isFocusable:w,selectNodesOnDrag:S,sourcePosition:C,targetPosition:x,hidden:T,resizeObserver:R,dragHandle:q,zIndex:k,isParent:I,noDragClassName:N,noPanClassName:$,initialized:F,disableKeyboardA11y:A,ariaLabel:V,rfId:O})=>{const U=gt(),H=P.useRef(null),G=P.useRef(C),X=P.useRef(x),Y=P.useRef(a),K=y||E||u||d||p||f,J=D0(),ne=qa(n,U.getState,d),fe=qa(n,U.getState,p),ye=qa(n,U.getState,f),ie=qa(n,U.getState,h),ve=qa(n,U.getState,v),Ae=me=>{if(y&&(!S||!E)&&md({id:n,store:U,nodeRef:H}),u){const we=U.getState().nodeInternals.get(n);u(me,{...we})}},he=me=>{if(!dd(me))if(d0.includes(me.key)&&y){const we=me.key==="Escape";md({id:n,store:U,unselect:we,nodeRef:H})}else!A&&E&&c&&Object.prototype.hasOwnProperty.call(ea,me.key)&&(U.setState({ariaLiveMessage:`Moved selected node ${me.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),J({x:ea[me.key].x,y:ea[me.key].y,isShiftPressed:me.shiftKey}))};P.useEffect(()=>{if(H.current&&!T){const me=H.current;return R==null||R.observe(me),()=>R==null?void 0:R.unobserve(me)}},[T]),P.useEffect(()=>{const me=Y.current!==a,we=G.current!==C,ae=X.current!==x;H.current&&(me||we||ae)&&(me&&(Y.current=a),we&&(G.current=C),ae&&(X.current=x),U.getState().updateNodeDimensions([{id:n,nodeElement:H.current,forceUpdate:!0}]))},[n,a,C,x]);const te=F0({nodeRef:H,disabled:T||!E,noDragClassName:N,handleSelector:q,nodeId:n,isSelectable:y,selectNodesOnDrag:S});return T?null:m("div",{className:Tt(["react-flow__node",`react-flow__node-${a}`,{[$]:E},b,{selected:c,selectable:y,parent:I,dragging:te}]),ref:H,style:{zIndex:k,transform:`translate(${s}px,${l}px)`,pointerEvents:K?"all":"none",visibility:F?"visible":"hidden",...g},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ne,onMouseMove:fe,onMouseLeave:ye,onContextMenu:ie,onClick:Ae,onDoubleClick:ve,onKeyDown:w?he:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":A?void 0:`${A0}-${O}`,"aria-label":V,children:m(kk,{value:n,children:m(e,{id:n,data:r,type:a,xPos:i,yPos:o,selected:c,isConnectable:_,sourcePosition:C,targetPosition:x,dragging:te,dragHandle:q,zIndex:k})})})};return t.displayName="NodeWrapper",P.memo(t)};function c$(e){const t={input:Fa(e.input||I0),default:Fa(e.default||hd),output:Fa(e.output||R0),group:Fa(e.group||rh)},n={},a=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,i)=>(r[i]=Fa(e[i]||hd),r),n);return{...t,...a}}const d$=({x:e,y:t,width:n,height:a,origin:r})=>!n||!a?{x:e,y:t}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-a*r[1]},f$=typeof document<"u"?document:null;var li=(e=null,t={target:f$})=>{const[n,a]=P.useState(!1),r=P.useRef(!1),i=P.useRef(new Set([])),[o,s]=P.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,p)=>d.concat(...p),[]);return[c,u]}return[[],[]]},[e]);return P.useEffect(()=>{var l,c;if(e!==null){const u=f=>{if(r.current=f.ctrlKey||f.metaKey||f.shiftKey,!r.current&&dd(f))return!1;const h=rv(f.code,s);i.current.add(f[h]),tv(o,i.current,!1)&&(f.preventDefault(),a(!0))},d=f=>{if(!r.current&&dd(f))return!1;const h=rv(f.code,s);tv(o,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(f[h]),r.current=!1},p=()=>{i.current.clear(),a(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",u),(c=t==null?void 0:t.target)==null||c.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{var f,h;(f=t==null?void 0:t.target)==null||f.removeEventListener("keydown",u),(h=t==null?void 0:t.target)==null||h.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,a]),n};function tv(e,t,n){return e.filter(a=>n||a.length===t.size).some(a=>a.every(r=>t.has(r)))}function rv(e,t){return t.includes(e)?"code":"key"}function O0(e,t,n,a){var o,s;if(!e.parentNode)return n;const r=t.get(e.parentNode),i=Jn(r,a);return O0(r,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((o=r[dt])==null?void 0:o.z)??0)>(n.z??0)?((s=r[dt])==null?void 0:s.z)??0:n.z??0},a)}function L0(e,t,n){e.forEach(a=>{var r;if(a.parentNode&&!e.has(a.parentNode))throw new Error(`Parent node ${a.parentNode} not found`);if(a.parentNode||n!=null&&n[a.id]){const{x:i,y:o,z:s}=O0(a,e,{...a.position,z:((r=a[dt])==null?void 0:r.z)??0},t);a.positionAbsolute={x:i,y:o},a[dt].z=s,n!=null&&n[a.id]&&(a[dt].isParent=!0)}})}function jl(e,t,n,a){const r=new Map,i={},o=a?1e3:0;return e.forEach(s=>{var d;const l=(zt(s.zIndex)?s.zIndex:0)+(s.selected?o:0),c=t.get(s.id),u={width:c==null?void 0:c.width,height:c==null?void 0:c.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(u.parentNode=s.parentNode,i[s.parentNode]=!0),Object.defineProperty(u,dt,{enumerable:!1,value:{handleBounds:(d=c==null?void 0:c[dt])==null?void 0:d.handleBounds,z:l}}),r.set(s.id,u)}),L0(r,n,i),r}function V0(e,t={}){const{getNodes:n,width:a,height:r,minZoom:i,maxZoom:o,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),p=t.initial&&!c&&u;if(s&&l&&(p||!t.initial)){const h=n().filter(g=>{var E;const b=t.includeHiddenNodes?g.width&&g.height:!g.hidden;return(E=t.nodes)!=null&&E.length?b&&t.nodes.some(y=>y.id===g.id):b}),v=h.every(g=>g.width&&g.height);if(h.length>0&&v){const g=y0(h,d),[b,E,y]=w0(g,a,r,t.minZoom??i,t.maxZoom??o,t.padding??.1),_=jr.translate(b,E).scale(y);return typeof t.duration=="number"&&t.duration>0?s.transform(fn(l,t.duration),_):s.transform(l,_),!0}}return!1}function p$(e,t){return e.forEach(n=>{const a=t.get(n.id);a&&t.set(a.id,{...a,[dt]:a[dt],selected:n.selected})}),new Map(t)}function h$(e,t){return t.map(n=>{const a=e.find(r=>r.id===n.id);return a&&(n.selected=a.selected),n})}function oo({changedNodes:e,changedEdges:t,get:n,set:a}){const{nodeInternals:r,edges:i,onNodesChange:o,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&a({nodeInternals:p$(e,r)}),o==null||o(e)),t!=null&&t.length&&(c&&a({edges:h$(t,i)}),s==null||s(t))}const Bn=()=>{},m$={zoomIn:Bn,zoomOut:Bn,zoomTo:Bn,getZoom:()=>1,setViewport:Bn,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Bn,fitBounds:Bn,project:e=>e,viewportInitialized:!1},v$=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),g$=()=>{const e=gt(),{d3Zoom:t,d3Selection:n}=ot(v$,qt);return P.useMemo(()=>n&&t?{zoomIn:r=>t.scaleBy(fn(n,r==null?void 0:r.duration),1.2),zoomOut:r=>t.scaleBy(fn(n,r==null?void 0:r.duration),1/1.2),zoomTo:(r,i)=>t.scaleTo(fn(n,i==null?void 0:i.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{const[o,s,l]=e.getState().transform,c=jr.translate(r.x??o,r.y??s).scale(r.zoom??l);t.transform(fn(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[r,i,o]=e.getState().transform;return{x:r,y:i,zoom:o}},fitView:r=>V0(e.getState,r),setCenter:(r,i,o)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,d=s/2-r*u,p=l/2-i*u,f=jr.translate(d,p).scale(u);t.transform(fn(n,o==null?void 0:o.duration),f)},fitBounds:(r,i)=>{const{width:o,height:s,minZoom:l,maxZoom:c}=e.getState(),[u,d,p]=w0(r,o,s,l,c,(i==null?void 0:i.padding)??.1),f=jr.translate(u,d).scale(p);t.transform(fn(n,i==null?void 0:i.duration),f)},project:r=>{const{transform:i,snapToGrid:o,snapGrid:s}=e.getState();return g0(r,i,o,s)},viewportInitialized:!0}:m$,[t,n])};function el(){const e=g$(),t=gt(),n=P.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),a=P.useCallback(v=>t.getState().nodeInternals.get(v),[]),r=P.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(g=>({...g}))},[]),i=P.useCallback(v=>{const{edges:g=[]}=t.getState();return g.find(b=>b.id===v)},[]),o=P.useCallback(v=>{const{getNodes:g,setNodes:b,hasDefaultNodes:E,onNodesChange:y}=t.getState(),_=g(),w=typeof v=="function"?v(_):v;if(E)b(w);else if(y){const S=w.length===0?_.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));y(S)}},[]),s=P.useCallback(v=>{const{edges:g=[],setEdges:b,hasDefaultEdges:E,onEdgesChange:y}=t.getState(),_=typeof v=="function"?v(g):v;if(E)b(_);else if(y){const w=_.length===0?g.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));y(w)}},[]),l=P.useCallback(v=>{const g=Array.isArray(v)?v:[v],{getNodes:b,setNodes:E,hasDefaultNodes:y,onNodesChange:_}=t.getState();if(y){const S=[...b(),...g];E(S)}else if(_){const w=g.map(S=>({item:S,type:"add"}));_(w)}},[]),c=P.useCallback(v=>{const g=Array.isArray(v)?v:[v],{edges:b=[],setEdges:E,hasDefaultEdges:y,onEdgesChange:_}=t.getState();if(y)E([...b,...g]);else if(_){const w=g.map(S=>({item:S,type:"add"}));_(w)}},[]),u=P.useCallback(()=>{const{getNodes:v,edges:g=[],transform:b}=t.getState(),[E,y,_]=b;return{nodes:v().map(w=>({...w})),edges:g.map(w=>({...w})),viewport:{x:E,y,zoom:_}}},[]),d=P.useCallback(({nodes:v,edges:g})=>{const{nodeInternals:b,getNodes:E,edges:y,hasDefaultNodes:_,hasDefaultEdges:w,onNodesDelete:S,onEdgesDelete:C,onNodesChange:x,onEdgesChange:T}=t.getState(),R=(v||[]).map($=>$.id),q=(g||[]).map($=>$.id),k=E().reduce(($,F)=>{const A=!R.includes(F.id)&&F.parentNode&&$.find(O=>O.id===F.parentNode);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(R.includes(F.id)||A)&&$.push(F),$},[]),I=y.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),N=I.filter($=>q.includes($.id));if(k||N){const $=th(k,I),F=[...N,...$],A=F.reduce((V,O)=>(V.includes(O.id)||V.push(O.id),V),[]);if((w||_)&&(w&&t.setState({edges:y.filter(V=>!A.includes(V.id))}),_&&(k.forEach(V=>{b.delete(V.id)}),t.setState({nodeInternals:new Map(b)}))),A.length>0&&(C==null||C(F),T&&T(A.map(V=>({id:V,type:"remove"})))),k.length>0&&(S==null||S(k),x)){const V=k.map(O=>({id:O.id,type:"remove"}));x(V)}}},[]),p=P.useCallback(v=>{const g=xk(v),b=g?null:t.getState().nodeInternals.get(v.id);return[g?v:Mm(b),b,g]},[]),f=P.useCallback((v,g=!0,b)=>{const[E,y,_]=p(v);return E?(b||t.getState().getNodes()).filter(w=>{if(!_&&(w.id===y.id||!w.positionAbsolute))return!1;const S=Mm(w),C=cd(S,E);return g&&C>0||C>=v.width*v.height}):[]},[]),h=P.useCallback((v,g,b=!0)=>{const[E]=p(v);if(!E)return!1;const y=cd(E,g);return b&&y>0||y>=v.width*v.height},[]);return P.useMemo(()=>({...e,getNodes:n,getNode:a,getEdges:r,getEdge:i,setNodes:o,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:h}),[e,n,a,r,i,o,s,l,c,u,d,f,h])}var y$=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=gt(),{deleteElements:a}=el(),r=li(e),i=li(t);P.useEffect(()=>{if(r){const{edges:o,getNodes:s}=n.getState(),l=s().filter(u=>u.selected),c=o.filter(u=>u.selected);a({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[r]),P.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function b$(e){const t=gt();P.useEffect(()=>{let n;const a=()=>{var i,o;if(!e.current)return;const r=Yp(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Jr.error004())),t.setState({width:r.width||500,height:r.height||500})};return a(),window.addEventListener("resize",a),e.current&&(n=new ResizeObserver(()=>a()),n.observe(e.current)),()=>{window.removeEventListener("resize",a),n&&e.current&&n.unobserve(e.current)}},[])}const nh={position:"absolute",width:"100%",height:"100%",top:0,left:0},w$=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ql=e=>({x:e.x,y:e.y,zoom:e.k}),zn=(e,t)=>e.target.closest(`.${t}`),nv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),S$=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),_$=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:a,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Zn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:p,translateExtent:f,minZoom:h,maxZoom:v,zoomActivationKeyCode:g,preventScrolling:b=!0,children:E,noWheelClassName:y,noPanClassName:_})=>{const w=P.useRef(),S=gt(),C=P.useRef(!1),x=P.useRef(!1),T=P.useRef(null),R=P.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:k,d3ZoomHandler:I,userSelectionActive:N}=ot(S$,qt),$=li(g),F=P.useRef(0);return b$(T),P.useEffect(()=>{if(T.current){const A=T.current.getBoundingClientRect(),V=gk().scaleExtent([h,v]).translateExtent(f),O=Qt(T.current).call(V),U=jr.translate(p.x,p.y).scale(la(p.zoom,h,v)),H=[[0,0],[A.width,A.height]],G=V.constrain()(U,H,f);V.transform(O,G),S.setState({d3Zoom:V,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:T.current.closest(".react-flow")})}},[]),P.useEffect(()=>{k&&q&&(o&&!$&&!N?k.on("wheel.zoom",A=>{if(zn(A,y))return!1;A.preventDefault(),A.stopImmediatePropagation();const V=k.property("__zoom").k||1;if(A.ctrlKey&&i){const G=ar(A),X=-A.deltaY*(A.deltaMode===1?.05:A.deltaMode?1:.002)*10,Y=V*Math.pow(2,X);q.scaleTo(k,Y,G);return}const O=A.deltaMode===1?20:1,U=l===Zn.Vertical?0:A.deltaX*O,H=l===Zn.Horizontal?0:A.deltaY*O;q.translateBy(k,-(U/V)*s,-(H/V)*s)},{passive:!1}):typeof I<"u"&&k.on("wheel.zoom",function(A,V){if(!b||zn(A,y))return null;A.preventDefault(),I.call(this,A,V)},{passive:!1}))},[N,o,l,k,q,I,$,i,b,y]),P.useEffect(()=>{q&&q.on("start",A=>{var O;if(!A.sourceEvent)return null;F.current=A.sourceEvent.button;const{onViewportChangeStart:V}=S.getState();if(C.current=!0,((O=A.sourceEvent)==null?void 0:O.type)==="mousedown"&&S.setState({paneDragging:!0}),t||V){const U=Ql(A.transform);R.current=U,V==null||V(U),t==null||t(A.sourceEvent,U)}})},[q,t]),P.useEffect(()=>{q&&(N&&!C.current?q.on("zoom",null):N||q.on("zoom",A=>{const{onViewportChange:V}=S.getState();if(S.setState({transform:[A.transform.x,A.transform.y,A.transform.k]}),x.current=!!(a&&nv(d,F.current??0)),e||V){const O=Ql(A.transform);V==null||V(O),e==null||e(A.sourceEvent,O)}}))},[N,q,e,d,a]),P.useEffect(()=>{q&&q.on("end",A=>{if(!A.sourceEvent)return null;const{onViewportChangeEnd:V}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),a&&nv(d,F.current??0)&&!x.current&&a(A.sourceEvent),x.current=!1,(n||V)&&w$(R.current,A.transform)){const O=Ql(A.transform);R.current=O,clearTimeout(w.current),w.current=setTimeout(()=>{V==null||V(O),n==null||n(A.sourceEvent,O)},o?150:0)}})},[q,o,d,n,a]),P.useEffect(()=>{q&&q.filter(A=>{const V=$||r,O=i&&A.ctrlKey;if(A.button===1&&A.type==="mousedown"&&(zn(A,"react-flow__node")||zn(A,"react-flow__edge")))return!0;if(!d&&!V&&!o&&!c&&!i||N||!c&&A.type==="dblclick"||zn(A,y)&&A.type==="wheel"||zn(A,_)&&A.type!=="wheel"||!i&&A.ctrlKey&&A.type==="wheel"||!V&&!o&&!O&&A.type==="wheel"||!d&&(A.type==="mousedown"||A.type==="touchstart")||Array.isArray(d)&&!d.includes(A.button)&&(A.type==="mousedown"||A.type==="touchstart"))return!1;const U=Array.isArray(d)&&d.includes(A.button)||!A.button||A.button<=1;return(!A.ctrlKey||A.type==="wheel")&&U})},[N,q,r,i,o,c,d,u,$]),m("div",{className:"react-flow__renderer",ref:T,style:nh,children:E})},E$=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function C$(){const{userSelectionActive:e,userSelectionRect:t}=ot(E$,qt);return e&&t?m("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function av(e,t){const n=e.find(a=>a.id===t.parentNode);if(n){const a=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(a>0||r>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),r>0&&(n.style.height+=r),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function M0(e,t){if(e.some(a=>a.type==="reset"))return e.filter(a=>a.type==="reset").map(a=>a.item);const n=e.filter(a=>a.type==="add").map(a=>a.item);return t.reduce((a,r)=>{const i=e.filter(s=>s.id===r.id);if(i.length===0)return a.push(r),a;const o={...r};for(const s of i)if(s)switch(s.type){case"select":{o.selected=s.selected;break}case"position":{typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&av(a,o);break}case"dimensions":{typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),typeof s.updateStyle<"u"&&(o.style={...o.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(o.resizing=s.resizing),o.expandParent&&av(a,o);break}case"remove":return a}return a.push(o),a},n)}function B0(e,t){return M0(e,t)}function x$(e,t){return M0(e,t)}const Vr=(e,t)=>({id:e,type:"select",selected:t});function Qn(e,t){return e.reduce((n,a)=>{const r=t.includes(a.id);return!a.selected&&r?(a.selected=!0,n.push(Vr(a.id,!0))):a.selected&&!r&&(a.selected=!1,n.push(Vr(a.id,!1))),n},[])}const Gl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},N$=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),z0=P.memo(({isSelecting:e,selectionMode:t=oi.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const p=P.useRef(null),f=gt(),h=P.useRef(0),v=P.useRef(0),g=P.useRef(),{userSelectionActive:b,elementsSelectable:E,dragging:y}=ot(N$,qt),_=()=>{f.setState({userSelectionActive:!1,userSelectionRect:null}),h.current=0,v.current=0},w=I=>{i==null||i(I),f.getState().resetSelectedElements(),f.setState({nodesSelectionActive:!1})},S=I=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){I.preventDefault();return}o==null||o(I)},C=s?I=>s(I):void 0,x=I=>{const{resetSelectedElements:N,domNode:$}=f.getState();if(g.current=$==null?void 0:$.getBoundingClientRect(),!E||!e||I.button!==0||I.target!==p.current||!g.current)return;const{x:F,y:A}=Qr(I,g.current);N(),f.setState({userSelectionRect:{width:0,height:0,startX:F,startY:A,x:F,y:A}}),a==null||a(I)},T=I=>{const{userSelectionRect:N,nodeInternals:$,edges:F,transform:A,onNodesChange:V,onEdgesChange:O,nodeOrigin:U,getNodes:H}=f.getState();if(!e||!g.current||!N)return;f.setState({userSelectionActive:!0,nodesSelectionActive:!1});const G=Qr(I,g.current),X=N.startX??0,Y=N.startY??0,K={...N,x:G.x<X?G.x:X,y:G.y<Y?G.y:Y,width:Math.abs(G.x-X),height:Math.abs(G.y-Y)},J=H(),ne=b0($,K,A,t===oi.Partial,!0,U),fe=th(ne,F).map(ie=>ie.id),ye=ne.map(ie=>ie.id);if(h.current!==ye.length){h.current=ye.length;const ie=Qn(J,ye);ie.length&&(V==null||V(ie))}if(v.current!==fe.length){v.current=fe.length;const ie=Qn(F,fe);ie.length&&(O==null||O(ie))}f.setState({userSelectionRect:K})},R=I=>{if(I.button!==0)return;const{userSelectionRect:N}=f.getState();!b&&N&&I.target===p.current&&(w==null||w(I)),f.setState({nodesSelectionActive:h.current>0}),_(),r==null||r(I)},q=I=>{b&&(f.setState({nodesSelectionActive:h.current>0}),r==null||r(I)),_()},k=E&&(e||b);return L("div",{className:Tt(["react-flow__pane",{dragging:y,selection:e}]),onClick:k?void 0:Gl(w,p),onContextMenu:Gl(S,p),onWheel:Gl(C,p),onMouseEnter:k?void 0:l,onMouseDown:k?x:void 0,onMouseMove:k?T:c,onMouseUp:k?R:void 0,onMouseLeave:k?q:u,ref:p,style:nh,children:[d,m(C$,{})]})});z0.displayName="Pane";const I$=e=>{const t=e.getNodes().filter(n=>n.selected);return{...y0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function T$({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const a=gt(),{width:r,height:i,x:o,y:s,transformString:l,userSelectionActive:c}=ot(I$,qt),u=D0(),d=P.useRef(null);if(P.useEffect(()=>{var h;n||(h=d.current)==null||h.focus({preventScroll:!0})},[n]),F0({nodeRef:d}),c||!r||!i)return null;const p=e?h=>{const v=a.getState().getNodes().filter(g=>g.selected);e(h,v)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(ea,h.key)&&u({x:ea[h.key].x,y:ea[h.key].y,isShiftPressed:h.shiftKey})};return m("div",{className:Tt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:m("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:r,height:i,top:s,left:o}})})}var R$=P.memo(T$);const P$=e=>e.nodesSelectionActive,U0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:f,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:g,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:x,zoomOnDoubleClick:T,panOnDrag:R,defaultViewport:q,translateExtent:k,minZoom:I,maxZoom:N,preventScrolling:$,onSelectionContextMenu:F,noWheelClassName:A,noPanClassName:V,disableKeyboardA11y:O})=>{const U=ot(P$),H=li(d),X=li(b)||R,Y=H||p&&X!==!0;return y$({deleteKeyCode:s,multiSelectionKeyCode:g}),m(_$,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:x,zoomOnDoubleClick:T,panOnDrag:!H&&X,defaultViewport:q,translateExtent:k,minZoom:I,maxZoom:N,zoomActivationKeyCode:E,preventScrolling:$,noWheelClassName:A,noPanClassName:V,children:L(z0,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:X,isSelecting:!!Y,selectionMode:f,children:[e,U&&m(R$,{onSelectionContextMenu:F,noPanClassName:V,disableKeyboardA11y:O})]})})};U0.displayName="FlowRenderer";var A$=P.memo(U0);function k$(e){return ot(P.useCallback(n=>e?b0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const $$=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),H0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:r,updateNodeDimensions:i,onError:o}=ot($$,qt),s=k$(e.onlyRenderVisibleElements),l=P.useRef(),c=P.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const p=d.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));i(p)});return l.current=u,u},[]);return P.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),m("div",{className:"react-flow__nodes",style:nh,children:s.map(u=>{var w,S;let d=u.type||"default";e.nodeTypes[d]||(o==null||o("003",Jr.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,f=!!(u.draggable||t&&typeof u.draggable>"u"),h=!!(u.selectable||r&&typeof u.selectable>"u"),v=!!(u.connectable||n&&typeof u.connectable>"u"),g=!!(u.focusable||a&&typeof u.focusable>"u"),b=e.nodeExtent?Xp(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,E=(b==null?void 0:b.x)??0,y=(b==null?void 0:b.y)??0,_=d$({x:E,y,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return m(p,{id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||se.Bottom,targetPosition:u.targetPosition||se.Top,hidden:u.hidden,xPos:E,yPos:y,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:f,isSelectable:h,isConnectable:v,isFocusable:g,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((w=u[dt])==null?void 0:w.z)??0,isParent:!!((S=u[dt])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel},u.id)})})};H0.displayName="NodeRenderer";var q$=P.memo(H0);const F$=[{level:0,isMaxLevel:!0,edges:[]}];function D$(e,t,n=!1){let a=-1;const r=e.reduce((o,s)=>{var u,d,p,f;const l=zt(s.zIndex);let c=l?s.zIndex:0;return n&&(c=l?s.zIndex:Math.max(((d=(u=t.get(s.source))==null?void 0:u[dt])==null?void 0:d.z)||0,((f=(p=t.get(s.target))==null?void 0:p[dt])==null?void 0:f.z)||0)),o[c]?o[c].push(s):o[c]=[s],a=c>a?c:a,o},{}),i=Object.entries(r).map(([o,s])=>{const l=+o;return{edges:s,level:l,isMaxLevel:l===a}});return i.length===0?F$:i}function O$(e,t,n){const a=ot(P.useCallback(r=>e?r.edges.filter(i=>{const o=t.get(i.source),s=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&s$({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:s.width,targetHeight:s.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,t]));return D$(a,t,n)}const L$=({color:e="none",strokeWidth:t=1})=>m("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),V$=({color:e="none",strokeWidth:t=1})=>m("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),iv={[si.Arrow]:L$,[si.ArrowClosed]:V$};function M$(e){const t=gt();return P.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(iv,e)?iv[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",Jr.error009(e)),null)},[e])}const B$=({id:e,type:t,color:n,width:a=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{const l=M$(t);return l?m("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:m(l,{color:n,strokeWidth:o})}):null},z$=({defaultColor:e,rfId:t})=>n=>{const a=[];return n.edges.reduce((r,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const s=pd(o,t);a.includes(s)||(r.push({id:s,color:o.color||e,...o}),a.push(s))}}),r),[]).sort((r,i)=>r.id.localeCompare(i.id))},W0=({defaultColor:e,rfId:t})=>{const n=ot(P.useCallback(z$({defaultColor:e,rfId:t}),[e,t]),(a,r)=>!(a.length!==r.length||a.some((i,o)=>i.id!==r[o].id)));return m("defs",{children:n.map(a=>m(B$,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})};W0.displayName="MarkerDefinitions";var U$=P.memo(W0);const H$=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),j0=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:a,edgeTypes:r,noPanClassName:i,onEdgeUpdate:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,edgeUpdaterRadius:p,onEdgeDoubleClick:f,onEdgeUpdateStart:h,onEdgeUpdateEnd:v,children:g})=>{const{edgesFocusable:b,edgesUpdatable:E,elementsSelectable:y,width:_,height:w,connectionMode:S,nodeInternals:C,onError:x}=ot(H$,qt),T=O$(t,C,n);return _?L(Q,{children:[T.map(({level:R,edges:q,isMaxLevel:k})=>L("svg",{style:{zIndex:R},width:_,height:w,className:"react-flow__edges react-flow__container",children:[k&&m(U$,{defaultColor:e,rfId:a}),m("g",{children:q.map(I=>{const[N,$,F]=Zm(C.get(I.source)),[A,V,O]=Zm(C.get(I.target));if(!F||!O)return null;let U=I.type||"default";r[U]||(x==null||x("011",Jr.error011(U)),U="default");const H=r[U]||r.default,G=S===Tn.Strict?V.target:(V.target??[]).concat(V.source??[]),X=Km($.source,I.sourceHandle),Y=Km(G,I.targetHandle),K=(X==null?void 0:X.position)||se.Bottom,J=(Y==null?void 0:Y.position)||se.Top,ne=!!(I.focusable||b&&typeof I.focusable>"u"),fe=typeof o<"u"&&(I.updatable||E&&typeof I.updatable>"u");if(!X||!Y)return x==null||x("008",Jr.error008(X,I)),null;const{sourceX:ye,sourceY:ie,targetX:ve,targetY:Ae}=o$(N,X,K,A,Y,J);return m(H,{id:I.id,className:Tt([I.className,i]),type:U,data:I.data,selected:!!I.selected,animated:!!I.animated,hidden:!!I.hidden,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,style:I.style,source:I.source,target:I.target,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerEnd:I.markerEnd,markerStart:I.markerStart,sourceX:ye,sourceY:ie,targetX:ve,targetY:Ae,sourcePosition:K,targetPosition:J,elementsSelectable:y,onEdgeUpdate:o,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,edgeUpdaterRadius:p,onEdgeDoubleClick:f,onEdgeUpdateStart:h,onEdgeUpdateEnd:v,rfId:a,ariaLabel:I.ariaLabel,isFocusable:ne,isUpdatable:fe,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth},I.id)})})]},R)),g]}):null};j0.displayName="EdgeRenderer";var W$=P.memo(j0);const j$=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Q$({children:e}){const t=ot(j$);return m("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function G$(e){const t=el(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Y$={[se.Left]:se.Right,[se.Right]:se.Left,[se.Top]:se.Bottom,[se.Bottom]:se.Top},Q0=({nodeId:e,handleType:t,style:n,type:a=wr.Bezier,CustomComponent:r,connectionStatus:i})=>{var S,C,x;const{fromNode:o,handleId:s,toX:l,toY:c,connectionMode:u}=ot(P.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),qt),d=(S=o==null?void 0:o[dt])==null?void 0:S.handleBounds;let p=d==null?void 0:d[t];if(u===Tn.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!p)return null;const f=s?p.find(T=>T.id===s):p[0],h=f?f.x+f.width/2:(o.width??0)/2,v=f?f.y+f.height/2:o.height??0,g=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+h,b=(((x=o.positionAbsolute)==null?void 0:x.y)??0)+v,E=f==null?void 0:f.position,y=E?Y$[E]:null;if(!E||!y)return null;if(r)return m(r,{connectionLineType:a,connectionLineStyle:n,fromNode:o,fromHandle:f,fromX:g,fromY:b,toX:l,toY:c,fromPosition:E,toPosition:y,connectionStatus:i});let _="";const w={sourceX:g,sourceY:b,sourcePosition:E,targetX:l,targetY:c,targetPosition:y};return a===wr.Bezier?[_]=v0(w):a===wr.Step?[_]=fd({...w,borderRadius:0}):a===wr.SmoothStep?[_]=fd(w):a===wr.SimpleBezier?[_]=m0(w):_=`M${g},${b} ${l},${c}`,m("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};Q0.displayName="ConnectionLine";const X$=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function K$({containerStyle:e,style:t,type:n,component:a}){const{nodeId:r,handleType:i,nodesConnectable:o,width:s,height:l,connectionStatus:c}=ot(X$,qt);return!(r&&i&&s&&o)?null:m("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:m("g",{className:Tt(["react-flow__connection",c]),children:m(Q0,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:a,connectionStatus:c})})})}const G0=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:a,onMoveEnd:r,onInit:i,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:v,onSelectionEnd:g,connectionLineType:b,connectionLineStyle:E,connectionLineComponent:y,connectionLineContainerStyle:_,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:x,panActivationKeyCode:T,zoomActivationKeyCode:R,deleteKeyCode:q,onlyRenderVisibleElements:k,elementsSelectable:I,selectNodesOnDrag:N,defaultViewport:$,translateExtent:F,minZoom:A,maxZoom:V,preventScrolling:O,defaultMarkerColor:U,zoomOnScroll:H,zoomOnPinch:G,panOnScroll:X,panOnScrollSpeed:Y,panOnScrollMode:K,zoomOnDoubleClick:J,panOnDrag:ne,onPaneClick:fe,onPaneMouseEnter:ye,onPaneMouseMove:ie,onPaneMouseLeave:ve,onPaneScroll:Ae,onPaneContextMenu:he,onEdgeUpdate:te,onEdgeContextMenu:me,onEdgeMouseEnter:we,onEdgeMouseMove:ae,onEdgeMouseLeave:Ye,edgeUpdaterRadius:ke,onEdgeUpdateStart:He,onEdgeUpdateEnd:ut,noDragClassName:$e,noWheelClassName:ee,noPanClassName:ue,elevateEdgesOnSelect:de,disableKeyboardA11y:Ne,nodeOrigin:ge,nodeExtent:ht,rfId:Se})=>(G$(i),m(A$,{onPaneClick:fe,onPaneMouseEnter:ye,onPaneMouseMove:ie,onPaneMouseLeave:ve,onPaneContextMenu:he,onPaneScroll:Ae,deleteKeyCode:q,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:T,zoomActivationKeyCode:R,elementsSelectable:I,onMove:n,onMoveStart:a,onMoveEnd:r,zoomOnScroll:H,zoomOnPinch:G,zoomOnDoubleClick:J,panOnScroll:X,panOnScrollSpeed:Y,panOnScrollMode:K,panOnDrag:ne,defaultViewport:$,translateExtent:F,minZoom:A,maxZoom:V,onSelectionContextMenu:h,preventScrolling:O,noDragClassName:$e,noWheelClassName:ee,noPanClassName:ue,disableKeyboardA11y:Ne,children:L(Q$,{children:[m(W$,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:te,onlyRenderVisibleElements:k,onEdgeContextMenu:me,onEdgeMouseEnter:we,onEdgeMouseMove:ae,onEdgeMouseLeave:Ye,onEdgeUpdateStart:He,onEdgeUpdateEnd:ut,edgeUpdaterRadius:ke,defaultMarkerColor:U,noPanClassName:ue,elevateEdgesOnSelect:!!de,disableKeyboardA11y:Ne,rfId:Se,children:m(K$,{style:E,type:b,component:y,containerStyle:_})}),m("div",{className:"react-flow__edgelabel-renderer"}),m(q$,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,selectNodesOnDrag:N,onlyRenderVisibleElements:k,noPanClassName:ue,noDragClassName:$e,disableKeyboardA11y:Ne,nodeOrigin:ge,nodeExtent:ht,rfId:Se})]})}));G0.displayName="GraphView";var Z$=P.memo(G0);const vd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$r={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:vd,nodeExtent:vd,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Tn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Nk,isValidConnection:void 0},J$=()=>gT((e,t)=>({...$r,setNodes:n=>{const{nodeInternals:a,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:jl(n,a,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:a={}}=t();e({edges:n.map(r=>({...a,...r}))})},setDefaultNodesAndEdges:(n,a)=>{const r=typeof n<"u",i=typeof a<"u",o=r?jl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?a:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:a,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((v,g)=>{const b=r.get(g.id);if(b){const E=Yp(g.nodeElement);!!(E.width&&E.height&&(b.width!==E.width||b.height!==E.height||g.forceUpdate))&&(r.set(b.id,{...b,[dt]:{...b[dt],handleBounds:{source:ev(".source",g.nodeElement,p,c),target:ev(".target",g.nodeElement,p,c)}},...E}),v.push({id:b.id,type:"dimensions",dimensions:E}))}return v},[]);L0(r,c);const h=o||i&&!o&&V0(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:h}),(f==null?void 0:f.length)>0&&(a==null||a(f))},updateNodePositions:(n,a=!0,r=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(s=>{const l={id:s.id,type:"position",dragging:r};return a&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:a,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(i){const c=B0(n,s()),u=jl(c,r,o,l);e({nodeInternals:u})}a==null||a(n)}},addSelectedNodes:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let o,s=null;a?o=n.map(l=>Vr(l,!0)):(o=Qn(i(),n),s=Qn(r,[])),oo({changedNodes:o,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let o,s=null;a?o=n.map(l=>Vr(l,!0)):(o=Qn(r,n),s=Qn(i(),[])),oo({changedNodes:s,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:a}={})=>{const{edges:r,getNodes:i}=t(),o=n||i(),s=a||r,l=o.map(u=>(u.selected=!1,Vr(u.id,!1))),c=s.map(u=>Vr(u.id,!1));oo({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:a,maxZoom:r}=t();a==null||a.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:a,minZoom:r}=t();a==null||a.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var a;(a=t().d3Zoom)==null||a.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:a}=t(),i=a().filter(s=>s.selected).map(s=>Vr(s.id,!1)),o=n.filter(s=>s.selected).map(s=>Vr(s.id,!1));oo({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:a}=t();a.forEach(r=>{r.positionAbsolute=Xp(r.position,n)}),e({nodeExtent:n,nodeInternals:new Map(a)})},panBy:n=>{const{transform:a,width:r,height:i,d3Zoom:o,d3Selection:s,translateExtent:l}=t();if(!o||!s||!n.x&&!n.y)return;const c=jr.translate(a[0]+n.x,a[1]+n.y).scale(a[2]),u=[[0,0],[r,i]],d=o==null?void 0:o.constrain()(c,u,l);o.transform(s,d)},cancelConnection:()=>e({connectionNodeId:$r.connectionNodeId,connectionHandleId:$r.connectionHandleId,connectionHandleType:$r.connectionHandleType,connectionStatus:$r.connectionStatus,connectionStartHandle:$r.connectionStartHandle,connectionEndHandle:$r.connectionEndHandle}),reset:()=>e({...$r})})),ah=({children:e})=>{const t=P.useRef(null);return t.current||(t.current=J$()),m(yk,{value:t.current,children:e})};ah.displayName="ReactFlowProvider";const Y0=({children:e})=>P.useContext(Zs)?m(Q,{children:e}):m(ah,{children:e});Y0.displayName="ReactFlowWrapper";function ov(e,t){return P.useRef(null),P.useMemo(()=>t(e),[e])}const eq={input:I0,default:hd,output:R0,group:rh},tq={default:Yo,straight:Jp,step:Zp,smoothstep:Js,simplebezier:Kp},rq=[0,0],nq=[15,15],aq={x:0,y:0,zoom:1},iq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},X0=P.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,className:r,nodeTypes:i=eq,edgeTypes:o=tq,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onConnect:f,onConnectStart:h,onConnectEnd:v,onClickConnectStart:g,onClickConnectEnd:b,onNodeMouseEnter:E,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:w,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:x,onNodeDragStop:T,onNodesDelete:R,onEdgesDelete:q,onSelectionChange:k,onSelectionDragStart:I,onSelectionDrag:N,onSelectionDragStop:$,onSelectionContextMenu:F,onSelectionStart:A,onSelectionEnd:V,connectionMode:O=Tn.Strict,connectionLineType:U=wr.Bezier,connectionLineStyle:H,connectionLineComponent:G,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:J=!1,selectionMode:ne=oi.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ye="Meta",zoomActivationKeyCode:ie="Meta",snapToGrid:ve=!1,snapGrid:Ae=nq,onlyRenderVisibleElements:he=!1,selectNodesOnDrag:te=!0,nodesDraggable:me,nodesConnectable:we,nodesFocusable:ae,nodeOrigin:Ye=rq,edgesFocusable:ke,edgesUpdatable:He,elementsSelectable:ut,defaultViewport:$e=aq,minZoom:ee=.5,maxZoom:ue=2,translateExtent:de=vd,preventScrolling:Ne=!0,nodeExtent:ge,defaultMarkerColor:ht="#b1b1b7",zoomOnScroll:Se=!0,zoomOnPinch:We=!0,panOnScroll:Be=!1,panOnScrollSpeed:Z=.5,panOnScrollMode:re=Zn.Free,zoomOnDoubleClick:Ee=!0,panOnDrag:Ie=!0,onPaneClick:Qe,onPaneMouseEnter:Xe,onPaneMouseMove:Ot,onPaneMouseLeave:Lt,onPaneScroll:Na,onPaneContextMenu:Mi,children:hr,onEdgeUpdate:Tl,onEdgeContextMenu:Pr,onEdgeDoubleClick:Rl,onEdgeMouseEnter:Bi,onEdgeMouseMove:Pl,onEdgeMouseLeave:Ia,onEdgeUpdateStart:zi,onEdgeUpdateEnd:Al,edgeUpdaterRadius:Ui=10,onNodesChange:kl,onEdgesChange:Hi,noDragClassName:M="nodrag",noWheelClassName:D="nowheel",noPanClassName:z="nopan",fitView:j=!1,fitViewOptions:W,connectOnClick:oe=!0,attributionPosition:ce,proOptions:Pe,defaultEdgeOptions:Ge,elevateNodesOnSelect:tt=!0,elevateEdgesOnSelect:Te=!1,disableKeyboardA11y:ze=!1,autoPanOnConnect:rt=!0,autoPanOnNodeDrag:be=!0,connectionRadius:Ke=20,isValidConnection:it,onError:Ze,style:rr,id:Rt,...Vt},Ar)=>{const mr=ov(i,c$),St=ov(o,i$),_t=Rt||"1";return m("div",{...Vt,style:{...rr,...iq},ref:Ar,className:Tt(["react-flow",r]),"data-testid":"rf__wrapper",id:Rt,children:L(Y0,{children:[m(Z$,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:w,onNodeDoubleClick:S,nodeTypes:mr,edgeTypes:St,connectionLineType:U,connectionLineStyle:H,connectionLineComponent:G,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:J,selectionMode:ne,deleteKeyCode:Y,multiSelectionKeyCode:ye,panActivationKeyCode:fe,zoomActivationKeyCode:ie,onlyRenderVisibleElements:he,selectNodesOnDrag:te,defaultViewport:$e,translateExtent:de,minZoom:ee,maxZoom:ue,preventScrolling:Ne,zoomOnScroll:Se,zoomOnPinch:We,zoomOnDoubleClick:Ee,panOnScroll:Be,panOnScrollSpeed:Z,panOnScrollMode:re,panOnDrag:Ie,onPaneClick:Qe,onPaneMouseEnter:Xe,onPaneMouseMove:Ot,onPaneMouseLeave:Lt,onPaneScroll:Na,onPaneContextMenu:Mi,onSelectionContextMenu:F,onSelectionStart:A,onSelectionEnd:V,onEdgeUpdate:Tl,onEdgeContextMenu:Pr,onEdgeDoubleClick:Rl,onEdgeMouseEnter:Bi,onEdgeMouseMove:Pl,onEdgeMouseLeave:Ia,onEdgeUpdateStart:zi,onEdgeUpdateEnd:Al,edgeUpdaterRadius:Ui,defaultMarkerColor:ht,noDragClassName:M,noWheelClassName:D,noPanClassName:z,elevateEdgesOnSelect:Te,rfId:_t,disableKeyboardA11y:ze,nodeOrigin:Ye,nodeExtent:ge}),m(Xk,{nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:f,onConnectStart:h,onConnectEnd:v,onClickConnectStart:g,onClickConnectEnd:b,nodesDraggable:me,nodesConnectable:we,nodesFocusable:ae,edgesFocusable:ke,edgesUpdatable:He,elementsSelectable:ut,elevateNodesOnSelect:tt,minZoom:ee,maxZoom:ue,nodeExtent:ge,onNodesChange:kl,onEdgesChange:Hi,snapToGrid:ve,snapGrid:Ae,connectionMode:O,translateExtent:de,connectOnClick:oe,defaultEdgeOptions:Ge,fitView:j,fitViewOptions:W,onNodesDelete:R,onEdgesDelete:q,onNodeDragStart:C,onNodeDrag:x,onNodeDragStop:T,onSelectionDrag:N,onSelectionDragStart:I,onSelectionDragStop:$,noPanClassName:z,nodeOrigin:Ye,rfId:_t,autoPanOnConnect:rt,autoPanOnNodeDrag:be,onError:Ze,connectionRadius:Ke,isValidConnection:it}),m(Gk,{onSelectionChange:k}),hr,m(wk,{proOptions:Pe,position:ce}),m(t$,{rfId:_t,disableKeyboardA11y:ze})]})})});X0.displayName="ReactFlow";function K0(e){return t=>{const[n,a]=P.useState(t),r=P.useCallback(i=>a(o=>e(i,o)),[]);return[n,a,r]}}const oq=K0(B0),sq=K0(x$);function lq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function uq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m("path",{d:"M0 0h32v4.2H0z"})})}function cq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function dq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function fq(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const Ba=({children:e,className:t,...n})=>m("button",{type:"button",className:Tt(["react-flow__controls-button",t]),...n,children:e});Ba.displayName="ControlButton";const pq=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,Z0=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:a=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:o,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const p=gt(),[f,h]=P.useState(!1),v=ot(pq),{zoomIn:g,zoomOut:b,fitView:E}=el();if(P.useEffect(()=>{h(!0)},[]),!f)return null;const y=()=>{g(),i==null||i()},_=()=>{b(),o==null||o()},w=()=>{E(r),s==null||s()},S=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)};return L(s0,{className:Tt(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls",children:[t&&L(Q,{children:[m(Ba,{onClick:y,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:m(lq,{})}),m(Ba,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:m(uq,{})})]}),n&&m(Ba,{className:"react-flow__controls-fitview",onClick:w,title:"fit view","aria-label":"fit view",children:m(cq,{})}),a&&m(Ba,{className:"react-flow__controls-interactive",onClick:S,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?m(fq,{}):m(dq,{})}),u]})};Z0.displayName="Controls";var hq=P.memo(Z0);function mq(e,t){const{accessToken:n,keyFactory:a}=Ve();return pa(a.getEntityActionsRequiredQueryKey(e),()=>Je.getEntityDownloadActionsRequired(e,n),t)}function vq(e,t){const{accessToken:n,keyFactory:a}=Ve();return pa(a.getEntityChildrenQueryKey(e,!1),()=>Je.getEntityChildren(e,n),t)}function cj(e,t){const{accessToken:n,keyFactory:a}=Ve();return Cb(a.getEntityChildrenQueryKey(e,!0),async r=>await Je.getEntityChildren({...e,includeTotalChildCount:r.pageParam?!1:e.includeTotalChildCount,nextPageToken:r.pageParam},n,r.signal),{...t,getNextPageParam:r=>r.nextPageToken})}const gd=e=>{const{data:t}=AC(e.modifiedBy),n=Za(ur(e.modifiedOn)),{name:a,description:r}=e;return P.useMemo(()=>L(Q,{children:[a&&m(Ct,{title:a,placement:"top",enterNextDelay:200,children:m("span",{children:m(Fe,{variant:"smallText1",className:"name",children:a})})}),r&&m(Ct,{title:r,placement:"top",enterNextDelay:200,children:m("span",{children:m(Fe,{variant:"smallText1",className:"description",children:r})})}),t&&m(bb,{userProfile:t}),m("div",{children:n})]}),[a,r,t,n])};try{gd.displayName="ActivityNodeLabel",gd.__docgenInfo={description:"",displayName:"ActivityNodeLabel",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},etag:{defaultValue:null,description:"",name:"etag",required:!0,type:{name:"string"}},createdOn:{defaultValue:null,description:"",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"string"}},used:{defaultValue:null,description:"",name:"used",required:!1,type:{name:"(UsedURL | UsedEntity)[]"}}}}}catch{}const gq=new Set([".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx",".cwl",".wdl",".json"]),yd=e=>{const{entityHeader:t}=e;if(t){const n=xb(t==null?void 0:t.type);if(n==Vc.FILE){const a=t.name.lastIndexOf(".");if(a>-1){const r=t.name.slice(a);if(gq.has(r.toLowerCase()))return m(Le,{icon:"code"})}}else return m(em,{type:n,includeTooltip:!1})}return m(em,{type:Vc.FILE,includeTooltip:!1})};try{yd.displayName="ProvenanceEntityIcon",yd.__docgenInfo={description:"",displayName:"ProvenanceEntityIcon",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!1,type:{name:"EntityHeader"}}}}}catch{}const bd=e=>{const t=e.versionNumber?`.${e.versionNumber}`:"",n=`${e.id}${t}`;return P.useMemo(()=>L(Q,{children:[m("div",{children:m(yd,{entityHeader:e})}),L(Q,{children:[m("div",{children:m(Ct,{title:e.name,placement:"top",enterNextDelay:300,children:m("a",{href:`${cr.PORTAL}#!Synapse:${n}`,children:e.name})})}),d1(xb(e.type))&&L("div",{children:[L("div",{children:["v.",e.versionNumber]}),!e.isLatestVersion&&m("div",{children:"(old version)"})]})]})]}),[e,n])};try{bd.displayName="EntityNodeLabel",bd.__docgenInfo={description:"",displayName:"EntityNodeLabel",props:{name:{defaultValue:null,description:"The name of the entity",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"The id of the entity",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of the entity",name:"type",required:!0,type:{name:"enum",value:[{value:'"org.sagebionetworks.repo.model.table.EntityView"'},{value:'"org.sagebionetworks.repo.model.table.SubmissionView"'},{value:'"org.sagebionetworks.repo.model.table.Dataset"'},{value:'"org.sagebionetworks.repo.model.table.DatasetCollection"'},{value:'"org.sagebionetworks.repo.model.Link"'},{value:'"org.sagebionetworks.repo.model.docker.DockerRepository"'},{value:'"org.sagebionetworks.repo.model.FileEntity"'},{value:'"org.sagebionetworks.repo.model.table.TableEntity"'},{value:'"org.sagebionetworks.repo.model.table.MaterializedView"'},{value:'"org.sagebionetworks.repo.model.Folder"'},{value:'"org.sagebionetworks.repo.model.Project"'}]}},versionNumber:{defaultValue:null,description:"The version number of the entity",name:"versionNumber",required:!1,type:{name:"number"}},versionLabel:{defaultValue:null,description:"The user defined version label of the entity",name:"versionLabel",required:!1,type:{name:"string"}},benefactorId:{defaultValue:null,description:"The ID of the entity that this Entity's ACL is inherited from.",name:"benefactorId",required:!0,type:{name:"number"}},createdOn:{defaultValue:null,description:"The date this entity was created.",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"The date this entity was last modified.",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"The ID of the user that created this entity.",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"The ID of the user that last modified this entity.",name:"modifiedBy",required:!0,type:{name:"string"}},isLatestVersion:{defaultValue:null,description:"If this version is the latest version of the entity",name:"isLatestVersion",required:!0,type:{name:"boolean"}}}}}catch{}var J0={exports:{}};(function(e,t){(function(n,a){typeof Vs=="function"?e.exports=a():n.pluralize=a()})(Kr,function(){var n=[],a=[],r={},i={},o={};function s(v){return typeof v=="string"?new RegExp("^"+v+"$","i"):v}function l(v,g){return v===g?g:v===v.toLowerCase()?g.toLowerCase():v===v.toUpperCase()?g.toUpperCase():v[0]===v[0].toUpperCase()?g.charAt(0).toUpperCase()+g.substr(1).toLowerCase():g.toLowerCase()}function c(v,g){return v.replace(/\$(\d{1,2})/g,function(b,E){return g[E]||""})}function u(v,g){return v.replace(g[0],function(b,E){var y=c(g[1],arguments);return l(b===""?v[E-1]:b,y)})}function d(v,g,b){if(!v.length||r.hasOwnProperty(v))return g;for(var E=b.length;E--;){var y=b[E];if(y[0].test(g))return u(g,y)}return g}function p(v,g,b){return function(E){var y=E.toLowerCase();return g.hasOwnProperty(y)?l(E,y):v.hasOwnProperty(y)?l(E,v[y]):d(y,E,b)}}function f(v,g,b,E){return function(y){var _=y.toLowerCase();return g.hasOwnProperty(_)?!0:v.hasOwnProperty(_)?!1:d(_,_,b)===_}}function h(v,g,b){var E=g===1?h.singular(v):h.plural(v);return(b?g+" ":"")+E}return h.plural=p(o,i,n),h.isPlural=f(o,i,n),h.singular=p(i,o,a),h.isSingular=f(i,o,a),h.addPluralRule=function(v,g){n.push([s(v),g])},h.addSingularRule=function(v,g){a.push([s(v),g])},h.addUncountableRule=function(v){if(typeof v=="string"){r[v.toLowerCase()]=!0;return}h.addPluralRule(v,"$0"),h.addSingularRule(v,"$0")},h.addIrregularRule=function(v,g){g=g.toLowerCase(),v=v.toLowerCase(),o[v]=g,i[g]=v},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(v){return h.addIrregularRule(v[0],v[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(v){return h.addPluralRule(v[0],v[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(v){return h.addSingularRule(v[0],v[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h})})(J0);var yq=J0.exports;const bq=It(yq),wd=e=>{const{itemCount:t}=e;return P.useMemo(()=>m(Q,{children:L("a",{children:["Show ",t," ",bq("item",t),"…"]})}),[t])};try{wd.displayName="ExpandGraphNodeLabel",wd.__docgenInfo={description:"",displayName:"ExpandGraphNodeLabel",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!0,type:{name:"EntityHeader"}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}}}}}catch{}const wq=/^(.+?\.)?github\.com$/,Sq=/^(.+?\.)?githubusercontent\.com$/,Sd=e=>{const{url:t}=e;let n="link";const a=new URL(t),{hostname:r}=a;return(r.match(wq)||r.match(Sq))&&(n="github"),m(Le,{icon:n})};try{Sd.displayName="ProvenanceExternalIcon",Sd.__docgenInfo={description:"",displayName:"ProvenanceExternalIcon",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}}}catch{}const _d=e=>P.useMemo(()=>L(Q,{children:[m("div",{children:m(Sd,{url:e.url})}),m(Ct,{title:e.name,placement:"top",enterNextDelay:300,children:m("a",{href:e.url,rel:"noopener noreferrer",children:e.name})})]}),[e.name,e.url]);try{_d.displayName="ExternalGraphNodeLabel",_d.__docgenInfo={description:"",displayName:"ExternalGraphNodeLabel",props:{concreteType:{defaultValue:null,description:"",name:"concreteType",required:!0,type:{name:'"org.sagebionetworks.repo.model.provenance.UsedURL"'}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},wasExecuted:{defaultValue:null,description:"",name:"wasExecuted",required:!0,type:{name:"boolean"}}}}}catch{}var Yl,sv;function _q(){if(sv)return Yl;sv=1;var e=S1,t=4;function n(a){return e(a,t)}return Yl=n,Yl}var Xl,lv;function ih(){if(lv)return Xl;lv=1;function e(t){return function(){return t}}return Xl=e,Xl}var Eq=kn;function Cq(e,t){return function(n,a){if(n==null)return n;if(!Eq(n))return e(n,a);for(var r=n.length,i=t?r:-1,o=Object(n);(t?i--:++i<r)&&a(o[i],i,o)!==!1;);return n}}var xq=Cq,Nq=Db,Iq=xq,Tq=Iq(Nq),tl=Tq,Rq=ya;function Pq(e){return typeof e=="function"?e:Rq}var eS=Pq,Aq=Rb,kq=tl,$q=eS,qq=dr;function Fq(e,t){var n=qq(e)?Aq:kq;return n(e,$q(t))}var oh=Fq,Kl,uv;function tS(){return uv||(uv=1,Kl=oh),Kl}var Zl,cv;function Dq(){if(cv)return Zl;cv=1;var e=tl;function t(n,a){var r=[];return e(n,function(i,o,s){a(i,o,s)&&r.push(i)}),r}return Zl=t,Zl}var Jl,dv;function rS(){if(dv)return Jl;dv=1;var e=A1(),t=Dq(),n=tn,a=dr;function r(i,o){var s=a(i)?e:t;return s(i,n(o))}return Jl=r,Jl}var eu,fv;function Oq(){if(fv)return eu;fv=1;var e=Object.prototype,t=e.hasOwnProperty;function n(a,r){return a!=null&&t.call(a,r)}return eu=n,eu}var tu,pv;function nS(){if(pv)return tu;pv=1;var e=Oq(),t=k1;function n(a,r){return a!=null&&t(a,r,e)}return tu=n,tu}var Lq=Ob,Vq=Lb,Mq=Ip,Bq=dr,zq=kn,Uq=Tp,Hq=$1,Wq=Rp,jq="[object Map]",Qq="[object Set]",Gq=Object.prototype,Yq=Gq.hasOwnProperty;function Xq(e){if(e==null)return!0;if(zq(e)&&(Bq(e)||typeof e=="string"||typeof e.splice=="function"||Uq(e)||Wq(e)||Mq(e)))return!e.length;var t=Vq(e);if(t==jq||t==Qq)return!e.size;if(Hq(e))return!Lq(e).length;for(var n in e)if(Yq.call(e,n))return!1;return!0}var aS=Xq;const dj=It(aS);var ru,hv;function iS(){if(hv)return ru;hv=1;function e(t){return t===void 0}return ru=e,ru}var Kq=tl,Zq=kn;function Jq(e,t){var n=-1,a=Zq(e)?Array(e.length):[];return Kq(e,function(r,i,o){a[++n]=t(r,i,o)}),a}var oS=Jq,nu,mv;function sS(){if(mv)return nu;mv=1;var e=rn,t=tn,n=oS,a=dr;function r(i,o){var s=a(i)?e:n;return s(i,t(o))}return nu=r,nu}var au,vv;function eF(){if(vv)return au;vv=1;function e(t,n,a,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(a=t[++i]);++i<o;)a=n(a,t[i],i,t);return a}return au=e,au}var iu,gv;function tF(){if(gv)return iu;gv=1;function e(t,n,a,r,i){return i(t,function(o,s,l){a=r?(r=!1,o):n(a,o,s,l)}),a}return iu=e,iu}var ou,yv;function lS(){if(yv)return ou;yv=1;var e=eF(),t=tl,n=tn,a=tF(),r=dr;function i(o,s,l){var c=r(o)?e:a,u=arguments.length<3;return c(o,n(s),l,u,t)}return ou=i,ou}var su,bv;function rF(){if(bv)return su;bv=1;var e=q1,t=e("length");return su=t,su}var lu,wv;function nF(){if(wv)return lu;wv=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+n+a,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+r+i+"]");function l(c){return s.test(c)}return lu=l,lu}var uu,Sv;function aF(){if(Sv)return uu;Sv=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",r=t+n+a,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+r+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",h=c+"?",v="["+i+"]?",g="(?:"+f+"(?:"+[u,d,p].join("|")+")"+v+h+")*",b=v+h+g,E="(?:"+[u+s+"?",s,d,p,o].join("|")+")",y=RegExp(l+"(?="+l+")|"+E+b,"g");function _(w){for(var S=y.lastIndex=0;y.test(w);)++S;return S}return uu=_,uu}var cu,_v;function iF(){if(_v)return cu;_v=1;var e=rF(),t=nF(),n=aF();function a(r){return t(r)?n(r):e(r)}return cu=a,cu}var du,Ev;function oF(){if(Ev)return du;Ev=1;var e=Ob,t=Lb,n=kn,a=G1,r=iF(),i="[object Map]",o="[object Set]";function s(l){if(l==null)return 0;if(n(l))return a(l)?r(l):l.length;var c=t(l);return c==i||c==o?l.size:e(l).length}return du=s,du}var fu,Cv;function sF(){if(Cv)return fu;Cv=1;var e=Rb,t=_1,n=Db,a=tn,r=F1,i=dr,o=Tp,s=Pp,l=Ti,c=Rp;function u(d,p,f){var h=i(d),v=h||o(d)||c(d);if(p=a(p),f==null){var g=d&&d.constructor;v?f=h?new g:[]:l(d)?f=s(g)?t(r(d)):{}:f={}}return(v?e:n)(d,function(b,E,y){return p(f,b,E,y)}),f}return fu=u,fu}var xv=D1,lF=Ip,uF=dr,Nv=xv?xv.isConcatSpreadable:void 0;function cF(e){return uF(e)||lF(e)||!!(Nv&&e&&e[Nv])}var dF=cF,fF=O1,pF=dF;function uS(e,t,n,a,r){var i=-1,o=e.length;for(n||(n=pF),r||(r=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?uS(s,t-1,n,a,r):fF(r,s):a||(r[r.length]=s)}return r}var rl=uS;function hF(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var cS=hF,mF=cS,Iv=Math.max;function vF(e,t,n){return t=Iv(t===void 0?e.length-1:t,0),function(){for(var a=arguments,r=-1,i=Iv(a.length-t,0),o=Array(i);++r<i;)o[r]=a[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=a[r];return s[t]=n(o),mF(e,this,s)}}var dS=vF,gF=ih(),Tv=L1,yF=ya,bF=Tv?function(e,t){return Tv(e,"toString",{configurable:!0,enumerable:!1,value:gF(t),writable:!0})}:yF,wF=bF,SF=800,_F=16,EF=Date.now;function CF(e){var t=0,n=0;return function(){var a=EF(),r=_F-(a-n);if(n=a,r>0){if(++t>=SF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var xF=CF,NF=wF,IF=xF,TF=IF(NF),fS=TF,RF=ya,PF=dS,AF=fS;function kF(e,t){return AF(PF(e,t,RF),e+"")}var sn=kF,$F=kn,qF=Vb;function FF(e){return qF(e)&&$F(e)}var nl=FF,DF=rl,OF=sn,LF=Pb,VF=nl,MF=OF(function(e){return LF(DF(e,1,VF,!0))}),pS=MF;const fj=It(pS);var pu,Rv;function BF(){if(Rv)return pu;Rv=1;var e=rn;function t(n,a){return e(a,function(r){return n[r]})}return pu=t,pu}var hu,Pv;function hS(){if(Pv)return hu;Pv=1;var e=BF(),t=Ap;function n(a){return a==null?[]:e(a,t(a))}return hu=n,hu}var mu,Av;function Ht(){if(Av)return mu;Av=1;var e;if(typeof Vs=="function")try{e={clone:_q(),constant:ih(),each:tS(),filter:rS(),has:nS(),isArray:dr,isEmpty:aS,isFunction:Pp,isUndefined:iS(),keys:Ap,map:sS(),reduce:lS(),size:oF(),transform:sF(),union:pS,values:hS()}}catch{}return e||(e=window._),mu=e,mu}var vu,kv;function sh(){if(kv)return vu;kv=1;var e=Ht();vu=r;var t="\0",n="\0",a="";function r(u){this._isDirected=e.has(u,"directed")?u.directed:!0,this._isMultigraph=e.has(u,"multigraph")?u.multigraph:!1,this._isCompound=e.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(u){return this._label=u,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultNodeLabelFn=u,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return e.keys(this._nodes)},r.prototype.sources=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._in[d])})},r.prototype.sinks=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._out[d])})},r.prototype.setNodes=function(u,d){var p=arguments,f=this;return e.each(u,function(h){p.length>1?f.setNode(h,d):f.setNode(h)}),this},r.prototype.setNode=function(u,d){return e.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},r.prototype.node=function(u){return this._nodes[u]},r.prototype.hasNode=function(u){return e.has(this._nodes,u)},r.prototype.removeNode=function(u){var d=this;if(e.has(this._nodes,u)){var p=function(f){d.removeEdge(d._edgeObjs[f])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],e.each(this.children(u),function(f){d.setParent(f)}),delete this._children[u]),e.each(e.keys(this._in[u]),p),delete this._in[u],delete this._preds[u],e.each(e.keys(this._out[u]),p),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},r.prototype.setParent=function(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var p=d;!e.isUndefined(p);p=this.parent(p))if(p===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this},r.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},r.prototype.parent=function(u){if(this._isCompound){var d=this._parent[u];if(d!==n)return d}},r.prototype.children=function(u){if(e.isUndefined(u)&&(u=n),this._isCompound){var d=this._children[u];if(d)return e.keys(d)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}},r.prototype.predecessors=function(u){var d=this._preds[u];if(d)return e.keys(d)},r.prototype.successors=function(u){var d=this._sucs[u];if(d)return e.keys(d)},r.prototype.neighbors=function(u){var d=this.predecessors(u);if(d)return e.union(d,this.successors(u))},r.prototype.isLeaf=function(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0},r.prototype.filterNodes=function(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var p=this;e.each(this._nodes,function(v,g){u(g)&&d.setNode(g,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,p.edge(v))});var f={};function h(v){var g=p.parent(v);return g===void 0||d.hasNode(g)?(f[v]=g,g):g in f?f[g]:h(g)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,h(v))}),d},r.prototype.setDefaultEdgeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultEdgeLabelFn=u,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return e.values(this._edgeObjs)},r.prototype.setPath=function(u,d){var p=this,f=arguments;return e.reduce(u,function(h,v){return f.length>1?p.setEdge(h,v,d):p.setEdge(h,v),v}),this},r.prototype.setEdge=function(){var u,d,p,f,h=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(u=v.v,d=v.w,p=v.name,arguments.length===2&&(f=arguments[1],h=!0)):(u=v,d=arguments[1],p=arguments[3],arguments.length>2&&(f=arguments[2],h=!0)),u=""+u,d=""+d,e.isUndefined(p)||(p=""+p);var g=s(this._isDirected,u,d,p);if(e.has(this._edgeLabels,g))return h&&(this._edgeLabels[g]=f),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[g]=h?f:this._defaultEdgeLabelFn(u,d,p);var b=l(this._isDirected,u,d,p);return u=b.v,d=b.w,Object.freeze(b),this._edgeObjs[g]=b,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][g]=b,this._out[u][g]=b,this._edgeCount++,this},r.prototype.edge=function(u,d,p){var f=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p);return this._edgeLabels[f]},r.prototype.hasEdge=function(u,d,p){var f=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p);return e.has(this._edgeLabels,f)},r.prototype.removeEdge=function(u,d,p){var f=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p),h=this._edgeObjs[f];return h&&(u=h.v,d=h.w,delete this._edgeLabels[f],delete this._edgeObjs[f],o(this._preds[d],u),o(this._sucs[u],d),delete this._in[d][f],delete this._out[u][f],this._edgeCount--),this},r.prototype.inEdges=function(u,d){var p=this._in[u];if(p){var f=e.values(p);return d?e.filter(f,function(h){return h.v===d}):f}},r.prototype.outEdges=function(u,d){var p=this._out[u];if(p){var f=e.values(p);return d?e.filter(f,function(h){return h.w===d}):f}},r.prototype.nodeEdges=function(u,d){var p=this.inEdges(u,d);if(p)return p.concat(this.outEdges(u,d))};function i(u,d){u[d]?u[d]++:u[d]=1}function o(u,d){--u[d]||delete u[d]}function s(u,d,p,f){var h=""+d,v=""+p;if(!u&&h>v){var g=h;h=v,v=g}return h+a+v+a+(e.isUndefined(f)?t:f)}function l(u,d,p,f){var h=""+d,v=""+p;if(!u&&h>v){var g=h;h=v,v=g}var b={v:h,w:v};return f&&(b.name=f),b}function c(u,d){return s(u,d.v,d.w,d.name)}return vu}var gu,$v;function zF(){return $v||($v=1,gu="2.1.8"),gu}var yu,qv;function UF(){return qv||(qv=1,yu={Graph:sh(),version:zF()}),yu}var bu,Fv;function HF(){if(Fv)return bu;Fv=1;var e=Ht(),t=sh();bu={write:n,read:i};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:a(o),edges:r(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function a(o){return e.map(o.nodes(),function(s){var l=o.node(s),c=o.parent(s),u={v:s};return e.isUndefined(l)||(u.value=l),e.isUndefined(c)||(u.parent=c),u})}function r(o){return e.map(o.edges(),function(s){var l=o.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(l)||(c.value=l),c})}function i(o){var s=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(o.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return bu}var wu,Dv;function WF(){if(Dv)return wu;Dv=1;var e=Ht();wu=t;function t(n){var a={},r=[],i;function o(s){e.has(a,s)||(a[s]=!0,i.push(s),e.each(n.successors(s),o),e.each(n.predecessors(s),o))}return e.each(n.nodes(),function(s){i=[],o(s),i.length&&r.push(i)}),r}return wu}var Su,Ov;function mS(){if(Ov)return Su;Ov=1;var e=Ht();Su=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var a=this._keyIndices[n];if(a!==void 0)return this._arr[a].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,a){var r=this._keyIndices;if(n=String(n),!e.has(r,n)){var i=this._arr,o=i.length;return r[n]=o,i.push({key:n,priority:a}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,a){var r=this._keyIndices[n];if(a>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[r].priority+" New: "+a);this._arr[r].priority=a,this._decrease(r)},t.prototype._heapify=function(n){var a=this._arr,r=2*n,i=r+1,o=n;r<a.length&&(o=a[r].priority<a[o].priority?r:o,i<a.length&&(o=a[i].priority<a[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var a=this._arr,r=a[n].priority,i;n!==0&&(i=n>>1,!(a[i].priority<r));)this._swap(n,i),n=i},t.prototype._swap=function(n,a){var r=this._arr,i=this._keyIndices,o=r[n],s=r[a];r[n]=s,r[a]=o,i[s.key]=n,i[o.key]=a},Su}var _u,Lv;function vS(){if(Lv)return _u;Lv=1;var e=Ht(),t=mS();_u=a;var n=e.constant(1);function a(i,o,s,l){return r(i,String(o),s||n,l||function(c){return i.outEdges(c)})}function r(i,o,s,l){var c={},u=new t,d,p,f=function(h){var v=h.v!==d?h.v:h.w,g=c[v],b=s(h),E=p.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+b);E<g.distance&&(g.distance=E,g.predecessor=d,u.decrease(v,E))};for(i.nodes().forEach(function(h){var v=h===o?0:Number.POSITIVE_INFINITY;c[h]={distance:v},u.add(h,v)});u.size()>0&&(d=u.removeMin(),p=c[d],p.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(f);return c}return _u}var Eu,Vv;function jF(){if(Vv)return Eu;Vv=1;var e=vS(),t=Ht();Eu=n;function n(a,r,i){return t.transform(a.nodes(),function(o,s){o[s]=e(a,s,r,i)},{})}return Eu}var Cu,Mv;function gS(){if(Mv)return Cu;Mv=1;var e=Ht();Cu=t;function t(n){var a=0,r=[],i={},o=[];function s(l){var c=i[l]={onStack:!0,lowlink:a,index:a++};if(r.push(l),n.successors(l).forEach(function(p){e.has(i,p)?i[p].onStack&&(c.lowlink=Math.min(c.lowlink,i[p].index)):(s(p),c.lowlink=Math.min(c.lowlink,i[p].lowlink))}),c.lowlink===c.index){var u=[],d;do d=r.pop(),i[d].onStack=!1,u.push(d);while(l!==d);o.push(u)}}return n.nodes().forEach(function(l){e.has(i,l)||s(l)}),o}return Cu}var xu,Bv;function QF(){if(Bv)return xu;Bv=1;var e=Ht(),t=gS();xu=n;function n(a){return e.filter(t(a),function(r){return r.length>1||r.length===1&&a.hasEdge(r[0],r[0])})}return xu}var Nu,zv;function GF(){if(zv)return Nu;zv=1;var e=Ht();Nu=n;var t=e.constant(1);function n(r,i,o){return a(r,i||t,o||function(s){return r.outEdges(s)})}function a(r,i,o){var s={},l=r.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(u){c!==u&&(s[c][u]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(u){var d=u.v===c?u.w:u.v,p=i(u);s[c][d]={distance:p,predecessor:c}})}),l.forEach(function(c){var u=s[c];l.forEach(function(d){var p=s[d];l.forEach(function(f){var h=p[c],v=u[f],g=p[f],b=h.distance+v.distance;b<g.distance&&(g.distance=b,g.predecessor=v.predecessor)})})}),s}return Nu}var Iu,Uv;function yS(){if(Uv)return Iu;Uv=1;var e=Ht();Iu=t,t.CycleException=n;function t(a){var r={},i={},o=[];function s(l){if(e.has(i,l))throw new n;e.has(r,l)||(i[l]=!0,r[l]=!0,e.each(a.predecessors(l),s),delete i[l],o.push(l))}if(e.each(a.sinks(),s),e.size(r)!==a.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,Iu}var Tu,Hv;function YF(){if(Hv)return Tu;Hv=1;var e=yS();Tu=t;function t(n){try{e(n)}catch(a){if(a instanceof e.CycleException)return!1;throw a}return!0}return Tu}var Ru,Wv;function bS(){if(Wv)return Ru;Wv=1;var e=Ht();Ru=t;function t(a,r,i){e.isArray(r)||(r=[r]);var o=(a.isDirected()?a.successors:a.neighbors).bind(a),s=[],l={};return e.each(r,function(c){if(!a.hasNode(c))throw new Error("Graph does not have node: "+c);n(a,c,i==="post",l,o,s)}),s}function n(a,r,i,o,s,l){e.has(o,r)||(o[r]=!0,i||l.push(r),e.each(s(r),function(c){n(a,c,i,o,s,l)}),i&&l.push(r))}return Ru}var Pu,jv;function XF(){if(jv)return Pu;jv=1;var e=bS();Pu=t;function t(n,a){return e(n,a,"post")}return Pu}var Au,Qv;function KF(){if(Qv)return Au;Qv=1;var e=bS();Au=t;function t(n,a){return e(n,a,"pre")}return Au}var ku,Gv;function ZF(){if(Gv)return ku;Gv=1;var e=Ht(),t=sh(),n=mS();ku=a;function a(r,i){var o=new t,s={},l=new n,c;function u(p){var f=p.v===c?p.w:p.v,h=l.priority(f);if(h!==void 0){var v=i(p);v<h&&(s[f]=c,l.decrease(f,v))}}if(r.nodeCount()===0)return o;e.each(r.nodes(),function(p){l.add(p,Number.POSITIVE_INFINITY),o.setNode(p)}),l.decrease(r.nodes()[0],0);for(var d=!1;l.size()>0;){if(c=l.removeMin(),e.has(s,c))o.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+r);d=!0}r.nodeEdges(c).forEach(u)}return o}return ku}var $u,Yv;function JF(){return Yv||(Yv=1,$u={components:WF(),dijkstra:vS(),dijkstraAll:jF(),findCycles:QF(),floydWarshall:GF(),isAcyclic:YF(),postorder:XF(),preorder:KF(),prim:ZF(),tarjan:gS(),topsort:yS()}),$u}var qu,Xv;function eD(){if(Xv)return qu;Xv=1;var e=UF();return qu={Graph:e.Graph,json:HF(),alg:JF(),version:e.version},qu}var Ko;if(typeof Vs=="function")try{Ko=eD()}catch{}Ko||(Ko=window.graphlib);var er=Ko,tD=kp,rD=kn,nD=V1,aD=Ti;function iD(e,t,n){if(!aD(n))return!1;var a=typeof t;return(a=="number"?rD(n)&&nD(t,n.length):a=="string"&&t in n)?tD(n[t],e):!1}var al=iD,oD=sn,sD=kp,lD=al,uD=Ms,wS=Object.prototype,cD=wS.hasOwnProperty,dD=oD(function(e,t){e=Object(e);var n=-1,a=t.length,r=a>2?t[2]:void 0;for(r&&lD(t[0],t[1],r)&&(a=1);++n<a;)for(var i=t[n],o=uD(i),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(u===void 0||sD(u,wS[c])&&!cD.call(e,c))&&(e[c]=i[c])}return e}),SS=dD,Fu,Kv;function fD(){if(Kv)return Fu;Kv=1;var e=tn,t=kn,n=Ap;function a(r){return function(i,o,s){var l=Object(i);if(!t(i)){var c=e(o);i=n(i),o=function(d){return c(l[d],d,l)}}var u=r(i,o,s);return u>-1?l[c?i[u]:u]:void 0}}return Fu=a,Fu}var Du,Zv;function _S(){if(Zv)return Du;Zv=1;var e=Y1,t=1/0,n=17976931348623157e292;function a(r){if(!r)return r===0?r:0;if(r=e(r),r===t||r===-t){var i=r<0?-1:1;return i*n}return r===r?r:0}return Du=a,Du}var Ou,Jv;function pD(){if(Jv)return Ou;Jv=1;var e=_S();function t(n){var a=e(n),r=a%1;return a===a?r?a-r:a:0}return Ou=t,Ou}var Lu,eg;function hD(){if(eg)return Lu;eg=1;var e=E1,t=tn,n=pD(),a=Math.max;function r(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=a(l+c,0)),e(i,t(o),c)}return Lu=r,Lu}var Vu,tg;function mD(){if(tg)return Vu;tg=1;var e=fD(),t=hD(),n=e(t);return Vu=n,Vu}var vD=rl;function gD(e){var t=e==null?0:e.length;return t?vD(e,1):[]}var lh=gD,Mu,rg;function yD(){if(rg)return Mu;rg=1;var e=Mb,t=eS,n=Ms;function a(r,i){return r==null?r:e(r,t(i),n)}return Mu=a,Mu}function bD(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ES=bD,Bu,ng;function uh(){if(ng)return Bu;ng=1;var e=Bb;function t(n,a,r){for(var i=-1,o=n.length;++i<o;){var s=n[i],l=a(s);if(l!=null&&(c===void 0?l===l&&!e(l):r(l,c)))var c=l,u=s}return u}return Bu=t,Bu}var zu,ag;function wD(){if(ag)return zu;ag=1;function e(t,n){return t>n}return zu=e,zu}var Uu,ig;function SD(){if(ig)return Uu;ig=1;var e=uh(),t=wD(),n=ya;function a(r){return r&&r.length?e(r,n,t):void 0}return Uu=a,Uu}var _D=M1,ED=kp;function CD(e,t,n){(n!==void 0&&!ED(e[t],n)||n===void 0&&!(t in e))&&_D(e,t,n)}var CS=CD;function xD(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var xS=xD,ND=C1,ID=Ms;function TD(e){return ND(e,ID(e))}var RD=TD,og=CS,PD=x1,AD=N1,kD=Ab,$D=I1,sg=Ip,lg=dr,qD=nl,FD=Tp,DD=Pp,OD=Ti,LD=$p,VD=Rp,ug=xS,MD=RD;function BD(e,t,n,a,r,i,o){var s=ug(e,n),l=ug(t,n),c=o.get(l);if(c){og(e,n,c);return}var u=i?i(s,l,n+"",e,t,o):void 0,d=u===void 0;if(d){var p=lg(l),f=!p&&FD(l),h=!p&&!f&&VD(l);u=l,p||f||h?lg(s)?u=s:qD(s)?u=kD(s):f?(d=!1,u=PD(l,!0)):h?(d=!1,u=AD(l,!0)):u=[]:LD(l)||sg(l)?(u=s,sg(s)?u=MD(s):(!OD(s)||DD(s))&&(u=$D(l))):d=!1}d&&(o.set(l,u),r(u,l,a,i,o),o.delete(l)),og(e,n,u)}var zD=BD,UD=B1,HD=CS,WD=Mb,jD=zD,QD=Ti,GD=Ms,YD=xS;function NS(e,t,n,a,r){e!==t&&WD(t,function(i,o){if(r||(r=new UD),QD(i))jD(e,t,o,n,NS,a,r);else{var s=a?a(YD(e,o),i,o+"",e,t,r):void 0;s===void 0&&(s=i),HD(e,o,s)}},GD)}var ch=NS,XD=sn,KD=al;function ZD(e){return XD(function(t,n){var a=-1,r=n.length,i=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,o&&KD(n[0],n[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++a<r;){var s=n[a];s&&e(t,s,a,i)}return t})}var IS=ZD,Hu,cg;function JD(){if(cg)return Hu;cg=1;var e=ch,t=IS,n=t(function(a,r,i){e(a,r,i)});return Hu=n,Hu}var Wu,dg;function TS(){if(dg)return Wu;dg=1;function e(t,n){return t<n}return Wu=e,Wu}var ju,fg;function e2(){if(fg)return ju;fg=1;var e=uh(),t=TS(),n=ya;function a(r){return r&&r.length?e(r,n,t):void 0}return ju=a,ju}var Qu,pg;function t2(){if(pg)return Qu;pg=1;var e=uh(),t=tn,n=TS();function a(r,i){return r&&r.length?e(r,t(i),n):void 0}return Qu=a,Qu}var r2=T1,n2=z1;function a2(e,t){return r2(e,t,function(n,a){return n2(e,a)})}var i2=a2,o2=lh,s2=dS,l2=fS;function u2(e){return l2(s2(e,void 0,o2),e+"")}var c2=u2,d2=i2,f2=c2,p2=f2(function(e,t){return e==null?{}:d2(e,t)}),RS=p2;const pj=It(RS);var Gu,hg;function h2(){if(hg)return Gu;hg=1;var e=Math.ceil,t=Math.max;function n(a,r,i,o){for(var s=-1,l=t(e((r-a)/(i||1)),0),c=Array(l);l--;)c[o?l:++s]=a,a+=i;return c}return Gu=n,Gu}var Yu,mg;function m2(){if(mg)return Yu;mg=1;var e=h2(),t=al,n=_S();function a(r){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),s=s===void 0?i<o?1:-1:n(s),e(i,o,s,r)}}return Yu=a,Yu}var Xu,vg;function v2(){if(vg)return Xu;vg=1;var e=m2(),t=e();return Xu=t,Xu}function g2(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var y2=g2,gg=Bb;function b2(e,t){if(e!==t){var n=e!==void 0,a=e===null,r=e===e,i=gg(e),o=t!==void 0,s=t===null,l=t===t,c=gg(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||a&&o&&l||!n&&l||!r)return 1;if(!a&&!i&&!c&&e<t||c&&n&&r&&!a&&!i||s&&n&&r||!o&&r||!l)return-1}return 0}var w2=b2,S2=w2;function _2(e,t,n){for(var a=-1,r=e.criteria,i=t.criteria,o=r.length,s=n.length;++a<o;){var l=S2(r[a],i[a]);if(l){if(a>=s)return l;var c=n[a];return l*(c=="desc"?-1:1)}}return e.index-t.index}var E2=_2,Ku=rn,C2=U1,x2=tn,N2=oS,I2=y2,T2=Bs,R2=E2,P2=ya,A2=dr;function k2(e,t,n){t.length?t=Ku(t,function(i){return A2(i)?function(o){return C2(o,i.length===1?i[0]:i)}:i}):t=[P2];var a=-1;t=Ku(t,T2(x2));var r=N2(e,function(i,o,s){var l=Ku(t,function(c){return c(i)});return{criteria:l,index:++a,value:i}});return I2(r,function(i,o){return R2(i,o,n)})}var $2=k2,q2=rl,F2=$2,D2=sn,yg=al,O2=D2(function(e,t){if(e==null)return[];var n=t.length;return n>1&&yg(e,t[0],t[1])?t=[]:n>2&&yg(t[0],t[1],t[2])&&(t=[t[0]]),F2(e,q2(t,1),[])}),dh=O2,Zu,bg;function L2(){if(bg)return Zu;bg=1;var e=H1,t=0;function n(a){var r=++t;return e(a)+r}return Zu=n,Zu}var Ju,wg;function V2(){if(wg)return Ju;wg=1;function e(t,n,a){for(var r=-1,i=t.length,o=n.length,s={};++r<i;){var l=r<o?n[r]:void 0;a(s,t[r],l)}return s}return Ju=e,Ju}var ec,Sg;function M2(){if(Sg)return ec;Sg=1;var e=R1,t=V2();function n(a,r){return t(a||[],r||[],e)}return ec=n,ec}var Zo;if(typeof Vs=="function")try{Zo={cloneDeep:kb,constant:ih(),defaults:SS,each:tS(),filter:rS(),find:mD(),flatten:lh,forEach:oh,forIn:yD(),has:nS(),isUndefined:iS(),last:ES,map:sS(),mapValues:W1,max:SD(),merge:JD(),min:e2(),minBy:t2(),now:X1(),pick:RS,range:v2(),reduce:lS(),sortBy:dh,uniqueId:L2(),values:hS(),zipObject:M2()}}catch{}Zo||(Zo=window._);var et=Zo,B2=il;function il(){var e={};e._next=e._prev=e,this._sentinel=e}il.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return PS(t),t};il.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&PS(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};il.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,z2)),n=n._prev;return"["+e.join(", ")+"]"};function PS(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function z2(e,t){if(e!=="_next"&&e!=="_prev")return t}var _r=et,U2=er.Graph,H2=B2,W2=Q2,j2=_r.constant(1);function Q2(e,t){if(e.nodeCount()<=1)return[];var n=Y2(e,t||j2),a=G2(n.graph,n.buckets,n.zeroIdx);return _r.flatten(_r.map(a,function(r){return e.outEdges(r.v,r.w)}),!0)}function G2(e,t,n){for(var a=[],r=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)tc(e,t,n,o);for(;o=r.dequeue();)tc(e,t,n,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){a=a.concat(tc(e,t,n,o,!0));break}}}return a}function tc(e,t,n,a,r){var i=r?[]:void 0;return _r.forEach(e.inEdges(a.v),function(o){var s=e.edge(o),l=e.node(o.v);r&&i.push({v:o.v,w:o.w}),l.out-=s,Ed(t,n,l)}),_r.forEach(e.outEdges(a.v),function(o){var s=e.edge(o),l=o.w,c=e.node(l);c.in-=s,Ed(t,n,c)}),e.removeNode(a.v),i}function Y2(e,t){var n=new U2,a=0,r=0;_r.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),_r.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,c=t(s),u=l+c;n.setEdge(s.v,s.w,u),r=Math.max(r,n.node(s.v).out+=c),a=Math.max(a,n.node(s.w).in+=c)});var i=_r.range(r+a+3).map(function(){return new H2}),o=a+1;return _r.forEach(n.nodes(),function(s){Ed(i,o,n.node(s))}),{graph:n,buckets:i,zeroIdx:o}}function Ed(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var vn=et,X2=W2,K2={run:Z2,undo:eO};function Z2(e){var t=e.graph().acyclicer==="greedy"?X2(e,n(e)):J2(e);vn.forEach(t,function(a){var r=e.edge(a);e.removeEdge(a),r.forwardName=a.name,r.reversed=!0,e.setEdge(a.w,a.v,r,vn.uniqueId("rev"))});function n(a){return function(r){return a.edge(r).weight}}}function J2(e){var t=[],n={},a={};function r(i){vn.has(a,i)||(a[i]=!0,n[i]=!0,vn.forEach(e.outEdges(i),function(o){vn.has(n,o.w)?t.push(o):r(o.w)}),delete n[i])}return vn.forEach(e.nodes(),r),t}function eO(e){vn.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var a=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,a)}})}var De=et,AS=er.Graph,xt={addDummyNode:kS,simplify:tO,asNonCompoundGraph:rO,successorWeights:nO,predecessorWeights:aO,intersectRect:iO,buildLayerMatrix:oO,normalizeRanks:sO,removeEmptyRanks:lO,addBorderNode:uO,maxRank:$S,partition:cO,time:dO,notime:fO};function kS(e,t,n,a){var r;do r=De.uniqueId(a);while(e.hasNode(r));return n.dummy=t,e.setNode(r,n),r}function tO(e){var t=new AS().setGraph(e.graph());return De.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),De.forEach(e.edges(),function(n){var a=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:a.weight+r.weight,minlen:Math.max(a.minlen,r.minlen)})}),t}function rO(e){var t=new AS({multigraph:e.isMultigraph()}).setGraph(e.graph());return De.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),De.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function nO(e){var t=De.map(e.nodes(),function(n){var a={};return De.forEach(e.outEdges(n),function(r){a[r.w]=(a[r.w]||0)+e.edge(r).weight}),a});return De.zipObject(e.nodes(),t)}function aO(e){var t=De.map(e.nodes(),function(n){var a={};return De.forEach(e.inEdges(n),function(r){a[r.v]=(a[r.v]||0)+e.edge(r).weight}),a});return De.zipObject(e.nodes(),t)}function iO(e,t){var n=e.x,a=e.y,r=t.x-n,i=t.y-a,o=e.width/2,s=e.height/2;if(!r&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(i)*o>Math.abs(r)*s?(i<0&&(s=-s),l=s*r/i,c=s):(r<0&&(o=-o),l=o,c=o*i/r),{x:n+l,y:a+c}}function oO(e){var t=De.map(De.range($S(e)+1),function(){return[]});return De.forEach(e.nodes(),function(n){var a=e.node(n),r=a.rank;De.isUndefined(r)||(t[r][a.order]=n)}),t}function sO(e){var t=De.min(De.map(e.nodes(),function(n){return e.node(n).rank}));De.forEach(e.nodes(),function(n){var a=e.node(n);De.has(a,"rank")&&(a.rank-=t)})}function lO(e){var t=De.min(De.map(e.nodes(),function(i){return e.node(i).rank})),n=[];De.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;n[o]||(n[o]=[]),n[o].push(i)});var a=0,r=e.graph().nodeRankFactor;De.forEach(n,function(i,o){De.isUndefined(i)&&o%r!==0?--a:a&&De.forEach(i,function(s){e.node(s).rank+=a})})}function uO(e,t,n,a){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=a),kS(e,"border",r,t)}function $S(e){return De.max(De.map(e.nodes(),function(t){var n=e.node(t).rank;if(!De.isUndefined(n))return n}))}function cO(e,t){var n={lhs:[],rhs:[]};return De.forEach(e,function(a){t(a)?n.lhs.push(a):n.rhs.push(a)}),n}function dO(e,t){var n=De.now();try{return t()}finally{console.log(e+" time: "+(De.now()-n)+"ms")}}function fO(e,t){return t()}var qS=et,pO=xt,hO={run:mO,undo:gO};function mO(e){e.graph().dummyChains=[],qS.forEach(e.edges(),function(t){vO(e,t)})}function vO(e,t){var n=t.v,a=e.node(n).rank,r=t.w,i=e.node(r).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(i!==a+1){e.removeEdge(t);var c,u,d;for(d=0,++a;a<i;++d,++a)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:t,rank:a},c=pO.addDummyNode(e,"edge",u,"_d"),a===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,r,{weight:s.weight},o)}}function gO(e){qS.forEach(e.graph().dummyChains,function(t){var n=e.node(t),a=n.edgeLabel,r;for(e.setEdge(n.edgeObj,a);n.dummy;)r=e.successors(t)[0],e.removeNode(t),a.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),t=r,n=e.node(t)})}var so=et,ol={longestPath:yO,slack:bO};function yO(e){var t={};function n(a){var r=e.node(a);if(so.has(t,a))return r.rank;t[a]=!0;var i=so.min(so.map(e.outEdges(a),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),r.rank=i}so.forEach(e.sources(),n)}function bO(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Jo=et,wO=er.Graph,es=ol.slack,FS=SO;function SO(e){var t=new wO({directed:!1}),n=e.nodes()[0],a=e.nodeCount();t.setNode(n,{});for(var r,i;_O(t,e)<a;)r=EO(t,e),i=t.hasNode(r.v)?es(e,r):-es(e,r),CO(t,e,i);return t}function _O(e,t){function n(a){Jo.forEach(t.nodeEdges(a),function(r){var i=r.v,o=a===i?r.w:i;!e.hasNode(o)&&!es(t,r)&&(e.setNode(o,{}),e.setEdge(a,o,{}),n(o))})}return Jo.forEach(e.nodes(),n),e.nodeCount()}function EO(e,t){return Jo.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return es(t,n)})}function CO(e,t,n){Jo.forEach(e.nodes(),function(a){t.node(a).rank+=n})}var Ir=et,xO=FS,NO=ol.slack,IO=ol.longestPath,TO=er.alg.preorder,RO=er.alg.postorder,PO=xt.simplify,AO=qn;qn.initLowLimValues=ph;qn.initCutValues=fh;qn.calcCutValue=DS;qn.leaveEdge=LS;qn.enterEdge=VS;qn.exchangeEdges=MS;function qn(e){e=PO(e),IO(e);var t=xO(e);ph(t),fh(t,e);for(var n,a;n=LS(t);)a=VS(t,e,n),MS(t,e,n,a)}function fh(e,t){var n=RO(e,e.nodes());n=n.slice(0,n.length-1),Ir.forEach(n,function(a){kO(e,t,a)})}function kO(e,t,n){var a=e.node(n),r=a.parent;e.edge(n,r).cutvalue=DS(e,t,n)}function DS(e,t,n){var a=e.node(n),r=a.parent,i=!0,o=t.edge(n,r),s=0;return o||(i=!1,o=t.edge(r,n)),s=o.weight,Ir.forEach(t.nodeEdges(n),function(l){var c=l.v===n,u=c?l.w:l.v;if(u!==r){var d=c===i,p=t.edge(l).weight;if(s+=d?p:-p,qO(e,n,u)){var f=e.edge(n,u).cutvalue;s+=d?-f:f}}}),s}function ph(e,t){arguments.length<2&&(t=e.nodes()[0]),OS(e,{},1,t)}function OS(e,t,n,a,r){var i=n,o=e.node(a);return t[a]=!0,Ir.forEach(e.neighbors(a),function(s){Ir.has(t,s)||(n=OS(e,t,n,s,a))}),o.low=i,o.lim=n++,r?o.parent=r:delete o.parent,n}function LS(e){return Ir.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function VS(e,t,n){var a=n.v,r=n.w;t.hasEdge(a,r)||(a=n.w,r=n.v);var i=e.node(a),o=e.node(r),s=i,l=!1;i.lim>o.lim&&(s=o,l=!0);var c=Ir.filter(t.edges(),function(u){return l===_g(e,e.node(u.v),s)&&l!==_g(e,e.node(u.w),s)});return Ir.minBy(c,function(u){return NO(t,u)})}function MS(e,t,n,a){var r=n.v,i=n.w;e.removeEdge(r,i),e.setEdge(a.v,a.w,{}),ph(e),fh(e,t),$O(e,t)}function $O(e,t){var n=Ir.find(e.nodes(),function(r){return!t.node(r).parent}),a=TO(e,n);a=a.slice(1),Ir.forEach(a,function(r){var i=e.node(r).parent,o=t.edge(r,i),s=!1;o||(o=t.edge(i,r),s=!0),t.node(r).rank=t.node(i).rank+(s?o.minlen:-o.minlen)})}function qO(e,t,n){return e.hasEdge(t,n)}function _g(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var FO=ol,BS=FO.longestPath,DO=FS,OO=AO,LO=VO;function VO(e){switch(e.graph().ranker){case"network-simplex":Eg(e);break;case"tight-tree":BO(e);break;case"longest-path":MO(e);break;default:Eg(e)}}var MO=BS;function BO(e){BS(e),DO(e)}function Eg(e){OO(e)}var Cd=et,zO=UO;function UO(e){var t=WO(e);Cd.forEach(e.graph().dummyChains,function(n){for(var a=e.node(n),r=a.edgeObj,i=HO(e,t,r.v,r.w),o=i.path,s=i.lca,l=0,c=o[l],u=!0;n!==r.w;){if(a=e.node(n),u){for(;(c=o[l])!==s&&e.node(c).maxRank<a.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<o.length-1&&e.node(c=o[l+1]).minRank<=a.rank;)l++;c=o[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function HO(e,t,n,a){var r=[],i=[],o=Math.min(t[n].low,t[a].low),s=Math.max(t[n].lim,t[a].lim),l,c;l=n;do l=e.parent(l),r.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(c=l,l=a;(l=e.parent(l))!==c;)i.push(l);return{path:r.concat(i.reverse()),lca:c}}function WO(e){var t={},n=0;function a(r){var i=n;Cd.forEach(e.children(r),a),t[r]={low:i,lim:n++}}return Cd.forEach(e.children(),a),t}var Er=et,xd=xt,jO={run:QO,cleanup:XO};function QO(e){var t=xd.addDummyNode(e,"root",{},"_root"),n=GO(e),a=Er.max(Er.values(n))-1,r=2*a+1;e.graph().nestingRoot=t,Er.forEach(e.edges(),function(o){e.edge(o).minlen*=r});var i=YO(e)+1;Er.forEach(e.children(),function(o){zS(e,t,r,i,a,n,o)}),e.graph().nodeRankFactor=r}function zS(e,t,n,a,r,i,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=xd.addBorderNode(e,"_bt"),c=xd.addBorderNode(e,"_bb"),u=e.node(o);e.setParent(l,o),u.borderTop=l,e.setParent(c,o),u.borderBottom=c,Er.forEach(s,function(d){zS(e,t,n,a,r,i,d);var p=e.node(d),f=p.borderTop?p.borderTop:d,h=p.borderBottom?p.borderBottom:d,v=p.borderTop?a:2*a,g=f!==h?1:r-i[o]+1;e.setEdge(l,f,{weight:v,minlen:g,nestingEdge:!0}),e.setEdge(h,c,{weight:v,minlen:g,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:r+i[o]})}function GO(e){var t={};function n(a,r){var i=e.children(a);i&&i.length&&Er.forEach(i,function(o){n(o,r+1)}),t[a]=r}return Er.forEach(e.children(),function(a){n(a,1)}),t}function YO(e){return Er.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function XO(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Er.forEach(e.edges(),function(n){var a=e.edge(n);a.nestingEdge&&e.removeEdge(n)})}var rc=et,KO=xt,ZO=JO;function JO(e){function t(n){var a=e.children(n),r=e.node(n);if(a.length&&rc.forEach(a,t),rc.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,o=r.maxRank+1;i<o;++i)Cg(e,"borderLeft","_bl",n,r,i),Cg(e,"borderRight","_br",n,r,i)}}rc.forEach(e.children(),t)}function Cg(e,t,n,a,r,i){var o={width:0,height:0,rank:i,borderType:t},s=r[t][i-1],l=KO.addDummyNode(e,"border",o,n);r[t][i]=l,e.setParent(l,a),s&&e.setEdge(s,l,{weight:1})}var or=et,eL={adjust:tL,undo:rL};function tL(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&US(e)}function rL(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&nL(e),(t==="lr"||t==="rl")&&(aL(e),US(e))}function US(e){or.forEach(e.nodes(),function(t){xg(e.node(t))}),or.forEach(e.edges(),function(t){xg(e.edge(t))})}function xg(e){var t=e.width;e.width=e.height,e.height=t}function nL(e){or.forEach(e.nodes(),function(t){nc(e.node(t))}),or.forEach(e.edges(),function(t){var n=e.edge(t);or.forEach(n.points,nc),or.has(n,"y")&&nc(n)})}function nc(e){e.y=-e.y}function aL(e){or.forEach(e.nodes(),function(t){ac(e.node(t))}),or.forEach(e.edges(),function(t){var n=e.edge(t);or.forEach(n.points,ac),or.has(n,"x")&&ac(n)})}function ac(e){var t=e.x;e.x=e.y,e.y=t}var yr=et,iL=oL;function oL(e){var t={},n=yr.filter(e.nodes(),function(s){return!e.children(s).length}),a=yr.max(yr.map(n,function(s){return e.node(s).rank})),r=yr.map(yr.range(a+1),function(){return[]});function i(s){if(!yr.has(t,s)){t[s]=!0;var l=e.node(s);r[l.rank].push(s),yr.forEach(e.successors(s),i)}}var o=yr.sortBy(n,function(s){return e.node(s).rank});return yr.forEach(o,i),r}var qr=et,sL=lL;function lL(e,t){for(var n=0,a=1;a<t.length;++a)n+=uL(e,t[a-1],t[a]);return n}function uL(e,t,n){for(var a=qr.zipObject(n,qr.map(n,function(c,u){return u})),r=qr.flatten(qr.map(t,function(c){return qr.sortBy(qr.map(e.outEdges(c),function(u){return{pos:a[u.w],weight:e.edge(u).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var s=qr.map(new Array(o),function(){return 0}),l=0;return qr.forEach(r.forEach(function(c){var u=c.pos+i;s[u]+=c.weight;for(var d=0;u>0;)u%2&&(d+=s[u+1]),u=u-1>>1,s[u]+=c.weight;l+=c.weight*d})),l}var Ng=et,cL=dL;function dL(e,t){return Ng.map(t,function(n){var a=e.inEdges(n);if(a.length){var r=Ng.reduce(a,function(i,o){var s=e.edge(o),l=e.node(o.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:n}})}var At=et,fL=pL;function pL(e,t){var n={};At.forEach(e,function(r,i){var o=n[r.v]={indegree:0,in:[],out:[],vs:[r.v],i};At.isUndefined(r.barycenter)||(o.barycenter=r.barycenter,o.weight=r.weight)}),At.forEach(t.edges(),function(r){var i=n[r.v],o=n[r.w];!At.isUndefined(i)&&!At.isUndefined(o)&&(o.indegree++,i.out.push(n[r.w]))});var a=At.filter(n,function(r){return!r.indegree});return hL(a)}function hL(e){var t=[];function n(i){return function(o){o.merged||(At.isUndefined(o.barycenter)||At.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&mL(i,o)}}function a(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var r=e.pop();t.push(r),At.forEach(r.in.reverse(),n(r)),At.forEach(r.out,a(r))}return At.map(At.filter(t,function(i){return!i.merged}),function(i){return At.pick(i,["vs","i","barycenter","weight"])})}function mL(e,t){var n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0}var za=et,vL=xt,gL=yL;function yL(e,t){var n=vL.partition(e,function(u){return za.has(u,"barycenter")}),a=n.lhs,r=za.sortBy(n.rhs,function(u){return-u.i}),i=[],o=0,s=0,l=0;a.sort(bL(!!t)),l=Ig(i,r,l),za.forEach(a,function(u){l+=u.vs.length,i.push(u.vs),o+=u.barycenter*u.weight,s+=u.weight,l=Ig(i,r,l)});var c={vs:za.flatten(i,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function Ig(e,t,n){for(var a;t.length&&(a=za.last(t)).i<=n;)t.pop(),e.push(a.vs),n++;return n}function bL(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var zr=et,wL=cL,SL=fL,_L=gL,EL=HS;function HS(e,t,n,a){var r=e.children(t),i=e.node(t),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,l={};o&&(r=zr.filter(r,function(h){return h!==o&&h!==s}));var c=wL(e,r);zr.forEach(c,function(h){if(e.children(h.v).length){var v=HS(e,h.v,n,a);l[h.v]=v,zr.has(v,"barycenter")&&xL(h,v)}});var u=SL(c,n);CL(u,l);var d=_L(u,a);if(o&&(d.vs=zr.flatten([o,d.vs,s],!0),e.predecessors(o).length)){var p=e.node(e.predecessors(o)[0]),f=e.node(e.predecessors(s)[0]);zr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+f.order)/(d.weight+2),d.weight+=2}return d}function CL(e,t){zr.forEach(e,function(n){n.vs=zr.flatten(n.vs.map(function(a){return t[a]?t[a].vs:a}),!0)})}function xL(e,t){zr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ua=et,NL=er.Graph,IL=TL;function TL(e,t,n){var a=RL(e),r=new NL({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(i){return e.node(i)});return Ua.forEach(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(r.setNode(i),r.setParent(i,s||a),Ua.forEach(e[n](i),function(l){var c=l.v===i?l.w:l.v,u=r.edge(c,i),d=Ua.isUndefined(u)?0:u.weight;r.setEdge(c,i,{weight:e.edge(l).weight+d})}),Ua.has(o,"minRank")&&r.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),r}function RL(e){for(var t;e.hasNode(t=Ua.uniqueId("_root")););return t}var PL=et,AL=kL;function kL(e,t,n){var a={},r;PL.forEach(n,function(i){for(var o=e.parent(i),s,l;o;){if(s=e.parent(o),s?(l=a[s],a[s]=o):(l=r,r=o),l&&l!==o){t.setEdge(l,o);return}o=s}})}var Gr=et,$L=iL,qL=sL,FL=EL,DL=IL,OL=AL,LL=er.Graph,Tg=xt,VL=ML;function ML(e){var t=Tg.maxRank(e),n=Rg(e,Gr.range(1,t+1),"inEdges"),a=Rg(e,Gr.range(t-1,-1,-1),"outEdges"),r=$L(e);Pg(e,r);for(var i=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){BL(s%2?n:a,s%4>=2),r=Tg.buildLayerMatrix(e);var c=qL(e,r);c<i&&(l=0,o=Gr.cloneDeep(r),i=c)}Pg(e,o)}function Rg(e,t,n){return Gr.map(t,function(a){return DL(e,a,n)})}function BL(e,t){var n=new LL;Gr.forEach(e,function(a){var r=a.graph().root,i=FL(a,r,n,t);Gr.forEach(i.vs,function(o,s){a.node(o).order=s}),OL(a,n,i.vs)})}function Pg(e,t){Gr.forEach(t,function(n){Gr.forEach(n,function(a,r){e.node(a).order=r})})}var _e=et,zL=er.Graph,UL=xt,HL={positionX:QL,findType1Conflicts:WS,findType2Conflicts:jS,addConflict:hh,hasConflict:QS,verticalAlignment:GS,horizontalCompaction:YS,alignCoordinates:KS,findSmallestWidthAlignment:XS,balance:ZS};function WS(e,t){var n={};function a(r,i){var o=0,s=0,l=r.length,c=_e.last(i);return _e.forEach(i,function(u,d){var p=WL(e,u),f=p?e.node(p).order:l;(p||u===c)&&(_e.forEach(i.slice(s,d+1),function(h){_e.forEach(e.predecessors(h),function(v){var g=e.node(v),b=g.order;(b<o||f<b)&&!(g.dummy&&e.node(h).dummy)&&hh(n,v,h)})}),s=d+1,o=f)}),i}return _e.reduce(t,a),n}function jS(e,t){var n={};function a(i,o,s,l,c){var u;_e.forEach(_e.range(o,s),function(d){u=i[d],e.node(u).dummy&&_e.forEach(e.predecessors(u),function(p){var f=e.node(p);f.dummy&&(f.order<l||f.order>c)&&hh(n,p,u)})})}function r(i,o){var s=-1,l,c=0;return _e.forEach(o,function(u,d){if(e.node(u).dummy==="border"){var p=e.predecessors(u);p.length&&(l=e.node(p[0]).order,a(o,c,d,s,l),c=d,s=l)}a(o,c,o.length,l,i.length)}),o}return _e.reduce(t,r),n}function WL(e,t){if(e.node(t).dummy)return _e.find(e.predecessors(t),function(n){return e.node(n).dummy})}function hh(e,t,n){if(t>n){var a=t;t=n,n=a}var r=e[t];r||(e[t]=r={}),r[n]=!0}function QS(e,t,n){if(t>n){var a=t;t=n,n=a}return _e.has(e[t],n)}function GS(e,t,n,a){var r={},i={},o={};return _e.forEach(t,function(s){_e.forEach(s,function(l,c){r[l]=l,i[l]=l,o[l]=c})}),_e.forEach(t,function(s){var l=-1;_e.forEach(s,function(c){var u=a(c);if(u.length){u=_e.sortBy(u,function(v){return o[v]});for(var d=(u.length-1)/2,p=Math.floor(d),f=Math.ceil(d);p<=f;++p){var h=u[p];i[c]===c&&l<o[h]&&!QS(n,c,h)&&(i[h]=c,i[c]=r[c]=r[h],l=o[h])}}})}),{root:r,align:i}}function YS(e,t,n,a,r){var i={},o=jL(e,t,n,r),s=r?"borderLeft":"borderRight";function l(d,p){for(var f=o.nodes(),h=f.pop(),v={};h;)v[h]?d(h):(v[h]=!0,f.push(h),f=f.concat(p(h))),h=f.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(p,f){return Math.max(p,i[f.v]+o.edge(f))},0)}function u(d){var p=o.outEdges(d).reduce(function(h,v){return Math.min(h,i[v.w]-o.edge(v))},Number.POSITIVE_INFINITY),f=e.node(d);p!==Number.POSITIVE_INFINITY&&f.borderType!==s&&(i[d]=Math.max(i[d],p))}return l(c,o.predecessors.bind(o)),l(u,o.successors.bind(o)),_e.forEach(a,function(d){i[d]=i[n[d]]}),i}function jL(e,t,n,a){var r=new zL,i=e.graph(),o=GL(i.nodesep,i.edgesep,a);return _e.forEach(t,function(s){var l;_e.forEach(s,function(c){var u=n[c];if(r.setNode(u),l){var d=n[l],p=r.edge(d,u);r.setEdge(d,u,Math.max(o(e,c,l),p||0))}l=c})}),r}function XS(e,t){return _e.minBy(_e.values(t),function(n){var a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return _e.forIn(n,function(i,o){var s=YL(e,o)/2;a=Math.max(i+s,a),r=Math.min(i-s,r)}),a-r})}function KS(e,t){var n=_e.values(t),a=_e.min(n),r=_e.max(n);_e.forEach(["u","d"],function(i){_e.forEach(["l","r"],function(o){var s=i+o,l=e[s],c;if(l!==t){var u=_e.values(l);c=o==="l"?a-_e.min(u):r-_e.max(u),c&&(e[s]=_e.mapValues(l,function(d){return d+c}))}})})}function ZS(e,t){return _e.mapValues(e.ul,function(n,a){if(t)return e[t.toLowerCase()][a];var r=_e.sortBy(_e.map(e,a));return(r[1]+r[2])/2})}function QL(e){var t=UL.buildLayerMatrix(e),n=_e.merge(WS(e,t),jS(e,t)),a={},r;_e.forEach(["u","d"],function(o){r=o==="u"?t:_e.values(t).reverse(),_e.forEach(["l","r"],function(s){s==="r"&&(r=_e.map(r,function(d){return _e.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),c=GS(e,r,n,l),u=YS(e,r,c.root,c.align,s==="r");s==="r"&&(u=_e.mapValues(u,function(d){return-d})),a[o+s]=u})});var i=XS(e,a);return KS(a,i),ZS(a,e.graph().align)}function GL(e,t,n){return function(a,r,i){var o=a.node(r),s=a.node(i),l=0,c;if(l+=o.width/2,_e.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(o.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,_e.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function YL(e,t){return e.node(t).width}var Ha=et,JS=xt,XL=HL.positionX,KL=ZL;function ZL(e){e=JS.asNonCompoundGraph(e),JL(e),Ha.forEach(XL(e),function(t,n){e.node(n).x=t})}function JL(e){var t=JS.buildLayerMatrix(e),n=e.graph().ranksep,a=0;Ha.forEach(t,function(r){var i=Ha.max(Ha.map(r,function(o){return e.node(o).height}));Ha.forEach(r,function(o){e.node(o).y=a+i/2}),a+=i+n})}var xe=et,Ag=K2,kg=hO,eV=LO,tV=xt.normalizeRanks,rV=zO,nV=xt.removeEmptyRanks,$g=jO,aV=ZO,qg=eL,iV=VL,oV=KL,en=xt,sV=er.Graph,lV=uV;function uV(e,t){var n=t&&t.debugTiming?en.time:en.notime;n("layout",function(){var a=n("  buildLayoutGraph",function(){return wV(e)});n("  runLayout",function(){cV(a,n)}),n("  updateInputGraph",function(){dV(e,a)})})}function cV(e,t){t("    makeSpaceForEdgeLabels",function(){SV(e)}),t("    removeSelfEdges",function(){PV(e)}),t("    acyclic",function(){Ag.run(e)}),t("    nestingGraph.run",function(){$g.run(e)}),t("    rank",function(){eV(en.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){_V(e)}),t("    removeEmptyRanks",function(){nV(e)}),t("    nestingGraph.cleanup",function(){$g.cleanup(e)}),t("    normalizeRanks",function(){tV(e)}),t("    assignRankMinMax",function(){EV(e)}),t("    removeEdgeLabelProxies",function(){CV(e)}),t("    normalize.run",function(){kg.run(e)}),t("    parentDummyChains",function(){rV(e)}),t("    addBorderSegments",function(){aV(e)}),t("    order",function(){iV(e)}),t("    insertSelfEdges",function(){AV(e)}),t("    adjustCoordinateSystem",function(){qg.adjust(e)}),t("    position",function(){oV(e)}),t("    positionSelfEdges",function(){kV(e)}),t("    removeBorderNodes",function(){RV(e)}),t("    normalize.undo",function(){kg.undo(e)}),t("    fixupEdgeLabelCoords",function(){IV(e)}),t("    undoCoordinateSystem",function(){qg.undo(e)}),t("    translateGraph",function(){xV(e)}),t("    assignNodeIntersects",function(){NV(e)}),t("    reversePoints",function(){TV(e)}),t("    acyclic.undo",function(){Ag.undo(e)})}function dV(e,t){xe.forEach(e.nodes(),function(n){var a=e.node(n),r=t.node(n);a&&(a.x=r.x,a.y=r.y,t.children(n).length&&(a.width=r.width,a.height=r.height))}),xe.forEach(e.edges(),function(n){var a=e.edge(n),r=t.edge(n);a.points=r.points,xe.has(r,"x")&&(a.x=r.x,a.y=r.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var fV=["nodesep","edgesep","ranksep","marginx","marginy"],pV={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},hV=["acyclicer","ranker","rankdir","align"],mV=["width","height"],vV={width:0,height:0},gV=["minlen","weight","width","height","labeloffset"],yV={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},bV=["labelpos"];function wV(e){var t=new sV({multigraph:!0,compound:!0}),n=oc(e.graph());return t.setGraph(xe.merge({},pV,ic(n,fV),xe.pick(n,hV))),xe.forEach(e.nodes(),function(a){var r=oc(e.node(a));t.setNode(a,xe.defaults(ic(r,mV),vV)),t.setParent(a,e.parent(a))}),xe.forEach(e.edges(),function(a){var r=oc(e.edge(a));t.setEdge(a,xe.merge({},yV,ic(r,gV),xe.pick(r,bV)))}),t}function SV(e){var t=e.graph();t.ranksep/=2,xe.forEach(e.edges(),function(n){var a=e.edge(n);a.minlen*=2,a.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?a.width+=a.labeloffset:a.height+=a.labeloffset)})}function _V(e){xe.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var a=e.node(t.v),r=e.node(t.w),i={rank:(r.rank-a.rank)/2+a.rank,e:t};en.addDummyNode(e,"edge-proxy",i,"_ep")}})}function EV(e){var t=0;xe.forEach(e.nodes(),function(n){var a=e.node(n);a.borderTop&&(a.minRank=e.node(a.borderTop).rank,a.maxRank=e.node(a.borderBottom).rank,t=xe.max(t,a.maxRank))}),e.graph().maxRank=t}function CV(e){xe.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function xV(e){var t=Number.POSITIVE_INFINITY,n=0,a=Number.POSITIVE_INFINITY,r=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0;function l(c){var u=c.x,d=c.y,p=c.width,f=c.height;t=Math.min(t,u-p/2),n=Math.max(n,u+p/2),a=Math.min(a,d-f/2),r=Math.max(r,d+f/2)}xe.forEach(e.nodes(),function(c){l(e.node(c))}),xe.forEach(e.edges(),function(c){var u=e.edge(c);xe.has(u,"x")&&l(u)}),t-=o,a-=s,xe.forEach(e.nodes(),function(c){var u=e.node(c);u.x-=t,u.y-=a}),xe.forEach(e.edges(),function(c){var u=e.edge(c);xe.forEach(u.points,function(d){d.x-=t,d.y-=a}),xe.has(u,"x")&&(u.x-=t),xe.has(u,"y")&&(u.y-=a)}),i.width=n-t+o,i.height=r-a+s}function NV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t),a=e.node(t.v),r=e.node(t.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=r,o=a),n.points.unshift(en.intersectRect(a,i)),n.points.push(en.intersectRect(r,o))})}function IV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t);if(xe.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function TV(e){xe.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function RV(e){xe.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),a=e.node(n.borderTop),r=e.node(n.borderBottom),i=e.node(xe.last(n.borderLeft)),o=e.node(xe.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(r.y-a.y),n.x=i.x+n.width/2,n.y=a.y+n.height/2}}),xe.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function PV(e){xe.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function AV(e){var t=en.buildLayerMatrix(e);xe.forEach(t,function(n){var a=0;xe.forEach(n,function(r,i){var o=e.node(r);o.order=i+a,xe.forEach(o.selfEdges,function(s){en.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:i+ ++a,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function kV(e){xe.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var a=e.node(n.e.v),r=a.x+a.width/2,i=a.y,o=n.x-r,s=a.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*o/3,y:i-s},{x:r+5*o/6,y:i-s},{x:r+o,y:i},{x:r+5*o/6,y:i+s},{x:r+2*o/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function ic(e,t){return xe.mapValues(xe.pick(e,t),Number)}function oc(e){var t={};return xe.forEach(e,function(n,a){t[a.toLowerCase()]=n}),t}var lo=et,$V=xt,qV=er.Graph,FV={debugOrdering:DV};function DV(e){var t=$V.buildLayerMatrix(e),n=new qV({compound:!0,multigraph:!0}).setGraph({});return lo.forEach(e.nodes(),function(a){n.setNode(a,{label:a}),n.setParent(a,"layer"+e.node(a).rank)}),lo.forEach(e.edges(),function(a){n.setEdge(a.v,a.w,{},a.name)}),lo.forEach(t,function(a,r){var i="layer"+r;n.setNode(i,{rank:"same"}),lo.reduce(a,function(o,s){return n.setEdge(o,s,{style:"invis"}),s})}),n}var OV="0.8.5",LV={graphlib:er,layout:lV,debug:FV,util:{time:xt.time,notime:xt.notime},version:OV};const e_=It(LV),VV=()=>L(Q,{children:[m(Fe,{variant:"smallText1",className:"description",children:"Undefined"}),m(An,{placement:"top",markdownText:`Provenance tracks the relationship 
          between data, code and analytical results.`,helpUrl:"https://help.synapse.org/docs/Provenance.1972470373.html"})]}),Nd=e=>{const t=e.targetVersionNumber?`.${e.targetVersionNumber}`:"",n=`${e.targetId}${t}`;return P.useMemo(()=>L(Q,{children:[m("div",{children:m(Le,{icon:"fileOutlined"})}),m("span",{children:n})]}),[n])};try{Nd.displayName="EntityPlaceholderNodeLabel",Nd.__docgenInfo={description:"This node type is used if the user cannot access the entity for some reason",displayName:"EntityPlaceholderNodeLabel",props:{targetId:{defaultValue:null,description:"",name:"targetId",required:!0,type:{name:"string"}},targetVersionNumber:{defaultValue:null,description:"",name:"targetVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var wt=(e=>(e.ENTITY="EntityNode",e.ENTITY_PLACEHOLDER="EntityPlaceholderNode",e.EXTERNAL="ExternalNode",e.ACTIVITY="ActivityNode",e.EXPAND="ExpandNode",e.UNDEFINED="UndefinedNode",e))(wt||{});const ts=e=>{const{type:t,data:n}=e;let a;switch(t){case"EntityNode":a=m(bd,{...n});break;case"EntityPlaceholderNode":a=m(Nd,{...n});break;case"ExternalNode":a=m(_d,{...n});break;case"ActivityNode":a=m(gd,{...n});break;case"ExpandNode":a=m(wd,{...n});break;case"UndefinedNode":a=m(VV,{});break;default:a=L("p",{children:["Unrecognized node type: ",t]});break}const r={label:a,props:n,type:t};return{id:Tr(e),position:{x:100,y:100},data:r,connectable:!1,draggable:!1,className:`${t}`}},t_=(e,t)=>{const n=Tr(e),a=Tr(t);return{id:`${n}-${a}`,source:n,target:a,animated:!0,type:wr.SimpleBezier,markerEnd:{type:si.ArrowClosed}}},Tr=e=>{const{type:t,data:n}=e;switch(t){case"EntityNode":return`${n.id}.${n.versionNumber??"latest"}`;case"EntityPlaceholderNode":return`${n.targetId}.${n.targetVersionNumber??"latest"}`;case"ExternalNode":return`${n.url}`;case"ActivityNode":return`${n.id}`;case"ExpandNode":return`expand.node.${n.entityHeader.id}.${n.entityHeader.versionNumber??"latest"}`;case"UndefinedNode":return`undefined.dummy.node.${n.id}.${n.versionNumber??"latest"}`}},Wn=new e_.graphlib.Graph;Wn.setDefaultEdgeLabel(()=>({}));const Fg=e=>e.data.type=="ExpandNode"?30:100,Dg=e=>e.data.type=="ExpandNode"?30:172,MV=(e,t,n)=>{const a=n==="LR";return Wn.setGraph({rankdir:n}),e.forEach(r=>{Wn.setNode(r.id,{width:Dg(r),height:Fg(r)})}),t.forEach(r=>{Wn.setEdge(r.source,r.target)}),e_.layout(Wn),e.forEach(r=>{const i=Wn.node(r.id);return r.targetPosition=a?se.Left:se.Top,r.sourcePosition=a?se.Right:se.Bottom,r.position={x:i.x-Dg(r)/2,y:i.y-Fg(r)/2},r}),{nodes:e,edges:t}},Og=(e,t)=>K1(e,t,La).length==0;try{ts.displayName="getProvenanceNode",ts.__docgenInfo={description:"",displayName:"getProvenanceNode",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}try{Tr.displayName="getNodeId",Tr.__docgenInfo={description:"",displayName:"getNodeId",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}const Lg=e=>{const{entityHeader:t,rootEntityHeaders:n}=e;return(n==null?void 0:n.find(r=>t.id==r.id&&t.versionNumber==r.versionNumber))!==void 0},r_=(e,t)=>t.find(a=>a.id===Tr(e))===void 0,BV=(e,t)=>{const n={type:wt.ENTITY,data:e};return t.find(a=>a.id===Tr(n))},zV=(e,t,n)=>n.find(r=>r.source===Tr(e)&&r.target===Tr(t))===void 0,qi=e=>{const{newNodeProps:t,existingNodeProps:n,nodesCopy:a,edgesCopy:r}=e;r_(t,a)&&a.push(ts(t)),zV(t,n,r)&&r.push(t_(t,n))},UV=e=>{const{activity:t,entityHeader:n,nodesCopy:a,edgesCopy:r}=e,i={type:wt.ACTIVITY,data:t},o={type:wt.ENTITY,data:n};qi({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},HV=e=>{const{entityHeader:t,itemCount:n=0,nodesCopy:a,edgesCopy:r}=e,i={type:wt.EXPAND,data:{itemCount:n,entityHeader:t}},o={type:wt.ENTITY,data:t};qi({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},WV=e=>{const{ref:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:wt.ENTITY_PLACEHOLDER,data:t},o={type:wt.ACTIVITY,data:n};qi({newNodeProps:i,existingNodeProps:o,nodesCopy:a,edgesCopy:r})},jV=e=>{const{entityHeader:t,nodesCopy:n,edgesCopy:a}=e,r={type:wt.UNDEFINED,data:t},i={type:wt.ENTITY,data:t};qi({newNodeProps:r,existingNodeProps:i,nodesCopy:n,edgesCopy:a})},QV=e=>{const{usedURL:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:wt.ACTIVITY,data:n},o={type:wt.EXTERNAL,data:t};qi({newNodeProps:o,existingNodeProps:i,nodesCopy:a,edgesCopy:r})},GV=e=>{const{entityHeader:t,activity:n,nodesCopy:a,edgesCopy:r}=e,i={type:wt.ENTITY,data:t};if(r_(i,a)&&(a.push(ts(i)),n)){const o={type:wt.ACTIVITY,data:n};r.push(t_(i,o))}};const sc=400,lc=.85,YV=e=>{const{entityRefs:t,containerHeight:n="200px",initialNodes:a=[],initialEdges:r=[],onNodesChangedListener:i,onEdgesChangedListener:o}=e,{accessToken:s}=Ve(),[l,c]=B.useState(a),[u,d]=B.useState(r),[p,f,h]=oq([]),[v,g,b]=sq([]),[E,y]=P.useState(),_=kC(),{data:w,isSuccess:S}=tx(t,{useErrorBoundary:!0});if(S&&w&&w.totalNumberOfResults==0){const $=t.map(F=>F.targetId).join(",");_(`Unable to load provenance for the given Synapse IDs: ${$}`)}const C=w==null?void 0:w.results,[x,T]=B.useState(!1),R=el(),q=P.useCallback(($,F)=>{y(F)},[]),k=P.useCallback(async $=>{var U;const{entityHeader:F,nodesCopy:A,edgesCopy:V,usedInActivity:O}=$;GV({entityHeader:F,activity:O,nodesCopy:A,edgesCopy:V});try{const H=await Je.getActivityForEntity(F.id,F.versionNumber,s);(!Lg({entityHeader:F,rootEntityHeaders:C})||H.used&&H.used.length>=sc)&&HV({entityHeader:F,itemCount:(U=H.used)==null?void 0:U.length,nodesCopy:A,edgesCopy:V})}catch(H){console.error(H),Lg({entityHeader:F,rootEntityHeaders:C})&&jV({entityHeader:F,nodesCopy:A,edgesCopy:V})}},[s,C]);P.useEffect(()=>{!x&&p.length>0&&setTimeout(()=>{if(C){const $=BV(C[0],p);if($){const F=R.getZoom(),A=F>lc?lc:F;R==null||R.setCenter($.position.x+150,$.position.y-30,{zoom:A,duration:0})}T(!0)}})},[x,p,R,C]);const I=P.useCallback(async $=>{const{entityHeader:F,nodesCopy:A,edgesCopy:V}=$;try{const O=await Je.getActivityForEntity(F.id,F.versionNumber,s);if(UV({activity:O,entityHeader:F,nodesCopy:A,edgesCopy:V}),O.used&&O.used.length<sc){const U=[];O.used.forEach(K=>{K.concreteType==$C?U.push(K.reference):QV({usedURL:K,activity:O,nodesCopy:A,edgesCopy:V})});const H=await Je.getEntityHeaders(U,s),{results:G}=H;U.filter(K=>G.find(J=>J.id==K.targetId)==null).forEach(K=>{WV({ref:K,activity:O,nodesCopy:A,edgesCopy:V})});const Y=[];G.forEach(K=>{Y.push(k({entityHeader:K,nodesCopy:A,edgesCopy:V,usedInActivity:O}))}),await Promise.allSettled(Y)}}catch(O){console.error(O)}},[s,k]);P.useEffect(()=>{if(C&&l.length==0){const $=[...l],F=[...u],A=[];C.forEach(V=>{const O=k({entityHeader:V,nodesCopy:$,edgesCopy:F});A.push(O);const U=I({entityHeader:V,nodesCopy:$,edgesCopy:F});A.push(U)}),Promise.allSettled(A).finally(()=>{c($),d(F)})}},[k,_,I,C,t,u,l]),P.useEffect(()=>{const $=E==null?void 0:E.data;if(E&&($==null?void 0:$.type)==wt.EXPAND){const F=$.props;if(F.itemCount>sc){Zr("Web visualization does not support expanding this many items at this time.","danger");return}else{$.label=m(lN,{size:30});const A=l.filter(U=>U.id!=E.id),V=th([E],u)[0],O=u.filter(U=>U!=V);I({entityHeader:F.entityHeader,nodesCopy:A,edgesCopy:O}).finally(()=>{c(A),d(O)})}y(void 0)}},[E,l,u,I]),P.useEffect(()=>{const{nodes:$,edges:F}=MV(l,u,"TB");Og($,p)||(f($),i&&i($)),Og(F,v)||(g(F),o&&o(F))},[l,u,p,v,f,g,x,R,t,i,o]);const N=P.useCallback($=>{$&&typeof $.deltaX<"u"&&typeof $.deltaY<"u"&&window.scrollTo(window.scrollX+$.deltaX,window.scrollY+$.deltaY)},[]);return m("div",{className:"bootstrap-4-backport ProvenanceWidget",role:"graphics-doc",style:{width:"100%",height:n},children:m(X0,{defaultViewport:{x:0,y:0,zoom:lc},nodes:p,edges:v,onNodeClick:q,onNodesChange:h,onEdgesChange:b,attributionPosition:"bottom-right",onConnect:void 0,zoomOnScroll:!1,onPaneScroll:N,children:m(hq,{})})})},Id=e=>m(hb,{children:m(ah,{children:m(YV,{...e})})});try{Id.displayName="ProvenanceGraph",Id.__docgenInfo={description:"",displayName:"ProvenanceGraph",props:{entityRefs:{defaultValue:null,description:"",name:"entityRefs",required:!0,type:{name:"ReferenceList"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!1,type:{name:"string"}},initialNodes:{defaultValue:null,description:"",name:"initialNodes",required:!1,type:{name:"Node[]"}},initialEdges:{defaultValue:null,description:"",name:"initialEdges",required:!1,type:{name:"Edge[]"}},onNodesChangedListener:{defaultValue:null,description:"",name:"onNodesChangedListener",required:!1,type:{name:"((nodes: Node[]) => void)"}},onEdgesChangedListener:{defaultValue:null,description:"",name:"onEdgesChangedListener",required:!1,type:{name:"((edges: Edge[]) => void)"}}}}}catch{}function Td(e){const{entityList:t,displayHeightPx:n}=e,a=t.split(",").map(i=>{const o=i.split("/version/");return{targetId:o[0],targetVersionNumber:o.length>1?parseInt(o[1]):void 0}}),r=n?`${n}px`:void 0;return m(Id,{entityRefs:a,containerHeight:r})}try{Td.displayName="MarkdownProvenanceGraph",Td.__docgenInfo={description:"",displayName:"MarkdownProvenanceGraph",props:{entityList:{defaultValue:null,description:"",name:"entityList",required:!0,type:{name:"string"}},displayHeightPx:{defaultValue:null,description:"",name:"displayHeightPx",required:!0,type:{name:"string"}}}}}catch{}class ui extends B.Component{constructor(t){super(t),this.getEntity=this.getEntity.bind(this),this.getSynapseFiles=this.getSynapseFiles.bind(this),this.state={preSignedURL:""}}getEntity(){const{synapseId:t}=this.props;t&&Xa(this.context.accessToken,t).then(n=>{const a=[{associateObjectId:t,associateObjectType:lr.FileEntity,fileHandleId:n.dataFileHandleId}];this.getSynapseFiles(a,n.dataFileHandleId)})}getSynapseFiles(t,n){yp({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:t},this.context.accessToken).then(r=>{const{preSignedURL:i}=r.requestedFiles.filter(o=>o.fileHandleId===n)[0];this.setState({preSignedURL:i})}).catch(r=>{console.error("Error on getting image ",r)})}componentDidMount(){if(!this.props.wikiId)this.getEntity();else{const{fileName:t,fileResults:n=[]}=this.props,{id:a}=n.filter(i=>i.fileName===t)[0],r=[{associateObjectId:this.props.wikiId,associateObjectType:lr.WikiAttachment,fileHandleId:a}];this.getSynapseFiles(r,a)}}render(){const{params:t}=this.props,{align:n="",altText:a="synapse image"}=t;let r="auto";t.scale&&t.scale!=="100"&&(r=`${Number(t.scale)}%`);const i=n.toLowerCase();let o="";i==="left"&&(o="floatLeft"),i==="right"&&(o="floatright"),i==="center"&&(o="align-center");const s={width:r,height:r};return this.state.preSignedURL?m(B.Fragment,{children:m("img",{alt:a,className:"img-fluid  "+o,src:this.state.preSignedURL,style:s})}):null}}je(ui,"contextType",Ni);try{ui.displayName="SynapseImage",ui.__docgenInfo={description:"",displayName:"SynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},fileResults:{defaultValue:null,description:"",name:"fileResults",required:!1,type:{name:"FileHandle[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ align: string; scale: string; responsive: string; altText: string; }"}}}}}catch{}const ci=B.createContext(void 0),Rd=({children:e,wikiContext:t})=>m(ci.Provider,{value:t,children:e}),Vg=ci.Consumer;function n_(){return P.useContext(ci)??{}}try{ci.displayName="SynapseWikiContext",ci.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseWikiContext",props:{}}}catch{}try{Rd.displayName="SynapseWikiContextProvider",Rd.__docgenInfo={description:"Provides context related to Synapse Wikis",displayName:"SynapseWikiContextProvider",props:{wikiContext:{defaultValue:null,description:"",name:"wikiContext",required:!1,type:{name:"SynapseWikiContextType"}}}}}catch{}try{Vg.displayName="SynapseWikiContextConsumer",Vg.__docgenInfo={description:"",displayName:"SynapseWikiContextConsumer",props:{}}}catch{}function Pd(e){const{wikiId:t,wikiPage:n,fileHandles:a}=n_();return e.fileName?a?m(ui,{params:e,fileName:e.fileName,wikiId:t||(n==null?void 0:n.id),fileResults:a.list}):m(Q,{}):e.synapseId?m(ui,{params:e,synapseId:e.synapseId}):m(Q,{})}try{Pd.displayName="MarkdownSynapseImage",Pd.__docgenInfo={description:"",displayName:"MarkdownSynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},align:{defaultValue:null,description:"",name:"align",required:!0,type:{name:"string"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"string"}},responsive:{defaultValue:null,description:"",name:"responsive",required:!0,type:{name:"string"}},altText:{defaultValue:null,description:"",name:"altText",required:!0,type:{name:"string"}}}}}catch{}const XV=jb(Qb);class rs extends B.Component{constructor(t){super(t),this.state={isLoaded:!1,queryData:{}},this.fetchPlotlyData=this.fetchPlotlyData.bind(this),this.showPlot=this.showPlot.bind(this)}componentDidMount(){this.fetchPlotlyData()}fetchPlotlyData(){const{query:t}=this.props.widgetparamsMapped,n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:ma,entityId:an(t),query:{sql:t}};mb(n,this.context.accessToken).then(a=>{this.setState({isLoaded:!0,queryData:a})}).catch(a=>{console.log("Error on full table query ",a)})}showPlot(){var f,h;if(!this.state.isLoaded)return;const{title:t,xtitle:n,ytitle:a,type:r,xaxistype:i,showlegend:o}=this.props.widgetparamsMapped,s=this.state,l=this.props.widgetparamsMapped.horizontal.toLowerCase(),c={showlegend:o,title:t};n&&(c.xaxis={title:n}),i&&(c.xaxis={...c.xaxis,xaxistype:i.toLowerCase()}),a&&(c.yaxis={title:a});const u=[],d=l?"v":"h",p=((f=s.queryData.queryResult)==null?void 0:f.queryResults.headers)??[];for(let v=0;v<p.length-1;v+=1)u[v]={orientation:d,name:p[v+1].name,type:r.toLowerCase(),x:[],y:[]};for(const v of((h=s.queryData.queryResult)==null?void 0:h.queryResults.rows)??[])for(let g=1;g<v.values.length;g+=1){const b=v.values;u[g-1].x.push(b[0]),u[g-1].y.push(b[g])}return m(XV,{layout:c,data:u})}render(){return this.state.isLoaded?this.showPlot():null}}je(rs,"contextType",Ni);try{rs.displayName="SynapsePlot",rs.__docgenInfo={description:"",displayName:"SynapsePlot",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},widgetparamsMapped:{defaultValue:null,description:"",name:"widgetparamsMapped",required:!1,type:{name:"any"}}}}}catch{}function Ad(e){const{ownerId:t,wikiId:n,wikiPage:a}=n_();return m(rs,{ownerId:t,wikiId:n||(a==null?void 0:a.id),widgetparamsMapped:e})}try{Ad.displayName="MarkdownSynapsePlot",Ad.__docgenInfo={description:"",displayName:"MarkdownSynapsePlot",props:{}}}catch{}const KV=200,Mg="ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME",Bg="ESTIMATED_DOWNLOAD_SPEED",ZV="syn12600511",JV=e=>new Promise((t,n)=>{const a=localStorage.getItem(Mg),r=localStorage.getItem(Bg);if(a&&r&&new Date().getTime()<Number(a)){t(Number(r));return}Xa(e,ZV).then(i=>{const o=i,l={includeFileHandles:!0,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:o.id,associateObjectType:lr.FileEntity,fileHandleId:o.dataFileHandleId}]};yp(l,e).then(c=>{const u=c.requestedFiles[0].preSignedURL,d=c.requestedFiles[0].fileHandle,p=new Date().getTime();return qC(d,u).then(()=>{const f=d.contentSize/((new Date().getTime()-p-KV)/1e3),h=new Date().getTime();localStorage.setItem(Mg,(h+1e3*60*5).toString()),localStorage.setItem(Bg,f.toString()),t(f)})})}).catch(i=>n(i))}),bn=e=>m(gn,{style:{...e.style,display:"inline-block"},...e});try{bn.displayName="SkeletonInlineBlock",bn.__docgenInfo={description:"Skeleton with a display value of `inline-block`. MUI applies `display: block` with high specificity, so it's easiest to just apply the style to the component.",displayName:"SkeletonInlineBlock",props:{animation:{defaultValue:{value:"'pulse'"},description:"The animation.\nIf `false` the animation effect is disabled.",name:"animation",required:!1,type:{name:'false | "pulse" | "wave"'}},children:{defaultValue:null,description:"Optional children to infer width and height from.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SkeletonClasses> & Partial<ClassNameMap<never>>)"}},height:{defaultValue:null,description:`Height of the skeleton.
Useful when you don't want to adapt the skeleton to a text element but for instance a card.`,name:"height",required:!1,type:{name:"string | number"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},variant:{defaultValue:{value:"'text'"},description:"The type of content that will be rendered.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"rounded"'},{value:'"rectangular"'},{value:'"circular"'}]}},width:{defaultValue:null,description:`Width of the skeleton.
Useful when the skeleton is inside an inline element with no width of its own.`,name:"width",required:!1,type:{name:"string | number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}}}}}catch{}var a_={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Kr,function(){var n,a,r=1e3,i=6e4,o=36e5,s=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,p={years:c,months:u,days:s,hours:o,minutes:i,seconds:r,milliseconds:1,weeks:6048e5},f=function(w){return w instanceof _},h=function(w,S,C){return new _(w,C,S.$l)},v=function(w){return a.p(w)+"s"},g=function(w){return w<0},b=function(w){return g(w)?Math.ceil(w):Math.floor(w)},E=function(w){return Math.abs(w)},y=function(w,S){return w?g(w)?{negative:!0,format:""+E(w)+S}:{negative:!1,format:""+w+S}:{negative:!1,format:""}},_=function(){function w(C,x,T){var R=this;if(this.$d={},this.$l=T,C===void 0&&(this.$ms=0,this.parseFromMilliseconds()),x)return h(C*p[v(x)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function(I){R.$d[v(I)]=C[I]}),this.calMilliseconds(),this;if(typeof C=="string"){var q=C.match(d);if(q){var k=q.slice(2).map(function(I){return I!=null?Number(I):0});return this.$d.years=k[0],this.$d.months=k[1],this.$d.weeks=k[2],this.$d.days=k[3],this.$d.hours=k[4],this.$d.minutes=k[5],this.$d.seconds=k[6],this.calMilliseconds(),this}}return this}var S=w.prototype;return S.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(x,T){return x+(C.$d[T]||0)*p[T]},0)},S.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=b(C/c),C%=c,this.$d.months=b(C/u),C%=u,this.$d.days=b(C/s),C%=s,this.$d.hours=b(C/o),C%=o,this.$d.minutes=b(C/i),C%=i,this.$d.seconds=b(C/r),C%=r,this.$d.milliseconds=C},S.toISOString=function(){var C=y(this.$d.years,"Y"),x=y(this.$d.months,"M"),T=+this.$d.days||0;this.$d.weeks&&(T+=7*this.$d.weeks);var R=y(T,"D"),q=y(this.$d.hours,"H"),k=y(this.$d.minutes,"M"),I=this.$d.seconds||0;this.$d.milliseconds&&(I+=this.$d.milliseconds/1e3);var N=y(I,"S"),$=C.negative||x.negative||R.negative||q.negative||k.negative||N.negative,F=q.format||k.format||N.format?"T":"",A=($?"-":"")+"P"+C.format+x.format+R.format+F+q.format+k.format+N.format;return A==="P"||A==="-P"?"P0D":A},S.toJSON=function(){return this.toISOString()},S.format=function(C){var x=C||"YYYY-MM-DDTHH:mm:ss",T={Y:this.$d.years,YY:a.s(this.$d.years,2,"0"),YYYY:a.s(this.$d.years,4,"0"),M:this.$d.months,MM:a.s(this.$d.months,2,"0"),D:this.$d.days,DD:a.s(this.$d.days,2,"0"),H:this.$d.hours,HH:a.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:a.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:a.s(this.$d.seconds,2,"0"),SSS:a.s(this.$d.milliseconds,3,"0")};return x.replace(l,function(R,q){return q||String(T[R])})},S.as=function(C){return this.$ms/p[v(C)]},S.get=function(C){var x=this.$ms,T=v(C);return T==="milliseconds"?x%=1e3:x=T==="weeks"?b(x/p[T]):this.$d[T],x===0?0:x},S.add=function(C,x,T){var R;return R=x?C*p[v(x)]:f(C)?C.$ms:h(C,this).$ms,h(this.$ms+R*(T?-1:1),this)},S.subtract=function(C,x){return this.add(C,x,!0)},S.locale=function(C){var x=this.clone();return x.$l=C,x},S.clone=function(){return h(this.$ms,this)},S.humanize=function(C){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},S.milliseconds=function(){return this.get("milliseconds")},S.asMilliseconds=function(){return this.as("milliseconds")},S.seconds=function(){return this.get("seconds")},S.asSeconds=function(){return this.as("seconds")},S.minutes=function(){return this.get("minutes")},S.asMinutes=function(){return this.as("minutes")},S.hours=function(){return this.get("hours")},S.asHours=function(){return this.as("hours")},S.days=function(){return this.get("days")},S.asDays=function(){return this.as("days")},S.weeks=function(){return this.get("weeks")},S.asWeeks=function(){return this.as("weeks")},S.months=function(){return this.get("months")},S.asMonths=function(){return this.as("months")},S.years=function(){return this.get("years")},S.asYears=function(){return this.as("years")},w}();return function(w,S,C){n=C,a=C().$utils(),C.duration=function(R,q){var k=C.locale();return h(R,{$l:k},q)},C.isDuration=f;var x=S.prototype.add,T=S.prototype.subtract;S.prototype.add=function(R,q){return f(R)&&(R=R.asMilliseconds()),x.bind(this)(R,q)},S.prototype.subtract=function(R,q){return f(R)&&(R=R.asMilliseconds()),T.bind(this)(R,q)}}})})(a_);var eM=a_.exports;const tM=It(eM);var i_={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(Kr,function(){return function(n,a,r){n=n||{};var i=a.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,u,d,p){return i.fromToBase(c,u,d,p)}r.en.relativeTime=o,i.fromToBase=function(c,u,d,p,f){for(var h,v,g,b=d.$locale().relativeTime||o,E=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],y=E.length,_=0;_<y;_+=1){var w=E[_];w.d&&(h=p?r(c).diff(d,w.d,!0):d.diff(c,w.d,!0));var S=(n.rounding||Math.round)(Math.abs(h));if(g=h>0,S<=w.r||!w.r){S<=1&&_>0&&(w=E[_-1]);var C=b[w.l];f&&(S=f(""+S)),v=typeof C=="string"?C.replace("%d",S):C(S,u,w.l,g);break}}if(u)return v;var x=g?b.future:b.past;return typeof x=="function"?x(v):x.replace("%s",v)},i.to=function(c,u){return s(c,u,this,!0)},i.from=function(c,u){return s(c,u,this)};var l=function(c){return c.$u?r.utc():r()};i.toNow=function(c){return this.to(l(this),c)},i.fromNow=function(c){return this.from(l(this),c)}}})})(i_);var rM=i_.exports;const nM=It(rM);ur.extend(tM);ur.extend(nM);function kd(e){const{numFiles:t,numBytes:n}=e,{accessToken:a}=Ve(),r=!!n,[i,o]=P.useState({isLoading:r,downloadSpeed:0}),{isLoading:s,downloadSpeed:l}=i;P.useEffect(()=>{a&&JV(a).then(v=>{o({isLoading:!1,downloadSpeed:v})})},[a]);const c=s||l===0||!n?0:n/l,u=c===0,d=u?"":ur.duration({seconds:c}).humanize(),p=t===0,f=p?"SRC-inactive":"SRC-primary-text-color",h=u?"SRC-inactive":"SRC-primary-text-color";return L("span",{className:"download-details-container",children:[L("span",{children:[m(v1,{className:f}),p?m(bn,{width:50}):L(Q,{children:[t," files"]})]}),r&&m(Ct,{title:"This is the total size of all files. Zipped package(s) will likely be smaller.",enterNextDelay:Lo,placement:"top",children:L("span",{"data-testid":"numBytesUI",children:[m(g1,{className:h}),u?m(bn,{width:50}):vb(n)]})}),r&&m(Ct,{title:"This is an estimate of how long package download will take.",enterNextDelay:Lo,placement:"top",children:L("span",{"data-testid":"downloadTimeEstimateUI",children:[m(sI,{className:h}),s&&t>0?m(bn,{width:50}):d]})})]})}try{kd.displayName="DownloadDetails",kd.__docgenInfo={description:`Displays download information including number of files, size of download, and time to download.
Prefer to use {@link download_list_v2 /DownloadDetails} instead, particularly when you have information about file packaging in/eligibility`,displayName:"DownloadDetails",props:{numFiles:{defaultValue:null,description:"",name:"numFiles",required:!0,type:{name:"number"}},numBytes:{defaultValue:null,description:"",name:"numBytes",required:!1,type:{name:"number"}}}}}catch{}const pr="isShowingFacetFilters",tr="isHidingFacetFilters",Rn=P.createContext(void 0),ns=({children:e,queryContext:t})=>m(Rn.Provider,{value:t,children:e});function yt(){const e=P.useContext(Rn);if(e===void 0)throw new Error("useQueryContext must be used within a QueryWrapper");return e}function aM(){const e=P.useContext(Rn);if(e===void 0)throw new Error("usePaginatedQueryContext must be used within a QueryWrapper");return e}function iM(){const e=P.useContext(Rn);if(e===void 0)throw new Error("useInfiniteQueryContext must be used within a QueryWrapper");return e}const di=Rn.Consumer;try{Rn.displayName="QueryContext",Rn.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryContext",props:{}}}catch{}try{ns.displayName="QueryContextProvider",ns.__docgenInfo={description:"Provides data related to a Synapse table query, and functions for iterating through pages of the data.",displayName:"QueryContextProvider",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}}}}}catch{}try{di.displayName="QueryContextConsumer",di.__docgenInfo={description:"",displayName:"QueryContextConsumer",props:{}}}catch{}async function oM(e,t,n,a,r){try{const i={query:n==null?void 0:n.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:a};return await Je.addFilesToDownloadListV2(i,e),Zr("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:r}}),t(),[0,""]}catch(i){return Zr(i.reason,"danger"),t(),[0,""]}}const ta={[2]:{severity:"info",infoText:"Would you like to add all files to the download cart?",closeText:"Cancel"},[3]:{severity:"info",infoText:L(Q,{children:["Note: Files that you add will be mixed in with the files already in your download cart.",m("br",{}),"If you don't want to mix these files, clear your download cart before continuing."]}),closeText:"Cancel"},[1]:{severity:"info",infoText:"Adding Files To List",closeText:"Cancel"},[0]:{severity:"info",infoText:"Calculating File Size",closeText:"Cancel"},[4]:{severity:"error",closeText:"Close",infoText:L(Q,{children:["Please  ",m(FC,{})," to add files to your download cart."]})}},sM=e=>{switch(e.status){case 0:case 1:return L("div",{children:[m("span",{className:"spinner white"}),m("span",{className:"spinner__text",children:ta[e.status].infoText})]});case 4:return m(Q,{children:ta[e.status].infoText});case 2:case 3:return L(Q,{children:[m(kd,{numFiles:e.fileCount,numBytes:e.fileSize}),m("span",{className:"download-confirmation-infoText",style:{paddingLeft:"8px"},children:ta[e.status].infoText})]});default:return m(Q,{})}},$d=({getLastQueryRequest:e,folderId:t,fnClose:n,setTopLevelControlsState:a,topLevelControlsState:r})=>{const{accessToken:i,downloadCartPageUrl:o}=Ve(),{showDownloadConfirmation:s=!0}=r??{},[l,c]=P.useState(i?0:4),[u,d]=P.useState(0),[p,f]=P.useState(),{data:h,refetch:v}=ox(),g=e(),[b,E]=P.useState(!1),y=P.useCallback((k,I,N)=>{if(i&&N){const $=N.totalNumberOfFiles>0,F=k??0;c($?3:2),d(F),f(I)}},[i]),{data:_,isSuccess:w}=vq({parentId:t,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[Vc.FILE]});Vo(()=>{w&&_&&h&&y(_.totalChildCount,_.sumFileSizesBytes,h)},[y,t,w,_,h]);const S=va|Ep,C={...g,partMask:S},{data:x}=Xb(C);Vo(()=>{var k,I;if(x&&h){const N=(k=x.sumFileSizes)==null?void 0:k.greaterThan;y(x.queryCount,N||(I=x.sumFileSizes)==null?void 0:I.sumFileSizesBytes,h)}},[y,g,x,h]);const T=n?()=>n():()=>{a&&a(k=>({...k,showDownloadConfirmation:!1}))},R=async()=>{if(!i)c(4);else{c(1);const N=(await oM(i,T,g,t,()=>E(!0)))[0];c(N),v()}};b&&(window.location.href=o);const q=r==null?void 0:r.showFacetFilter;return m(Q,{children:m(Br,{sx:{pr:4,py:1},icon:ta[l].severity==="error"?void 0:!1,severity:ta[l].severity,className:`download-confirmation ${s?"":"hidden"}
          ${q?pr:tr}
        `,action:L(Q,{children:[l!==1&&m($t,{variant:"text",color:"primary",onClick:T,children:ta[l].closeText}),(l===2||l===3)&&m($t,{variant:"contained",color:"primary",onClick:()=>{R()},sx:{ml:"5px"},children:"Add"})]}),children:m(ct,{display:"flex",children:m(sM,{status:l,fileCount:u,fileSize:p})})})})};try{$d.displayName="DownloadConfirmation",$d.__docgenInfo={description:"",displayName:"DownloadConfirmation",props:{fnClose:{defaultValue:null,description:"",name:"fnClose",required:!1,type:{name:"(() => void)"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},folderId:{defaultValue:null,description:"",name:"folderId",required:!1,type:{name:"string"}},topLevelControlsState:{defaultValue:null,description:"",name:"topLevelControlsState",required:!1,type:{name:"TopLevelControlsState"}},setTopLevelControlsState:{defaultValue:null,description:"",name:"setTopLevelControlsState",required:!1,type:{name:"Dispatch<SetStateAction<TopLevelControlsState>>"}}}}}catch{}function lM(){return L(Q,{children:[m("p",{className:"SRC-no-results-title",children:"There is currently no content here."}),m("p",{className:"SRC-no-results-description",children:"Information is always being updated, so check back later to see if content has been added."})]})}var Yr=(e=>(e.INTERACTIVE="INTERACTIVE",e.STATIC="STATIC",e))(Yr||{});function uM(){return L("div",{className:"text-center",children:[ux,m("h4",{children:"No Matching Results"}),m("p",{children:"Try checking the spelling or removing filters."})]})}function cM(){return L("div",{className:"text-center SRCBorderedPanel SRCBorderedPanel--padded2x",children:[cx,m("div",{style:{marginTop:"20px",fontStyle:"italic"},children:"This table is currently empty"})]})}const dM=()=>{try{return JSON.parse(sessionStorage.getItem(e1)||"")}catch{return[]}},fM=()=>{try{return JSON.parse(sessionStorage.getItem(t1)||"")}catch{return[]}},pM=()=>{try{return JSON.parse(sessionStorage.getItem(r1)||"")}catch{return[]}},hM=e=>{const t=dM().find(n=>n.id===e);return(t==null?void 0:t.name)??e},mM=e=>{const t=pM().find(n=>n.id===e);return(t==null?void 0:t.name)||e},vM=e=>{const t=fM().find(n=>n.ownerId===e);return(t==null?void 0:t.userName)||e},gM=(e,t)=>{if(e===Ka)return qs;switch(t){case pe.ENTITYID:case pe.ENTITYID_LIST:return hM(e);case pe.USERID:case pe.USERID_LIST:return vM(e);case pe.EVALUATIONID:return mM(e);default:return e}},fi=P.createContext(void 0),qd=({children:e,queryVisualizationContext:t})=>m(fi.Provider,{value:t,children:e});function mt(){const e=P.useContext(fi);if(e===void 0)throw new Error("useQueryVisualizationContext must be used within a QueryWrapper");return e}const as=fi.Consumer;function pi(e){const{noContentPlaceholderType:t=Yr.INTERACTIVE}=e,{data:n,getLastQueryRequest:a,isFacetsAvailable:r,isLoadingNewBundle:i,hasResettableFilters:o}=yt(),{columnAliases:s={}}=e,[l,c]=P.useState({showColumnFilter:!0,showFacetFilter:!0,showFacetVisualization:e.defaultShowFacetVisualization??!0,showSearchBar:e.defaultShowSearchBar??!1,showDownloadConfirmation:!1,showColumnSelectDropdown:!1,showSqlEditor:!1});P.useEffect(()=>{r||c(_=>({..._,showFacetFilter:!1,showFacetVisualization:!1}))},[r]),P.useEffect(()=>{i&&f([])},[i]);const[u,d]=P.useState([]),[p,f]=P.useState([]),h=a(),v=ix(n==null?void 0:n.selectColumns);P.useEffect(()=>{d((v==null?void 0:v.slice(0,e.visibleColumnCount??1/0).map(_=>_.name))??[])},[v,h.query.sql,e.visibleColumnCount]);const g=P.useCallback(_=>{const w=localStorage.getItem("force-display-original-column-names")==="true";return!_||w?_:s[_]?s[_]:Z1(_)},[s]),b=P.useCallback(()=>{switch(t){case Yr.INTERACTIVE:return o?m(uM,{}):m(cM,{});case Yr.STATIC:default:return m(lM,{})}},[t,o]),E={topLevelControlsState:l,setTopLevelControlsState:c,columnsToShowInTable:u,setColumnsToShowInTable:d,selectedRowIndices:p,setSelectedRowIndices:f,rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,showLastUpdatedOn:e.showLastUpdatedOn,getColumnDisplayName:g,getDisplayValue:gM,NoContentPlaceholder:b},{children:y}=e;return m(qd,{queryVisualizationContext:E,children:y})}try{pi.displayName="QueryVisualizationWrapper",pi.__docgenInfo={description:`QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed
or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.`,displayName:"QueryVisualizationWrapper",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},hiddenColumns:{defaultValue:null,description:"",name:"hiddenColumns",required:!1,type:{name:"string[]"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},defaultShowSearchBar:{defaultValue:null,description:"",name:"defaultShowSearchBar",required:!1,type:{name:"boolean"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}}}}}catch{}try{fi.displayName="QueryVisualizationContext",fi.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryVisualizationContext",props:{}}}catch{}try{qd.displayName="QueryVisualizationContextProvider",qd.__docgenInfo={description:"Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.",displayName:"QueryVisualizationContextProvider",props:{queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{as.displayName="QueryVisualizationContextConsumer",as.__docgenInfo={description:"",displayName:"QueryVisualizationContextConsumer",props:{}}}catch{}const uc=3,is=({helpMessage:e="This search bar is powered by MySQL Full Text Search.",helpUrl:t})=>{const{executeQueryRequest:n,getLastQueryRequest:a}=yt(),{topLevelControlsState:{showSearchBar:r,showFacetFilter:i}}=mt(),[o,s]=P.useState(""),l=P.useRef(null),c=d=>{var p;if(d.preventDefault(),o.trim().length<uc)(p=l.current)==null||p.setCustomValidity(`Search term must have a minimum of ${uc} characters`);else{const f=a(),{additionalFilters:h=[]}=f.query,v={concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:o};if(h.find(b=>b.concreteType==v.concreteType&&b.searchExpression==v.searchExpression))return;h.push(v),f.query.additionalFilters=h,n(f),s("")}},u=d=>{var p;(p=l.current)==null||p.setCustomValidity(""),s(d.currentTarget.value)};return m("div",{className:`QueryWrapperSearchInput ${i?pr:tr}`,children:m(Ii,{in:r,timeout:{enter:300,exit:300},children:L("div",{className:"QueryWrapperSearchInput__helppopoverwrapper",children:[L("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:c,children:[m("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:m(Le,{icon:"search"})}),m("input",{ref:l,minLength:uc,onChange:u,placeholder:"Enter Search Terms",value:o,type:"text"}),o.length>0&&m("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{s("")},children:m(Le,{icon:"close"})})]}),m("div",{className:"QueryWrapperSearchInput__helppopover",children:m(An,{markdownText:e,helpUrl:t,placement:"left"})})]})})})};try{is.displayName="FullTextSearch",is.__docgenInfo={description:"",displayName:"FullTextSearch",props:{helpMessage:{defaultValue:{value:"This search bar is powered by MySQL Full Text Search."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}var uo=function(e){return e&&e.Math==Math&&e},Fn=uo(typeof globalThis=="object"&&globalThis)||uo(typeof window=="object"&&window)||uo(typeof self=="object"&&self)||uo(typeof Kr=="object"&&Kr)||function(){return this}()||Function("return this")(),ln=function(e){try{return!!e()}catch{return!0}},yM=ln,sl=!yM(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),bM=sl,o_=Function.prototype,zg=o_.apply,Ug=o_.call,wM=typeof Reflect=="object"&&Reflect.apply||(bM?Ug.bind(zg):function(){return Ug.apply(zg,arguments)}),s_=sl,l_=Function.prototype,Fd=l_.call,SM=s_&&l_.bind.bind(Fd,Fd),Ea=s_?SM:function(e){return function(){return Fd.apply(e,arguments)}},u_=Ea,_M=u_({}.toString),EM=u_("".slice),c_=function(e){return EM(_M(e),8,-1)},CM=c_,xM=Ea,d_=function(e){if(CM(e)==="Function")return xM(e)},Dd=typeof document=="object"&&document.all,NM=typeof Dd>"u"&&Dd!==void 0,f_={all:Dd,IS_HTMLDDA:NM},p_=f_,IM=p_.all,Dn=p_.IS_HTMLDDA?function(e){return typeof e=="function"||e===IM}:function(e){return typeof e=="function"},h_={},TM=ln,Fi=!TM(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),RM=sl,co=Function.prototype.call,mh=RM?co.bind(co):function(){return co.apply(co,arguments)},m_={},v_={}.propertyIsEnumerable,g_=Object.getOwnPropertyDescriptor,PM=g_&&!v_.call({1:2},1);m_.f=PM?function(t){var n=g_(this,t);return!!n&&n.enumerable}:v_;var y_=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},AM=Ea,kM=ln,$M=c_,cc=Object,qM=AM("".split),FM=kM(function(){return!cc("z").propertyIsEnumerable(0)})?function(e){return $M(e)=="String"?qM(e,""):cc(e)}:cc,b_=function(e){return e==null},DM=b_,OM=TypeError,w_=function(e){if(DM(e))throw OM("Can't call method on "+e);return e},LM=FM,VM=w_,S_=function(e){return LM(VM(e))},Hg=Dn,__=f_,MM=__.all,ll=__.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:Hg(e)||e===MM}:function(e){return typeof e=="object"?e!==null:Hg(e)},E_={},dc=E_,fc=Fn,BM=Dn,Wg=function(e){return BM(e)?e:void 0},C_=function(e,t){return arguments.length<2?Wg(dc[e])||Wg(fc[e]):dc[e]&&dc[e][t]||fc[e]&&fc[e][t]},zM=Ea,UM=zM({}.isPrototypeOf),HM=typeof navigator<"u"&&String(navigator.userAgent)||"",x_=Fn,pc=HM,jg=x_.process,Qg=x_.Deno,Gg=jg&&jg.versions||Qg&&Qg.version,Yg=Gg&&Gg.v8,jt,os;Yg&&(jt=Yg.split("."),os=jt[0]>0&&jt[0]<4?1:+(jt[0]+jt[1]));!os&&pc&&(jt=pc.match(/Edge\/(\d+)/),(!jt||jt[1]>=74)&&(jt=pc.match(/Chrome\/(\d+)/),jt&&(os=+jt[1])));var WM=os,Xg=WM,jM=ln,N_=!!Object.getOwnPropertySymbols&&!jM(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Xg&&Xg<41}),QM=N_,I_=QM&&!Symbol.sham&&typeof Symbol.iterator=="symbol",GM=C_,YM=Dn,XM=UM,KM=I_,ZM=Object,T_=KM?function(e){return typeof e=="symbol"}:function(e){var t=GM("Symbol");return YM(t)&&XM(t.prototype,ZM(e))},JM=String,e3=function(e){try{return JM(e)}catch{return"Object"}},t3=Dn,r3=e3,n3=TypeError,R_=function(e){if(t3(e))return e;throw n3(r3(e)+" is not a function")},a3=R_,i3=b_,o3=function(e,t){var n=e[t];return i3(n)?void 0:a3(n)},hc=mh,mc=Dn,vc=ll,s3=TypeError,l3=function(e,t){var n,a;if(t==="string"&&mc(n=e.toString)&&!vc(a=hc(n,e))||mc(n=e.valueOf)&&!vc(a=hc(n,e))||t!=="string"&&mc(n=e.toString)&&!vc(a=hc(n,e)))return a;throw s3("Can't convert object to primitive value")},P_={exports:{}},Kg=Fn,u3=Object.defineProperty,c3=function(e,t){try{u3(Kg,e,{value:t,configurable:!0,writable:!0})}catch{Kg[e]=t}return t},d3=Fn,f3=c3,Zg="__core-js_shared__",p3=d3[Zg]||f3(Zg,{}),h3=p3,Jg=h3;(P_.exports=function(e,t){return Jg[e]||(Jg[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.27.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var m3=P_.exports,v3=w_,g3=Object,A_=function(e){return g3(v3(e))},y3=Ea,b3=A_,w3=y3({}.hasOwnProperty),vh=Object.hasOwn||function(t,n){return w3(b3(t),n)},S3=Ea,_3=0,E3=Math.random(),C3=S3(1 .toString),x3=function(e){return"Symbol("+(e===void 0?"":e)+")_"+C3(++_3+E3,36)},N3=Fn,I3=m3,ey=vh,T3=x3,R3=N_,P3=I_,Gn=N3.Symbol,gc=I3("wks"),A3=P3?Gn.for||Gn:Gn&&Gn.withoutSetter||T3,k3=function(e){return ey(gc,e)||(gc[e]=R3&&ey(Gn,e)?Gn[e]:A3("Symbol."+e)),gc[e]},$3=mh,ty=ll,ry=T_,q3=o3,F3=l3,D3=k3,O3=TypeError,L3=D3("toPrimitive"),V3=function(e,t){if(!ty(e)||ry(e))return e;var n=q3(e,L3),a;if(n){if(t===void 0&&(t="default"),a=$3(n,e,t),!ty(a)||ry(a))return a;throw O3("Can't convert object to primitive value")}return t===void 0&&(t="number"),F3(e,t)},M3=V3,B3=T_,k_=function(e){var t=M3(e,"string");return B3(t)?t:t+""},z3=Fn,ny=ll,Od=z3.document,U3=ny(Od)&&ny(Od.createElement),H3=function(e){return U3?Od.createElement(e):{}},W3=Fi,j3=ln,Q3=H3,$_=!W3&&!j3(function(){return Object.defineProperty(Q3("div"),"a",{get:function(){return 7}}).a!=7}),G3=Fi,Y3=mh,X3=m_,K3=y_,Z3=S_,J3=k_,e4=vh,t4=$_,ay=Object.getOwnPropertyDescriptor;h_.f=G3?ay:function(t,n){if(t=Z3(t),n=J3(n),t4)try{return ay(t,n)}catch{}if(e4(t,n))return K3(!Y3(X3.f,t,n),t[n])};var r4=ln,n4=Dn,a4=/#|\.prototype\./,Di=function(e,t){var n=o4[i4(e)];return n==l4?!0:n==s4?!1:n4(t)?r4(t):!!t},i4=Di.normalize=function(e){return String(e).replace(a4,".").toLowerCase()},o4=Di.data={},s4=Di.NATIVE="N",l4=Di.POLYFILL="P",u4=Di,iy=d_,c4=R_,d4=sl,f4=iy(iy.bind),p4=function(e,t){return c4(e),t===void 0?e:d4?f4(e,t):function(){return e.apply(t,arguments)}},q_={},h4=Fi,m4=ln,v4=h4&&m4(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),g4=ll,y4=String,b4=TypeError,w4=function(e){if(g4(e))return e;throw b4(y4(e)+" is not an object")},S4=Fi,_4=$_,E4=v4,fo=w4,oy=k_,C4=TypeError,yc=Object.defineProperty,x4=Object.getOwnPropertyDescriptor,bc="enumerable",wc="configurable",Sc="writable";q_.f=S4?E4?function(t,n,a){if(fo(t),n=oy(n),fo(a),typeof t=="function"&&n==="prototype"&&"value"in a&&Sc in a&&!a[Sc]){var r=x4(t,n);r&&r[Sc]&&(t[n]=a.value,a={configurable:wc in a?a[wc]:r[wc],enumerable:bc in a?a[bc]:r[bc],writable:!1})}return yc(t,n,a)}:yc:function(t,n,a){if(fo(t),n=oy(n),fo(a),_4)try{return yc(t,n,a)}catch{}if("get"in a||"set"in a)throw C4("Accessors not supported");return"value"in a&&(t[n]=a.value),t};var N4=Fi,I4=q_,T4=y_,R4=N4?function(e,t,n){return I4.f(e,t,T4(1,n))}:function(e,t,n){return e[t]=n,e},po=Fn,P4=wM,A4=d_,k4=Dn,$4=h_.f,q4=u4,Un=E_,F4=p4,Hn=R4,sy=vh,D4=function(e){var t=function(n,a,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,a)}return new e(n,a,r)}return P4(e,this,arguments)};return t.prototype=e.prototype,t},F_=function(e,t){var n=e.target,a=e.global,r=e.stat,i=e.proto,o=a?po:r?po[n]:(po[n]||{}).prototype,s=a?Un:Un[n]||Hn(Un,n,{})[n],l=s.prototype,c,u,d,p,f,h,v,g,b;for(p in t)c=q4(a?p:n+(r?".":"#")+p,e.forced),u=!c&&o&&sy(o,p),h=s[p],u&&(e.dontCallGetSet?(b=$4(o,p),v=b&&b.value):v=o[p]),f=u&&v?v:t[p],!(u&&typeof h==typeof f)&&(e.bind&&u?g=F4(f,po):e.wrap&&u?g=D4(f):i&&k4(f)?g=A4(f):g=f,(e.sham||f&&f.sham||h&&h.sham)&&Hn(g,"sham",!0),Hn(s,p,g),i&&(d=n+"Prototype",sy(Un,d)||Hn(Un,d,{}),Hn(Un[d],p,f),e.real&&l&&(c||!l[p])&&Hn(l,p,f)))},O4=Math.ceil,L4=Math.floor,V4=Math.trunc||function(t){var n=+t;return(n>0?L4:O4)(n)},M4=V4,D_=function(e){var t=+e;return t!==t||t===0?0:M4(t)},B4=D_,z4=Math.max,U4=Math.min,O_=function(e,t){var n=B4(e);return n<0?z4(n+t,0):U4(n,t)},H4=D_,W4=Math.min,j4=function(e){return e>0?W4(H4(e),9007199254740991):0},Q4=j4,L_=function(e){return Q4(e.length)},G4=S_,Y4=O_,X4=L_,ly=function(e){return function(t,n,a){var r=G4(t),i=X4(r),o=Y4(a,i),s;if(e&&n!=n){for(;i>o;)if(s=r[o++],s!=s)return!0}else for(;i>o;o++)if((e||o in r)&&r[o]===n)return e||o||0;return!e&&-1}},K4={includes:ly(!0),indexOf:ly(!1)},Z4=F_,J4=K4.includes,e5=ln,t5=e5(function(){return!Array(1).includes()});Z4({target:"Array",proto:!0,forced:t5},{includes:function(t){return J4(this,t,arguments.length>1?arguments[1]:void 0)}});var r5=C_,V_=r5,n5=V_,a5=n5("Array","includes");const i5=It(a5);var M_={exports:{}},Me={};/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(Me,"__esModule",{value:!0});var bt=typeof Symbol=="function"&&Symbol.for,gh=bt?Symbol.for("react.element"):60103,yh=bt?Symbol.for("react.portal"):60106,ul=bt?Symbol.for("react.fragment"):60107,cl=bt?Symbol.for("react.strict_mode"):60108,dl=bt?Symbol.for("react.profiler"):60114,fl=bt?Symbol.for("react.provider"):60109,pl=bt?Symbol.for("react.context"):60110,bh=bt?Symbol.for("react.async_mode"):60111,hl=bt?Symbol.for("react.concurrent_mode"):60111,ml=bt?Symbol.for("react.forward_ref"):60112,vl=bt?Symbol.for("react.suspense"):60113,o5=bt?Symbol.for("react.suspense_list"):60120,gl=bt?Symbol.for("react.memo"):60115,yl=bt?Symbol.for("react.lazy"):60116,s5=bt?Symbol.for("react.fundamental"):60117,l5=bt?Symbol.for("react.responder"):60118;function Dt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gh:switch(e=e.type,e){case bh:case hl:case ul:case dl:case cl:case vl:return e;default:switch(e=e&&e.$$typeof,e){case pl:case ml:case fl:return e;default:return t}}case yl:case gl:case yh:return t}}}function B_(e){return Dt(e)===hl}Me.typeOf=Dt;Me.AsyncMode=bh;Me.ConcurrentMode=hl;Me.ContextConsumer=pl;Me.ContextProvider=fl;Me.Element=gh;Me.ForwardRef=ml;Me.Fragment=ul;Me.Lazy=yl;Me.Memo=gl;Me.Portal=yh;Me.Profiler=dl;Me.StrictMode=cl;Me.Suspense=vl;Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ul||e===hl||e===dl||e===cl||e===vl||e===o5||typeof e=="object"&&e!==null&&(e.$$typeof===yl||e.$$typeof===gl||e.$$typeof===fl||e.$$typeof===pl||e.$$typeof===ml||e.$$typeof===s5||e.$$typeof===l5)};Me.isAsyncMode=function(e){return B_(e)||Dt(e)===bh};Me.isConcurrentMode=B_;Me.isContextConsumer=function(e){return Dt(e)===pl};Me.isContextProvider=function(e){return Dt(e)===fl};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gh};Me.isForwardRef=function(e){return Dt(e)===ml};Me.isFragment=function(e){return Dt(e)===ul};Me.isLazy=function(e){return Dt(e)===yl};Me.isMemo=function(e){return Dt(e)===gl};Me.isPortal=function(e){return Dt(e)===yh};Me.isProfiler=function(e){return Dt(e)===dl};Me.isStrictMode=function(e){return Dt(e)===cl};Me.isSuspense=function(e){return Dt(e)===vl};M_.exports=Me;var uy=M_.exports,u5=j1;function c5(e,t){return u5(e,t)}var z_=c5,d5=Pb;function f5(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?d5(e,void 0,t):[]}var U_=f5,p5=zb,h5=$b,m5=qb,v5=rn,g5=Bs,cy=Ub,y5=Math.min;function b5(e,t,n){for(var a=n?m5:h5,r=e[0].length,i=e.length,o=i,s=Array(i),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=v5(u,g5(t))),l=y5(u.length,l),s[o]=!n&&(t||r>=120&&u.length>=120)?new p5(o&&u):void 0}u=e[0];var d=-1,p=s[0];e:for(;++d<r&&c.length<l;){var f=u[d],h=t?t(f):f;if(f=n||f!==0?f:0,!(p?cy(p,h):a(c,h,n))){for(o=i;--o;){var v=s[o];if(!(v?cy(v,h):a(e[o],h,n)))continue e}p&&p.push(h),c.push(f)}}return c}var H_=b5,w5=nl;function S5(e){return w5(e)?e:[]}var W_=S5,_5=rn,E5=H_,C5=sn,x5=W_,N5=ES,I5=C5(function(e){var t=N5(e),n=_5(e,x5);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?E5(n,void 0,t):[]}),j_=I5,T5=Q1,R5=Vb,P5="[object Boolean]";function A5(e){return e===!0||e===!1||R5(e)&&T5(e)==P5}var k5=A5,Zt=z_,$5=dh,wh=Fb,dy=U_,q5=SS,F5=j_,ss=$p,_c=k5,fy=e=>Array.isArray(e)?e:[e],Ut=e=>e===void 0,ho=e=>ss(e)||Array.isArray(e)?Object.keys(e):[],Yn=(e,t)=>e.hasOwnProperty(t),ua=e=>$5(wh(e)),py=e=>Ut(e)||Array.isArray(e)&&e.length===0,D5=(e,t,n,a)=>t&&Yn(t,n)&&e&&Yn(e,n)&&a(e[n],t[n]),Ec=(e,t)=>Ut(e)&&t===0||Ut(t)&&e===0||Zt(e,t),O5=(e,t)=>Ut(e)&&t===!1||Ut(t)&&e===!1||Zt(e,t),hy=e=>Ut(e)||Zt(e,{})||e===!0,mo=e=>Ut(e)||Zt(e,{}),my=e=>Ut(e)||ss(e)||e===!0||e===!1;function vy(e,t){return py(e)&&py(t)?!0:Zt(ua(e),ua(t))}function L5(e,t){return e=fy(e),t=fy(t),Zt(ua(e),ua(t))}function Po(e,t,n,a){var r=wh(ho(e).concat(ho(t)));return mo(e)&&mo(t)?!0:mo(e)&&ho(t).length||mo(t)&&ho(e).length?!1:r.every(function(i){var o=e[i],s=t[i];return Array.isArray(o)&&Array.isArray(s)?Zt(ua(e),ua(t)):Array.isArray(o)&&!Array.isArray(s)||Array.isArray(s)&&!Array.isArray(o)?!1:D5(e,t,i,a)})}function V5(e,t,n,a){return ss(e)&&ss(t)?a(e,t):Array.isArray(e)&&Array.isArray(t)?Po(e,t,n,a):Zt(e,t)}function Cc(e,t,n,a){var r=dy(e,a),i=dy(t,a),o=F5(r,i,a);return o.length===Math.max(r.length,i.length)}var M5={title:Zt,uniqueItems:O5,minLength:Ec,minItems:Ec,minProperties:Ec,required:vy,enum:vy,type:L5,items:V5,anyOf:Cc,allOf:Cc,oneOf:Cc,properties:Po,patternProperties:Po,dependencies:Po},B5=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],z5=["additionalProperties","additionalItems","contains","propertyNames","not"];function Ld(e,t,n){if(n=q5(n,{ignore:[]}),hy(e)&&hy(t))return!0;if(!my(e)||!my(t))throw new Error("Either of the values are not a JSON schema.");if(e===t)return!0;if(_c(e)&&_c(t))return e===t;if(e===void 0&&t===!1||t===void 0&&e===!1||Ut(e)&&!Ut(t)||!Ut(e)&&Ut(t))return!1;var a=wh(Object.keys(e).concat(Object.keys(t)));if(n.ignore.length&&(a=a.filter(i=>n.ignore.indexOf(i)===-1)),!a.length)return!0;function r(i,o){return Ld(i,o,n)}return a.every(function(i){var o=e[i],s=t[i];if(z5.indexOf(i)!==-1)return Ld(o,s,n);var l=M5[i];if(l||(l=Zt),Zt(o,s))return!0;if(B5.indexOf(i)===-1&&(!Yn(e,i)&&Yn(t,i)||Yn(e,i)&&!Yn(t,i)))return o===s;var c=l(o,s,i,r);if(!_c(c))throw new Error("Comparer must return true or false");return c})}var U5=Ld;function H5(e){return Object.prototype.toString.call(e)==="[object Array]"}var Sh=Array.isArray||H5;function W5(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var j5=W5,Q5=j5;function G5(e){return Q5(e)&&e%1===0}var Y5=G5,X5=Sh,K5=Y5;function Z5(e){var t;if(!X5(e)||(t=e.length,!t))return!1;for(var n=0;n<t;n++)if(!K5(e[n]))return!1;return!0}var Q_=Z5;function J5(e){return typeof e=="function"}var G_=J5,e6=Sh,gy=Q_,t6=G_,vo=Math.pow(2,31)-1;function yy(e,t){var n=1,a;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e=e/2,t=t/2,n=n*2;for(;e%2===0;)e=e/2;for(;t;){for(;t%2===0;)t=t/2;e>t&&(a=t,t=e,e=a),t=t-e}return n*e}function by(e,t){var n=0,a;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,n++;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(a=t,t=e,e=a),t=t-e}return e<<n}function r6(){var e=arguments.length,t,n,a,r,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(gy(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i<=vo&&o<=vo?by(i,o):yy(i,o);a=t}else if(e6(t[0]))if(e>1){if(a=t[0],n=t[1],!t6(n))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else a=t[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(r=a.length,r<2)return null;if(n){for(i=new Array(r),s=0;s<r;s++)i[s]=n(a[s],s);a=i}if(e<3&&!gy(a))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+a+"`.");for(s=0;s<r;s++)i=a[s],i<0&&(a[s]=-i);for(i=a[0],s=1;s<r;s++)o=a[s],o<=vo&&i<=vo?i=by(i,o):i=yy(i,o);return i}var n6=r6,wy=n6,a6=Sh,Sy=Q_,i6=G_;function o6(){var e=arguments.length,t,n,a,r,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(Sy(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i===0||o===0?0:i/wy(i,o)*o;a=t}else if(a6(t[0]))if(e>1){if(a=t[0],n=t[1],!i6(n))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else a=t[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(r=a.length,r<2)return null;if(n){for(i=new Array(r),s=0;s<r;s++)i[s]=n(a[s],s);a=i}if(e<3&&!Sy(a))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+a+"`.");for(s=0;s<r;s++)i=a[s],i<0&&(a[s]=-i);for(i=a[0],s=1;s<r;s++){if(o=a[s],i===0||o===0)return 0;i=i/wy(i,o)*o}return i}var s6=o6,l6=ch,_y=Ti;function Y_(e,t,n,a,r,i){return _y(e)&&_y(t)&&(i.set(t,e),l6(e,t,void 0,Y_,i),i.delete(t)),e}var u6=Y_,c6=ch,d6=IS,f6=d6(function(e,t,n,a){c6(e,t,n,a)}),p6=f6,h6=cS,m6=sn,v6=u6,g6=p6,y6=m6(function(e){return e.push(void 0,v6),h6(g6,void 0,e)}),b6=y6,w6=rl,S6=1/0;function _6(e){var t=e==null?0:e.length;return t?w6(e,S6):[]}var E6=_6,C6=rn,x6=H_,N6=sn,I6=W_,T6=N6(function(e){var t=C6(e,I6);return t.length&&t[0]===e[0]?x6(t):[]}),R6=T6;function P6(e,t,n,a){for(var r=n-1,i=e.length;++r<i;)if(a(e[r],t))return r;return-1}var A6=P6,k6=rn,$6=P1,q6=A6,F6=Bs,D6=Ab,O6=Array.prototype,Ey=O6.splice;function L6(e,t,n,a){var r=a?q6:$6,i=-1,o=t.length,s=e;for(e===t&&(t=D6(t)),n&&(s=k6(e,F6(n)));++i<o;)for(var l=0,c=t[i],u=n?n(c):c;(l=r(s,u,l,a))>-1;)s!==e&&Ey.call(s,l,1),Ey.call(e,l,1);return e}var V6=L6,M6=V6;function B6(e,t){return e&&e.length&&t&&t.length?M6(e,t):e}var z6=B6,U6=zb,H6=$b,W6=qb,j6=rn,Q6=Bs,G6=Ub,Y6=200;function X6(e,t,n,a){var r=-1,i=H6,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=j6(t,Q6(n))),a?(i=W6,o=!1):t.length>=Y6&&(i=G6,o=!1,t=new U6(t));e:for(;++r<s;){var u=e[r],d=n==null?u:n(u);if(u=a||u!==0?u:0,o&&d===d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else i(t,d,a)||l.push(u)}return l}var K6=X6,Z6=K6,J6=sn,eB=nl,tB=J6(function(e,t){return eB(e)?Z6(e,t):[]}),rB=tB,X_=kb,hi=U5,nB=s6,aB=b6,_h=lh,Eh=E6,iB=R6,oB=j_,Vd=z_,mi=$p,Cy=z6,K_=dh,Z_=oh,Ch=Fb,wn=U_,sB=rB,xy=(e,...t)=>sB.apply(null,[e].concat(_h(t))),lB=e=>br(nE,e),uB=e=>br(aE,e),br=(e,t)=>e.indexOf(t)!==-1,cB=e=>!pn(e).length&&e!==!1&&e!==!0,Md=e=>mi(e)||e===!0||e===!1,dB=e=>e===!1,J_=e=>e===!0,bl=(e,t,n)=>n(e),eE=e=>K_(Ch(Eh(e))),Pn=e=>e!==void 0,xh=e=>Ch(Eh(e.map(pn))),Ca=e=>e[0],fB=e=>eE(e),Oi=e=>Math.max.apply(Math,e),Li=e=>Math.min.apply(Math,e),pB=e=>e.some(J_),hB=e=>wn(_h(e),Vd);function mB(e){return function(t,n){return hi({[e]:t},{[e]:n})}}function tE(e){if(Array.isArray(e.allOf)){var t=e.allOf;return delete e.allOf,[e].concat(t.map(function(n){return tE(n)}))}else return[e]}function Nh(e,t){return e.map(function(n){return n&&n[t]})}function vB(e,t){return e.map(function(n){if(n)if(Array.isArray(n.items)){var a=n.items[t];if(Md(a))return a;if(n.hasOwnProperty("additionalItems"))return n.additionalItems}else return n.items})}function gB(e,t){return e.map(function(n,a){try{return t(n,a)}catch{return}}).filter(Pn)}function yB(e){return e.map(function(t){if(t)return Array.isArray(t.items)?t.additionalItems:t.items})}function pn(e){return mi(e)||Array.isArray(e)?Object.keys(e):[]}function Bd(e,t){if(t=t||[],!e.length)return t;var n=e.slice(0).shift(),a=e.slice(1);return t.length?Bd(a,_h(t.map(r=>n.map(i=>[i].concat(r))))):Bd(a,n.map(r=>r))}function bB(e,t){return Array.isArray(e)?(e.splice.apply(e,[0,0].concat(t)),e):t}function rE(e,t){var n;try{n=e.map(function(a){return JSON.stringify(a,null,2)}).join(`
`)}catch{n=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+`". They are probably incompatible. Values: 
`+n)}function wB(e){for(var t in e)e.hasOwnProperty(t)&&cB(e[t])&&delete e[t];return e}function zd(e,t,n){return function(a,r){if(r===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return r=String(r),e(a,null,n.concat(t,r))}}function Ny(e,t,n,a,r,i){if(e.length){var o=r.resolvers[t];if(!o)throw new Error("No resolver found for "+t);var s=wn(n.map(function(d){return e.reduce(function(p,f){return d[f]!==void 0&&(p[f]=d[f]),p},{})}).filter(Pn),hi),l=t==="properties"?nE:aE,c=l.reduce(function(d,p){return br(Ud,p)?d[p]=zd(a,p,i):d[p]=function(f){return a(f,null,i.concat(p))},d},{});t==="items"&&(c.itemsArray=zd(a,"items",i),c.items=function(d){return a(d,null,i.concat("items"))});var u=o(s,i.concat(t),c,r);return mi(u)||rE(s,i.concat(t)),wB(u)}}function xc(e,t,n){var a=xh(n||e),r=n?vB:Nh;return a.reduce(function(i,o){var s=r(e,o),l=wn(s.filter(Pn),hi);return i[o]=t(l,o),i},n?[]:{})}function SB(e){Z_(e,function(t,n){t===!1&&delete e[n]})}function _B(e){Z_(e,function(t,n){t===!1&&e.splice(n,1)})}function EB(e){return{required:e}}var nE=["properties","patternProperties","additionalProperties"],aE=["items","additionalItems"],Ud=["properties","patternProperties","definitions","dependencies"],Iy=["anyOf","oneOf"],CB=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Ue={type(e){if(e.some(Array.isArray)){var t=e.map(function(a){return Array.isArray(a)?a:[a]}),n=iB.apply(null,t);if(n.length===1)return n[0];if(n.length>1)return Ch(n)}},properties(e,t,n,a){a.ignoreAdditionalProperties||(e.forEach(function(i){var o=e.filter(u=>u!==i),s=pn(i.properties),l=pn(i.patternProperties),c=l.map(u=>new RegExp(u));o.forEach(function(u){var d=pn(u.properties),p=d.filter(h=>c.some(v=>v.test(h))),f=xy(d,s,p);f.forEach(function(h){u.properties[h]=n.properties([u.properties[h],i.additionalProperties],h)})})}),e.forEach(function(i){var o=e.filter(l=>l!==i),s=pn(i.patternProperties);i.additionalProperties===!1&&o.forEach(function(l){var c=pn(l.patternProperties),u=xy(c,s);u.forEach(d=>delete l.patternProperties[d])})}));var r={additionalProperties:n.additionalProperties(e.map(i=>i.additionalProperties)),patternProperties:xc(e.map(i=>i.patternProperties),n.patternProperties),properties:xc(e.map(i=>i.properties),n.properties)};return r.additionalProperties===!1&&SB(r.properties),r},dependencies(e,t,n){var a=xh(e);return a.reduce(function(r,i){var o=Nh(e,i),s=wn(o.filter(Pn),Vd),l=s.filter(Array.isArray);if(l.length){if(l.length===s.length)r[i]=eE(s);else{var c=s.filter(Md),u=l.map(EB);r[i]=n(c.concat(u),i)}return r}return s=wn(s,hi),r[i]=n(s,i),r},{})},items(e,t,n){var a=e.map(s=>s.items),r=a.filter(Pn),i={};r.every(Md)?i.items=n.items(a):i.items=xc(e,n.itemsArray,a);var o;return r.every(Array.isArray)?o=e.map(s=>s.additionalItems):r.some(Array.isArray)&&(o=yB(e)),o&&(i.additionalItems=n.additionalItems(o)),i.additionalItems===!1&&Array.isArray(i.items)&&_B(i.items),i},oneOf(e,t,n){var a=Bd(X_(e)),r=gB(a,n),i=wn(r,hi);if(i.length)return i},not(e){return{anyOf:e}},pattern(e,t,n,a,r){var i=t.pop();r(e.map(function(o){return{[i]:o}}))},multipleOf(e){for(var t=e.slice(0),n=1;t.some(a=>!Number.isInteger(a));)t=t.map(a=>a*10),n=n*10;return nB(t)/n},enum(e){var t=oB.apply(null,e.concat(Vd));if(t.length)return K_(t)}};Ue.$id=Ca;Ue.$ref=Ca;Ue.$schema=Ca;Ue.additionalItems=bl;Ue.additionalProperties=bl;Ue.anyOf=Ue.oneOf;Ue.contains=bl;Ue.default=Ca;Ue.definitions=Ue.dependencies;Ue.description=Ca;Ue.examples=hB;Ue.exclusiveMaximum=Li;Ue.exclusiveMinimum=Oi;Ue.maximum=Li;Ue.maxItems=Li;Ue.maxLength=Li;Ue.maxProperties=Li;Ue.minimum=Oi;Ue.minItems=Oi;Ue.minLength=Oi;Ue.minProperties=Oi;Ue.propertyNames=bl;Ue.required=fB;Ue.title=Ca;Ue.uniqueItems=pB;function Ih(e,t,n){t=aB(t,{ignoreAdditionalProperties:!1,resolvers:Ue});function a(o,s,l){o=X_(o.filter(Pn)),l=l||[];var c=mi(s)?s:{};if(!o.length)return;if(o.some(dB))return!1;if(o.every(J_))return!0;o=o.filter(mi);var u=xh(o);if(br(u,"allOf"))return Ih({allOf:o},t);var d=u.filter(lB);Cy(u,d);var p=u.filter(uB);Cy(u,p),u.forEach(function(h){var v=Nh(o,h),g=wn(v.filter(Pn),mB(h));if(g.length===1&&br(Iy,h))c[h]=g[0].map(function(_){return a([_],_)});else if(g.length===1&&!br(Ud,h)&&!br(CB,h))c[h]=g[0];else{var b=t.resolvers[h]||t.resolvers.defaultResolver;if(!b)throw new Error("No resolver found for key "+h+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var E;br(Ud,h)||br(Iy,h)?E=zd(a,h,l):E=function(_){return a(_,null,l.concat(h))};var y=!1;c[h]=b(g,l.concat(h),E,t,function(_){return y=Array.isArray(_),f(_)}),c[h]===void 0&&!y?rE(g,l.concat(h)):c[h]===void 0&&delete c[h]}}),Object.assign(c,Ny(d,"properties",o,a,t,l)),Object.assign(c,Ny(p,"items",o,a,t,l));function f(h){c.allOf=bB(c.allOf,h)}return c}var r=Eh(tE(e)),i=a(r,e);return i}Ih.options={resolvers:Ue};var xB=Ih;const NB=It(xB);var IB=A_,Ty=O_,TB=L_,RB=function(t){for(var n=IB(this),a=TB(n),r=arguments.length,i=Ty(r>1?arguments[1]:void 0,a),o=r>2?arguments[2]:void 0,s=o===void 0?a:Ty(o,a);s>i;)n[i++]=t;return n},PB=F_,AB=RB;PB({target:"Array",proto:!0},{fill:AB});var kB=V_,$B=kB("Array","fill"),qB=$B,FB=qB,DB=FB,OB=DB,LB=OB,VB=LB,MB=VB;const BB=It(MB);var wl={},zB=/~/,UB=/~[01]/g;function HB(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function iE(e){return zB.test(e)?e.replace(UB,HB):e}function WB(e,t,n){for(var a,r,i=1,o=t.length;i<o;){if(t[i]==="constructor"||t[i]==="prototype"||t[i]==="__proto__")return e;if(a=iE(t[i++]),r=o>i,typeof e[a]>"u"&&(Array.isArray(e)&&a==="-"&&(a=e.length),r&&(t[i]!==""&&t[i]<1/0||t[i]==="-"?e[a]=[]:e[a]={})),!r)break;e=e[a]}var s=e[a];return n===void 0?delete e[a]:e[a]=n,s}function Th(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function oE(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=Th(t);var n=t.length;if(n===1)return e;for(var a=1;a<n;){if(e=e[iE(t[a++])],n===a)return e;if(typeof e!="object"||e===null)return}}function sE(e,t,n){if(typeof e!="object")throw new Error("Invalid input object.");if(t=Th(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return WB(e,t,n)}function jB(e){var t=Th(e);return{get:function(n){return oE(n,t)},set:function(n,a){return sE(n,t,a)}}}wl.get=oE;wl.set=sE;wl.compile=jB;var Hd={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,a){a(t)})(Kr,function(n){function a(){for(var M=arguments.length,D=Array(M),z=0;z<M;z++)D[z]=arguments[z];if(D.length>1){D[0]=D[0].slice(0,-1);for(var j=D.length-1,W=1;W<j;++W)D[W]=D[W].slice(1,-1);return D[j]=D[j].slice(1),D.join("")}else return D[0]}function r(M){return"(?:"+M+")"}function i(M){return M===void 0?"undefined":M===null?"null":Object.prototype.toString.call(M).split(" ").pop().split("]").shift().toLowerCase()}function o(M){return M.toUpperCase()}function s(M){return M!=null?M instanceof Array?M:typeof M.length!="number"||M.split||M.setInterval||M.call?[M]:Array.prototype.slice.call(M):[]}function l(M,D){var z=M;if(D)for(var j in D)z[j]=D[j];return z}function c(M){var D="[A-Za-z]",z="[0-9]",j=a(z,"[A-Fa-f]"),W=r(r("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+r("%[89A-Fa-f]"+j+"%"+j+j)+"|"+r("%"+j+j)),oe="[\\:\\/\\?\\#\\[\\]\\@]",ce="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pe=a(oe,ce),Ge=M?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",tt=M?"[\\uE000-\\uF8FF]":"[]",Te=a(D,z,"[\\-\\.\\_\\~]",Ge);r(D+a(D,z,"[\\+\\-\\.]")+"*"),r(r(W+"|"+a(Te,ce,"[\\:]"))+"*");var ze=r(r("25[0-5]")+"|"+r("2[0-4]"+z)+"|"+r("1"+z+z)+"|"+r("0?[1-9]"+z)+"|0?0?"+z),rt=r(ze+"\\."+ze+"\\."+ze+"\\."+ze),be=r(j+"{1,4}"),Ke=r(r(be+"\\:"+be)+"|"+rt),it=r(r(be+"\\:")+"{6}"+Ke),Ze=r("\\:\\:"+r(be+"\\:")+"{5}"+Ke),rr=r(r(be)+"?\\:\\:"+r(be+"\\:")+"{4}"+Ke),Rt=r(r(r(be+"\\:")+"{0,1}"+be)+"?\\:\\:"+r(be+"\\:")+"{3}"+Ke),Vt=r(r(r(be+"\\:")+"{0,2}"+be)+"?\\:\\:"+r(be+"\\:")+"{2}"+Ke),Ar=r(r(r(be+"\\:")+"{0,3}"+be)+"?\\:\\:"+be+"\\:"+Ke),mr=r(r(r(be+"\\:")+"{0,4}"+be)+"?\\:\\:"+Ke),St=r(r(r(be+"\\:")+"{0,5}"+be)+"?\\:\\:"+be),_t=r(r(r(be+"\\:")+"{0,6}"+be)+"?\\:\\:"),cn=r([it,Ze,rr,Rt,Vt,Ar,mr,St,_t].join("|")),vr=r(r(Te+"|"+W)+"+");r("[vV]"+j+"+\\."+a(Te,ce,"[\\:]")+"+"),r(r(W+"|"+a(Te,ce))+"*");var Ta=r(W+"|"+a(Te,ce,"[\\:\\@]"));return r(r(W+"|"+a(Te,ce,"[\\@]"))+"+"),r(r(Ta+"|"+a("[\\/\\?]",tt))+"*"),{NOT_SCHEME:new RegExp(a("[^]",D,z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Te,ce),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Te,ce),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Te,ce),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Te,ce),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Te,ce,"[\\:\\@\\/\\?]",tt),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Te,ce,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Te,ce),"g"),UNRESERVED:new RegExp(Te,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Te,Pe),"g"),PCT_ENCODED:new RegExp(W,"g"),IPV4ADDRESS:new RegExp("^("+rt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+cn+")"+r(r("\\%25|\\%(?!"+j+"{2})")+"("+vr+")")+"?\\]?$")}}var u=c(!1),d=c(!0),p=function(){function M(D,z){var j=[],W=!0,oe=!1,ce=void 0;try{for(var Pe=D[Symbol.iterator](),Ge;!(W=(Ge=Pe.next()).done)&&(j.push(Ge.value),!(z&&j.length===z));W=!0);}catch(tt){oe=!0,ce=tt}finally{try{!W&&Pe.return&&Pe.return()}finally{if(oe)throw ce}}return j}return function(D,z){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return M(D,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(M){if(Array.isArray(M)){for(var D=0,z=Array(M.length);D<M.length;D++)z[D]=M[D];return z}else return Array.from(M)},h=2147483647,v=36,g=1,b=26,E=38,y=700,_=72,w=128,S="-",C=/^xn--/,x=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=v-g,k=Math.floor,I=String.fromCharCode;function N(M){throw new RangeError(R[M])}function $(M,D){for(var z=[],j=M.length;j--;)z[j]=D(M[j]);return z}function F(M,D){var z=M.split("@"),j="";z.length>1&&(j=z[0]+"@",M=z[1]),M=M.replace(T,".");var W=M.split("."),oe=$(W,D).join(".");return j+oe}function A(M){for(var D=[],z=0,j=M.length;z<j;){var W=M.charCodeAt(z++);if(W>=55296&&W<=56319&&z<j){var oe=M.charCodeAt(z++);(oe&64512)==56320?D.push(((W&1023)<<10)+(oe&1023)+65536):(D.push(W),z--)}else D.push(W)}return D}var V=function(D){return String.fromCodePoint.apply(String,f(D))},O=function(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:v},U=function(D,z){return D+22+75*(D<26)-((z!=0)<<5)},H=function(D,z,j){var W=0;for(D=j?k(D/y):D>>1,D+=k(D/z);D>q*b>>1;W+=v)D=k(D/q);return k(W+(q+1)*D/(D+E))},G=function(D){var z=[],j=D.length,W=0,oe=w,ce=_,Pe=D.lastIndexOf(S);Pe<0&&(Pe=0);for(var Ge=0;Ge<Pe;++Ge)D.charCodeAt(Ge)>=128&&N("not-basic"),z.push(D.charCodeAt(Ge));for(var tt=Pe>0?Pe+1:0;tt<j;){for(var Te=W,ze=1,rt=v;;rt+=v){tt>=j&&N("invalid-input");var be=O(D.charCodeAt(tt++));(be>=v||be>k((h-W)/ze))&&N("overflow"),W+=be*ze;var Ke=rt<=ce?g:rt>=ce+b?b:rt-ce;if(be<Ke)break;var it=v-Ke;ze>k(h/it)&&N("overflow"),ze*=it}var Ze=z.length+1;ce=H(W-Te,Ze,Te==0),k(W/Ze)>h-oe&&N("overflow"),oe+=k(W/Ze),W%=Ze,z.splice(W++,0,oe)}return String.fromCodePoint.apply(String,z)},X=function(D){var z=[];D=A(D);var j=D.length,W=w,oe=0,ce=_,Pe=!0,Ge=!1,tt=void 0;try{for(var Te=D[Symbol.iterator](),ze;!(Pe=(ze=Te.next()).done);Pe=!0){var rt=ze.value;rt<128&&z.push(I(rt))}}catch(Ra){Ge=!0,tt=Ra}finally{try{!Pe&&Te.return&&Te.return()}finally{if(Ge)throw tt}}var be=z.length,Ke=be;for(be&&z.push(S);Ke<j;){var it=h,Ze=!0,rr=!1,Rt=void 0;try{for(var Vt=D[Symbol.iterator](),Ar;!(Ze=(Ar=Vt.next()).done);Ze=!0){var mr=Ar.value;mr>=W&&mr<it&&(it=mr)}}catch(Ra){rr=!0,Rt=Ra}finally{try{!Ze&&Vt.return&&Vt.return()}finally{if(rr)throw Rt}}var St=Ke+1;it-W>k((h-oe)/St)&&N("overflow"),oe+=(it-W)*St,W=it;var _t=!0,cn=!1,vr=void 0;try{for(var Ta=D[Symbol.iterator](),Qh;!(_t=(Qh=Ta.next()).done);_t=!0){var Gh=Qh.value;if(Gh<W&&++oe>h&&N("overflow"),Gh==W){for(var Wi=oe,ji=v;;ji+=v){var Qi=ji<=ce?g:ji>=ce+b?b:ji-ce;if(Wi<Qi)break;var Yh=Wi-Qi,Xh=v-Qi;z.push(I(U(Qi+Yh%Xh,0))),Wi=k(Yh/Xh)}z.push(I(U(Wi,0))),ce=H(oe,St,Ke==be),oe=0,++Ke}}}catch(Ra){cn=!0,vr=Ra}finally{try{!_t&&Ta.return&&Ta.return()}finally{if(cn)throw vr}}++oe,++W}return z.join("")},Y=function(D){return F(D,function(z){return C.test(z)?G(z.slice(4).toLowerCase()):z})},K=function(D){return F(D,function(z){return x.test(z)?"xn--"+X(z):z})},J={version:"2.1.0",ucs2:{decode:A,encode:V},decode:G,encode:X,toASCII:K,toUnicode:Y},ne={};function fe(M){var D=M.charCodeAt(0),z=void 0;return D<16?z="%0"+D.toString(16).toUpperCase():D<128?z="%"+D.toString(16).toUpperCase():D<2048?z="%"+(D>>6|192).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase():z="%"+(D>>12|224).toString(16).toUpperCase()+"%"+(D>>6&63|128).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase(),z}function ye(M){for(var D="",z=0,j=M.length;z<j;){var W=parseInt(M.substr(z+1,2),16);if(W<128)D+=String.fromCharCode(W),z+=3;else if(W>=194&&W<224){if(j-z>=6){var oe=parseInt(M.substr(z+4,2),16);D+=String.fromCharCode((W&31)<<6|oe&63)}else D+=M.substr(z,6);z+=6}else if(W>=224){if(j-z>=9){var ce=parseInt(M.substr(z+4,2),16),Pe=parseInt(M.substr(z+7,2),16);D+=String.fromCharCode((W&15)<<12|(ce&63)<<6|Pe&63)}else D+=M.substr(z,9);z+=9}else D+=M.substr(z,3),z+=3}return D}function ie(M,D){function z(j){var W=ye(j);return W.match(D.UNRESERVED)?W:j}return M.scheme&&(M.scheme=String(M.scheme).replace(D.PCT_ENCODED,z).toLowerCase().replace(D.NOT_SCHEME,"")),M.userinfo!==void 0&&(M.userinfo=String(M.userinfo).replace(D.PCT_ENCODED,z).replace(D.NOT_USERINFO,fe).replace(D.PCT_ENCODED,o)),M.host!==void 0&&(M.host=String(M.host).replace(D.PCT_ENCODED,z).toLowerCase().replace(D.NOT_HOST,fe).replace(D.PCT_ENCODED,o)),M.path!==void 0&&(M.path=String(M.path).replace(D.PCT_ENCODED,z).replace(M.scheme?D.NOT_PATH:D.NOT_PATH_NOSCHEME,fe).replace(D.PCT_ENCODED,o)),M.query!==void 0&&(M.query=String(M.query).replace(D.PCT_ENCODED,z).replace(D.NOT_QUERY,fe).replace(D.PCT_ENCODED,o)),M.fragment!==void 0&&(M.fragment=String(M.fragment).replace(D.PCT_ENCODED,z).replace(D.NOT_FRAGMENT,fe).replace(D.PCT_ENCODED,o)),M}function ve(M){return M.replace(/^0*(.*)/,"$1")||"0"}function Ae(M,D){var z=M.match(D.IPV4ADDRESS)||[],j=p(z,2),W=j[1];return W?W.split(".").map(ve).join("."):M}function he(M,D){var z=M.match(D.IPV6ADDRESS)||[],j=p(z,3),W=j[1],oe=j[2];if(W){for(var ce=W.toLowerCase().split("::").reverse(),Pe=p(ce,2),Ge=Pe[0],tt=Pe[1],Te=tt?tt.split(":").map(ve):[],ze=Ge.split(":").map(ve),rt=D.IPV4ADDRESS.test(ze[ze.length-1]),be=rt?7:8,Ke=ze.length-be,it=Array(be),Ze=0;Ze<be;++Ze)it[Ze]=Te[Ze]||ze[Ke+Ze]||"";rt&&(it[be-1]=Ae(it[be-1],D));var rr=it.reduce(function(St,_t,cn){if(!_t||_t==="0"){var vr=St[St.length-1];vr&&vr.index+vr.length===cn?vr.length++:St.push({index:cn,length:1})}return St},[]),Rt=rr.sort(function(St,_t){return _t.length-St.length})[0],Vt=void 0;if(Rt&&Rt.length>1){var Ar=it.slice(0,Rt.index),mr=it.slice(Rt.index+Rt.length);Vt=Ar.join(":")+"::"+mr.join(":")}else Vt=it.join(":");return oe&&(Vt+="%"+oe),Vt}else return M}var te=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,me="".match(/(){0}/)[1]===void 0;function we(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z={},j=D.iri!==!1?d:u;D.reference==="suffix"&&(M=(D.scheme?D.scheme+":":"")+"//"+M);var W=M.match(te);if(W){me?(z.scheme=W[1],z.userinfo=W[3],z.host=W[4],z.port=parseInt(W[5],10),z.path=W[6]||"",z.query=W[7],z.fragment=W[8],isNaN(z.port)&&(z.port=W[5])):(z.scheme=W[1]||void 0,z.userinfo=M.indexOf("@")!==-1?W[3]:void 0,z.host=M.indexOf("//")!==-1?W[4]:void 0,z.port=parseInt(W[5],10),z.path=W[6]||"",z.query=M.indexOf("?")!==-1?W[7]:void 0,z.fragment=M.indexOf("#")!==-1?W[8]:void 0,isNaN(z.port)&&(z.port=M.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?W[4]:void 0)),z.host&&(z.host=he(Ae(z.host,j),j)),z.scheme===void 0&&z.userinfo===void 0&&z.host===void 0&&z.port===void 0&&!z.path&&z.query===void 0?z.reference="same-document":z.scheme===void 0?z.reference="relative":z.fragment===void 0?z.reference="absolute":z.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==z.reference&&(z.error=z.error||"URI is not a "+D.reference+" reference.");var oe=ne[(D.scheme||z.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!oe||!oe.unicodeSupport)){if(z.host&&(D.domainHost||oe&&oe.domainHost))try{z.host=J.toASCII(z.host.replace(j.PCT_ENCODED,ye).toLowerCase())}catch(ce){z.error=z.error||"Host's domain name can not be converted to ASCII via punycode: "+ce}ie(z,u)}else ie(z,j);oe&&oe.parse&&oe.parse(z,D)}else z.error=z.error||"URI can not be parsed.";return z}function ae(M,D){var z=D.iri!==!1?d:u,j=[];return M.userinfo!==void 0&&(j.push(M.userinfo),j.push("@")),M.host!==void 0&&j.push(he(Ae(String(M.host),z),z).replace(z.IPV6ADDRESS,function(W,oe,ce){return"["+oe+(ce?"%25"+ce:"")+"]"})),(typeof M.port=="number"||typeof M.port=="string")&&(j.push(":"),j.push(String(M.port))),j.length?j.join(""):void 0}var Ye=/^\.\.?\//,ke=/^\/\.(\/|$)/,He=/^\/\.\.(\/|$)/,ut=/^\/?(?:.|\n)*?(?=\/|$)/;function $e(M){for(var D=[];M.length;)if(M.match(Ye))M=M.replace(Ye,"");else if(M.match(ke))M=M.replace(ke,"/");else if(M.match(He))M=M.replace(He,"/"),D.pop();else if(M==="."||M==="..")M="";else{var z=M.match(ut);if(z){var j=z[0];M=M.slice(j.length),D.push(j)}else throw new Error("Unexpected dot segment condition")}return D.join("")}function ee(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=D.iri?d:u,j=[],W=ne[(D.scheme||M.scheme||"").toLowerCase()];if(W&&W.serialize&&W.serialize(M,D),M.host&&!z.IPV6ADDRESS.test(M.host)){if(D.domainHost||W&&W.domainHost)try{M.host=D.iri?J.toUnicode(M.host):J.toASCII(M.host.replace(z.PCT_ENCODED,ye).toLowerCase())}catch(Pe){M.error=M.error||"Host's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+Pe}}ie(M,z),D.reference!=="suffix"&&M.scheme&&(j.push(M.scheme),j.push(":"));var oe=ae(M,D);if(oe!==void 0&&(D.reference!=="suffix"&&j.push("//"),j.push(oe),M.path&&M.path.charAt(0)!=="/"&&j.push("/")),M.path!==void 0){var ce=M.path;!D.absolutePath&&(!W||!W.absolutePath)&&(ce=$e(ce)),oe===void 0&&(ce=ce.replace(/^\/\//,"/%2F")),j.push(ce)}return M.query!==void 0&&(j.push("?"),j.push(M.query)),M.fragment!==void 0&&(j.push("#"),j.push(M.fragment)),j.join("")}function ue(M,D){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],W={};return j||(M=we(ee(M,z),z),D=we(ee(D,z),z)),z=z||{},!z.tolerant&&D.scheme?(W.scheme=D.scheme,W.userinfo=D.userinfo,W.host=D.host,W.port=D.port,W.path=$e(D.path||""),W.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(W.userinfo=D.userinfo,W.host=D.host,W.port=D.port,W.path=$e(D.path||""),W.query=D.query):(D.path?(D.path.charAt(0)==="/"?W.path=$e(D.path):((M.userinfo!==void 0||M.host!==void 0||M.port!==void 0)&&!M.path?W.path="/"+D.path:M.path?W.path=M.path.slice(0,M.path.lastIndexOf("/")+1)+D.path:W.path=D.path,W.path=$e(W.path)),W.query=D.query):(W.path=M.path,D.query!==void 0?W.query=D.query:W.query=M.query),W.userinfo=M.userinfo,W.host=M.host,W.port=M.port),W.scheme=M.scheme),W.fragment=D.fragment,W}function de(M,D,z){var j=l({scheme:"null"},z);return ee(ue(we(M,j),we(D,j),j,!0),j)}function Ne(M,D){return typeof M=="string"?M=ee(we(M,D),D):i(M)==="object"&&(M=we(ee(M,D),D)),M}function ge(M,D,z){return typeof M=="string"?M=ee(we(M,z),z):i(M)==="object"&&(M=ee(M,z)),typeof D=="string"?D=ee(we(D,z),z):i(D)==="object"&&(D=ee(D,z)),M===D}function ht(M,D){return M&&M.toString().replace(!D||!D.iri?u.ESCAPE:d.ESCAPE,fe)}function Se(M,D){return M&&M.toString().replace(!D||!D.iri?u.PCT_ENCODED:d.PCT_ENCODED,ye)}var We={scheme:"http",domainHost:!0,parse:function(D,z){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D},serialize:function(D,z){var j=String(D.scheme).toLowerCase()==="https";return(D.port===(j?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}},Be={scheme:"https",domainHost:We.domainHost,parse:We.parse,serialize:We.serialize};function Z(M){return typeof M.secure=="boolean"?M.secure:String(M.scheme).toLowerCase()==="wss"}var re={scheme:"ws",domainHost:!0,parse:function(D,z){var j=D;return j.secure=Z(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(D,z){if((D.port===(Z(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){var j=D.resourceName.split("?"),W=p(j,2),oe=W[0],ce=W[1];D.path=oe&&oe!=="/"?oe:void 0,D.query=ce,D.resourceName=void 0}return D.fragment=void 0,D}},Ee={scheme:"wss",domainHost:re.domainHost,parse:re.parse,serialize:re.serialize},Ie={},Qe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Xe="[0-9A-Fa-f]",Ot=r(r("%[EFef]"+Xe+"%"+Xe+Xe+"%"+Xe+Xe)+"|"+r("%[89A-Fa-f]"+Xe+"%"+Xe+Xe)+"|"+r("%"+Xe+Xe)),Lt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Na="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Mi=a(Na,'[\\"\\\\]'),hr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Tl=new RegExp(Qe,"g"),Pr=new RegExp(Ot,"g"),Rl=new RegExp(a("[^]",Lt,"[\\.]",'[\\"]',Mi),"g"),Bi=new RegExp(a("[^]",Qe,hr),"g"),Pl=Bi;function Ia(M){var D=ye(M);return D.match(Tl)?D:M}var zi={scheme:"mailto",parse:function(D,z){var j=D,W=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var oe=!1,ce={},Pe=j.query.split("&"),Ge=0,tt=Pe.length;Ge<tt;++Ge){var Te=Pe[Ge].split("=");switch(Te[0]){case"to":for(var ze=Te[1].split(","),rt=0,be=ze.length;rt<be;++rt)W.push(ze[rt]);break;case"subject":j.subject=Se(Te[1],z);break;case"body":j.body=Se(Te[1],z);break;default:oe=!0,ce[Se(Te[0],z)]=Se(Te[1],z);break}}oe&&(j.headers=ce)}j.query=void 0;for(var Ke=0,it=W.length;Ke<it;++Ke){var Ze=W[Ke].split("@");if(Ze[0]=Se(Ze[0]),z.unicodeSupport)Ze[1]=Se(Ze[1],z).toLowerCase();else try{Ze[1]=J.toASCII(Se(Ze[1],z).toLowerCase())}catch(rr){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+rr}W[Ke]=Ze.join("@")}return j},serialize:function(D,z){var j=D,W=s(D.to);if(W){for(var oe=0,ce=W.length;oe<ce;++oe){var Pe=String(W[oe]),Ge=Pe.lastIndexOf("@"),tt=Pe.slice(0,Ge).replace(Pr,Ia).replace(Pr,o).replace(Rl,fe),Te=Pe.slice(Ge+1);try{Te=z.iri?J.toUnicode(Te):J.toASCII(Se(Te,z).toLowerCase())}catch(Ke){j.error=j.error||"Email address's domain name can not be converted to "+(z.iri?"Unicode":"ASCII")+" via punycode: "+Ke}W[oe]=tt+"@"+Te}j.path=W.join(",")}var ze=D.headers=D.headers||{};D.subject&&(ze.subject=D.subject),D.body&&(ze.body=D.body);var rt=[];for(var be in ze)ze[be]!==Ie[be]&&rt.push(be.replace(Pr,Ia).replace(Pr,o).replace(Bi,fe)+"="+ze[be].replace(Pr,Ia).replace(Pr,o).replace(Pl,fe));return rt.length&&(j.query=rt.join("&")),j}},Al=/^([^\:]+)\:(.*)/,Ui={scheme:"urn",parse:function(D,z){var j=D.path&&D.path.match(Al),W=D;if(j){var oe=z.scheme||W.scheme||"urn",ce=j[1].toLowerCase(),Pe=j[2],Ge=oe+":"+(z.nid||ce),tt=ne[Ge];W.nid=ce,W.nss=Pe,W.path=void 0,tt&&(W=tt.parse(W,z))}else W.error=W.error||"URN can not be parsed.";return W},serialize:function(D,z){var j=z.scheme||D.scheme||"urn",W=D.nid,oe=j+":"+(z.nid||W),ce=ne[oe];ce&&(D=ce.serialize(D,z));var Pe=D,Ge=D.nss;return Pe.path=(W||z.nid)+":"+Ge,Pe}},kl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Hi={scheme:"urn:uuid",parse:function(D,z){var j=D;return j.uuid=j.nss,j.nss=void 0,!z.tolerant&&(!j.uuid||!j.uuid.match(kl))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(D,z){var j=D;return j.nss=(D.uuid||"").toLowerCase(),j}};ne[We.scheme]=We,ne[Be.scheme]=Be,ne[re.scheme]=re,ne[Ee.scheme]=Ee,ne[zi.scheme]=zi,ne[Ui.scheme]=Ui,ne[Hi.scheme]=Hi,n.SCHEMES=ne,n.pctEncChar=fe,n.pctDecChars=ye,n.parse=we,n.removeDotSegments=$e,n.serialize=ee,n.resolveComponents=ue,n.resolve=de,n.normalize=Ne,n.equal=ge,n.escapeComponent=ht,n.unescapeComponent=Se,Object.defineProperty(n,"__esModule",{value:!0})})})(Hd,Hd.exports);var QB=Hd.exports,Rh=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,i;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=a;r--!==0;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},GB=function(t){for(var n=0,a=t.length,r=0,i;r<a;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<a&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return n},xa={copy:YB,checkDataType:Wd,checkDataTypes:XB,coerceToTypes:KB,toHash:Ph,getProperty:Ah,escapeQuotes:kh,equal:Rh,ucs2length:GB,varOccurences:e9,varReplace:t9,schemaHasRules:r9,schemaHasRulesExcept:n9,schemaUnknownRules:a9,toQuotedString:jd,getPathExpr:i9,getPath:o9,getData:u9,unescapeFragment:c9,unescapeJsonPointer:qh,escapeFragment:d9,escapeJsonPointer:$h};function YB(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function Wd(e,t,n,a){var r=a?" !== ":" === ",i=a?" || ":" && ",o=a?"!":"",s=a?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+s+"("+t+" % 1)"+i+t+r+t+(n?i+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+r+'"'+e+'"'+(n?i+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+r+'"'+e+'"'}}function XB(e,t,n){switch(e.length){case 1:return Wd(e[0],t,n,!0);default:var a="",r=Ph(e);r.array&&r.object&&(a=r.null?"(":"(!"+t+" || ",a+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var i in r)a+=(a?" && ":"")+Wd(i,t,n,!0);return a}}var Ry=Ph(["string","number","integer","boolean","null"]);function KB(e,t){if(Array.isArray(t)){for(var n=[],a=0;a<t.length;a++){var r=t[a];(Ry[r]||e==="array"&&r==="array")&&(n[n.length]=r)}if(n.length)return n}else{if(Ry[t])return[t];if(e==="array"&&t==="array")return["array"]}}function Ph(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var ZB=/^[a-z$_][a-z$_0-9]*$/i,JB=/'|\\/g;function Ah(e){return typeof e=="number"?"["+e+"]":ZB.test(e)?"."+e:"['"+kh(e)+"']"}function kh(e){return e.replace(JB,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function e9(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function t9(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function r9(e,t){if(typeof e=="boolean")return!e;for(var n in e)if(t[n])return!0}function n9(e,t,n){if(typeof e=="boolean")return!e&&n!="not";for(var a in e)if(a!=n&&t[a])return!0}function a9(e,t){if(typeof e!="boolean"){for(var n in e)if(!t[n])return n}}function jd(e){return"'"+kh(e)+"'"}function i9(e,t,n,a){var r=n?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return lE(e,r)}function o9(e,t,n){var a=jd(n?"/"+$h(t):Ah(t));return lE(e,a)}var s9=/^\/(?:[^~]|~0|~1)*$/,l9=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function u9(e,t,n){var a,r,i,o;if(e==="")return"rootData";if(e[0]=="/"){if(!s9.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,i="rootData"}else{if(o=e.match(l9),!o)throw new Error("Invalid JSON-pointer: "+e);if(a=+o[1],r=o[2],r=="#"){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return n[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(i="data"+(t-a||""),!r)return i}for(var s=i,l=r.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=Ah(qh(u)),s+=" && "+i)}return s}function lE(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function c9(e){return qh(decodeURIComponent(e))}function d9(e){return encodeURIComponent($h(e))}function $h(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function qh(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var f9=xa,uE=p9;function p9(e){f9.copy(e,this)}var cE={exports:{}},Hr=cE.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var a=typeof n=="function"?n:n.pre||function(){},r=n.post||function(){};Ao(t,a,r,e,"",e)};Hr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Hr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Hr.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Hr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ao(e,t,n,a,r,i,o,s,l,c){if(a&&typeof a=="object"&&!Array.isArray(a)){t(a,r,i,o,s,l,c);for(var u in a){var d=a[u];if(Array.isArray(d)){if(u in Hr.arrayKeywords)for(var p=0;p<d.length;p++)Ao(e,t,n,d[p],r+"/"+u+"/"+p,i,r,u,a,p)}else if(u in Hr.propsKeywords){if(d&&typeof d=="object")for(var f in d)Ao(e,t,n,d[f],r+"/"+u+"/"+h9(f),i,r,u,a,f)}else(u in Hr.keywords||e.allKeys&&!(u in Hr.skipKeywords))&&Ao(e,t,n,d,r+"/"+u,i,r,u,a)}n(a,r,i,o,s,l,c)}}function h9(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var m9=cE.exports,Vi=QB,Py=Rh,Sl=xa,ls=uE,v9=m9,Fh=un;un.normalizeId=Xr;un.fullPath=us;un.url=cs;un.ids=S9;un.inlineRef=Qd;un.schema=_l;function un(e,t,n){var a=this._refs[n];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return un.call(this,e,t,a);if(a=a||this._schemas[n],a instanceof ls)return Qd(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var r=_l.call(this,t,n),i,o,s;return r&&(i=r.schema,t=r.root,s=r.baseId),i instanceof ls?o=i.validate||e.call(this,i.schema,t,void 0,s):i!==void 0&&(o=Qd(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function _l(e,t){var n=Vi.parse(t),a=fE(n),r=us(this._getId(e.schema));if(Object.keys(e.schema).length===0||a!==r){var i=Xr(a),o=this._refs[i];if(typeof o=="string")return g9.call(this,e,o,n);if(o instanceof ls)o.validate||this._compile(o),e=o;else if(o=this._schemas[i],o instanceof ls){if(o.validate||this._compile(o),i==Xr(t))return{schema:o,root:e,baseId:r};e=o}else return;if(!e.schema)return;r=us(this._getId(e.schema))}return dE.call(this,n,r,e.schema,e)}function g9(e,t,n){var a=_l.call(this,e,t);if(a){var r=a.schema,i=a.baseId;e=a.root;var o=this._getId(r);return o&&(i=cs(i,o)),dE.call(this,n,i,r,e)}}var y9=Sl.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function dE(e,t,n,a){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var r=e.fragment.split("/"),i=1;i<r.length;i++){var o=r[i];if(o){if(o=Sl.unescapeFragment(o),n=n[o],n===void 0)break;var s;if(!y9[o]&&(s=this._getId(n),s&&(t=cs(t,s)),n.$ref)){var l=cs(t,n.$ref),c=_l.call(this,a,l);c&&(n=c.schema,a=c.root,t=c.baseId)}}}if(n!==void 0&&n!==a.schema)return{schema:n,root:a,baseId:t}}}var b9=Sl.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Qd(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return Gd(e);if(t)return Yd(e)<=t}function Gd(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],typeof t=="object"&&!Gd(t))return!1}else for(var a in e)if(a=="$ref"||(t=e[a],typeof t=="object"&&!Gd(t)))return!1;return!0}function Yd(e){var t=0,n;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if(n=e[a],typeof n=="object"&&(t+=Yd(n)),t==1/0)return 1/0}else for(var r in e){if(r=="$ref")return 1/0;if(b9[r])t++;else if(n=e[r],typeof n=="object"&&(t+=Yd(n)+1),t==1/0)return 1/0}return t}function us(e,t){t!==!1&&(e=Xr(e));var n=Vi.parse(e);return fE(n)}function fE(e){return Vi.serialize(e).split("#")[0]+"#"}var w9=/#\/?$/;function Xr(e){return e?e.replace(w9,""):""}function cs(e,t){return t=Xr(t),Vi.resolve(e,t)}function S9(e){var t=Xr(this._getId(e)),n={"":t},a={"":us(t,!1)},r={},i=this;return v9(e,{allKeys:!0},function(o,s,l,c,u,d,p){if(s!==""){var f=i._getId(o),h=n[c],v=a[c]+"/"+u;if(p!==void 0&&(v+="/"+(typeof p=="number"?p:Sl.escapeFragment(p))),typeof f=="string"){f=h=Xr(h?Vi.resolve(h,f):f);var g=i._refs[f];if(typeof g=="string"&&(g=i._refs[g]),g&&g.schema){if(!Py(o,g.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=Xr(v))if(f[0]=="#"){if(r[f]&&!Py(o,r[f]))throw new Error('id "'+f+'" resolves to more than one schema');r[f]=o}else i._refs[f]=v}n[s]=h,a[s]=v}}),r}var Nc=Fh,Dh={Validation:Ay(_9),MissingRef:Ay(Oh)};function _9(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}Oh.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function Oh(e,t,n){this.message=n||Oh.message(e,t),this.missingRef=Nc.url(e,t),this.missingSchema=Nc.normalizeId(Nc.fullPath(this.missingRef))}function Ay(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var pE=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,a=t.cmp&&function(i){return function(o){return function(s,l){var c={key:s,value:o[s]},u={key:l,value:o[l]};return i(c,u)}}}(t.cmp),r=[];return function i(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var s,l;if(Array.isArray(o)){for(l="[",s=0;s<o.length;s++)s&&(l+=","),l+=i(o[s])||"null";return l+"]"}if(o===null)return"null";if(r.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=r.push(o)-1,u=Object.keys(o).sort(a&&a(o));for(l="",s=0;s<u.length;s++){var d=u[s],p=i(o[d]);p&&(l&&(l+=","),l+=JSON.stringify(d)+":"+p)}return r.splice(c,1),"{"+l+"}"}}(e)},hE=function(t,n,a){var r="",i=t.schema.$async===!0,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),s=t.self._getId(t.schema);if(t.opts.strictKeywords){var l=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(l){var c="unknown keyword: "+l;if(t.opts.strictKeywords==="log")t.logger.warn(c);else throw new Error(c)}}if(t.isTop&&(r+=" var validate = ",i&&(t.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(t.opts.sourceCode||t.opts.processCode)&&(r+=" "+("/*# sourceURL="+s+" */")+" ")),typeof t.schema=="boolean"||!(o||t.schema.$ref)){var n="false schema",u=t.level,d=t.dataLevel,p=t.schema[n],f=t.schemaPath+t.util.getProperty(n),h=t.errSchemaPath+"/"+n,w=!t.opts.allErrors,x,v="data"+(d||""),_="valid"+u;if(t.schema===!1){t.isTop?w=!0:r+=" var "+_+" = false; ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?i?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+_+" = true; ";return t.isTop&&(r+=" }; return validate; "),r}if(t.isTop){var E=t.isTop,u=t.level=0,d=t.dataLevel=0,v="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var y="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var u=t.level,d=t.dataLevel,v="data"+(d||"");if(s&&(t.baseId=t.resolve.url(t.baseId,s)),i&&!t.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}var _="valid"+u,w=!t.opts.allErrors,S="",C="",x,T=t.schema.type,R=Array.isArray(T);if(T&&t.opts.nullable&&t.schema.nullable===!0&&(R?T.indexOf("null")==-1&&(T=T.concat("null")):T!="null"&&(T=[T,"null"],R=!0)),R&&T.length==1&&(T=T[0],R=!1),t.schema.$ref&&o){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(r+=" "+t.RULES.all.$comment.code(t,"$comment")),T){if(t.opts.coerceTypes)var q=t.util.coerceToTypes(t.opts.coerceTypes,T);var k=t.RULES.types[T];if(q||R||k===!0||k&&!ke(k)){var f=t.schemaPath+".type",h=t.errSchemaPath+"/type",f=t.schemaPath+".type",h=t.errSchemaPath+"/type",I=R?"checkDataTypes":"checkDataType";if(r+=" if ("+t.util[I](T,v,t.opts.strictNumbers,!0)+") { ",q){var N="dataType"+u,$="coerced"+u;r+=" var "+N+" = typeof "+v+"; var "+$+" = undefined; ",t.opts.coerceTypes=="array"&&(r+=" if ("+N+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+N+" = typeof "+v+"; if ("+t.util.checkDataType(t.schema.type,v,t.opts.strictNumbers)+") "+$+" = "+v+"; } "),r+=" if ("+$+" !== undefined) ; ";var F=q;if(F)for(var A,V=-1,O=F.length-1;V<O;)A=F[V+=1],A=="string"?r+=" else if ("+N+" == 'number' || "+N+" == 'boolean') "+$+" = '' + "+v+"; else if ("+v+" === null) "+$+" = ''; ":A=="number"||A=="integer"?(r+=" else if ("+N+" == 'boolean' || "+v+" === null || ("+N+" == 'string' && "+v+" && "+v+" == +"+v+" ",A=="integer"&&(r+=" && !("+v+" % 1)"),r+=")) "+$+" = +"+v+"; "):A=="boolean"?r+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+$+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+$+" = true; ":A=="null"?r+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+$+" = null; ":t.opts.coerceTypes=="array"&&A=="array"&&(r+=" else if ("+N+" == 'string' || "+N+" == 'number' || "+N+" == 'boolean' || "+v+" == null) "+$+" = ["+v+"]; ");r+=" else {   ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+$+" !== undefined) {  ";var U=d?"data"+(d-1||""):"parentData",H=d?t.dataPathArr[d]:"parentDataProperty";r+=" "+v+" = "+$+"; ",d||(r+="if ("+U+" !== undefined)"),r+=" "+U+"["+H+"] = "+$+"; } "}else{var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(t.schema.$ref&&!o)r+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",w&&(r+=" } if (errors === ",E?r+="0":r+="errs_"+u,r+=") { ",C+="}");else{var G=t.RULES;if(G){for(var k,X=-1,Y=G.length-1;X<Y;)if(k=G[X+=1],ke(k)){if(k.type&&(r+=" if ("+t.util.checkDataType(k.type,v,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(k.type=="object"&&t.schema.properties){var p=t.schema.properties,K=Object.keys(p),J=K;if(J)for(var ne,fe=-1,ye=J.length-1;fe<ye;){ne=J[fe+=1];var ie=p[ne];if(ie.default!==void 0){var ve=v+t.util.getProperty(ne);if(t.compositeRule){if(t.opts.strictDefaults){var y="default is ignored for: "+ve;if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}}else r+=" if ("+ve+" === undefined ",t.opts.useDefaults=="empty"&&(r+=" || "+ve+" === null || "+ve+" === '' "),r+=" ) "+ve+" = ",t.opts.useDefaults=="shared"?r+=" "+t.useDefault(ie.default)+" ":r+=" "+JSON.stringify(ie.default)+" ",r+="; "}}}else if(k.type=="array"&&Array.isArray(t.schema.items)){var Ae=t.schema.items;if(Ae){for(var ie,V=-1,he=Ae.length-1;V<he;)if(ie=Ae[V+=1],ie.default!==void 0){var ve=v+"["+V+"]";if(t.compositeRule){if(t.opts.strictDefaults){var y="default is ignored for: "+ve;if(t.opts.strictDefaults==="log")t.logger.warn(y);else throw new Error(y)}}else r+=" if ("+ve+" === undefined ",t.opts.useDefaults=="empty"&&(r+=" || "+ve+" === null || "+ve+" === '' "),r+=" ) "+ve+" = ",t.opts.useDefaults=="shared"?r+=" "+t.useDefault(ie.default)+" ":r+=" "+JSON.stringify(ie.default)+" ",r+="; "}}}}var te=k.rules;if(te){for(var me,we=-1,ae=te.length-1;we<ae;)if(me=te[we+=1],He(me)){var Ye=me.code(t,me.keyword,k.type);Ye&&(r+=" "+Ye+" ",w&&(S+="}"))}}if(w&&(r+=" "+S+" ",S=""),k.type&&(r+=" } ",T&&T===k.type&&!q)){r+=" else { ";var f=t.schemaPath+".type",h=t.errSchemaPath+"/type",g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(x||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(h)+" , params: { type: '",R?r+=""+T.join(","):r+=""+T,r+="' } ",t.opts.messages!==!1&&(r+=" , message: 'should be ",R?r+=""+T.join(","):r+=""+T,r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&w?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}w&&(r+=" if (errors === ",E?r+="0":r+="errs_"+u,r+=") { ",C+="}")}}}w&&(r+=" "+C+" "),E?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+_+" = errors === errs_"+u+";";function ke($e){for(var ee=$e.rules,ue=0;ue<ee.length;ue++)if(He(ee[ue]))return!0}function He($e){return t.schema[$e.keyword]!==void 0||$e.implements&&ut($e)}function ut($e){for(var ee=$e.implements,ue=0;ue<ee.length;ue++)if(t.schema[ee[ue]]!==void 0)return!0}return r},go=Fh,ds=xa,mE=Dh,E9=pE,ky=hE,C9=ds.ucs2length,x9=Rh,N9=mE.Validation,I9=Xd;function Xd(e,t,n,a){var r=this,i=this._opts,o=[void 0],s={},l=[],c={},u=[],d={},p=[];t=t||{schema:e,refVal:o,refs:s};var f=T9.call(this,e,t,a),h=this._compilations[f.index];if(f.compiling)return h.callValidate=y;var v=this._formats,g=this.RULES;try{var b=_(e,t,n,a);h.validate=b;var E=h.callValidate;return E&&(E.schema=b.schema,E.errors=null,E.refs=b.refs,E.refVal=b.refVal,E.root=b.root,E.$async=b.$async,i.sourceCode&&(E.source=b.source)),b}finally{R9.call(this,e,t,a)}function y(){var I=h.validate,N=I.apply(this,arguments);return y.errors=I.errors,N}function _(I,N,$,F){var A=!N||N&&N.schema==I;if(N.schema!=t.schema)return Xd.call(r,I,N,$,F);var V=I.$async===!0,O=ky({isTop:!0,schema:I,isRoot:A,baseId:F,root:N,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:mE.MissingRef,RULES:g,validate:ky,util:ds,resolve:go,resolveRef:w,usePattern:R,useDefault:q,useCustomRule:k,opts:i,formats:v,logger:r.logger,self:r});O=yo(o,k9)+yo(l,P9)+yo(u,A9)+yo(p,$9)+O,i.processCode&&(O=i.processCode(O,I));var U;try{var H=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O);U=H(r,g,v,t,o,u,p,x9,C9,N9),o[0]=U}catch(G){throw r.logger.error("Error compiling schema, function code:",O),G}return U.schema=I,U.errors=null,U.refs=s,U.refVal=o,U.root=A?U:N,V&&(U.$async=!0),i.sourceCode===!0&&(U.source={code:O,patterns:l,defaults:u}),U}function w(I,N,$){N=go.url(I,N);var F=s[N],A,V;if(F!==void 0)return A=o[F],V="refVal["+F+"]",T(A,V);if(!$&&t.refs){var O=t.refs[N];if(O!==void 0)return A=t.refVal[O],V=S(N,A),T(A,V)}V=S(N);var U=go.call(r,_,t,N);if(U===void 0){var H=n&&n[N];H&&(U=go.inlineRef(H,i.inlineRefs)?H:Xd.call(r,H,t,n,I))}if(U===void 0)C(N);else return x(N,U),T(U,V)}function S(I,N){var $=o.length;return o[$]=N,s[I]=$,"refVal"+$}function C(I){delete s[I]}function x(I,N){var $=s[I];o[$]=N}function T(I,N){return typeof I=="object"||typeof I=="boolean"?{code:N,schema:I,inline:!0}:{code:N,$async:I&&!!I.$async}}function R(I){var N=c[I];return N===void 0&&(N=c[I]=l.length,l[N]=I),"pattern"+N}function q(I){switch(typeof I){case"boolean":case"number":return""+I;case"string":return ds.toQuotedString(I);case"object":if(I===null)return"null";var N=E9(I),$=d[N];return $===void 0&&($=d[N]=u.length,u[$]=I),"default"+$}}function k(I,N,$,F){if(r._opts.validateSchema!==!1){var A=I.definition.dependencies;if(A&&!A.every(function(J){return Object.prototype.hasOwnProperty.call($,J)}))throw new Error("parent schema must have all required keywords: "+A.join(","));var V=I.definition.validateSchema;if(V){var O=V(N);if(!O){var U="keyword schema is invalid: "+r.errorsText(V.errors);if(r._opts.validateSchema=="log")r.logger.error(U);else throw new Error(U)}}}var H=I.definition.compile,G=I.definition.inline,X=I.definition.macro,Y;if(H)Y=H.call(r,N,$,F);else if(X)Y=X.call(r,N,$,F),i.validateSchema!==!1&&r.validateSchema(Y,!0);else if(G)Y=G.call(r,F,I.keyword,N,$);else if(Y=I.definition.validate,!Y)return;if(Y===void 0)throw new Error('custom keyword "'+I.keyword+'"failed to compile');var K=p.length;return p[K]=Y,{code:"customRule"+K,validate:Y}}}function T9(e,t,n){var a=vE.call(this,e,t,n);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:n},{index:a,compiling:!1})}function R9(e,t,n){var a=vE.call(this,e,t,n);a>=0&&this._compilations.splice(a,1)}function vE(e,t,n){for(var a=0;a<this._compilations.length;a++){var r=this._compilations[a];if(r.schema==e&&r.root==t&&r.baseId==n)return a}return-1}function P9(e,t){return"var pattern"+e+" = new RegExp("+ds.toQuotedString(t[e])+");"}function A9(e){return"var default"+e+" = defaults["+e+"];"}function k9(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function $9(e){return"var customRule"+e+" = customRules["+e+"];"}function yo(e,t){if(!e.length)return"";for(var n="",a=0;a<e.length;a++)n+=t(a,e);return n}var gE={exports:{}},El=gE.exports=function(){this._cache={}};El.prototype.put=function(t,n){this._cache[t]=n};El.prototype.get=function(t){return this._cache[t]};El.prototype.del=function(t){delete this._cache[t]};El.prototype.clear=function(){this._cache={}};var q9=gE.exports,F9=xa,D9=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,O9=[0,31,28,31,30,31,30,31,31,30,31,30,31],L9=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,yE=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,V9=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,M9=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,bE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,wE=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,SE=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,_E=/^(?:\/(?:[^~/]|~0|~1)*)*$/,EE=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,CE=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,B9=Cl;function Cl(e){return e=e=="full"?"full":"fast",F9.copy(Cl[e])}Cl.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":bE,url:wE,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:yE,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:IE,uuid:SE,"json-pointer":_E,"json-pointer-uri-fragment":EE,"relative-json-pointer":CE};Cl.full={date:xE,time:NE,"date-time":H9,uri:j9,"uri-reference":M9,"uri-template":bE,url:wE,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:yE,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:IE,uuid:SE,"json-pointer":_E,"json-pointer-uri-fragment":EE,"relative-json-pointer":CE};function z9(e){return e%4===0&&(e%100!==0||e%400===0)}function xE(e){var t=e.match(D9);if(!t)return!1;var n=+t[1],a=+t[2],r=+t[3];return a>=1&&a<=12&&r>=1&&r<=(a==2&&z9(n)?29:O9[a])}function NE(e,t){var n=e.match(L9);if(!n)return!1;var a=n[1],r=n[2],i=n[3],o=n[5];return(a<=23&&r<=59&&i<=59||a==23&&r==59&&i==60)&&(!t||o)}var U9=/t|\s/i;function H9(e){var t=e.split(U9);return t.length==2&&xE(t[0])&&NE(t[1],!0)}var W9=/\/|:/;function j9(e){return W9.test(e)&&V9.test(e)}var Q9=/[^\\]\\Z/;function IE(e){if(Q9.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}var G9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.errSchemaPath+"/"+n,c=!t.opts.allErrors,u="data"+(o||""),d="valid"+i,p,f;if(s=="#"||s=="#/")t.isRoot?(p=t.async,f="validate"):(p=t.root.schema.$async===!0,f="root.refVal[0]");else{var h=t.resolveRef(t.baseId,s,t.isRoot);if(h===void 0){var v=t.MissingRefError.message(t.baseId,s);if(t.opts.missingRefs=="fail"){t.logger.error(v);var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { ref: '"+t.util.escapeQuotes(s)+"' } ",t.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(s)+"' "),t.opts.verbose&&(r+=" , schema: "+t.util.toQuotedString(s)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!t.compositeRule&&c?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(v),c&&(r+=" if (true) { ");else throw new t.MissingRefError(t.baseId,s,v)}else if(h.inline){var E=t.util.copy(t);E.level++;var y="valid"+E.level;E.schema=h.schema,E.schemaPath="",E.errSchemaPath=s;var _=t.validate(E).replace(/validate\.schema/g,h.code);r+=" "+_+" ",c&&(r+=" if ("+y+") { ")}else p=h.$async===!0||t.async&&h.$async!==!1,f=h.code}if(f){var g=g||[];g.push(r),r="",t.opts.passContext?r+=" "+f+".call(this, ":r+=" "+f+"( ",r+=" "+u+", (dataPath || '')",t.errorPath!='""'&&(r+=" + "+t.errorPath);var w=o?"data"+(o-1||""):"parentData",S=o?t.dataPathArr[o]:"parentDataProperty";r+=" , "+w+" , "+S+", rootData)  ";var C=r;if(r=g.pop(),p){if(!t.async)throw new Error("async schema referenced by sync schema");c&&(r+=" var "+d+"; "),r+=" try { await "+C+"; ",c&&(r+=" "+d+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(r+=" "+d+" = false; "),r+=" } ",c&&(r+=" if ("+d+") { ")}else r+=" if (!"+C+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",c&&(r+=" else { ")}return r},Y9=function(t,n,a){var r=" ",i=t.schema[n],o=t.schemaPath+t.util.getProperty(n),s=t.errSchemaPath+"/"+n,l=!t.opts.allErrors,c=t.util.copy(t),u="";c.level++;var d="valid"+c.level,p=c.baseId,f=!0,h=i;if(h)for(var v,g=-1,b=h.length-1;g<b;)v=h[g+=1],(t.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:t.util.schemaHasRules(v,t.RULES.all))&&(f=!1,c.schema=v,c.schemaPath=o+"["+g+"]",c.errSchemaPath=s+"/"+g,r+="  "+t.validate(c)+" ",c.baseId=p,l&&(r+=" if ("+d+") { ",u+="}"));return l&&(f?r+=" if (true) { ":r+=" "+u.slice(0,-1)+" "),r},X9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b=s.every(function(x){return t.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:t.util.schemaHasRules(x,t.RULES.all)});if(b){var E=h.baseId;r+=" var "+f+" = errors; var "+p+" = false;  ";var y=t.compositeRule;t.compositeRule=h.compositeRule=!0;var _=s;if(_)for(var w,S=-1,C=_.length-1;S<C;)w=_[S+=1],h.schema=w,h.schemaPath=l+"["+S+"]",h.errSchemaPath=c+"/"+S,r+="  "+t.validate(h)+" ",h.baseId=E,r+=" "+p+" = "+p+" || "+g+"; if (!"+p+") { ",v+="}";t.compositeRule=h.compositeRule=y,r+=" "+v+" if (!"+p+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else u&&(r+=" if (true) { ");return r},K9=function(t,n,a){var r=" ",i=t.schema[n],o=t.errSchemaPath+"/"+n;t.opts.allErrors;var s=t.util.toQuotedString(i);return t.opts.$comment===!0?r+=" console.log("+s+");":typeof t.opts.$comment=="function"&&(r+=" self._opts.$comment("+s+", "+t.util.toQuotedString(o)+", validate.root.schema);"),r},Z9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+l+";"),r+="var "+p+" = equal("+d+", schema"+i+"); if (!"+p+") {   ";var h=h||[];h.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=h.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},J9=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b="i"+i,E=h.dataLevel=t.dataLevel+1,y="data"+E,_=t.baseId,w=t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all);if(r+="var "+f+" = errors;var "+p+";",w){var S=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+=" var "+g+" = false; for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var C=d+"["+b+"]";h.dataPathArr[E]=b;var x=t.validate(h);h.baseId=_,t.util.varOccurences(x,y)<2?r+=" "+t.util.varReplace(x,y,C)+" ":r+=" var "+y+" = "+C+"; "+x+" ",r+=" if ("+g+") break; }  ",t.compositeRule=h.compositeRule=S,r+=" "+v+" if (!"+g+") {"}else r+=" if ("+d+".length == 0) {";var T=T||[];T.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var R=r;return r=T.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",w&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(r+=" } "),r},ez=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t),h="";f.level++;var v="valid"+f.level,g={},b={},E=t.opts.ownProperties;for(S in s)if(S!="__proto__"){var y=s[S],_=Array.isArray(y)?b:g;_[S]=y}r+="var "+p+" = errors;";var w=t.errorPath;r+="var missing"+i+";";for(var S in b)if(_=b[S],_.length){if(r+=" if ( "+d+t.util.getProperty(S)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(S)+"') "),u){r+=" && ( ";var C=_;if(C)for(var x,T=-1,R=C.length-1;T<R;){x=C[T+=1],T&&(r+=" || ");var q=t.util.getProperty(x),k=d+q;r+=" ( ( "+k+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(x)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?x:q)+") ) "}r+=")) {  ";var I="missing"+i,N="' + "+I+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,I,!0):w+" + "+I);var $=$||[];$.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(S)+"', missingProperty: '"+N+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",t.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(S)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var F=r;r=$.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var A=_;if(A)for(var x,V=-1,O=A.length-1;V<O;){x=A[V+=1];var q=t.util.getProperty(x),N=t.util.escapeQuotes(x),k=d+q;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,x,t.opts.jsonPointers)),r+=" if ( "+k+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(x)+"') "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(S)+"', missingProperty: '"+N+"', depsCount: "+_.length+", deps: '"+t.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",t.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+t.util.escapeQuotes(_[0]):r+="properties "+t.util.escapeQuotes(_.join(", ")),r+=" when property "+t.util.escapeQuotes(S)+" is present' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(h+="}",r+=" else { ")}t.errorPath=w;var U=f.baseId;for(var S in g){var y=g[S];(t.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:t.util.schemaHasRules(y,t.RULES.all))&&(r+=" "+v+" = true; if ( "+d+t.util.getProperty(S)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(S)+"') "),r+=") { ",f.schema=y,f.schemaPath=l+t.util.getProperty(S),f.errSchemaPath=c+"/"+t.util.escapeFragment(S),r+="  "+t.validate(f)+" ",f.baseId=U,r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}"))}return u&&(r+="   "+h+" if ("+p+" == errors) {"),r},tz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var h="i"+i,v="schema"+i;f||(r+=" var "+v+" = validate.schema"+l+";"),r+="var "+p+";",f&&(r+=" if (schema"+i+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+i+")) "+p+" = false; else {"),r+=""+p+" = false;for (var "+h+"=0; "+h+"<"+v+".length; "+h+"++) if (equal("+d+", "+v+"["+h+"])) { "+p+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+p+") {   ";var g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},rz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||"");if(t.opts.format===!1)return u&&(r+=" if (true) { "),r;var p=t.opts.$data&&s&&s.$data,f;p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s;var h=t.opts.unknownFormats,v=Array.isArray(h);if(p){var g="format"+i,b="isObject"+i,E="formatType"+i;r+=" var "+g+" = formats["+f+"]; var "+b+" = typeof "+g+" == 'object' && !("+g+" instanceof RegExp) && "+g+".validate; var "+E+" = "+b+" && "+g+".type || 'string'; if ("+b+") { ",t.async&&(r+=" var async"+i+" = "+g+".async; "),r+=" "+g+" = "+g+".validate; } if (  ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (",h!="ignore"&&(r+=" ("+f+" && !"+g+" ",v&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+g+" && "+E+" == '"+a+"' && !(typeof "+g+" == 'function' ? ",t.async?r+=" (async"+i+" ? await "+g+"("+d+") : "+g+"("+d+")) ":r+=" "+g+"("+d+") ",r+=" : "+g+".test("+d+"))))) {"}else{var g=t.formats[s];if(!g){if(h=="ignore")return t.logger.warn('unknown format "'+s+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(v&&h.indexOf(s)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+s+'" is used in schema at path "'+t.errSchemaPath+'"')}var b=typeof g=="object"&&!(g instanceof RegExp)&&g.validate,E=b&&g.type||"string";if(b){var y=g.async===!0;g=g.validate}if(E!=a)return u&&(r+=" if (true) { "),r;if(y){if(!t.async)throw new Error("async format in sync schema");var _="formats"+t.util.getProperty(s)+".validate";r+=" if (!(await "+_+"("+d+"))) { "}else{r+=" if (! ";var _="formats"+t.util.getProperty(s);b&&(_+=".validate"),typeof g=="function"?r+=" "+_+"("+d+") ":r+=" "+_+".test("+d+") ",r+=") { "}}var w=w||[];w.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { format:  ",p?r+=""+f:r+=""+t.util.toQuotedString(s),r+="  } ",t.opts.messages!==!1&&(r+=` , message: 'should match format "`,p?r+="' + "+f+" + '":r+=""+t.util.escapeQuotes(s),r+=`"' `),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=w.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},nz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t);h.level++;var v="valid"+h.level,g=t.schema.then,b=t.schema.else,E=g!==void 0&&(t.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:t.util.schemaHasRules(g,t.RULES.all)),y=b!==void 0&&(t.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:t.util.schemaHasRules(b,t.RULES.all)),_=h.baseId;if(E||y){var w;h.createErrors=!1,h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+=" var "+f+" = errors; var "+p+" = true;  ";var S=t.compositeRule;t.compositeRule=h.compositeRule=!0,r+="  "+t.validate(h)+" ",h.baseId=_,h.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=h.compositeRule=S,E?(r+=" if ("+v+") {  ",h.schema=t.schema.then,h.schemaPath=t.schemaPath+".then",h.errSchemaPath=t.errSchemaPath+"/then",r+="  "+t.validate(h)+" ",h.baseId=_,r+=" "+p+" = "+v+"; ",E&&y?(w="ifClause"+i,r+=" var "+w+" = 'then'; "):w="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+v+") { ",y&&(h.schema=t.schema.else,h.schemaPath=t.schemaPath+".else",h.errSchemaPath=t.errSchemaPath+"/else",r+="  "+t.validate(h)+" ",h.baseId=_,r+=" "+p+" = "+v+"; ",E&&y?(w="ifClause"+i,r+=" var "+w+" = 'else'; "):w="'else'",r+=" } "),r+=" if (!"+p+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { failingKeyword: "+w+" } ",t.opts.messages!==!1&&(r+=` , message: 'should match "' + `+w+` + '" schema' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},az=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b="i"+i,E=h.dataLevel=t.dataLevel+1,y="data"+E,_=t.baseId;if(r+="var "+f+" = errors;var "+p+";",Array.isArray(s)){var w=t.schema.additionalItems;if(w===!1){r+=" "+p+" = "+d+".length <= "+s.length+"; ";var S=c;c=t.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var C=C||[];C.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+s.length+" items' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=C.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c=S,u&&(v+="}",r+=" else { ")}var T=s;if(T){for(var R,q=-1,k=T.length-1;q<k;)if(R=T[q+=1],t.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:t.util.schemaHasRules(R,t.RULES.all)){r+=" "+g+" = true; if ("+d+".length > "+q+") { ";var I=d+"["+q+"]";h.schema=R,h.schemaPath=l+"["+q+"]",h.errSchemaPath=c+"/"+q,h.errorPath=t.util.getPathExpr(t.errorPath,q,t.opts.jsonPointers,!0),h.dataPathArr[E]=q;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",r+=" }  ",u&&(r+=" if ("+g+") { ",v+="}")}}if(typeof w=="object"&&(t.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:t.util.schemaHasRules(w,t.RULES.all))){h.schema=w,h.schemaPath=t.schemaPath+".additionalItems",h.errSchemaPath=t.errSchemaPath+"/additionalItems",r+=" "+g+" = true; if ("+d+".length > "+s.length+") {  for (var "+b+" = "+s.length+"; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var I=d+"["+b+"]";h.dataPathArr[E]=b;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",u&&(r+=" if (!"+g+") break; "),r+=" } }  ",u&&(r+=" if ("+g+") { ",v+="}")}}else if(t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){h.schema=s,h.schemaPath=l,h.errSchemaPath=c,r+="  for (var "+b+" = 0; "+b+" < "+d+".length; "+b+"++) { ",h.errorPath=t.util.getPathExpr(t.errorPath,b,t.opts.jsonPointers,!0);var I=d+"["+b+"]";h.dataPathArr[E]=b;var N=t.validate(h);h.baseId=_,t.util.varOccurences(N,y)<2?r+=" "+t.util.varReplace(N,y,I)+" ":r+=" var "+y+" = "+I+"; "+N+" ",u&&(r+=" if (!"+g+") break; "),r+=" }"}return u&&(r+=" "+v+" if ("+f+" == errors) {"),r},$y=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,_,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s;var h=n=="maximum",v=h?"exclusiveMaximum":"exclusiveMinimum",g=t.schema[v],b=t.opts.$data&&g&&g.$data,E=h?"<":">",y=h?">":"<",_=void 0;if(!(p||typeof s=="number"||s===void 0))throw new Error(n+" must be number");if(!(b||g===void 0||typeof g=="number"||typeof g=="boolean"))throw new Error(v+" must be number or boolean");if(b){var w=t.util.getData(g.$data,o,t.dataPathArr),S="exclusive"+i,C="exclType"+i,x="exclIsNumber"+i,T="op"+i,R="' + "+T+" + '";r+=" var schemaExcl"+i+" = "+w+"; ",w="schemaExcl"+i,r+=" var "+S+"; var "+C+" = typeof "+w+"; if ("+C+" != 'boolean' && "+C+" != 'undefined' && "+C+" != 'number') { ";var _=v,q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: '"+v+" should be boolean' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+C+" == 'number' ? ( ("+S+" = "+f+" === undefined || "+w+" "+E+"= "+f+") ? "+d+" "+y+"= "+w+" : "+d+" "+y+" "+f+" ) : ( ("+S+" = "+w+" === true) ? "+d+" "+y+"= "+f+" : "+d+" "+y+" "+f+" ) || "+d+" !== "+d+") { var op"+i+" = "+S+" ? '"+E+"' : '"+E+"='; ",s===void 0&&(_=v,c=t.errSchemaPath+"/"+v,f=w,p=b)}else{var x=typeof g=="number",R=E;if(x&&p){var T="'"+R+"'";r+=" if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" ( "+f+" === undefined || "+g+" "+E+"= "+f+" ? "+d+" "+y+"= "+g+" : "+d+" "+y+" "+f+" ) || "+d+" !== "+d+") { "}else{x&&s===void 0?(S=!0,_=v,c=t.errSchemaPath+"/"+v,f=g,y+="="):(x&&(f=Math[h?"min":"max"](g,s)),g===(x?f:!0)?(S=!0,_=v,c=t.errSchemaPath+"/"+v,y+="="):(S=!1,R+="="));var T="'"+R+"'";r+=" if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+d+" "+y+" "+f+" || "+d+" !== "+d+") { "}}_=_||n;var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+T+", limit: "+f+", exclusive: "+S+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be "+R+" ",p?r+="' + "+f:r+=""+f+"'"),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;return r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},qy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxItems"?">":"<";r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+d+".length "+h+" "+f+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have ",n=="maxItems"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+f+" + '":r+=""+s,r+=" items' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},Fy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxLength"?">":"<";r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),t.opts.unicode===!1?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+h+" "+f+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be ",n=="maxLength"?r+="longer":r+="shorter",r+=" than ",p?r+="' + "+f+" + '":r+=""+s,r+=" characters' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},Dy=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,v,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");var h=n=="maxProperties"?">":"<";r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" Object.keys("+d+").length "+h+" "+f+") { ";var v=n,g=g||[];g.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(v||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have ",n=="maxProperties"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+f+" + '":r+=""+s,r+=" properties' "),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},iz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;if(p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s,!(p||typeof s=="number"))throw new Error(n+" must be number");r+="var division"+i+";if (",p&&(r+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),r+=" (division"+i+" = "+d+" / "+f+", ",t.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+t.opts.multipleOfPrecision+" ":r+=" division"+i+" !== parseInt(division"+i+") ",r+=" ) ",p&&(r+="  )  "),r+=" ) {   ";var h=h||[];h.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+f+" } ",t.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",p?r+="' + "+f:r+=""+f+"'"),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var v=r;return r=h.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},oz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t);f.level++;var h="valid"+f.level;if(t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=l,f.errSchemaPath=c,r+=" var "+p+" = errors;  ";var v=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1;var g;f.opts.allErrors&&(g=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+t.validate(f)+" ",f.createErrors=!0,g&&(f.opts.allErrors=g),t.compositeRule=f.compositeRule=v,r+=" if ("+h+") {   ";var b=b||[];b.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var E=r;r=b.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",t.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r},sz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f="errs__"+i,h=t.util.copy(t),v="";h.level++;var g="valid"+h.level,b=h.baseId,E="prevValid"+i,y="passingSchemas"+i;r+="var "+f+" = errors , "+E+" = false , "+p+" = false , "+y+" = null; ";var _=t.compositeRule;t.compositeRule=h.compositeRule=!0;var w=s;if(w)for(var S,C=-1,x=w.length-1;C<x;)S=w[C+=1],(t.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:t.util.schemaHasRules(S,t.RULES.all))?(h.schema=S,h.schemaPath=l+"["+C+"]",h.errSchemaPath=c+"/"+C,r+="  "+t.validate(h)+" ",h.baseId=b):r+=" var "+g+" = true; ",C&&(r+=" if ("+g+" && "+E+") { "+p+" = false; "+y+" = ["+y+", "+C+"]; } else { ",v+="}"),r+=" if ("+g+") { "+p+" = "+E+" = true; "+y+" = "+C+"; }";return t.compositeRule=h.compositeRule=_,r+=""+v+"if (!"+p+") {   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",t.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(r+=" } "),r},lz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p=t.opts.$data&&s&&s.$data,f;p?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",f="schema"+i):f=s;var h=p?"(new RegExp("+f+"))":t.usePattern(s);r+="if ( ",p&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" !"+h+".test("+d+") ) {   ";var v=v||[];v.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",p?r+=""+f:r+=""+t.util.toQuotedString(s),r+="  } ",t.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,p?r+="' + "+f+" + '":r+=""+t.util.escapeQuotes(s),r+=`"' `),t.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+l:r+=""+t.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;return r=v.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r},uz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t),h="";f.level++;var v="valid"+f.level,g="key"+i,b="idx"+i,E=f.dataLevel=t.dataLevel+1,y="data"+E,_="dataProperties"+i,w=Object.keys(s||{}).filter(V),S=t.schema.patternProperties||{},C=Object.keys(S).filter(V),x=t.schema.additionalProperties,T=w.length||C.length,R=x===!1,q=typeof x=="object"&&Object.keys(x).length,k=t.opts.removeAdditional,I=R||q||k,N=t.opts.ownProperties,$=t.baseId,F=t.schema.required;if(F&&!(t.opts.$data&&F.$data)&&F.length<t.opts.loopRequired)var A=t.util.toHash(F);function V(ge){return ge!=="__proto__"}if(r+="var "+p+" = errors;var "+v+" = true;",N&&(r+=" var "+_+" = undefined;"),I){if(N?r+=" "+_+" = "+_+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+_+".length; "+b+"++) { var "+g+" = "+_+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)r+=" || validate.schema"+l+".hasOwnProperty("+g+") ";else{var O=w;if(O)for(var U,H=-1,G=O.length-1;H<G;)U=O[H+=1],r+=" || "+g+" == "+t.util.toQuotedString(U)+" "}if(C.length){var X=C;if(X)for(var Y,K=-1,J=X.length-1;K<J;)Y=X[K+=1],r+=" || "+t.usePattern(Y)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if(k=="all")r+=" delete "+d+"["+g+"]; ";else{var ne=t.errorPath,fe="' + "+g+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers)),R)if(k)r+=" delete "+d+"["+g+"]; ";else{r+=" "+v+" = false; ";var ye=c;c=t.errSchemaPath+"/additionalProperties";var ie=ie||[];ie.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { additionalProperty: '"+fe+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),t.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var ve=r;r=ie.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+ve+"]); ":r+=" validate.errors = ["+ve+"]; return false; ":r+=" var err = "+ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=ye,u&&(r+=" break; ")}else if(q)if(k=="failing"){r+=" var "+p+" = errors;  ";var Ae=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=x,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var he=d+"["+g+"]";f.dataPathArr[E]=g;var te=t.validate(f);f.baseId=$,t.util.varOccurences(te,y)<2?r+=" "+t.util.varReplace(te,y,he)+" ":r+=" var "+y+" = "+he+"; "+te+" ",r+=" if (!"+v+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+g+"]; }  ",t.compositeRule=f.compositeRule=Ae}else{f.schema=x,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var he=d+"["+g+"]";f.dataPathArr[E]=g;var te=t.validate(f);f.baseId=$,t.util.varOccurences(te,y)<2?r+=" "+t.util.varReplace(te,y,he)+" ":r+=" var "+y+" = "+he+"; "+te+" ",u&&(r+=" if (!"+v+") break; ")}t.errorPath=ne}T&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}")}var me=t.opts.useDefaults&&!t.compositeRule;if(w.length){var we=w;if(we)for(var U,ae=-1,Ye=we.length-1;ae<Ye;){U=we[ae+=1];var ke=s[U];if(t.opts.strictKeywords?typeof ke=="object"&&Object.keys(ke).length>0||ke===!1:t.util.schemaHasRules(ke,t.RULES.all)){var He=t.util.getProperty(U),he=d+He,ut=me&&ke.default!==void 0;f.schema=ke,f.schemaPath=l+He,f.errSchemaPath=c+"/"+t.util.escapeFragment(U),f.errorPath=t.util.getPath(t.errorPath,U,t.opts.jsonPointers),f.dataPathArr[E]=t.util.toQuotedString(U);var te=t.validate(f);if(f.baseId=$,t.util.varOccurences(te,y)<2){te=t.util.varReplace(te,y,he);var $e=he}else{var $e=y;r+=" var "+y+" = "+he+"; "}if(ut)r+=" "+te+" ";else{if(A&&A[U]){r+=" if ( "+$e+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(U)+"') "),r+=") { "+v+" = false; ";var ne=t.errorPath,ye=c,ee=t.util.escapeQuotes(U);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(ne,U,t.opts.jsonPointers)),c=t.errSchemaPath+"/required";var ie=ie||[];ie.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+ee+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ee+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var ve=r;r=ie.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+ve+"]); ":r+=" validate.errors = ["+ve+"]; return false; ":r+=" var err = "+ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=ye,t.errorPath=ne,r+=" } else { "}else u?(r+=" if ( "+$e+" === undefined ",N&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(U)+"') "),r+=") { "+v+" = true; } else { "):(r+=" if ("+$e+" !== undefined ",N&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(U)+"') "),r+=" ) { ");r+=" "+te+" } "}}u&&(r+=" if ("+v+") { ",h+="}")}}if(C.length){var ue=C;if(ue)for(var Y,de=-1,Ne=ue.length-1;de<Ne;){Y=ue[de+=1];var ke=S[Y];if(t.opts.strictKeywords?typeof ke=="object"&&Object.keys(ke).length>0||ke===!1:t.util.schemaHasRules(ke,t.RULES.all)){f.schema=ke,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(Y),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(Y),N?r+=" "+_+" = "+_+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+_+".length; "+b+"++) { var "+g+" = "+_+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",r+=" if ("+t.usePattern(Y)+".test("+g+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,g,t.opts.jsonPointers);var he=d+"["+g+"]";f.dataPathArr[E]=g;var te=t.validate(f);f.baseId=$,t.util.varOccurences(te,y)<2?r+=" "+t.util.varReplace(te,y,he)+" ":r+=" var "+y+" = "+he+"; "+te+" ",u&&(r+=" if (!"+v+") break; "),r+=" } ",u&&(r+=" else "+v+" = true; "),r+=" }  ",u&&(r+=" if ("+v+") { ",h+="}")}}}return u&&(r+=" "+h+" if ("+p+" == errors) {"),r},cz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="errs__"+i,f=t.util.copy(t),h="";f.level++;var v="valid"+f.level;if(r+="var "+p+" = errors;",t.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0||s===!1:t.util.schemaHasRules(s,t.RULES.all)){f.schema=s,f.schemaPath=l,f.errSchemaPath=c;var g="key"+i,b="idx"+i,E="i"+i,y="' + "+g+" + '",_=f.dataLevel=t.dataLevel+1,w="data"+_,S="dataProperties"+i,C=t.opts.ownProperties,x=t.baseId;C&&(r+=" var "+S+" = undefined; "),C?r+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+b+"=0; "+b+"<"+S+".length; "+b+"++) { var "+g+" = "+S+"["+b+"]; ":r+=" for (var "+g+" in "+d+") { ",r+=" var startErrs"+i+" = errors; ";var T=g,R=t.compositeRule;t.compositeRule=f.compositeRule=!0;var q=t.validate(f);f.baseId=x,t.util.varOccurences(q,w)<2?r+=" "+t.util.varReplace(q,w,T)+" ":r+=" var "+w+" = "+T+"; "+q+" ",t.compositeRule=f.compositeRule=R,r+=" if (!"+v+") { for (var "+E+"=startErrs"+i+"; "+E+"<errors; "+E+"++) { vErrors["+E+"].propertyName = "+g+"; }   var err =   ",t.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",t.opts.messages!==!1&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+h+" if ("+p+" == errors) {"),r},dz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data;f&&(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ");var h="schema"+i;if(!f)if(s.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var v=[],g=s;if(g)for(var b,E=-1,y=g.length-1;E<y;){b=g[E+=1];var _=t.schema.properties[b];_&&(t.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:t.util.schemaHasRules(_,t.RULES.all))||(v[v.length]=b)}}else var v=s;if(f||v.length){var w=t.errorPath,S=f||v.length>=t.opts.loopRequired,C=t.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",S){f||(r+=" var "+h+" = validate.schema"+l+"; ");var x="i"+i,T="schema"+i+"["+x+"]",R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,T,t.opts.jsonPointers)),r+=" var "+p+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+i+")) "+p+" = false; else {"),r+=" for (var "+x+" = 0; "+x+" < "+h+".length; "+x+"++) { "+p+" = "+d+"["+h+"["+x+"]] !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+h+"["+x+"]) "),r+="; if (!"+p+") break; } ",f&&(r+="  }  "),r+="  if (!"+p+") {   ";var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var I=v;if(I)for(var N,x=-1,$=I.length-1;x<$;){N=I[x+=1],x&&(r+=" || ");var F=t.util.getProperty(N),A=d+F;r+=" ( ( "+A+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),r+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?N:F)+") ) "}r+=") {  ";var T="missing"+i,R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,T,!0):w+" + "+T);var q=q||[];q.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var k=r;r=q.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(S){f||(r+=" var "+h+" = validate.schema"+l+"; ");var x="i"+i,T="schema"+i+"["+x+"]",R="' + "+T+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,T,t.opts.jsonPointers)),f&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+x+" = 0; "+x+" < "+h+".length; "+x+"++) { if ("+d+"["+h+"["+x+"]] === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+h+"["+x+"]) "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var V=v;if(V)for(var N,O=-1,U=V.length-1;O<U;){N=V[O+=1];var F=t.util.getProperty(N),R=t.util.escapeQuotes(N),A=d+F;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,N,t.opts.jsonPointers)),r+=" if ( "+A+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),r+=") {  var err =   ",t.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+R+"' } ",t.opts.messages!==!1&&(r+=" , message: '",t.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+R+"\\'",r+="' "),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=w}else u&&(r+=" if (true) {");return r},fz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d="data"+(o||""),p="valid"+i,f=t.opts.$data&&s&&s.$data,h;if(f?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=s,(s||f)&&t.opts.uniqueItems!==!1){f&&(r+=" var "+p+"; if ("+h+" === false || "+h+" === undefined) "+p+" = true; else if (typeof "+h+" != 'boolean') "+p+" = false; else { "),r+=" var i = "+d+".length , "+p+" = true , j; if (i > 1) { ";var v=t.schema.items&&t.schema.items.type,g=Array.isArray(v);if(!v||v=="object"||v=="array"||g&&(v.indexOf("object")>=0||v.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+p+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var b="checkDataType"+(g?"s":"");r+=" if ("+t.util[b](v,"item",t.opts.strictNumbers,!0)+") continue; ",g&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",f&&(r+="  }  "),r+=" if (!"+p+") {   ";var E=E||[];E.push(r),r="",t.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+l:r+=""+s,r+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var y=r;r=E.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},pz={$ref:G9,allOf:Y9,anyOf:X9,$comment:K9,const:Z9,contains:J9,dependencies:ez,enum:tz,format:rz,if:nz,items:az,maximum:$y,minimum:$y,maxItems:qy,minItems:qy,maxLength:Fy,minLength:Fy,maxProperties:Dy,minProperties:Dy,multipleOf:iz,not:oz,oneOf:sz,pattern:lz,properties:uz,propertyNames:cz,required:dz,uniqueItems:fz,validate:hE},Oy=pz,Ic=xa.toHash,hz=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return t.all=Ic(n),t.types=Ic(r),t.forEach(function(i){i.rules=i.rules.map(function(o){var s;if(typeof o=="object"){var l=Object.keys(o)[0];s=o[l],o=l,s.forEach(function(u){n.push(u),t.all[u]=!0})}n.push(o);var c=t.all[o]={keyword:o,code:Oy[o],implements:s};return c}),t.all.$comment={keyword:"$comment",code:Oy.$comment},i.type&&(t.types[i.type]=i)}),t.keywords=Ic(n.concat(a)),t.custom={},t},Ly=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],mz=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var a=t[n].split("/"),r=e,i;for(i=1;i<a.length;i++)r=r[a[i]];for(i=0;i<Ly.length;i++){var o=Ly[i],s=r[o];s&&(r[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},vz=Dh.MissingRef,gz=TE;function TE(e,t,n){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(n=t,t=void 0);var r=i(e).then(function(){var s=a._addSchema(e,void 0,t);return s.validate||o(s)});return n&&r.then(function(s){n(null,s)},n),r;function i(s){var l=s.$schema;return l&&!a.getSchema(l)?TE.call(a,{$ref:l},!0):Promise.resolve()}function o(s){try{return a._compile(s)}catch(c){if(c instanceof vz)return l(c);throw c}function l(c){var u=c.missingSchema;if(f(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=a._loadingSchemas[u];return d||(d=a._loadingSchemas[u]=a._opts.loadSchema(u),d.then(p,p)),d.then(function(h){if(!f(u))return i(h).then(function(){f(u)||a.addSchema(h,u,void 0,t)})}).then(function(){return o(s)});function p(){delete a._loadingSchemas[u]}function f(h){return a._refs[h]||a._schemas[h]}}}}var yz=function(t,n,a){var r=" ",i=t.level,o=t.dataLevel,s=t.schema[n],l=t.schemaPath+t.util.getProperty(n),c=t.errSchemaPath+"/"+n,u=!t.opts.allErrors,d,p="data"+(o||""),f="valid"+i,h="errs__"+i,v=t.opts.$data&&s&&s.$data,g;v?(r+=" var schema"+i+" = "+t.util.getData(s.$data,o,t.dataPathArr)+"; ",g="schema"+i):g=s;var b=this,E="definition"+i,y=b.definition,_="",w,S,C,x,T;if(v&&y.$data){T="keywordValidate"+i;var R=y.validateSchema;r+=" var "+E+" = RULES.custom['"+n+"'].definition; var "+T+" = "+E+".validate;"}else{if(x=t.useCustomRule(b,s,t.schema,t),!x)return;g="validate.schema"+l,T=x.code,w=y.compile,S=y.inline,C=y.macro}var q=T+".errors",k="i"+i,I="ruleErr"+i,N=y.async;if(N&&!t.async)throw new Error("async keyword in sync schema");if(S||C||(r+=""+q+" = null;"),r+="var "+h+" = errors;var "+f+";",v&&y.$data&&(_+="}",r+=" if ("+g+" === undefined) { "+f+" = true; } else { ",R&&(_+="}",r+=" "+f+" = "+E+".validateSchema("+g+"); if ("+f+") { ")),S)y.statements?r+=" "+x.validate+" ":r+=" "+f+" = "+x.validate+"; ";else if(C){var $=t.util.copy(t),_="";$.level++;var F="valid"+$.level;$.schema=x.validate,$.schemaPath="";var A=t.compositeRule;t.compositeRule=$.compositeRule=!0;var V=t.validate($).replace(/validate\.schema/g,T);t.compositeRule=$.compositeRule=A,r+=" "+V}else{var O=O||[];O.push(r),r="",r+="  "+T+".call( ",t.opts.passContext?r+="this":r+="self",w||y.schema===!1?r+=" , "+p+" ":r+=" , "+g+" , "+p+" , validate.schema"+t.schemaPath+" ",r+=" , (dataPath || '')",t.errorPath!='""'&&(r+=" + "+t.errorPath);var U=o?"data"+(o-1||""):"parentData",H=o?t.dataPathArr[o]:"parentDataProperty";r+=" , "+U+" , "+H+" , rootData )  ";var G=r;r=O.pop(),y.errors===!1?(r+=" "+f+" = ",N&&(r+="await "),r+=""+G+"; "):N?(q="customErrors"+i,r+=" var "+q+" = null; try { "+f+" = await "+G+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+q+" = e.errors; else throw e; } "):r+=" "+q+" = null; "+f+" = "+G+"; "}if(y.modifying&&(r+=" if ("+U+") "+p+" = "+U+"["+H+"];"),r+=""+_,y.valid)u&&(r+=" if (true) { ");else{r+=" if ( ",y.valid===void 0?(r+=" !",C?r+=""+F:r+=""+f):r+=" "+!y.valid+" ",r+=") { ",d=b.keyword;var O=O||[];O.push(r),r="";var O=O||[];O.push(r),r="",t.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ",t.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var X=r;r=O.pop(),!t.compositeRule&&u?t.async?r+=" throw new ValidationError(["+X+"]); ":r+=" validate.errors = ["+X+"]; return false; ":r+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Y=r;r=O.pop(),S?y.errors?y.errors!="full"&&(r+="  for (var "+k+"="+h+"; "+k+"<errors; "+k+"++) { var "+I+" = vErrors["+k+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+p+"; "),r+=" } "):y.errors===!1?r+=" "+Y+" ":(r+=" if ("+h+" == errors) { "+Y+" } else {  for (var "+k+"="+h+"; "+k+"<errors; "+k+"++) { var "+I+" = vErrors["+k+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+p+"; "),r+=" } } "):C?(r+="   var err =   ",t.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+b.keyword+"' } ",t.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),t.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):y.errors===!1?r+=" "+Y+" ":(r+=" if (Array.isArray("+q+")) { if (vErrors === null) vErrors = "+q+"; else vErrors = vErrors.concat("+q+"); errors = vErrors.length;  for (var "+k+"="+h+"; "+k+"<errors; "+k+"++) { var "+I+" = vErrors["+k+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+t.errorPath+";  "+I+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(r+=" "+I+".schema = "+g+"; "+I+".data = "+p+"; "),r+=" } } else { "+Y+" } "),r+=" } ",u&&(r+=" else { ")}return r};const bz="http://json-schema.org/draft-07/schema#",wz="http://json-schema.org/draft-07/schema#",Sz="Core schema meta-schema",_z={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ez=["object","boolean"],Cz={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},RE={$schema:bz,$id:wz,title:Sz,definitions:_z,type:Ez,properties:Cz,default:!0};var Vy=RE,xz={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Vy.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Vy.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Nz=/^[a-z_$][a-z0-9_$-]*$/i,Iz=yz,Tz=xz,Rz={add:Pz,get:Az,remove:kz,validate:Kd};function Pz(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Nz.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var a=t.type;if(Array.isArray(a))for(var r=0;r<a.length;r++)o(e,a[r],t);else o(e,a,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}n.keywords[e]=n.all[e]=!0;function o(s,l,c){for(var u,d=0;d<n.length;d++){var p=n[d];if(p.type==l){u=p;break}}u||(u={type:l,rules:[]},n.push(u));var f={keyword:s,definition:c,custom:!0,code:Iz,implements:c.implements};u.rules.push(f),n.custom[s]=f}return this}function Az(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function kz(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var a=t[n].rules,r=0;r<a.length;r++)if(a[r].keyword==e){a.splice(r,1);break}return this}function Kd(e,t){Kd.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(Tz,!0);if(n(e))return!0;if(Kd.errors=n.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}const $z="http://json-schema.org/draft-07/schema#",qz="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Fz="Meta-schema for $data reference (JSON Schema extension proposal)",Dz="object",Oz=["$data"],Lz={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Vz=!1,Mz={$schema:$z,$id:qz,description:Fz,type:Dz,required:Oz,properties:Lz,additionalProperties:Vz};var PE=I9,Sn=Fh,Bz=q9,AE=uE,zz=pE,Uz=B9,Hz=hz,kE=mz,$E=xa,Wz=st;st.prototype.validate=Qz;st.prototype.compile=Gz;st.prototype.addSchema=Yz;st.prototype.addMetaSchema=Xz;st.prototype.validateSchema=Kz;st.prototype.getSchema=Jz;st.prototype.removeSchema=tU;st.prototype.addFormat=uU;st.prototype.errorsText=lU;st.prototype._addSchema=rU;st.prototype._compile=nU;st.prototype.compileAsync=gz;var xl=Rz;st.prototype.addKeyword=xl.add;st.prototype.getKeyword=xl.get;st.prototype.removeKeyword=xl.remove;st.prototype.validateKeyword=xl.validate;var qE=Dh;st.ValidationError=qE.Validation;st.MissingRefError=qE.MissingRef;st.$dataMetaSchema=kE;var fs="http://json-schema.org/draft-07/schema",My=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],jz=["/properties"];function st(e){if(!(this instanceof st))return new st(e);e=this._opts=$E.copy(e)||{},mU(this),this._schemas={},this._refs={},this._fragments={},this._formats=Uz(e.format),this._cache=e.cache||new Bz,this._loadingSchemas={},this._compilations=[],this.RULES=Hz(),this._getId=aU(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=zz),this._metaOpts=hU(this),e.formats&&fU(this),e.keywords&&pU(this),cU(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),dU(this)}function Qz(e,t){var n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);n=a.validate||this._compile(a)}var r=n(t);return n.$async!==!0&&(this.errors=n.errors),r}function Gz(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function Yz(e,t,n,a){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.addSchema(e[r],void 0,n,a);return this}var i=this._getId(e);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return t=Sn.normalizeId(t||i),DE(this,t),this._schemas[t]=this._addSchema(e,n,a,!0),this}function Xz(e,t,n){return this.addSchema(e,t,n,!0),this}function Kz(e,t){var n=e.$schema;if(n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||Zz(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(n,e);if(!a&&t){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return a}function Zz(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(fs)?fs:void 0,e._opts.defaultMeta}function Jz(e){var t=FE(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return eU(this,e)}}function eU(e,t){var n=Sn.schema.call(e,{schema:{}},t);if(n){var a=n.schema,r=n.root,i=n.baseId,o=PE.call(e,a,r,void 0,i);return e._fragments[t]=new AE({ref:t,fragment:!0,schema:a,root:r,baseId:i,validate:o}),o}}function FE(e,t){return t=Sn.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function tU(e){if(e instanceof RegExp)return bo(this,this._schemas,e),bo(this,this._refs,e),this;switch(typeof e){case"undefined":return bo(this,this._schemas),bo(this,this._refs),this._cache.clear(),this;case"string":var t=FE(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,a=n?n(e):e;this._cache.del(a);var r=this._getId(e);r&&(r=Sn.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function bo(e,t,n){for(var a in t){var r=t[a];!r.meta&&(!n||n.test(a))&&(e._cache.del(r.cacheKey),delete t[a])}}function rU(e,t,n,a){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,i=r?r(e):e,o=this._cache.get(i);if(o)return o;a=a||this._opts.addUsedSchema!==!1;var s=Sn.normalizeId(this._getId(e));s&&a&&DE(this,s);var l=this._opts.validateSchema!==!1&&!t,c;l&&!(c=s&&s==Sn.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=Sn.ids.call(this,e),d=new AE({id:s,schema:e,localRefs:u,cacheKey:i,meta:n});return s[0]!="#"&&a&&(this._refs[s]=d),this._cache.put(i,d),l&&c&&this.validateSchema(e,!0),d}function nU(e,t){if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,e.schema.$async===!0&&(r.$async=!0),r;e.compiling=!0;var n;e.meta&&(n=this._opts,this._opts=this._metaOpts);var a;try{a=PE.call(this,e.schema,t,e.localRefs)}catch(i){throw delete e.validate,i}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function r(){var i=e.validate,o=i.apply(this,arguments);return r.errors=i.errors,o}}function aU(e){switch(e.schemaId){case"auto":return sU;case"id":return iU;default:return oU}}function iU(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function oU(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function sU(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function lU(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=t.separator===void 0?", ":t.separator,a=t.dataVar===void 0?"data":t.dataVar,r="",i=0;i<e.length;i++){var o=e[i];o&&(r+=a+o.dataPath+" "+o.message+n)}return r.slice(0,-n.length)}function uU(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function cU(e){var t;if(e._opts.$data&&(t=Mz,e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var n=RE;e._opts.$data&&(n=kE(n,jz)),e.addMetaSchema(n,fs,!0),e._refs["http://json-schema.org/schema"]=fs}}function dU(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function fU(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function pU(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}function DE(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function hU(e){for(var t=$E.copy(e._opts),n=0;n<My.length;n++)delete t[My[n]];return t}function mU(e){var t=e._opts.logger;if(t===!1)e.logger={log:Tc,warn:Tc,error:Tc};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function Tc(){}const vU=It(Wz);let gU=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function By(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function OE(e,t,n){return t&&By(e.prototype,t),n&&By(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},le.apply(this,arguments)}function Rr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zd(e,t)}function Zd(e,t){return Zd=Object.setPrototypeOf||function(a,r){return a.__proto__=r,a},Zd(e,t)}function pt(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function yU(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LE(e){var t=yU(e,"string");return typeof t=="symbol"?t:String(t)}function ja(e){var t=e.type,n=t===void 0?"default":t,a=e.icon,r=e.className,i=pt(e,["type","icon","className"]);return B.createElement("button",le({type:"button",className:"btn btn-"+n+" "+r},i),B.createElement("i",{className:"glyphicon glyphicon-"+a}))}function Lh(e){var t=e.className,n=e.onClick,a=e.disabled;return B.createElement("div",{className:"row"},B.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right "+t},B.createElement(ja,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:n,disabled:a})))}var bU=qe.shape({ArrayFieldTemplate:qe.elementType,FieldTemplate:qe.elementType,ObjectFieldTemplate:qe.elementType,definitions:qe.object.isRequired,rootSchema:qe.object,fields:qe.objectOf(qe.elementType).isRequired,formContext:qe.object.isRequired,widgets:qe.objectOf(qe.oneOfType([qe.func,qe.object])).isRequired});qe.bool,qe.bool,qe.object,qe.any,qe.object,qe.func,qe.func.isRequired,qe.func,qe.string,qe.bool,bU.isRequired,qe.bool,qe.object.isRequired,qe.bool,qe.bool,qe.bool;var Mr=VE(),zy=null,Uy=null,Jd="__rjsf_rootSchema";function VE(){var e=new vU({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return e.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),e.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),e}function wU(e){return e.length?e.reduce(function(t,n){var a=n.property,r=n.message,i=J1(a),o=t;i.length>0&&i[0]===""&&i.splice(0,1);for(var c=i.slice(0),s=Array.isArray(c),l=0,c=s?c:c[Symbol.iterator]();;){var u;if(s){if(l>=c.length)break;u=c[l++]}else{if(l=c.next(),l.done)break;u=l.value}var d=u;d in o||(o[d]={}),o=o[d]}return Array.isArray(o.__errors)?o.__errors=o.__errors.concat(r):r&&(o.__errors=[r]),t},{}):{}}function hn(e,t){t===void 0&&(t="root");var n=[];return"__errors"in e&&(n=n.concat(e.__errors.map(function(a){return{stack:t+": "+a}}))),Object.keys(e).reduce(function(a,r){return r!=="__errors"&&(a=a.concat(hn(e[r],r))),a},n)}function ef(e){var t={__errors:[],addError:function(a){this.__errors.push(a)}};return lt(e)?Object.keys(e).reduce(function(n,a){var r;return le({},n,(r={},r[a]=ef(e[a]),r))},t):Array.isArray(e)?e.reduce(function(n,a,r){var i;return le({},n,(i={},i[r]=ef(a),i))},t):t}function ME(e){return Object.keys(e).reduce(function(t,n){var a;if(n==="addError")return t;if(n==="__errors"){var r;return le({},t,(r={},r[n]=e[n],r))}return le({},t,(a={},a[n]=ME(e[n]),a))},{})}function SU(e){return e===void 0&&(e=[]),e===null?[]:e.map(function(t){var n=t.dataPath,a=t.keyword,r=t.message,i=t.params,o=t.schemaPath,s=""+n;return{name:a,property:s,message:r,params:i,stack:(s+" "+r).trim(),schemaPath:o}})}function BE(e,t,n,a,r,i){r===void 0&&(r=[]),i===void 0&&(i={});var o=t;e=Nl(t,e,o,!0);var s=!Xt(Uy,r),l=!Xt(zy,i);(s||l)&&(Mr=VE()),r&&s&&Array.isArray(r)&&(Mr.addMetaSchema(r),Uy=r),i&&l&&lt(i)&&(Object.keys(i).forEach(function(b){Mr.addFormat(b,i[b])}),zy=i);var c=null;try{Mr.validate(t,e)}catch(b){c=b}var u=SU(Mr.errors);Mr.errors=null;var d=c&&c.message&&typeof c.message=="string"&&c.message.includes("no schema with key or ref ");d&&(u=[].concat(u,[{stack:c.message}])),typeof a=="function"&&(u=a(u));var p=wU(u);if(d&&(p=le({},p,{$schema:{__errors:[c.message]}})),typeof n!="function")return{errors:u,errorSchema:p};var f=n(e,ef(e)),h=ME(f),v=Wr(p,h,!0),g=hn(v);return{errors:g,errorSchema:v}}function tf(e){var t=e;if(e.constructor===Object){t=le({},e);for(var n in t){var a=t[n];n==="$ref"&&typeof a=="string"&&a.startsWith("#")?t[n]=Jd+a:t[n]=tf(a)}}else if(Array.isArray(e)){t=[].concat(e);for(var r=0;r<t.length;r++)t[r]=tf(t[r])}return t}function rf(e,t,n){try{return Mr.addSchema(n,Jd).validate(tf(e),t)}catch{return!1}finally{Mr.removeSchema(Jd)}}var Vh="__additional_property",Rc={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function _U(e,t,n){if(!e.additionalProperties)return!1;var a=kt(t),r=a.expandable;return r===!1?r:e.maxProperties!==void 0?Object.keys(n).length<e.maxProperties:!0}function ca(e){var t=e.type;return!t&&e.const?vi(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":t instanceof Array&&t.length===2&&t.includes("null")?t.find(function(n){return n!=="null"}):t}function xr(e,t,n){n===void 0&&(n={});var a=ca(e);function r(s){if(!s.MergedWidget){var l=s.defaultProps&&s.defaultProps.options||{};s.MergedWidget=function(c){var u=c.options,d=u===void 0?{}:u,p=pt(c,["options"]);return B.createElement(s,le({options:le({},l,d)},p))}}return s.MergedWidget}if(typeof t=="function"||uy.isForwardRef(B.createElement(t))||uy.isMemo(t))return r(t);if(typeof t!="string")throw new Error("Unsupported widget definition: "+typeof t);if(n.hasOwnProperty(t)){var i=n[t];return xr(e,i,n)}if(!Rc.hasOwnProperty(a))throw new Error('No widget for type "'+a+'"');if(Rc[a].hasOwnProperty(t)){var o=n[Rc[a][t]];return xr(e,o,n)}throw new Error('No widget "'+t+'" for type "'+a+'"')}function EU(e,t,n){n===void 0&&(n={});try{return xr(e,t,n),!0}catch(a){if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw a}}function Fr(e,t,n,a,r){a===void 0&&(a={}),r===void 0&&(r=!1);var i=lt(e)?e:{},o=lt(a)?a:{},s=t;if(lt(s)&&lt(i.default))s=Wr(s,i.default);else if("default"in i)s=i.default;else if("$ref"in i){var l=Bh(i.$ref,n);return Fr(l,s,n,o,r)}else if("dependencies"in i){var c=WE(i,n,o);return Fr(c,s,n,o,r)}else af(i)?s=i.items.map(function(h,v){return Fr(h,Array.isArray(t)?t[v]:void 0,n,o,r)}):"oneOf"in i?i=i.oneOf[gi(void 0,i.oneOf,n)]:"anyOf"in i&&(i=i.anyOf[gi(void 0,i.anyOf,n)]);switch(typeof s>"u"&&(s=i.default),ca(i)){case"object":return Object.keys(i.properties||{}).reduce(function(h,v){var g=Fr(i.properties[v],(s||{})[v],n,(o||{})[v],r);return(r||g!==void 0)&&(h[v]=g),h},{});case"array":if(Array.isArray(s)&&(s=s.map(function(h,v){return Fr(i.items[v]||i.additionalItems||{},h,n)})),Array.isArray(a)&&(s=a.map(function(h,v){return Fr(i.items,(s||{})[v],n,h)})),i.minItems){if(Mh(i,n))return s||[];var u=s?s.length:0;if(i.minItems>u){var d=s||[],p=Array.isArray(i.items)?i.additionalItems:i.items,f=BB(new Array(i.minItems-u),Fr(p,p.defaults,n));return d.concat(f)}}}return s}function Nl(e,t,n,a){if(n===void 0&&(n={}),a===void 0&&(a=!1),!lt(e))throw new Error("Invalid schema: "+e);var r=Oe(e,n,t),i=Fr(r,e.default,n,t,a);return typeof t>"u"?i:lt(t)||Array.isArray(t)?nf(i,t):t===0||t===!1||t===""?t:t||i}function nf(e,t){if(Array.isArray(t))return Array.isArray(e)||(e=[]),t.map(function(a,r){return e[r]?nf(e[r],a):a});if(lt(t)){var n=Object.assign({},e);return Object.keys(t).reduce(function(a,r){return a[r]=nf(e?e[r]:{},t[r]),a},n)}else return t}function kt(e){return Object.keys(e).filter(function(t){return t.indexOf("ui:")===0}).reduce(function(t,n){var a,r=e[n];return n==="ui:widget"&&lt(r)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),le({},t,r.options||{},{widget:r.component})):n==="ui:options"&&lt(r)?le({},t,r):le({},t,(a={},a[n.substring(3)]=r,a))},{})}function CU(e){var t=kt(e),n={props:{disabled:!1},submitText:"Submit",norender:!1};return t&&t.submitButtonOptions?Object.assign({},n,t.submitButtonOptions):n}function xU(e,t,n){var a=kt(t),r=a.label,i=r===void 0?!0:r,o=ca(e);return o==="array"&&(i=Mh(e,n)||zE(e,t,n)||UE(t)),o==="object"&&(i=!1),o==="boolean"&&!t["ui:widget"]&&(i=!1),t["ui:field"]&&(i=!1),i}function lt(e){return typeof File<"u"&&e instanceof File?!1:typeof e=="object"&&e!==null&&!Array.isArray(e)}function Wr(e,t,n){n===void 0&&(n=!1);var a=Object.assign({},e);return Object.keys(t).reduce(function(r,i){var o=e?e[i]:{},s=t[i];return e&&e.hasOwnProperty(i)&&lt(s)?r[i]=Wr(o,s,n):n&&Array.isArray(o)&&Array.isArray(s)?r[i]=o.concat(s):r[i]=s,r},a)}function Qa(e){if(e!==""){if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e))return e;var t=Number(e),n=typeof t=="number"&&!Number.isNaN(t);return/\.\d*0$/.test(e)?e:n?t:e}}function NU(e,t){if(!Array.isArray(t))return e;var n=function(d){return d.reduce(function(p,f){return p[f]=!0,p},{})},a=function(d){return d.length>1?"properties '"+d.join("', '")+"'":"property '"+d[0]+"'"},r=n(e),i=t.filter(function(u){return u==="*"||r[u]}),o=n(i),s=e.filter(function(u){return!o[u]}),l=i.indexOf("*");if(l===-1){if(s.length)throw new Error("uiSchema order list does not contain "+a(s));return i}if(l!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var c=[].concat(i);return c.splice.apply(c,[l,1].concat(s)),c}function IU(e){return Array.isArray(e.enum)&&e.enum.length===1||e.hasOwnProperty("const")}function TU(e){if(Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(e.hasOwnProperty("const"))return e.const;throw new Error("schema cannot be inferred as a constant")}function ps(e,t){t===void 0&&(t={});var n=Oe(e,t),a=n.oneOf||n.anyOf;return Array.isArray(n.enum)?!0:Array.isArray(a)?a.every(function(r){return IU(r)}):!1}function Mh(e,t){return t===void 0&&(t={}),!e.uniqueItems||!e.items?!1:ps(e.items,t)}function zE(e,t,n){if(n===void 0&&(n={}),t["ui:widget"]==="files")return!0;if(e.items){var a=Oe(e.items,n);return a.type==="string"&&a.format==="data-url"}return!1}function af(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(function(t){return lt(t)})}function UE(e){return"widget"in kt(e)&&kt(e).widget!=="hidden"}function Hy(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),lt(e.additionalItems)}function hs(e){if(e.enum)return e.enum.map(function(n,a){var r=e.enumNames&&e.enumNames[a]||String(n);return{label:r,value:n}});var t=e.oneOf||e.anyOf;return t.map(function(n){var a=TU(n),r=n.title||String(a);return{schema:n,label:r,value:a}})}function Bh(e,t){t===void 0&&(t={});var n=e;if(e.startsWith("#"))e=decodeURIComponent(e.substring(1));else throw new Error("Could not find a definition for "+n+".");var a=wl.get(t,e);if(a===void 0)throw new Error("Could not find a definition for "+n+".");return a.hasOwnProperty("$ref")?Bh(a.$ref,t):a}var vi=function(t){if(Array.isArray(t))return"array";if(typeof t=="string")return"string";if(t==null)return"null";if(typeof t=="boolean")return"boolean";if(isNaN(t)){if(typeof t=="object")return"object"}else return"number";return"string"};function RU(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),e=le({},e,{properties:le({},e.properties)}),n=lt(n)?n:{},Object.keys(n).forEach(function(a){if(!e.properties.hasOwnProperty(a)){var r;e.additionalProperties.hasOwnProperty("$ref")?r=Oe({$ref:e.additionalProperties.$ref},t,n):e.additionalProperties.hasOwnProperty("type")?r=le({},e.additionalProperties):r={type:vi(n[a])},e.properties[a]=r,e.properties[a][Vh]=!0}}),e}var PU=function(t,n,a){var r=t.if,i=t.then,o=t.else,s=pt(t,["if","then","else"]),l=rf(r,a,n)?i:o;return Oe(l?Il(s,Oe(l,n,a)):s,n,a)};function AU(e,t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),e.hasOwnProperty("$ref"))return HE(e,t,n);if(e.hasOwnProperty("dependencies")){var a=WE(e,t,n);return Oe(a,t,n)}else return e.hasOwnProperty("allOf")?le({},e,{allOf:e.allOf.map(function(r){return Oe(r,t,n)})}):e}function HE(e,t,n){var a=Bh(e.$ref,t),r=pt(e,["$ref"]);return Oe(le({},a,r),t,n)}function Oe(e,t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),!lt(e))return{};var a=AU(e,t,n);if(e.hasOwnProperty("if"))return PU(e,t,n);if(a.properties){var r={};Object.entries(a.properties).forEach(function(l){var c=l[0],u=l[1],d=n&&n[c],p=lt(d)?d:{},f=Oe(u,t,p);r[c]=f,u!==f&&a.properties!==r&&(a=le({},a,{properties:r}))})}if("allOf"in e)try{a=NB(le({},a,{allOf:a.allOf}))}catch(l){console.warn(`could not merge subschemas in allOf:
`+l);var i=a,o=pt(i,["allOf"]);return o}var s=a.hasOwnProperty("additionalProperties")&&a.additionalProperties!==!1;return s?RU(a,t,n):a}function WE(e,t,n){var a=e.dependencies,r=a===void 0?{}:a,i=pt(e,["dependencies"]);return"oneOf"in i?i=i.oneOf[gi(n,i.oneOf,t)]:"anyOf"in i&&(i=i.anyOf[gi(n,i.anyOf,t)]),jE(r,i,t,n)}function jE(e,t,n,a){for(var r in e)if(a[r]!==void 0&&!(t.properties&&!(r in t.properties))){var i=e[r],o=pt(e,[r].map(LE));return Array.isArray(i)?t=kU(t,i):lt(i)&&(t=$U(t,n,a,r,i)),jE(o,t,n,a)}return t}function kU(e,t){if(!t)return e;var n=Array.isArray(e.required)?Array.from(new Set([].concat(e.required,t))):t;return le({},e,{required:n})}function $U(e,t,n,a,r){var i=Oe(r,t,n),o=i.oneOf,s=pt(i,["oneOf"]);if(e=Il(e,s),o===void 0)return e;if(!Array.isArray(o))throw new Error("invalid: it is some "+typeof o+" instead of an array");var l=o.map(function(c){return c.hasOwnProperty("$ref")?HE(c,t,n):c});return qU(e,t,n,a,l)}function qU(e,t,n,a,r){var i=r.filter(function(u){if(!u.properties)return!1;var d=u.properties[a];if(d){var p,f={type:"object",properties:(p={},p[a]=d,p)},h=BE(n,f),v=h.errors;return v.length===0}});if(i.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),e;var o=i[0],s=o.properties,l=pt(s,[a].map(LE)),c=le({},o,{properties:l});return Il(e,Oe(c,t,n))}function Il(e,t){var n=Object.assign({},e);return Object.keys(t).reduce(function(a,r){var i=e?e[r]:{},o=t[r];return e&&e.hasOwnProperty(r)&&lt(o)?a[r]=Il(i,o):e&&t&&(ca(e)==="object"||ca(t)==="object")&&r==="required"&&Array.isArray(i)&&Array.isArray(o)?a[r]=ex(i,o):a[r]=o,a},n)}function wo(e){return Object.prototype.toString.call(e)==="[object Arguments]"}function Xt(e,t,n,a){if(n===void 0&&(n=[]),a===void 0&&(a=[]),e===t)return!0;if(typeof e=="function"||typeof t=="function")return!0;if(typeof e!="object"||typeof t!="object")return!1;if(e===null||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(wo(e)||wo(t)){if(!(wo(e)&&wo(t)))return!1;var r=Array.prototype.slice;return Xt(r.call(e),r.call(t),n,a)}else{if(e.constructor!==t.constructor)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length===0&&o.length===0)return!0;if(i.length!==o.length)return!1;for(var s=n.length;s--;)if(n[s]===e)return a[s]===t;n.push(e),a.push(t),i.sort(),o.sort();for(var l=i.length-1;l>=0;l--)if(i[l]!==o[l])return!1;for(var c,u=i.length-1;u>=0;u--)if(c=i[u],!Xt(e[c],t[c],n,a))return!1;return n.pop(),a.pop(),!0}}function zh(e,t,n){var a=e.props,r=e.state;return!Xt(a,t)||!Xt(r,n)}function _n(e,t,n,a,r,i){a===void 0&&(a={}),r===void 0&&(r="root"),i===void 0&&(i="_");var o={$id:t||r};if("$ref"in e||"dependencies"in e||"allOf"in e){var s=Oe(e,n,a);return _n(s,t,n,a,r,i)}if("items"in e&&!e.items.$ref)return _n(e.items,t,n,a,r,i);if(e.type!=="object")return o;for(var l in e.properties||{}){var c=e.properties[l],u=o.$id+i+l;o[l]=_n(lt(c)?c:{},u,n,(a||{})[l],r,i)}return o}function Ga(e,t,n,a){t===void 0&&(t=""),a===void 0&&(a={});var r={$name:t.replace(/^\./,"")};if("$ref"in e||"dependencies"in e||"allOf"in e){var i=Oe(e,n,a);return Ga(i,t,n,a)}if(e.hasOwnProperty("additionalProperties")&&(r.__rjsf_additionalProperties=!0),e.hasOwnProperty("items")&&Array.isArray(a))a.forEach(function(s,l){r[l]=Ga(e.items,t+"."+l,n,s)});else if(e.hasOwnProperty("properties"))for(var o in e.properties)r[o]=Ga(e.properties[o],t+"."+o,n,(a||{})[o]);return r}function Da(e,t){if(t===void 0&&(t=!0),!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:t?n.getUTCHours():0,minute:t?n.getUTCMinutes():0,second:t?n.getUTCSeconds():0}}function Wy(e,t){var n=e.year,a=e.month,r=e.day,i=e.hour,o=i===void 0?0:i,s=e.minute,l=s===void 0?0:s,c=e.second,u=c===void 0?0:c;t===void 0&&(t=!0);var d=Date.UTC(n,a-1,r,o,l,u),p=new Date(d).toJSON();return t?p:p.slice(0,10)}function FU(e){if(!e)return"";var t=new Date(e),n=Dr(t.getFullYear(),4),a=Dr(t.getMonth()+1,2),r=Dr(t.getDate(),2),i=Dr(t.getHours(),2),o=Dr(t.getMinutes(),2),s=Dr(t.getSeconds(),2),l=Dr(t.getMilliseconds(),3);return n+"-"+a+"-"+r+"T"+i+":"+o+":"+s+"."+l}function DU(e){if(e)return new Date(e).toJSON()}function Dr(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}function OU(e){var t=e.split(","),n=t[0].split(";"),a=n[0].replace("data:",""),r=n.filter(function(u){return u.split("=")[0]==="name"}),i;r.length!==1?i="unknown":i=r[0].split("=")[1];for(var o=atob(t[1]),s=[],l=0;l<o.length;l++)s.push(o.charCodeAt(l));var c=new window.Blob([new Uint8Array(s)],{type:a});return{blob:c,name:i}}function QE(e){var t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function gi(e,t,n){if(e===void 0)return 0;for(var a=0;a<t.length;a++){var r=t[a];if(r.properties){var i={anyOf:Object.keys(r.properties).map(function(l){return{required:[l]}})},o=void 0;if(r.anyOf){var s=le({},r);s.allOf?s.allOf=s.allOf.slice():s.allOf=[],s.allOf.push(i),o=s}else o=Object.assign({},r,i);if(delete o.required,rf(o,e,n))return a}else if(rf(r,e,n))return a}return 0}function ko(e){return e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0?!0:e.anyOf&&e.anyOf.length===1?ko(e.anyOf[0]):e.oneOf&&e.oneOf.length===1?ko(e.oneOf[0]):e.allOf?e.allOf.some(ko):!1}function GE(e){var t=e.TitleField,n=e.idSchema,a=e.title,r=e.required;if(!a)return null;var i=n.$id+"__title";return B.createElement(t,{id:i,title:a,required:r})}function LU(e){var t=e.DescriptionField,n=e.idSchema,a=e.description;if(!a)return null;var r=n.$id+"__description";return B.createElement(t,{id:r,description:a})}function YE(e){var t={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return B.createElement("div",{key:e.key,className:e.className},B.createElement("div",{className:e.hasToolbar?"col-xs-9":"col-xs-12"},e.children),e.hasToolbar&&B.createElement("div",{className:"col-xs-3 array-item-toolbox"},B.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(e.hasMoveUp||e.hasMoveDown)&&B.createElement(ja,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveUp,onClick:e.onReorderClick(e.index,e.index-1)}),(e.hasMoveUp||e.hasMoveDown)&&B.createElement(ja,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveDown,onClick:e.onReorderClick(e.index,e.index+1)}),e.hasRemove&&B.createElement(ja,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly,onClick:e.onDropIndexClick(e.index)}))))}function VU(e){return B.createElement("fieldset",{className:e.className,id:e.idSchema.$id},B.createElement(GE,{key:"array-field-title-"+e.idSchema.$id,TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&B.createElement("div",{className:"field-description",key:"field-description-"+e.idSchema.$id},e.uiSchema["ui:description"]||e.schema.description),B.createElement("div",{className:"row array-item-list",key:"array-item-list-"+e.idSchema.$id},e.items&&e.items.map(YE)),e.canAdd&&B.createElement(Lh,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function MU(e){return B.createElement("fieldset",{className:e.className,id:e.idSchema.$id},B.createElement(GE,{key:"array-field-title-"+e.idSchema.$id,TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&B.createElement(LU,{key:"array-field-description-"+e.idSchema.$id,DescriptionField:e.DescriptionField,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description}),B.createElement("div",{className:"row array-item-list",key:"array-item-list-"+e.idSchema.$id},e.items&&e.items.map(function(t){return YE(t)})),e.canAdd&&B.createElement(Lh,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function of(){return gU()}function jy(e){return Array.isArray(e)?e.map(function(t){return{key:of(),item:t}}):[]}function Oa(e){return e.map(function(t){return t.item})}var XE=function(e){Rr(t,e);function t(a){var r;r=e.call(this,a)||this,r._getNewFormDataRow=function(){var s=r.props,l=s.schema,c=s.registry,u=c.rootSchema,d=l.items;return af(l)&&Hy(l)&&(d=l.additionalItems),Nl(d,void 0,u)},r.onAddClick=function(s){s&&s.preventDefault();var l=r.props.onChange,c={key:of(),item:r._getNewFormDataRow()},u=[].concat(r.state.keyedFormData,[c]);r.setState({keyedFormData:u,updatedKeyedFormData:!0},function(){return l(Oa(u))})},r.onAddIndexClick=function(s){return function(l){l&&l.preventDefault();var c=r.props.onChange,u={key:of(),item:r._getNewFormDataRow()},d=[].concat(r.state.keyedFormData);d.splice(s,0,u),r.setState({keyedFormData:d,updatedKeyedFormData:!0},function(){return c(Oa(d))})}},r.onDropIndexClick=function(s){return function(l){l&&l.preventDefault();var c=r.props.onChange,u=r.state.keyedFormData,d;if(r.props.errorSchema){d={};var p=r.props.errorSchema;for(var f in p)f=parseInt(f),f<s?d[f]=p[f]:f>s&&(d[f-1]=p[f])}var h=u.filter(function(v,g){return g!==s});r.setState({keyedFormData:h,updatedKeyedFormData:!0},function(){return c(Oa(h),d)})}},r.onReorderClick=function(s,l){return function(c){c&&(c.preventDefault(),c.target.blur());var u=r.props.onChange,d;if(r.props.errorSchema){d={};var p=r.props.errorSchema;for(var f in p)f==s?d[l]=p[s]:f==l?d[s]=p[l]:d[f]=p[f]}var h=r.state.keyedFormData;function v(){var b=h.slice();return b.splice(s,1),b.splice(l,0,h[s]),b}var g=v();r.setState({keyedFormData:g},function(){return u(Oa(g),d)})}},r.onChangeForIndex=function(s){return function(l,c){var u,d=r.props,p=d.formData,f=d.onChange,h=p.map(function(v,g){var b=typeof l>"u"?null:l;return s===g?b:v});f(h,c&&r.props.errorSchema&&le({},r.props.errorSchema,(u={},u[s]=c,u)))}},r.onSelectChange=function(s){r.props.onChange(s)};var i=a.formData,o=jy(i);return r.state={keyedFormData:o,updatedKeyedFormData:!1},r}t.getDerivedStateFromProps=function(r,i){if(i.updatedKeyedFormData)return{updatedKeyedFormData:!1};var o=r.formData||[],s=i.keyedFormData||[],l=o.length===s.length?s.map(function(c,u){return{key:c.key,item:o[u]}}):jy(o);return{keyedFormData:l}};var n=t.prototype;return n.isItemRequired=function(r){return Array.isArray(r.type)?!i5(r.type,"null"):r.type!=="null"},n.canAddItem=function(r){var i=this.props,o=i.schema,s=i.uiSchema,l=kt(s),c=l.addable;return c!==!1&&(o.maxItems!==void 0?c=r.length<o.maxItems:c=!0),c},n.render=function(){var r=this.props,i=r.schema,o=r.uiSchema,s=r.idSchema,l=r.registry,c=l.rootSchema;if(!i.hasOwnProperty("items")){var u=l.fields,d=u.UnsupportedField;return B.createElement(d,{schema:i,idSchema:s,reason:"Missing items definition"})}return Mh(i,c)?this.renderMultiSelect():UE(o)?this.renderCustomWidget():af(i)?this.renderFixedArray():zE(i,o,c)?this.renderFiles():this.renderNormalArray()},n.renderNormalArray=function(){var r=this,i=this.props,o=i.schema,s=i.uiSchema,l=i.errorSchema,c=i.idSchema,u=i.name,d=i.required,p=i.disabled,f=i.readonly,h=i.hideError,v=i.autofocus,g=i.registry,b=i.onBlur,E=i.onFocus,y=i.idPrefix,_=i.idSeparator,w=_===void 0?"_":_,S=i.rawErrors,C=o.title===void 0?u:o.title,x=g.ArrayFieldTemplate,T=g.rootSchema,R=g.fields,q=g.formContext,k=R.TitleField,I=R.DescriptionField,N=Oe(o.items,T),$=Oa(this.state.keyedFormData),F={canAdd:this.canAddItem($),items:this.state.keyedFormData.map(function(V,O){var U=V.key,H=V.item,G=Oe(o.items,T,H),X=l?l[O]:void 0,Y=c.$id+w+O,K=_n(G,Y,T,H,y,w);return r.renderArrayFieldItem({key:U,index:O,canMoveUp:O>0,canMoveDown:O<$.length-1,itemSchema:G,itemIdSchema:K,itemErrorSchema:X,itemData:H,itemUiSchema:s.items,autofocus:v&&O===0,onBlur:b,onFocus:E})}),className:"field field-array field-array-of-"+N.type,DescriptionField:I,disabled:p,idSchema:c,uiSchema:s,onAddClick:this.onAddClick,readonly:f,hideError:h,required:d,schema:o,title:C,TitleField:k,formContext:q,formData:$,rawErrors:S,registry:g},A=s["ui:ArrayFieldTemplate"]||x||MU;return B.createElement(A,F)},n.renderCustomWidget=function(){var r=this.props,i=r.schema,o=r.idSchema,s=r.uiSchema,l=r.disabled,c=r.readonly,u=r.hideError,d=r.required,p=r.placeholder,f=r.autofocus,h=r.onBlur,v=r.onFocus,g=r.formData,b=r.registry,E=r.rawErrors,y=r.name,_=b.widgets,w=b.formContext,S=i.title||y,C=le({},kt(s)),x=C.widget,T=pt(C,["widget"]),R=xr(i,x,_);return B.createElement(R,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:v,options:T,schema:i,uiSchema:s,registry:b,value:g,disabled:l,readonly:c,hideError:u,required:d,label:S,placeholder:p,formContext:w,autofocus:f,rawErrors:E})},n.renderMultiSelect=function(){var r=this.props,i=r.schema,o=r.idSchema,s=r.uiSchema,l=r.formData,c=r.disabled,u=r.readonly,d=r.required,p=r.placeholder,f=r.autofocus,h=r.onBlur,v=r.onFocus,g=r.registry,b=r.rawErrors,E=r.name,y=this.props.formData,_=g.widgets,w=g.rootSchema,S=g.formContext,C=Oe(i.items,w,l),x=i.title||E,T=hs(C),R=le({},kt(s),{enumOptions:T}),q=R.widget,k=q===void 0?"select":q,I=pt(R,["widget"]),N=xr(i,k,_);return B.createElement(N,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:v,options:I,schema:i,uiSchema:s,registry:g,value:y,disabled:c,readonly:u,required:d,label:x,placeholder:p,formContext:S,autofocus:f,rawErrors:b})},n.renderFiles=function(){var r=this.props,i=r.schema,o=r.uiSchema,s=r.idSchema,l=r.name,c=r.disabled,u=r.readonly,d=r.autofocus,p=r.onBlur,f=r.onFocus,h=r.registry,v=r.rawErrors,g=i.title||l,b=this.props.formData,E=h.widgets,y=h.formContext,_=kt(o),w=_.widget,S=w===void 0?"files":w,C=pt(_,["widget"]),x=xr(i,S,E);return B.createElement(x,{options:C,id:s&&s.$id,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:f,schema:i,uiSchema:o,title:g,value:b,disabled:c,readonly:u,registry:h,formContext:y,autofocus:d,rawErrors:v})},n.renderFixedArray=function(){var r=this,i=this.props,o=i.schema,s=i.uiSchema,l=i.formData,c=i.errorSchema,u=i.idPrefix,d=i.idSeparator,p=d===void 0?"_":d,f=i.idSchema,h=i.name,v=i.required,g=i.disabled,b=i.readonly,E=i.autofocus,y=i.registry,_=i.onBlur,w=i.onFocus,S=i.rawErrors,C=o.title||h,x=this.props.formData,T=y.ArrayFieldTemplate,R=y.rootSchema,q=y.fields,k=y.formContext,I=q.TitleField,N=o.items.map(function(V,O){return Oe(V,R,l[O])}),$=Hy(o)?Oe(o.additionalItems,R,l):null;(!x||x.length<N.length)&&(x=x||[],x=x.concat(new Array(N.length-x.length)));var F={canAdd:this.canAddItem(x)&&$,className:"field field-array field-array-fixed-items",disabled:g,idSchema:f,formData:l,items:this.state.keyedFormData.map(function(V,O){var U=V.key,H=V.item,G=O>=N.length,X=G?Oe(o.additionalItems,R,H):N[O],Y=f.$id+p+O,K=_n(X,Y,R,H,u,p),J=G?s.additionalItems||{}:Array.isArray(s.items)?s.items[O]:s.items||{},ne=c?c[O]:void 0;return r.renderArrayFieldItem({key:U,index:O,canRemove:G,canMoveUp:O>=N.length+1,canMoveDown:G&&O<x.length-1,itemSchema:X,itemData:H,itemUiSchema:J,itemIdSchema:K,itemErrorSchema:ne,autofocus:E&&O===0,onBlur:_,onFocus:w})}),onAddClick:this.onAddClick,readonly:b,required:v,registry:y,schema:o,uiSchema:s,title:C,TitleField:I,formContext:k,rawErrors:S},A=s["ui:ArrayFieldTemplate"]||T||VU;return B.createElement(A,F)},n.renderArrayFieldItem=function(r){var i=r.key,o=r.index,s=r.canRemove,l=s===void 0?!0:s,c=r.canMoveUp,u=c===void 0?!0:c,d=r.canMoveDown,p=d===void 0?!0:d,f=r.itemSchema,h=r.itemData,v=r.itemUiSchema,g=r.itemIdSchema,b=r.itemErrorSchema,E=r.autofocus,y=r.onBlur,_=r.onFocus,w=r.rawErrors,S=this.props,C=S.disabled,x=S.readonly,T=S.uiSchema,R=S.registry,q=R.fields.SchemaField,k=kt(T),I=k.orderable,N=I===void 0?!0:I,$=k.removable,F=$===void 0?!0:$,A={moveUp:N&&u,moveDown:N&&p,remove:F&&l};return A.toolbar=Object.keys(A).some(function(V){return A[V]}),{children:B.createElement(q,{index:o,schema:f,uiSchema:v,formData:h,errorSchema:b,idPrefix:this.props.idPrefix,idSeparator:this.props.idSeparator,idSchema:g,required:this.isItemRequired(f),onChange:this.onChangeForIndex(o),onBlur:y,onFocus:_,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,hideError:this.props.hideError,autofocus:E,rawErrors:w}),className:"array-item",disabled:C,hasToolbar:A.toolbar,hasMoveUp:A.moveUp,hasMoveDown:A.moveDown,hasRemove:A.remove,index:o,key:i,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:x}},OE(t,[{key:"itemTitle",get:function(){var r=this.props.schema;return r.items.title||r.items.description||"Item"}}]),t}(P.Component);XE.defaultProps={uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1};function KE(e){var t=e.schema,n=e.name,a=e.uiSchema,r=e.idSchema,i=e.formData,o=e.registry,s=e.required,l=e.disabled,c=e.readonly,u=e.autofocus,d=e.onChange,p=e.onFocus,f=e.onBlur,h=e.rawErrors,v=t.title,g=o.widgets,b=o.formContext,E=o.fields,y=kt(a),_=y.widget,w=_===void 0?"checkbox":_,S=pt(y,["widget"]),C=xr(t,w,g),x;return Array.isArray(t.oneOf)?x=hs({oneOf:t.oneOf.map(function(T){return le({},T,{title:T.title||(T.const===!0?"Yes":"No")})})}):x=hs({enum:t.enum||[!0,!1],enumNames:t.enumNames||(t.enum&&t.enum[0]===!1?["No","Yes"]:["Yes","No"])}),B.createElement(C,{options:le({},S,{enumOptions:x}),schema:t,uiSchema:a,id:r&&r.$id,onChange:d,onFocus:p,onBlur:f,label:v===void 0?n:v,value:i,required:s,disabled:l,readonly:c,registry:o,formContext:b,autofocus:u,rawErrors:h,DescriptionField:E.DescriptionField})}KE.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};function BU(e){var t=e.id,n=e.description;return n?typeof n=="string"?B.createElement("p",{id:t,className:"field-description"},n):B.createElement("div",{id:t,className:"field-description"},n):null}var sf=function(e){Rr(t,e);function t(a){var r;r=e.call(this,a)||this,r.onOptionChange=function(l){var c=parseInt(l,10),u=r.props,d=u.formData,p=u.onChange,f=u.options,h=u.registry,v=h.rootSchema,g=Oe(f[c],v,d),b=void 0;if(vi(d)==="object"&&(g.type==="object"||g.properties)){b=Object.assign({},d);var E=f.slice();E.splice(c,1);for(var w=E,y=Array.isArray(w),_=0,w=y?w:w[Symbol.iterator]();;){var S;if(y){if(_>=w.length)break;S=w[_++]}else{if(_=w.next(),_.done)break;S=_.value}var C=S;if(C.properties)for(var x in C.properties)b.hasOwnProperty(x)&&delete b[x]}}p(Nl(f[c],b,v)),r.setState({selectedOption:parseInt(l,10)})};var i=r.props,o=i.formData,s=i.options;return r.state={selectedOption:r.getMatchingOption(o,s)},r}var n=t.prototype;return n.componentDidUpdate=function(r,i){if(!Xt(this.props.formData,r.formData)&&this.props.idSchema.$id===r.idSchema.$id){var o=this.getMatchingOption(this.props.formData,this.props.options);if(!i||o===this.state.selectedOption)return;this.setState({selectedOption:o})}},n.getMatchingOption=function(r,i){var o=this.props.registry.rootSchema,s=gi(r,i,o);return s!==0?s:this&&this.state?this.state.selectedOption:0},n.render=function(){var r=this.props,i=r.baseType,o=r.disabled,s=r.readonly,l=r.hideError,c=r.errorSchema,u=r.formData,d=r.idPrefix,p=r.idSeparator,f=r.idSchema,h=r.onBlur,v=r.onChange,g=r.onFocus,b=r.options,E=r.registry,y=r.uiSchema,_=r.schema,w=E.fields.SchemaField,S=E.widgets,C=this.state.selectedOption,x=kt(y),T=x.widget,R=T===void 0?"select":T,q=pt(x,["widget"]),k=xr({type:"number"},R,S),I=b[C]||null,N;I&&(N=I.type?I:Object.assign({},I,{type:i}));var $=b.map(function(F,A){return{label:F.title||"Option "+(A+1),value:A}});return B.createElement("div",{className:"panel panel-default panel-body"},B.createElement("div",{className:"form-group"},B.createElement(k,le({id:""+f.$id+(_.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:h,onFocus:g,value:C,options:{enumOptions:$},registry:E},q))),I!==null&&B.createElement(w,{schema:N,uiSchema:y,errorSchema:c,idSchema:f,idPrefix:d,idSeparator:p,formData:u,onChange:v,onBlur:h,onFocus:g,registry:E,disabled:o,readonly:s,hideError:l}))},t}(P.Component);sf.defaultProps={disabled:!1,readonly:!1,hideError:!1,errorSchema:{},idSchema:{},uiSchema:{}};var zU=/\.([0-9]*0)*$/,UU=/[0.]0*$/,ZE=function(e){Rr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.handleChange=function(i){r.setState({lastValue:i}),(""+i).charAt(0)==="."&&(i="0"+i);var o=typeof i=="string"&&i.match(zU)?Qa(i.replace(UU,"")):Qa(i);r.props.onChange(o)},r.state={lastValue:a.value},r}var n=t.prototype;return n.render=function(){var r=this.props.registry.fields.StringField,i=this.props,o=i.formData,s=pt(i,["formData"]),l=this.state.lastValue,c=o;if(typeof l=="string"&&typeof c=="number"){var u=new RegExp((""+c).replace(".","\\.")+"\\.?0*$");l.match(u)&&(c=l)}return B.createElement(r,le({},s,{formData:c,onChange:this.handleChange}))},t}(B.Component);ZE.defaultProps={uiSchema:{}};function HU(e){var t=e.TitleField,n=e.DescriptionField;return B.createElement("fieldset",{id:e.idSchema.$id},(e.uiSchema["ui:title"]||e.title)&&B.createElement(t,{id:e.idSchema.$id+"__title",title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&B.createElement(n,{id:e.idSchema.$id+"__description",description:e.description,formContext:e.formContext}),e.properties.map(function(a){return a.content}),_U(e.schema,e.uiSchema,e.formData)&&B.createElement(Lh,{className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly}))}var JE=function(e){Rr(t,e);function t(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.state={wasPropertyKeyModified:!1,additionalProperties:{}},a.onPropertyChange=function(s,l){return l===void 0&&(l=!1),function(c,u){var d,p;c===void 0&&l&&(c="");var f=le({},a.props.formData,(d={},d[s]=c,d));a.props.onChange(f,u&&a.props.errorSchema&&le({},a.props.errorSchema,(p={},p[s]=u,p)))}},a.onDropPropertyClick=function(s){return function(l){l.preventDefault();var c=a.props,u=c.onChange,d=c.formData,p=le({},d);delete p[s],u(p)}},a.getAvailableKey=function(s,l){for(var c=0,u=s;l.hasOwnProperty(u);)u=s+"-"+ ++c;return u},a.onKeyChange=function(s){return function(l,c){var u,d;if(s!==l){l=a.getAvailableKey(l,a.props.formData);var p=le({},a.props.formData),f=(u={},u[s]=l,u),h=Object.keys(p).map(function(g){var b,E=f[g]||g;return b={},b[E]=p[g],b}),v=Object.assign.apply(Object,[{}].concat(h));a.setState({wasPropertyKeyModified:!0}),a.props.onChange(v,c&&a.props.errorSchema&&le({},a.props.errorSchema,(d={},d[l]=c,d)))}}},a.handleAddClick=function(s){return function(){var l=s.additionalProperties.type,c=le({},a.props.formData);if(s.additionalProperties.hasOwnProperty("$ref")){var u=a.props.registry,d=Oe({$ref:s.additionalProperties.$ref},u.rootSchema,a.props.formData);l=d.type}c[a.getAvailableKey("newKey",c)]=a.getDefaultValue(l),a.props.onChange(c)}},a}var n=t.prototype;return n.isRequired=function(r){var i=this.props.schema;return Array.isArray(i.required)&&i.required.indexOf(r)!==-1},n.getDefaultValue=function(r){switch(r){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}},n.render=function(){var r=this,i=this.props,o=i.uiSchema,s=i.formData,l=i.errorSchema,c=i.idSchema,u=i.name,d=i.required,p=i.disabled,f=i.readonly,h=i.hideError,v=i.idPrefix,g=i.idSeparator,b=i.onBlur,E=i.onFocus,y=i.registry,_=y.rootSchema,w=y.fields,S=y.formContext,C=w.SchemaField,x=w.TitleField,T=w.DescriptionField,R=Oe(this.props.schema,_,s),q=R.title===void 0?u:R.title,k=o["ui:description"]||R.description,I;try{var N=Object.keys(R.properties||{});I=NU(N,o["ui:order"])}catch(A){return B.createElement("div",null,B.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",u||"root"," object field configuration:",B.createElement("em",null,A.message),"."),B.createElement("pre",null,JSON.stringify(R)))}var $=o["ui:ObjectFieldTemplate"]||y.ObjectFieldTemplate||HU,F={title:o["ui:title"]||q,description:k,TitleField:x,DescriptionField:T,properties:I.map(function(A){var V=R.properties[A].hasOwnProperty(Vh),O=V?o.additionalProperties:o[A],U=O&&O["ui:widget"]==="hidden";return{content:B.createElement(C,{key:A,name:A,required:r.isRequired(A),schema:R.properties[A],uiSchema:O,errorSchema:l[A],idSchema:c[A],idPrefix:v,idSeparator:g,formData:(s||{})[A],wasPropertyKeyModified:r.state.wasPropertyKeyModified,onKeyChange:r.onKeyChange(A),onChange:r.onPropertyChange(A,V),onBlur:b,onFocus:E,registry:y,disabled:p,readonly:f,hideError:h,onDropPropertyClick:r.onDropPropertyClick}),name:A,readonly:f,disabled:p,required:d,hidden:U}}),readonly:f,disabled:p,required:d,idSchema:c,uiSchema:o,schema:R,formData:s,formContext:S,registry:y};return B.createElement($,le({},F,{onAddClick:this.handleAddClick}))},t}(P.Component);JE.defaultProps={uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1};var WU="*",jU={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function QU(e,t,n,a){var r=t["ui:field"];if(typeof r=="function")return r;if(typeof r=="string"&&r in a)return a[r];var i=jU[ca(e)];return!i&&(e.anyOf||e.oneOf)?function(){return null}:i in a?a[i]:function(){var o=a.UnsupportedField;return B.createElement(o,{schema:e,idSchema:n,reason:"Unknown field type "+e.type})}}function eC(e){var t=e.label,n=e.required,a=e.id;return t?B.createElement("label",{className:"control-label",htmlFor:a},t,n&&B.createElement("span",{className:"required"},WU)):null}function GU(e){var t=e.id,n=e.label,a=e.onChange;return B.createElement("input",{className:"form-control",type:"text",id:t,onBlur:function(i){return a(i.target.value)},defaultValue:n})}function YU(e){var t=e.id,n=e.help;return n?typeof n=="string"?B.createElement("p",{id:t,className:"help-block"},n):B.createElement("div",{id:t,className:"help-block"},n):null}function XU(e){var t=e.errors,n=t===void 0?[]:t;return n.length===0?null:B.createElement("div",null,B.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},n.filter(function(a){return!!a}).map(function(a,r){return B.createElement("li",{className:"text-danger",key:r},a)})))}function tC(e){var t=e.id,n=e.label,a=e.children,r=e.errors,i=e.help,o=e.description,s=e.hidden,l=e.required,c=e.displayLabel;return s?B.createElement("div",{className:"hidden"},a):B.createElement(KU,e,c&&B.createElement(eC,{label:n,required:l,id:t}),c&&o?o:null,a,r,i)}tC.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function KU(e){var t=e.id,n=e.classNames,a=e.disabled,r=e.label,i=e.onKeyChange,o=e.onDropPropertyClick,s=e.readonly,l=e.required,c=e.schema,u=r+" Key",d=c.hasOwnProperty(Vh);return d?B.createElement("div",{className:n},B.createElement("div",{className:"row"},B.createElement("div",{className:"col-xs-5 form-additional"},B.createElement("div",{className:"form-group"},B.createElement(eC,{label:u,required:l,id:t+"-key"}),B.createElement(GU,{label:r,required:l,id:t+"-key",onChange:i}))),B.createElement("div",{className:"form-additional form-group col-xs-5"},e.children),B.createElement("div",{className:"col-xs-2"},B.createElement(ja,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:a||s,onClick:o(r)})))):B.createElement("div",{className:n},e.children)}function ZU(e){var t=e.uiSchema,n=e.formData,a=e.errorSchema,r=e.idPrefix,i=e.idSeparator,o=e.name,s=e.onChange,l=e.onKeyChange,c=e.onDropPropertyClick,u=e.required,d=e.registry,p=e.wasPropertyKeyModified,f=p===void 0?!1:p,h=d.rootSchema,v=d.fields,g=d.formContext,b=t["ui:FieldTemplate"]||d.FieldTemplate||tC,E=e.idSchema,y=Oe(e.schema,h,n);E=Wr(_n(y,null,h,n,r,i),E);var _=QU(y,t,E,v),w=v.DescriptionField,S=!!(e.disabled||t["ui:disabled"]),C=!!(e.readonly||t["ui:readonly"]||e.schema.readOnly||y.readOnly),x=t["ui:hideError"],T=x===void 0?e.hideError:!!x,R=!!(e.autofocus||t["ui:autofocus"]);if(Object.keys(y).length===0)return null;var q=xU(y,t,h),k=a.__errors,I=pt(a,["__errors"]),N=B.createElement(_,le({},e,{idSchema:E,schema:y,uiSchema:le({},t,{classNames:void 0}),disabled:S,readonly:C,hideError:T,autofocus:R,errorSchema:I,formContext:g,rawErrors:k})),$=E.$id,F;f?F=o:F=t["ui:title"]||e.schema.title||y.title||o;var A=t["ui:description"]||e.schema.description||y.description,V=k,O=t["ui:help"],U=t["ui:widget"]==="hidden",H=["form-group","field","field-"+y.type];!T&&V&&V.length>0&&H.push("field-error has-error has-danger"),H.push(t.classNames),H=H.join(" ").trim();var G={description:B.createElement(w,{id:$+"__description",description:A,formContext:g}),rawDescription:A,help:B.createElement(YU,{id:$+"__help",help:O}),rawHelp:typeof O=="string"?O:void 0,errors:T?void 0:B.createElement(XU,{errors:V}),rawErrors:T?void 0:V,id:$,label:F,hidden:U,onChange:s,onKeyChange:l,onDropPropertyClick:c,required:u,disabled:S,readonly:C,hideError:T,displayLabel:q,classNames:H,formContext:g,formData:n,fields:v,schema:y,uiSchema:t,registry:d},X=d.fields.AnyOfField,Y=d.fields.OneOfField;return B.createElement(b,G,B.createElement(B.Fragment,null,N,y.anyOf&&!ps(y)&&B.createElement(X,{disabled:S,readonly:C,hideError:T,errorSchema:a,formData:n,idPrefix:r,idSchema:E,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:y.anyOf.map(function(K){return Oe(K,h,n)}),baseType:y.type,registry:d,schema:y,uiSchema:t}),y.oneOf&&!ps(y)&&B.createElement(Y,{disabled:S,readonly:C,hideError:T,errorSchema:a,formData:n,idPrefix:r,idSchema:E,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:y.oneOf.map(function(K){return Oe(K,h,n)}),baseType:y.type,registry:d,schema:y,uiSchema:t})))}var rC=function(e){Rr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return!Xt(this.props,r)},n.render=function(){return ZU(this.props)},t}(B.Component);rC.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1,hideError:!1};function nC(e){var t=e.schema,n=e.name,a=e.uiSchema,r=e.idSchema,i=e.formData,o=e.required,s=e.disabled,l=e.readonly,c=e.autofocus,u=e.onChange,d=e.onBlur,p=e.onFocus,f=e.registry,h=e.rawErrors,v=t.title,g=t.format,b=f.widgets,E=f.formContext,y=ps(t)&&hs(t),_=y?"select":"text";g&&EU(t,g,b)&&(_=g);var w=kt(a),S=w.widget,C=S===void 0?_:S,x=w.placeholder,T=x===void 0?"":x,R=pt(w,["widget","placeholder"]),q=xr(t,C,b);return B.createElement(q,{options:le({},R,{enumOptions:y}),schema:t,uiSchema:a,id:r&&r.$id,label:v===void 0?n:v,value:i,onChange:u,onBlur:d,onFocus:p,required:o,disabled:s,readonly:l,formContext:E,autofocus:c,registry:f,placeholder:T,rawErrors:h})}nC.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var JU="*";function eH(e){var t=e.id,n=e.title,a=e.required;return B.createElement("legend",{id:t},n,a&&B.createElement("span",{className:"required"},JU))}var tH=function(e){Rr(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.formData===void 0&&this.props.onChange(null)},n.render=function(){return null},t}(P.Component);function rH(e){var t=e.schema,n=e.idSchema,a=e.reason;return B.createElement("div",{className:"unsupported-field"},B.createElement("p",null,"Unsupported field schema",n&&n.$id&&B.createElement("span",null," for"," field ",B.createElement("code",null,n.$id)),a&&B.createElement("em",null,": ",a),"."),t&&B.createElement("pre",null,JSON.stringify(t,null,2)))}var nH={AnyOfField:sf,ArrayField:XE,BooleanField:KE,DescriptionField:BU,NumberField:ZE,ObjectField:JE,OneOfField:sf,SchemaField:rC,StringField:nC,TitleField:eH,NullField:tH,UnsupportedField:rH};function aH(e,t){for(var n=[],a=e;a<=t;a++)n.push({value:a,label:Dr(a,2)});return n}function iH(e){return Object.keys(e).every(function(t){return e[t]!==-1})}function oH(e){var t=e.type,n=e.range,a=e.value,r=e.select,i=e.rootId,o=e.disabled,s=e.readonly,l=e.autofocus,c=e.registry,u=e.onBlur,d=i+"_"+t,p=c.widgets.SelectWidget;return B.createElement(p,{schema:{type:"integer"},id:d,className:"form-control",options:{enumOptions:aH(n[0],n[1])},placeholder:t,value:a,disabled:o,readonly:s,autofocus:l,onChange:function(h){return r(t,h)},onBlur:u})}var Uh=function(e){Rr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.onChange=function(i,o){var s;r.setState((s={},s[i]=typeof o>"u"?-1:o,s),function(){iH(r.state)&&r.props.onChange(Wy(r.state,r.props.time))})},r.setNow=function(i){i.preventDefault();var o=r.props,s=o.time,l=o.disabled,c=o.readonly,u=o.onChange;if(!(l||c)){var d=Da(new Date().toJSON(),s);r.setState(d,function(){return u(Wy(r.state,s))})}},r.clear=function(i){i.preventDefault();var o=r.props,s=o.time,l=o.disabled,c=o.readonly,u=o.onChange;l||c||r.setState(Da("",s),function(){return u(void 0)})},r.state=Da(a.value,a.time),r}var n=t.prototype;return n.componentDidUpdate=function(r,i){r.value&&r.value!==Da(this.props.value,this.props.time)&&this.setState(Da(this.props.value,this.props.time))},n.shouldComponentUpdate=function(r,i){return zh(this,r,i)},n.render=function(){var r=this,i=this.props,o=i.id,s=i.disabled,l=i.readonly,c=i.autofocus,u=i.registry,d=i.onBlur,p=i.options;return B.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(f,h){return B.createElement("li",{key:h},B.createElement(oH,le({rootId:o,select:r.onChange},f,{disabled:s,readonly:l,registry:u,onBlur:d,autofocus:c&&h===0})))}),(p.hideNowButton!=="undefined"?!p.hideNowButton:!0)&&B.createElement("li",null,B.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(p.hideClearButton!=="undefined"?!p.hideClearButton:!0)&&B.createElement("li",null,B.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))},OE(t,[{key:"dateElementProps",get:function(){var r=this.props,i=r.time,o=r.options,s=this.state,l=s.year,c=s.month,u=s.day,d=s.hour,p=s.minute,f=s.second,h=[{type:"year",range:o.yearsRange,value:l},{type:"month",range:[1,12],value:c},{type:"day",range:[1,31],value:u}];return i&&h.push({type:"hour",range:[0,23],value:d},{type:"minute",range:[0,59],value:p},{type:"second",range:[0,59],value:f}),h}}]),t}(P.Component);Uh.defaultProps={time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}};function aC(e){var t=e.registry.widgets.AltDateWidget;return B.createElement(t,le({time:!0},e))}aC.defaultProps=le({},Uh.defaultProps,{time:!0});function iC(e){if(!e.id)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var t=e.value,n=e.readonly,a=e.disabled,r=e.autofocus,i=e.onBlur,o=e.onFocus,s=e.options,l=e.schema,c=pt(e,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);s.inputType?c.type=s.inputType:c.type||(l.type==="number"?(c.type="number",c.step="any"):l.type==="integer"?(c.type="number",c.step="1"):c.type="text"),s.autocomplete&&(c.autoComplete=s.autocomplete),l.multipleOf&&(c.step=l.multipleOf),typeof l.minimum<"u"&&(c.min=l.minimum),typeof l.maximum<"u"&&(c.max=l.maximum);var u=function(p){var f=p.target.value;return e.onChange(f===""?s.emptyValue:f)};return[B.createElement("input",le({key:c.id,className:"form-control",readOnly:n,disabled:a,autoFocus:r,value:t??""},c,{list:l.examples?"examples_"+c.id:null,onChange:u,onBlur:i&&function(d){return i(c.id,d.target.value)},onFocus:o&&function(d){return o(c.id,d.target.value)}})),l.examples?B.createElement("datalist",{key:"datalist_"+c.id,id:"examples_"+c.id},[].concat(new Set(l.examples.concat(l.default?[l.default]:[]))).map(function(d){return B.createElement("option",{key:d,value:d})})):null]}iC.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};function oC(e){var t=e.schema,n=e.id,a=e.value,r=e.disabled,i=e.readonly,o=e.label,s=e.autofocus,l=e.onBlur,c=e.onFocus,u=e.onChange,d=e.DescriptionField,p=ko(t);return B.createElement("div",{className:"checkbox "+(r||i?"disabled":"")},t.description&&B.createElement(d,{description:t.description}),B.createElement("label",null,B.createElement("input",{type:"checkbox",id:n,checked:typeof a>"u"?!1:a,required:p,disabled:r||i,autoFocus:s,onChange:function(h){return u(h.target.checked)},onBlur:l&&function(f){return l(n,f.target.checked)},onFocus:c&&function(f){return c(n,f.target.checked)}}),B.createElement("span",null,o)))}oC.defaultProps={autofocus:!1};function sH(e,t,n){var a=n.indexOf(e),r=t.slice(0,a).concat(e,t.slice(a));return r.sort(function(i,o){return n.indexOf(i)>n.indexOf(o)})}function lH(e,t){return t.filter(function(n){return n!==e})}function sC(e){var t=e.id,n=e.disabled,a=e.options,r=e.value,i=e.autofocus,o=e.readonly,s=e.onChange,l=a.enumOptions,c=a.enumDisabled,u=a.inline;return B.createElement("div",{className:"checkboxes",id:t},l.map(function(d,p){var f=r.indexOf(d.value)!==-1,h=c&&c.indexOf(d.value)!=-1,v=n||h||o?"disabled":"",g=B.createElement("span",null,B.createElement("input",{type:"checkbox",id:t+"_"+p,checked:f,disabled:n||h||o,autoFocus:i&&p===0,onChange:function(E){var y=l.map(function(_){var w=_.value;return w});E.target.checked?s(sH(d.value,r,y)):s(lH(d.value,r))}}),B.createElement("span",null,d.label));return u?B.createElement("label",{key:p,className:"checkbox-inline "+v},g):B.createElement("div",{key:p,className:"checkbox "+v},B.createElement("label",null,g))}))}sC.defaultProps={autofocus:!1,options:{inline:!1}};function uH(e){var t=e.disabled,n=e.readonly,a=e.registry.widgets.BaseInput;return B.createElement(a,le({type:"color"},e,{disabled:t||n}))}function cH(e){var t=e.onChange,n=e.registry.widgets.BaseInput;return B.createElement(n,le({type:"date"},e,{onChange:function(r){return t(r||void 0)}}))}function dH(e){var t=e.value,n=e.onChange,a=e.registry.widgets.BaseInput;return B.createElement(a,le({type:"datetime-local"},e,{value:FU(t),onChange:function(i){return n(DU(i))}}))}function fH(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,le({type:"email"},e))}function pH(e,t){return e.replace(";base64",";name="+encodeURIComponent(t)+";base64")}function hH(e){var t=e.name,n=e.size,a=e.type;return new Promise(function(r,i){var o=new window.FileReader;o.onerror=i,o.onload=function(s){r({dataURL:pH(s.target.result,t),name:t,size:n,type:a})},o.readAsDataURL(e)})}function mH(e){return Promise.all([].map.call(e,hH))}function vH(e){var t=e.filesInfo;return t.length===0?null:B.createElement("ul",{className:"file-info"},t.map(function(n,a){var r=n.name,i=n.size,o=n.type;return B.createElement("li",{key:a},B.createElement("strong",null,r)," (",o,", ",i," bytes)")}))}function gH(e){return e.filter(function(t){return typeof t<"u"}).map(function(t){var n=OU(t),a=n.blob,r=n.name;return{name:r,size:a.size,type:a.type}})}var lC=function(e){Rr(t,e);function t(a){var r;r=e.call(this,a)||this,r.onChange=function(s){var l=r.props,c=l.multiple,u=l.onChange;mH(s.target.files).then(function(d){var p={values:d.map(function(f){return f.dataURL}),filesInfo:d};r.setState(p,function(){u(c?p.values:p.values[0])})})};var i=a.value,o=Array.isArray(i)?i:[i];return r.state={values:o,filesInfo:gH(o)},r}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return zh(this,r,i)},n.render=function(){var r=this,i=this.props,o=i.multiple,s=i.id,l=i.readonly,c=i.disabled,u=i.autofocus,d=i.options,p=this.state.filesInfo;return B.createElement("div",null,B.createElement("p",null,B.createElement("input",{ref:function(h){return r.inputRef=h},id:s,type:"file",disabled:l||c,onChange:this.onChange,defaultValue:"",autoFocus:u,multiple:o,accept:d.accept})),B.createElement(vH,{filesInfo:p}))},t}(P.Component);lC.defaultProps={autofocus:!1};function yH(e){var t=e.id,n=e.value;return B.createElement("input",{type:"hidden",id:t,value:typeof n>"u"?"":n})}function bH(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,le({type:"password"},e))}function uC(e){var t=e.options,n=e.value,a=e.required,r=e.disabled,i=e.readonly,o=e.autofocus,s=e.onBlur,l=e.onFocus,c=e.onChange,u=e.id,d=Math.random().toString(),p=t.enumOptions,f=t.enumDisabled,h=t.inline;return B.createElement("div",{className:"field-radio-group",id:u},p.map(function(v,g){var b=v.value===n,E=f&&f.indexOf(v.value)!=-1,y=r||E||i?"disabled":"",_=B.createElement("span",null,B.createElement("input",{type:"radio",checked:b,name:d,required:a,value:v.value,disabled:r||E||i,autoFocus:o&&g===0,onChange:function(S){return c(v.value)},onBlur:s&&function(w){return s(u,w.target.value)},onFocus:l&&function(w){return l(u,w.target.value)}}),B.createElement("span",null,v.label));return h?B.createElement("label",{key:g,className:"radio-inline "+y},_):B.createElement("div",{key:g,className:"radio "+y},B.createElement("label",null,_))}))}uC.defaultProps={autofocus:!1};function wH(e){var t=e.schema,n=e.value,a=e.registry.widgets.BaseInput;return B.createElement("div",{className:"field-range-wrapper"},B.createElement(a,le({type:"range"},e,QE(t))),B.createElement("span",{className:"range-view"},n))}var SH=new Set(["number","integer"]);function Pc(e,t){var n=e.type,a=e.items;if(t!==""){{if(n==="array"&&a&&SH.has(a.type))return t.map(Qa);if(n==="boolean")return t==="true";if(n==="number")return Qa(t)}if(e.enum){if(e.enum.every(function(r){return vi(r)==="number"}))return Qa(t);if(e.enum.every(function(r){return vi(r)==="boolean"}))return t==="true"}return t}}function Ac(e,t){return t?[].slice.call(e.target.options).filter(function(n){return n.selected}).map(function(n){return n.value}):e.target.value}function cC(e){var t=e.schema,n=e.id,a=e.options,r=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.multiple,c=e.autofocus,u=e.onChange,d=e.onBlur,p=e.onFocus,f=e.placeholder,h=a.enumOptions,v=a.enumDisabled,g=l?[]:"";return B.createElement("select",{id:n,multiple:l,className:"form-control",value:typeof r>"u"?g:r,required:i,disabled:o||s,autoFocus:c,onBlur:d&&function(b){var E=Ac(b,l);d(n,Pc(t,E))},onFocus:p&&function(b){var E=Ac(b,l);p(n,Pc(t,E))},onChange:function(E){var y=Ac(E,l);u(Pc(t,y))}},!l&&t.default===void 0&&B.createElement("option",{value:""},f),h.map(function(b,E){var y=b.value,_=b.label,w=v&&v.indexOf(y)!=-1;return B.createElement("option",{key:E,value:y,disabled:w},_)}))}cC.defaultProps={autofocus:!1};function dC(e){var t=e.id,n=e.options,a=e.placeholder,r=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.autofocus,c=e.onChange,u=e.onBlur,d=e.onFocus,p=function(h){var v=h.target.value;return c(v===""?n.emptyValue:v)};return B.createElement("textarea",{id:t,className:"form-control",value:r||"",placeholder:a,required:i,disabled:o,readOnly:s,autoFocus:l,rows:n.rows,onBlur:u&&function(f){return u(t,f.target.value)},onFocus:d&&function(f){return d(t,f.target.value)},onChange:p})}dC.defaultProps={autofocus:!1,options:{}};function _H(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,e)}function EH(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,le({type:"url"},e))}function CH(e){var t=e.registry.widgets.BaseInput;return B.createElement(t,le({type:"number"},e,QE(e.schema)))}function xH(e){var t=e.uiSchema,n=CU(t),a=n.submitText,r=n.norender,i=n.props;return B.createElement("div",null,!r&&B.createElement("button",le({type:"submit"},i,{className:"btn btn-info"}),a))}var NH={BaseInput:iC,PasswordWidget:bH,RadioWidget:uC,UpDownWidget:CH,RangeWidget:wH,SelectWidget:cC,TextWidget:_H,DateWidget:cH,DateTimeWidget:dH,AltDateWidget:Uh,AltDateTimeWidget:aC,EmailWidget:fH,URLWidget:EH,TextareaWidget:dC,HiddenWidget:yH,ColorWidget:uH,FileWidget:lC,CheckboxWidget:oC,CheckboxesWidget:sC,SubmitButton:xH};function IH(){return{fields:nH,widgets:NH,definitions:{},rootSchema:{},formContext:{}}}function TH(e){var t=e.errors;return B.createElement("div",{className:"panel panel-danger errors"},B.createElement("div",{className:"panel-heading"},B.createElement("h3",{className:"panel-title"},"Errors")),B.createElement("ul",{className:"list-group"},t.map(function(n,a){return B.createElement("li",{key:a,className:"list-group-item text-danger"},n.stack)})))}var fC=function(e){Rr(t,e);function t(a){var r;return r=e.call(this,a)||this,r.getUsedFormData=function(i,o){if(o.length===0&&typeof i!="object")return i;var s=dx(i,o);return Array.isArray(i)?Object.keys(s).map(function(l){return s[l]}):s},r.getFieldNames=function(i,o){var s=function l(c,u,d){return u===void 0&&(u=[]),d===void 0&&(d=[""]),Object.keys(c).forEach(function(p){if(typeof c[p]=="object"){var f=d.map(function(h){return h+"."+p});c[p].__rjsf_additionalProperties&&c[p].$name!==""?u.push(c[p].$name):l(c[p],u,f)}else p==="$name"&&c[p]!==""&&d.forEach(function(h){h=h.replace(/^\./,"");var v=fx(o,h);(typeof v!="object"||gb(v))&&u.push(h)})}),u};return s(i)},r.onChange=function(i,o){if(lt(i)||Array.isArray(i)){var s=r.getStateFromProps(r.props,i);i=s.formData}var l=!r.props.noValidate&&r.props.liveValidate,c={formData:i},u=i;if(r.props.omitExtraData===!0&&r.props.liveOmit===!0){var d=Oe(r.state.schema,r.state.schema,i),p=Ga(d,"",r.state.schema,i),f=r.getFieldNames(p,i);u=r.getUsedFormData(i,f),c={formData:u}}if(l){var h=r.validate(u),v=h.errors,g=h.errorSchema,b=v,E=g;r.props.extraErrors&&(g=Wr(g,r.props.extraErrors,!0),v=hn(g)),c={formData:u,errors:v,errorSchema:g,schemaValidationErrors:b,schemaValidationErrorSchema:E}}else if(!r.props.noValidate&&o){var y=r.props.extraErrors?Wr(o,r.props.extraErrors,!0):o;c={formData:u,errorSchema:y,errors:hn(y)}}r.setState(c,function(){return r.props.onChange&&r.props.onChange(r.state)})},r.onBlur=function(){if(r.props.onBlur){var i;(i=r.props).onBlur.apply(i,arguments)}},r.onFocus=function(){if(r.props.onFocus){var i;(i=r.props).onFocus.apply(i,arguments)}},r.onSubmit=function(i){if(i.preventDefault(),i.target===i.currentTarget){i.persist();var o=r.state.formData;if(r.props.omitExtraData===!0){var s=Oe(r.state.schema,r.state.schema,o),l=Ga(s,"",r.state.schema,o),c=r.getFieldNames(l,o);o=r.getUsedFormData(o,c)}if(!r.props.noValidate){var u=r.validate(o),d=u.errors,p=u.errorSchema,f=d,h=p;if(Object.keys(d).length>0){r.props.extraErrors&&(p=Wr(p,r.props.extraErrors,!0),d=hn(p)),r.setState({errors:d,errorSchema:p,schemaValidationErrors:f,schemaValidationErrorSchema:h},function(){r.props.onError?r.props.onError(d):console.error("Form validation failed",d)});return}}var v,g;r.props.extraErrors?(v=r.props.extraErrors,g=hn(v)):(v={},g=[]),r.setState({formData:o,errors:g,errorSchema:v,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){r.props.onSubmit&&r.props.onSubmit(le({},r.state,{formData:o,status:"submitted"}),i)})}},r.state=r.getStateFromProps(a,a.formData),r.props.onChange&&!Xt(r.state.formData,r.props.formData)&&r.props.onChange(r.state),r.formElement=null,r}var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(r){var i=this.getStateFromProps(r,r.formData);!Xt(i.formData,r.formData)&&!Xt(i.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)},n.getStateFromProps=function(r,i){var o=this.state||{},s="schema"in r?r.schema:this.props.schema,l="uiSchema"in r?r.uiSchema:this.props.uiSchema,c=typeof i<"u",u="liveValidate"in r?r.liveValidate:this.props.liveValidate,d=c&&!r.noValidate&&u,p=s,f=Nl(s,i,p),h=Oe(s,p,f),v=r.customFormats,g=r.additionalMetaSchemas,b=function(){return r.noValidate?{errors:[],errorSchema:{}}:r.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}}},E,y,_,w;if(d){var S=this.validate(f,s,g,v);E=S.errors,y=S.errorSchema,_=E,w=y}else{var C=b();E=C.errors,y=C.errorSchema,_=o.schemaValidationErrors,w=o.schemaValidationErrorSchema}r.extraErrors&&(y=Wr(y,r.extraErrors,!0),E=hn(y));var x=_n(h,l["ui:rootFieldId"],p,f,r.idPrefix,r.idSeparator),T={schema:s,uiSchema:l,idSchema:x,formData:f,edit:c,errors:E,errorSchema:y,additionalMetaSchemas:g};return _&&(T.schemaValidationErrors=_,T.schemaValidationErrorSchema=w),T},n.shouldComponentUpdate=function(r,i){return zh(this,r,i)},n.validate=function(r,i,o,s){i===void 0&&(i=this.props.schema),o===void 0&&(o=this.props.additionalMetaSchemas),s===void 0&&(s=this.props.customFormats);var l=this.props,c=l.validate,u=l.transformErrors,d=this.getRegistry(),p=d.rootSchema,f=Oe(i,p,r);return BE(r,f,c,u,o,s)},n.renderErrors=function(){var r=this.state,i=r.errors,o=r.errorSchema,s=r.schema,l=r.uiSchema,c=this.props,u=c.ErrorList,d=c.showErrorList,p=c.formContext;return i.length&&d!=!1?B.createElement(u,{errors:i,errorSchema:o,schema:s,uiSchema:l,formContext:p}):null},n.getRegistry=function(){var r=IH(),i=r.fields,o=r.widgets;return{fields:le({},i,this.props.fields),widgets:le({},o,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}},n.submit=function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))},n.render=function(){var r=this,i=this.props,o=i.children,s=i.id,l=i.idPrefix,c=i.idSeparator,u=i.className,d=i.tagName,p=i.name,f=i.method,h=i.target,v=i.action,g=i.autocomplete,b=i.autoComplete,E=i.enctype,y=i.acceptcharset,_=i.noHtml5Validate,w=i.disabled,S=i.readonly,C=i.formContext,x=i._internalFormWrapper,T=this.state,R=T.schema,q=T.uiSchema,k=T.formData,I=T.errorSchema,N=T.idSchema,$=this.getRegistry(),F=$.fields.SchemaField,A=x?d:void 0,V=x||d||"form",O=$.widgets.SubmitButton;g&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var U=b||g;return B.createElement(V,{className:u||"rjsf",id:s,name:p,method:f,target:h,action:v,autoComplete:U,encType:E,acceptCharset:y,noValidate:_,onSubmit:this.onSubmit,as:A,ref:function(G){r.formElement=G}},this.renderErrors(),B.createElement(F,{schema:R,uiSchema:q,errorSchema:I,idSchema:N,idPrefix:l,idSeparator:c,formContext:C,formData:k,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:$,disabled:w,readonly:S}),o||B.createElement(O,{uiSchema:q}))},t}(P.Component);fC.defaultProps={uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:TH,omitExtraData:!1};qe.object,qe.object;const lf="First line is the columns names.",uf="Include row metadata (Row Id and Row Version).",ms="Comma Separated Values (CSV)",Qy="Tab Separated Values (TSV)",RH={type:"object",properties:{"File Type":{type:"string",oneOf:[{const:ms,title:ms},{const:Qy,title:Qy}]},Contents:{type:"array",title:"Contents",items:{type:"string",enum:[lf,uf]},uniqueItems:!0}}},PH={"File Type":{"ui:widget":"radio"},Contents:{"ui:widget":"checkboxes"}},AH={description:"File is ready for download. Select the download button to download the file.",type:"object"},kH={},$H=[RH,AH],qH=[PH,kH];class da extends B.Component{constructor(n){super(n);je(this,"handleSubmit",n=>{this.state.step===0?this.handleDownloadSetup(n):this.onDownload()});je(this,"handleDownloadSetup",n=>{this.setState({isLoading:!0});const{formData:a}=n,r=a["File Type"],i=a.Contents,{queryBundleRequest:o,getLastQueryRequest:s}=this.props,l=r===ms?",":"	",c=i.includes(lf),u=i.includes(uf),d=o??s(),p=d.query.sql,f={sql:p,entityId:an(p),selectedFacets:d.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:c,includeRowIdAndRowVersion:u,csvTableDescriptor:{separator:l},additionalFilters:d.query.additionalFilters};Je.getDownloadFromTableRequest(f,this.context.accessToken).then(h=>{this.setState({isLoading:!1,step:1,data:h})}).catch(h=>{console.log("Error getDownloadFromTableRequest: ",h)})});je(this,"onDownload",()=>{const{data:n}=this.state;Je.getFileHandleByIdURL(n.resultsFileHandleId,this.context.accessToken).then(a=>{window.location.href=a,this.props.onClose()})});je(this,"handleChange",n=>{const{formData:a}=n;this.setState({formData:a})});this.state={isLoading:!1,step:0,formData:{"File Type":ms,Contents:[lf,uf]}}}render(){const n={height:50,width:50,backgroundSize:50};return m(Ci,{open:!0,onCancel:this.props.onClose,title:"Download query results",content:m(Q,{children:L(fC,{id:"modal-download-form",schema:$H[this.state.step],uiSchema:qH[this.state.step],onChange:this.handleChange,formData:this.state.formData,onSubmit:this.handleSubmit,children:[this.state.isLoading&&m("div",{className:"SRC-centerAndJustifyContent",children:L("div",{className:"SRC-center-text",children:[m("p",{children:" Creating the File "}),m("div",{style:n,className:"spinner"}),m("p",{children:" Loading... "})]})}),m(B.Fragment,{})]})}),actions:L(Q,{children:[m($t,{variant:"outlined",color:"primary",onClick:this.props.onClose,children:"Cancel"}),m($t,{form:"modal-download-form",type:"submit",variant:"contained",color:"primary",children:this.state.step===0?"Next":"Download"})]})})}}je(da,"contextType",Ni);try{da.displayName="ModalDownload",da.__docgenInfo={description:"",displayName:"ModalDownload",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(...args: any[]) => void"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!1,type:{name:"QueryBundleRequest"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}}}}}catch{}function pC(e,t){return`${e}${t}`}function FH(e,t){const n=window.location.search,a=`${e}=${t}`;return n?n.includes(`${e}=`)?window.location.search.slice(n.indexOf("?")+1).split("&").map(o=>o.split("=")[0]===e?`${a}`:o).join("&"):`${n.substr(1)}&${a}`:a}function DH(e,t){if(!window.location.search)return;const n=pC(e,t),r=window.location.search.slice(window.location.search.indexOf("?")+1).split("&").filter(i=>i.split("=")[0]===n).map(i=>i.split("=")[1])[0];return r?decodeURIComponent(r):void 0}function OH(e,t,n){const a=t!==void 0?pC(e,t):e,r=FH(a,n),i=window.location,o=`${i.protocol}//${i.hostname}${i.port?":"+i.port:""}${i.pathname}?${r}`;window.history.replaceState("object or string","Title",o)}function LH(e,t){const n=DH(e,t);let a;if(n){const r=JSON.parse(n);r.sql&&(a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Fs|Ds|Os|ma|va,entityId:an(r.sql),query:r})}return a}function hC(e){const{initQueryRequest:t,componentIndex:n=0,shouldDeepLink:a=!1,onQueryChange:r}=e,[i,o]=P.useState(t);P.useEffect(()=>{const w=LH("QueryWrapper",n);w&&o(w)},[n]);const s=P.useCallback(()=>Ur(i),[i]),l=P.useCallback(()=>Ur(t),[t]),c=P.useCallback(w=>{let S;typeof w=="function"?S=w(s()):S=w;const C=Ur(S);if(o(C),C.query){const x=JSON.stringify(C.query);if(a){const T=encodeURIComponent(x);OH("QueryWrapper",n,T)}r&&r(x)}},[n,s,r,a]),{entityId:u,versionNumber:d}=P.useMemo(()=>Gb(i.query.sql),[i.query.sql]),p=i.query.limit??Ls,f=Math.ceil(((i.query.offset??0)+Number(p))/p),h=P.useCallback(w=>{c(S=>(S.query.limit=w,S))},[c]),v=P.useCallback(w=>{c(S=>(S.query.offset=(w-1)*p,S))},[p,c]),g=P.useCallback(()=>{c(t)},[t,c]);Vo(()=>{i!=t&&g()},[t]);const b=P.useCallback(w=>{c(S=>(S.query.selectedFacets=(S.query.selectedFacets??[]).filter(C=>!La(C,w)),S))},[c]),E=P.useCallback((w,S)=>{c(C=>(C.query.selectedFacets=(C.query.selectedFacets??[]).map(x=>(Mc(x)&&La(x,w)&&(x.facetValues=x.facetValues.filter(T=>T!==S)),x)).filter(x=>Mc(x)?Array.isArray(x.facetValues)&&x.facetValues.length>0:!0),C))},[c]),y=P.useCallback(w=>{c(S=>(S.query.additionalFilters=(S.query.additionalFilters??[]).filter(C=>!La(C,w)),S))},[c]),_=P.useCallback((w,S)=>{c(C=>(C.query.additionalFilters=(C.query.additionalFilters??[]).map(x=>((qo(x)||Fo(x))&&La(x,w)&&(x.values=x.values.filter(T=>T!==S)),x)).filter(x=>qo(x)||Fo(x)?Array.isArray(x.values)&&x.values.length>0:!0),C))},[c]);return{entityId:u,versionNumber:d,getInitQueryRequest:l,getLastQueryRequest:s,setQuery:c,pageSize:p,currentPage:f,setPageSize:h,goToPage:v,resetQuery:g,removeSelectedFacet:b,removeValueFromSelectedFacet:E,removeQueryFilter:y,removeValueFromQueryFilter:_}}function vs(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:a,lockedColumn:r,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s}=e,[l,c]=P.useState(void 0),{entityId:u,versionNumber:d,getInitQueryRequest:p,getLastQueryRequest:f,setQuery:h,currentPage:v,pageSize:g,goToPage:b,setPageSize:E,resetQuery:y,removeSelectedFacet:_,removeValueFromSelectedFacet:w,removeQueryFilter:S,removeValueFromQueryFilter:C}=hC({initQueryRequest:t,shouldDeepLink:o,componentIndex:i,onQueryChange:n}),x=P.useMemo(()=>f(),[f]),{data:T,isLoading:R,error:q,isPreviousData:k}=Kb(x,{keepPreviousData:!0},c),I=T==null?void 0:T.responseBody,N=R||k,{data:$}=Ri(u,d);Yb(()=>{I&&a&&a(JSON.stringify(I))},[I,a]);const F=I?Zb(I.facets,I.selectColumns):!0,A=P.useMemo(()=>Jb(I,r),[I,r]),V=P.useMemo(()=>{const X=f();return ew(X.query,r)},[f,r]),O=P.useCallback(X=>{var Y;return((Y=I==null?void 0:I.columnModels)==null?void 0:Y.find(K=>K.name===X))??null},[I==null?void 0:I.columnModels]),U={data:A,currentPage:v,pageSize:g,setPageSize:E,isLoadingNewBundle:N,getLastQueryRequest:f,getInitQueryRequest:p,error:q,entity:$,executeQueryRequest:h,isFacetsAvailable:F,asyncJobStatus:l,goToPage:b,hasResettableFilters:V,removeSelectedFacet:_,removeValueFromSelectedFacet:w,resetQuery:y,removeQueryFilter:S,removeValueFromQueryFilter:C,lockedColumn:r,getColumnModel:O,onViewSharingSettingsClicked:s},{children:H}=e;return m(ns,{queryContext:U,children:m("div",{className:`SRC-wrapper ${N?"SRC-logo-cursor":""} ${F?"has-facets":""}`,children:H})})}try{vs.displayName="QueryWrapper",vs.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"QueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}function gs(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:a,lockedColumn:r,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s}=e,[l,c]=P.useState(void 0),{entityId:u,versionNumber:d,getInitQueryRequest:p,getLastQueryRequest:f,setQuery:h,resetQuery:v,removeQueryFilter:g,removeValueFromQueryFilter:b,removeSelectedFacet:E,removeValueFromSelectedFacet:y}=hC({initQueryRequest:t,componentIndex:i,shouldDeepLink:o,onQueryChange:n}),_=P.useMemo(()=>f(),[f]),{data:w,hasNextPage:S,fetchPreviousPage:C,fetchNextPage:x,isFetchingNextPage:T,isLoading:R,error:q,isPreviousData:k}=lx(_,{keepPreviousData:!0},c),I=R||k,{data:N}=Ri(u,d),[$,F]=P.useState(0);async function A(){if(!S)throw new Error("Called appendNextPageToResults when there is no next page");await x(),F("ALL")}async function V(){if(!S)throw new Error("Called goToNextPage when there is no next page");if($==="ALL")throw new Error("Cannot go to next page when all pages are displayed");await x(),F($+1)}const O=$!=="ALL"&&$>0;async function U(){if($==="ALL")throw new Error("Cannot go to previous page when all pages are displayed");if(!O)throw new Error("Called goToNextPage when there is no next page");await C(),F($-1)}const H=P.useMemo(()=>{var ye,ie,ve;if(!(w==null||w.pages.length===0||w.pages[0].responseBody==null))return $==="ALL"?{...w==null?void 0:w.pages[0].responseBody,queryResult:{...(ye=w==null?void 0:w.pages[0].responseBody)==null?void 0:ye.queryResult,queryResults:{...(ve=(ie=w==null?void 0:w.pages[0].responseBody)==null?void 0:ie.queryResult)==null?void 0:ve.queryResults,rows:w.pages.flatMap(Ae=>{var he;return(he=Ae.responseBody.queryResult)==null?void 0:he.queryResults.rows})??[]}}}:w==null?void 0:w.pages[$].responseBody},[$,w]);P.useEffect(()=>{H&&a&&a(JSON.stringify(H))},[H,a]);const G=H?Zb(H.facets,H.selectColumns):!0,X=P.useMemo(()=>Jb(H,r),[H,r]),Y=P.useMemo(()=>{const ye=f();return ew(ye.query,r)},[f,r]),K=P.useCallback(ye=>{var ie;return((ie=H==null?void 0:H.columnModels)==null?void 0:ie.find(ve=>ve.name===ye))??null},[H==null?void 0:H.columnModels]),J={data:X,isLoadingNewPage:T,hasNextPage:!!S,hasPreviousPage:O,isLoadingNewBundle:I,getLastQueryRequest:f,getInitQueryRequest:p,error:q,entity:N,executeQueryRequest:h,isFacetsAvailable:G,asyncJobStatus:l,appendNextPageToResults:A,goToNextPage:V,goToPreviousPage:U,hasResettableFilters:Y,resetQuery:v,removeQueryFilter:g,removeValueFromQueryFilter:b,removeSelectedFacet:E,removeValueFromSelectedFacet:y,lockedColumn:r,getColumnModel:K,onViewSharingSettingsClicked:s},{children:ne}=e;return m(ns,{queryContext:J,children:m("div",{className:`SRC-wrapper ${I||T?"SRC-logo-cursor":""} ${G?"has-facets":""}`,children:ne})})}try{gs.displayName="InfiniteQueryWrapper",gs.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"InfiniteQueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}function cf(e){const{modifiedDataAccessRequest:t,onHide:n}=e,[a,r]=P.useState(),[i,o]=P.useState(!1),{mutate:s}=px({onSuccess:()=>{n()},onError:c=>{r({key:"error",message:`Sorry, there is an error in submitting your request. ${c.reason?c.reason+".":" "}Please close this dialog and try again later.`}),o(!0)}});function l(){t&&s(t)}return L(Q,{children:[m(Ja,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:["Save Changes",m(ct,{sx:{flexGrow:1}}),m(zs,{onClick:n,children:m(Le,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),L(ei,{children:[m(Fe,{variant:"body1",children:"Would you like to save your recent changes?"}),a&&m(Br,{severity:a.key,children:a.message})]}),L(Dp,{children:[!i&&L(Q,{children:[m($t,{variant:"outlined",onClick:n,children:"Cancel"}),m($t,{variant:"contained",onClick:()=>{l()},children:"Save changes"})]}),i&&m($t,{variant:"contained",onClick:n,children:"Close"})]})]})}try{cf.displayName="CancelRequestDataAccess",cf.__docgenInfo={description:"",displayName:"CancelRequestDataAccess",props:{modifiedDataAccessRequest:{defaultValue:null,description:"",name:"modifiedDataAccessRequest",required:!0,type:{name:"Request | Renewal | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function df(e){const{onHide:t}=e;return L(Q,{children:[m(Ja,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:["Your Data Access Request Has Been Submitted",m(ct,{sx:{flexGrow:1}}),m(zs,{onClick:t,children:m(Le,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),m(ei,{children:m(Fe,{variant:"body1",children:"Your data access request been submitted and is currently being reviewed. Please allow for up to 2 weeks for your request to be reviewed and approved."})}),m(Dp,{children:m($t,{variant:"contained",onClick:t,children:"Finish"})})]})}try{df.displayName="RequestDataAccessSuccess",df.__docgenInfo={description:"",displayName:"RequestDataAccessSuccess",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function ff(e){const{accessRequirement:t,entityId:n,onHide:a}=e,{accessToken:r}=Ve(),{data:i,isLoading:o}=Fp(String(t.id)),s=i==null?void 0:i.isApproved,[l,c]=P.useState(!1);let u="";window.location.hostname==="www.synapse.org"||window.location.hostname==="staging.synapse.org"?u="Request access":u="Request access via Synapse.org";const d=()=>{window.open(`${cr.PORTAL}#!AccessRequirement:AR_ID=${t.id}&TYPE=ENTITY&ID=${n}`)},p=()=>{d(),a&&a()},f=t.actContactInfo;let h;return r&&!s&&(h=[{variant:"outlined",onClick:p,children:u},{variant:"text",onClick:a,children:"I do not accept"}]),m(Op,{"data-testid":"UnmanagedACTAccessRequirementItem",status:o?ir.LOADING:s?ir.COMPLETE:ir.LOCKED,actions:h,children:s?L(Q,{children:[L(Fe,{variant:"body1",children:["Your data access request has been approved."," ",m(Kt,{role:"button",onClick:()=>c(!l),children:l?"Hide Instructions":"View Instructions"})]}),l&&m(ct,{sx:{my:1},children:m(Nt,{markdown:f})})]}):m(Nt,{markdown:f})})}try{ff.displayName="UnmanagedACTAccessRequirementItem",ff.__docgenInfo={description:`Renders a {@link RequirementItem} for the deprecated {@link ACTAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link ManagedACTAccessRequirementItem }

For {@link SelfSignAccessRequirement } and {@link TermsOfUseAccessRequirement }, see {@link SelfSignAccessRequirementItem }`,displayName:"UnmanagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function pf(e){var g,b,E,y,_,w;const{accessRequirement:t,onHide:n,onRequestAccess:a}=e,{data:r}=rw(t.id.toString()),{data:i,isLoading:o}=Fp(String(t.id)),{mutate:s}=hx({onError:S=>{console.error("Error cancelling data access request",S),d({key:"error",message:L(Q,{children:[m("strong",{children:"Error canceling your data access request."}),m("br",{}),"Please try again later."]})})}}),[l,c]=P.useState(!0),[u,d]=P.useState(),p=((g=i==null?void 0:i.currentSubmissionStatus)==null?void 0:g.state)===Pt.APPROVED;let f=m(Q,{});r&&(f=L("div",{children:[m(Nt,{wikiId:r.wikiPageId,ownerId:r.ownerObjectId,objectType:r.ownerObjectType}),u&&m(Br,{className:"access-requirement-list-alert",severity:u.key,children:u.message}),((b=i==null?void 0:i.currentSubmissionStatus)==null?void 0:b.state)===Pt.SUBMITTED&&m(Br,{className:"access-requirement-list-alert",severity:"info",children:m("strong",{children:"You have submitted a data access request."})}),((E=i==null?void 0:i.currentSubmissionStatus)==null?void 0:E.state)===Pt.APPROVED&&m(Br,{className:"access-requirement-list-alert",severity:"success",children:m("strong",{children:"Your data access request has been approved."})}),((y=i==null?void 0:i.currentSubmissionStatus)==null?void 0:y.state)===Pt.REJECTED&&m(Br,{className:"access-requirement-list-alert",severity:"error",children:L(Q,{children:[m("strong",{children:"Your data access request has been rejected."}),m("br",{}),(i==null?void 0:i.currentSubmissionStatus.rejectedReason)||""]})}),((_=i==null?void 0:i.currentSubmissionStatus)==null?void 0:_.state)===Pt.CANCELLED&&m(Br,{className:"access-requirement-list-alert",severity:"success",children:m("strong",{children:"Your data access request has been canceled."})})]}));const h=[];i&&(i.currentSubmissionStatus==null?(h.push({variant:"outlined",onClick:a,children:"Request access"}),h.push({variant:"text",onClick:n,children:"I do not accept"})):[Pt.APPROVED,Pt.REJECTED,Pt.CANCELLED].includes(i.currentSubmissionStatus.state)?h.push({variant:"outlined",onClick:a,children:"Update Request"}):i.currentSubmissionStatus.state===Pt.SUBMITTED&&h.push({variant:"outlined",onClick:()=>{s({submissionId:i.currentSubmissionStatus.submissionId,accessRequirementId:String(t.id)})},children:"Cancel Request"}));let v=ir.LOADING;if(!o)switch((w=i==null?void 0:i.currentSubmissionStatus)==null?void 0:w.state){case Pt.APPROVED:v=ir.COMPLETE;break;case Pt.SUBMITTED:v=ir.PENDING;break;case Pt.REJECTED:case Pt.CANCELLED:default:v=ir.LOCKED}return L(Op,{"data-testid":"ManagedACTAccessRequirementItem",status:v,actions:h,children:[!p&&m(Q,{children:f}),p&&L(Q,{children:[L(Fe,{variant:"body1",children:["Your data access request has been approved."," ",m(Kt,{role:"button",onClick:()=>{c(!l)},children:l?"View Terms":"Hide Terms"})]}),!l&&m(ct,{sx:{my:1},children:f})]})]})}try{pf.displayName="ManagedACTAccessRequirementItem",pf.__docgenInfo={description:`Renders a {@link RequirementItem} for a ManagedACTAccessRequirement, which allows a user to see if they have met the
requirement, and if not, complete a data access request to apply for access.`,displayName:"ManagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"() => void"}}}}}catch{}function hf(e){const{accessRequirement:t,onHide:n}=e,{accessToken:a}=Ve(),r=!!a,i=jC(t),{data:o}=DC(),{data:s}=OC(),l=r&&s&&!i&&t.isCertifiedUserRequired&&!s.isCertified,c=r&&s&&!i&&t.isValidatedProfileRequired&&!s.isVerified,{data:u,isLoading:d}=Fp(String(t.id)),p=u==null?void 0:u.isApproved,{data:f}=rw(t.id.toString(),{enabled:!i}),[h,v]=P.useState(!1),{mutate:g,isLoading:b,error:E}=mx({onError:S=>{console.error("Error creating access approval: ",S)}}),y=()=>{const S={requirementId:t==null?void 0:t.id,submitterId:o==null?void 0:o.ownerId,accessorId:o==null?void 0:o.ownerId,state:LC.APPROVED};g(S)};let _=m(Q,{});i?_=m(Nt,{markdown:t.termsOfUse}):f&&(_=m(Nt,{wikiId:f==null?void 0:f.wikiPageId,ownerId:f==null?void 0:f.ownerObjectId,objectType:f==null?void 0:f.ownerObjectType}));let w;if(a&&!p){let S="I Accept Terms of Use",C=!1;(l||c)&&(C=!0,S=`You must ${l?"be certified":""}${l&&c?" and ":""}${c?"have a validated user profile":""} to accept`),w=[{variant:"outlined",onClick:y,children:S,disabled:b||C},{variant:"text",onClick:n,children:"I do not accept"}]}return L(Op,{"data-testid":"SelfSignAccessRequirementItem",status:d?ir.LOADING:p?ir.COMPLETE:ir.LOCKED,actions:w,children:[p?L(Q,{children:[L(Fe,{variant:"body1",children:["You have accepted the terms of use."," ",m(Kt,{role:"button",onClick:()=>v(!h),children:h?"Hide Terms":"View Terms"})]}),h&&m(ct,{sx:{my:1},children:_})]}):_,E&&m(Br,{severity:"error",children:E.reason})]})}try{hf.displayName="SelfSignAccessRequirementItem",hf.__docgenInfo={description:`Renders a {@link RequirementItem} for an self-sign Access Requirement, including {@link SelfSignAccessRequirement} or
{@link TermsOfUseAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link RequestDataAccess }`,displayName:"SelfSignAccessRequirementItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function mf(e){const{accessRequirement:t,entityId:n,onHide:a,onRequestAccess:r}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":return m(hf,{accessRequirement:t,onHide:a});case"org.sagebionetworks.repo.model.ACTAccessRequirement":return m(ff,{accessRequirement:t,onHide:a,entityId:n});case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":return m(pf,{accessRequirement:t,onHide:a,entityId:n,onRequestAccess:()=>{r(t)}});default:return console.warn("Unsupported access requirement type:",t.concreteType),m(Q,{})}}try{mf.displayName="AccessRequirementListItem",mf.__docgenInfo={description:"Renders an individual AR item for the AccessRequirementList",displayName:"AccessRequirementListItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"(accessRequirement: ManagedACTAccessRequirement) => void"}}}}}catch{}const VH=new Set(["org.sagebionetworks.repo.model.SelfSignAccessRequirement","org.sagebionetworks.repo.model.TermsOfUseAccessRequirement","org.sagebionetworks.repo.model.ManagedACTAccessRequirement","org.sagebionetworks.repo.model.ACTAccessRequirement"]),ys=vt(Fe,{label:"DialogSubsectionHeader"})(({theme:e})=>({marginTop:e.spacing(4),marginBottom:e.spacing(2),paddingBottom:e.spacing(1),fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid",borderColor:e.palette.grey[200]}));ys.defaultProps={...ys.defaultProps,variant:"h4"};const vf=e=>e.filter(MH).length>0,MH=e=>!VH.has(e.concreteType);function yi(e){var F;const{entityId:t,teamId:n,onHide:a,accessRequirementFromProps:r,renderAsModal:i,numberOfFilesAffected:o,requestObjectName:s}=e,{accessToken:l}=Ve(),c=!!l,[u,d]=P.useState(0),[p,f]=P.useState(),[h,v]=P.useState(""),[g,b]=P.useState(),y=Wa({ids:[t],type:"ENTITY_HEADER"}),{data:_}=vx(n,{enabled:!!(!r&&n)}),{data:w}=gx(t,{enabled:!!(!r&&t&&!n)}),C=r??(n?_:w),{data:x}=yx((C??[]).map(A=>String(A.id)),{enabled:!!C,staleTime:1/0}),T=A=>{const{managedACTAccessRequirement:V,step:O,researchProjectId:U,dataAccessRequest:H}=A;V&&f(V),U&&v(U),H&&b(H),d(O)},R=C==null?void 0:C.some(A=>A.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"&&A.isTwoFaRequired),q=C==null?void 0:C.some(A=>(A.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||A.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&A.isCertifiedUserRequired),k=C==null?void 0:C.some(A=>(A.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||A.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&A.isValidatedProfileRequired),I=P.useMemo(()=>{var A;return s||(o?L(Q,{children:[m(Le,{icon:"file",sx:{width:"30px"}})," ",o," ","File(s)"]}):L(Q,{children:[m(Le,{icon:"file",sx:{width:"30px"}})," ",m(Kt,{href:`${cr.PORTAL}#!Synapse:${t}`,children:(A=y[0])==null?void 0:A.name})]}))},[t,y,o,s]),N=L(Q,{children:[m(Ja,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:["Data Access Request",m(ct,{sx:{flexGrow:1}}),m(zs,{onClick:a,children:m(Le,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),L(ei,{children:[m(ys,{sx:{mt:0},children:"What is this request for?"}),m(Fe,{variant:"body1",component:"span",children:I}),m(ys,{children:"What do I need to do?"}),m(Ex,{}),q&&m(Cx,{}),k&&m(xx,{}),R&&m(Nx,{}),(F=x==null?void 0:x.map(A=>C.find(V=>A===String(V.id))))==null?void 0:F.map(A=>m(mf,{accessRequirement:A,entityId:t,onHide:a,onRequestAccess:V=>{T({managedACTAccessRequirement:V,step:c?1:4})}},A.id))]})]});let $=N;if(i){switch(u){case 1:$=m(Sx,{managedACTAccessRequirement:p,onSave:A=>{T({managedACTAccessRequirement:p,step:2,researchProjectId:A.id})},onHide:a});break;case 2:$=m(_x,{researchProjectId:h,managedACTAccessRequirement:p,entityId:t,onHide:a,onCancel:A=>{T({step:3,dataAccessRequest:A})},onSubmissionCreated:()=>{T({step:5})}});break;case 3:$=m(cf,{modifiedDataAccessRequest:g,onHide:a});break;case 4:$=L(Q,{children:[m(Ja,{children:"Please Log In"}),m(ei,{className:"AccessRequirementList login-modal ",children:m(wx,{sessionCallback:()=>{window.location.reload()}})})]});break;case 5:$=m(df,{onHide:a});break;case 0:$=N;break;default:$=N}return m(iw,{maxWidth:"md",fullWidth:!0,open:!0,onClose:a,children:$})}return m(ct,{children:$})}try{yi.displayName="AccessRequirementList",yi.__docgenInfo={description:`The AccessRequirementListV2 component renders a set of {@link AccessRequirement}s (either pre-defined, or those applied
to an entity, based on provided props).

The component shows the user the approval status of each AR and provides a workflow for accepting the terms of or
creating a submission for any of the Access Requirements.`,displayName:"AccessRequirementList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},teamId:{defaultValue:null,description:"",name:"teamId",required:!1,type:{name:"string"}},accessRequirementFromProps:{defaultValue:null,description:"",name:"accessRequirementFromProps",required:!1,type:{name:"AccessRequirement[]"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},renderAsModal:{defaultValue:null,description:"",name:"renderAsModal",required:!1,type:{name:"boolean"}},numberOfFilesAffected:{defaultValue:null,description:"",name:"numberOfFilesAffected",required:!1,type:{name:"number"}},requestObjectName:{defaultValue:null,description:"",name:"requestObjectName",required:!1,type:{name:"string"}}}}}catch{}try{vf.displayName="checkHasUnsupportedRequirement",vf.__docgenInfo={description:"",displayName:"checkHasUnsupportedRequirement",props:{}}}catch{}const BH="Requires Acceptance of Data-Specific Terms of Use",zH="Requires Acceptance of Data-Specific Terms of Use",UH="Requires Approval of Data-Specific Access Requirements",HH="Access Restricted",gf=({accessRequirementId:e,count:t})=>{const{data:n,isLoading:a}=nw(e,{useErrorBoundary:!0}),[r,i]=P.useState(!1);let o,s="",l="";if(!a&&n)switch(n.concreteType){case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":o=BH,s=Bc,l=n.name??"";break;case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":{o=zH;const c=n;c.isValidatedProfileRequired?s=$l:c.isCertifiedUserRequired?s=n1:s=Bc,l=n.name??"";break}case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":case"org.sagebionetworks.repo.model.ACTAccessRequirement":o=UH,s=$l,l=n.name??"";break;case"org.sagebionetworks.repo.model.LockAccessRequirement":o=HH,s=$l,l="Access restricted pending review by Synapse Access and Compliance Team.";break}return L(Q,{children:[m(ow,{isLoading:a,title:o,description:l,iconType:s,count:t,actionNode:m(ha,{variant:"contained",onClick:()=>i(!0),children:"Start"})}),r&&n&&m(yi,{entityId:n.subjectIds[0].id,accessRequirementFromProps:[n],renderAsModal:!0,numberOfFilesAffected:t,onHide:()=>i(!1)})]})};try{gf.displayName="MeetAccessRequirementCard",gf.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}const WH="Requires Two-Factor Authentication";function yf(e){const{accessRequirementId:t,count:n}=e,{data:a,isLoading:r}=nw(t,{useErrorBoundary:!0}),[i,o]=P.useState(!1);return L(Q,{children:[m(ow,{isLoading:r,title:WH,iconType:Bc,description:(a==null?void 0:a.name)??"",count:n,actionNode:m(ha,{variant:"contained",onClick:()=>o(!0),children:"Start"})}),i&&a&&m(yi,{entityId:a.subjectIds[0].id,accessRequirementFromProps:[a],renderAsModal:!0,numberOfFilesAffected:n,onHide:()=>o(!1)})]})}try{yf.displayName="EnableTwoFaRequirementCard",yf.__docgenInfo={description:"",displayName:"EnableTwoFaRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}function bf(e){const{action:t,count:n,onViewSharingSettingsClicked:a}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.download.MeetAccessRequirement":return m(gf,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);case"org.sagebionetworks.repo.model.download.RequestDownload":return m(rx,{entityId:`syn${t.benefactorId}`,count:n,onViewSharingSettingsClicked:a},t.benefactorId);case"org.sagebionetworks.repo.model.download.EnableTwoFa":return m(yf,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);default:return m(Q,{})}}try{bf.displayName="ActionRequiredListItem",bf.__docgenInfo={description:"",displayName:"ActionRequiredListItem",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"Action"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const wf=e=>{const{entityId:t,onViewSharingSettingsClicked:n}=e,{data:a}=mq(t),r=a==null?void 0:a.actions;return m(Q,{children:r&&r.length>0&&m("div",{className:"EntityActionsRequired",children:r.map((i,o)=>i?m(bf,{action:i,onViewSharingSettingsClicked:n},o):!1)})})};try{wf.displayName="EntityActionsRequired",wf.__docgenInfo={description:"",displayName:"EntityActionsRequired",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const Sf=()=>{const{error:e,getLastQueryRequest:t,onViewSharingSettingsClicked:n}=yt(),{entityId:a}=t(),{accessToken:r}=Ve();return(e==null?void 0:e.status)==403&&r?m(wf,{entityId:a,onViewSharingSettingsClicked:n}):m(bp,{error:e})};try{Sf.displayName="QueryWrapperErrorBanner",Sf.__docgenInfo={description:"Error banner that automatically pulls the error from QueryContext.  If 403, shows entity actions required",displayName:"QueryWrapperErrorBanner",props:{}}}catch{}class bs extends B.Component{constructor(n){super(n);je(this,"searchFormRef");je(this,"radioFormRef");je(this,"handleClickOutsideForm",n=>{var a,r;!((a=this.searchFormRef.current)!=null&&a.contains(n==null?void 0:n.target))&&!((r=this.radioFormRef.current)!=null&&r.contains(n==null?void 0:n.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});je(this,"search",n=>{var p,f,h,v,g,b;n.preventDefault();const{searchText:a}=this.state;let{columnName:r}=this.state;const{searchable:i,lockedColumn:o}=this.props;if(r==="")if(i)r=i.filter(E=>E!==(o==null?void 0:o.columnName))[0];else{const E=(h=(f=(p=this.props.queryContext)==null?void 0:p.data)==null?void 0:f.columnModels)==null?void 0:h.filter(y=>y.name!==(o==null?void 0:o.columnName)).filter(y=>this.isSupportedColumn(y));r=(E==null?void 0:E[0].name)??""}this.setState({show:!1});const{executeQueryRequest:s,getLastQueryRequest:l}=this.props.queryContext,c=l(),{additionalFilters:u=[]}=c.query,d=u.findIndex(E=>!!(qo(E)||Fo(E)&&E.columnName===r));if(d===-1){const E=(b=(g=(v=this.props.queryContext)==null?void 0:v.data)==null?void 0:g.columnModels)==null?void 0:b.filter(y=>y.name===r)[0];if(E!=null&&E.columnType.endsWith("_LIST")){const y={columnName:r,function:VC.HAS_LIKE,values:[`%${a}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};u.push(y)}else{const y={columnName:r,operator:MC.LIKE,values:[`%${a}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};u.push(y)}}else u[d].values.push(`%${a}%`);c.query.additionalFilters=u,s(c)});je(this,"handleChange",n=>{this.setState({searchText:n.currentTarget.value})});je(this,"isSupportedColumn",n=>{switch(n==null?void 0:n.columnType){case pe.FILEHANDLEID:case pe.ENTITYID:case pe.DATE:case pe.DATE_LIST:case pe.USERID:return!1;default:return!0}});je(this,"isSupportedColumnAndInProps",n=>{if(this.isSupportedColumn(n)){const{searchable:a}=this.props;return a==null?void 0:a.some(r=>r===(n==null?void 0:n.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=B.createRef(),this.radioFormRef=B.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(n){var a,r,i,o,s;!((a=n.queryVisualizationContext)!=null&&a.topLevelControlsState.showSearchBar)&&((r=this.props.queryVisualizationContext)!=null&&r.topLevelControlsState.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(s=(o=(i=this.searchFormRef)==null?void 0:i.current)==null?void 0:o.querySelector("input"))==null||s.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){var p;const{searchable:n,lockedColumn:a,queryContext:{data:r},queryVisualizationContext:{topLevelControlsState:i,getColumnDisplayName:o}}=this.props,{searchText:s,show:l,columnName:c}=this.state;let u=[];n?u=n.map(f=>{var h;return(h=r==null?void 0:r.columnModels)==null?void 0:h.find(v=>v.name===f)}).filter(this.isSupportedColumnAndInProps).map(f=>f.name):r!=null&&r.columnModels&&(u=(p=r.columnModels)==null?void 0:p.filter(this.isSupportedColumn).map(f=>f.name)),u.length&&(a!=null&&a.columnName)&&(u=u.filter(f=>f!==(a==null?void 0:a.columnName)));const d=i==null?void 0:i.showFacetFilter;return L("div",{className:`QueryWrapperSearchInput ${d?pr:tr}`,children:[m(Ii,{in:i==null?void 0:i.showSearchBar,children:L("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[m("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:m(Le,{icon:"search"})}),m("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:s,type:"text"}),this.state.searchText.length>0&&m("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:m(Le,{icon:"close"})})]})}),m("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:m(nx,{in:l,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:L("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[m("p",{className:"deemphasized",children:m("i",{children:" Search In Field: "})}),u.map((f,h)=>{const v=o(f);return m("div",{className:"radio",children:m("label",{children:L("span",{children:[m("input",{id:f,type:"radio",value:f,checked:c===""&&h===0||c===f,onClick:()=>{var b,E,y;(y=(E=(b=this.searchFormRef)==null?void 0:b.current)==null?void 0:E.querySelector("input"))==null||y.focus(),this.setState({columnName:f})}}),m("span",{children:v})]})})},`search-field-${f}-${h}`)})]})})})]})}}try{bs.displayName="Search",bs.__docgenInfo={description:"",displayName:"Search",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},fullTextSearchHelpURL:{defaultValue:null,description:"",name:"fullTextSearchHelpURL",required:!1,type:{name:"string"}}}}}catch{}const jH="The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.",QH="https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries",ws=({helpMessage:e=jH,helpUrl:t=QH})=>{const{executeQueryRequest:n,getLastQueryRequest:a}=yt(),{topLevelControlsState:{showSqlEditor:r,showFacetFilter:i}}=mt(),[o,s]=P.useState(""),l=P.useRef(null);P.useEffect(()=>{var d;if(r){const p=a().query.sql;s(p),(d=l.current)==null||d.focus()}},[r,a]);const c=d=>{d.preventDefault();const p=a();p.query.sql=o,p.query.offset=0,p.query.additionalFilters=[],p.query.selectedFacets=[],n(p)},u=d=>{var p;(p=l.current)==null||p.setCustomValidity(""),s(d.currentTarget.value)};return m("div",{className:`QueryWrapperSqlEditorInput ${i?pr:tr}`,children:m(Ii,{in:r,timeout:{enter:300,exit:300},children:L("div",{className:"QueryWrapperSqlEditorInput__helppopoverwrapper",children:[L("form",{className:"QueryWrapperSqlEditorInput__searchbar",onSubmit:c,children:[m(y1,{className:"QueryWrapperSqlEditorInput__searchbar__searchicon"}),m("input",{ref:l,onChange:u,placeholder:"Enter Query",value:o,type:"text"})]}),m("div",{className:"QueryWrapperSqlEditorInput__helppopover",children:m(An,{markdownText:e,helpUrl:t,placement:"right"})})]})})})};try{ws.displayName="SqlEditor",ws.__docgenInfo={description:"",displayName:"SqlEditor",props:{helpMessage:{defaultValue:{value:"The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:{value:"https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries"},description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}const GH="Sign in",YH=L(Q,{children:[m(Fe,{variant:"smallText1",marginBottom:"10px",children:"Anyone can browse public content on the Synapse website, but in order to download and create content you will need to register for an account using an email address."}),L(Fe,{variant:"smallText1",children:["To find out more see ",m(Kt,{href:"https://help.synapse.org/docs/Managing-your-account.2055405596.html",target:"_blank",rel:"noopener noreferrer",children:"User Accounts"}),m("span",{children:" and "}),m(Kt,{href:"https://help.synapse.org/docs/Synapse-Governance.2004255211.html",rel:"noopener noreferrer",target:"_blank",children:"Governance Overview"}),"."]})]}),_f=e=>m(xi,{open:!0,title:"Sign In Required",content:YH,onCancel:()=>e.onHide(),onConfirm:()=>e.onHide(),confirmButtonText:GH,confirmButtonClassName:Cp});try{_f.displayName="DownloadLoginModal",_f.__docgenInfo={description:"",displayName:"DownloadLoginModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const Ef=({show:e,title:t,onClose:n,pythonNotes:a,pythonCode:r,rNotes:i,rCode:o,cliNotes:s,cliCode:l,helpMarkdown:c,helpUrl:u})=>{let d;l?d="Command Line":r?d="Python":d="R";const[p,f]=P.useState(d),h=L(Fe,{variant:"body1",children:["Installation instructions are available at our"," ",m(Kt,{href:"https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html",target:"_blank",rel:"noopener noreferrer",children:"Synapse API Documentation Site"}),"."]});return m(xi,{open:e,title:t,onCancel:n,onConfirm:n,maxWidth:"md",titleHelpPopoverProps:c?{markdownText:c,helpUrl:u}:void 0,content:L(Q,{children:[m(ct,{sx:{borderBottom:1,borderColor:"divider",marginBottom:4},children:L(iI,{value:p,onChange:(b,E)=>{b.stopPropagation(),f(E)},textColor:"secondary",indicatorColor:"secondary",children:[l&&m(Dl,{value:"Command Line",label:"Command Line"}),o&&m(Dl,{value:"R",label:"R"}),r&&m(Dl,{value:"Python",label:"Python"})]})}),L(ct,{sx:{"& > p":{marginBottom:3}},children:[p==="Command Line"&&L(Q,{children:[m(Fe,{variant:"body1",children:s}),h,L("pre",{children:[" ",l," "]})]}),p==="R"&&L(Q,{children:[m(Fe,{variant:"body1",children:i}),h,m("pre",{children:o})]}),p==="Python"&&L(Q,{children:[m(Fe,{variant:"body1",children:a}),h,m("pre",{children:r})]})]})]})})};try{Ef.displayName="ProgrammaticInstructionsModal",Ef.__docgenInfo={description:"Modal used to show programmatic instructions",displayName:"ProgrammaticInstructionsModal",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},pythonNotes:{defaultValue:null,description:"",name:"pythonNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},pythonCode:{defaultValue:null,description:"",name:"pythonCode",required:!1,type:{name:"string"}},rNotes:{defaultValue:null,description:"",name:"rNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rCode:{defaultValue:null,description:"",name:"rCode",required:!1,type:{name:"string"}},cliNotes:{defaultValue:null,description:"",name:"cliNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},cliCode:{defaultValue:null,description:"",name:"cliCode",required:!1,type:{name:"string"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}function Cf({queryBundleRequest:e,onHide:t}){var d;const[n,a]=P.useState("..."),{data:r,isLoading:i,isPreviousData:o}=Kb({...e,partMask:a1},{keepPreviousData:!0,useErrorBoundary:!0}),s=(d=r==null?void 0:r.responseBody)==null?void 0:d.combinedSql,l=i||o;P.useEffect(()=>{if(s&&!l){const p=s.toUpperCase().indexOf("FROM SYN"),f=`SELECT * ${s.substring(p)}`;a(f)}},[s,l]);const c=P.useMemo(()=>n.replace(/(["`])/g,"\\$1"),[n]),u=P.useMemo(()=>n.replace(/"/g,'\\"'),[n]);return m(Ef,{show:!0,onClose:t,title:"Download Programmatically",cliNotes:m(Q,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${c}"`,rNotes:L(Q,{children:["This R code will download file annotations only. Use"," ",L(Kt,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`query <- synTableQuery("${u}")
read.table(query$filepath, sep = ",")`,pythonNotes:L(Q,{children:["This Python code will download file annotations only. Use"," ",m(Kt,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`query = syn.tableQuery("${u}")
query.asDataFrame()`})}try{Cf.displayName="ProgrammaticTableDownload",Cf.__docgenInfo={description:"",displayName:"ProgrammaticTableDownload",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const XH="Add To Download Cart",xf=e=>{const{accessToken:t}=Ve(),{entity:n,data:a,getLastQueryRequest:r}=yt(),i=r(),[o,s]=B.useState(!1),[l,c]=B.useState(!1),[u,d]=B.useState(!1),{onDownloadFiles:p,darkTheme:f=!0}=e,h=n&&(jn(n)&&f1(n)||aa(n)),v=n&&aa(n)&&n.isLatestVersion;return L(B.Fragment,{children:[L(ft,{as:"span",children:[m(Nn,{tooltipText:"Download Options",size:"lg",darkTheme:f,icon:"download"}),L(ft.Menu,{className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:[m(ft.Item,{onClick:()=>{c(!0)},children:"Export Table"}),h&&m(Ct,{title:v?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:m(ft.Item,{role:"button",className:v?"ignoreLink":void 0,disabled:v,style:v?{pointerEvents:"auto"}:{},onClick:()=>t?p():s(!0),children:XH})}),m(Ct,{title:v?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:m(ft.Item,{className:v?"ignoreLink":void 0,disabled:v,style:v?{pointerEvents:"auto"}:{},onClick:()=>d(!0),children:"Programmatic Options"})})]})]}),o&&m(_f,{showModal:o,onHide:()=>s(!1)}),l&&m(da,{onClose:()=>c(!1),queryBundleRequest:i}),u&&a&&m(Cf,{onHide:()=>d(!1),queryBundleRequest:i})]})};try{xf.displayName="DownloadOptions",xf.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const KH="addAndRemoveColumns",Nf=e=>{const{headers:t,isColumnSelected:n,toggleColumnSelection:a,darkTheme:r}=e,{getColumnDisplayName:i}=mt(),[o,s]=P.useState(!1),l=(c,u,d)=>{d.source==="rootClose"?s(!1):s(!0)};return L(ft,{as:"span",onToggle:(c,u,d)=>l(c,u,d),show:o,drop:"down",children:[m(Nn,{tooltipText:"Show/Hide Columns",icon:r?"columnsdark":"columns",darkTheme:r}),m(ft.Menu,{id:`${KH}-dropdown`,className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:t==null?void 0:t.map(c=>{const{name:u}=c,d=n.includes(u),p={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},f=d?"SRC-primary-text-color":"";return L(ft.Item,{onClick:()=>a(u),children:[m("span",{className:f,style:p,children:m(Le,{icon:"check",sx:{width:"14px"}})}),i(u)]},u)})})]})};try{Nf.displayName="ColumnSelection",Nf.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(() => void)"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const ZH="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",JH="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.",If=({entity:e})=>{var r;const t=e&&aa(e),n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:va},{data:a}=Xb(n,{enabled:t});if(t&&a&&e){const i=a.queryCount,o=((r=e.items)==null?void 0:r.length)??0;if(i===o)return m(Q,{});const s=o-i;let l="";return e.isLatestVersion?l=ZH:l=JH,L(Fe,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[m(oI,{className:"SRC-color-warning",style:{fontSize:"16px"}}),s.toLocaleString()+" Unavailable",m(An,{className:"SRC-margin-left-5",markdownText:l,placement:"right"})]})}else return m(Q,{})};try{If.displayName="MissingQueryResultsWarning",If.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function e8(e,t){const{accessToken:n}=Ve(),a=",",r=!0,i=!1,o=e.query.sql;return async()=>{try{const l=`SELECT CONCAT('drs://repo-prod.prod.sagebase.org/syn', id, '.', currentVersion) AS drs_uri, name as file_name, ${t==null?void 0:t.map(f=>f.name).join(",")} FROM ${o.slice(o.toLowerCase().indexOf("from")+4+1)}`,c={sql:l,entityId:an(l),selectedFacets:e.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:r,includeRowIdAndRowVersion:i,csvTableDescriptor:{separator:a},additionalFilters:e.query.additionalFilters},u=await Je.getDownloadFromTableRequest(c,n),d=await Je.getFileHandleByIdURL(u.resultsFileHandleId,n),p=`https://cavatica.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(d)}`;window.open(p,"_blank")}catch(s){Zr(s.reason,"danger")}}}const Tf=e=>L(Ax,{...e,height:20,viewBox:"0 0 828 828",children:[m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M431.861 124.107C429.221 125.451 426.3 126.325 423.211 126.618L415.557 269.363C425.193 272.363 432.244 281.226 432.538 291.777L546.545 306.978C547.637 304.478 549.14 302.198 550.968 300.223L431.861 124.107ZM440.166 117.167L559.852 294.141C562.599 293.058 565.591 292.463 568.722 292.463C570.453 292.463 572.141 292.645 573.769 292.99L610.725 206.16C604.806 201.75 600.973 194.698 600.973 186.75C600.973 185.26 601.107 183.801 601.365 182.386L441.299 115.545C440.943 116.102 440.565 116.643 440.166 117.167ZM592.91 316.651C592.91 308.875 589.241 301.955 583.538 297.53L620.577 210.504C622.062 210.789 623.594 210.938 625.161 210.938C626.63 210.938 628.069 210.807 629.466 210.556L731.473 433.838C730.391 434.8 729.396 435.857 728.5 436.997L590.583 327.017C592.076 323.875 592.91 320.361 592.91 316.651ZM583.917 335.473C581.689 337.273 579.135 338.687 576.358 339.61L583.089 517.099C590.244 517.108 596.671 520.225 601.094 525.171L724.074 457.849C723.597 455.954 723.344 453.97 723.344 451.927C723.344 450.256 723.513 448.625 723.836 447.049L583.917 335.473ZM728.974 467.442L606.306 534.593C606.917 536.719 607.244 538.965 607.244 541.287C607.244 548.415 604.161 554.822 599.256 559.249L641.245 621.527C643.538 620.712 645.991 620.232 648.544 620.149L730.593 469.194C730.025 468.637 729.485 468.052 728.974 467.442ZM583.056 565.476C585.404 565.476 587.675 565.141 589.822 564.517L632.158 627.31C631.966 627.503 631.778 627.699 631.594 627.899L410.195 538.521L559.218 545.414C561.176 556.807 571.104 565.476 583.056 565.476ZM398.804 545.534C396.287 548.348 393.122 550.569 389.543 551.963L409.137 701.286C417.873 701.562 425.441 706.471 429.464 713.637L625.468 648.181C625.267 646.925 625.162 645.637 625.162 644.324C625.162 641.892 625.521 639.543 626.189 637.329L398.804 545.534ZM562.043 339.906C563.203 340.239 564.398 340.487 565.622 340.643L572.407 519.563C566.319 522.552 561.672 528.026 559.786 534.662L404.882 527.497C404.474 522.293 402.419 517.552 399.238 513.794L562.043 339.906ZM410.775 316.532C419.563 315.66 426.967 310.086 430.436 302.36L544.551 317.575C544.802 324.26 547.766 330.252 552.374 334.479L390.572 507.295C390.475 507.252 390.377 507.209 390.279 507.167C390.238 507.15 390.198 507.133 390.158 507.116L390.076 507.082C390.033 507.064 389.99 507.046 389.947 507.028L389.865 506.995L389.777 506.959L410.775 316.532ZM379.129 505.281L400.089 315.201C392.761 312.535 387.086 306.428 385.018 298.835L257.588 294.164C256.151 297.414 254.02 300.287 251.382 302.596L371.2 507.193C373.659 506.132 376.329 505.468 379.129 505.281ZM259.627 283.465L384.573 288.044C386.438 277.936 394.588 270.031 404.819 268.531L412.502 125.228C410.883 124.629 409.345 123.86 407.91 122.945L256.526 272.5C258.369 275.76 259.478 279.489 259.627 283.465ZM362.471 513.594L241.899 307.711C240.201 308.179 238.428 308.466 236.602 308.551L212.287 436.373C220.668 440.173 226.498 448.613 226.498 458.415C226.498 459.246 226.456 460.068 226.374 460.879L359.809 517.332C360.578 516.001 361.471 514.75 362.471 513.594ZM398.548 703.346L378.889 553.531C372.829 553.065 367.395 550.367 363.407 546.257L210.476 626.279C210.993 628.246 211.268 630.31 211.268 632.439C211.268 633.973 211.125 635.474 210.852 636.929L387.408 713.365C389.959 708.957 393.861 705.428 398.548 703.346ZM205.482 616.74L357.805 537.036C357.01 534.64 356.58 532.077 356.58 529.415C356.58 528.832 356.601 528.255 356.641 527.683L222.907 471.103C219.186 477.13 212.894 481.402 205.56 482.387L197.048 610.394C200.309 611.871 203.185 614.051 205.482 616.74ZM178.121 458.415C178.121 469.164 185.133 478.276 194.832 481.425L186.398 608.26C184.797 608.304 183.234 608.504 181.725 608.845L94.2764 412.358C95.9686 411.18 97.5031 409.79 98.8419 408.229L179.06 451.717C178.449 453.844 178.121 456.091 178.121 458.415ZM184.274 442.296C188.584 437.476 194.798 434.395 201.734 434.233L226.002 306.661C217.341 302.979 211.268 294.394 211.268 284.389C211.268 275.81 215.734 268.274 222.469 263.98L194.346 201.663C193.431 201.768 192.501 201.822 191.558 201.822C189.935 201.822 188.349 201.662 186.816 201.357L94.3034 372.649C100.563 377.021 104.658 384.279 104.658 392.494C104.658 394.639 104.379 396.719 103.855 398.699L184.274 442.296ZM235.456 260.201C234.505 260.201 233.567 260.256 232.644 260.363L204.526 198.055C211.271 193.763 215.746 186.221 215.746 177.633C215.746 177.057 215.726 176.486 215.687 175.92L399.494 113.808C399.759 114.312 400.042 114.805 400.341 115.286L249.271 264.532C245.355 261.802 240.592 260.201 235.456 260.201ZM172.016 613.512C166.455 617.944 162.891 624.775 162.891 632.439C162.891 645.798 173.72 656.628 187.079 656.628C195.062 656.628 202.141 652.761 206.547 646.798L384.232 723.723C384.191 724.297 384.17 724.877 384.17 725.462C384.17 738.821 395 749.651 408.359 749.651C421.718 749.651 432.547 738.821 432.547 725.462C432.547 724.963 432.532 724.466 432.502 723.974L629.521 658.179C633.894 664.427 641.145 668.513 649.351 668.513C662.71 668.513 673.539 657.683 673.539 644.324C673.539 634.62 667.825 626.25 659.577 622.397L739.776 474.845C742.211 475.669 744.82 476.115 747.533 476.115C760.891 476.115 771.721 465.286 771.721 451.927C771.721 438.568 760.891 427.738 747.533 427.738C745.247 427.738 743.036 428.055 740.94 428.648L639.371 206.326C645.418 201.929 649.35 194.799 649.35 186.75C649.35 173.391 638.52 162.561 625.161 162.561C617.133 162.561 610.018 166.472 605.618 172.493L444.924 105.391C445.034 104.455 445.09 103.503 445.09 102.538C445.09 89.179 434.26 78.3494 420.901 78.3494C407.543 78.3494 396.713 89.179 396.713 102.538C396.713 102.819 396.718 103.099 396.727 103.378L212.553 165.614C208.382 158.343 200.542 153.445 191.558 153.445C178.199 153.445 167.369 164.274 167.369 177.633C167.369 185.513 171.137 192.513 176.97 196.93L84.2531 368.6C83.0204 368.406 81.7569 368.306 80.4698 368.306C67.1108 368.306 56.2812 379.135 56.2812 392.494C56.2812 405.853 67.1108 416.683 80.4698 416.683C81.7672 416.683 83.0407 416.581 84.2827 416.384L172.016 613.512Z",fill:"url(#paint0_linear_271_30503)"}),m("defs",{children:L("linearGradient",{id:"paint0_linear_271_30503",x1:"163.941",y1:"159.14",x2:"682.43",y2:"676.053",gradientUnits:"userSpaceOnUse",children:[m("stop",{stopColor:"#9E5AA4"}),m("stop",{offset:"0.526649",stopColor:"#7387C2"}),m("stop",{offset:"1",stopColor:"#11AADE"})]})})]});try{Tf.displayName="Cavatica",Tf.__docgenInfo={description:"",displayName:"Cavatica",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).
You can use the \`htmlColor\` prop to apply a color attribute to the SVG element.`,name:"color",required:!1,type:{name:"enum",value:[{value:'"action"'},{value:'"disabled"'},{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"medium"'},{value:'"large"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:`The shape-rendering attribute. The behavior of the different options is described on the
[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).
If you are having issues with blurry icons you should investigate this prop.`,name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:`Provides a human-readable title for the element that contains it.
https://www.w3.org/TR/SVG-access/#Equivalent`,name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:`Allows you to redefine what the coordinates without units mean inside an SVG element.
For example, if the SVG element is 500 (width) by 200 (height),
and you pass viewBox="0 0 50 20",
this means that the coordinates inside the SVG will go from the top left corner (0,0)
to bottom right (50,20) and each unit will be worth 10px.`,name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}}}catch{}const t8=[{icon:"search",key:"showSearchBar",tooltipText:"Show / Hide Search Bar"},{icon:"chart",key:"showFacetVisualization",tooltipText:"Show / Hide Visualizations"},{icon:"download",key:"showDownloadConfirmation",tooltipText:"Show options for download"},{icon:i1,key:"showSqlEditor",tooltipText:"Show / Hide the Advanced Query Editor"}],Ss=e=>{var q;const{name:t,showColumnSelection:n=!1,hideDownload:a=!1,hideVisualizationsControl:r=!1,hideFacetFilterControl:i=!1,hideQueryCount:o=!1,hideSqlEditorControl:s=!0,customControls:l,showExportToCavatica:c=!1}=e,{data:u,entity:d,executeQueryRequest:p,getLastQueryRequest:f,getInitQueryRequest:h,lockedColumn:v}=yt(),g=e8(f(),(q=u==null?void 0:u.queryResult)==null?void 0:q.queryResults.headers),{topLevelControlsState:b,setTopLevelControlsState:E,columnsToShowInTable:y,selectedRowIndices:_,setColumnsToShowInTable:w}=mt(),S=k=>{const I={[k]:!b[k]};k==="showSearchBar"&&(I.showDownloadConfirmation=!1),k==="showDownloadConfirmation"&&(I.showSearchBar=!1),E(N=>({...N,...I}))},C=()=>{p(f())},x=P.useMemo(()=>{const k=h();return{sql:k.query.sql,selectedFacets:(k.query.selectedFacets??[]).filter(I=>I.columnName===(v==null?void 0:v.columnName)),additionalFilters:(k.query.additionalFilters??[]).filter(I=>"columnName"in I?I.columnName===(v==null?void 0:v.columnName):!0)}},[h,v==null?void 0:v.columnName]),T=k=>{let I=Ur(y);I.includes(k)?I=I.filter(N=>N!==k):I.push(k),w(I)},R=b==null?void 0:b.showFacetFilter;return m("div",{className:`TopLevelControls ${R?pr:tr}`,"data-testid":"TopLevelControls",children:L("div",{children:[L("div",{className:"TopLevelControls__querycount",children:[t&&L(Q,{children:[L(Fe,{variant:"sectionTitle",role:"heading",children:[t," ",!o&&m(Px,{query:x,parens:!0})]}),!o&&d&&m(If,{entity:d})]}),!i&&L("a",{onClick:()=>S("showFacetFilter"),className:"TopLevelControls__querycount__facetFilterLink SRC-no-underline-on-hover",children:[m(Hs,{type:b.showFacetFilter?"close":"filter"}),L("span",{className:"TopLevelControls__querycount__facetFilterLink__text",children:[b.showFacetFilter?"Hide":"Show"," ","filters"]})]})]}),L("div",{className:"TopLevelControls__actions",children:[l&&l.map(k=>L("button",{className:`btn SRC-roundBorder SRC-primary-background-color SRC-whiteText ${k.classNames??""}`,style:{marginRight:"5px"},type:"button",onClick:()=>k.onClick({data:u,selectedRowIndices:_,refresh:C}),children:[k.icon," ",k.buttonText]},k.buttonText)),c&&L($t,{variant:"text",onClick:()=>{g()},children:[m(Tf,{sx:{mr:1}})," Send to Cavatica"]}),t8.map(k=>{const{key:I,icon:N,tooltipText:$}=k;return I==="showDownloadConfirmation"&&a||I==="showFacetVisualization"&&r||I==="showSqlEditor"&&s?m(B.Fragment,{},I):I==="showDownloadConfirmation"?m(xf,{darkTheme:!0,onDownloadFiles:()=>S(I)},I):m(Nn,{tooltipText:$,callbackFn:()=>S(I),darkTheme:!0,icon:N},I)}),n&&m(Nf,{headers:u==null?void 0:u.selectColumns,isColumnSelected:y,toggleColumnSelection:T,darkTheme:!0})]})]})})};try{Ss.displayName="TopLevelControls",Ss.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}}}}}catch{}const bi=e=>{const{checked:t=!1,hideLabel:n=!1,isSelectAll:a=!1,disabled:r=!1}=e,[i,o]=P.useState(t),[s]=P.useState(kx("src-checkbox-"));P.useEffect(()=>{o(t)},[t]);const l=u=>{e.onChange(u.target.checked),a&&u.target.checked===!1?o(!0):o(u.target.checked)};let c="checkbox";return e.className&&(c+=` ${e.className}`),L("div",{className:c,onClick:e.onClick,children:[m("input",{"aria-label":e.label,type:"checkbox",checked:i,id:s,onChange:l,disabled:r,"data-testid":e["data-testid"]}),m("label",{htmlFor:s,children:n?m(Q,{}):e.label}),e.children??m(Q,{})]})};try{bi.displayName="Checkbox",bi.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValue: boolean) => void"}},isSelectAll:{defaultValue:null,description:"",name:"isSelectAll",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: SyntheticEvent<HTMLDivElement, Event>) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const Rf=e=>L("svg",{...e,className:`Icon-Plus ${e.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&m("title",{children:e.title}),m("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{Rf.displayName="IconPlus",Rf.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const Pf=e=>L("svg",{...e,className:`Icon-Minus ${e.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&m("title",{children:e.title}),m("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{Pf.displayName="IconMinus",Pf.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const _s=({label:e,isCollapsed:t,onClick:n})=>{const{getColumnDisplayName:a}=mt();return L("div",{className:"FacetFilterHeader",children:[m("label",{className:"FacetFilterHeader__label",children:a(e)}),m("button",{className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>n(!t),children:t?m(Rf,{className:"icon-plus",title:"Expand Menu"}):m(Pf,{className:"icon-minus",title:"Collapse Menu"})})]})};try{_s.displayName="FacetFilterHeader",_s.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function r8(e){return e.replace(/\s/g,"").toLowerCase()}function Gy(e,t=[],n=[],a=[]){const{value:r}=e;let i=r;r===Ka&&(i=qs);const o=t.find(c=>c.ownerId===r);o&&(i=o?o.userName:`unknown (${r})`);const s=n.find(c=>c.id===r);s&&(i=s?s.name:`unknown (${r})`);const l=a.find(c=>c.id===r);return l!=null&&l.name&&(i=l.name),`${i}`}function n8(e,t,n){const a=[...e.sort((r,i)=>i.count-r.count)];return t||a.length<=n||a.slice(n).find(r=>r.isSelected)?a:a.splice(0,n)}const fa=({facetValues:e,columnModel:t,onClear:n,onChange:a,containerAs:r="Collapsible",dropdownType:i="Icon",collapsed:o=!1})=>{const[s,l]=P.useState(!1),[c,u]=P.useState(o),[d,p]=P.useState(!1),[f,h]=P.useState(!1),[v,g]=P.useState(""),[b,E]=P.useState(e);Vo(()=>{E(e)},[e]);const y=5,_=1500,w=B.createRef(),S={};let C;const x=e.filter(O=>O.isSelected).length===0,T=(t==null?void 0:t.columnType)===pe.USERID||(t==null?void 0:t.columnType)===pe.USERID_LIST?e.map(O=>O.value):[],R=Wa({ids:T,type:"USER_PROFILE"}),q=(t==null?void 0:t.columnType)===pe.ENTITYID||(t==null?void 0:t.columnType)===pe.ENTITYID_LIST?e.map(O=>O.value):[],k=Wa({ids:q,type:"ENTITY_HEADER"}),I=(t==null?void 0:t.columnType)===pe.EVALUATIONID?e.map(O=>O.value):[],N=Wa({ids:I,type:"EVALUATION_QUEUE"}),$=O=>{const U=O.target.value;if(g(U),l(!0),!U)e.forEach(H=>{H.isSelected=!1}),E(e);else{const H=e.filter(G=>Gy(G,R,k,N).toLowerCase().indexOf(U.trim().toLowerCase())>-1?G:null);E(H)}};if(!t)return m(Q,{});const F=r==="Dropdown",A=L("div",{className:F?"EnumFacetFilter__dropdown_menu":"",children:[L("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[L("div",{className:f?"EnumFacetFilter__search active":"EnumFacetFilter__search",children:[m("button",{className:"EnumFacetFilter__closeSearch",onClick:()=>{E(e),h(!1),l(!1)},children:m("span",{className:"EnumFacetFilter__previous",children:m(Le,{icon:"arrowBack"})})}),v.length>0&&m("button",{className:"EnumFacetFilter__resetSearch",onClick:()=>{var O;g(""),(O=w.current)==null||O.focus()},children:m("span",{className:"EnumFacetFilter__reset",children:m(Le,{icon:"close"})})}),m("input",{type:"text",placeholder:"Find values",value:v,ref:w,onChange:O=>{$(O)}})]}),!f&&L("div",{className:"EnumFacetFilter__checkAll",children:[m(bi,{className:"EnumFacetFilter__checkbox",onChange:()=>{n()},checked:x,label:"All",isSelectAll:!0},"select_all"),m("button",{className:"EnumFacetFilter__searchbtn",onClick:()=>{var O;g(""),h(!0),(O=w.current)==null||O.focus()},children:m("span",{className:"EnumFacetFilter__searchicon",children:m(Le,{icon:"search"})})})]})]}),L("div",{children:[b.length>0&&n8(b,s||F,y).map((O,U)=>m(a8,{id:r8(O.value),index:U,label:Gy(O,R,k,N),count:O.count,isDropdown:F,initialIsSelected:O.isSelected,onChange:H=>{S[O.value]=H,clearTimeout(C),C=setTimeout(()=>{a(S),p(!1)},_)}},`checkLabel${U}`)),!F&&L(Q,{children:[!s&&b.length>y&&m("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>l(!0),children:m("div",{className:"EnumFacetFilter__checkboxContainer",children:L("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",b.length,")"]})})}),s&&b.length>y&&m("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>l(!1),children:m("div",{className:"EnumFacetFilter__checkboxContainer",children:m("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),b.length<=0&&m("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),V=()=>p(!d);return F?i==="SelectBox"?L(ft,{className:"EnumFacetFilter EnumFacetFilterSelect",show:d,onToggle:V,children:[L(ft.Toggle,{className:"secondary-caret",variant:"gray-select",children:[x&&"All",!x&&e.filter(O=>O.isSelected).length===1&&e.filter(O=>O.isSelected)[0].value,!x&&e.filter(O=>O.isSelected).length>1&&"Multiple Values Selected"]}),m(ft.Menu,{children:A})]}):L(ft,{className:"EnumFacetFilter",show:d,onToggle:V,children:[m(Nn,{tooltipText:"Filter by specific facet",darkTheme:!1,icon:"filter"},"facetFilterTooltip"),m(ft.Menu,{children:A})]}):L(Q,{children:[m(_s,{isCollapsed:c,label:t.name,onClick:O=>u(O)}),m(Ii,{className:"EnumFacetFilter",in:!c,children:A})]})};function a8({id:e,index:t,label:n,count:a,isDropdown:r,initialIsSelected:i,onChange:o}){const[s,l]=P.useState(i);return B.useEffect(()=>{l(i)},[i]),L("div",{className:"EnumFacetFilter__checkboxContainer",onClick:()=>{r&&(l(!s),o(!s))},children:[m(bi,{className:"EnumFacetFilter__checkbox",onClick:c=>c.stopPropagation(),onChange:c=>{l(c),o(c)},checked:s,label:n},`${e}-${t}`),r&&L("span",{className:"EnumFacetFilter__count",children:["(",a,")"]}),!r&&m("div",{className:"EnumFacetFilter__count",children:a})]})}try{fa.displayName="EnumFacetFilter",fa.__docgenInfo={description:"*********** QUERY ENUM CONMPONENT  ************",displayName:"EnumFacetFilter",props:{facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"FacetColumnResultValueCount[]"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(facetNamesMap: Record<string, boolean>) => void"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!0,type:{name:"() => void"}},containerAs:{defaultValue:{value:"Collapsible"},description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:{value:"Icon"},description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const Af=({facet:e,isChecked:t,onClick:n})=>{const{getColumnDisplayName:a}=mt();return L("button",{className:`Chip ${t?"Checked":""}`,onClick:n,children:[a(e.columnName),m(Le,{icon:t?"check":"add",sx:{width:"14px",paddingLeft:"0.2rem"}})]})};try{Af.displayName="FacetChip",Af.__docgenInfo={description:"",displayName:"FacetChip",props:{facet:{defaultValue:null,description:"",name:"facet",required:!0,type:{name:"FacetColumnResult"}},isChecked:{defaultValue:null,description:"",name:"isChecked",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const kf=e=>{const t="Min value should be less then max value",[n,a]=P.useState(!1),[r,i]=P.useState(()=>e.type==="number"&&e.initialValues?e.initialValues:e.initialValues&&{min:ur(e.initialValues.min).format("YYYY-MM-DD"),max:ur(e.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),o=e.className?`range ${e.className}`:"range",s=({min:c,max:u},d="number")=>{if(c==null||u===null||u===void 0)return a(!1),!0;if(d==="number"){if(Number(c)>Number(u))return a(!0),!1}else if(Date.parse(c)>Date.parse(u))return a(!0),!1;return a(!1),!0},l=(c,u,d="number")=>{s(c,d)&&u(c)};return L("div",{className:o,style:{display:"flex",flexWrap:"wrap"},children:[L("div",{style:{marginRight:"10px"},children:[m("input",{"aria-label":"min",type:e.type,value:r.min,onChange:({target:c})=>i({min:c.value,max:r.max})},"range_min"),m("div",{children:"to"}),m("input",{"aria-label":"max",type:e.type,value:r.max,onChange:({target:c})=>i({min:r.min,max:c.value})},"range_max")]}),m("button",{className:"btn btn-link SRC-noPadding",onClick:()=>l(r,e.onChange,e.type),children:"Apply"}),n&&m("div",{className:"SRC-danger-color",children:e.errorText||t})]})};try{kf.displayName="Range",kf.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const $f=({facetResult:e,columnModel:t,onChange:n,collapsed:a=!1})=>{const[r,i]=P.useState(a),o=[{label:qs,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}];let{columnMin:s,columnMax:l,selectedMin:c,selectedMax:u}=e;const d=!c&&!u;c=c||s,u=u||l;const p=t.columnType==="DOUBLE"?"number":"date",f=(E,y)=>y?"":E===Ka?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE",h=(E,y)=>{g(E),E!=="RANGE"&&y([E,E])},[v,g]=P.useState(f(c,d));return L("div",{children:[m(_s,{isCollapsed:r,label:t.name,onClick:E=>i(E)}),L(Ii,{in:!r,children:[m($x,{value:v,id:"rangeSelector",options:o,onChange:E=>h(E,n)}),v==="RANGE"&&(s===l?m("label",{children:l}):L(Q,{children:[t.columnType==="INTEGER"&&L(qx,{domain:[s,l],initialValues:{min:c,max:u},step:1,doUpdateOnApply:!0,onChange:E=>n([E.min,E.max]),children:[") ",">"]},"RangeSlider"),(t.columnType==="DATE"||t.columnType==="DOUBLE")&&m(kf,{initialValues:{min:c,max:u},type:p,onChange:E=>n([E.min,E.max])},"Range")]}))]})]})};try{$f.displayName="RangeFacetFilter",$f.__docgenInfo={description:"",displayName:"RangeFacetFilter",props:{facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:"FacetColumnResultRange"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(range: (string | number | undefined)[]) => void"}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const mC=e=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:e.columnName,facetValues:e.facetValues.filter(t=>t.isSelected).map(t=>t.value)}),i8=e=>{let t={concreteType:"org.sagebionetworks.repo.model.table.FacetColumnRangeRequest",columnName:e.columnName};return e.columnMin&&(t={...t,min:e.columnMin,max:e.columnMax}),t},Hh=(e,t)=>{var i;const n=((i=t==null?void 0:t.query)==null?void 0:i.selectedFacets)??[],a=n.findIndex(o=>o.columnName===e.columnName),r=e.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&(!e.facetValues||!e.facetValues.length);return a>-1?r?n.splice(a,1):n[a]=e:n.push(e),n};function wi(e,t,n,a,r=!1){a?t.facetValues.forEach(s=>{s.value===a&&(s.isSelected=r)}):t.facetValues.forEach(s=>{s.isSelected=!1});const i=mC(t),o=Hh(i,e);n(o)}const Es=(e,t,n,a)=>{const r=a&&Object.keys(a)||[];r.length&&t.facetValues.forEach(s=>{r.includes(s.value)&&(s.isSelected=a?!!a[s.value]:!1)});const i=mC(t),o=Hh(i,e);n(o)},o8=(e,t,n,a)=>{t.columnMin=a[0],t.columnMax=a[1];const r=i8(t),i=Hh(r,e);n(i)};function Cs(e,t){const n=(t??[]).map(a=>a.columnName);return new Set([...e.slice(0,3).map(a=>a.columnName),...n])}function So(){const e=L(Pi,{direction:"row",gap:"10px",sx:{my:1},children:[m(gn,{width:"15px"}),m(gn,{width:"40%"})]});return L(ct,{className:"FacetFilterControls__facet",children:[m(ct,{className:"FacetFilterHeader",children:m(gn,{width:"100%"})}),L(ct,{children:[e,e,e]})]})}function s8(){const{topLevelControlsState:e}=mt(),{showFacetFilter:t}=e;return L("div",{className:`FacetFilterControls ${t?pr:tr}`,children:[m(So,{}),m(So,{}),m(So,{}),m(So,{})]})}function qf(e){const{availableFacets:t}=e,{data:n,getLastQueryRequest:a,executeQueryRequest:r}=yt(),i=a(),o=n.facets.filter(h=>t==null||t.includes(h.columnName)).filter(h=>!tw(h)),[s,l]=B.useState(Cs(o,i.query.selectedFacets)),{topLevelControlsState:c}=mt(),{showFacetFilter:u}=c;Yb(()=>{l(Cs(o,i.query.selectedFacets))},[o]);const d=n.selectColumns,p=h=>{const v=a();v.query.selectedFacets=h,v.query.offset=0,r(v)},f=h=>{const v=new Set(s);v.has(h.columnName)?v.delete(h.columnName):v.add(h.columnName),l(v)};return L("div",{className:`FacetFilterControls ${u?pr:tr}`,children:[(o??[]).filter(h=>s.has(h.columnName)).map(h=>{const v=d.find(g=>g.name===h.columnName);return L("div",{className:"FacetFilterControls__facet",children:[h.facetType==="enumeration"&&v&&m(fa,{containerAs:"Collapsible",collapsed:!1,facetValues:h.facetValues,columnModel:v,onChange:g=>Es(i,h,p,g),onClear:()=>wi(i,h,p)}),h.facetType==="range"&&v&&m($f,{facetResult:h,columnModel:v,collapsed:!1,onChange:g=>o8(i,h,p,g)})]},h.columnName)}),L("div",{children:[m("div",{className:"AvailableFacet",children:m("label",{className:"AvailableFacet__label",children:"Available Facets"})}),o.map(h=>m(Af,{facet:h,onClick:()=>f(h),isChecked:s.has(h.columnName)},h.columnName))]})]})}function l8(e){const{data:t,isLoadingNewBundle:n}=yt();return n?m(s8,{}):t==null||t.facets==null?m(Q,{}):m(qf,{...e})}try{Cs.displayName="getDefaultShownFacetFilters",Cs.__docgenInfo={description:`Determines which facet filters should be shown after loading a new bundle. The shown facets will be the first
three available facets, plus any other facets that have a filter applied.`,displayName:"getDefaultShownFacetFilters",props:{}}}catch{}try{qf.displayName="FacetFilterControls",qf.__docgenInfo={description:"",displayName:"FacetFilterControls",props:{availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}}}}}catch{}const u8=jb(Qb),c8=19,d8=30,f8={showlegend:!1,annotations:[],margin:{l:0,r:0,b:0,t:0,pad:0},yaxis:{visible:!1,showgrid:!1},xaxis:{visible:!1,showgrid:!1}};function vC(e,t){if(!e)return e;const n=e.trim();return n.length>t?n.substr(0,t-1)+"…":e}async function p8(e,t,n,a,r){var h,v;const{colorPalette:i}=Dx(n,e.facetValues.length),o=async(g,b,E)=>{const y=new Map;y.set(Ka,qs);const _=g.map(w=>w.value).filter(w=>w!==Ka);if(b===pe.ENTITYID||b===pe.ENTITYID_LIST){const w=await Je.getEntityHeadersByIds(_,E);for(const S of w.results)y.set(S.id,S.name)}else if(b===pe.USERID||b===pe.USERID_LIST){const w=await Je.getGroupHeadersBatch(_,E);for(const S of w.children)y.set(S.ownerId,S.userName)}return g.map(w=>({facet:w,label:s(w,!1,y),truncatedLabel:s(w,!0,y),count:w.count}))},s=(g,b,E)=>{let y=E.get(g.value)??g.value;return b&&(y=vC(y,c8)),y},l=await o(e.facetValues,t,r),c=l.map(g=>g.truncatedLabel),d=e.facetValues.some(g=>g.isSelected)?e.facetValues.map((g,b)=>g.isSelected?i[b]:i[b].replace("rgb(","rgba(").replace(")",", 0.25)")):i,p={values:a==="PIE"?e.facetValues.map(g=>g.count):void 0,labels:l.map(g=>g.label),text:c,x:a==="BAR"?e.facetValues.map(g=>{var b;return((b=l.find(E=>E.facet===g))==null?void 0:b.label)??g.value}):void 0,y:a==="BAR"?e.facetValues.map(g=>g.count):void 0,facetEnumerationValues:e.facetValues.map(g=>g.value),name:e.columnName,hovertemplate:a==="PIE"?"<b>%{text}</b><br>%{value} (%{percent})<br><extra></extra>":"<b>%{text}: </b><br>%{value} <br><extra></extra>",textinfo:"none",type:a==="PIE"?"pie":"bar",pull:a==="PIE"?e.facetValues.map(g=>g.isSelected?.1:0):void 0,marker:{colors:a==="PIE"?d:void 0,color:a==="BAR"?d:void 0}};return{data:[p],labels:l,colors:a==="PIE"?(h=p.marker)==null?void 0:h.colors:(v=p.marker)==null?void 0:v.color}}const h8=(e,t,n)=>{if(e.points&&e.points[0]){const a=e.points[0],r=a.data.facetEnumerationValues[a.pointNumber],i=t.facetValues.find(o=>o.value===r);n(t,i,!i.isSelected)}};function m8(e,t,n){const r=e?e*(t==="BAR"?.8:.6):200;let i=t==="PIE"?r:r/3;return i>n&&(i=n),{width:`${r}px`,height:`${i}px`}}function Ff(e){const{labels:t,colors:n=[],isExpanded:a}=e;if(!t)return m(Q,{});const r=a?Math.min(t.length,9):Math.min(t.length,4);return r===0?m(Q,{}):m("div",{className:`FacetNavPanel__body__legend${a?"--expanded":""}`,children:t.slice(0,r).map((i,o)=>{const s=vC(i.label,d8);return m(Nn,{tooltipText:i.label,children:L(ct,{sx:{display:"flex",alignItems:"center",gap:"10px"},children:[m(ct,{sx:{width:"14px",height:"14px",cursor:"default",backgroundColor:n[o]},style:{cursor:"default"}},`legendLabel_${o}`),m(Fe,{variant:"body2",children:s}),m(Fe,{variant:"body2",sx:{color:"grey.600"},children:i.count})]})},i.label)})})}const v8=(e,t)=>e?`FacetNavPanel__body__plot--expanded${t==="BAR"?"Bar":"Pie"}`:"FacetNavPanel__body__plot",xs=e=>{const{onHide:t,isModalView:n,applyChangesToFacetFilter:a,applyChangesToGraphSlice:r,index:i,facetToPlot:o,plotType:s,onSetPlotType:l}=e,{accessToken:c}=Ve(),{data:u,isLoadingNewBundle:d,getLastQueryRequest:p}=yt(),{getColumnDisplayName:f}=mt(),[h,v]=P.useState(!1),g=f(o.columnName),b=P.useCallback(()=>{var _,w;return(w=(_=u==null?void 0:u.columnModels)==null?void 0:_.find(S=>S.name===o.columnName))==null?void 0:w.columnType},[u,o.columnName]),{data:E}=pa(["extractPlotDataArray",o,b(),i,s,c],()=>p8(o,b(),i,s,c),{enabled:!!o}),y=()=>L("div",{onClick:_=>{_.stopPropagation()},className:"bootstrap-4-backport SRC-labeled-dropdown",children:[m("span",{className:"SRC-labeled-dropdown__label",children:"Chart Type"}),L(ft,{children:[m(ft.Toggle,{className:"secondary-caret",variant:"gray-select",children:s==="PIE"?"Pie Chart":"Bar Chart"}),L(ft.Menu,{className:"chart-tools",children:[m(ft.Item,{as:"button",onClick:()=>l("BAR"),children:"Bar Chart"}),m(ft.Item,{as:"button",onClick:()=>l("PIE"),children:"Pie Chart"})]})]})]});return!u&&d||!o?m("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:_p}):L(Q,{children:[m(xi,{open:h,onCancel:()=>v(!1),title:g??"",content:m(xs,{...e,isModalView:!0}),hasCancelButton:!1,confirmButtonText:"Apply Filters",onConfirm:()=>v(!1)}),L("div",{role:"graphics-document",className:`FacetNavPanel${n?"--expanded":""}`,children:[!n&&L("div",{className:"FacetNavPanel__title",children:[!u&&d?m(bn,{width:100}):m("span",{className:"FacetNavPanel__title__name",children:g}),L("div",{className:"FacetNavPanel__title__tools",children:[m(fa,{facetValues:o.facetValues,columnModel:u==null?void 0:u.columnModels.find(_=>_.name===o.columnName),onChange:_=>{Es(p(),o,a,_)},onClear:()=>{wi(p(),o,a)},containerAs:"Dropdown"}),m(Nn,{tooltipText:"Expand to large graph",callbackFn:()=>v(!0),className:"SRC-primary-color",darkTheme:!1,icon:"expand"},"expandGraph"),m(Nn,{tooltipText:"Hide graph under Show More",callbackFn:()=>t(),className:"SRC-primary-color",darkTheme:!1,icon:"close"},"hideGraph")]})]}),n&&L(Q,{children:[L("div",{className:"bootstrap-4-backport SRC-labeled-dropdown",children:[m("span",{className:"SRC-labeled-dropdown__label",children:"Filter All Data By"}),m(fa,{facetValues:o.facetValues,columnModel:u==null?void 0:u.columnModels.find(_=>_.name===o.columnName),onChange:_=>{Es(p(),o,a,_)},onClear:()=>{wi(p(),o,a)},containerAs:"Dropdown",dropdownType:"SelectBox"}),m(Ct,{title:"Selecting items in this dropdown will affect all facets on the Explore page.",children:m(Ox,{className:"SRC-hand-cursor SRC-secondary-text-color"})})]}),m(y,{})]}),L("div",{className:`FacetNavPanel__body${n?"--expanded":""}`,role:"graphics-object",children:[m(Fx.SizeMe,{monitorHeight:!0,noPlaceholder:!0,children:({size:_})=>m("div",{className:v8(n,s),children:m(u8,{layout:f8,data:(E==null?void 0:E.data)??[],style:m8(_.width,s,n?300:150),config:{displayModeBar:!1},onClick:w=>h8(w,o,r)},`${o.columnName}-${s}-${_.width}`)})}),m(Ff,{labels:E==null?void 0:E.labels,colors:E==null?void 0:E.colors,isExpanded:n})]})]})]})};try{Ff.displayName="FacetPlotLegend",Ff.__docgenInfo={description:"",displayName:"FacetPlotLegend",props:{labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"FacetWithLabel[]"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}}}}}catch{}try{xs.displayName="FacetNavPanel",xs.__docgenInfo={description:"",displayName:"FacetNavPanel",props:{applyChangesToGraphSlice:{defaultValue:null,description:"",name:"applyChangesToGraphSlice",required:!0,type:{name:"(facet: FacetColumnResultValues, value: FacetColumnResultValueCount | undefined, isSelected: boolean) => void"}},applyChangesToFacetFilter:{defaultValue:null,description:"",name:"applyChangesToFacetFilter",required:!0,type:{name:"(facets: FacetColumnRequest[]) => void"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},facetToPlot:{defaultValue:null,description:"",name:"facetToPlot",required:!0,type:{name:"FacetColumnResultValues"}},plotType:{defaultValue:null,description:"",name:"plotType",required:!0,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'}]}},onSetPlotType:{defaultValue:null,description:"",name:"onSetPlotType",required:!0,type:{name:"(plotType: PlotType) => void"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},isModalView:{defaultValue:null,description:"",name:"isModalView",required:!0,type:{name:"boolean"}},onCloseModal:{defaultValue:null,description:"",name:"onCloseModal",required:!1,type:{name:"(() => void)"}}}}}catch{}function g8(e,t,n){const a=t.getColumnModel(e.columnName);return e.values.map(r=>{let i=r;r!=null&&r.startsWith("%")&&(r!=null&&r.endsWith("%"))&&(i=i.substring(1,i.length-1)),i=n.getDisplayValue(i,a.columnType);const o=`${e.columnName}: ${i}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${r}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{t.removeValueFromQueryFilter(e,r)}}})}function y8(e,t){return{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:e.searchExpression,tooltipText:`Text matches: "${e.searchExpression}"`,onRemoveFilter:()=>{t.removeQueryFilter(e)}}}function b8(e,t,n){var a;return qo(e)||Fo(e)?e.columnName===((a=t.lockedColumn)==null?void 0:a.columnName)?[]:g8(e,t,n):QC(e)?[y8(e,t)]:(console.log("Unknown query filter type",e.concreteType),[])}function w8(e,t,n){var o;if(e.columnName===((o=t.lockedColumn)==null?void 0:o.columnName))return[];const a=t.getColumnModel(e.columnName),{getColumnDisplayName:r,getDisplayValue:i}=n;if(Mc(e))return e.facetValues.map(s=>{const l=i(s,a.columnType);return{key:`facet-${e.concreteType}-${e.columnName}-${s}`,innerText:l,tooltipText:`${r(e.columnName)}: ${l}`,onRemoveFilter:()=>{t.removeValueFromSelectedFacet(e,s)}}});if(GC(e)){const s=`${e.min} - ${e.max}`;return[{key:`facet-${e.concreteType}-${e.columnName}-${e.min}-${e.max}`,innerText:s,tooltipText:`${r(e.columnName)}: ${s}`,onRemoveFilter:()=>{t.removeSelectedFacet(e)}}]}else return console.log("Unknown facet type",e.concreteType),[]}function S8(){var s;const e=yt(),t=mt(),{getLastQueryRequest:n}=e,a=n(),r=(((s=a.query)==null?void 0:s.additionalFilters)??[]).flatMap(l=>b8(l,e,t)),i=(a.query.selectedFacets??[]).flatMap(l=>w8(l,e,t)),o=[...r,...i];return m(Q,{children:o.map(l=>{const c=encodeURIComponent(l.key);return P.createElement(Lx,{...l,key:c})})})}function Si(e){const{style:t,frontText:n,endText:a="",hideIfUnfiltered:r=!1}=e,{data:i,isLoadingNewBundle:o,resetQuery:s,error:l,hasResettableFilters:c}=yt(),{topLevelControlsState:u,unitDescription:d}=mt(),p=i==null?void 0:i.queryCount,f=u==null?void 0:u.showFacetFilter,h=c;return l?m(Q,{}):m("div",{className:`TotalQueryResults ${f?pr:tr} ${c?"hasFilters":""}`,style:t,children:o?m(bn,{width:100}):L(Q,{children:[(c||!r)&&L("div",{className:"TotalQueryResults__topbar",children:[L("span",{className:"SRC-boldText",children:[n," ",p==null?void 0:p.toLocaleString()," ",d," ",a]}),h&&L("a",{onClick:s,className:"TotalQueryResults__topbar__clearall",children:[m(Le,{icon:"deleteSweep"}),"Clear all filters"]})]}),m("div",{className:"TotalQueryResults__selections",children:m(S8,{})})]})})}try{Si.displayName="TotalQueryResults",Si.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"((newFacets: FacetColumnRequest[]) => void)"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}const kc=2;function $c(e,t){var a;return((a=e==null?void 0:e.facets)==null?void 0:a.filter(r=>r.facetType==="enumeration"&&(!(t!=null&&t.length)||t.indexOf(r.columnName)>-1)&&r.facetValues.length>0&&!tw(r)))??[]}const Df=({facetsToPlot:e})=>{const{data:t,getLastQueryRequest:n,isLoadingNewBundle:a,executeQueryRequest:r,error:i,asyncJobStatus:o}=yt(),{topLevelControlsState:s}=mt(),[l,c]=P.useState([]),[u,d]=P.useState(!0),{showFacetVisualization:p,showFacetFilter:f}=s,h=n();P.useEffect(()=>{const R=$c(t,e);R.length!==0&&u&&(c(R.map((q,k)=>({name:q.columnName,isHidden:k>=kc,plotType:"PIE"}))),d(!1))},[t,u,e]);const v=R=>{c(q=>q.map((k,I)=>R?{...k,isHidden:!1}:{...k,isHidden:I>=kc}))},g=R=>{h.query.selectedFacets=R,h.query.offset=0,r(h)},b=R=>l.find(I=>I.name===R&&I.isHidden===!0)!==void 0,E=P.useMemo(()=>l.find(R=>R.isHidden===!0)?"MORE":l.length<=kc?"NONE":"LESS",[l]),y=R=>{S(R,"isHidden",!0)},_=(R,q)=>{S(R,"plotType",q)},w=R=>{var k;return((k=l.find(I=>I.name===R))==null?void 0:k.plotType)??"PIE"},S=(R,q,k)=>{c(I=>I.map(N=>N.name===R?{...N,[q]:k}:N))},C=$c(t,e),x=$c(t,e).map((R,q)=>({columnName:R.columnName,colorIndex:q})),T=(h==null?void 0:h.query.selectedFacets)!==void 0&&h.query.selectedFacets.length>0||(h==null?void 0:h.query.additionalFilters)!==void 0&&(h==null?void 0:h.query.additionalFilters.length)>0;return i?m(Q,{}):!t&&a?m("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:(o==null?void 0:o.progressMessage)&&L("div",{children:[m("span",{className:"spinner"}),o.progressMessage]})}):L(Q,{children:[m(Si,{frontText:"",endText:T?"filtered by":"",hideIfUnfiltered:!0}),C.length>0&&L("div",{className:`FacetNav ${p?"":"hidden"} ${f?pr:tr} ${E==="LESS"?"less":""}`,children:[m("div",{className:"FacetNav__row",role:"list",children:C.map(R=>{var q;return m("div",{className:"col-sm-12 col-md-4",style:{display:b(R.columnName)?"none":"block"},children:m(xs,{index:(q=x.find(k=>k.columnName===R.columnName))==null?void 0:q.colorIndex,onHide:()=>y(R.columnName),plotType:w(R.columnName),onSetPlotType:k=>_(R.columnName,k),facetToPlot:R,applyChangesToFacetFilter:g,applyChangesToGraphSlice:(k,I,N)=>wi(h,k,g,I==null?void 0:I.value,N),isModalView:!1})},R.columnName)})}),E!=="NONE"&&m("div",{className:"FacetNav__showMoreContainer",children:m(ha,{variant:"contained",color:"secondary",onClick:()=>v(E==="MORE"),sx:{width:"250px"},children:E==="LESS"?"Hide Charts":"View All Charts"})})]})]})};try{Df.displayName="FacetNav",Df.__docgenInfo={description:"",displayName:"FacetNav",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}}}}}catch{}var _8=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Yy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),i=String(a.getOptionValue(n)).toLowerCase(),o=String(a.getOptionLabel(n)).toLowerCase();return i===r||o===r},qc={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,a,r){return!(!t||n.some(function(i){return Yy(t,i,r)})||a.some(function(i){return Yy(t,i,r)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function E8(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,a=e.createOptionPosition,r=a===void 0?"last":a,i=e.formatCreateLabel,o=i===void 0?qc.formatCreateLabel:i,s=e.isValidNewOption,l=s===void 0?qc.isValidNewOption:s,c=e.getNewOptionData,u=c===void 0?qc.getNewOptionData:c,d=e.onCreateOption,p=e.options,f=p===void 0?[]:p,h=e.onChange,v=Vx(e,_8),g=v.getOptionValue,b=g===void 0?Bx:g,E=v.getOptionLabel,y=E===void 0?zx:E,_=v.inputValue,w=v.isLoading,S=v.isMulti,C=v.value,x=v.name,T=P.useMemo(function(){return l(_,rm(C),f,{getOptionValue:b,getOptionLabel:y})?u(_,o(_)):void 0},[o,u,y,b,_,l,f,C]),R=P.useMemo(function(){return(n||!w)&&T?r==="first"?[T].concat(Fl(f)):[].concat(Fl(f),[T]):f},[n,r,w,T,f]),q=P.useCallback(function(k,I){if(I.action!=="select-option")return h(k,I);var N=Array.isArray(k)?k:[k];if(N[N.length-1]===T){if(d)d(_);else{var $=u(_,_),F={action:"create-option",name:x,option:$};h(Mx(S,[].concat(Fl(rm(C)),[$]),$),F)}return}h(k,I)},[u,_,S,x,T,d,h,C]);return nm(nm({},v),{},{options:R,onChange:q})}var C8=P.forwardRef(function(e,t){var n=Ux(e),a=E8(n);return P.createElement(Hx,Ce({ref:t},a))});const x8=C8,Ns=({children:e,...t})=>m(Wx.Control,{...t,className:"form-control",children:e});function Is(e,t){if(e==null)return;const n=t.filter(a=>a.value===e);return n.length>0?n[0]:{value:e,label:e}}const Xy=e=>{const{id:t,options:n,value:a,required:r,disabled:i,readonly:o,multiple:s,autofocus:l,onChange:c,onBlur:u,onFocus:d,placeholder:p}=e,{enumOptions:f}=n;return m(x8,{className:"react-select-container",inputId:t,isMulti:s,placeholder:p,value:Is(a,f),"aria-required":r,isDisabled:i||o,autoFocus:l,onBlur:u&&(()=>u(t,a==null?void 0:a.value)),options:f,onFocus:d&&(()=>d(t,a==null?void 0:a.value)),onChange:h=>c(h==null?void 0:h.value),isClearable:!0,components:{Control:Ns},formatCreateLabel:h=>`Set to custom value "${h}"`,styles:{control:h=>({...h,border:"unset",borderColor:"unset",boxShadow:"unset","&:hover":{}}),valueContainer:h=>({...h,padding:"0px"})}})};try{Is.displayName="findValueOption",Is.__docgenInfo={description:`react-select's value prop should be an EnumOption (see custom type defined above)

This function finds the enum option that has the corresponding value and returns it.

If value is nullish, this fn returns undefined. If there is no corresponding option, then a new object is returned
where the label and value are set to the provided value.`,displayName:"findValueOption",props:{}}}catch{}try{Ns.displayName="Control",Ns.__docgenInfo={description:"We want to apply the 'form-control' bootstrap class to react-select's Control component, and the easiest way to do that is to make a custom version",displayName:"Control",props:{}}}catch{}try{Xy.displayName="CustomSelectWidget",Xy.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"CustomSelectWidget",props:{}}}catch{}const Of=({sortConfig:e})=>{const{defaultColumn:t,defaultDirection:n,sortableColumns:a}=e,r=yt(),{getLastQueryRequest:i,executeQueryRequest:o}=r,{getColumnDisplayName:s}=mt(),[l,c]=P.useState(t),[u,d]=P.useState(n),p=a.map(h=>({value:h,label:s(h)})),f=h=>{const v=i();let g="ASC";h===l&&(g=u==="ASC"?"DESC":"ASC");const b=h?[{column:h,direction:g}]:void 0;v.query.sort=b,o(v),c(h),d(g)};return L("div",{className:"QuerySortSelector bootstrap-4-backport",children:[m(Fe,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),m(bx,{className:"react-select-container SRC-inlineBlock",value:Is(l,p),options:p,onChange:h=>f(h==null?void 0:h.value),components:{Control:Ns},styles:{control:h=>({...h,marginLeft:"15px"})}})]})};try{Of.displayName="QuerySortSelector",Of.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}var Cr=(e=>(e.CURRENT_WINDOW="_self",e.NEW_WINDOW="_blank",e.PARENT_FRAME="_parent",e.FULL_WINDOW_BODY="_top",e))(Cr||{});const Ky=e=>{const t=an(e.sql),n=qp(e.searchParams,e.sqlOperator),{sortConfig:a,columnAliases:r}=e,i=a?[{column:a.defaultColumn,direction:a.defaultDirection}]:void 0,o={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,query:{sql:e.sql,limit:e.limit??Ls,sort:i,additionalFilters:n},partMask:ma|va|Os|wb|Fs|Ds|Ep|xp};return m(gs,{...e,initQueryRequest:o,children:L(pi,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:r,noContentPlaceholderType:e.noContentPlaceholderType??Yr.STATIC,children:[a&&m(Of,{sortConfig:a}),m(Ps,{...e}),m(di,{children:s=>m(bp,{error:s==null?void 0:s.error})})]})})};try{Ky.displayName="CardContainerLogic",Ky.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}}}}}catch{}const Lf=({type:e,title:t,subTitle:n="",description:a,values:r,secondaryLabelLimit:i,isAlignToLeftNav:o,descriptionConfig:s,href:l,target:c,rgbIndex:u,icon:d})=>{const p=document.querySelector('meta[name="description"]'),[f]=P.useState(document.title),[h]=P.useState(p?p.getAttribute("content"):"");return P.useEffect(()=>(t&&document.title!==t&&(document.title=t),(a||n)&&(p==null||p.setAttribute("content",a||n)),function(){document.title=f,p==null||p.setAttribute("content",h)})),m("div",{className:`SRC-portalCard SRC-portalCardHeader ${o?"isAlignToLeftNav":""}`,children:m("div",{className:"container-fluid container-full-width",children:m("div",{className:"row",children:m("div",{className:"col-md-offset-1 col-md-10",children:L("div",{className:"SRC-portalCardMain",children:[d,L("div",{style:{width:"100%"},children:[L("div",{className:"SRC-cardContent",style:{marginLeft:"15px"},children:[m("div",{className:"SRC-type",children:e}),m("div",{children:m("h3",{className:"SRC-boldText",style:{margin:"none"},children:l?m("a",{target:c,href:l,className:"highlight-link",children:t}):L("span",{children:[" ",t," "]})})}),n&&L("div",{className:"SRC-author",children:[" ",n," "]}),a&&m("span",{className:"SRC-font-size-base",children:s!=null&&s.isMarkdown?m(Nt,{markdown:a}):a})]}),m("div",{style:{borderTop:"1px solid rgba(26, 28, 41, 0.2)",marginTop:"15px",paddingTop:"5px"}}),m("div",{className:"SRC-cardContent",children:r&&m(Lp,{isHeader:!0,secondaryLabelLimit:i,values:r})})]})]})})})})})};try{Lf.displayName="HeaderCard",Lf.__docgenInfo={description:"",displayName:"HeaderCard",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:{value:""},description:"",name:"subTitle",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[][]"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Element"}}}}}catch{}const Vf=e=>{var c;const{fileHandleAssociation:t,showDownloadIcon:n,redirect:a=!1,displayValue:r}=e,{accessToken:i}=Ve(),[o,s]=P.useState();P.useEffect(()=>{r===void 0&&(async()=>{const d={requestedFiles:[t],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1};s(await Je.getFiles(d,i))})()},[i,r,t]);let l;return o&&(l=(c=o.requestedFiles[0].fileHandle)==null?void 0:c.fileName),L("button",{onClick:()=>{i&&t&&Je.getActualFileHandleByIdURL(t.fileHandleId,i,t.associateObjectType,t.associateObjectId,a).then(u=>{window.open(u,"_blank")}).catch(u=>{console.error("Error on retrieving file handle url ",u)})},className:`SRC-primary-text-color ${Cp}`,type:"button",style:{padding:0},children:[r??l??t.fileHandleId,n&&m(Le,{icon:"download"})]})};try{Vf.displayName="FileHandleLink",Vf.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}}}catch{}const Mf=e=>{const{fileHandleAssociation:{fileHandleId:t,associateObjectId:n,associateObjectType:a}}=e,{accessToken:r}=Ve(),[i,o]=P.useState(),{ref:s,inView:l}=ga({triggerOnce:!0,rootMargin:"500px 0px"});return P.useEffect(()=>{(()=>{t&&n&&a&&l&&Je.getActualFileHandleByIdURL(t,r,a,n,!1).then(u=>{o(u)}).catch(u=>{console.error("Error on retrieving file handle url ",u)})})()},[l,t,n,r,a]),m("span",{ref:s,children:i&&m("img",{src:i,alt:"",className:"ImageFileHandle",loading:"lazy"})})};try{Mf.displayName="ImageFileHandle",Mf.__docgenInfo={description:"",displayName:"ImageFileHandle",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}}}}}catch{}const Wh=400,N8="SRC-short-description",I8="SRC-long-description",Bf=e=>{let t="";const n=e.split(" ");let a=0;for(;t.length<Wh&&a<n.length;)t+=`${n[a]} `,a+=1;return t=t.trim(),{previewText:t}},T8=(e,t,n)=>{let a;return e&&t&&(Nb(e)?a={fileHandleId:t,associateObjectId:(e==null?void 0:e.id)??"",associateObjectType:lr.TableEntity}:n&&(a={fileHandleId:t,associateObjectId:n,associateObjectType:lr.FileEntity})),a},En=({columnName:e,value:t,selectColumns:n,columnModels:a})=>{if(!t)return{str:"",strList:void 0,columnModelType:void 0};const r=(n==null?void 0:n.find(o=>o.name===e))||(a==null?void 0:a.find(o=>o.name===e));if(r==null?void 0:r.columnType.endsWith("_LIST")){let o=t,s;try{return s=JSON.parse(o),o=s.join(", "),{strList:s,str:o,columnModelType:r==null?void 0:r.columnType}}catch(l){console.error("Could not parse multivalue string ",o," caught err ",l)}}return{str:t,columnModelType:r==null?void 0:r.columnType}},R8=(e,t,n)=>(t==null?void 0:t.findIndex(a=>a.name===e))||(n==null?void 0:n.findIndex(a=>a.name===e)),zf=e=>{const{synapseId:t,version:n}=e;return L("span",{children:[n,"  ",m("a",{target:Cr.NEW_WINDOW,rel:"noopener noreferrer",href:`${cr.PORTAL}#!Synapse:${t}.${n}`,children:"(Show Version History on Synapse)"})]})},Ts=e=>{const{value:t,columnName:n,labelLink:a,selectColumns:r,columnModels:i,isHeader:o,className:s,rowData:l,rowId:c}=e;if(!t)return m("p",{children:t});const{strList:u,str:d,columnModelType:p}=En({columnName:n,value:t,selectColumns:r,columnModels:i});if(!d)return m("p",{children:d});let f=s;const h={};if(o&&(f=s==null?void 0:s.concat(" ","SRC-lightLink")),p===pe.USERID_LIST&&u)return m("p",{children:u.map((g,b)=>L(B.Fragment,{children:[m(na,{ownerId:g,size:Do,className:f}),b<u.length-1&&",  "]},g))});if(p===pe.USERID&&d)return m(na,{ownerId:d,size:Do,className:f});if(!a)return d.match(Eb)?m("a",{target:Cr.NEW_WINDOW,rel:"noopener noreferrer",href:`${cr.PORTAL}#!Synapse:${d}`,className:f,children:d}):m("p",{children:d});let v;if(a.isMarkdown)u?v=m("p",{children:u.map((g,b)=>L(B.Fragment,{children:[m(Nt,{renderInline:!0,markdown:g},g),b<u.length-1&&",  "]},g))}):v=m(Nt,{renderInline:!0,markdown:t});else{const g=u||d.split(",");let b;if("target"in a&&(b=a.target),"linkColumnName"in a){const E=R8(a.linkColumnName,r,i);if(E==null)console.warn(`Could not determine column index of ${a.linkColumnName}`),v=m(Q,{children:t});else{const y=l[E];gb(y)?v=m(Q,{children:t}):v=m("p",{children:g.map((_,w)=>L(B.Fragment,{children:[m("a",{href:y??void 0,target:b??Cr.NEW_WINDOW,rel:"noopener noreferrer",className:f,style:h,children:_},_),w<g.length-1&&m("span",{style:{marginRight:4},children:", "})]},_))})}}else v=m("p",{children:g.map((E,y)=>{const{baseURL:_,URLColumnName:w,wrapValueWithParens:S}=a,C=a.overrideValueWithRowID?`syn${c}`:E,x=S?`(${C})`:C,T=`/${_}?${w}=${x}`;return L(B.Fragment,{children:[m("a",{href:T,className:f,style:h,target:b??Cr.CURRENT_WINDOW,children:E},E),y<g.length-1&&m("span",{style:{marginRight:4},children:", "})]},E)})})}return a.tooltipText?m(Ct,{title:a.tooltipText,enterNextDelay:300,children:m("span",{children:v})}):v};function P8(e,t,n,a){if(e){if(!t||!n)throw Error("Must specify CardLink and data for linking to work");const{matchColumnName:r,URLColumnName:i,overrideLinkURLColumnName:o,overrideValueWithRowID:s}=e;if(o&&n[o]){const c=n[o],u=t[c];if(u)return u}const l=n[r];if(l===void 0)console.error(`Could not find match for data: ${t} with columnName ${r}`);else{const c=s?`syn${a}`:t[l];if(c)return`/${e.baseURL}?${i}=${c}`}}}function Zy(e,t,n,a,r){e=e.trim();let i=e,o=Cr.CURRENT_WINDOW;e.match(Eb)?i=`${cr.PORTAL}#!Synapse:${e}`:e.match(c1)?(o=Cr.NEW_WINDOW,i=`https://dx.doi.org/${e}`):t?t&&(i=P8(t,n,a,r)??"",i.includes("/DetailsPage")&&(o=Cr.NEW_WINDOW)):o=Cr.NEW_WINDOW;const s=(t==null?void 0:t.target)??o;return{href:i,target:s}}function Uf(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:a,descriptionConfig:r}=e;let i=t;r!=null&&r.isMarkdown&&(i=m(Nt,{markdown:i}));const o=n||(r==null?void 0:r.showFullDescriptionByDefault);return m("div",{className:o?"":"SRC-hidden",children:m("span",{"data-search-handle":a,className:`SRC-font-size-base ${I8}`,children:i})})}function Hf(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:a,descriptionConfig:r,toggleShowMore:i}=e;return r!=null&&r.showFullDescriptionByDefault?m(Q,{}):L("div",{className:n?"SRC-hidden":"",children:[m("span",{"data-search-handle":a,className:`SRC-font-size-base ${N8} SRC-short-description`,children:Bf(t).previewText}),t.length>=Wh&&m("a",{style:{fontSize:"16px",cursor:"pointer",marginLeft:"5px"},className:"highlight-link",onClick:i,children:"...Show More"})]})}class Rs extends B.Component{constructor(n){super(n);je(this,"getCutoff",n=>{let a="";const r=n.split(" ");let i=0;for(;a.length<Wh&&i<r.length;)a+=`${r[i]} `,i+=1;return a=a.trim(),{previewText:a}});je(this,"toggleShowMore",()=>{this.setState({hasClickedShowMore:!0})});je(this,"renderTitle",({href:n,target:a,titleSearchHandle:r,title:i})=>n?m("a",{"data-search-handle":r,target:a,href:n,className:"highlight-link",children:i}):L("span",{"data-search-handle":r,children:[" ",i," "]}));this.state={hasClickedShowMore:!1}}render(){var Ae;const{schema:n,data:a,rowId:r,genericCardSchema:i,secondaryLabelLimit:o,selectColumns:s,columnModels:l,iconOptions:c,useTypeColumnForIcon:u=!1,isHeader:d=!1,titleLinkConfig:p,ctaLinkConfig:f,labelLinkConfig:h,descriptionConfig:v,rgbIndex:g,columnIconOptions:b,queryContext:{entity:E},queryVisualizationContext:{getColumnDisplayName:y}}=this.props,_=i,{hasClickedShowMore:w}=this.state,{link:S="",type:C}=_,x=a[n[_.title]];let T=_.subTitle&&a[n[_.subTitle]];T=(_==null?void 0:_.subTitle)&&En({value:T,columnName:_==null?void 0:_.subTitle,selectColumns:s,columnModels:l}).str;const R=a[n[_.description||""]],q=a[n[_.icon||""]],k=a[n[_.dataTypeIconNames||""]],I=a[n[_.imageFileHandleColumnName||""]],N=l==null?void 0:l.find(he=>_.link===he.name),$=N==null?void 0:N.columnType,F=a[n[S]]||"",{href:A,target:V}=Zy(F,p,a,n,r),O=[],{secondaryLabels:U=[]}=_,H=E&&!Nb(E);for(let he=0;he<U.length;he+=1){const te=U[he];let me=a[n[te]],we;if(me){if(H&&te==="currentVersion"){const Ye=a[n.id];me=zf({synapseId:Ye,version:me}),we="Version"}else{const Ye=h==null?void 0:h.find(ke=>ke.matchColumnName===te);me=m(Ts,{value:me,columnName:te,labelLink:Ye,isHeader:d,selectColumns:s,columnModels:l,rowData:a}),we=y(te)}const ae=[we,me,te];O.push(ae)}}const X=T8(E,I||F,a[n.id]),Y=O.length>0,K={marginTop:d?"0px":void 0,marginBottom:d?"0px":void 0,paddingBottom:Y||I?void 0:"15px"},J=L(Q,{children:[!u&&I&&m("div",{className:"SRC-imageThumbnail",style:{padding:_.thumbnailRequiresPadding?"21px":void 0},children:X&&m(Mf,{fileHandleAssociation:X})}),!u&&!I&&m("div",{className:"SRC-cardThumbnail",children:m(Hs,{iconOptions:c,value:q,type:C})}),u&&m("div",{className:"SRC-cardThumbnail",children:m(Le,{icon:b1[a[n.type]]})})]});if(d)return m(Lf,{descriptionConfig:v,title:x,subTitle:T,description:R,type:C,icon:J,values:O,href:A,target:V,isAlignToLeftNav:!0,secondaryLabelLimit:o,rgbIndex:g});const ne=y(_.title),fe=y(_.subTitle),ye=y(_.description);let ie,ve;if(f){const he=a[n[f.link]]||"",{href:te,target:me}=Zy(he,void 0,a,n,r);ie=te,ve=me}return L("div",{style:K,className:"SRC-portalCard",children:[L("div",{className:"SRC-portalCardMain",children:[J,L("div",{className:"SRC-cardContent",children:[m("div",{className:"SRC-type",children:C}),((Ae=b==null?void 0:b.columns)==null?void 0:Ae.dataType)&&(k==null?void 0:k.length)&&m("div",{style:{marginTop:"20px"},children:m(jx,{iconConfigs:b.columns.dataType,iconNames:JSON.parse(k),useBackground:!0,useTheme:!0})}),m("div",{children:m("h3",{className:"SRC-boldText SRC-blackText",style:{margin:"none"},children:!p&&$===pe.FILEHANDLEID&&X?m(Vf,{fileHandleAssociation:X,showDownloadIcon:C!==o1,displayValue:x}):this.renderTitle({href:A,target:V,titleSearchHandle:ne,title:x})})}),T&&m("div",{"data-search-handle":fe,className:"SRC-author",children:T}),R&&m(Hf,{description:R,hasClickedShowMore:w,descriptionSubTitle:ye,descriptionConfig:v,toggleShowMore:this.toggleShowMore}),R&&m(Uf,{description:R,hasClickedShowMore:w,descriptionSubTitle:ye,descriptionConfig:v}),f&&ie&&ve&&m("div",{className:"SRC-portalCardCTALink bootstrap-4-backport",children:m("a",{target:ve,rel:"noopener noreferrer",href:ie,children:f.text})})]})]}),Y&&m(Lp,{isHeader:!1,secondaryLabelLimit:o,values:O,columnIconOptions:b,className:`${I?"hasImage":"hasIcon"}`})]})}}je(Rs,"contextType",Ni);try{Uf.displayName="LongDescription",Uf.__docgenInfo={description:"",displayName:"LongDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}}}}}catch{}try{Hf.displayName="ShortDescription",Hf.__docgenInfo={description:"",displayName:"ShortDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},toggleShowMore:{defaultValue:null,description:"",name:"toggleShowMore",required:!0,type:{name:"() => void"}}}}}catch{}try{Bf.displayName="getCutoff",Bf.__docgenInfo={description:"",displayName:"getCutoff",props:{}}}catch{}try{En.displayName="getValueOrMultiValue",En.__docgenInfo={description:"",displayName:"getValueOrMultiValue",props:{columnName:{defaultValue:null,description:"",name:"columnName",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}}}catch{}try{zf.displayName="VersionLabel",zf.__docgenInfo={description:"",displayName:"VersionLabel",props:{synapseId:{defaultValue:null,description:"",name:"synapseId",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}}}catch{}try{Ts.displayName="SynapseCardLabel",Ts.__docgenInfo={description:"",displayName:"SynapseCardLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},labelLink:{defaultValue:null,description:"",name:"labelLink",required:!0,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink | undefined"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!0,type:{name:"SelectColumn[] | undefined"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!0,type:{name:"ColumnModel[] | undefined"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}}}}}catch{}try{Rs.displayName="GenericCard",Rs.__docgenInfo={description:"Renders a card from a table query",displayName:"GenericCard",props:{selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},useTypeColumnForIcon:{defaultValue:null,description:"",name:"useTypeColumnForIcon",required:!1,type:{name:"boolean"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"Record<string, number>"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},tableId:{defaultValue:null,description:"",name:"tableId",required:!0,type:{name:"string | undefined"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}}}}}catch{}class _i extends B.Component{constructor(n){super(n);je(this,"handleLinkClick",n=>a=>{a.preventDefault(),window.open(`${cr.PORTAL}#!Synapse:${n}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:a,selectColumns:r,columnModels:i,genericCardSchema:o,queryVisualizationContext:{getColumnDisplayName:s}}=this.props,l=n[a.datasetName],c=n[a.summary],u=En({columnName:"tumorType",value:n[a.tumorType],selectColumns:r,columnModels:i}).str,d=En({columnName:"diseaseFocus",value:n[a.diseaseFocus],selectColumns:r,columnModels:i}).str,p=n[a.id],f=n[a.fundingAgency],h=n[a.fileCount],v=vb(n[a.fileSize]),g=[["FUNDER",En({columnName:"fundingAgency",value:f,selectColumns:r,columnModels:i}).str],["SIZE",v],["FILES",h]];if(o&&o.secondaryLabels){const{secondaryLabels:b}=o;for(let E=0;E<b.length;E++){const y=b[E],_=n[a[y]];let w;if(_){w=s(y);const S=[w,_,y];g.push(S)}}}return L("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[L("div",{className:"SRC-cardThumbnail",children:[m(Hs,{type:Sb}),m("div",{children:v})]}),L("div",{className:"SRC-cardContent SRC-dataset",children:[m("div",{className:"SRC-type",children:"Dataset "}),m("div",{children:m("h3",{children:m("a",{target:"_self",href:`${cr.PORTAL}#!Synapse:${p}`,children:l})})}),L("div",{className:"SRC-description-dataset",children:[m("p",{className:"SRC-description-text",children:c}),m("div",{className:"SRC-cardAction bootstrap-4-backport",children:m(Qx,{className:"SRC-datasetButton",onClick:this.handleLinkClick(p),variant:"secondary",children:"Download Dataset"})})]}),m("div",{className:"SRC-cardAnnotations",children:m(Ix,{chips:[u,d]})})]}),m(Lp,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:g})]})}}try{_i.displayName="Dataset",_i.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class Wf extends B.Component{constructor(n){super(n);je(this,"handleLinkClick",n=>a=>{a.preventDefault(),window.open(n,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:a}=this.props,r=n[a.organizationName],i=n[a.organizationPath],o=n[a.summary],s=n[a.website],l=n[a.logo];let c=s.replace("https://","");c=c.replace("http://",""),c.charAt(c.length-1)==="/"&&(c=c.substring(0,c.length-1));const u=window.location.hash.substring(1)===i,d={};let p;return u?d.paddingBottom="42px":p=m("div",{className:"SRC-marginAuto SRC-cardAction",children:m(ha,{href:i,variant:"contained",color:"secondary",sx:{"&:hover":{color:"common.white"}},children:"View Funded Research"})}),L("div",{className:"SRC-portalCard SRC-typeFunder ",style:d,children:[L("div",{className:"SRC-cardContent",children:[m("div",{className:"SRC-type",children:"Organization"}),l&&m("div",{className:"SRC-cardThumbnail",children:m("img",{alt:"funder logo",className:"SRC-logo",src:l})}),m("div",{children:L("h3",{children:[u&&r,!u&&m("a",{href:i,children:r})]})}),m("div",{className:"SRC-website",children:m("a",{rel:"noopener noreferrer",target:"_blank",href:s,children:c})}),m("div",{className:"SRC-description",children:o})]}),p]})}}try{Wf.displayName="Funder",Wf.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{_i.displayName="Dataset",_i.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}const jf=({data:e,schema:t})=>{const n=e[t.submitterName],a=e[t.submitterUserId],r=e[t.time],i=e[t.timeUnits],o=e[t.text],s=e[t.tag];return L("div",{className:"SRC-portalCard ObservationCard",children:[L("div",{className:"ObservationCard__submitter",children:[!a&&m("div",{children:n}),a&&m(na,{size:"SMALL USER CARD",ownerId:a})]}),r&&L("div",{className:"ObservationCard__time",children:[m(Le,{icon:"time"}),L("span",{children:[`${r} ${i}`,Number(r)>1?"s":""]})]}),m("div",{className:"ObservationCard__text",children:m(Tx,{summary:o})}),m("div",{className:"ObservationCard__tags",children:s&&m("span",{className:"SRC-tag",children:s})})]})},Qf=()=>L("div",{className:"SRC-portalCard ObservationCard",children:[m("div",{className:"ObservationCard__submitter",children:m("span",{children:m(gn,{width:"100px"})})}),m("div",{className:"ObservationCard__time",children:m(Le,{icon:"time"})}),m("div",{className:"ObservationCard__text",children:m(Np,{numCols:1,numRows:4})}),m("div",{className:"ObservationCard__tags",children:m(gn,{width:"80px"})})]});try{jf.displayName="ObservationCard",jf.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, string>"}}}}}catch{}try{Qf.displayName="LoadingObservationCard",Qf.__docgenInfo={description:"",displayName:"LoadingObservationCard",props:{}}}catch{}function A8(e){const{propsToPass:t,type:n}=e;switch(n){case Sb:return m(_i,{...t});case l1:return m(Wf,{...t});case s1:return m(Rs,{...t});case zc:return m(jf,{...t});default:return m("div",{})}}const Ps=e=>{const{isHeader:t=!1,unitDescription:n,type:a,isLoading:r,secondaryLabelLimit:i=3,title:o,...s}=e,l=iM(),{NoContentPlaceholder:c}=mt(),{data:u,appendNextPageToResults:d,hasNextPage:p}=l,f=mt(),h=u!=null&&u.queryResult.queryResults.tableId?[u==null?void 0:u.queryResult.queryResults.tableId]:[],v=Wa({ids:h,type:"ENTITY_HEADER"});if(u){if(u&&u.queryResult.queryResults.rows.length===0)return m(c,{})}else return L("div",{children:[r&&a===zc&&m(Qf,{}),r&&a!==zc&&_p]});const g={};u.queryResult.queryResults.headers.forEach((y,_)=>{g[y.name]=_});const b=p&&m(ct,{display:"flex",justifyContent:"flex-end",children:m(ha,{variant:"contained",color:"secondary",size:"large",onClick:()=>{d()},children:"View More"})});let E;if(a===Zh){const y=u.queryResult.queryResults.headers.findIndex(w=>w.columnType===pe.USERID);if(y===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const _=u.queryResult.queryResults.rows.map(w=>w.values[y]);E=m(Gx,{data:u,list:_,size:Zh})}else{const y=u.queryResult.queryResults.rows;E=y.length?y.map((_,w)=>{const C={key:JSON.stringify(_.values),type:a,schema:g,isHeader:t,secondaryLabelLimit:i,rowId:_.rowId,data:_.values,selectColumns:u.selectColumns,columnModels:u.columnModels,tableEntityConcreteType:v[0]&&v[0].type,tableId:u==null?void 0:u.queryResult.queryResults.tableId,queryContext:l,queryVisualizationContext:f,...s};return m(A8,{propsToPass:C,type:a},_.rowId??w)}):m(Q,{})}return L("div",{role:"list",children:[o&&m("h2",{className:"SRC-card-overview-title",children:o}),!o&&n&&m(Si,{frontText:"Displaying"}),E,b]})};try{Ps.displayName="CardContainer",Ps.__docgenInfo={description:"",displayName:"CardContainer",props:{isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}}}}}catch{}var gC={exports:{}};(function(e,t){(function(a,r){e.exports=r()})(Kr,()=>(()=>{var n={887:o=>{o.exports=function(l){for(var c=5381,u=l.length;u;)c=33*c^l.charCodeAt(--u);return c>>>0}}},a={};function r(o){var s=a[o];if(s!==void 0)return s.exports;var l=a[o]={exports:{}};return n[o](l,l.exports,r),l.exports}r.n=o=>{var s=o&&o.__esModule?()=>o.default:()=>o;return r.d(s,{a:s}),s},r.d=(o,s)=>{for(var l in s)r.o(s,l)&&!r.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},r.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var i={};return(()=>{r.r(i),r.d(i,{default:()=>g});var o=r(887),s=r.n(o);function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(b)}function c(b,E){for(var y=0;y<E.length;y++){var _=E[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,f(_.key),_)}}function u(b,E,y){return E&&c(b.prototype,E),y&&c(b,y),Object.defineProperty(b,"prototype",{writable:!1}),b}function d(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function p(b,E,y){return(E=f(E))in b?Object.defineProperty(b,E,{value:y,enumerable:!0,configurable:!0,writable:!0}):b[E]=y,b}function f(b){var E=function(_,w){if(l(_)!=="object"||_===null)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var C=S.call(_,w||"default");if(l(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(_)}(b,"string");return l(E)==="symbol"?E:String(E)}var h,v=(h=0,function(){return h++}),g=u(function b(E){var y=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d(this,b),p(this,"ID","id"),p(this,"PX","px"),p(this,"RESIZABLE","grip-resizable"),p(this,"FLEX","grip-flex"),p(this,"legacyIE",navigator.userAgent.indexOf("Trident/4.0")>0),p(this,"reset",function(w){return y.init(w)}),p(this,"onResize",function(){var w=y.tb;if(w.classList.remove(y.RESIZABLE),w.opt.fixed){w.tableWidth=Number(window.getComputedStyle(w).width.replace(/px/,"")).valueOf();for(var S=0,C=0;C<w.columnCnt;C++)S+=w.columns[C].w;for(var x=0;x<w.columnCnt;x++)w.columns[x].style.width=Math.round(1e3*w.columns[x].w/S)/10+"%",w.columns[x].locked=!0,w.opt.currentWidths[x]=Number(window.getComputedStyle(w.columns[x]).width.replace(/px/,"")).valueOf()}else y.applyBounds(),w.opt.resizeMode==="flex"&&w.opt.serialize&&y.serializeStore();w.classList.add(y.RESIZABLE),y.syncGrips()}),p(this,"onGripMouseDown",function(w){var S=w.target.parentNode.data,C=y.tb,x=C.grips[S.i],T=w.touches;if(x.ox=T?T[0].pageX:w.pageX,x.l=x.offsetLeft,x.x=x.l,y.createStyle(document.querySelector("head"),"*{cursor:"+C.opt.dragCursor+"!important}"),document.addEventListener("touchmove",y.onGripDrag),document.addEventListener("mousemove",y.onGripDrag),document.addEventListener("touchend",y.onGripDragOver),document.addEventListener("mouseup",y.onGripDragOver),x.classList.add(C.opt.draggingClass),y.grip=x,C.columns[S.i].locked)for(var R,q=0;q<C.columnCnt;q++)(R=C.columns[q]).locked=!1,R.w=Number(window.getComputedStyle(R).width.replace(/px/,"")).valueOf();w.preventDefault()}),p(this,"onGripDrag",function(w){var S=y.grip;if(S){var C=S.t,x=w.touches,T=(x?x[0].pageX:w.pageX)-S.ox+S.l,R=C.opt.minWidth,q=S.i,k=1.5*C.cellSpace+R+C.borderSpace,I=q===C.columnCnt-1,N=q?C.grips[q-1].offsetLeft+C.cellSpace+R:k,$=C.opt.fixed?q===C.columnCnt-1?C.tableWidth-k:C.grips[q+1].offsetLeft-C.cellSpace-R:1/0;if(T=Math.max(N,Math.min($,T)),S.x=T,S.style.left=T+y.PX,I&&(S.w=C.columns[q].w+T-S.l),C.opt.liveDrag){I?(C.columns[q].style.width=S.w+y.PX,!C.opt.fixed&&C.opt.overflow?C.style.minWidth=C.tableWidth+T-S.l+y.PX:C.tableWidth=Number(window.getComputedStyle(C).width.replace(/px/,"")).valueOf()):y.syncCols(C,q,!1,C.opt),y.syncGrips();var F=C.opt.onDrag;F&&F(w)}w.preventDefault()}}),p(this,"onGripDragOver",function(w){var S=y.grip;document.removeEventListener("touchend",y.onGripDragOver),document.removeEventListener("mouseup",y.onGripDragOver),document.removeEventListener("touchmove",y.onGripDrag),document.removeEventListener("mousemove",y.onGripDrag);var C=document.querySelector("head").lastChild;if(C.parentNode.removeChild(C),S){if(S.classList.remove(S.t.opt.draggingClass),S.x-S.l!=0){var x=S.t,T=x.opt.onResize,R=S.i;if(R===x.columnCnt-1){var q=x.columns[R];q.style.width=S.w+y.PX,q.w=S.w}else y.syncCols(x,R,!0,x.opt);x.opt.fixed||y.applyBounds(),y.syncGrips(),T&&T(w),x.opt.serialize&&y.serializeStore()}y.grip=null}}),p(this,"init",function(w){if(w.disable)return y.destroy();var S=y.tb,C=S.getAttribute(y.ID)||y.RESIZABLE+v();if(!S.matches("table")||S.extended&&!w.partialRefresh)return null;var x=document.querySelector("head");if(y.createStyle(x," .grip-resizable{table-layout:fixed;} .grip-resizable > tbody > tr > td, .grip-resizable > tbody > tr > th{overflow:hidden} .grip-padding > tbody > tr > td, .grip-padding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .grip-container{ height:0px; position:relative;} .grip-handle{margin-left:-5px; position:absolute; z-index:5; } .grip-handle .grip-resizable{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .grip-lastgrip{position:absolute; width:1px; } .grip-drag{ border-left:1px dotted black;	} .grip-flex{width:auto!important;} .grip-handle.grip-disabledgrip .grip-resizable{cursor:default; display:none;}"),w.hoverCursor&&w.hoverCursor!=="col-resize"){var T=".grip-handle .grip-resizable:hover{cursor:"+w.hoverCursor+"!important}";y.createStyle(x,T)}S.setAttribute(y.ID,C);var R=S.opt;S.opt=y.extendOptions(w);var q=y.getTableHeaders(S);if(y.extendTable(q),w.remoteTable&&w.remoteTable.matches("table")){var k=y.getTableHeaders(S.opt.remoteTable);q.length===k.length?y.extendRemoteTable(S.opt.remoteTable,k,S):console.warn("column count for remote table did not match")}return R}),p(this,"applyBounds",function(){var w=y.tb,S=w.columns.map(function(C){return window.getComputedStyle(C).width});w.style.width=window.getComputedStyle(w).width,w.tableWidth=Number(w.style.width.replace(/px/,"")).valueOf(),w.classList.remove(y.FLEX),w.columns.forEach(function(C,x){C.style.width=S[x];var T=Number(S[x].replace(/px/,"")).valueOf();C.w=T,w.opt.currentWidths[x]=T}),w.classList.add(y.FLEX)}),p(this,"serializeStore",function(){var w=y.store,S=y.tb;w[S.getAttribute(y.ID)]="";for(var C=0,x=0;x<S.columns.length;x++){var T=window.getComputedStyle(S.columns[x]).width.replace(/px/,"");w[S.getAttribute(y.ID)]+=T+";",C+=Number(T).valueOf()}w[S.getAttribute(y.ID)]+=C.toString(),S.opt.fixed||(w[S.getAttribute(y.ID)]+=";"+window.getComputedStyle(S).width.replace(/px/,""))}),p(this,"syncGrips",function(){var w=y.tb;w.gripContainer.style.width=w.tableWidth+y.PX;for(var S=0;S<w.columnCnt;S++){var C=w.columns[S],x=C.getBoundingClientRect(),T=w.getBoundingClientRect();w.grips[S].style.left=x.left-T.left+C.offsetWidth+w.cellSpace/2+y.PX,w.grips[S].style.height=(w.opt.headerOnly?w.columns[0].offsetHeight:w.offsetHeight)+y.PX}}),p(this,"destroy",function(){var w=y.tb,S=w.getAttribute(y.ID);return S?(y.store[S]="",w.classList.remove(y.RESIZABLE),w.classList.remove(y.FLEX),w.remote&&(w.remote.classList.remove(y.RESIZABLE),w.remote.classList.remove(y.FLEX)),w.gripContainer&&w.gripContainer.parentNode&&w.gripContainer.parentNode.removeChild(w.gripContainer),delete w.extended,w.opt):null}),p(this,"createStyle",function(w,S){var C=s()(S).toString(),x=w.querySelectorAll("style"),T=Array.from(x).filter(function(q){return q.gripid===C});if(!T.length){var R=document.createElement("style");R.type="text/css",R.gripid=C,R.styleSheet?R.styleSheet.cssText=S:R.appendChild(document.createTextNode(S)),w.appendChild(R)}}),p(this,"extendOptions",function(w){var S=Object.assign({},b.DEFAULTS,w);switch(S.fixed=!0,S.overflow=!1,S.resizeMode){case"flex":S.fixed=!1;break;case"overflow":S.fixed=!1,S.overflow=!0}return S}),p(this,"getTableHeaders",function(w){var S="#"+w.id,C=Array.from(w.querySelectorAll(S+">thead>tr:nth-of-type(1)>th"));return(C=C.concat(Array.from(w.querySelectorAll(S+">thead>tr:nth-of-type(1)>td")))).length||(C=(C=(C=(C=Array.from(w.querySelectorAll(S+">tbody>tr:nth-of-type(1)>th"))).concat(Array.from(w.querySelectorAll(S+">tr:nth-of-type(1)>th")))).concat(Array.from(w.querySelectorAll(S+">tbody>tr:nth-of-type(1)>td")))).concat(Array.from(w.querySelectorAll(S+">tr:nth-of-type(1)>td")))),y.filterInvisible(C,!1)}),p(this,"filterInvisible",function(w,S){return w.filter(function(C){var x=S?-1:C.offsetWidth,T=S?-1:C.offsetHeight;return!(x===0&&T===0||C.style&&C.style.display&&window.getComputedStyle(C).display==="none")})}),p(this,"extendTable",function(w){var S=y.tb;S.opt.removePadding&&S.classList.add("grip-padding"),S.classList.add(y.RESIZABLE),S.insertAdjacentHTML("beforebegin",'<div class="grip-container"/>'),S.grips=[],S.columns=[],S.tableWidth=Number(window.getComputedStyle(S).width.replace(/px/,"")).valueOf(),S.gripContainer=S.previousElementSibling,S.opt.marginLeft&&(S.gripContainer.style.marginLeft=S.opt.marginLeft),S.opt.marginRight&&(S.gripContainer.style.marginRight=S.opt.marginRight),S.cellSpace=parseInt(y.legacyIE?S.cellSpacing||S.currentStyle.borderSpacing:window.getComputedStyle(S).borderSpacing.split(" ")[0].replace(/px/,""))||2,S.borderSpace=parseInt(y.legacyIE?S.border||S.currentStyle.borderLeftWidth:window.getComputedStyle(S).borderLeftWidth.replace(/px/,""))||1,S.extended=!0,y.createGrips(w)}),p(this,"extendRemoteTable",function(w,S,C){C.opt.removePadding&&w.classList.add("grip-padding"),w.classList.add(y.RESIZABLE),w.getAttribute(y.ID)||w.setAttribute(y.ID,C.getAttribute(y.ID)+"remote"),w.columns=[],S.forEach(function(T,R){var q=S[R];q.w=C.columns[R].w,q.style.width=q.w+y.PX,q.removeAttribute("width"),w.columns.push(q)}),w.tableWidth=C.tableWidth,w.cellSpace=C.cellSpace,w.borderSpace=C.borderSpace;var x=Array.from(w.querySelectorAll("col"));w.columnGrp=y.filterInvisible(x,!0),w.columnGrp.forEach(function(T,R){T.removeAttribute("width"),T.style.width=C.columnGrp[R].style.width}),C.remote=w}),p(this,"createGrips",function(w){var S=y.tb;S.columnGrp=y.filterInvisible(Array.from(S.querySelectorAll("col")),!0),S.columnGrp.forEach(function(T){T.removeAttribute("width")}),S.columnCnt=w.length;var C=!1;y.store[S.getAttribute(y.ID)]&&(y.deserializeStore(w),C=!0),w.forEach(function(T,R){var q=w[R],k=S.opt.disabledColumns.indexOf(R)!==-1;y.createDiv(S.gripContainer,"grip-handle");var I=S.gripContainer.lastChild;!k&&S.opt.gripInnerHtml&&(I.innerHTML=S.opt.gripInnerHtml),y.createDiv(I,y.RESIZABLE),R===S.columnCnt-1&&(I.classList.add("grip-lastgrip"),S.opt.fixed&&(I.innerHTML="")),I.addEventListener("touchstart",y.onGripMouseDown,{capture:!0,passive:!0}),I.addEventListener("mousedown",y.onGripMouseDown,!0),k?I.classList.add("grip-disabledgrip"):(I.classList.remove("grip-disabledgrip"),I.addEventListener("touchstart",y.onGripMouseDown,{capture:!0,passive:!0}),I.addEventListener("mousedown",y.onGripMouseDown,!0)),I.t=S,I.i=R,S.opt.widths[R]?q.w=S.opt.widths[R]:q.w=C?Number(q.style.width.replace(/px/,"")).valueOf():Number(window.getComputedStyle(q).width.replace(/px/,"")).valueOf(),S.opt.currentWidths[R]=q.w,q.style.width=q.w+y.PX,q.removeAttribute("width"),I.data={i:R,t:S.getAttribute(y.ID),last:R===S.columnCnt-1},S.grips.push(I),S.columns.push(q)});var x=Array.from(S.querySelectorAll("td"));x.concat(Array.from(S.querySelectorAll("th"))),(x=(x=x.filter(function(T){for(var R=0;R<w.length;R++)if(w[R]===T)return!1;return!0})).filter(function(T){return!(T.querySelectorAll("table th").length||T.querySelectorAll("table td").length)})).forEach(function(T){T.removeAttribute("width")}),S.opt.fixed||(S.removeAttribute("width"),S.classList.add(y.FLEX)),y.syncGrips()}),p(this,"deserializeStore",function(w){var S=y.tb;if(S.columnGrp.forEach(function(R){R.removeAttribute("width")}),S.opt.flush)y.store[S.getAttribute(y.ID)]="";else{var C=y.store[S.getAttribute(y.ID)].split(";"),x=C[S.columnCnt+1];!S.opt.fixed&&x&&(S.style.width=x+y.PX,S.opt.overflow&&(S.style.minWidth=x+y.PX,S.tableWidth=Number(x).valueOf()));for(var T=0;T<S.columnCnt;T++)w[T].style.width=C[T]+y.PX,S.columnGrp[T]&&(S.columnGrp[T].style.width=100*Number(C[T]).valueOf()/Number(C[S.columnCnt]).valueOf()+"%")}}),p(this,"createDiv",function(w,S,C){var x=document.createElement("div");x.classList.add(S),C&&(x.innerHTML=C),w.appendChild(x)}),p(this,"syncCols",function(w,S,C,x){var T=w.remote,R=y.grip.x-y.grip.l,q=w.columns[S],k=w.columns[S+1];if(q&&k){var I=q.w+R,N=k.w-R,$=I+y.PX;if(q.style.width=$,w.columnGrp[S]&&w.columnGrp[S].style.width&&(w.columnGrp[S].style.width=$),T&&(T.columns[S].style.width=$,T.columnGrp[S]&&T.columnGrp[S].style.width&&(T.columnGrp[S].style.width=$)),x.fixed){var F=N+y.PX;k.style.width=F,w.columnGrp[S+1]&&w.columnGrp[S+1].style.width&&(w.columnGrp[S+1].style.width=F),T&&(T.columns[S+1].style.width=F,T.columnGrp[S+1]&&T.columnGrp[S+1].style.width&&(T.columnGrp[S+1].style.width=F))}else x.overflow&&(w.style.minWidth=w.tableWidth+R+y.PX);C&&(q.w=I,k.w=x.fixed?N:k.w,T&&(T.columns[S].w=I,T.columns[S+1].w=x.fixed?N:k.w))}});try{this.store=sessionStorage}catch{this.store={}}this.grip=null,this.tb=E,window.addEventListener("resize",this.onResize),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),this.init(_)});g.DEFAULTS={resizeMode:"fit",draggingClass:"grip-drag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"col-resize",dragCursor:"col-resize",flush:!1,marginLeft:null,marginRight:null,remoteTable:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,widths:[],currentWidths:[],serialize:!0,onDrag:null,onResize:null}})(),i})())})(gC);var k8=gC.exports;const $8=It(k8),Gf=e=>{const{entityId:t,entityVersionNumber:n}=e,{accessToken:a}=Ve(),r=!!a,{data:i}=Ri(t,n),{mutate:o}=sx({onSuccess:()=>{Zr(`${(i==null?void 0:i.name)??t} was successfully added to your Download Cart.`,"success")},onError:s=>{Zr(`Unable to add the file to your Download Cart. ${s.reason}`,"danger")}});return r?m(Q,{children:m(Ct,{title:"Add this file to your Download Cart",placement:"right",enterNextDelay:300,children:m(Kt,{"data-testid":"AddToDownloadListV2",onClick:()=>{o({entityId:t,entityVersionNumber:n})},className:"ignoreLink",children:m(Le,{icon:"addToCart"})})})}):m(Q,{})};try{Gf.displayName="AddToDownloadListV2",Gf.__docgenInfo={description:"",displayName:"AddToDownloadListV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var Yf={exports:{}};(function(e,t){(function(n,a){var r="1.0.33",i="",o="?",s="function",l="undefined",c="object",u="string",d="major",p="model",f="name",h="type",v="vendor",g="version",b="architecture",E="console",y="mobile",_="tablet",w="smarttv",S="wearable",C="embedded",x=350,T="Amazon",R="Apple",q="ASUS",k="BlackBerry",I="Browser",N="Chrome",$="Edge",F="Firefox",A="Google",V="Huawei",O="LG",U="Microsoft",H="Motorola",G="Opera",X="Samsung",Y="Sharp",K="Sony",J="Xiaomi",ne="Zebra",fe="Facebook",ye=function(ee,ue){var de={};for(var Ne in ee)ue[Ne]&&ue[Ne].length%2===0?de[Ne]=ue[Ne].concat(ee[Ne]):de[Ne]=ee[Ne];return de},ie=function(ee){for(var ue={},de=0;de<ee.length;de++)ue[ee[de].toUpperCase()]=ee[de];return ue},ve=function(ee,ue){return typeof ee===u?Ae(ue).indexOf(Ae(ee))!==-1:!1},Ae=function(ee){return ee.toLowerCase()},he=function(ee){return typeof ee===u?ee.replace(/[^\d\.]/g,i).split(".")[0]:a},te=function(ee,ue){if(typeof ee===u)return ee=ee.replace(/^\s\s*/,i),typeof ue===l?ee:ee.substring(0,x)},me=function(ee,ue){for(var de=0,Ne,ge,ht,Se,We,Be;de<ue.length&&!We;){var Z=ue[de],re=ue[de+1];for(Ne=ge=0;Ne<Z.length&&!We;)if(We=Z[Ne++].exec(ee),We)for(ht=0;ht<re.length;ht++)Be=We[++ge],Se=re[ht],typeof Se===c&&Se.length>0?Se.length===2?typeof Se[1]==s?this[Se[0]]=Se[1].call(this,Be):this[Se[0]]=Se[1]:Se.length===3?typeof Se[1]===s&&!(Se[1].exec&&Se[1].test)?this[Se[0]]=Be?Se[1].call(this,Be,Se[2]):a:this[Se[0]]=Be?Be.replace(Se[1],Se[2]):a:Se.length===4&&(this[Se[0]]=Be?Se[3].call(this,Be.replace(Se[1],Se[2])):a):this[Se]=Be||a;de+=2}},we=function(ee,ue){for(var de in ue)if(typeof ue[de]===c&&ue[de].length>0){for(var Ne=0;Ne<ue[de].length;Ne++)if(ve(ue[de][Ne],ee))return de===o?a:de}else if(ve(ue[de],ee))return de===o?a:de;return ee},ae={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ye={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ke={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,G+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,G]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[f,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[f,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+I],g],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,fe],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,N+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,we,ae]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Ae]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,i,Ae]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[v,X],[h,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[v,X],[h,y]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[v,R],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[v,R],[h,_]],[/(macintosh);/i],[p,[v,R]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[v,V],[h,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[v,V],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[v,J],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[v,J],[h,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[v,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[v,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[v,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[v,H],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[v,H],[h,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[v,O],[h,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[v,O],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[v,"Lenovo"],[h,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[v,"Nokia"],[h,y]],[/(pixel c)\b/i],[p,[v,A],[h,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[v,A],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,K],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[v,K],[h,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[v,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[v,T],[h,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[v,T],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[p,v,[h,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[v,k],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[v,q],[h,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[v,q],[h,y]],[/(nexus 9)/i],[p,[v,"HTC"],[h,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[p,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[v,"Acer"],[h,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[v,"Meizu"],[h,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[v,Y],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,p,[h,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,p,[h,_]],[/(surface duo)/i],[p,[v,U],[h,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[v,"Fairphone"],[h,y]],[/(u304aa)/i],[p,[v,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[p,[v,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[p,[v,"RCA"],[h,_]],[/\b(venue[\d ]{2,7}) b/i],[p,[v,"Dell"],[h,_]],[/\b(q(?:mv|ta)\w+) b/i],[p,[v,"Verizon"],[h,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[v,"Barnes & Noble"],[h,_]],[/\b(tm\d{3}\w+) b/i],[p,[v,"NuVision"],[h,_]],[/\b(k88) b/i],[p,[v,"ZTE"],[h,_]],[/\b(nx\d{3}j) b/i],[p,[v,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[p,[v,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[p,[v,"Swiss"],[h,_]],[/\b((zeki)?tb.*\b) b/i],[p,[v,"Zeki"],[h,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],p,[h,_]],[/\b(ns-?\w{0,9}) b/i],[p,[v,"Insignia"],[h,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[v,"NextBook"],[h,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],p,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],p,[h,y]],[/\b(ph-1) /i],[p,[v,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[v,"Envizen"],[h,_]],[/\b(trio[-\w\. ]+) b/i],[p,[v,"MachSpeed"],[h,_]],[/\btu_(1491) b/i],[p,[v,"Rotor"],[h,_]],[/(shield[\w ]+) b/i],[p,[v,"Nvidia"],[h,_]],[/(sprint) (\w+)/i],[v,p,[h,y]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,U],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[v,ne],[h,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[v,ne],[h,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,p,[h,E]],[/droid.+; (shield) bui/i],[p,[v,"Nvidia"],[h,E]],[/(playstation [345portablevi]+)/i],[p,[v,K],[h,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[v,U],[h,E]],[/smart-tv.+(samsung)/i],[v,[h,w]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,X],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,O],[h,w]],[/(apple) ?tv/i],[v,[p,R+" TV"],[h,w]],[/crkey/i],[[p,N+"cast"],[v,A],[h,w]],[/droid.+aft(\w)( bui|\))/i],[p,[v,T],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[v,Y],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[p,[v,K],[h,w]],[/(mitv-\w{5}) bui/i],[p,[v,J],[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,te],[p,te],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/((pebble))app/i],[v,p,[h,S]],[/droid.+; (glass) \d/i],[p,[v,A],[h,S]],[/droid.+; (wt63?0{2,3})\)/i],[p,[v,ne],[h,S]],[/(quest( 2)?)/i],[p,[v,fe],[h,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[h,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,$+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[g,we,Ye]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[g,we,Ye]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[f,N+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,g]]},He=function(ee,ue){if(typeof ee===c&&(ue=ee,ee=a),!(this instanceof He))return new He(ee,ue).getResult();var de=ee||(typeof n!==l&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:i),Ne=ue?ye(ke,ue):ke;return this.getBrowser=function(){var ge={};return ge[f]=a,ge[g]=a,me.call(ge,de,Ne.browser),ge.major=he(ge.version),ge},this.getCPU=function(){var ge={};return ge[b]=a,me.call(ge,de,Ne.cpu),ge},this.getDevice=function(){var ge={};return ge[v]=a,ge[p]=a,ge[h]=a,me.call(ge,de,Ne.device),ge},this.getEngine=function(){var ge={};return ge[f]=a,ge[g]=a,me.call(ge,de,Ne.engine),ge},this.getOS=function(){var ge={};return ge[f]=a,ge[g]=a,me.call(ge,de,Ne.os),ge},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return de},this.setUA=function(ge){return de=typeof ge===u&&ge.length>x?te(ge,x):ge,this},this.setUA(de),this};He.VERSION=r,He.BROWSER=ie([f,g,d]),He.CPU=ie([b]),He.DEVICE=ie([p,v,h,E,y,w,_,S,C]),He.ENGINE=He.OS=ie([f,g]),e.exports&&(t=e.exports=He),t.UAParser=He;var ut=typeof n!==l&&(n.jQuery||n.Zepto);if(ut&&!ut.ua){var $e=new He;ut.ua=$e.getResult(),ut.ua.get=function(){return $e.getUA()},ut.ua.set=function(ee){$e.setUA(ee);var ue=$e.getResult();for(var de in ue)ut.ua[de]=ue[de]}}})(typeof window=="object"?window:Kr)})(Yf,Yf.exports);var q8=Yf.exports;const As=e=>{const{accessToken:t}=Ve(),{associatedObjectId:n,entityVersionNumber:a,associatedObjectType:r,fileHandleId:i,displayFileName:o,onClickCallback:s}=e,{ref:l,inView:c}=ga(),[u,d]=P.useState(!1),[p,f]=P.useState(!1),[h,v]=P.useState(),[g,b]=P.useState(),[E,y]=P.useState("");let _=!0;P.useEffect(()=>(_&&c&&x(),()=>{_=!1}),[t,c]);const w=async()=>{let R;const k=new q8.UAParser().getBrowser().name=="Safari";let I=null;k&&(I=window.open("","Safari Download","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200"),I.document.body.innerHTML="Downloading file on Safari...");try{r===lr.TableEntity?R=(await C(!0)).requestedFiles[0].preSignedURL:R=(await Kh(h,t,!1,!0)).preSignedURL}catch(N){console.log("Fail to get file download link: ",N)}R?(k&&I?(I.location=R,setTimeout(()=>{I&&I.close()},1e4)):window.open(R),s&&s(u)):(I==null||I.close(),console.log("Fail to get file download link"))},S=R=>R&&!R.isPreview?(f(!0),!0):(f(!1),!1),C=(R=!1)=>yp({includeFileHandles:!0,includePreSignedURLs:R,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:n,associateObjectType:r,fileHandleId:i}]},t),x=()=>Xa(t,n,a).then(async R=>{if(Object.hasOwn(R,"dataFileHandleId"))return v(R),Kh(R,t,!0).then(q=>{const k=q.fileHandle;k&&S(k)&&YC(k)&&(d(!0),b(k.externalURL))}).catch(q=>{console.log("Error on getFileEntityFileHandle = ",q)});if(r===lr.TableEntity){const k=(await C()).requestedFiles[0].fileHandle;o&&k&&S(k)&&y(k.fileName)}return Promise.resolve()}).catch(R=>{console.log("Error on getEntity = ",R)});return m(Ct,{title:u?"Navigate to external link":"Download this file individually",enterNextDelay:Lo,placement:"left",children:m("span",{ref:l,children:(()=>u?m("button",{className:"btn-download-icon",onClick:()=>{s&&s(u)},children:m("a",{className:"ignoreLink",rel:"noreferrer",href:g,target:"_blank",children:m(Le,{icon:"openInNewWindow"})})}):p?L("button",{className:"btn-download-icon",onClick:()=>{w()},children:[m(Le,{icon:"download"}),o&&E?E:""]}):m(Q,{}))()})})};try{As.displayName="DirectDownload",As.__docgenInfo={description:"",displayName:"DirectDownload",props:{associatedObjectId:{defaultValue:null,description:"",name:"associatedObjectId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},associatedObjectType:{defaultValue:null,description:"",name:"associatedObjectType",required:!1,type:{name:"enum",value:[{value:'"FileEntity"'},{value:'"TableEntity"'},{value:'"WikiAttachment"'},{value:'"WikiMarkdown"'},{value:'"UserProfileAttachment"'},{value:'"MessageAttachment"'},{value:'"TeamAttachment"'},{value:'"SubmissionAttachment"'},{value:'"VerificationSubmission"'},{value:'"AccessRequirementAttachment"'},{value:'"DataAccessRequestAttachment"'},{value:'"DataAccessSubmissionAttachment"'}]}},fileHandleId:{defaultValue:null,description:"",name:"fileHandleId",required:!1,type:{name:"string"}},displayFileName:{defaultValue:null,description:"",name:"displayFileName",required:!1,type:{name:"boolean"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"((isExternalLink: boolean) => void)"}}}}}catch{}const F8={AccessBlockedToAnonymous:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must sign in to access this file."},AccessBlockedByRestriction:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must request access to this restricted file."},AccessBlockedByACL:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You do not have download access for this item."},Accessible:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""},NoFileHandle:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""}};function Jy(e){const{downloadType:t}=e,n=Us();if(t){const a=F8[t];return m(Le,{icon:a.icon,label:a.tooltipText,sx:{color:a.color(n),height:"16px",verticalAlign:"text-top"}})}return m(Q,{})}function Xf(e,t){const[n,a]=B.useState(),{accessToken:r}=Ve(),i=parseInt(t??""),{data:o,error:s}=Iw(e,Number.isNaN(i)?void 0:i,{includeEntity:!0,includePermissions:!0}),l=B.useMemo(()=>({restrictableObjectType:yb.ENTITY,objectId:e}),[e]),{data:c}=aw(l),u=o==null?void 0:o.entity,d=o==null?void 0:o.permissions;return B.useEffect(()=>{c&&c.hasUnmetAccessRequirement?a("AccessBlockedByRestriction"):u&&(d!=null&&d.canDownload)?Sp(u)&&u.dataFileHandleId?a("Accessible"):a("NoFileHandle"):d&&!d.canDownload&&a(r?"AccessBlockedByACL":"AccessBlockedToAnonymous")},[r,u,s,d,c]),n}function Kf(e){const[t,n]=B.useState(!1),[a,r]=B.useState([]),{entityId:i,entityVersionNumber:o}=e,s=Xf(i,o),{accessToken:l}=Ve(),c=B.useMemo(()=>({restrictableObjectType:yb.ENTITY,objectId:i}),[i]),{data:u}=aw(c),d=()=>{Je.getAllAccessRequirements(l,i).then(h=>{vf(h)?window.open(`${h1(m1.PORTAL_ENDPOINT)}#!AccessRequirements:ID=${i}&TYPE=ENTITY`,"_blank"):(r(h),n(!0))})},p=P.useMemo(()=>{if(!u)return m(Q,{});const h=u==null?void 0:u.hasUnmetAccessRequirement,v=u==null?void 0:u.restrictionLevel;let g="";if(h)g="Request Access";else{if(BC.OPEN===v)return m(Q,{});g="View Terms"}return L(Q,{children:[m("a",{style:{fontSize:"14px",cursor:"pointer",marginLeft:"5px",verticalAlign:"top"},className:e.className,onClick:d,children:g}),t&&m(yi,{entityId:i,accessRequirementFromProps:a,renderAsModal:!0,onHide:()=>{n(!1)}})]})},[i,u,a,t]);return s===void 0?m(Q,{}):L("span",{style:{whiteSpace:"nowrap"},children:[s==="AccessBlockedToAnonymous"?m("button",{type:"button",className:Cp,onClick:h=>{if(h.isTrusted){const v=new MouseEvent("click",{bubbles:!0});h.currentTarget.dispatchEvent(v)}},children:m(Jy,{downloadType:s})}):m(Jy,{downloadType:s}),p]})}try{Xf.displayName="useGetFileHandleDownloadType",Xf.__docgenInfo={description:`Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.

To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx }`,displayName:"useGetFileHandleDownloadType",props:{}}}catch{}try{Kf.displayName="HasAccessV2",Kf.__docgenInfo={description:`HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,
then a link will be shown that opens a modal with steps to request access.`,displayName:"HasAccessV2",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Zf=e=>{const{accessToken:t}=Ve(),{entityIdList:n}=e,[a,r]=P.useState([m(Q,{})]),{ref:i,inView:o}=ga();let s=!0;P.useEffect(()=>(o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n.length&&zC(n,t).then(c=>{if(s){const u=c.results.map(d=>m("p",{children:m(Wc,{entity:d,displayTextField:"name"})},d.id));r(u)}}).catch(c=>{console.log("EntityIdList: Error getting entity headers",c)})};return m("span",{ref:i,children:a})};try{Zf.displayName="EntityIdList",Zf.__docgenInfo={description:"",displayName:"EntityIdList",props:{entityIdList:{defaultValue:null,description:"",name:"entityIdList",required:!0,type:{name:"string[]"}}}}}catch{}const Jf=e=>{const{accessToken:t}=Ve(),{evaluationId:n}=e,[a,r]=P.useState(),{ref:i,inView:o}=ga();let s=!0;P.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n&&UC(n,t).then(c=>{r(c.name)}).catch(c=>{console.log("EvaluationIdListRenderer: Error getting evaluation queue names",c)})};return m("span",{ref:i,children:a})};try{Jf.displayName="EvaluationIdRenderer",Jf.__docgenInfo={description:"",displayName:"EvaluationIdRenderer",props:{evaluationId:{defaultValue:null,description:"",name:"evaluationId",required:!0,type:{name:"string"}}}}}catch{}const ep=e=>{const{accessToken:t}=Ve(),{userIds:n}=e,[a,r]=P.useState(),{ref:i,inView:o}=ga();let s=!0;P.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n.length&&HC(n,t).then(c=>{const u=c.list.map(d=>m(bb,{userProfile:d,className:"SRC-marginFifteen"},d.ownerId));r(u)}).catch(c=>{console.log("UserIdList: Error getting user profiles",c)})};return m("span",{ref:i,children:a})};try{ep.displayName="UserIdList",ep.__docgenInfo={description:"",displayName:"UserIdList",props:{userIds:{defaultValue:null,description:"",name:"userIds",required:!0,type:{name:"string[]"}}}}}catch{}const tp=({columnType:e,columnValue:t,isBold:n,mapEntityIdToHeader:a,mapUserIdToHeader:r,columnLinkConfig:i,columnName:o,selectColumns:s,columnModels:l,rowData:c,rowId:u,rowVersionNumber:d})=>{const{entity:p}=yt();if(!t)return L("p",{className:"SRC-inactive",children:[" ",ax]});if(i)return m(Ts,{value:t,columnName:o,selectColumns:s,columnModels:l,isHeader:!1,labelLink:i,rowData:c,rowId:u});if(p&&(jn(p)||aa(p)||Ib(p))&&(o==="id"||o==="name")&&u&&d){const f=`syn${u.toString()}`,h=a[f]??f;return m("p",{children:m(Wc,{entity:h,versionNumber:d,className:`${n}`,showIcon:!1,displayTextField:o})})}switch(e){case pe.ENTITYID:return m("p",{children:m(Wc,{entity:a[t]??t,className:`${n}`,displayTextField:"name"})});case pe.DATE_LIST:{const f=JSON.parse(t);return L("p",{children:[f.map((h,v)=>L("span",{className:n,children:[Za(ur(Number(h))),v!==f.length-1?", ":""]},v))," "]})}case pe.BOOLEAN_LIST:{const f=JSON.parse(t);return m("p",{children:f.map((h,v)=>L("span",{className:n,children:[h?"true":"false",v!==f.length-1?", ":""]},v))})}case pe.FILEHANDLEID:return m(Q,{children:p&&m(As,{associatedObjectId:p.id,associatedObjectType:lr.TableEntity,fileHandleId:t,displayFileName:!0})});case pe.ENTITYID_LIST:{const f=JSON.parse(t);return m("p",{children:m(Zf,{entityIdList:f})})}case pe.USERID_LIST:{const f=JSON.parse(t);return m(ep,{userIds:f})}case pe.STRING_LIST:case pe.INTEGER_LIST:{const f=JSON.parse(t);return m("p",{className:n,children:f.map((h,v)=>L(B.Fragment,{children:[h,v!==f.length-1?", ":""]},h))})}case pe.EVALUATIONID:return m(Jf,{evaluationId:t});case pe.DATE:return m("p",{className:n,children:Za(ur(Number(t)))});case pe.USERID:if(Object.prototype.hasOwnProperty.call(r,t)){const{ownerId:f,userName:h}=r[t];if(r[t].isIndividual===!1){const v=h===Jh?"public":"people";return h===Jh?L("span",{children:[m(Le,{icon:v})," All registered Synapse users"]}):L("a",{target:"_blank",rel:"noopener noreferrer",href:`${cr.PORTAL}#!Team:${f}`,children:[m(Le,{icon:v})," ",h]})}else return m(na,{userProfile:r[t],preSignedURL:r[t].clientPreSignedURL,size:"SMALL USER CARD"})}break;case pe.LINK:return m("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:t});case pe.STRING:case pe.DOUBLE:case pe.INTEGER:case pe.BOOLEAN:case pe.MEDIUMTEXT:case pe.LARGETEXT:return m("p",{className:n,children:t});default:return console.warn(`ColumnType ${e} has unspecified handler. Rendering the column value.`),m("p",{className:n,children:t})}return m("p",{className:n,children:t})};try{tp.displayName="SynapseTableCell",tp.__docgenInfo={description:"",displayName:"SynapseTableCell",props:{columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'}]}},columnValue:{defaultValue:null,description:"",name:"columnValue",required:!0,type:{name:"string | null"}},isBold:{defaultValue:null,description:"",name:"isBold",required:!0,type:{name:"string"}},columnLinkConfig:{defaultValue:null,description:"",name:"columnLinkConfig",required:!1,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink"}},mapEntityIdToHeader:{defaultValue:null,description:"",name:"mapEntityIdToHeader",required:!0,type:{name:"Record<string, EntityHeader>"}},mapUserIdToHeader:{defaultValue:null,description:"",name:"mapUserIdToHeader",required:!0,type:{name:"Partial<UserGroupHeader & UserProfile>"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},rowVersionNumber:{defaultValue:null,description:"",name:"rowVersionNumber",required:!1,type:{name:"number"}}}}}catch{}const eb=(e,...t)=>{var a;const n=[];return(a=e==null?void 0:e.selectColumns)==null||a.forEach((r,i)=>{t.includes(r.columnType)&&n.push(i)}),n},tb=(e,t,n)=>{var r;const a=new Set;return(r=e.queryResult)==null||r.queryResults.rows.forEach(i=>{i.values.forEach((o,s)=>{o!=null&&n.includes(s)&&!Object.prototype.hasOwnProperty.call(t,o)&&o&&a.add(o)})}),a},D8=()=>{const{data:e,goToPage:t,pageSize:n,setPageSize:a,currentPage:r}=aM(),i=e==null?void 0:e.queryCount,o=(l,c)=>{t(c)},s=l=>{const c=l.target.value;a(c)};return r==1&&i&&i<10?m(Q,{}):L("div",{children:[m(IN,{page:r,count:Math.ceil(i/n),color:"secondary",onChange:o,style:{display:"inline-block",float:"left"}}),m(Fe,{variant:"body1",style:{display:"inline-block"},children:`${i==null?void 0:i.toLocaleString()} total rows /`}),L("select",{name:"page size",onChange:s,style:{padding:"4px",marginLeft:"4px"},value:n,children:[m("option",{value:10,children:"10 per page"}),m("option",{value:25,children:"25 per page"}),m("option",{value:100,children:"100 per page"}),m("option",{value:500,children:"500 per page"})]})]})},rp=e=>{const{onCopy:t}=e;return m(Ct,{title:"Copy IDs to the clipboard",enterNextDelay:Lo,placement:"right",children:m("span",{children:m("button",{"data-testid":"copySynIdsButton",onClick:t,children:m("span",{style:{height:15,marginTop:-1},children:m(Le,{icon:"contentCopy"})})})})})};try{rp.displayName="InteractiveCopyIdsIcon",rp.__docgenInfo={description:"",displayName:"InteractiveCopyIdsIcon",props:{onCopy:{defaultValue:null,description:"",name:"onCopy",required:!0,type:{name:"() => void"}}}}}catch{}const O8=()=>{const e=Ve(),t=yt(),[n,a]=B.useState(!1),[r,i]=B.useState(),[o,s]=B.useState();B.useEffect(()=>(o||s(new AbortController),()=>{o&&o.abort()}),[o]);const l=()=>{a(!0);const{getLastQueryRequest:c}=t,u=c(),{sql:d}=u.query,{entityId:p,versionNumber:f}=Gb(d),h=f?`.${f}`:"";u.partMask=ma;const v=`${p}${h}`,g=d.indexOf(v);u.query.sql=`select id from ${v}${d.substring(g+v.length)}`,mb(u,e.accessToken,o==null?void 0:o.signal).then(b=>{i(b)}).catch(b=>{console.error(b),Zr("Unable to query for all Synapse IDs to copy","danger")}).finally(()=>{a(!1)})};return B.useEffect(()=>{if(r){const{rows:c}=r.queryResult.queryResults,u=c.map(d=>`${d.values[0]}`).join(`
`);navigator.clipboard.writeText(u).then(()=>{Zr("Successfully copied to clipboard"),i(void 0)})}},[r]),n?m($s,{size:25}):m(rp,{onCopy:()=>{l()}})};var Cn=[],L8=function(){return Cn.some(function(e){return e.activeTargets.length>0})},V8=function(){return Cn.some(function(e){return e.skippedTargets.length>0})},rb="ResizeObserver loop completed with undelivered notifications.",M8=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:rb}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=rb),window.dispatchEvent(e)},Ei;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ei||(Ei={}));var xn=function(e){return Object.freeze(e)},B8=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,xn(this)}return e}(),yC=function(){function e(t,n,a,r){return this.x=t,this.y=n,this.width=a,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,xn(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,a=t.y,r=t.top,i=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:a,top:r,right:i,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),jh=function(e){return e instanceof SVGElement&&"getBBox"in e},bC=function(e){if(jh(e)){var t=e.getBBox(),n=t.width,a=t.height;return!n&&!a}var r=e,i=r.offsetWidth,o=r.offsetHeight;return!(i||o||e.getClientRects().length)},nb=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},z8=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ya=typeof window<"u"?window:{},_o=new WeakMap,ab=/auto|scroll/,U8=/^tb|vertical/,H8=/msie|trident/i.test(Ya.navigator&&Ya.navigator.userAgent),nr=function(e){return parseFloat(e||"0")},ra=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new B8((n?t:e)||0,(n?e:t)||0)},ib=xn({devicePixelContentBoxSize:ra(),borderBoxSize:ra(),contentBoxSize:ra(),contentRect:new yC(0,0,0,0)}),wC=function(e,t){if(t===void 0&&(t=!1),_o.has(e)&&!t)return _o.get(e);if(bC(e))return _o.set(e,ib),ib;var n=getComputedStyle(e),a=jh(e)&&e.ownerSVGElement&&e.getBBox(),r=!H8&&n.boxSizing==="border-box",i=U8.test(n.writingMode||""),o=!a&&ab.test(n.overflowY||""),s=!a&&ab.test(n.overflowX||""),l=a?0:nr(n.paddingTop),c=a?0:nr(n.paddingRight),u=a?0:nr(n.paddingBottom),d=a?0:nr(n.paddingLeft),p=a?0:nr(n.borderTopWidth),f=a?0:nr(n.borderRightWidth),h=a?0:nr(n.borderBottomWidth),v=a?0:nr(n.borderLeftWidth),g=d+c,b=l+u,E=v+f,y=p+h,_=s?e.offsetHeight-y-e.clientHeight:0,w=o?e.offsetWidth-E-e.clientWidth:0,S=r?g+E:0,C=r?b+y:0,x=a?a.width:nr(n.width)-S-w,T=a?a.height:nr(n.height)-C-_,R=x+g+w+E,q=T+b+_+y,k=xn({devicePixelContentBoxSize:ra(Math.round(x*devicePixelRatio),Math.round(T*devicePixelRatio),i),borderBoxSize:ra(R,q,i),contentBoxSize:ra(x,T,i),contentRect:new yC(d,l,x,T)});return _o.set(e,k),k},SC=function(e,t,n){var a=wC(e,n),r=a.borderBoxSize,i=a.contentBoxSize,o=a.devicePixelContentBoxSize;switch(t){case Ei.DEVICE_PIXEL_CONTENT_BOX:return o;case Ei.BORDER_BOX:return r;default:return i}},W8=function(){function e(t){var n=wC(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=xn([n.borderBoxSize]),this.contentBoxSize=xn([n.contentBoxSize]),this.devicePixelContentBoxSize=xn([n.devicePixelContentBoxSize])}return e}(),_C=function(e){if(bC(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},j8=function(){var e=1/0,t=[];Cn.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var u=new W8(c.target),d=_C(c.target);s.push(u),c.lastReportedSize=SC(c.target,c.observedBox),d<e&&(e=d)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,a=t;n<a.length;n++){var r=a[n];r()}return e},ob=function(e){Cn.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(r){r.isActive()&&(_C(r.target)>e?n.activeTargets.push(r):n.skippedTargets.push(r))})})},Q8=function(){var e=0;for(ob(e);L8();)e=j8(),ob(e);return V8()&&M8(),e>0},Fc,EC=[],G8=function(){return EC.splice(0).forEach(function(e){return e()})},Y8=function(e){if(!Fc){var t=0,n=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return G8()}).observe(n,a),Fc=function(){n.textContent="".concat(t?t--:t++)}}EC.push(e),Fc()},X8=function(e){Y8(function(){requestAnimationFrame(e)})},$o=0,K8=function(){return!!$o},Z8=250,J8={attributes:!0,characterData:!0,childList:!0,subtree:!0},sb=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],lb=function(e){return e===void 0&&(e=0),Date.now()+e},Dc=!1,e7=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Z8),!Dc){Dc=!0;var a=lb(t);X8(function(){var r=!1;try{r=Q8()}finally{if(Dc=!1,t=a-lb(),!K8())return;r?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,J8)};document.body?n():Ya.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),sb.forEach(function(n){return Ya.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),sb.forEach(function(n){return Ya.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),np=new e7,ub=function(e){!$o&&e>0&&np.start(),$o+=e,!$o&&np.stop()},t7=function(e){return!jh(e)&&!z8(e)&&getComputedStyle(e).display==="inline"},r7=function(){function e(t,n){this.target=t,this.observedBox=n||Ei.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=SC(this.target,this.observedBox,!0);return t7(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),n7=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Eo=new WeakMap,cb=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Co=function(){function e(){}return e.connect=function(t,n){var a=new n7(t,n);Eo.set(t,a)},e.observe=function(t,n,a){var r=Eo.get(t),i=r.observationTargets.length===0;cb(r.observationTargets,n)<0&&(i&&Cn.push(r),r.observationTargets.push(new r7(n,a&&a.box)),ub(1),np.schedule())},e.unobserve=function(t,n){var a=Eo.get(t),r=cb(a.observationTargets,n),i=a.observationTargets.length===1;r>=0&&(i&&Cn.splice(Cn.indexOf(a),1),a.observationTargets.splice(r,1),ub(-1))},e.disconnect=function(t){var n=this,a=Eo.get(t);a.observationTargets.slice().forEach(function(r){return n.unobserve(t,r.target)}),a.activeTargets.splice(0,a.activeTargets.length)},e}(),a7=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Co.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!nb(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Co.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!nb(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Co.unobserve(this,t)},e.prototype.disconnect=function(){Co.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const i7=B[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],o7=i7,s7=e=>{const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),t},l7=s7,u7=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:a7;function c7(){}function d7(e,t){const n=p7(),a=l7(t);return o7(()=>{let r=!1;const i=e&&"current"in e?e.current:e;if(!i)return c7;function o(s,l){r||a.current(s,l)}return n.subscribe(i,o),()=>{r=!0,n.unsubscribe(i,o)}},[e,n,a]),n.observer}function f7(){let e=!1,t=[];const n=new Map,a=new u7((r,i)=>{t=t.concat(r);function o(){const s=new Set;for(let l=0;l<t.length;l++){if(s.has(t[l].target))continue;s.add(t[l].target);const c=n.get(t[l].target);c==null||c.forEach(u=>u(t[l],i))}t=[],e=!1}e||window.requestAnimationFrame(o),e=!0});return{observer:a,subscribe(r,i){var o;a.observe(r);const s=(o=n.get(r))!==null&&o!==void 0?o:[];s.push(i),n.set(r,s)},unsubscribe(r,i){var o;const s=(o=n.get(r))!==null&&o!==void 0?o:[];if(s.length===1){a.unobserve(r),n.delete(r);return}const l=s.indexOf(i);l!==-1&&s.splice(l,1),n.set(r,s)}}}let Oc;const p7=()=>Oc||(Oc=f7());function ap(e){const[t,n]=P.useState(!1),[a,r]=P.useState(!1),i=P.useRef(null);return d7(i,({target:o})=>{if(!t&&o){const s=o.getElementsByTagName("p")[0];s&&r(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)}}),L("td",{...e,className:`ExpandableTableData ${e.className?e.className:""}`,"aria-expanded":t,ref:i,children:[a&&m("button",{className:"ExpandableTableData__expandButton",onClick:()=>n(!t),children:m(Le,{icon:t?"minusBoxOutline":"addBoxOutline",sx:{color:"grey.600",height:"16px",verticalAlign:"top"}})}),e.children]})}try{ap.displayName="ExpandableTableDataCell",ap.__docgenInfo={description:"",displayName:"ExpandableTableDataCell",props:{}}}catch{}const h7=["","DESC","ASC"],db={resizeMode:"overflow",partialRefresh:"true",liveDrag:!0,headerOnly:"true"};class ks extends B.Component{constructor(n){super(n);je(this,"resizer");je(this,"tableElement");je(this,"renderTable",(n,a,r,i)=>{var b,E;const o=(E=(b=this.props.queryContext).getLastQueryRequest)==null?void 0:E.call(b),{queryContext:{entity:s},showAccessColumn:l,showDownloadColumn:c,isRowSelectionVisible:u}=this.props,d=s&&(jn(s)&&p1(s)||aa(s)),p=l&&s&&this.isEntityViewOrDataset()&&this.allRowsHaveId(),f=!!this.props.synapseContext.accessToken,h=s&&d&&f&&this.allRowsHaveId(),v=!!(h&&!this.props.hideDownload),g=h&&c;return L("div",{className:"SynapseTable SRC-overflowAuto","data-testid":"SynapseTable",children:[L("table",{ref:y=>this.tableElement=y,className:"table table-striped table-condensed",children:[m("thead",{className:"SRC_bordered",children:m("tr",{children:this.createTableHeader(n,a,r,p,g,v,u,o)})}),m("tbody",{children:this.createTableRows(i,n,p,g,v,u)})]}),m("div",{className:"bootstrap-4-backport",style:{textAlign:"right"},children:m(D8,{})})]})});je(this,"handleColumnSortPress",n=>a=>{let r=Ur(this.state.columnIconSortState);r.length===0&&(r=Array(this.getLengthOfPropsData()).fill(0));const i=Ur(this.state.sortedColumnSelection),o=this.findSelectionIndex(i,n.name);o!==-1&&i.splice(o,1),r[n.index]=(r[n.index]+1)%tm.length,r[n.index]>0&&i.unshift({column:n.name,direction:h7[r[n.index]]});const s=this.props.queryContext.getLastQueryRequest();s.query.sort=i,s.query.offset=0,this.props.queryContext.executeQueryRequest(s),this.setState({columnIconSortState:r,sortedColumnSelection:i})});je(this,"applyChangesFromQueryFilter",n=>{const a=this.props.queryContext.getLastQueryRequest();a.query.selectedFacets=n,a.query.offset=0,this.props.queryContext.executeQueryRequest(a)});this.componentDidMount=this.componentDidMount.bind(this),this.componentWillUnmount=this.componentWillUnmount.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.shouldComponentUpdate=this.shouldComponentUpdate.bind(this),this.handleColumnSortPress=this.handleColumnSortPress.bind(this),this.findSelectionIndex=this.findSelectionIndex.bind(this),this.advancedSearch=this.advancedSearch.bind(this),this.getLengthOfPropsData=this.getLengthOfPropsData.bind(this),this.configureFacetDropdown=this.configureFacetDropdown.bind(this),this.enableResize=this.enableResize.bind(this),this.disableResize=this.disableResize.bind(this),this.isEntityViewOrDataset=this.isEntityViewOrDataset.bind(this),this.allRowsHaveId=this.allRowsHaveId.bind(this),this.state={columnIconSortState:[],isExportTableDownloadOpen:!1,isExpanded:!1,isColumnSelectionOpen:!1,sortedColumnSelection:[],mapEntityIdToHeader:{},mapUserIdToHeader:{},isFetchingEntityHeaders:!1},this.getEntityHeadersInData=this.getEntityHeadersInData.bind(this)}componentWillUnmount(){this.disableResize()}componentDidMount(){this.getEntityHeadersInData(!0),this.enableResize()}shouldComponentUpdate(n,a){const{isFetchingEntityHeaders:r,...i}=this.state,{isFetchingEntityHeaders:o,...s}=a,l=!Gi(this.props,n),c=!Gi(i,s),u=l||c;return u&&this.disableResize(),u}componentDidUpdate(n,a){Gi(n.queryContext.data,this.props.queryContext.data)?n.queryContext.entity&&this.props.queryContext.entity&&!Gi(jn(n.queryContext.entity),jn(this.props.queryContext.entity))&&this.getEntityHeadersInData(!0):this.getEntityHeadersInData(!1),this.enableResize()}enableResize(){this.resizer?setTimeout(()=>{this.resizer.reset(db)},1e3):this.tableElement&&this.getLengthOfPropsData()>1&&(this.resizer=new $8(this.tableElement,db))}disableResize(){this.resizer&&this.resizer.reset({disable:!0})}async getEntityHeadersInData(n){var p,f;const{data:a,entity:r}=this.props.queryContext;if(!a||!r)return;if(this.state.isFetchingEntityHeaders&&!n)return;const i=Ur(this.state.mapEntityIdToHeader),o=Ur(this.state.mapUserIdToHeader),s=eb(a,pe.ENTITYID),l=eb(a,pe.USERID),c=tb(a,i,s);(this.isEntityViewOrDataset()||r&&Ib(r))&&this.allRowsHaveId()&&(((f=(p=a.queryResult)==null?void 0:p.queryResults)==null?void 0:f.rows)??[]).forEach(v=>{const g=`syn${v.rowId}`;c.add(g)});const u=tb(a,o,l);if(c.size===0&&u.size===0)return;if(this.setState({isFetchingEntityHeaders:!0}),c.size>0){const h=Array.from(c).map(v=>({targetId:v}));try{const v=await Je.getEntityHeaders(h,this.props.synapseContext.accessToken),{results:g}=v;g.forEach(b=>{i[b.id]=b})}catch(v){console.error("Error on retrieving entity header list , ",v)}}const d=[];if(u.size>0){const h=Array.from(u);try{(await Je.getGroupHeadersBatch(h,this.props.synapseContext.accessToken)).children.forEach(g=>{g.isIndividual?d.push(g.ownerId):o[g.ownerId]=g})}catch(v){console.error("Error on getGroupHeaders batch: ",v)}}if(d.length>0)try{(await KC(d)).list.forEach(v=>{o[v.ownerId]=v})}catch(h){console.error("Error on getUserProfile : ",h)}this.setState({mapEntityIdToHeader:i,mapUserIdToHeader:o,isFetchingEntityHeaders:!1})}render(){var g;if(!this.props.queryContext.data&&this.props.queryContext.isLoadingNewBundle)return _p;if(!this.props.queryContext.data)return m(Q,{});const{queryContext:{data:n},queryVisualizationContext:{NoContentPlaceholder:a}}=this.props,{queryResult:r,columnModels:i=[]}=n,{facets:o=[]}=n,{isExpanded:s,isExportTableDownloadOpen:l}=this.state,c=this.props.queryContext.getLastQueryRequest(),u="";if(!((((g=n.queryResult)==null?void 0:g.queryResults.rows.length)??0)>0)&&c.query.offset===0)return m(a,{});const{rows:p,headers:f}=r.queryResults,h=m("div",{children:this.renderTable(f,i,o,p)}),v=m(Q,{children:L("div",{className:u,children:[l&&m(da,{onClose:()=>{this.setState({isExportTableDownloadOpen:!1})},queryBundleRequest:c}),m("div",{children:h})]})});return L(B.Fragment,{children:[s&&m(Ci,{open:!0,onCancel:()=>this.setState({isExpanded:!1}),content:v,title:void 0,maxWidth:"xl",fullWidth:!0,sx:{".MuiDialogTitle-root":{padding:0},".MuiDialogContent-root":{border:"transparent"}}}),!s&&v]})}allRowsHaveId(){var a;const{queryContext:{data:n}}=this.props;return((a=n==null?void 0:n.queryResult)==null?void 0:a.queryResults.rows.every(r=>!!r.rowId))??!1}isEntityViewOrDataset(){const{queryContext:{entity:n}}=this.props;return(n&&(jn(n)||aa(n)))??!1}createTableRows(n,a,r,i,o,s){const l=[],{queryContext:{data:c},queryVisualizationContext:{columnsToShowInTable:u,selectedRowIndices:d,setSelectedRowIndices:p},columnLinks:f=[]}=this.props,{selectColumns:h=[],columnModels:v=[]}=c,{mapEntityIdToHeader:g,mapUserIdToHeader:b}=this.state;return n.forEach((E,y)=>{var T,R;const _=(T=E.versionNumber)==null?void 0:T.toString(),w=`syn${E.rowId}`,S=E.values.map((q,k)=>{const I=a[k].name,N=u.includes(I),$=f.find(V=>V.matchColumnName===I),A=this.findSelectionIndex(this.state.sortedColumnSelection,I)===-1?"":"SRC-boldText";return N?m(ap,{className:"SRC_noBorderTop",children:m(tp,{columnType:a[k].columnType,columnValue:q,isBold:A,mapEntityIdToHeader:g,mapUserIdToHeader:b,columnLinkConfig:$,columnName:I,rowData:E.values,selectColumns:h,columnModels:v,rowId:E.rowId,rowVersionNumber:E.versionNumber})},`(${y}${q}${k})`):m("td",{className:"SRC-hidden"},`(${y},${k})`)});r&&S.unshift(m("td",{className:"SRC_noBorderTop",children:m(Kf,{entityId:w,entityVersionNumber:_},w)},w));const C=((R=g[w])==null?void 0:R.type)=="org.sagebionetworks.repo.model.FileEntity";i&&S.unshift(m("td",{className:"SRC_noBorderTop direct-download",children:C&&m(As,{associatedObjectId:w,entityVersionNumber:_})},`direct-download-${w}`)),o&&S.unshift(m("td",{className:"SRC_noBorderTop add-to-download-list-v2",children:C&&m(Gf,{entityId:w,entityVersionNumber:parseInt(_)})},`add-to-download-list-v2-${w}`)),s&&d&&S.unshift(m("td",{className:"SRC_noBorderTop",children:m(bi,{label:"",checked:d.includes(y),onChange:q=>{const k=[...d];if(q)k.push(y);else{const I=k.indexOf(y);I>-1&&k.splice(I,1)}p(k)}})},`(${y},rowSelectColumn)`));const x=m("tr",{children:S},E.rowId??y);l.push(x)}),l}isSortableColumn(n){switch(n){case pe.USERID:case pe.ENTITYID:case pe.FILEHANDLEID:case pe.STRING_LIST:case pe.INTEGER_LIST:case pe.BOOLEAN_LIST:case pe.DATE_LIST:case pe.USERID_LIST:case pe.ENTITYID_LIST:return!1;default:return!0}}createTableHeader(n,a,r,i,o,s,l,c){const{sortedColumnSelection:u,columnIconSortState:d}=this.state,{queryVisualizationContext:{getColumnDisplayName:p,columnsToShowInTable:f},queryContext:{lockedColumn:h}}=this.props,v=n.map((g,b)=>{var y;if(f.includes(g.name)){const _=this.findSelectionIndex(u,g.name)!==-1,w=d[b]===void 0?0:d[b],S=r.findIndex(F=>F.columnName===g.name),C=S!==-1&&r[S].facetType==="enumeration",x=r[S],T=_?"SRC-primary-background-color SRC-anchor-light":"",R=_?"SRC-selected-table-icon tool-icon":"SRC-primary-text-color tool-icon",q=`SRC-tableHead SRC-hand-cursor SRC-sortPadding SRC-primary-background-color-hover  ${T}`,k=p(g.name),I=a.find(F=>F.name===g.name),N=g.name.toLowerCase()===((y=h==null?void 0:h.columnName)==null?void 0:y.toLowerCase()),$=I&&I.name=="id"&&I.columnType==pe.ENTITYID;return m("th",{children:L("div",{className:"SRC-split",children:[m("span",{style:{whiteSpace:"nowrap"},children:k}),L("div",{className:"SRC-centerContent",children:[C&&!N&&this.configureFacetDropdown(x,I,c),this.isSortableColumn(g.columnType)&&m("span",{role:"button","aria-label":"sort",tabIndex:0,className:q,onKeyPress:this.handleColumnSortPress({index:b,name:g.name}),onClick:this.handleColumnSortPress({index:b,name:g.name}),children:m(Hs,{type:tm[w],cssClass:R})}),$&&m(O8,{})]})]})},g.name)}else return m("th",{className:"SRC-hidden"},g.name)});return i&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent",children:m("span",{style:{whiteSpace:"nowrap"},children:"Access"})})},"accessColumn")),o&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent",children:" "})},"downloadColumn")),s&&v.unshift(m("th",{"data-testid":"AddToDownloadListV2ColumnHeader",children:m("div",{className:"SRC-centerContent",children:" "})},"addToV2DownloadListColumn")),l&&v.unshift(m("th",{children:m("div",{className:"SRC-centerContent"})},"rowSelectionColumn")),v}findSelectionIndex(n,a){return n.length!==0?n.findIndex(r=>r.column===a):-1}advancedSearch(n){n&&n.preventDefault();const a=this.props.queryContext.getLastQueryRequest(),{query:r}=a,i=btoa(JSON.stringify(r)),o=a.entityId;window.open(`${cr.PORTAL}#!Synapse:${o}/tables/query/${i}`,"_blank")}getLengthOfPropsData(){var a;const{data:n}=this.props.queryContext;return((a=n==null?void 0:n.queryResult)==null?void 0:a.queryResults.headers.length)??0}configureFacetDropdown(n,a,r){return m(fa,{containerAs:"Dropdown",facetValues:n.facetValues,columnModel:a,onChange:i=>{Es(r,n,this.applyChangesFromQueryFilter,i)},onClear:()=>{wi(r,n,this.applyChangesFromQueryFilter)}})}}try{ks.displayName="SynapseTable",ks.__docgenInfo={description:"",displayName:"SynapseTable",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"SynapseContextType"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}}}}}catch{}function CC(){const{data:e}=yt(),{showLastUpdatedOn:t}=mt();return t&&e&&e.lastUpdatedOn?m("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:L(Fe,{variant:"body1Italic",children:["Last updated on ",Za(ur(e.lastUpdatedOn))]})}):m(Q,{})}const ip=e=>{const{tableConfiguration:t,cardConfiguration:n,hideDownload:a}=e,r=Ve(),i=yt(),o=mt();return L("div",{className:`FilterAndView ${o.topLevelControlsState.showFacetFilter?pr:tr}`,children:[t?m(ks,{...t,synapseContext:r,queryContext:i,queryVisualizationContext:o,hideDownload:a}):m(Q,{}),n?m(Ps,{...n}):m(Q,{}),m(CC,{})]})};try{ip.displayName="FilterAndView",ip.__docgenInfo={description:"",displayName:"FilterAndView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!0,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext"> | undefined'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration | undefined"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}}}}}catch{}const op=e=>{const[t,n]=B.useState(!1),{searchParams:a,sql:r,sqlOperator:i,tableConfiguration:o,name:s,cardConfiguration:l,facetsToPlot:c,availableFacets:u,hideDownload:d,hideQueryCount:p,hideSqlEditorControl:f,searchConfiguration:h,limit:v=Ls,initQueryJson:g,showLastUpdatedOn:b,showExportToCavatica:E=!1,customControls:y}=e,_=qp(a,i),w=g?JSON.parse(g):{sql:r,additionalFilters:_,limit:v,offset:0},S=an(w.sql),{data:C}=Ri(S),x=C&&Tb(C)&&C.isSearchEnabled,T={entityId:S,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:ma|va|Os|wb|Fs|Ds|Ep|xp,query:w};return m("div",{className:"QueryWrapperPlotNav",children:m(o?vs:gs,{...e,initQueryRequest:T,children:m(pi,{unitDescription:"results",rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,visibleColumnCount:e.visibleColumnCount,defaultShowFacetVisualization:e.defaultShowFacetVisualization,defaultShowSearchBar:e.defaultShowSearchBox||x,showLastUpdatedOn:b,noContentPlaceholderType:Yr.INTERACTIVE,children:m(di,{children:q=>{if(q===void 0)throw new Error("No queryContext found when using QueryContextConsumer");const k=q==null?void 0:q.isFacetsAvailable;return m(as,{children:I=>{if(I===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return L(Q,{children:[m("div",{className:`ErrorBannerWrapper ${tr}`,children:m(Sf,{})}),x?m(is,{helpUrl:h==null?void 0:h.fullTextSearchHelpURL}):m(bs,{...h,queryContext:q,queryVisualizationContext:I}),m(ws,{}),m($d,{getLastQueryRequest:q.getLastQueryRequest,topLevelControlsState:I.topLevelControlsState,setTopLevelControlsState:I.setTopLevelControlsState}),m(Ss,{showColumnSelection:o!==void 0,name:s,hideDownload:d,hideQueryCount:p,hideFacetFilterControl:!k,hideVisualizationsControl:!k,hideSqlEditorControl:f,showExportToCavatica:E,customControls:y}),k&&m(Q,{children:m(l8,{availableFacets:u})}),m(Df,{facetsToPlot:c}),m(ip,{tableConfiguration:o,hideDownload:d,cardConfiguration:l}),t&&m(da,{getLastQueryRequest:q.getLastQueryRequest,onClose:()=>n(!1)})]})}})}})})})})};try{op.displayName="QueryWrapperPlotNav",op.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"If onQueryChange is set, the callback will be invoked when the Query changes",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},initQueryJson:{defaultValue:null,description:"If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest",name:"initQueryJson",required:!1,type:{name:"string"}},tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext">'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},defaultShowSearchBox:{defaultValue:null,description:"",name:"defaultShowSearchBox",required:!1,type:{name:"boolean"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}}}}}catch{}const m7=e=>({partMask:Ds|va|Os|Fs|ma|xp,entityId:an(e),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:e,limit:Ls,offset:0}}),sp=e=>{const{title:t,searchParams:n,sqlOperator:a,showAccessColumn:r,sql:i,hideDownload:o,hideQueryCount:s,name:l,showTopLevelControls:c=!1,searchConfiguration:u,unitDescription:d="Results",rgbIndex:p,showLastUpdatedOn:f,noContentPlaceholderType:h=c?Yr.INTERACTIVE:Yr.STATIC,...v}=e,g=m7(i);n&&(g.query.additionalFilters=qp(n,a));const b=Ve(),E=an(i),{data:y}=Ri(E);return m(vs,{...v,initQueryRequest:g,children:m(pi,{rgbIndex:p,unitDescription:d,showLastUpdatedOn:f,noContentPlaceholderType:h,...v,children:m(di,{children:_=>{if(_===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return m(as,{children:w=>{if(w===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return L(Q,{children:[c&&m(Ss,{showColumnSelection:!0,name:l,hideDownload:o,hideQueryCount:s,hideFacetFilterControl:!0,hideVisualizationsControl:!0}),y&&Tb(y)&&y.isSearchEnabled?m(is,{helpUrl:u==null?void 0:u.fullTextSearchHelpURL}):m(bs,{...u,queryContext:_,queryVisualizationContext:w}),m(ws,{}),c&&m(Si,{frontText:""}),m(ks,{synapseContext:b,queryContext:_,queryVisualizationContext:w,showAccessColumn:r,title:t,"data-testid":"SynapseTable",...v}),m(CC,{})]})}})}})})})};try{sp.displayName="StandaloneQueryWrapper",sp.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},showTopLevelControls:{defaultValue:null,description:"",name:"showTopLevelControls",required:!1,type:{name:"boolean"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}}}}}catch{}function lp(e){const{query:t,showquery:n,tableonly:a}=e,r=n==="true",i=a==="true",o="Items";return i?m(sp,{sql:t,name:o}):m(op,{sql:t,hideSqlEditorControl:!r,name:o,defaultShowFacetVisualization:!1,tableConfiguration:{}})}try{lp.displayName="MarkdownSynapseTable",lp.__docgenInfo={description:"",displayName:"MarkdownSynapseTable",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},showquery:{defaultValue:null,description:"",name:"showquery",required:!0,type:{name:"string"}},tableonly:{defaultValue:null,description:"",name:"tableonly",required:!0,type:{name:"string"}}}}}catch{}const v7={1:"toc-indent1",2:"toc-indent2",3:"toc-indent3",4:"toc-indent4",5:"toc-indent5",6:"toc-indent6"};function up(e){const{originalMarkup:t}=e,n=[],a=/<h([1-6]) id="(.*)" .*toc="true">(.*)<\/h[1-6]>/gm;let r="";return t.replace(a,(i,o,s,l)=>(r+=l,n.push(m("div",{children:m("a",{role:"link",className:`link ${v7[Number(o)]}`,"data-anchor":s,children:l})},l)),"")),m("div",{children:n},r)}try{up.displayName="MarkdownTableOfContents",up.__docgenInfo={description:"",displayName:"MarkdownTableOfContents",props:{originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}function cp(e){const{alias:t}=e,{data:n}=Xx([t]);return n?m(Kx,{principalId:n[0].ownerId}):m(Q,{})}try{cp.displayName="MarkdownUserOrTeamBadge",cp.__docgenInfo={description:"",displayName:"MarkdownUserOrTeamBadge",props:{alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"string"}}}}}catch{}function dp(e){return m(Zx,{params:e})}try{dp.displayName="MarkdownVideo",dp.__docgenInfo={description:"",displayName:"MarkdownVideo",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},videoId:{defaultValue:null,description:"",name:"videoId",required:!1,type:{name:"string"}},vimeoId:{defaultValue:null,description:"",name:"vimeoId",required:!1,type:{name:"string"}},oggSynapseId:{defaultValue:null,description:"",name:"oggSynapseId",required:!1,type:{name:"string"}},mp4SynapseId:{defaultValue:null,description:"",name:"mp4SynapseId",required:!1,type:{name:"string"}},webmSynapseId:{defaultValue:null,description:"",name:"webmSynapseId",required:!1,type:{name:"string"}}}}}catch{}function fp(e){const{widgetType:t,widgetParamsMapped:n,originalMarkup:a}=e;switch(t){case"buttonlink":return m(Gc,{...n});case"image":return m(Pd,{...n});case"plot":return m(Ad,{...n});case"toc":return m(up,{originalMarkup:a});case"badge":return m(cp,{...n});case"iduReport":return m(td,{...n});case"video":case"vimeo":case"youtube":return m(dp,{...n});case"synapsetable":return m(lp,{...n});case"provenance":return m(Td,{...n});case"preview":return m(Zc,{...n});default:return console.warn(`Unsupported widget: ${t}.`),m(Q,{})}}function fb(e){return m(hb,{children:m(fp,{...e})})}try{fp.displayName="MarkdownWidget",fp.__docgenInfo={description:"",displayName:"MarkdownWidget",props:{widgetType:{defaultValue:null,description:"",name:"widgetType",required:!0,type:{name:"enum",value:[{value:'"video"'},{value:'"image"'},{value:'"buttonlink"'},{value:'"plot"'},{value:'"toc"'},{value:'"badge"'},{value:'"iduReport"'},{value:'"vimeo"'},{value:'"youtube"'},{value:'"synapsetable"'},{value:'"provenance"'},{value:'"preview"'}]}},widgetParamsMapped:{defaultValue:null,description:"",name:"widgetParamsMapped",required:!0,type:{name:"any"}},originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}class pp extends B.Component{constructor(t){super(t),this.renderBookmarks=this.renderBookmarks.bind(this)}renderBookmarks(){const t=String(this.props.footnotes),n=/Synapse widget&gt;<\/span>(.*)</g;let a;const r=[];for(;a=n.exec(t);)r.push(a[1]);return r.map((i,o)=>{const s=o<r.length-1;return L(B.Fragment,{children:[L("button",{className:"SRC-markdown-bookmark",id:`bookmark${o}`,children:["[",o+1,"]"]}),m("span",{dangerouslySetInnerHTML:{__html:i}}),s&&m("br",{})]},o)})}render(){return L(B.Fragment,{children:[m("hr",{}),this.renderBookmarks()]})}}try{pp.displayName="Bookmarks",pp.__docgenInfo={description:"",displayName:"Bookmarks",props:{footnotes:{defaultValue:null,description:"",name:"footnotes",required:!0,type:{name:"string"}}}}}catch{}const Lc=markdownit({html:!0});class Nt extends B.Component{constructor(n){super(n);je(this,"markupRef");markdownitSynapse.init_markdown_it(Lc,markdownitSub,markdownitSup,markdownitCentertext,markdownitSynapseHeading,markdownitSynapseTable,markdownitStrikethroughAlt,markdownitContainer,markdownitEmphasisAlt,markdownitInlineComments,markdownitBr);const a="";Lc.use(markdownitSynapse,a,"https://synapse.org").use(markdownitMath,a);const r={};this.props.markdown&&(r.markdown=this.props.markdown),this.state={md:Lc,error:void 0,fileHandles:void 0,data:r,isLoading:!0},this.markupRef=B.createRef(),this.handleLinkClicks=this.handleLinkClicks.bind(this),this.renderMarkdown=this.renderMarkdown.bind(this),this.recursiveRender=this.recursiveRender.bind(this),this.processMath=this.processMath.bind(this),this.getWikiAttachments=this.getWikiAttachments.bind(this),this.getWikiPageMarkdown=this.getWikiPageMarkdown.bind(this),this.createHTML=this.createHTML.bind(this),this.addBookmarks=this.addBookmarks.bind(this),this.addIdsToReferenceWidgets=this.addIdsToReferenceWidgets.bind(this),this.addIdsToTocWidgets=this.addIdsToTocWidgets.bind(this)}componentWillUnmount(){this.markupRef.current&&this.markupRef.current.removeEventListener("click",this.handleLinkClicks)}handleLinkClicks(n){const a=n.target;if(a.tagName==="A"||a.tagName==="BUTTON"){const r=n.target;if(r.id.substring(0,3)==="ref"){n.preventDefault();const i=Number(n.currentTarget.id.substring(3)),o=this.markupRef.current.querySelector(`#bookmark${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}else if(n.currentTarget.id!==null&&r.getAttribute("data-anchor")){n.preventDefault();const i=r.getAttribute("data-anchor"),o=this.markupRef.current.querySelector(`#${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}}}createHTML(n){if(!n)return{__html:""};const a=this.props.renderInline?this.state.md.renderInline(n):this.state.md.render(n);return{__html:xw(a,Nw)}}processMath(){if(!this.markupRef.current)return;const n=this.markupRef.current.querySelectorAll('[id^="mathjax-"]'),a=new RegExp(/\\[()[\]]/,"g");n.forEach(r=>{if(r.textContent&&!r.getAttribute("processed")){r.setAttribute("processed","true");const i=r.textContent.replace(a,"");return katex.render(i,r,{output:"html",throwOnError:!1})}})}addBookmarks(){markdownitSynapse.resetFootnotes(),this.createHTML(this.state.data.markdown);const n=this.createHTML(markdownitSynapse.footnotes()).__html;if(n.length>0)return m(pp,{footnotes:n})}async getWikiPageMarkdown(){const{ownerId:n,wikiId:a,objectType:r}=this.props;if(!(!n&&!a))try{const i=await Je.getEntityWiki(this.context.accessToken,n,a,r);try{const o=await this.getWikiAttachments(a||i.id);this.setState({data:i,fileHandles:o,error:void 0})}catch(o){console.error("fileHandlesErr = ",o)}}catch(i){console.error(`Error on wiki markdown load
`,i),this.setState({error:i})}}async getWikiAttachments(n){const{ownerId:a,objectType:r}=this.props;if(!a){console.error("Cannot get wiki attachments without ownerId on Markdown Component");return}return await Je.getWikiAttachmentsFromEntity(this.context.accessToken,a,n,r).then(i=>i).catch(i=>{console.error("Error on wiki attachment load ",i)})}addIdsToReferenceWidgets(n){const a=/<span id="wikiReference.*?<span data-widgetparams.*?span>/g;let r=1;return n.replace(a,()=>{const i=r;return r+=1,`<a href="" id="ref${i}">[${i}]</a>`})}addIdsToTocWidgets(n){const a="SRC-header-";let r=1;const i=/<h[1-6] toc="true">.*<\/h[1-6]>/gm;return n.replace(i,o=>{const s=r;return r+=1,`${o.substring(0,3)} id="${a}${s}"${o.substring(3)}`})}renderMarkdown(){let n=this.createHTML(this.state.data.markdown).__html;if(n=this.addIdsToReferenceWidgets(n),n=this.addIdsToTocWidgets(n),n.length>0){const r=new DOMParser().parseFromString(n,"text/html");return m(Q,{children:this.recursiveRender(r.body,n)})}}recursiveRender(n,a){if(n.nodeType===Node.TEXT_NODE)return m(Q,{children:n.textContent});if(n.nodeType===Node.ELEMENT_NODE&&n instanceof HTMLElement){const r=n.tagName.toLowerCase()==="body"?"span":n.tagName.toLowerCase(),i=n.getAttribute("data-widgetparams");if(i)return this.processHTMLWidgetMapping(i,a);const o=n.attributes,s={};for(let c=0;c<o.length;c++){let u="",d="";const p=o.item(c);p&&(u=p.name,d=p.value),u&&d&&(s[u]=d)}if(n.childNodes.length===0)return m(r,{...s});const l=Array.from(n.childNodes).map((c,u)=>m(B.Fragment,{children:this.recursiveRender(c,a)},u));switch(r){case"p":return m(Fe,{variant:"body1",...s,component:r,children:l});case"span":return m(Fe,{variant:"body1",...s,component:r,children:l});case"h1":return m(Fe,{variant:"headline1",...s,component:r,children:l});case"h2":return m(Fe,{variant:"headline2",...s,component:r,children:l});case"h3":return m(Fe,{variant:"headline3",...s,component:r,children:l});case"ol":return m(Fe,{variant:"body1",...s,component:r,children:l});case"ul":return m(Fe,{variant:"body1",...s,component:r,children:l});case"a":return m(Kt,{...s,component:r,children:l});default:return m(r,{...s,children:l})}}}decodeXml(n){const a={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'};return n.replace(/(&quot;|&lt;|&gt;|&amp;)/g,(r,i)=>a[i])}processHTMLWidgetMapping(n,a){const r=this.decodeXml(n),i=r.indexOf("?");if(i===-1)return m(fb,{widgetType:r,widgetParamsMapped:{},originalMarkup:a},JSON.stringify(r));const o=r.substring(0,i),s={};return r.substring(i+1).split("&").forEach(l=>{let[c,u]=l.split("=");u=decodeURIComponent(u),s[c]=u}),m(fb,{widgetType:o,widgetParamsMapped:s,originalMarkup:a},JSON.stringify(r))}async componentDidMount(){if(this.state.data.markdown){this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current);return}this.markupRef.current&&this.markupRef.current.addEventListener("click",this.handleLinkClicks),await this.getWikiPageMarkdown(),this.processMath(),this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current)}async componentDidUpdate(n){let a=this.props.ownerId!==n.ownerId;a=a||this.props.wikiId!==n.wikiId,a&&await this.getWikiPageMarkdown(),this.processMath()}render(){const{renderInline:n,loadingSkeletonRowCount:a}=this.props,{isLoading:r,error:i}=this.state,o={ownerId:this.props.ownerId,wikiId:this.props.wikiId,wikiPage:this.state.data,fileHandles:this.state.fileHandles};if(i)return m(bp,{error:i});const s=this.addBookmarks(),l=L(Rd,{wikiContext:o,children:[r&&m(Q,{children:a?m(Np,{numCols:1,numRows:a}):m("span",{className:"spinner"})}),this.renderMarkdown(),s&&m("div",{children:this.addBookmarks()})]});return n?m("span",{className:"markdown markdown-inline",ref:this.markupRef,children:l}):m("div",{className:"markdown",ref:this.markupRef,children:l})}}je(Nt,"contextType",Ni);try{Nt.displayName="MarkdownSynapse",Nt.__docgenInfo={description:"Basic Markdown functionality for Synapse, supporting Images/Plots/References/Bookmarks/buttonlinks",displayName:"MarkdownSynapse",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},markdown:{defaultValue:null,description:"",name:"markdown",required:!1,type:{name:"string"}},renderInline:{defaultValue:null,description:"",name:"renderInline",required:!1,type:{name:"boolean"}},objectType:{defaultValue:null,description:"",name:"objectType",required:!1,type:{name:"enum",value:[{value:'"ENTITY"'},{value:'"ENTITY_CONTAINER"'},{value:'"PRINCIPAL"'},{value:'"ACTIVITY"'},{value:'"EVALUATION"'},{value:'"SUBMISSION"'},{value:'"EVALUATION_SUBMISSIONS"'},{value:'"FILE"'},{value:'"MESSAGE"'},{value:'"WIKI"'},{value:'"FAVORITE"'},{value:'"ACCESS_REQUIREMENT"'},{value:'"ACCESS_APPROVAL"'},{value:'"TEAM"'},{value:'"TABLE"'},{value:'"ACCESS_CONTROL_LIST"'},{value:'"PROJECT_SETTING"'},{value:'"VERIFICATION_SUBMISSION"'},{value:'"CERTIFIED_USER_PASSING_RECORD"'},{value:'"FORUM"'},{value:'"THREAD"'},{value:'"REPLY"'},{value:'"FORM_GROUP"'},{value:'"FORM_DATA"'},{value:'"ENTITY_VIEW"'},{value:'"USER_PROFILE"'},{value:'"DATA_ACCESS_REQUEST"'},{value:'"DATA_ACCESS_SUBMISSION"'},{value:'"DATA_ACCESS_SUBMISSION_STATUS"'},{value:'"MEMBERSHIP_INVITATION"'}]}},loadingSkeletonRowCount:{defaultValue:null,description:"",name:"loadingSkeletonRowCount",required:!1,type:{name:"number"}},onMarkdownProcessingDone:{defaultValue:null,description:"",name:"onMarkdownProcessingDone",required:!1,type:{name:"((ref: HTMLInputElement | null) => void)"}}}}}catch{}const hp=vt(({className:e,...t})=>m(Ct,{...t,classes:{popper:e}}))(({theme:e})=>({[`& .${Uc.tooltip}`]:{backgroundColor:e.palette.common.white,color:e.palette.grey[1e3],boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},[`& .${Uc.arrow}`]:{"&:before":{boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},color:e.palette.common.white}}));try{hp.displayName="LightTooltip",hp.__docgenInfo={description:"",displayName:"LightTooltip",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<unknown>"}}}}}catch{}const g7={display:"flex",justifyContent:"space-between",flexDirection:"row-reverse","> button":{flexGrow:1,maxWidth:"45%"}},mp=({children:e,contentProps:t,placement:n="bottom-start",showCloseButton:a=!0,actionButton:r,sx:i,maxWidth:o="500px",minWidth:s="300px"})=>{const[l,c]=P.useState(!1),u=L(ct,{sx:{padding:"20px"},children:[m(Fe,{variant:"body1",marginBottom:2,children:m(Nt,{...t})}),L(ct,{sx:g7,children:[r&&m($t,{color:r.color||"primary",variant:r.variant||"contained",onClick:()=>{r.onClick(),r.closePopoverOnClick&&c(!1)},children:r.content}),a&&m($t,{variant:"outlined",onClick:()=>c(!1),children:"Close"})]})]});return m(hp,{title:u,placement:n,onClick:()=>c(!l),open:l,sx:{...i,[`& .${Uc.tooltip}`]:{maxWidth:{maxWidth:o},minWidth:{minWidth:s}}},children:m(ct,{role:"button",className:"PopoverContainer",sx:{display:"inline-block",cursor:"pointer"},children:e})})};try{mp.displayName="MarkdownPopover",mp.__docgenInfo={description:"",displayName:"MarkdownPopover",props:{contentProps:{defaultValue:null,description:"",name:"contentProps",required:!0,type:{name:"MarkdownSynapseProps"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},placement:{defaultValue:{value:"bottom-start"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:'{ content: ReactElement<any, string | JSXElementConstructor<any>>; color?: OverridableStringUnion<"error" | "info" | "warning" | "success" | "inherit" | "primary" | "secondary", ButtonPropsColorOverrides>; variant?: OverridableStringUnion<...>; onClick: () => void; closePopoverOnClick?: boole...'}},maxWidth:{defaultValue:{value:"500px"},description:"",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:{value:"300px"},description:"",name:"minWidth",required:!1,type:{name:"string"}}}}}catch{}const An=({markdownText:e,helpUrl:t,placement:n="bottom",showCloseButton:a=!0,className:r=""})=>m(Q,{children:m(mp,{contentProps:{markdown:e},placement:n,actionButton:t?{content:m(Q,{children:"More info"}),closePopoverOnClick:!0,onClick:()=>window.open(t,"_blank"),color:"primary"}:void 0,showCloseButton:a,maxWidth:"350px",children:m(w1,{className:`HelpButton ${r}`})})});try{An.displayName="HelpPopover",An.__docgenInfo={description:"",displayName:"HelpPopover",props:{markdownText:{defaultValue:null,description:"",name:"markdownText",required:!0,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const y7="close",vp=({sx:e={color:"grey.700"},onClick:t})=>m(zs,{sx:e,onClick:t,"aria-label":y7,children:m(cw,{})}),Ci=({open:e,title:t,content:n,actions:a,className:r,onCancel:i,hasCloseButton:o=!0,titleHelpPopoverProps:s,maxWidth:l="sm",fullWidth:c=!0,sx:u})=>L(iw,{fullWidth:c,maxWidth:l,open:e,className:r,onClose:()=>i(),sx:u,children:[m(Ja,{children:L(Pi,{direction:"row",alignItems:"center",gap:"5px",children:[t,s&&m(An,{...s}),m(ct,{sx:{flexGrow:1}}),o&&m(vp,{onClick:()=>i()})]})}),m(ei,{children:n}),a&&m(Dp,{children:a})]});try{vp.displayName="CloseButton",vp.__docgenInfo={description:"",displayName:"CloseButton",props:{sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Ci.displayName="DialogBase",Ci.__docgenInfo={description:"A dialog built using MUI components.",displayName:"DialogBase",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:{value:"true"},description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},maxWidth:{defaultValue:{value:"sm"},description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:{value:"true"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}}}}}catch{}const b7="Cancel",gp=e=>{const{confirmButtonText:t="OK",confirmButtonClassName:n,confirmButtonColor:a="primary",confirmButtonVariant:r="contained",confirmButtonDisabled:i=!1,onConfirm:o,onCancel:s,hasCancelButton:l=!0}=e;return L(Q,{children:[l&&m($t,{variant:"outlined",onClick:()=>s(),children:b7}),m($t,{variant:r,className:n,color:a,onClick:()=>o(),disabled:i,children:t})]})},xi=e=>{const{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:a,confirmButtonVariant:r,onConfirm:i,onCancel:o,hasCancelButton:s,...l}=e;return m(Ci,{onCancel:o,actions:m(gp,{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:a,confirmButtonVariant:r,onConfirm:i,onCancel:o,hasCancelButton:s}),...l})};try{gp.displayName="ConfirmationButtons",gp.__docgenInfo={description:"",displayName:"ConfirmationButtons",props:{onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}try{xi.displayName="ConfirmationDialog",xi.__docgenInfo={description:"A confirmation dialog built using MUI components.",displayName:"ConfirmationDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:null,description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"info"'},{value:'"warning"'},{value:'"success"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}export{sp as $,yi as A,m8 as B,xi as C,Ci as D,yf as E,Ff as F,pi as G,An as H,rp as I,Sf as J,Pf as K,Rf as L,mp as M,gf as N,da as O,Ef as P,vs as Q,Mf as R,hf as S,iI as T,Zy as U,T8 as V,Id as W,op as X,tM as Y,Vf as Z,pj as _,bi as a,fC as a0,Ky as b,Nt as c,cj as d,vU as e,BB as f,fj as g,dj as h,i5 as i,Xy as j,gp as k,Dl as l,As as m,gU as n,bf as o,bq as p,_f as q,nM as r,vq as s,Ol as t,Iw as u,Kf as v,yt as w,mt as x,$c as y,p8 as z};
//# sourceMappingURL=ConfirmationDialog-841e003d.js.map
