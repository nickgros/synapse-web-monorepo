import{a as f,j as c}from"./jsx-runtime-095bf462.js";import{R as w,r as u}from"./index-8db94870.js";import{a3 as L,a4 as F,a as q}from"./SynapseTableCell-cacebe1d.js";import{I as B}from"./UserCard-a57f5fd0.js";import{d as b}from"./ToastMessage-08f9c422.js";import{o as j,l as M,c as m,a as x}from"./ElementWithTooltip-6dfe0df4.js";import{_ as N}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-4abd396b.js";import{_ as G}from"./styled-96220216.js";import{c as W}from"./ThemeProvider-c7f6a893.js";import{E as Y,a as $,b as H,c as X,T as Q}from"./utils-60a28f01.js";function Z(e){var n=j(e);return n&&n.defaultView||window}function z(e,n){return Z(e).getComputedStyle(e,n)}var J=/([A-Z])/g;function K(e){return e.replace(J,"-$1").toLowerCase()}var ee=/^ms-/;function I(e){return K(e).replace(ee,"-ms-")}var ne=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function te(e){return!!(e&&ne.test(e))}function S(e,n){var t="",a="";if(typeof n=="string")return e.style.getPropertyValue(I(n))||z(e).getPropertyValue(I(n));Object.keys(n).forEach(function(r){var o=n[r];!o&&o!==0?e.style.removeProperty(I(r)):te(r)?a+=r+"("+o+") ":t+=I(r)+": "+o+";"}),a&&(t+="transform: "+a+";"),e.style.cssText+=";"+t}function ae(e,n,t,a){if(t===void 0&&(t=!1),a===void 0&&(a=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(n,t,a),e.dispatchEvent(r)}}function re(e){var n=S(e,"transitionDuration")||"",t=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*t}function oe(e,n,t){t===void 0&&(t=5);var a=!1,r=setTimeout(function(){a||ae(e,"transitionend",!0)},n+t),o=M(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(r),o()}}function ie(e,n,t,a){t==null&&(t=re(e)||0);var r=oe(e,t,a),o=M(e,"transitionend",n);return function(){r(),o()}}function A(e,n){var t=S(e,n)||"",a=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*a}function se(e,n){var t=A(e,"transitionDuration"),a=A(e,"transitionDelay"),r=ie(e,function(o){o.target===e&&(r(),n(o))},t+a)}function le(e){e.offsetHeight}var ue=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],d,ce={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function _(e,n){var t="offset"+e[0].toUpperCase()+e.slice(1),a=n[t],r=ce[e];return a+parseInt(S(n,r[0]),10)+parseInt(S(n,r[1]),10)}var de=(d={},d[Y]="collapse",d[$]="collapsing",d[H]="collapsing",d[X]="collapse show",d),pe={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:_},D=w.forwardRef(function(e,n){var t=e.onEnter,a=e.onEntering,r=e.onEntered,o=e.onExit,v=e.onExiting,g=e.className,p=e.children,E=e.dimension,l=E===void 0?"height":E,C=e.getDimensionValue,y=C===void 0?_:C,h=G(e,ue),i=typeof l=="function"?l():l,V=u.useMemo(function(){return m(function(s){s.style[i]="0"},t)},[i,t]),O=u.useMemo(function(){return m(function(s){var T="scroll"+i[0].toUpperCase()+i.slice(1);s.style[i]=s[T]+"px"},a)},[i,a]),P=u.useMemo(function(){return m(function(s){s.style[i]=null},r)},[i,r]),k=u.useMemo(function(){return m(function(s){s.style[i]=y(i,s)+"px",le(s)},o)},[o,y,i]),U=u.useMemo(function(){return m(function(s){s.style[i]=null},v)},[i,v]);return w.createElement(Q,N({ref:n,addEndListener:se},h,{"aria-expanded":h.role?h.in:null,onEnter:V,onEntering:O,onEntered:P,onExit:k,onExiting:U}),function(s,T){return w.cloneElement(p,N({},T,{className:W(g,p.props.className,de[s],i==="width"&&"width")}))})});D.defaultProps=pe;const fe=D,R=e=>{const[n,t]=u.useState(!1),[a,r]=u.useState(),[o,v]=u.useState(),g=l=>{l&&(v(l.trim()),r(l.trim().split(/\s+/).length))},{textDescription:p="full text",showCopyPlainText:E}=e;return f("div",{className:"MarkdownCollapse bootstrap-4-backport",children:[f("p",{children:[n?c(L,{}):c(F,{}),f(x,{className:"highlight-link",onClick:()=>t(!n),"aria-controls":"collapse-text","aria-expanded":n,children:[n?"Hide":"View"," ",p," ",a?`(${a} words)`:""]})]}),E&&f("p",{children:[c(B,{className:"primary"}),f(x,{className:"highlight-link",onClick:()=>{o&&navigator.clipboard.writeText(o).then(()=>{b("Successfully copied to the clipboard")}).catch(l=>{console.error(l)})},children:["Copy ",p," to clipboard"]})]}),c(fe,{in:n,children:c("div",{id:"collapse-text",children:c(q,{...e,onMarkdownProcessingDone:g})})})]})};try{R.displayName="MarkdownCollapse",R.__docgenInfo={description:`Wraps a MarkdownSynapse in a Collapse area, with customizable text description.
Will pass down all properties to the MarkdownSynapse component, so this can be used in
the portal detail pages.`,displayName:"MarkdownCollapse",props:{textDescription:{defaultValue:null,description:"",name:"textDescription",required:!1,type:{name:"string"}},showCopyPlainText:{defaultValue:null,description:"",name:"showCopyPlainText",required:!1,type:{name:"boolean"}},ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},markdown:{defaultValue:null,description:"",name:"markdown",required:!1,type:{name:"string"}},renderInline:{defaultValue:null,description:"",name:"renderInline",required:!1,type:{name:"boolean"}},objectType:{defaultValue:null,description:"",name:"objectType",required:!1,type:{name:"enum",value:[{value:'"ENTITY"'},{value:'"ENTITY_CONTAINER"'},{value:'"PRINCIPAL"'},{value:'"ACTIVITY"'},{value:'"EVALUATION"'},{value:'"SUBMISSION"'},{value:'"EVALUATION_SUBMISSIONS"'},{value:'"FILE"'},{value:'"MESSAGE"'},{value:'"WIKI"'},{value:'"FAVORITE"'},{value:'"ACCESS_REQUIREMENT"'},{value:'"ACCESS_APPROVAL"'},{value:'"TEAM"'},{value:'"TABLE"'},{value:'"ACCESS_CONTROL_LIST"'},{value:'"PROJECT_SETTING"'},{value:'"VERIFICATION_SUBMISSION"'},{value:'"CERTIFIED_USER_PASSING_RECORD"'},{value:'"FORUM"'},{value:'"THREAD"'},{value:'"REPLY"'},{value:'"FORM_GROUP"'},{value:'"FORM_DATA"'},{value:'"ENTITY_VIEW"'},{value:'"USER_PROFILE"'},{value:'"DATA_ACCESS_REQUEST"'},{value:'"DATA_ACCESS_SUBMISSION"'},{value:'"DATA_ACCESS_SUBMISSION_STATUS"'},{value:'"MEMBERSHIP_INVITATION"'}]}},loadingSkeletonRowCount:{defaultValue:null,description:"",name:"loadingSkeletonRowCount",required:!1,type:{name:"number"}},onMarkdownProcessingDone:{defaultValue:null,description:"",name:"onMarkdownProcessingDone",required:!1,type:{name:"((textContent: string | null) => void)"}}}}}catch{}export{R as M};
//# sourceMappingURL=MarkdownCollapse-a7def7c1.js.map
