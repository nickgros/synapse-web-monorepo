import{j as k,F as ht,a as ct}from"./jsx-runtime-095bf462.js";import{P as o}from"./index-58d3fd43.js";import{r as we}from"./index-8db94870.js";import{cB as pt}from"./SynapseClient-c43c6534.js";import{U as gt}from"./UserOrTeamBadge-455d1308.js";import"./_commonjsHelpers-042e6b4d.js";import"./SynapseConstants-1ebc8be6.js";import"./getEndpoint-ac94413e.js";import"./inheritsLoose-c82a83d4.js";import"./index-8ce4a492.js";import"./extends-98964cd2.js";import"./Link-50e57cb4.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./styled-2cba4329.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-29d231ba.js";import"./Typography-b4a6e0b5.js";import"./extendSxProp-a6a93bb0.js";import"./TransitionGroupContext-53ae1513.js";import"./useForkRef-2674f3de.js";import"./Button-5637ed55.js";import"./utils-8d96ae5c.js";import"./useTheme-d9b5c73e.js";import"./Alert-e578e9d5.js";import"./createWithBsPrefix-0fdadc7a.js";import"./isArray-5e3f9107.js";import"./dayjs.min-8d4ef725.js";import"./hoist-non-react-statics.cjs-775f1375.js";import"./inputBaseClasses-564a6ee4.js";import"./Fade-2249b304.js";import"./IconSvg-5a64efdf.js";import"./SvgIcon-bc070951.js";import"./Tooltip-b11baf92.js";import"./ownerDocument-613eb639.js";import"./useEnhancedEffect-c45cae33.js";import"./isHostComponent-73d6e646.js";import"./useControlled-be22aa93.js";import"./useEventCallback-65e61675.js";import"./createSvgIcon-02cd1a2a.js";import"./ErrorOutlined-fccff164.js";import"./InfoOutlined-d944994d.js";import"./Clear-398befb5.js";import"./UserCard-6a6e23dc.js";import"./SkeletonTable-548d1d1b.js";import"./times-7d6556a7.js";import"./_baseTimes-8cccc40f.js";import"./isSymbol-7c514724.js";import"./Skeleton-cbf43066.js";import"./emotion-react.browser.esm-9ef79d4e.js";import"./ToastMessage-6e66d93f.js";import"./FullWidthAlert-51eedfbf.js";import"./TransitionGroup-5e0fc2af.js";import"./assertThisInitialized-081f9914.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./Popover-0894bcd3.js";import"./Modal-cf7a81a7.js";import"./Backdrop-0451e96c.js";import"./getScrollbarSize-ac846fe6.js";import"./ownerWindow-698471fc.js";import"./createChainedFunction-0bab83cf.js";import"./Paper-16fb121c.js";import"./Box-fe8ef83e.js";var I={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ce=60103,pe=60106,U=60107,W=60108,B=60114,_=60109,F=60110,j=60112,q=60113,He=60120,z=60115,Y=60116,Ue=60121,We=60122,Be=60117,_e=60129,Fe=60131;if(typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;ce=b("react.element"),pe=b("react.portal"),U=b("react.fragment"),W=b("react.strict_mode"),B=b("react.profiler"),_=b("react.provider"),F=b("react.context"),j=b("react.forward_ref"),q=b("react.suspense"),He=b("react.suspense_list"),z=b("react.memo"),Y=b("react.lazy"),Ue=b("react.block"),We=b("react.server.block"),Be=b("react.fundamental"),_e=b("react.debug_trace_mode"),Fe=b("react.legacy_hidden")}function M(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case ce:switch(e=e.type,e){case U:case B:case W:case q:case He:return e;default:switch(e=e&&e.$$typeof,e){case F:case j:case Y:case z:case _:return e;default:return s}}case pe:return s}}}var ft=_,mt=ce,It=j,yt=U,vt=Y,wt=z,St=pe,bt=B,Ht=W,xt=q;I.ContextConsumer=F;I.ContextProvider=ft;I.Element=mt;I.ForwardRef=It;I.Fragment=yt;I.Lazy=vt;I.Memo=wt;I.Portal=St;I.Profiler=bt;I.StrictMode=Ht;I.Suspense=xt;I.isAsyncMode=function(){return!1};I.isConcurrentMode=function(){return!1};I.isContextConsumer=function(e){return M(e)===F};I.isContextProvider=function(e){return M(e)===_};I.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ce};I.isForwardRef=function(e){return M(e)===j};I.isFragment=function(e){return M(e)===U};I.isLazy=function(e){return M(e)===Y};I.isMemo=function(e){return M(e)===z};I.isPortal=function(e){return M(e)===pe};I.isProfiler=function(e){return M(e)===B};I.isStrictMode=function(e){return M(e)===W};I.isSuspense=function(e){return M(e)===q};I.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===U||e===B||e===_e||e===W||e===q||e===He||e===Fe||typeof e=="object"&&e!==null&&(e.$$typeof===Y||e.$$typeof===z||e.$$typeof===_||e.$$typeof===F||e.$$typeof===j||e.$$typeof===Be||e.$$typeof===Ue||e[0]===We)};I.typeOf=M;function Me(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Ae(e,s){return(!s||e!=="hidden")&&e!=="visible"&&e!=="clip"}function ye(e,s){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Ae(n.overflowY,s)||Ae(n.overflowX,s)||function(t){var u=function(d){if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}}(t);return!!u&&(u.clientHeight<t.scrollHeight||u.clientWidth<t.scrollWidth)}(e)}return!1}function re(e,s,n,t,u,d,h,c){return d<e&&h>s||d>e&&h<s?0:d<=e&&c<=n||h>=s&&c>=n?d-e-t:h>s&&c<n||d<e&&c>n?h-s+u:0}var Ct=function(e,s){var n=window,t=s.scrollMode,u=s.block,d=s.inline,h=s.boundary,c=s.skipOverflowHiddenElements,D=typeof h=="function"?h:function(dt){return dt!==h};if(!Me(e))throw new TypeError("Invalid target");for(var y,H,i=document.scrollingElement||document.documentElement,r=[],l=e;Me(l)&&D(l);){if((l=(H=(y=l).parentElement)==null?y.getRootNode().host||null:H)===i){r.push(l);break}l!=null&&l===document.body&&ye(l)&&!ye(document.documentElement)||l!=null&&ye(l,c)&&r.push(l)}for(var a=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,f=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),S=g.height,v=g.width,E=g.top,O=g.right,N=g.bottom,V=g.left,x=u==="start"||u==="nearest"?E:u==="end"?N:E+S/2,C=d==="center"?V+v/2:d==="end"?O:V,ge=[],fe=0;fe<r.length;fe++){var w=r[fe],T=w.getBoundingClientRect(),X=T.height,Q=T.width,Z=T.top,me=T.right,Ie=T.bottom,G=T.left;if(t==="if-needed"&&E>=0&&V>=0&&N<=p&&O<=a&&E>=Z&&N<=Ie&&V>=G&&O<=me)return ge;var J=getComputedStyle(w),ee=parseInt(J.borderLeftWidth,10),te=parseInt(J.borderTopWidth,10),ne=parseInt(J.borderRightWidth,10),ie=parseInt(J.borderBottomWidth,10),R=0,$=0,se="offsetWidth"in w?w.offsetWidth-w.clientWidth-ee-ne:0,oe="offsetHeight"in w?w.offsetHeight-w.clientHeight-te-ie:0,Ce="offsetWidth"in w?w.offsetWidth===0?0:Q/w.offsetWidth:0,Ee="offsetHeight"in w?w.offsetHeight===0?0:X/w.offsetHeight:0;if(i===w)R=u==="start"?x:u==="end"?x-p:u==="nearest"?re(f,f+p,p,te,ie,f+x,f+x+S,S):x-p/2,$=d==="start"?C:d==="center"?C-a/2:d==="end"?C-a:re(m,m+a,a,ee,ne,m+C,m+C+v,v),R=Math.max(0,R+f),$=Math.max(0,$+m);else{R=u==="start"?x-Z-te:u==="end"?x-Ie+ie+oe:u==="nearest"?re(Z,Ie,X,te,ie+oe,x,x+S,S):x-(Z+X/2)+oe/2,$=d==="start"?C-G-ee:d==="center"?C-(G+Q/2)+se/2:d==="end"?C-me+ne+se:re(G,me,Q,ee,ne+se,C,C+v,v);var De=w.scrollLeft,Oe=w.scrollTop;x+=Oe-(R=Math.max(0,Math.min(Oe+R/Ee,w.scrollHeight-X/Ee+oe))),C+=De-($=Math.max(0,Math.min(De+$/Ce,w.scrollWidth-Q/Ce+se)))}ge.push({el:w,top:R,left:$})}return ge},he=function(){return he=Object.assign||function(s){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(s[d]=n[d])}return s},he.apply(this,arguments)};let Et=0;function Pe(e){return typeof e=="function"?e:P}function P(){}function je(e,s){if(!e)return;Ct(e,{boundary:s,block:"nearest",scrollMode:"if-needed"}).forEach(t=>{let{el:u,top:d,left:h}=t;u.scrollTop=d,u.scrollLeft=h})}function Ne(e,s,n){return e===s||s instanceof n.Node&&e.contains&&e.contains(s)}function xe(e,s){let n;function t(){n&&clearTimeout(n)}function u(){for(var d=arguments.length,h=new Array(d),c=0;c<d;c++)h[c]=arguments[c];t(),n=setTimeout(()=>{n=null,e(...h)},s)}return u.cancel=t,u}function A(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return function(t){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return s.some(c=>(c&&c(t,...d),t.preventDownshiftDefault||t.hasOwnProperty("nativeEvent")&&t.nativeEvent.preventDownshiftDefault))}}function Re(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t=>{s.forEach(u=>{typeof u=="function"?u(t):u&&(u.current=t)})}}function Dt(){return String(Et++)}function qe(e){let{isOpen:s,resultCount:n,previousResultCount:t}=e;return s?n?n!==t?`${n} result${n===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function $e(e,s){return e=Array.isArray(e)?e[0]:e,!e&&s?s:e}function Ot(e){return typeof e.type=="string"}function Mt(e){return e.props}const At=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function le(e){e===void 0&&(e={});const s={};return At.forEach(n=>{e.hasOwnProperty(n)&&(s[n]=e[n])}),s}function Pt(e,s){return Object.keys(e).reduce((n,t)=>(n[t]=Se(s,t)?s[t]:e[t],n),{})}function Se(e,s){return e[s]!==void 0}function Ve(e){const{key:s,keyCode:n}=e;return n>=37&&n<=40&&s.indexOf("Arrow")!==0?`Arrow${s}`:s}function ve(e,s,n,t,u){if(u===void 0&&(u=!0),n===0)return-1;const d=n-1;(typeof s!="number"||s<0||s>=n)&&(s=e>0?-1:d+1);let h=s+e;h<0?h=u?d:0:h>d&&(h=u?0:d);const c=K(e,h,n,t,u);return c===-1?s>=n?-1:s:c}function K(e,s,n,t,u){const d=t(s);if(!d||!d.hasAttribute("disabled"))return s;if(e>0){for(let h=s+1;h<n;h++)if(!t(h).hasAttribute("disabled"))return h}else for(let h=s-1;h>=0;h--)if(!t(h).hasAttribute("disabled"))return h;return u?e>0?K(1,0,n,t,!1):K(-1,n-1,n,t,!1):-1}function Te(e,s,n,t){return t===void 0&&(t=!0),s.some(u=>u&&(Ne(u,e,n)||t&&Ne(u,n.document.activeElement,n)))}const Nt=xe(e=>{Ye(e).textContent=""},500);function ze(e,s){const n=Ye(s);e&&(n.textContent=e,Nt(s))}function Ye(e){e===void 0&&(e=document);let s=e.getElementById("a11y-status-message");return s||(s=e.createElement("div"),s.setAttribute("id","a11y-status-message"),s.setAttribute("role","status"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-relevant","additions text"),Object.assign(s.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(s),s)}const Xe=0,Qe=1,Ze=2,ae=3,de=4,Ge=5,Je=6,et=7,tt=8,nt=9,it=10,st=11,ot=12,rt=13,lt=14,ut=15,at=16;var Rt=Object.freeze({__proto__:null,unknown:Xe,mouseUp:Qe,itemMouseEnter:Ze,keyDownArrowUp:ae,keyDownArrowDown:de,keyDownEscape:Ge,keyDownEnter:Je,keyDownHome:et,keyDownEnd:tt,clickItem:nt,blurInput:it,changeInput:st,keyDownSpaceButton:ot,clickButton:rt,blurButton:lt,controlledPropUpdatedSelectedItem:ut,touchEnd:at});const $t=(()=>{class e extends we.Component{constructor(n){var t;super(n),t=this,this.id=this.props.id||`downshift-${Dt()}`,this.menuId=this.props.menuId||`${this.id}-menu`,this.labelId=this.props.labelId||`${this.id}-label`,this.inputId=this.props.inputId||`${this.id}-input`,this.getItemId=this.props.getItemId||(i=>`${this.id}-item-${i}`),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.timeoutIds=[],this.internalSetTimeout=(i,r)=>{const l=setTimeout(()=>{this.timeoutIds=this.timeoutIds.filter(a=>a!==l),i()},r);this.timeoutIds.push(l)},this.setItemCount=i=>{this.itemCount=i},this.unsetItemCount=()=>{this.itemCount=null},this.setHighlightedIndex=function(i,r){i===void 0&&(i=t.props.defaultHighlightedIndex),r===void 0&&(r={}),r=le(r),t.internalSetState({highlightedIndex:i,...r})},this.clearSelection=i=>{this.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:this.props.defaultHighlightedIndex,isOpen:this.props.defaultIsOpen},i)},this.selectItem=(i,r,l)=>{r=le(r),this.internalSetState({isOpen:this.props.defaultIsOpen,highlightedIndex:this.props.defaultHighlightedIndex,selectedItem:i,inputValue:this.props.itemToString(i),...r},l)},this.selectItemAtIndex=(i,r,l)=>{const a=this.items[i];a!=null&&this.selectItem(a,r,l)},this.selectHighlightedItem=(i,r)=>this.selectItemAtIndex(this.getState().highlightedIndex,i,r),this.internalSetState=(i,r)=>{let l,a;const p={},m=typeof i=="function";return!m&&i.hasOwnProperty("inputValue")&&this.props.onInputValueChange(i.inputValue,{...this.getStateAndHelpers(),...i}),this.setState(f=>{f=this.getState(f);let g=m?i(f):i;g=this.props.stateReducer(f,g),l=g.hasOwnProperty("selectedItem");const S={};return l&&g.selectedItem!==f.selectedItem&&(a=g.selectedItem),g.type=g.type||Xe,Object.keys(g).forEach(v=>{f[v]!==g[v]&&(p[v]=g[v]),v!=="type"&&(g[v],Se(this.props,v)||(S[v]=g[v]))}),m&&g.hasOwnProperty("inputValue")&&this.props.onInputValueChange(g.inputValue,{...this.getStateAndHelpers(),...g}),S},()=>{Pe(r)(),Object.keys(p).length>1&&this.props.onStateChange(p,this.getStateAndHelpers()),l&&this.props.onSelect(i.selectedItem,this.getStateAndHelpers()),a!==void 0&&this.props.onChange(a,this.getStateAndHelpers()),this.props.onUserAction(p,this.getStateAndHelpers())})},this.rootRef=i=>this._rootNode=i,this.getRootProps=function(i,r){let{refKey:l="ref",ref:a,...p}=i===void 0?{}:i,{suppressRefError:m=!1}=r===void 0?{}:r;t.getRootProps.called=!0,t.getRootProps.refKey=l,t.getRootProps.suppressRefError=m;const{isOpen:f}=t.getState();return{[l]:Re(a,t.rootRef),role:"combobox","aria-expanded":f,"aria-haspopup":"listbox","aria-owns":f?t.menuId:null,"aria-labelledby":t.labelId,...p}},this.keyDownHandlers={ArrowDown(i){if(i.preventDefault(),this.getState().isOpen){const r=i.shiftKey?5:1;this.moveHighlightedIndex(r,{type:de})}else this.internalSetState({isOpen:!0,type:de},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ve(1,l,r,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(a,{type:de})}})},ArrowUp(i){if(i.preventDefault(),this.getState().isOpen){const r=i.shiftKey?-5:-1;this.moveHighlightedIndex(r,{type:ae})}else this.internalSetState({isOpen:!0,type:ae},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ve(-1,l,r,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(a,{type:ae})}})},Enter(i){if(i.which===229)return;const{isOpen:r,highlightedIndex:l}=this.getState();if(r&&l!=null){i.preventDefault();const a=this.items[l],p=this.getItemNodeFromIndex(l);if(a==null||p&&p.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Je})}},Escape(i){i.preventDefault(),this.reset({type:Ge,...!this.state.isOpen&&{selectedItem:null,inputValue:""}})}},this.buttonKeyDownHandlers={...this.keyDownHandlers," "(i){i.preventDefault(),this.toggleMenu({type:ot})}},this.inputKeyDownHandlers={...this.keyDownHandlers,Home(i){const{isOpen:r}=this.getState();if(!r)return;i.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=K(1,0,l,p=>this.getItemNodeFromIndex(p),!1);this.setHighlightedIndex(a,{type:et})},End(i){const{isOpen:r}=this.getState();if(!r)return;i.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=K(-1,l-1,l,p=>this.getItemNodeFromIndex(p),!1);this.setHighlightedIndex(a,{type:tt})}},this.getToggleButtonProps=function(i){let{onClick:r,onPress:l,onKeyDown:a,onKeyUp:p,onBlur:m,...f}=i===void 0?{}:i;const{isOpen:g}=t.getState(),S={onClick:A(r,t.buttonHandleClick),onKeyDown:A(a,t.buttonHandleKeyDown),onKeyUp:A(p,t.buttonHandleKeyUp),onBlur:A(m,t.buttonHandleBlur)},v=f.disabled?{}:S;return{type:"button",role:"button","aria-label":g?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,...v,...f}},this.buttonHandleKeyUp=i=>{i.preventDefault()},this.buttonHandleKeyDown=i=>{const r=Ve(i);this.buttonKeyDownHandlers[r]&&this.buttonKeyDownHandlers[r].call(this,i)},this.buttonHandleClick=i=>{i.preventDefault(),this.props.environment.document.activeElement===this.props.environment.document.body&&i.target.focus(),this.internalSetTimeout(()=>this.toggleMenu({type:rt}))},this.buttonHandleBlur=i=>{const r=i.target;this.internalSetTimeout(()=>{!this.isMouseDown&&(this.props.environment.document.activeElement==null||this.props.environment.document.activeElement.id!==this.inputId)&&this.props.environment.document.activeElement!==r&&this.reset({type:lt})})},this.getLabelProps=i=>({htmlFor:this.inputId,id:this.labelId,...i}),this.getInputProps=function(i){let{onKeyDown:r,onBlur:l,onChange:a,onInput:p,onChangeText:m,...f}=i===void 0?{}:i,g,S={};g="onChange";const{inputValue:v,isOpen:E,highlightedIndex:O}=t.getState();return f.disabled||(S={[g]:A(a,p,t.inputHandleChange),onKeyDown:A(r,t.inputHandleKeyDown),onBlur:A(l,t.inputHandleBlur)}),{"aria-autocomplete":"list","aria-activedescendant":E&&typeof O=="number"&&O>=0?t.getItemId(O):null,"aria-controls":E?t.menuId:null,"aria-labelledby":t.labelId,autoComplete:"off",value:v,id:t.inputId,...S,...f}},this.inputHandleKeyDown=i=>{const r=Ve(i);r&&this.inputKeyDownHandlers[r]&&this.inputKeyDownHandlers[r].call(this,i)},this.inputHandleChange=i=>{this.internalSetState({type:st,isOpen:!0,inputValue:i.target.value,highlightedIndex:this.props.defaultHighlightedIndex})},this.inputHandleBlur=()=>{this.internalSetTimeout(()=>{const i=this.props.environment.document&&!!this.props.environment.document.activeElement&&!!this.props.environment.document.activeElement.dataset&&this.props.environment.document.activeElement.dataset.toggle&&this._rootNode&&this._rootNode.contains(this.props.environment.document.activeElement);!this.isMouseDown&&!i&&this.reset({type:it})})},this.menuRef=i=>{this._menuNode=i},this.getMenuProps=function(i,r){let{refKey:l="ref",ref:a,...p}=i===void 0?{}:i,{suppressRefError:m=!1}=r===void 0?{}:r;return t.getMenuProps.called=!0,t.getMenuProps.refKey=l,t.getMenuProps.suppressRefError=m,{[l]:Re(a,t.menuRef),role:"listbox","aria-labelledby":p&&p["aria-label"]?null:t.labelId,id:t.menuId,...p}},this.getItemProps=function(i){let{onMouseMove:r,onMouseDown:l,onClick:a,onPress:p,index:m,item:f=void 0,...g}=i===void 0?{}:i;m===void 0?(t.items.push(f),m=t.items.indexOf(f)):t.items[m]=f;const S="onClick",v=a,E={onMouseMove:A(r,()=>{m!==t.getState().highlightedIndex&&(t.setHighlightedIndex(m,{type:Ze}),t.avoidScrolling=!0,t.internalSetTimeout(()=>t.avoidScrolling=!1,250))}),onMouseDown:A(l,N=>{N.preventDefault()}),[S]:A(v,()=>{t.selectItemAtIndex(m,{type:nt})})},O=g.disabled?{onMouseDown:E.onMouseDown}:E;return{id:t.getItemId(m),role:"option","aria-selected":t.getState().highlightedIndex===m,...O,...g}},this.clearItems=()=>{this.items=[]},this.reset=function(i,r){i===void 0&&(i={}),i=le(i),t.internalSetState(l=>{let{selectedItem:a}=l;return{isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,inputValue:t.props.itemToString(a),...i}},r)},this.toggleMenu=function(i,r){i===void 0&&(i={}),i=le(i),t.internalSetState(l=>{let{isOpen:a}=l;return{isOpen:!a,...a&&{highlightedIndex:t.props.defaultHighlightedIndex},...i}},()=>{const{isOpen:l,highlightedIndex:a}=t.getState();l&&t.getItemCount()>0&&typeof a=="number"&&t.setHighlightedIndex(a,i),Pe(r)()})},this.openMenu=i=>{this.internalSetState({isOpen:!0},i)},this.closeMenu=i=>{this.internalSetState({isOpen:!1},i)},this.updateStatus=xe(()=>{const i=this.getState(),r=this.items[i.highlightedIndex],l=this.getItemCount(),a=this.props.getA11yStatusMessage({itemToString:this.props.itemToString,previousResultCount:this.previousResultCount,resultCount:l,highlightedItem:r,...i});this.previousResultCount=l,ze(a,this.props.environment.document)},200);const{defaultHighlightedIndex:u,initialHighlightedIndex:d=u,defaultIsOpen:h,initialIsOpen:c=h,initialInputValue:D="",initialSelectedItem:y=null}=this.props,H=this.getState({highlightedIndex:d,isOpen:c,inputValue:D,selectedItem:y});H.selectedItem!=null&&this.props.initialInputValue===void 0&&(H.inputValue=this.props.itemToString(H.selectedItem)),this.state=H}internalClearTimeouts(){this.timeoutIds.forEach(n=>{clearTimeout(n)}),this.timeoutIds=[]}getState(n){return n===void 0&&(n=this.state),Pt(n,this.props)}getItemCount(){let n=this.items.length;return this.itemCount!=null?n=this.itemCount:this.props.itemCount!==void 0&&(n=this.props.itemCount),n}getItemNodeFromIndex(n){return this.props.environment.document.getElementById(this.getItemId(n))}scrollHighlightedItemIntoView(){{const n=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(n,this._menuNode)}}moveHighlightedIndex(n,t){const u=this.getItemCount(),{highlightedIndex:d}=this.getState();if(u>0){const h=ve(n,d,u,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(h,t)}}getStateAndHelpers(){const{highlightedIndex:n,inputValue:t,selectedItem:u,isOpen:d}=this.getState(),{itemToString:h}=this.props,{id:c}=this,{getRootProps:D,getToggleButtonProps:y,getLabelProps:H,getMenuProps:i,getInputProps:r,getItemProps:l,openMenu:a,closeMenu:p,toggleMenu:m,selectItem:f,selectItemAtIndex:g,selectHighlightedItem:S,setHighlightedIndex:v,clearSelection:E,clearItems:O,reset:N,setItemCount:V,unsetItemCount:x,internalSetState:C}=this;return{getRootProps:D,getToggleButtonProps:y,getLabelProps:H,getMenuProps:i,getInputProps:r,getItemProps:l,reset:N,openMenu:a,closeMenu:p,toggleMenu:m,selectItem:f,selectItemAtIndex:g,selectHighlightedItem:S,setHighlightedIndex:v,clearSelection:E,clearItems:O,setItemCount:V,unsetItemCount:x,setState:C,itemToString:h,id:c,highlightedIndex:n,inputValue:t,isOpen:d,selectedItem:u}}componentDidMount(){{const n=()=>{this.isMouseDown=!0},t=D=>{this.isMouseDown=!1,!Te(D.target,[this._rootNode,this._menuNode],this.props.environment)&&this.getState().isOpen&&this.reset({type:Qe},()=>this.props.onOuterClick(this.getStateAndHelpers()))},u=()=>{this.isTouchMove=!1},d=()=>{this.isTouchMove=!0},h=D=>{const y=Te(D.target,[this._rootNode,this._menuNode],this.props.environment,!1);!this.isTouchMove&&!y&&this.getState().isOpen&&this.reset({type:at},()=>this.props.onOuterClick(this.getStateAndHelpers()))},{environment:c}=this.props;c.addEventListener("mousedown",n),c.addEventListener("mouseup",t),c.addEventListener("touchstart",u),c.addEventListener("touchmove",d),c.addEventListener("touchend",h),this.cleanup=()=>{this.internalClearTimeouts(),this.updateStatus.cancel(),c.removeEventListener("mousedown",n),c.removeEventListener("mouseup",t),c.removeEventListener("touchstart",u),c.removeEventListener("touchmove",d),c.removeEventListener("touchend",h)}}}shouldScroll(n,t){const{highlightedIndex:u}=this.props.highlightedIndex===void 0?this.getState():this.props,{highlightedIndex:d}=t.highlightedIndex===void 0?n:t;return u&&this.getState().isOpen&&!n.isOpen||u!==d}componentDidUpdate(n,t){Se(this.props,"selectedItem")&&this.props.selectedItemChanged(n.selectedItem,this.props.selectedItem)&&this.internalSetState({type:ut,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,n)&&this.scrollHighlightedItemIntoView(),this.updateStatus()}componentWillUnmount(){this.cleanup()}render(){const n=$e(this.props.children,P);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;const t=$e(n(this.getStateAndHelpers()));if(!t)return null;if(this.getRootProps.called||this.props.suppressRefError)return t;if(Ot(t))return we.cloneElement(t,this.getRootProps(Mt(t)))}}return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:qe,itemToString:s=>s==null?"":String(s),onStateChange:P,onInputValueChange:P,onUserAction:P,onChange:P,onSelect:P,onOuterClick:P,selectedItemChanged:(s,n)=>s!==n,environment:typeof window>"u"?{}:window,stateReducer:(s,n)=>n,suppressRefError:!1,scrollIntoView:je},e.stateChangeTypes=Rt,e})();var Vt=$t;function Tt(e,s){return s.changes}function kt(e){const{selectedItem:s,itemToString:n}=e;return s?`${n(s)} has been selected.`:""}xe((e,s)=>{ze(e(),s)},200);function Lt(e){return e?String(e):""}const L={itemToString:Lt,stateReducer:Tt,getA11ySelectionMessage:kt,scrollIntoView:je,circularNavigation:!1,environment:typeof window>"u"?{}:window};o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.func,o.string,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});function Kt(e){var s=e.isOpen,n=e.resultCount,t=e.previousResultCount;return s?n?n!==t?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}he(he({},L),{getA11yStatusMessage:Kt});o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.string,o.string,o.string,o.func,o.string,o.string,o.func,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});({...L});function Ut(e){const{removedSelectedItem:s,itemToString:n}=e;return`${n(s)} has been removed.`}o.array,o.array,o.array,o.func,o.func,o.func,o.number,o.number,o.number,o.func,o.func,o.string,o.string,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});L.itemToString,L.stateReducer,L.environment;const be=e=>{const{id:s,onSelectCallback:n,filterUserIds:t,typeFilter:u}=e,[d,h]=we.useState([]),c=async y=>{try{const H=await pt(y,u),i=t!=null&&t.length?H.children.filter(r=>!t.includes(r.ownerId)):H.children;h(i)}catch(H){console.log("onInputValueChange",H)}},D=y=>{n&&n(y)};return k(ht,{children:k(Vt,{onInputValueChange:y=>{c(y)},onChange:y=>D(y),itemToString:y=>y!=null&&y.name?y.name:"",children:({getInputProps:y,getMenuProps:H,getItemProps:i,isOpen:r,inputValue:l})=>ct("div",{className:"user-search-box",children:[k("input",{...y({className:"form-control",id:s,type:"search",role:"searchbox",placeholder:"Enter the name..."}),style:{marginBottom:"0"}}),k("ul",{...H(),className:r?"users-visible":"",role:"list",children:r?d.filter(a=>!l||`${a.firstName} ${a.lastName}`.includes(l)||a.userName.includes(l)).map((a,p)=>k("li",{...i({key:a.ownerId,index:p,item:a}),children:k(gt,{userGroupHeader:a,disableHref:!0,showFullName:!0})},`userSearchBox-${p}`)):null})]})})})};try{be.displayName="UserSearchBox",be.__docgenInfo={description:"",displayName:"UserSearchBox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},onSelectCallback:{defaultValue:null,description:"",name:"onSelectCallback",required:!1,type:{name:"((selected: UserGroupHeader) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterUserIds:{defaultValue:null,description:"",name:"filterUserIds",required:!1,type:{name:"string[]"}}}}}catch{}const Zn={title:"UI/UserSearchBox",component:be},ue={};var ke,Le,Ke;ue.parameters={...ue.parameters,docs:{...(ke=ue.parameters)==null?void 0:ke.docs,source:{originalSource:"{}",...(Ke=(Le=ue.parameters)==null?void 0:Le.docs)==null?void 0:Ke.source}}};const Gn=["Demo"];export{ue as Demo,Gn as __namedExportsOrder,Zn as default};
//# sourceMappingURL=UserSearchBox.stories-b1d1c4c0.js.map
